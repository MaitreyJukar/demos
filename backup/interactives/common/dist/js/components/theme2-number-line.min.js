!function(){MathInteractives.Common.Components.Theme2.Models.NumberLine=MathInteractives.Common.Player.Models.BaseInteractive.extend({defaults:function(){return{width:2,length:847,color:"#000000",textColor:"#000000",tickHeight:null,centerTickHeight:null,tickInterval:null,minValue:-10,maxValue:10,numberOfIntervals:20,ticksClickable:!0,partsClickable:!0,clickedRangeStartValue:null,clickedRangeEndValue:null,clickedTickValue:null,clickedRangeStartXCoordinate:null,clickedRangeEndXCoordinate:null,tickShape:"line",firstTickPointX:null,lastTickPointX:null,newEndPointY:null,newStartPointY:null,clickedRangeObject:null,animate:!1,displayWholeNumOnly:!1,denominator:null,toFixedDecimal:3,toFixedInteger:0,distanceBetweenTwoSticks:null,tickColor:null,integerTickColor:"#ffffff",tickWidth:2,tickLength:null,centerTickHeightBigger:!0,textPadding:null,textStyle:null,arrowWidth:null,hacDivId:null,tickHitAreaDimentions:{width:24,height:24},highlightData:{height:20,color:"red",opacity:1,highlightPath:!0,highlightHitArea:!1},textPaddingFromNumberLine:null,showTicks:!0,showLable:!0,triangleColor:null,showBaseLine:!0,showAlternateLableWhenOverlap:!1,showAlternateAlways:!1,skipTickCount:0,customArrowSize:!1,arrowHeight:null,leftArrowTickDistance:null,rightArrowTickDistance:null,showFractionFormatLabels:!1,addCommaInLabel:!1}},initialize:function(a){},changeNumberLine:function(a){a&&(this.set(a),this.trigger(MathInteractives.global.Theme2.NumberLine.Events.NUMBERLINE_VALUES_CHANGED))}})}(),function(){"use strict";var a=null;MathInteractives.Common.Components.Theme2.Views.NumberLine=MathInteractives.Common.Player.Views.Base.extend({manager:null,idPrefix:null,filePath:null,player:null,scope:null,tickPointsXCoordinateArray:null,tickPointsYCoordinateArray:null,tickNumbersArr:null,roundedTickNumbersArr:null,rangeStratValue:null,rangeEndValue:null,tickValue:null,disableNumberLine:!1,fadeInEffect:!1,xCoordinateOfZerothPoint:null,previousItem:null,tickCounter:null,initialize:function(){this.player=this.model.get("player"),this.filePath=this.player.getPath(),this.manager=this.player.getManager(),this.idPrefix=this.player.getIDPrefix(),this.accOn=this.isAccessible(),this.hacDivId=this.model.get("hacDivId"),this._isMobile=MathInteractives.Common.Utilities.Models.BrowserCheck.isMobile,this.tabName=this.model.get("tabName"),this._render(),this.model.off(a.Events.NUMBERLINE_VALUES_CHANGED).on(a.Events.NUMBERLINE_VALUES_CHANGED,$.proxy(this._renderNumberLine,this))},_render:function(){var a={idPrefix:this.idPrefix};this.$el.html(MathInteractives.Common.Components.templates.theme2NumberLine(a).trim());var b=new paper.PaperScope;b.setup(this.idPrefix+"number-line-canvas"),this.scope=b,this._renderNumberLine(),this.accOn&&(this.hacDivId=this.model.get("hacDivId"),this._loadCanvasAcc())},_renderNumberLine:function(){var b=this.model.get("animate");if(b===!0)return this.startPanning(),void(this.fadeInEffect=!0);var c=this.model,d=MathInteractives.Common.Utilities.Models.Utils,e=null,f=null,g=null,h=null,i=null,j=null,k=null,l=null,m=null,n=null,o=null,p=null,q=null,r=null,s=null,t=null,u=3,v=5,w=16,x=null,y=null,z=null,A=null,B=null,C=null,D=null,E=null,F=null,G=null,H=null,I=null,J=null,K=null,L=this,M=null,N=null,O=null,P=null,Q=null,R=null,S=null,T=null,U=null,V=null,W=null,X=null,Y=null,Z=null,$=null,_=null,aa=null,ba=null,ca=null,b=null,da=null,ea=null,fa=null,ga=.1,ha=null,ia=null,ja=null,ka=null,la=null,ma=null,na=17,oa=null,pa=null,qa=null,ra=null,sa=null,ta=null,ua=null,va=null,wa=null,xa=null,ya=null,za=null;x=c.get("minValue"),y=c.get("maxValue"),B=c.get("numberOfIntervals"),D=c.get("width"),C=c.get("length"),z=c.get("color"),A=c.get("textColor"),M=c.get("ticksClickable"),N=c.get("partsClickable"),O=c.get("tickShape"),P=c.get("displayWholeNumOnly"),Q=c.get("denominator"),R=c.get("toFixedDecimal"),ca=c.get("toFixedInteger"),V=c.get("distanceBetweenTwoSticks"),S=c.get("tickColor"),U=c.get("tickWidth"),X=c.get("centerTickHeightBigger"),Y=c.get("tickLength"),_=c.get("textPadding"),aa=c.get("textStyle"),da=c.get("clickedRangeStartXCoordinate"),ea=c.get("clickedRangeEndXCoordinate"),H=c.get("centerTickHeight"),la=c.get("arrowWidth"),oa=c.get("highlightData"),pa=c.get("tickHitAreaDimentions"),qa=c.get("showTicks"),ra=c.get("showLable"),sa=c.get("showBaseLine"),ta=c.get("showAlternateLableWhenOverlap"),ua=c.get("showAlternateAlways"),xa=c.get("customArrowSize"),ya=c.get("leftArrowTickDistance"),za=c.get("rightArrowTickDistance"),va=c.get("skipTickCount"),va++,c.set("skipTickCount",va),this.numberOfIntervals=B,null===ya&&(ya=a.LEFT_ARROWHEAD_DISTANCE_FROM_MIN_VALUE),null===za&&(za=a.RIGHT_ARROWHEAD_DISTANCE_FROM_MAX_VALUE),S||(S=z,c.set("tickColor",S)),T||(T=z,c.set("integerTickColor",T)),U||(U=D,c.set("tickWidth",U)),_&&(w=aa&&aa.fontSize?_+(aa.fontSize-12):_+1),c.set("textPadding",w),this.tickPointsXCoordinateArray=[],this.tickPointsYCoordinateArray=[],this.tickNumbersArr=[],this.roundedTickNumbersArr=[],this.scope.activate(),e=a.START_POINT_X_COORDINATE,g=a.START_POINT_Y_COORDINATE,h=a.END_POINT_Y_COORDINATE,f=C,fa=new this.scope.Layer,this.fadeInEffect===!0&&(fa.opacity=0),g===h&&(Z=null!==Y?Y/2:D+u,$=X===!0?Y?Z+2:D+v:Z,k=g-Z,l=g+Z,H?(s=g-H/2,t=g+H/2):(s=g-$,t=g+$),c.set("newStartPointY",k),c.set("newEndPointY",l)),G=null!==Y?Y:l-k,la?(f=e+C,ma=e+la-1,i=e+la+ya,j-=la+za,C=f-e-(ya+za+2*la)):(la=G-u,ma=e,i=e+ya,j-=za,C=f-e-(ya+za)),c.set("firstTickPointX",i);var Aa=new this.scope.Path.Line({from:[ma,g],to:[i,h],strokeColor:z,strokeWidth:D});sa===!1&&(Aa.opacity=0),p=i,q=l+w,c.set("textPaddingFromNumberLine",w),m=C/B,this.divisionWidth=m,n=B/2,r=(y-x)/B,c.set("tickInterval",r),o=x;var Ba,Ca,Da;for(this.ticksGroup=new this.scope.Group,this.partsHitAreaGroup=new this.scope.Group,this.ticksHitAreaGroup=new this.scope.Group,this.lineSegmentGroup=new this.scope.Group,this.textGroup=new this.scope.Group,this.highlightRangeGroup=new this.scope.Group,P===!0&&this._calculateInitailTicks(),ha=0;B>=ha;ha++)ua&&(ra=ha%va===0?!0:!1),ha===n?(O===a.LINE?qa&&(E=new this.scope.Path.Line({from:[i,s],to:[i,t],strokeColor:S,strokeWidth:U})):O===a.CIRCLE&&qa&&(E=new this.scope.Path.Circle(new this.scope.Point(i,g),G/2),E.fillColor=z),this.xCoordinateOfZerothPoint=i,F=new this.scope.PointText(new this.scope.Point(p,q)),F.justification="center",F.fillColor=A,A||(F.fillColor=z),aa&&(F.style=aa),P===!0?0===this.tickCounter&&(W=parseInt(o.toFixed(ca)),ba=Math.abs(parseInt(W,10)),0===ba&&(W=ba),ra&&(F.content=W),qa&&(E.strokeColor=T)):ra&&(F.content=+o.toFixed(R)),H||(H=t-s),c.set("centerTickHeight",H),I=G+5,J=H+7,pa&&(I=pa.width,J=pa.height),K=m-I,this.tickPointsYCoordinateArray.push(s)):(O===a.LINE?qa&&(E=new this.scope.Path.Line({from:[i,k],to:[i,l],strokeColor:S,strokeWidth:U})):O===a.CIRCLE&&qa&&(E=new this.scope.Path.Circle(new this.scope.Point(i,g),G/2),E.fillColor=z),F=new this.scope.PointText(new this.scope.Point(p,q)),F.justification="center",F.fillColor=A,A||(F.fillColor=z),aa&&(F.style=aa),P===!0?0===this.tickCounter&&(W=parseInt(o.toFixed(ca)),ba=Math.abs(parseInt(W,10)),0===ba&&(W=ba),ra&&(F.content=W),qa&&(E.strokeColor=T)):ra&&(F.content=+o.toFixed(R)),Y||(G=l-k),I=G+5,J=G+7,pa&&(I=pa.width,J=pa.height),K=m-I,this.tickPointsYCoordinateArray.push(k)),M&&(ha===n?(Ba=new this.scope.Path.Rectangle(i+(v-u)-I/2,g-J/2,I,J),Y&&(Ba=new this.scope.Path.Rectangle(i-I/2,g-J/2,I,J)),Ba.fillColor=new this.scope.Color(255,255,255,0)):(Ba=new this.scope.Path.Rectangle(i-I/2,g-J/2,I,J),Ba.fillColor=new this.scope.Color(255,255,255,0)),this.ticksHitAreaGroup.addChild(Ba)),B>ha&&(Ca=qa?new this.scope.Path.Line({from:[i,g],to:[i+m,h],strokeColor:z,strokeWidth:D}):new this.scope.Path.Line({from:[i,g],to:[i+m+U,h],strokeColor:z,strokeWidth:D}),sa===!1&&(Ca.opacity=0),N&&(oa&&(J=oa.height),ha===n?(Da=new this.scope.Path.Rectangle(i+1,g-J/2,m-2,J),Da.fillColor=new this.scope.Color(255,255,255,0)):(Da=new this.scope.Path.Rectangle(i+1,g-J/2,m-2,J),Da.fillColor=new this.scope.Color(255,255,255,0)),this.partsHitAreaGroup.addChild(Da))),this.tickNumbersArr.push(o),this.roundedTickNumbersArr.push(d.roundUpValue(o,R)),this.tickPointsXCoordinateArray.push(i),c.set("lastTickPointX",i),i+=m,p+=m,o=(o*Math.pow(10,8)+r*Math.pow(10,8))/Math.pow(10,8),P===!0&&(this.tickCounter++,this.tickCounter===Math.abs(Q)&&(this.tickCounter=0)),qa&&this.ticksGroup.addChild(E),this.textGroup.addChild(F),this.lineSegmentGroup.addChild(Ca),this.partsHitAreaGroup.bringToFront();this.ticksGroup.bringToFront(),this.ticksHitAreaGroup.bringToFront();var Ea=new this.scope.Path.Line({from:[i-m,g],to:[i-m+za,h],strokeColor:z,strokeWidth:D});if(sa===!1&&(Ea.opacity=0),wa=this._isLablesOverlapping(),wa===!0&ta===!0&&this._hideAlternateLables(),M===!0&&(this.setHighlightEffectForTicks(B,this.ticksHitAreaGroup,this.ticksGroup,z,oa),this.bindTickClick(B,this.ticksHitAreaGroup,this.ticksGroup)),N===!0&&(this.setHighlightEffectForParts(B,this.partsHitAreaGroup,this.lineSegmentGroup,D,z,oa),this.bindPartClick(B,this.partsHitAreaGroup,this.lineSegmentGroup)),xa===!0?this._drawCustomArrowHeadsAtNumberLineEnds(h,z,G,Aa,Ea):this._drawArrowHeadsAtNumberLineEnds(e,g,f,h,z,G,u),ja=this.scope.project.layers,ka=ja.length-2,this.fadeInEffect===!0)L.model.trigger(a.Events.FADEIN_START),ia=setInterval(function(){if(ga+=.1,ga=+ga.toFixed(1),fa.opacity=ga,L.scope.view.draw(),1===ga){for(clearInterval(ia);ka>=0;ka--)ja[ka].remove();L.scope.view.draw(),L.fadeInEffect=!1,L.model.trigger(a.Events.ANIMATION_COMPLETE)}L.model.trigger(a.Events.FADEIN_PROGRESS)},na);else for(;ka>=0;ka--)ja[ka].remove();this.loadedAcc&&this.accOn===!0&&this.canvasAcc.updatePaperItems(this.getPaperObjects(!0)),this.scope.view.draw()},_isLablesOverlapping:function(){for(var a=this.textGroup.children,b=this.lineSegmentGroup.children[0].bounds.width,c=0,d=a.length-2,e=!1,f=null,g=null;d>c;c++)if(f=a[c].bounds.width/2+a[c+1].bounds.width/2,g=b-f,3>g){e=!0;break}return e},_hideAlternateLables:function(){for(var a=this.model,b=this.textGroup.children,c=0,d=b.length,e=a.get("skipTickCount");d>c;c++)c%e!==0&&(b[c].opacity=0)},getNearestTicksDetails:function(a,b,c){var d={x:null,y:null,tickValue:null},e=this.tickPointsXCoordinateArray,f=this.tickPointsYCoordinateArray,g=this.tickNumbersArr,h=this.roundedTickNumbersArr,i=0,j=e.length,k=null,l=Math.pow(100,10),m=null;for("undefined"==typeof c&&(c=!0);j>i;i++)m=Math.abs(e[i]-a),l>m&&(l=m,k=i);return d.x=e[k],d.y=f[k],c===!0?d.tickValue=h[k]:d.tickValue=g[k],d},startPanning:function(){var b,c,d,e,f,g,h,i=this.ticksGroup,j=0,k=this.textGroup,l=this,m=17,n=15,o=null,p=this.model.get("maxValue"),q=this.model.get("minValue"),r=this.model.get("toFixedDecimal"),s=this.model.get("newStartPointY"),t=this.model.get("newEndPointY"),u=this.model.get("firstTickPointX"),v=this.model.get("lastTickPointX"),w=this.model.get("tickInterval"),x=this.model.get("tickColor"),y=this.model.get("textColor"),z=this.model.get("color"),A=this.model.get("tickWidth"),B=(this.model.get("textPadding"),this.model.get("textStyle")),f=this.model.get("clickedRangeObject"),C=this.model.get("textPaddingFromNumberLine");g=f.rangeStartXCoordinate,h=f.rangeEndXCoordinate,b=(g+h)/2,o=setInterval(function(){l.disableNumberLine=!0,b>l.xCoordinateOfZerothPoint?(i.position.x=l.ticksGroup.position.x-n,k.position.x=l.textGroup.position.x-n,b-=n,h-=n,g-=n,u>l.ticksGroup.children[0].position.x&&(l.ticksGroup.children[0].remove(),l.textGroup.children[0].remove(),j>0&&(c=new l.scope.Path.Line({from:[v,s],to:[v,t],strokeColor:x,strokeWidth:A}),p+=w,d=t+C,e=new l.scope.PointText(new l.scope.Point(v,d)),e.justification="center",e.fillColor=y,y||(e.fillColor=z),B&&(e.style=B),e.content=+p.toFixed(r),l.ticksGroup.addChild(c),l.textGroup.addChild(e)),j++),b<=l.xCoordinateOfZerothPoint&&(clearInterval(o),l.startZooming({rangeStartXCoordinate:g,rangeEndXCoordinate:h}))):b<l.xCoordinateOfZerothPoint&&(i.position.x=l.ticksGroup.position.x+n,k.position.x=l.textGroup.position.x+n,b+=n,h+=n,g+=n,v<l.ticksGroup.lastChild.position.x&&(l.ticksGroup.lastChild.remove(),l.textGroup.lastChild.remove(),j>0&&(c=new l.scope.Path.Line({from:[u,s],to:[u,t],strokeColor:x,strokeWidth:A}),q-=w,d=t+C,e=new l.scope.PointText(new l.scope.Point(u,d)),e.justification="center",e.fillColor=y,y||(e.fillColor=z),B&&(e.style=B),e.content=+q.toFixed(r),l.ticksGroup.appendBottom(c),l.textGroup.appendBottom(e)),j++),b>=l.xCoordinateOfZerothPoint&&(clearInterval(o),l.startZooming({rangeStartXCoordinate:g,rangeEndXCoordinate:h}))),l.scope.view.draw(),l.model.trigger(a.Events.ANIMATION_PROGRESS,{pan:!0,zoom:!1})},m)},startZooming:function(b){var c,d,e,f=this,g=f.getPaperScope(),h=f.ticksGroup.children,i=f.textGroup.children,j=f.model.get("firstTickPointX"),k=f.model.get("lastTickPointX"),l=[],m=[],n=[],o=[],p=15,q=15,r=b.rangeStartXCoordinate,s=b.rangeEndXCoordinate,t=(r+s)/2,u=0,v=17,w=setInterval(function(){for(l=[],m=[],n=[],o=[],c=0;c<h.length;c++)d=h[c],e=i[c],d.position.x>t?(l.push(d),m.push(e)):(n.push(d),o.push(e));if(q>0)for(r-=q,u=n.length,c=0;c<n.length;c++)d=n[c],e=o[c],d.position.x-=q*u,e.position.x-=q*u,j>=r&&(d.position.x=j,e.position.x=j,q=0),d.position.x<=j&&(d.remove(),e.remove()),u--,g.view.draw();if(p>0)for(s+=p,u=l.length-1,c=0;c<l.length;c++)d=l[c],e=m[c],d.position.x+=p*(c+1),e.position.x+=p*(c+1),s>=k&&(d.position.x=k,e.position.x=k,p=0),d.position.x>=k&&(d.remove(),e.remove()),u--,g.view.draw();0===p&&0===q&&(clearInterval(w),f.model.set("animate",!1),f._renderNumberLine(),f.removeNumberLineHover()),f.model.trigger(a.Events.ANIMATION_PROGRESS,{pan:!1,zoom:!0})},v);g.view.draw()},_calculateInitailTicks:function(){var a,b,c=this.model,d=c.get("minValue"),e=c.get("tickInterval"),f=Math.abs(c.get("denominator")),g=0;a=Math.ceil(d),d===parseInt(d)?this.tickCounter=0:(b=Math.abs(d)-Math.abs(a),g=Math.abs(Math.round(b/e)),this.tickCounter=f-g)},_drawArrowHeadsAtNumberLineEnds:function(b,c,d,e,f,g,h){var i,j,k,l,m,n,o=this.model,p=o.get("triangleColor");null===p&&(p=f),o.set("tickHeight",g),k=this.model.get("arrowWidth",k),k?(m=2*k/3,l=b+2*k/3,n=d-1-2*k/3):(m=g-h,l=b,n=d),i=new this.scope.Path.RegularPolygon(new this.scope.Point(l,c),a.NUMBER_OF_POLYGON_SIDES,m),i.fillColor=p,i.rotate(30),j=new this.scope.Path.RegularPolygon(new this.scope.Point(n,e),a.NUMBER_OF_POLYGON_SIDES,m),j.fillColor=p,j.rotate(-30)},_drawCustomArrowHeadsAtNumberLineEnds:function(a,b,c,d,e){var f,g,h,i,j=this.model,k=this.scope,l=j.get("arrowWidth",l),m=j.get("triangleColor"),n=j.get("arrowHeight");null===m&&(m=b),j.set("tickHeight",c),null===l&&(l=10),null===n&&(n=l),h=d.firstSegment.point.x,i=e.lastSegment.point.x,f=new k.Path,f.fillColor=m,f.add(new k.Point(h,a-l/2)),f.add(new k.Point(h,a+l/2)),f.add(new k.Point(h-n,a)),g=new k.Path,g.fillColor=m,g.add(new k.Point(i,a-l/2)),g.add(new k.Point(i,a+l/2)),g.add(new k.Point(i+n,a))},bindTickClick:function(a,b,c){var d,e,f,g,h,i,j=this;for(d=0;a>=d;d++)h=b.children[d],i=c.children[d],h.onClick=function(a){j.player.getModalPresent()!==!0&&j.disableNumberLine!==!0&&1===a.event.which&&(d=this.index,e=j.tickNumbersArr[d],f=j.tickPointsXCoordinateArray[d],g=j.tickPointsYCoordinateArray[d],j.setStartValue(e,f,g))}},unbindTickClick:function(a,b,c){var d,e,f,g=this,a=this.model.get("numberOfIntervals");for(d=0;a>=d;d++)e=g.ticksHitAreaGroup.children[d],f=g.ticksGroup.children[d],e.off("click")},bindPartClick:function(a,b,c){var d,e,f,g,h,i,j,k,l,m=this;for(d=0;a>d;d++)l=b.children[d],g=c.children[d],l.onClick=function(a){m.disableNumberLine!==!0&&1===a.event.which&&(m.stopReading(),d=this.index,e=m.tickNumbersArr[d],f=m.tickNumbersArr[d+1],h=m.tickPointsXCoordinateArray[d],j=m.tickPointsXCoordinateArray[d+1],k=m.tickPointsYCoordinateArray[d],i={rangeStartValue:e,rangeEndValue:f,rangeStartXCoordinate:h,rangeEndXCoordinate:j,yCoordinate:k},m.setRangeValues(i))}},unbindPartClick:function(){var a,b,c,d=this,e=this.model.get("numberOfIntervals");for(a=0;e>a;a++)c=d.partsHitAreaGroup.children[a],b=d.lineSegmentGroup.children[a],c.off("click")},setStartValue:function(b,c,d){this.tickValue=b,this.model.set("clickedTickValue",this.tickValue),this.model.trigger(a.Events.TICK_CLICK,{tickValue:this.tickValue,xCoordinateOfTick:c})},setRangeValues:function(b){this.rangeStratValue=b.rangeStartValue,this.rangeEndValue=b.rangeEndValue,this.model.set("clickedRangeObject",b),this.model.trigger(a.Events.RANGE_CLICK,{startValue:b.rangeStartValue,endValue:b.rangeEndValue,rangeStartXCoordinate:b.rangeStartXCoordinate,rangeEndXCoordinate:b.rangeEndXCoordinate,yCoordinate:b.yCoordinate})},setHighlightEffectForTicks:function(a,b,c,d,e){var f,g,h,i,e,j,k,l=this,m=$.support.touch;for(i=this.$("#"+this.idPrefix+"number-line-canvas"),e=e||{},f=0;a>=f;f++)g=b.children[f],j=function(a){l.player.getModalPresent()!==!0&&(f=this.index,h=c.children[f],l.disableNumberLine===!0?(h.fillColor=d,m||i.css("cursor","pointer")):(e.highlightPath?h.fillColor="red":(this.fillColor=e.color,this.opacity=e.opacity),m||i.css("cursor","pointer")))},m?g.onMouseDown=j:g.onMouseEnter=j,k=function(a){f=this.index,h=c.children[f],h.fillColor=d,this.fillColor=new l.scope.Color(255,255,255,0),m||i.css("cursor","default")},m?(g.onMouseUp=k,g.onMouseDrag=k):g.onMouseLeave=k},unsetHighlightEffectForTicks:function(a){var b,c,d=this,a=(this.$("#"+this.idPrefix+"number-line-canvas"),this.model.get("numberOfIntervals"));for(b=0;a>=b;b++)c=d.ticksHitAreaGroup.children[b],c.off("mouseenter"),c.trigger("mouseleave"),c.off("mouseleave")},setHighlightEffectForParts:function(a,b,c,d,e,f){var g,h,i,j,f,k,l,m=this,n=this._isMobile;for(f=f||{},j=this.$("#"+this.idPrefix+"number-line-canvas"),h=0;a>h;h++)g=b.children[h],k=function(a){m.player.getModalPresent()!==!0&&(h=this.index,i=c.children[h],m.disableNumberLine===!0?(i.strokeColor=e,n||j.css("cursor","default")):(f.highlightPath?i.strokeColor="red":(this.fillColor=f.color,this.opacity=f.opacity),n||j.css("cursor","pointer")))},l=function(a){h=this.index,i=c.children[h],i.strokeColor=e,this.fillColor=new m.scope.Color(255,255,255,0),n||j.css("cursor","default"),m.scope.view.draw()},g.onMouseLeave=l,g.onMouseEnter=k,g.onMouseDrag=l,g.onMouseDown=k,g.onMouseUp=l},unsetHighlightEffectForParts:function(){var a,b,c,d=this,e=this.model.get("numberOfIntervals");for(c=this.$("#"+this.idPrefix+"number-line-canvas"),b=0;e>b;b++)a=d.partsHitAreaGroup.children[b],a.off("mouseenter"),a.trigger("mouseleave"),a.off("mouseleave")},removeNumberLineHover:function(){var a,b=this.partsHitAreaGroup,c=this.ticksHitAreaGroup;if(c.children.length)for(a=this.numberOfIntervals;a>=0;a--)c.children[a].trigger("mouseleave");if(b.children.length)for(a=this.numberOfIntervals-1;a>=0;a--)b.children[a].trigger("mouseleave");this.scope.view.draw()},enableDisableNumberLine:function(a,b,c){if((null===b||void 0===b)&&(b=!0),(null===c||void 0===c)&&(c=!0),a){var d=this.model.get("numberOfIntervals"),e=this.model.get("lineWidth"),f=this.model.get("lineColor");c&&(this.setHighlightEffectForParts(d,this.partsHitAreaGroup,this.lineSegmentGroup,e,f),this.bindPartClick(d,this.partsHitAreaGroup,this.lineSegmentGroup)),b&&(this.setHighlightEffectForTicks(d,this.ticksHitAreaGroup,this.ticksGroup,f),this.bindTickClick(d,this.ticksHitAreaGroup,this.ticksGroup))}else c&&(this.unsetHighlightEffectForParts(),this.unbindPartClick()),b&&(this.unsetHighlightEffectForTicks(),this.unbindTickClick())},getPaperObjects:function(a){var b,c,d,e,f,g=this.model,h=[];if(e=g.get("ticksClickable"),f=g.get("partsClickable"),a){if(e)for(c=this.ticksHitAreaGroup.children,d=0;d<c.length;d++)h.push(c[d]);if(f)for(b=this.partsHitAreaGroup.children,d=0;d<b.length;d++)h.push(b[d])}return h},createNumberLineHacDiv:function(a){this.hacDivId=a},_loadCanvasAcc:function(){this._initAccessibility(),this._bindAccessibilityListeners()},_initAccessibility:function(){var a;a={canvasHolderID:this.idPrefix+this.hacDivId,paperItems:[],paperScope:this.scope,manager:this.manager,player:this.player},this.canvasAcc=MathInteractives.global.CanvasAcc.intializeCanvasAcc(a),this.canvasAcc.updatePaperItems(this.getPaperObjects(!0)),this.loadedAcc=!0},_bindAccessibilityListeners:function(){var b=MathInteractives.Common.Player.Models.CanvasAcc.CANVAS_KEY_EVENTS,c=MathInteractives.Common.Player.Models.CanvasAcc.CANVAS_EVENTS,d=$("#"+this.idPrefix+this.hacDivId),e=this;d.off(b.TAB).on(b.TAB,function(b,c){var d=c.item,f=d.index,g=!1,h=null,i=null,j=null;d.fire("mouseenter",b),h=e.tickNumbersArr[f],i=e.tickNumbersArr[f+1],e.previousItem&&d.index>e.previousItem.index&&(g=!0),e.previousItem||(g=!0),j={rangeStartValue:h,rangeEndValue:i,index:d.index,isTab:g},e.previousItem&&e.previousItem.fire("mouseleave",b),e.previousItem=d,e.model.trigger(a.Events.RANGE_TAB,j)}),d.off(b.SPACE).on(b.SPACE,function(a,b){var c=b.item;e.previousItem=c,a.event={},a.event.which=1,a.isSpace=!0,c.fire("click",a)}),d.off(c.FOCUS_OUT).on(c.FOCUS_OUT,function(b,c){e.previousItem&&e.previousItem.fire("mouseleave",b),e.removeNumberLineHover(),e.model.trigger(a.Events.FOCUS_OUT),e.previousItem=null})},getPaperScope:function(){return this.scope}},{START_POINT_X_COORDINATE:15,START_POINT_Y_COORDINATE:20,END_POINT_Y_COORDINATE:20,LEFT_ARROWHEAD_DISTANCE_FROM_MIN_VALUE:32,RIGHT_ARROWHEAD_DISTANCE_FROM_MAX_VALUE:32,NUMBER_OF_POLYGON_SIDES:3,LINE:"line",CIRCLE:"circle",Events:{NUMBERLINE_VALUES_CHANGED:"numberline-values-changed",TICK_CLICK:"tick-click",RANGE_CLICK:"range-click",ANIMATION_COMPLETE:"animation-complete",ANIMATION_PROGRESS:"animation-progress",FADEIN_PROGRESS:"fade-in-progress",FADEIN_START:"fade-in-start",RANGE_TAB:"range-tab",FOCUS_OUT:"focus-out"},generateNumberLine:function(a){if(a){var b,c,d;return d=a.containerId,b=new MathInteractives.Common.Components.Theme2.Models.NumberLine(a),c=new MathInteractives.Common.Components.Theme2.Views.NumberLine({model:b,el:d})}}}),MathInteractives.global.Theme2.NumberLine=MathInteractives.Common.Components.Theme2.Views.NumberLine,a=MathInteractives.Common.Components.Theme2.Views.NumberLine}(),function(){var a=Handlebars.template,b=MathInteractives.Common.Components.templates=MathInteractives.Common.Components.templates||{};b.theme2NumberLine=a(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h="",i="function",j=this.escapeExpression;return h+='\ufeff\r\n<div id="',(g=c.idPrefix)?f=g.call(b,{hash:{},data:e}):(g=b&&b.idPrefix,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'canvas-holder" class="canvas-holder">\r\n    <canvas id="',(g=c.idPrefix)?f=g.call(b,{hash:{},data:e}):(g=b&&b.idPrefix,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'number-line-canvas" class="number-line-canvas" height="50" width="900"></canvas>\r\n</div>\r\n    '})}();