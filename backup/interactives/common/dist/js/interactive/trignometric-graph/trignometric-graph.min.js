!function(){"undefined"==typeof MathInteractives.Interactivities.TrignometricGraphing&&(MathInteractives.Common.Interactivities.TrignometricGraphing={},MathInteractives.Common.Interactivities.TrignometricGraphing.Views={},MathInteractives.Common.Interactivities.TrignometricGraphing.Models={}),MathInteractives.Common.Interactivities.TrignometricGraphing.Models.ExploreTrignometricGraphing=MathInteractives.Common.Player.Models.BaseInteractive.extend({defaults:{circleRadius:65,circleCenterPoint:{x:175.31,y:155.68},initDragAngle:0,initShowPoints:12,radiusSliderData:{minValue:.75,stepValue:.25,maxValue:2,defaultValue:1},distanceSliderData:{minValue:.5,stepValue:.5,maxValue:3,defaultValue:1},trignometricFunction:{Sine:!0,Cos:!1,Tan:!1}},initialize:function(){}},{FOCUS_RECT_STROKE_WIDTH:2,FOCUS_RECT_COLOR:"#aaa",LABEL_OFFSET:24,OUTER_CIRCLE_STROKE_WIDTH:3,CENTER_CIRCLE_RADIUS:7,CENTER_CIRCLE_COLOR:"#FFFFFF",SINE_LINE_DRAG_COLOR:"#D13787",COS_LINE_DRAG_COLOR:"#00A2C9",TAN_LINE_DRAG_COLOR:"#FFFFFF",DRAG_CIRCLE_DATA:{DRAG_CIRCLE_RADIUS:9,SHADOW_COLOR:"#000000",SHADOW_BLUR:2},COS_VERTICAL_LINE_COLOR:"#8E8E8E",SIN_VERTICAL_LINE_COLOR:"#8E8E8E",TAN_VERTICAL_LINE_COLOR:"#8E8E8E",COS_VERTICAL_LINE_WIDTH:3,BUBBLE_CIRCLE_RADIUS:9,BUBBLE_CIRCLE_COLOR:"#77933C",SIN_COS_BAR_WIDTH:3,IMPOSED_CIRCLE_COLOR:"#8CB61D",IMPOSED_CIRCLE_WIDTH:3,ASYMTOTES_LINE_WIDTH:2,ANGLE_MARGIN_TO_DROP:7,RADIUS_LINE_COLOR:"#8E8E8E",RADIUS_LINE_WIDTH:3,VISIBLE_DIAMETER_LINE_COLOR:"#b9b9b9",SIN_GRADIENT:["#A21E63","#3C0321"],SIN_GRADIENT_HOVER:["#3C0321","#A21E63"],COS_GRADIENT:["#329fc3","#02375c"],COS_GRADIENT_HOVER:["#02375c","#329fc3"],TAN_GRADIENT:["#FFFFFF","#878787"],TAN_GRADIENT_HOVER:["#878787","#FFFFFF"],DEFAULT_GRADIENT:["#ADADAD","#6F6F6F"],DEFAULT_GRADIENT_HOVER:["#6F6F6F","#ADADAD"],VISIBLE_DIAMETER_LINE_WIDTH:2,INITIAL_ANGLE:0,DRAG_DUMMY_CIRCLE_RADIUS_SCALE:2.5,TANGENT_LINE_LENGTH:200})}(),function(){var a=null,b=null,c=MathInteractives.Common.Interactivities.TrignometricGraphing.Views;c.ExploreTrignometricGraphing=MathInteractives.Common.Player.Views.Base.extend({idPrefix:null,filePath:null,manager:null,player:null,paperScope:null,_canvasID:null,_centerCircle:null,dragItemPos:null,_dragHandle:null,_dragHandleDummy:null,angleToMove:null,_radius:70,_circle:null,_dragCircle:null,_radiusVector:null,tool:null,toolMouseUpCheck:!1,handCursorFlag:!1,lastAngle:0,initialFlightAngle:null,previousAngle:null,positiveFullArc:!1,negativeFullArc:!1,allowRotation:!0,radiusView:null,distanceView:null,mouseLeftClick:!1,currentAngle:0,trignometricFunction:null,centerPoint:null,initVectAngle:0,sineCosLine:null,tempCosLine:null,showPointsCount:6,originalRadius:0,bubbleGroup:null,baseAngleValue:0,renderElements:!1,radialGroup:null,maxVisitedAnglePos:0,maxVisitedImposedPos:0,maxVisitedImposedNeg:0,maxVisitedAngleNeg:0,rotatingDirection:"",condition:null,isTabViewed:!1,diameterLine:null,currentRadiusScale:0,currentDistanceScale:0,maxVisiblePoint:0,firstDrag:!0,_rotatingCircleGroup:null,previousSavedAngle:0,graphingFocusRect:null,colorChange:!1,accCurrentAngle:0,borderCircle:null,initialize:function(){this.filePath=this.model.get("path"),this.manager=this.model.get("manager"),this.player=this.model.get("player"),this.idPrefix=this.player.getIDPrefix(),this.centerPoint=this.model.get("circleCenterPoint"),this._radius=this.model.get("circleRadius"),this.trignometricFunction=this.model.get("trignometricFunction"),this.showPointsCount=this.model.get("initShowPoints"),b=MathInteractives.Common.Interactivities.TrignometricGraphing.Views.ExploreTrignometricMapping,a=MathInteractives.Common.Interactivities.TrignometricGraphing.Models.ExploreTrignometricGraphing,this._canvasID=this.idPrefix+"rotate-animation-canvas";var c={idPrefix:this.idPrefix};this.$el.append(MathInteractives.Common.Interactivities.TrignometricGraphing.templates.exploreTrigGraph(c).trim()),this._setupPaperScope(),this.tool=new this.paperScope.Tool,this.tool.onMouseDrag=function(a){a.preventDefault()},this.render(),this.enableTab("rotate-animation-acc-container",!1),this.generateDropdown(),this.comboBoxView.selectComboOptionByIndex(-1),MathInteractives.Common.Utilities.Models.Utils.EnableTouch(self.$(".rotate-animation-canvas"))},render:function(){this.paperScope.activate(),this.loadScreen("exploreGraph-tab"),this.initialFlightAngle=this.initVectAngle,this._renderSliders(),this.originalRadius=this._radius,this.radiusView.setSelectedValue(this.model.get("radiusSliderData").defaultValue),this.distanceView.setSelectedValue(this.model.get("distanceSliderData").defaultValue),this.currentRadiusScale=this.model.get("radiusSliderData").defaultValue,this.currentDistanceScale=this.model.get("distanceSliderData").defaultValue,this._renderInitElements(),this.paperScope.view.draw(),$("#"+this.idPrefix+"activity-area-2").css({"background-image":'url("'+this.filePath.getImagePath("activity-area")+'")'}),this.model.on("change:trignometricFunction",$.proxy(this.trigFunctionChange,this))},events:{"mousedown .rotate-animation-canvas":"_activatePaperScope"},_setupPaperScope:function(){var a=new paper.PaperScope;a.setup(this._canvasID),this.paperScope=a},_renderInitElements:function(){this._activatePaperScope(),this._circle&&this._circle.remove(),this._circle=new this.paperScope.Path.Circle({radius:this._radius,position:this.centerPoint,strokeColor:a.CENTER_CIRCLE_COLOR,strokeWidth:a.OUTER_CIRCLE_STROKE_WIDTH}),this.paperScope.project.activeLayer.insertChild(2,this._circle),this._centerCircle&&this._centerCircle.remove(),this._centerCircle=this.paperScope.Path.Circle({radius:a.CENTER_CIRCLE_RADIUS,position:{x:this.centerPoint.x,y:this.centerPoint.y},fillColor:a.CENTER_CIRCLE_COLOR,shadowColor:a.DRAG_CIRCLE_DATA.SHADOW_COLOR,shadowBlur:a.DRAG_CIRCLE_DATA.SHADOW_BLUR,opacity:.93}),this._centerCircle.shadowOffset=new this.paperScope.Point([2,2]),this.$el.find("#"+this.idPrefix+"equation-container").css("visibility","hidden")},_renderElements:function(b){var c={};c.x=this.centerPoint.x+this._radius*Math.cos(b*Math.PI/180),c.y=this.centerPoint.y+this._radius*Math.sin(b*Math.PI/180),this._dragHandle=this.paperScope.Path.Circle({radius:a.DRAG_CIRCLE_DATA.DRAG_CIRCLE_RADIUS,position:c}),this.isAccessible()&&this.drawFocusRect(c,0),this._dragHandleDummy=this.paperScope.Path.Circle({radius:a.DRAG_CIRCLE_DATA.DRAG_CIRCLE_RADIUS,position:c}),this.baseAngleValue=360/this.showPointsCount,this._renderInitElements(),this.trignometricFunction.Cos||(this._radiusLine=this.paperScope.Path.Line(this.centerPoint,c),this._radiusLine.strokeColor=a.RADIUS_LINE_COLOR,this._radiusLine.strokeWidth=a.RADIUS_LINE_WIDTH,this.paperScope.project.activeLayer.insertChild(3,this._radiusLine)),this._createRadialGroup(),this.$el.find("#"+this.idPrefix+"equation-container").css("visibility","visible"),this._radiusVector=new this.paperScope.Point(this.centerPoint).subtract(new this.paperScope.Point(c)),this._drawDraggablePoint(c),this.dragItemPos=c,this._bindCanvasEvents(),this.renderElements=!0,this.bubbleGroup=new this.paperScope.Group,this._renderDiameter()},drawFocusRect:function(a,b){this.graphingFocusRect&&this.graphingFocusRect.remove();var c=MathInteractives.Common.Interactivities.TrignometricGraphing.Models.ExploreTrignometricGraphing.FOCUS_RECT_COLOR,d=MathInteractives.Common.Interactivities.TrignometricGraphing.Models.ExploreTrignometricGraphing.FOCUS_RECT_STROKE_WIDTH,e={strokeColor:c,dashArray:[2,2],strokeWidth:d};this.graphingFocusRect=new this.paperScope.Path.Rectangle(new this.paperScope.Point(a.x-12,a.y-12),this._dragHandle.bounds.height+6,this._dragHandle.bounds.width+6),this.graphingFocusRect.style=e,this.graphingFocusRect.opacity=b,this.graphingFocusRect.insertAbove(this._dragHandle)},_renderDiameter:function(){var b;this.trignometricFunction.Tan?(b={x:this.centerPoint.x-185,y:this.centerPoint.y},pointB={x:this.centerPoint.x+275,y:this.centerPoint.y}):(b={x:this.centerPoint.x-this._radius,y:this.centerPoint.y},pointB={x:this.centerPoint.x+this._radius,y:this.centerPoint.y}),this.diameterLine&&this.diameterLine.remove(),this.diameterLine=this.paperScope.Path.Line(pointB,b),this.diameterLine.strokeColor=a.VISIBLE_DIAMETER_LINE_COLOR,this.diameterLine.strokeWidth=a.VISIBLE_DIAMETER_LINE_WIDTH,this.diameterLine.opacity=.2,this.diameterLine.dashArray=[10,4],this.paperScope.project.activeLayer.insertChild(1,this.diameterLine)},_renderSliders:function(){var b=this.model.get("radiusSliderData"),c=this.model.get("distanceSliderData"),d={containerId:"radius-slider-container",sliderId:"radius-slider",screenId:"slider-1-text-screen",filePath:this.filePath,idPrefix:this.idPrefix,player:this.player,selectedValue:b.defaultValue,manager:this.manager,minValue:b.minValue,maxValue:b.maxValue,step:b.stepValue,labelType:MathInteractives.Common.Components.Theme2.Models.Slider.LABEL_TYPE.MIN_MAX,colorType:MathInteractives.Common.Components.Theme2.Models.Slider.COLOR_TYPE.CUSTOM,tabIndex:900};this.radiusView=MathInteractives.global.Theme2.Slider.generateSlider(d),this.radiusView.on(MathInteractives.Common.Components.Theme2.Models.Slider.EVENTS.VALUE_CHANGE,$.proxy(function(a,b){this._radiusChange(a),this._updateRadiusDomValue(a)},this)),this.radiusView.on(MathInteractives.Common.Components.Theme2.Models.Slider.EVENTS.SLIDE,$.proxy(function(a,b,c){this._radiusChange(c),this._updateRadiusDomValue(c)},this)),MathInteractives.Common.Utilities.Models.BrowserCheck.isMobile||(this.$el.find("#"+this.idPrefix+d.sliderId+"-handle").off("mouseover.trig-graph").on("mouseover.trig-graph",$.proxy(this._sliderHandleOver,this)),this.$el.find("#"+this.idPrefix+d.sliderId+"-handle").off("mouseleave.trig-graph").on("mouseleave.trig-graph",$.proxy(this._sliderHandleOut,this)));var e={sliderId:"distance-slider",filePath:this.filePath,containerId:"distance-slider-container",screenId:"slider-2-text-screen",idPrefix:this.idPrefix,player:this.player,manager:this.manager,selectedValue:c.defaultValue,minValue:c.minValue,maxValue:c.maxValue,step:c.stepValue,labelType:MathInteractives.Common.Components.Theme2.Models.Slider.LABEL_TYPE.MIN_MAX,colorType:MathInteractives.Common.Components.Theme2.Models.Slider.COLOR_TYPE.CUSTOM,tabIndex:920};this.distanceView=MathInteractives.global.Theme2.Slider.generateSlider(e),this.distanceView.on(MathInteractives.Common.Components.Theme2.Models.Slider.EVENTS.VALUE_CHANGE,$.proxy(function(a,b){this._distMultiplierChange(a),this._updateDistanceMultDomValue(a)},this)),this.distanceView.on(MathInteractives.Common.Components.Theme2.Models.Slider.EVENTS.SLIDE,$.proxy(function(a,b,c){this._distMultiplierChange(c),this._updateDistanceMultDomValue(c)},this)),MathInteractives.Common.Utilities.Models.BrowserCheck.isMobile||(this.$el.find("#"+this.idPrefix+e.sliderId+"-handle").off("mouseover.trig-graph").on("mouseover.trig-graph",$.proxy(this._sliderHandleOver,this)),this.$el.find("#"+this.idPrefix+e.sliderId+"-handle").off("mouseleave.trig-graph").on("mouseleave.trig-graph",$.proxy(this._sliderHandleOut,this))),this.mathJaxOutput(a.INITIAL_ANGLE,e.selectedValue,d.selectedValue),this._updateRadiusDomValue(b.defaultValue),this._updateDistanceMultDomValue(c.defaultValue),this.$el.find("#"+this.idPrefix+"dummy-drag-help").css({left:this.centerPoint.x+this._radius+15})},_initAccessibility:function(){var a={canvasHolderID:this.idPrefix+"rotate-animation-acc-container",paperItems:[],paperScope:this.paperScope,manager:this.manager,player:this.player};this.canvasAcc=MathInteractives.global.CanvasAcc.intializeCanvasAcc(a),this.canvasAcc.updatePaperItems(this.getPaperObjects())},_updateActivityAreaText:function(a){(void 0===a||null===a)&&(a=0),this.trignometricFunction.Sine?this.changeAccMessage("graphing-tab-activity-acc-container",a,[this.getMessage("drop-down-trignometric-labels",0)]):this.trignometricFunction.Cos?this.changeAccMessage("graphing-tab-activity-acc-container",a,[this.getMessage("drop-down-trignometric-labels",1)]):this.changeAccMessage("graphing-tab-activity-acc-container",a)},getPaperObjects:function(){var a=[];return a.push(this._dragHandle),a},_bindAccessibilityListeners:function(){var a=MathInteractives.Common.Player.Models.CanvasAcc.CANVAS_KEY_EVENTS,b=$("#"+this.idPrefix+"rotate-animation-acc-container");b.off(a.ROTATE_CLOCKWISE).on(a.ROTATE_CLOCKWISE,$.proxy(this.rotateClockWise,this)),b.off(a.ROTATE_ANTI_CLOCKWISE).on(a.ROTATE_ANTI_CLOCKWISE,$.proxy(this.rotateAntiClockWise,this))},rotateClockWise:function(a,b){var c=b.item,d=360/parseInt(this.comboBoxView.model.get("selectedOptionData")),e=!1,f=this.accCurrentAngle-d;if(-360>=f){var g=this.readAngleMessage(-360)+" "+this.getAccMessage("rotate-animation-acc-container",12);this.setAccMessage("rotate-animation-acc-container",g,0),e=!0}if(this.accCurrentAngle>-360){for(var h=this.angleToMove/2,i=0;2>i;)this._dragHandleDummy.rotate(h,this.centerPoint),this._rotatingCircleGroup.rotate(h,this.centerPoint),a.target=c,a.target.name=c.name,a.event=a,a.event.which=1,a.point=this._dragHandleDummy.position,this._rotatingCircleGroup.trigger("mousedown",a),this._rotatingCircleGroup.trigger("mousedrag",a),this.accCurrentAngle=this.accCurrentAngle-h,i++;e||this.readAngleMessage(this.accCurrentAngle)}},rotateAntiClockWise:function(a,b){var c=b.item,d=360/parseInt(this.comboBoxView.model.get("selectedOptionData")),e=!1;if(tempAngle=this.accCurrentAngle+d,tempAngle>=360){var f=this.readAngleMessage(360)+" "+this.getAccMessage("rotate-animation-acc-container",13);this.setAccMessage("rotate-animation-acc-container",f,0),e=!0}if(this.accCurrentAngle<360){for(var g=this.angleToMove/2,h=0;2>h;)this._dragHandleDummy.rotate(-g,this.centerPoint),this._rotatingCircleGroup.rotate(-g,this.centerPoint),a.target=c,a.target.name=c.name,a.event=a,a.event.which=1,a.point=this._dragHandleDummy.position,this._rotatingCircleGroup.trigger("mousedown",a),this._rotatingCircleGroup.trigger("mousedrag",a),this.accCurrentAngle=this.accCurrentAngle+g,h++;e||this.readAngleMessage(this.accCurrentAngle)}},setDefaultAcc:function(a){var b=a.keycode?a.keycode:a.which;if(32===b&&(this.graphingFocusRect.opacity=1,this.readAngleMessage(this.accCurrentAngle)),9===b){this.graphingFocusRect.opacity=0;var c=this.getAccMessage("rotate-animation-acc-container",11)+" "+this.readAngleMessage(this.accCurrentAngle);this.setAccMessage("rotate-animation-acc-container",c,0),this.paperScope.view.draw()}},readAngleMessage:function(a){var c,d=b.GET_ANGLE_IN_RADIANS(a,!0),e=d.numerator,f=d.denominator;return fractionSeperator=e.replace("π",""),c=[fractionSeperator,f],"0"===e?(this.changeAccMessage("rotate-animation-acc-container",4,c),this.getAccMessage("rotate-animation-acc-container",4,c)):""===fractionSeperator?(c[0]=f,""===c[0]?(this.changeAccMessage("rotate-animation-acc-container",7,c),this.getAccMessage("rotate-animation-acc-container",7,c)):(this.changeAccMessage("rotate-animation-acc-container",5,c),this.getAccMessage("rotate-animation-acc-container",5,c))):"-"===fractionSeperator?""===c[1]?(this.changeAccMessage("rotate-animation-acc-container",9,c),this.getAccMessage("rotate-animation-acc-container",9,c)):(c[0]=f,this.changeAccMessage("rotate-animation-acc-container",10,c),this.getAccMessage("rotate-animation-acc-container",10,c)):(c[1]=f,""===c[1]?(this.changeAccMessage("rotate-animation-acc-container",8,c),this.getAccMessage("rotate-animation-acc-container",8,c)):(e=fractionSeperator,this.changeAccMessage("rotate-animation-acc-container",6,c),this.getAccMessage("rotate-animation-acc-container",6,c)))},_radiusChange:function(a){var b=!1,d=a;this.renderElements?this.currentRadiusScale!==d&&(b=!0,this.currentRadiusScale=d,this._radius=this.originalRadius*this.currentRadiusScale,this.resetData()):(this.currentRadiusScale=d,this._radius=this.originalRadius*this.currentRadiusScale,this._renderInitElements(),this._updateRadiusDomValue(this.currentRadiusScale)),this.trigger(c.ExploreTrignometricGraphing.RADIUS_CHANGE,{value:this.currentRadiusScale,valueChanged:b}),this.paperScope.view.draw(),MathInteractives.global.SpeechStream.stopReading(),this.$el.find("#"+this.idPrefix+"dummy-drag-help").css({left:this.centerPoint.x+this._radius+15})},_distMultiplierChange:function(a){var b=!1;this.renderElements?this.currentDistanceScale!==a&&(b=!0,this.currentDistanceScale=a,this.resetData()):this.currentDistanceScale!==a&&(this.currentDistanceScale=a,this._updateDistanceMultDomValue(this.currentDistanceScale)),this.trigger(c.ExploreTrignometricGraphing.DISTANCE_MULTIPLIER_CHANGE,{value:this.currentDistanceScale,valueChanged:b}),MathInteractives.global.SpeechStream.stopReading()},_showPointsChange:function(a,b){this.showPointsCount=Number(b),this.baseAngleValue=360/this.showPointsCount,this.angleToMove=360/this.showPointsCount,this.renderElements||""===b||(this.renderElements=!0,this._renderElements(),this.renderInitLabels(),this._initAccessibility(),this._bindAccessibilityListeners(),this.$("#"+this.idPrefix+"rotate-animation-acc-container-acc-elem").on("keydown",$.proxy(this.setDefaultAcc,this)),this.enableTab("rotate-animation-acc-container",!0)),""!==b?this._updateActivityAreaText(1):this._updateActivityAreaText(0),this.resetData(),this.trigger(c.ExploreTrignometricGraphing.SHOW_POINT_CHANGE,a,{value:this.showPointsCount}),MathInteractives.global.SpeechStream.stopReading()},trigFunctionChange:function(a){this._activatePaperScope(),this.trignometricFunction=this.model.get("trignometricFunction"),this.renderElements&&(this.resetData(),this._changeLineColor())},_changeLineColor:function(){var b;this.trignometricFunction.Sine?(this._drawSinCosLine(a.SINE_LINE_DRAG_COLOR),b=a.SIN_GRADIENT):this.trignometricFunction.Cos?(this._drawSinCosLine(a.COS_LINE_DRAG_COLOR),b=a.COS_GRADIENT):(this._drawSinCosLine(a.TAN_LINE_DRAG_COLOR),b=a.TAN_GRADIENT);var c={gradient:{stops:b},origin:[this._dragCircle.position.x,this._dragCircle.position.y-a.DRAG_CIRCLE_DATA.DRAG_CIRCLE_RADIUS],destination:[this._dragCircle.position.x,this._dragCircle.position.y+a.DRAG_CIRCLE_DATA.DRAG_CIRCLE_RADIUS]};this._dragCircle.fillColor=c},_updateRadiusDomValue:function(a){this.setMessage("radius-slider-value",a)},_updateDistanceMultDomValue:function(a){this.setMessage("distance-slider-value",a)},generateDropdown:function(){for(var a=[],b=0;null!==this.getMessage("drop-down-show-points",b);)a[b]=this.getMessage("drop-down-show-points",b),b++;var c={player:this.player,path:this.filePath,idPrefix:this.idPrefix,manager:this.manager,screenId:"graphing-points-combobox-screen",containerId:"show-points-select",options:a},d=new MathInteractives.Common.Components.Theme2.Models.Combobox(c);this.comboBoxView=new MathInteractives.Common.Components.Theme2.Views.Combobox({el:"#"+c.idPrefix+c.containerId,model:d}),this.comboBoxView.model.on("change:selectedOptionData",$.proxy(this._showPointsChange,this))},_createRadialGroup:function(){var a,b,c=new this.paperScope.Point(this.centerPoint.x,this.centerPoint.y),d=null,e=new this.paperScope.Group;for(d=0;d<this.showPointsCount;d++)a=new this.paperScope.Path,b=c.clone(),a.add(b),a.add(new this.paperScope.Point(c.x+this._radius,c.y)),a.rotate(-this.baseAngleValue*d,b),e.addChild(a);e.visible=!1,this.radialGroup=e},renderLabels:function(){var c=this.paperScope,d=this.radialGroup,e=d.children,f=(this.showPointsCount,d.children.length),g=this._circle,h=a.LABEL_OFFSET,i=h/2,j=null,k=null,l=null,m=null,n=null,o=null,p=[],q=this.$(".circle-labels"),r=null,s=null;for(this.$(a.FRACTION_SELECTOR).remove(),q.html(""),j=new c.Path.Circle(g.bounds.getCenter(),this._radius+h),o=0;f>o;o++){k=e[o];var t;"clockwise"===this.rotatingDirection?(t=b.GET_ANGLE_IN_RADIANS(360*o/this.showPointsCount,!0),0===o&&(t=b.GET_ANGLE_IN_RADIANS(360,!0))):t=b.GET_ANGLE_IN_RADIANS(360*-(f-o)/this.showPointsCount,!0),r=b.GET_FRACTION_DIV_STRUCTURE(t.numerator,t.denominator),n=k.lastSegment.point,m=j.getNearestPoint(n),l={x:m.x-i,y:m.y-i},r.css({top:l.y,left:l.x}),""===t.denominator&&r.css({"margin-top":"-7px"}),q.append(r),s={$div:r,isOnCircle:!1},p.push(s)}j.remove()},renderInitLabels:function(){var c,d=[this.baseAngleValue,-this.baseAngleValue],e=this.$(".circle-labels"),f=this.radialGroup,g=f.children,h=f.children.length,i=null,j=null,k=null,l=null,m=a.LABEL_OFFSET,n=m/2,o=null,p=[1,h-1];e.html(""),i=new this.paperScope.Path.Circle(this.centerPoint,this._radius+m);for(var q=0;2>q;q++)j=g[p[q]],c=b.GET_ANGLE_IN_RADIANS(d[q]),$fractionContainer=b.GET_FRACTION_DIV_STRUCTURE(c.numerator,c.denominator),o=j.lastSegment.point,l=i.getNearestPoint(o),k={x:l.x-n,y:l.y-n},$fractionContainer.css({top:k.y,left:k.x}),i.remove(),e.append($fractionContainer)},_drawDraggablePoint:function(b){this._dragCircle=new this.paperScope.Path.Circle({radius:a.DRAG_CIRCLE_DATA.DRAG_CIRCLE_RADIUS,center:[b.x,b.y],shadowColor:a.DRAG_CIRCLE_DATA.SHADOW_COLOR,shadowBlur:a.DRAG_CIRCLE_DATA.SHADOW_BLUR,opacity:.93});var d;d=this.trignometricFunction.Sine?a.SIN_GRADIENT:this.trignometricFunction.Cos?a.COS_GRADIENT:a.TAN_GRADIENT;var e={gradient:{stops:d},origin:[b.x,b.y-a.DRAG_CIRCLE_DATA.DRAG_CIRCLE_RADIUS],destination:[b.x,b.y+a.DRAG_CIRCLE_DATA.DRAG_CIRCLE_RADIUS]};MathInteractives.Common.Utilities.Models.BrowserCheck.isMobile?(this._dummyDragCircle=new this.paperScope.Path.Circle({radius:a.DRAG_CIRCLE_DATA.DRAG_CIRCLE_RADIUS*a.DRAG_DUMMY_CIRCLE_RADIUS_SCALE,center:[b.x,b.y],opacity:.01,fillColor:"#FFFFFF"}),this._rotatingCircleGroup=new this.paperScope.Group([this._dummyDragCircle,this._dragCircle])):this._rotatingCircleGroup=this._dragCircle,this._dragCircle.fillColor=e,this._dragCircle.shadowOffset=new this.paperScope.Point([2,2]),this.paperScope.project.activeLayer.insertChild(5,this._rotatingCircleGroup),this.trigger(c.ExploreTrignometricGraphing.CHANGE_ANGLE,0,!0)},_bindRotateToolEvents:function(){var b=this,d=(this._radius,!1),e=!1,f=(b.dragItemPos,MathInteractives.Common.Player.Models.CanvasAcc.CANVAS_KEY_EVENTS);b.mouseLeftClick=!1,this._radiusVector=new this.paperScope.Point(this.dragItemPos).subtract(new this.paperScope.Point(this.centerPoint)),this._rotatingCircleGroup.on({mousedrag:function(g){if(MathInteractives.Common.Utilities.Models.BrowserCheck.isMobile||1!=g.event.which&&0!=g.event.which||b.$(".rotate-animation-canvas").css({cursor:'url("'+b.filePath.getImagePath("closed-hand")+'"), move'}),b.mouseLeftClick&&(1==g.event.which||0==g.event.which)){MathInteractives.global.SpeechStream.stopReading(),b.colorChange=!1;var h=b.centerPoint.x,i=b.centerPoint.y,j=null,k=null,l=null,m=null;l=new b.paperScope.Point(h,i).subtract(new b.paperScope.Point(g.point.x,g.point.y)),m=180+Math.round(l.angle),b._allowRotate(),k=h+b._radius*Math.cos(m*Math.PI/180),j=i+b._radius*Math.sin(m*Math.PI/180);var n=new b.paperScope.Point(h,i).subtract(new b.paperScope.Point(k,j)),o=n.angle+180;null!==b.previousAngle?b.previousAngle<-90&&o-180>=0?(b.condition=1,d=!0):b.previousAngle>90&&0>=o-180?(b.condition=2,e=!0):b.previousAngle<-90&&o>=0&&90>o&&null!==b.condition?d===!0&&b.previousAngle>-360&&(b.condition=null,d=!1):b.previousAngle>90&&(o>270||0===o)&&null!==b.condition&&e===!0&&b.previousAngle<360&&(b.condition=null,e=!1):(b.initialFlightAngle-o>300||b.initialFlightAngle-o<-300)&&(o=360+(b.initialFlightAngle-o)),1===b.condition?o-=360:2===b.condition&&(o=360+o);var p=Math.round(b.initialFlightAngle-o);if(b.lastAngle-p>210&&(b.blockRotation=!0),p>0&&270>p&&360===b.currentAngle&&(b.blockRotation=!0),b.blockRotation===!0)return b.allowRotation=!1,b.trigger(c.ExploreTrignometricGraphing.CHANGE_ANGLE,360,!0),b._dragCircle.position.x=b.centerPoint.x+b._radius*Math.cos(-360*Math.PI/180),b._dragCircle.position.y=b.centerPoint.y+b._radius*Math.sin(-360*Math.PI/180),b._dragHandle.position=b._dragCircle.position,b.trignometricFunction.Cos||(b._radiusLine.removeSegments(1),b._radiusLine.add(b._dragCircle.position)),b._drawSinCosLine(a.SIN_VERTICAL_LINE_COLOR),b.drawImposedCircle(360),b._drawBubbles(360,!1),b.currentAngle=360,MathInteractives.Common.Utilities.Models.BrowserCheck.isMobile&&(b._dummyDragCircle.position=b._dragCircle.position),b.mathJaxOutput(360,b.currentDistanceScale,b.currentRadiusScale),b._changeLineColor(),void(b.isAccessible()&&b.drawFocusRect(b._dragHandle.position,1));if(b.lastAngle=p,b.allowRotation===!1)return;if(b.previousAngle=o-180,b._dragHandle.position=new b.paperScope.Point(k,j),b._radiusVector=new b.paperScope.Point(b.centerPoint.x,b.centerPoint.y).subtract(new b.paperScope.Point(b._dragHandle.position.x,b._dragHandle.position.y)),p>=360||-360>=p)p>=360?(b.positiveFullArc=!0,b.allowRotation=!1,b.drawImposedCircle(360)):(b.negativeFullArc=!0,b.allowRotation=!1,b._dragCircle.position.x=b.centerPoint.x+b._radius*Math.cos(360*Math.PI/180),b._dragCircle.position.y=b.centerPoint.y+b._radius*Math.sin(360*Math.PI/180),b._dragHandle.position=b._dragCircle.position,b.trignometricFunction.Cos||(b._radiusLine.removeSegments(1),b._radiusLine.add(b._dragCircle.position)),b._drawSinCosLine(a.SIN_VERTICAL_LINE_COLOR),b.trigger(c.ExploreTrignometricGraphing.CHANGE_ANGLE,-360,!0),b.drawImposedCircle(-360),b._drawBubbles(-360,!1),b.currentAngle=-360,MathInteractives.Common.Utilities.Models.BrowserCheck.isMobile&&(b._dummyDragCircle.position=b._dragCircle.position));else{b._dragCircle.position=b._dragHandle.position,b.trignometricFunction.Cos||(b._radiusLine.removeSegments(1),b._radiusLine.add(b._dragCircle.position)),MathInteractives.Common.Utilities.Models.BrowserCheck.isMobile&&(b._dummyDragCircle.position=b._dragCircle.position),b.currentAngle=p,b.trignometricFunction.Sine?b._drawSinCosLine(a.SIN_VERTICAL_LINE_COLOR):b.trignometricFunction.Cos?b._drawSinCosLine(a.COS_VERTICAL_LINE_COLOR):b._drawSinCosLine(a.TAN_VERTICAL_LINE_COLOR);var q={gradient:{stops:a.DEFAULT_GRADIENT},origin:[b._dragCircle.position.x,b._dragCircle.position.y-a.DRAG_CIRCLE_DATA.DRAG_CIRCLE_RADIUS],destination:[b._dragCircle.position.x,b._dragCircle.position.y+a.DRAG_CIRCLE_DATA.DRAG_CIRCLE_RADIUS]};b._dragCircle.fillColor=q,""===b.rotatingDirection?p>a.ANGLE_MARGIN_TO_DROP?(b.rotatingDirection="clockwise",b.renderLabels()):p<-a.ANGLE_MARGIN_TO_DROP?(b.rotatingDirection="anticlockwise",b.renderLabels()):(b.rotatingDirection="",b.renderInitLabels()):(p>a.ANGLE_MARGIN_TO_DROP&&"anticlockwise"===b.rotatingDirection?(b.rotatingDirection="clockwise",b.renderLabels()):p<-a.ANGLE_MARGIN_TO_DROP&&"clockwise"===b.rotatingDirection&&(b.rotatingDirection="anticlockwise",b.renderLabels()),p<=a.ANGLE_MARGIN_TO_DROP&&p>=-a.ANGLE_MARGIN_TO_DROP&&(b.rotatingDirection="",b.renderInitLabels()))}if(b.drawImposedCircle(p),0!==b.currentAngle){maxVisitedAngle=0,b._drawBubbles(maxVisitedAngle,!0);var p=b.currentAngle;(Math.abs(b.currentAngle%b.baseAngleValue)<a.ANGLE_MARGIN_TO_DROP||Math.abs(b.currentAngle%b.baseAngleValue)>b.baseAngleValue-a.ANGLE_MARGIN_TO_DROP)&&(Math.abs(p%b.baseAngleValue)<a.ANGLE_MARGIN_TO_DROP?p-=Math.abs(p%b.baseAngleValue):p+=b.baseAngleValue-Math.abs(p%b.baseAngleValue),b.colorChange=!0,b._changeLineColor());var r=parseInt(p/b.baseAngleValue,10),s=r*b.baseAngleValue;b.maxVisiblePoint!==r&&(b.maxVisiblePoint=r,b.mathJaxOutput(s,b.currentDistanceScale,b.currentRadiusScale))}else b.colorChange=!0,b._changeLineColor(),b.bubbleGroup.removeChildren();b.currentAngle<360&&b.currentAngle>-360&&(b.currentAngle!==b.previousSavedAngle&&b.firstDrag===!1&&(!b.trignometricFunction.Tan||g.type!==f.ROTATE_CLOCKWISE&&g.type!==f.ROTATE_ANTI_CLOCKWISE||b.trigger(c.ExploreTrignometricGraphing.CHANGE_ANGLE,b.currentAngle-1,b.colorChange),b.trigger(c.ExploreTrignometricGraphing.CHANGE_ANGLE,b.currentAngle,b.colorChange)),b.firstDrag&&(b.trigger(c.ExploreTrignometricGraphing.CHANGE_ANGLE,0,!0),b.firstDrag=!1),b.previousSavedAngle=b.currentAngle)}b.isAccessible()&&b.drawFocusRect(b._dragHandle.position,1)},mouseenter:function(a){b.handCursorFlag=!0,MathInteractives.Common.Utilities.Models.BrowserCheck.isMobile||(b.$(".rotate-animation-canvas").css({cursor:'url("'+b.filePath.getImagePath("open-hand")+'"), move'}),b.player.getModalPresent()||b.dragHandleOver())},mouseleave:function(a){b.handCursorFlag=!1,b.$(".rotate-animation-canvas").css({cursor:"default"}),b.dragHandleOut()},mousedown:function(a){MathInteractives.Common.Utilities.Models.BrowserCheck.isMobile?(b.mouseLeftClick=!0,a.preventDefault()):1===a.event.which&&(b.mouseLeftClick=!0)},mouseup:function(a){b.mouseLeftClick=!1}})},_sliderHandleOver:function(a){$(a.currentTarget).hasClass("color-type-custom-handle_hover")||$(a.currentTarget).addClass("color-type-custom-handle_hover")},_sliderHandleOut:function(a){$(a.currentTarget).hasClass("color-type-custom-handle_hover")&&$(a.currentTarget).removeClass("color-type-custom-handle_hover")},dragHandleOver:function(){var b,c=this;b=Math.abs(c.currentAngle%c.baseAngleValue)<a.ANGLE_MARGIN_TO_DROP||Math.abs(c.currentAngle%c.baseAngleValue)>c.baseAngleValue-a.ANGLE_MARGIN_TO_DROP?this.trignometricFunction.Sine?a.SIN_GRADIENT_HOVER:this.trignometricFunction.Cos?a.COS_GRADIENT_HOVER:a.TAN_GRADIENT_HOVER:a.DEFAULT_GRADIENT_HOVER;var d={gradient:{stops:b},origin:[this._dragCircle.position.x,this._dragCircle.position.y-a.DRAG_CIRCLE_DATA.DRAG_CIRCLE_RADIUS],destination:[this._dragCircle.position.x,this._dragCircle.position.y+a.DRAG_CIRCLE_DATA.DRAG_CIRCLE_RADIUS]};this._dragCircle.fillColor=d},dragHandleOut:function(){var b,c=this;b=Math.abs(c.currentAngle%c.baseAngleValue)<a.ANGLE_MARGIN_TO_DROP||Math.abs(c.currentAngle%c.baseAngleValue)>c.baseAngleValue-a.ANGLE_MARGIN_TO_DROP?this.trignometricFunction.Sine?a.SIN_GRADIENT:this.trignometricFunction.Cos?a.COS_GRADIENT:a.TAN_GRADIENT:a.DEFAULT_GRADIENT;var d={gradient:{stops:b},origin:[this._dragCircle.position.x,this._dragCircle.position.y-a.DRAG_CIRCLE_DATA.DRAG_CIRCLE_RADIUS],destination:[this._dragCircle.position.x,this._dragCircle.position.y+a.DRAG_CIRCLE_DATA.DRAG_CIRCLE_RADIUS]};this._dragCircle.fillColor=d},drawImposedCircle:function(b){b<-a.ANGLE_MARGIN_TO_DROP?b>this.maxVisitedImposedNeg?b=this.maxVisitedImposedNeg:this.maxVisitedImposedNeg=b:b>a.ANGLE_MARGIN_TO_DROP&&(b<this.maxVisitedImposedPos?b=this.maxVisitedImposedPos:this.maxVisitedImposedPos=b),b>358&&(b=358),-358>b&&(b=-358);var c,d,e,f=this.centerPoint.x+this._radius*Math.cos(-b*Math.PI/180),g=this.centerPoint.y+this._radius*Math.sin(-b*Math.PI/180),h=1,i=this;"clockwise"===i.rotatingDirection&&(h=-1),i.imposedCircle&&i.imposedCircle.remove(),c=new i.paperScope.Point(i.centerPoint.x+i._radius,i.centerPoint.y),d=new i.paperScope.Point(f,g),e=i.centerPoint.x>=f+i._radius?i._circle.getNearestPoint(new i.paperScope.Point(i.centerPoint.x,i.centerPoint.y+i._radius*h)):i._circle.getNearestPoint(new i.paperScope.Point((c.x+d.x)/2,(c.y+d.y)/2)),"clockwise"===i.rotatingDirection?b>95&&(e=new i.paperScope.Point(i.centerPoint.x,i.centerPoint.y-i._radius)):-95>b&&(e=new i.paperScope.Point(i.centerPoint.x,i.centerPoint.y+i._radius)),i.imposedCircle=new i.paperScope.Path.Arc(c,e,d),i.imposedCircle.strokeWidth=a.IMPOSED_CIRCLE_WIDTH,i.imposedCircle.strokeColor=a.IMPOSED_CIRCLE_COLOR,i.imposedCircle.shadowColor=a.DRAG_CIRCLE_DATA.SHADOW_COLOR,i.imposedCircle.shadowBlur=a.DRAG_CIRCLE_DATA.SHADOW_BLUR,i.imposedCircle.shadowOffset=new this.paperScope.Point([2,2]),i.imposedCircle.opacity=.93,i.paperScope.project.activeLayer.insertChild(4,i.imposedCircle),i.paperScope.project.activeLayer.insertChild(2,i._circle)},_drawBubbles:function(c,d){var e=this;if(d&&(c=0,e.currentAngle>a.ANGLE_MARGIN_TO_DROP?c=e.maxVisitedAnglePos:e.currentAngle<-a.ANGLE_MARGIN_TO_DROP&&(c=e.maxVisitedAngleNeg),e.currentAngle>a.ANGLE_MARGIN_TO_DROP&&e.currentAngle%e.baseAngleValue<e.baseAngleValue&&e.maxVisitedAnglePos<=e.currentAngle?c=e.currentAngle-e.currentAngle%e.baseAngleValue:e.currentAngle<-a.ANGLE_MARGIN_TO_DROP&&e.currentAngle%e.baseAngleValue>-e.baseAngleValue&&e.maxVisitedAngleNeg>=e.currentAngle&&(c=e.currentAngle-e.currentAngle%e.baseAngleValue)),c!==this.maxVisitedAnglePos||c!==this.maxVisitedAngleNeg){this.bubbleGroup&&this.bubbleGroup.removeChildren();var f,g=0,h=0,i=0,j=this.baseAngleValue;for(0>c?(j=-this.baseAngleValue,g=-this.baseAngleValue,this.maxVisitedAngleNeg=c):c>0&&(g=this.baseAngleValue,this.maxVisitedAnglePos=c);g!==c+j;)0!==g&&(h=this.centerPoint.x+this._radius*Math.cos(-g*Math.PI/180),
i=this.centerPoint.y+this._radius*Math.sin(-g*Math.PI/180),f=b.SHOW_BUBBLE(this.paperScope,h,i,a.BUBBLE_CIRCLE_RADIUS,a.BUBBLE_CIRCLE_COLOR),this.bubbleGroup.addChild(f)),g+=j;this.paperScope.project.activeLayer.insertChild(5,this.bubbleGroup),this.paperScope.view.draw()}},_allowRotate:function(){return this.positiveFullArc===!1&&this.negativeFullArc===!1?(this.allowRotation=!0,this.blockRotation=!1,!0):this.positiveFullArc===!0&&this.lastAngle>354&&this.lastAngle<=360?(this.allowRotation=!0,this.blockRotation=!1,!0):this.negativeFullArc===!0&&this.lastAngle<-354&&this.lastAngle>=-360?(this.allowRotation=!0,this.blockRotation=!1,!0):void(this.blockRotation===!0&&(this.blockRotation=!1,this.allowRotation=!0))},_drawSinCosLine:function(b){var c=this,d={x:c._dragHandle.position.x,y:c.centerPoint.y},e=!1;if(c.sineCosLine&&c.sineCosLine.remove(),c.tempCosLine&&c.tempCosLine.remove(),c.tanLine&&c.tanLine.remove(),c.trignometricFunction.Sine&&(c.sineCosLine=c.paperScope.Path.Line(d,c._dragHandle.position)),c.trignometricFunction.Cos&&(c.sineCosLine=c.paperScope.Path.Line(d,c.centerPoint),c.tempCosLine=c.paperScope.Path.Line(d,c._dragHandle.position),c.tempCosLine.strokeColor=a.COS_VERTICAL_LINE_COLOR,c.tempCosLine.strokeWidth=a.COS_VERTICAL_LINE_WIDTH,c.paperScope.project.activeLayer.insertChild(3,c.tempCosLine)),c.trignometricFunction.Tan){c.sineCosLine=c.paperScope.Path.Line(d,c._dragHandle.position),c.tempCosLine=c.paperScope.Path.Line(d,c.centerPoint),b!==a.TAN_VERTICAL_LINE_COLOR?(c.tempCosLine.strokeColor=a.COS_LINE_DRAG_COLOR,c.sineCosLine.strokeColor=a.SINE_LINE_DRAG_COLOR):(c.tempCosLine.strokeColor=b,c.sineCosLine.strokeColor=b),c.tempCosLine.strokeWidth=a.COS_VERTICAL_LINE_WIDTH,c.paperScope.project.activeLayer.insertChild(3,c.tempCosLine);var f,g,h=(c._dragHandle.position.y-c.centerPoint.y)/(c._dragHandle.position.x-c.centerPoint.x);tanValue=c._dragHandle.position.x-(c._dragHandle.position.y-c.centerPoint.y)*-h,f=c.centerPoint.x+c._radius*Math.cos(c.currentDistanceScale*c.currentAngle*Math.PI/180),g=c.centerPoint.y+c._radius*Math.sin(c.currentDistanceScale*c.currentAngle*Math.PI/180),h=(g-c.centerPoint.y)/(f-c.centerPoint.x),actualTanValue=f-(g-c.centerPoint.y)*-h,(90===Math.abs(c.currentAngle)||270===Math.abs(c.currentAngle))&&(tanValue=c.centerPoint.x+Math.abs(Math.tan((c.currentAngle-.3)*Math.PI/180))*this._radius+this._radius,(270===c.currentAngle||-90===c.currentAngle)&&(tanValue=c.centerPoint.x-Math.abs(Math.tan((c.currentAngle-.3)*Math.PI/180))*this._radius-this._radius)),Math.abs(actualTanValue)>9e4&&(c._dragHandle.position.x===c.centerPoint.x&&(tanValue=9e4,(270===c.currentAngle||-90===c.currentAngle)&&(tanValue=-9e4)),actualTanValue=9e4),c.tanLine=c.paperScope.Path.Line(new c.paperScope.Point(tanValue,c.centerPoint.y),c._dragHandle.position),c.tanLine&&(c.tanLine.strokeColor=b,c.tanLine.strokeWidth=a.SIN_COS_BAR_WIDTH,c.paperScope.project.activeLayer.insertChild(5,c.tanLine),c.tanLine.bringToFront(),c._rotatingCircleGroup.bringToFront()),this.borderCircle&&this.borderCircle.remove(),9e4===actualTanValue?(c._dragCircle.opacity=.66,c.borderCircle=new this.paperScope.Path.Circle({radius:a.DRAG_CIRCLE_DATA.DRAG_CIRCLE_RADIUS-2,center:[this._dragHandle.position.x,this._dragHandle.position.y],strokeColor:"#FFFFFF",strokeWidth:3,opacity:1}),e=!0):c._dragCircle.opacity=.93}c.sineCosLine&&(c.trignometricFunction.Tan||(c.sineCosLine.strokeColor=b),c.sineCosLine.strokeWidth=a.SIN_COS_BAR_WIDTH,c.paperScope.project.activeLayer.insertChild(4,c.sineCosLine),!c.trignometricFunction.Cos&&c._radiusLine&&c.paperScope.project.activeLayer.insertChild(3,c._radiusLine),c.sineCosLine.bringToFront()),c.tempCosLine&&!c.trignometricFunction.Sine&&c.tempCosLine.bringToFront(),c._rotatingCircleGroup.bringToFront(),e===!0&&c.borderCircle.bringToFront(),c._centerCircle.bringToFront(),c.paperScope.view.draw()},trignometricOutput:function(a,b,c){var d=0;return d=this.trignometricFunction.Sine?c*Math.sin(b*a*Math.PI/180):this.trignometricFunction.Cos?c*Math.cos(b*a*Math.PI/180):c*Math.tan(b*a*Math.PI/180),d=Math.round(1e3*d)/1e3},resetData:function(){this.renderElements&&(this._resetViewParam(),this._renderElements(this.initVectAngle),this.renderInitLabels(),this._changeLineColor(),this._updateDistanceMultDomValue(this.currentDistanceScale),this._updateRadiusDomValue(this.currentRadiusScale),this.mathJaxOutput(this.currentAngle,this.currentDistanceScale,this.currentRadiusScale),this.maxValuePossible(this.baseAngleValue,this.currentDistanceScale,this.currentRadiusScale),this.paperScope.view.draw())},resetAllData:function(){this.renderElements?(this.paperScope.activate(),this._resetViewParam(),this.$el.find(".circle-labels").empty(),this.currentRadiusScale=this.radiusView.getSelectedValue(),this.currentDistanceScale=this.distanceView.getSelectedValue(),this._radius=this.originalRadius*this.currentRadiusScale,this._renderInitElements(),this._renderElements(this.initVectAngle),this.renderInitLabels(),this._changeLineColor(),this.mathJaxOutput(a.INITIAL_ANGLE,this.currentDistanceScale,this.currentRadiusScale),this.maxValuePossible(this.baseAngleValue,this.currentDistanceScale,this.currentRadiusScale),this.paperScope.view.draw(),this.trigger(c.ExploreTrignometricGraphing.CHANGE_ANGLE,0,!0)):(this._activatePaperScope(),this.currentRadiusScale=this.model.get("radiusSliderData").defaultValue,this.radiusView.setSelectedValue(this.model.get("radiusSliderData").defaultValue),this._updateRadiusDomValue(this.currentRadiusScale),this.currentDistanceScale=this.model.get("distanceSliderData").defaultValue,this.distanceView.setSelectedValue(this.model.get("distanceSliderData").defaultValue),this._updateDistanceMultDomValue(this.currentDistanceScale),this._renderInitElements(),this.paperScope.view.draw()),MathInteractives.global.SpeechStream.stopReading()},_resetViewParam:function(){this._activatePaperScope(),this.bubbleGroup.removeChildren(),this._dragHandle&&this._dragHandle.remove(),this._centerCircle.remove(),this._circle.remove(),this._dragCircle.remove(),this._rotatingCircleGroup.remove(),this.radialGroup.remove(),this._radiusLine&&this._radiusLine.remove(),this.diameterLine.remove(),this.imposedCircle&&this.imposedCircle.remove(),this.dragItemPos=null,this._radiusVector=null,this.lastAngle=0,this.previousAngle=null,this.positiveFullArc=!1,this.negativeFullArc=!1,this.allowRotation=!0,this.mouseLeftClick=!1,this.currentAngle=0,this.initVectAngle=0,this.maxVisitedAnglePos=0,this.maxVisitedAngleNeg=0,this.maxVisitedImposedPos=0,this.maxVisitedImposedNeg=0,this.firstDrag=!0,this.accCurrentAngle=0,this.sineCosLine&&this.sineCosLine.remove(),this.tempCosLine&&this.tempCosLine.remove(),this.tanLine&&this.tanLine.remove(),this._dragHandle=null,this.toolMouseUpCheck=!1,this.handCursorFlag=!1,this.rotatingDirection="",this.condition=null,this.initialFlightAngle=this.initVectAngle},_bindCanvasEvents:function(){var b,d=this;this._bindRotateToolEvents(),this.tool.on({mouseup:function(e){d.$(".rotate-animation-canvas").trigger("click"),d.mouseLeftClick=!1,d.toolMouseUpCheck===!0&&d._onMouseUpHandle(d.centerPoint),d.handCursorFlag===!1?d.$(".rotate-animation-canvas").css({cursor:"default"}):MathInteractives.Common.Utilities.Models.BrowserCheck.isMobile||d.$(".rotate-animation-canvas").css({cursor:'url("'+d.filePath.getImagePath("open-hand")+'"), move'}),d.toolMouseUpCheck=!1;var f,g,h=[0],i=[0],j=0,k=0,l="none";f=d.showPointsCount+1;for(var m=0;f>m;m++)j+=d.baseAngleValue,k-=d.baseAngleValue,h.push(j),i.push(k);if(g=d.currentAngle<0?i:h,d.currentAngle>0){for(var n=0;f>n;n++)if(d.currentAngle>g[n]-a.ANGLE_MARGIN_TO_DROP&&d.currentAngle<g[n]+a.ANGLE_MARGIN_TO_DROP){l=n;break}}else for(var n=0;f>n;n++)if(d.currentAngle>g[n]-a.ANGLE_MARGIN_TO_DROP&&d.currentAngle<g[n]+a.ANGLE_MARGIN_TO_DROP){l=n;break}if("none"!==l&&g[l]!==d.currentAngle){var o=0,p=null,q=null;o=d.currentAngle<0?-(180+g[l]-d.initVectAngle):180+d.initVectAngle-g[l],q=d.centerPoint.x+d._radius*Math.cos((o+180)*Math.PI/180),p=d.centerPoint.y+d._radius*Math.sin((o+180)*Math.PI/180),d._dragCircle.position=new d.paperScope.Point(q,p),d._dragHandle.position=new d.paperScope.Point(q,p),d._radiusVector=new d.paperScope.Point(d.centerPoint.x,d.centerPoint.y).subtract(new d.paperScope.Point(d._dragHandle.position.x,d._dragHandle.position.y)),d.trignometricFunction.Cos||(d._radiusLine.removeSegments(1),d._radiusLine.add(d._dragHandle.position)),d._dragCircle.rotate(g[l]),d.currentAngle=g[l],d._changeLineColor(),d.mathJaxOutput(d.currentAngle,d.currentDistanceScale,d.currentRadiusScale),d.drawImposedCircle(d.currentAngle),d.trigger(c.ExploreTrignometricGraphing.CHANGE_ANGLE,d.currentAngle,!0),b=0,d._drawBubbles(b,!0),MathInteractives.Common.Utilities.Models.BrowserCheck.isMobile&&(d._dummyDragCircle.position=d._dragCircle.position)}},mousedown:function(a){d.handCursorFlag===!0&&(MathInteractives.Common.Utilities.Models.BrowserCheck.isMobile||1!=a.event.which&&0!=a.event.which?d.mouseLeftClick=!0:(d.$(".rotate-animation-canvas").css({cursor:'url("'+d.filePath.getImagePath("closed-hand")+'"), move'}),1===a.event.which&&(d.mouseLeftClick=!0)))}})},_getJsonOfSurd:function(a,b,c){var d={};d.surdType={Type1:!1,Type2:!1,Type3:!1,Type4:!1,Type5:!1,Type6:!1,Type7:!1,Type8:!1,Type9:!1,Type10:!1,Type11:!1,Type12:!1,Type13:!1,Type14:!1,Type15:!1,Type16:!1};var e=a*b,f=0,g=0;switch(g=this.trignometricFunction.Sine?Math.sin(e*Math.PI/180):this.trignometricFunction.Cos?Math.cos(e*Math.PI/180):Math.tan(e*Math.PI/180),g=Math.round(1e4*g)/1e4,f=Math.abs(g),(f>100||-100>f)&&(f=1/0),f){case.7071:d.surdType.Type7=!0,d={surdType:d.surdType,val1:2,idPrefix:this.idPrefix,mainOperator:"",valDen:2,radius:""};break;case.5:d.surdType.Type6=!0,d={surdType:d.surdType,val1:1,idPrefix:this.idPrefix,mainOperator:"",valDen:2,radius:""};break;case.866:d.surdType.Type7=!0,d={surdType:d.surdType,val1:3,idPrefix:this.idPrefix,mainOperator:"",valDen:2,radius:""};break;case.3827:d.surdType.Type2=!0,d={surdType:d.surdType,val1:2,idPrefix:this.idPrefix,operator:"-",mainOperator:"",val2:2,valDen:2,radius:""};break;case.2588:d.surdType.Type1=!0,d={surdType:d.surdType,val1:6,idPrefix:this.idPrefix,operator:"+",val2:2,mainOperator:"",valDen:4,radius:""};break;case.9659:d.surdType.Type1=!0,d={surdType:d.surdType,val1:6,idPrefix:this.idPrefix,operator:"-",val2:2,mainOperator:"",valDen:4,radius:""};break;case.9239:d.surdType.Type2=!0,d={surdType:d.surdType,val1:2,idPrefix:this.idPrefix,operator:"+",val2:2,mainOperator:"",valDen:2,radius:""};break;case.1951:d.surdType.Type5=!0,d={surdType:d.surdType,val1:2,idPrefix:this.idPrefix,operator:"-",operator1:"+",val2:2,val3:2,val4:2,mainOperator:"",valDen:2,radius:""};break;case 1:case 0:d.surdType.Type10=!0,d={surdType:d.surdType,val1:f,idPrefix:this.idPrefix,mainOperator:"",radius:"",valDen:1},0===f&&(d.valDen="",d.val3="");break;case.5556:d.surdType.Type11=!0,d={surdType:d.surdType,val1:2,idPrefix:this.idPrefix,operator:"-",operator1:"-",val2:2,val3:2,val4:2,mainOperator:"",valDen:2,radius:""};break;case.8315:d.surdType.Type11=!0,d={surdType:d.surdType,val1:2,idPrefix:this.idPrefix,operator:"+",operator1:"-",val2:2,val3:2,val4:2,mainOperator:"",valDen:2,radius:""};break;case.9808:d.surdType.Type11=!0,d={surdType:d.surdType,val1:2,idPrefix:this.idPrefix,operator:"+",operator1:"+",val2:2,val3:2,val4:2,mainOperator:"",valDen:2,radius:""};break;case.1989:d.surdType.Type12=!0,d={surdType:d.surdType,idPrefix:this.idPrefix,val1:4,val2:2,val4:2,val5:2,val6:1,operator1:"+",operator2:"-",operator3:"-",mainOperator:"",valDen:1,radius:"",fenced:!1};break;case.2679:d.surdType.Type13=!0,d={surdType:d.surdType,val1:2,idPrefix:this.idPrefix,operator:"-",val2:3,mainOperator:"",valDen:1,radius:"",fenced:!1};break;case.4142:d.surdType.Type14=!0,d={surdType:d.surdType,val1:2,idPrefix:this.idPrefix,operator:"-",val2:1,mainOperator:"",valDen:1,radius:"",fenced:!1};break;case.5774:d.surdType.Type7=!0,d={surdType:d.surdType,val1:3,idPrefix:this.idPrefix,mainOperator:"",valDen:3,radius:""};break;case.6682:d.surdType.Type12=!0,d={surdType:d.surdType,idPrefix:this.idPrefix,val1:4,val2:2,val4:2,val5:2,val6:1,operator1:"-",operator2:"-",operator3:"+",mainOperator:"",valDen:1,radius:"",fenced:!1};break;case 1.4966:d.surdType.Type12=!0,d={surdType:d.surdType,idPrefix:this.idPrefix,val1:4,val2:2,val4:2,val5:2,val6:1,operator1:"-",operator2:"+",operator3:"-",mainOperator:"",valDen:1,radius:"",fenced:!1};break;case 1.7321:d.surdType.Type7=!0,d={surdType:d.surdType,val1:3,idPrefix:this.idPrefix,mainOperator:"",valDen:1,radius:""};break;case 2.4142:d.surdType.Type14=!0,d={surdType:d.surdType,val1:2,idPrefix:this.idPrefix,operator:"+",val2:1,mainOperator:"",valDen:1,radius:"",fenced:!1};break;case 3.7321:d.surdType.Type13=!0,d={surdType:d.surdType,val1:2,idPrefix:this.idPrefix,operator:"+",val2:3,mainOperator:"",valDen:1,radius:"",fenced:!1};break;case 5.0273:d.surdType.Type12=!0,d={surdType:d.surdType,idPrefix:this.idPrefix,val1:4,val2:2,val4:2,val5:2,val6:1,operator1:"+",operator2:"+",operator3:"+",mainOperator:"",valDen:1,radius:"",fenced:!1};break;case 1/0:d.surdType.Type16=!0,d={surdType:d.surdType,idPrefix:this.idPrefix,Infinity:"undefined",radius:"",mainOperator:"",valDen:1}}switch(d.radius=c,d.radius){case.5:d.radius=1,d.valDen=2*d.valDen;break;case.75:d.radius=3,d.valDen=4*d.valDen;break;case 1.25:d.radius=5,d.valDen=4*d.valDen;break;case 1.5:d.radius=3,d.valDen=2*d.valDen;break;case 1.75:d.radius=7,d.valDen=4*d.valDen}if(d.valDen>1&&d.surdType.Type10===!0&&0!==f&&(d.surdType.Type10=!1,d.surdType.Type6=!0),0>g&&f!==1/0&&(d.mainOperator="-"),d.valDen){d.val3=d.valDen;var h=this.findGCD(d.val3,d.radius);h>1&&h%1===0?(d.radius=d.radius/h,d.val3=d.val3/h,1===d.radius?d.radius="":(d.surdType.Type10||d.surdType.Type6)&&(d.val1=d.val1*d.radius,d.radius="")):(d.surdType.Type10||d.surdType.Type6)&&(d.val1=d.val1*d.radius,d.radius="")}return 1===d.val3&&(d.val3=""),(1===d.radius&&!d.surdType.Type11&&!d.surdType.Type5||0===g)&&(d.radius=""),d.denominatorPresent=!0,1===d.val3||""===d.val3?d.denominatorPresent=!1:d.denominatorPresent=!0,(d.surdType.Type12||d.surdType.Type13||d.surdType.Type14||d.surdType.Type15)&&(""!==d.radius||"-"===d.mainOperator)&&(d.fenced=!0),d},_getLatexString:function(a,b,c,d){var e=a*b,f=0,g="",h="",i="";d.radiusValType.Type2?g=d.radiusNormal+". "+d.radiusDecimal+" \\cdot":d.radiusValType.Type3&&(g=d.radiusNormal+" \\cdot"),g=g+"\\"+d.trignometricType,g+="\\left( ",d.distanceValType.Type1||(g=d.distanceValType.Type2?g+""+d.distanceNormal+" . "+d.distanceDecimal+" \\cdot":g+d.distanceNormal+" \\cdot"),d.angleType.Type1?g+=d.angleNormal:g=d.angleType.Type2?g+d.angleType.angleOperator+" \\pi":g+"\\frac{"+d.angleNormal+"}{"+d.angleDenominator+"}",g+="\\right)=";var j=0;switch(j=this.trignometricFunction.Sine?Math.sin(e*Math.PI/180):this.trignometricFunction.Cos?Math.cos(e*Math.PI/180):Math.tan(e*Math.PI/180),j=Math.round(1e4*j)/1e4,f=Math.abs(j),(f>100||-100>f)&&(f=1/0),f){case.7071:h=d.mainOperator+"\\frac{"+d.radius+" \\sqrt{"+d.val1+"}}{"+d.val3+"}",d.denominatorPresent||(h=d.mainOperator+d.radius+"\\sqrt{"+d.val1+"}");break;case.5:h=d.mainOperator+"\\frac{"+d.val1+"}{"+d.val3+"}",d.denominatorPresent||(h=d.mainOperator+d.val1);break;case.866:h=d.mainOperator+"\\frac{"+d.radius+" \\sqrt{"+d.val1+"}}{"+d.val3+"}",d.denominatorPresent||(h=d.mainOperator+d.radius+"\\sqrt{"+d.val1+"}");break;case.3827:h=d.mainOperator+"\\frac{"+d.radius+" \\sqrt{"+d.val1+d.operator+" \\sqrt{"+d.val2+"}}}{"+d.val3+"}",d.denominatorPresent||(h=d.mainOperator+d.radius+"\\sqrt{"+d.val1+d.operator+"\\sqrt{"+d.val2+"}}");break;case.2588:h=d.mainOperator+"$\\frac{"+d.radius+" \\sqrt{\\sqrt{"+d.val1+"} "+d.operator+" \\sqrt{"+d.val2+"}}}{"+d.val3+"}$",d.denominatorPresent||(h=d.mainOperator+d.radius+"\\sqrt{\\sqrt"+d.val1+d.operator+"\\sqrt{"+d.val2+"}}");break;case.9659:h=d.mainOperator+"$\\frac{"+d.radius+" \\sqrt{\\sqrt{"+d.val1+"} "+d.operator+" \\sqrt{"+d.val2+"}}}{"+d.val3+"}$",d.denominatorPresent||(h=d.mainOperator+d.radius+"\\sqrt{\\sqrt"+d.val1+d.operator+"\\sqrt{"+d.val2+"}}");break;case.9239:h=d.mainOperator+"$\\frac{"+d.radius+" \\sqrt{"+d.val1+d.operator+" \\sqrt{"+d.val2+"}}}{"+d.val3+"}$",d.denominatorPresent||(h=d.mainOperator+d.radius+"\\sqrt{"+d.val1+d.operator+"\\sqrt{"+d.val2+"}}");break;case.1951:h=d.mainOperator+"$\\frac{"+d.radius+"}{"+d.val4+"}\\sqrt{"+d.val1+d.operator+" \\sqrt{"+d.val2+d.operator1+" \\sqrt{"+d.val3+"}}}$",d.denominatorPresent||(h=d.mainOperator+d.radius+"\\sqrt{"+d.val1+d.operator+"\\sqrt{"+d.val2+d.operator1+"\\sqrt{"+d.val3+"}}}");break;case 1:case 0:g=g.replace("=","");var k=MathUtilities.Components.EquationEngine.Models.ParserAssist.getEquationAccessibility(d.mainOperator+"\\frac{"+d.val1+"}{"+d.val3+"}");i="equal to "+k,d.denominatorPresent||(i="equal to "+d.mainOperator+d.val1);break;case.5556:h=d.mainOperator+"\\frac{"+d.radius+"}{"+d.val3+"}\\sqrt{"+d.val1+d.operator+" \\sqrt{"+d.val2+d.operator1+" \\sqrt{"+d.val4+"}}}",d.denominatorPresent||(h=d.mainOperator+d.radius+"\\sqrt{"+d.val1+d.operator+" \\sqrt{"+d.val2+d.operator1+"\\sqrt{"+d.val4+"}}}");break;case.8315:h=d.mainOperator+"\\frac{"+d.radius+"}{"+d.val3+"}\\sqrt{"+d.val1+d.operator+" \\sqrt{"+d.val2+d.operator1+" \\sqrt{"+d.val4+"}}}",d.denominatorPresent||(h=d.mainOperator+d.radius+"\\sqrt{"+d.val1+d.operator+" \\sqrt{"+d.val2+d.operator1+"\\sqrt{"+d.val4+"}}}");break;case.9808:h=d.mainOperator+"\\frac{"+d.radius+"}{"+d.val3+"}\\sqrt{"+d.val1+d.operator+" \\sqrt{"+d.val2+d.operator1+" \\sqrt{"+d.val4+"}}}",d.denominatorPresent||(h=d.mainOperator+d.radius+"\\sqrt{"+d.val1+d.operator+" \\sqrt{"+d.val2+d.operator1+"\\sqrt{"+d.val4+"}}}");break;case.1989:h=d.mainOperator+"\\frac{"+d.radius+"}{"+d.val3+"}\\left(( \\sqrt{"+d.val1+d.operator1+d.val2+"\\sqrt{"+d.val4+"}} "+d.operator2+" \\sqrt{"+d.val5+"} "+d.operator3+d.val6+" )\\right)",d.denominatorPresent||(h=d.fenced?d.mainOperator+d.radius+"\\left(\\sqrt{"+d.val1+d.operator1+d.val2+"\\sqrt{"+d.val4+"}}"+d.operator2+"\\sqrt{"+d.val5+"}"+d.operator3+d.val6+"\\right)":"\\sqrt{"+d.val1+d.operator1+d.val2+"\\sqrt{"+d.val4+"}}"+d.operator2+"\\sqrt{"+d.val5+"}"+d.operator3+d.val6);break;case.2679:h=d.mainOperator+"\\frac{"+d.radius+" \\left(( "+d.val1+d.operator+" \\sqrt{"+d.val2+"} )\\right)}{"+d.val3+"}",d.denominatorPresent||(h=d.fenced?d.mainOperator+d.radius+"\\left("+d.val1+d.operator+"\\sqrt{"+d.val2+"} \\right)":d.val1+d.operator+"\\sqrt{"+d.val2+"}");break;case.4142:h=d.mainOperator+"\\frac{"+d.radius+" \\left(( \\sqrt{"+d.val1+"} "+d.operator+d.val2+")\\right)}{"+d.val3+"}",d.denominatorPresent||(h=d.fenced?d.mainOperator+d.radius+"\\left( \\sqrt{"+d.val1+"}"+d.operator+d.val2+" \\right)":"\\sqrt{"+d.val1+"}"+d.operator+d.val2);break;case.5774:h=d.mainOperator+"\\frac{"+d.radius+" \\sqrt{"+d.val1+"}}{"+d.val3+"}",d.denominatorPresent||(h=d.mainOperator+d.radius+"\\sqrt"+d.val1);break;case.6682:h=d.mainOperator+"\\frac{"+d.radius+"}{"+d.val3+"}\\left(( \\sqrt{"+d.val1+d.operator1+d.val2+"\\sqrt{"+d.val4+"}} "+d.operator2+" \\sqrt{"+d.val5+"} "+d.operator3+d.val6+" )\\right)",d.denominatorPresent||(h=d.fenced?d.mainOperator+d.radius+"\\left(\\sqrt{"+d.val1+d.operator1+d.val2+"\\sqrt{"+d.val4+"}}"+d.operator2+"\\sqrt{"+d.val5+"}"+d.operator3+d.val6+"\\right)":"\\sqrt{"+d.val1+d.operator1+d.val2+"\\sqrt{"+d.val4+"}}"+d.operator2+"\\sqrt{"+d.val5+"}"+d.operator3+d.val6);break;case 1.4966:h=d.mainOperator+"\\frac{"+d.radius+"}{"+d.val3+"}\\left(( \\sqrt{"+d.val1+d.operator1+d.val2+"\\sqrt{"+d.val4+"}} "+d.operator2+" \\sqrt{"+d.val5+"} "+d.operator3+d.val6+" )\\right)",d.denominatorPresent||(h=d.fenced?d.mainOperator+d.radius+"\\left(\\sqrt{"+d.val1+d.operator1+d.val2+"\\sqrt{"+d.val4+"}}"+d.operator2+"\\sqrt{"+d.val5+"}"+d.operator3+d.val6+"\\right)":"\\sqrt{"+d.val1+d.operator1+d.val2+"\\sqrt{"+d.val4+"}}"+d.operator2+"\\sqrt{"+d.val5+"}"+d.operator3+d.val6);break;case 1.7321:h=d.mainOperator+"\\frac{"+d.radius+" \\sqrt{"+d.val1+"}}{"+d.val3+"}",d.denominatorPresent||(h=d.mainOperator+d.radius+"\\sqrt{"+d.val1+"}");break;case 2.4142:h=d.mainOperator+"\\frac{"+d.radius+" \\left(( \\sqrt{"+d.val1+"} "+d.operator+d.val2+")\\right)}{"+d.val3+"}",d.denominatorPresent||(h=d.fenced?d.mainOperator+d.radius+"\\left( \\sqrt{"+d.val1+"}"+d.operator+d.val2+" \\right)":"\\sqrt{"+d.val1+"}"+d.operator+d.val2);break;case 3.7321:h=d.mainOperator+"\\frac{"+d.radius+" \\left(( "+d.val1+d.operator+" \\sqrt{"+d.val2+"} )\\right)}{"+d.val3+"}",d.denominatorPresent||(h=d.fenced?d.mainOperator+d.radius+"\\left("+d.val1+d.operator+"\\sqrt{"+d.val2+"} \\right)":d.val1+d.operator+"\\sqrt{"+d.val2+"}");break;case 5.0273:h=d.mainOperator+"\\frac{"+d.radius+"}{"+d.val3+"}\\left(( \\sqrt{"+d.val1+d.operator1+d.val2+"\\sqrt{"+d.val4+"}} "+d.operator2+" \\sqrt{"+d.val4+"} "+d.operator3+d.val6+" )\\right)",d.denominatorPresent||(h=d.fenced?d.mainOperator+d.radius+"\\left(\\sqrt{"+d.val1+d.operator1+d.val2+"\\sqrt{"+d.val4+"}}"+d.operator2+"\\sqrt{"+d.val5+"}"+d.operator3+d.val6+"\\right)":"\\sqrt{"+d.val1+d.operator1+d.val2+"\\sqrt{"+d.val4+"}}"+d.operator2+"\\sqrt{"+d.val5+"}"+d.operator3+d.val6);break;case 1/0:g=g.replace("=",""),i=" equal to "+d.mainOperator+"undefined"}return h=g+h,h=h.replace("π","\\pi"),h=MathUtilities.Components.EquationEngine.Models.ParserAssist.getEquationAccessibility(h),(0===f||1===f||f===1/0)&&(h+=i),h},findGCD:function(a,b){var c=1;if(1!==b){for(c=b>a?a:b,i=c;i>=1;i--)if(b%i==0&&a%i==0){c=i;break}return c}return c},_trignometricMathEquation:function(a,c,d,e){var f;if(f=b.GET_ANGLE_IN_RADIANS(c,!0),a.angleType={Type1:!1,Type2:!1,Type3:!1},"0"===f.numerator||("2π"===f.numerator||"-2π"===f.numerator)&&""===f.denominator?(a.angleType.Type1=!0,a.angleNormal=f.numerator):"π"!==f.numerator&&"-π"!==f.numerator||""!==f.denominator?(a.angleType.Type3=!0,a.angleNormal=f.numerator,a.angleDenominator=f.denominator):(a.angleType.Type2=!0,a.angleType.angleOperator="","-π"===f.numerator&&(a.angleType.angleOperator="-")),a.radiusValType={Type1:!1,Type2:!1,Type3:!1},1===e)a.radiusValType.Type1=!0;else if(e%parseInt(e,10)>0){a.radiusValType.Type2=!0,a.radiusNormal=parseInt(e,10);var g=e.toString().split(".");a.radiusDecimal=g[1]}else a.radiusValType.Type3=!0,a.radiusNormal=e;if(a.distanceValType={Type1:!1,Type2:!1,Type3:!1},1===d)a.distanceValType.Type1=!0;else if(d%parseInt(d,10)>0){a.distanceValType.Type2=!0,a.distanceNormal=parseInt(d,10);var g=d.toString().split(".");a.distanceDecimal=g[1]}else a.distanceValType.Type3=!0,a.distanceNormal=d;var h=0;return this.trignometricFunction.Sine?h=0:this.trignometricFunction.Cos?h=1:this.trignometricFunction.Tan&&(h=2),a.trignometricType=this.getMessage("sin-cos-text",h),a},maxValuePossible:function(a,b,d){var e,f=0,g=0;if(this.trignometricFunction.Tan&&0!==a)for(;360>=g;)e=d*Math.tan(b*g*Math.PI/180),e=Math.round(1e3*e)/1e3,e>f&&100>e&&(f=e),g+=a;this.trigger(c.ExploreTrignometricGraphing.CHANGE_YAXIS_LIMIT,{value:f})},mathJaxOutput:function(a,b,c){var d=(this.trignometricOutput(a,b,c),this._getJsonOfSurd(a,b,c));d=this._trignometricMathEquation(d,a,b,c);var e=this._getLatexString(a,b,c,d);if(this.setAccMessage("equation-container",e),null!==d){outputVal=MathInteractives.Common.Interactivities.TrignometricGraphing.templates.surdsFormat(d).trim(),this.setMessage("output-value",outputVal),!d.denominatorPresent&&(d.surdType.Type10||d.surdType.Type6&&""===d.val3)?this.$el.find(".surd-format").css("margin-top","0px"):this.$el.find(".surd-format").css("margin-top","-5px");var f=this.idPrefix+"surd-format";MathJax.Hub.Queue(["Typeset",MathJax.Hub,f]);var g=this;MathJax.Hub.Queue(function(){if(g.trignometricFunction.Tan){$canvas=$("#"+g.idPrefix+"graph-canvas-container");var a=$canvas.width(),b=parseInt($canvas.css("left").replace("px",""),10),c=$("#"+g.idPrefix+"equation-container").width()+30;if(a>c)$("#"+g.idPrefix+"explore-tab-activity").find(".equation-container-box").css({width:a+"px",left:b+"px"});else{var d=c-a,e=b-d;$("#"+g.idPrefix+"explore-tab-activity").find(".equation-container-box").css({width:c+"px",left:e+"px"})}}g.updateFocusRect("equation-container")})}},_activatePaperScope:function(){this.paperScope.activate()}},{CHANGE_ANGLE:"change-angle",RADIUS_CHANGE:"radiusChangeEvent",DISTANCE_MULTIPLIER_CHANGE:"distanceMultiplierChangeEvent",SHOW_POINT_CHANGE:"showPointChange",CHANGE_YAXIS_LIMIT:"changeYaxisLimit",generateTrignometricGraphView:function(a,b){if(a){var d=new c.ExploreTrignometricGraphing({model:a,el:b});return d}}})}(),function(){var a=null;MathInteractives.Common.Interactivities.TrignometricGraphing.Models.ExploreTrignometricMapping=MathInteractives.Common.Player.Models.BaseInteractive.extend({defaults:function(){return{noOfRadius:null,angleUnit:null,unwrappingCircleActivity:!1,staticData:{circle_centre_coordinates:null,circle_circumference:null,centrePoint:null,numberline_length:null,numberline_coordinates_x:null,numberline_coordinates_y:null,numberline_coordinates_final_x:null,numberline_length_coordinates:null,activityData:null}}},initialize:function(){("undefined"==typeof this.get("activityData")||null===this.get("activityData"))&&this.set("activityData",{hasDirectionText:!0,hasComboBoxes:!0,defaultNoOfRadius:0,unwrappingCircleActivity:!1}),this.set("unwrappingCircleActivity",this.get("activityData").unwrappingCircleActivity),1===this.get("activityData").defaultNoOfRadius?this.setNoOfRadius(2):this.setNoOfRadius(this.get("activityData").defaultNoOfRadius),this.setAngleUnit("Radians"),this.initializeStaticData()},initializeStaticData:function(){var b=Math.PI,c=this.getStaticData(),d=2*b*a.CIRCLE_RADIUS;c.circle_centre_coordinates=[a.CIRCLE_CENTRE_COORDINATES_X,a.CIRCLE_CENTRE_COORDINATES_Y],c.circle_circumference=d,c.numberline_length=d,c.numberline_coordinates_x=a.CIRCLE_CENTRE_COORDINATES_X+d/4,c.numberline_coordinates_y=a.CIRCLE_CENTRE_COORDINATES_Y+a.CIRCLE_RADIUS,c.numberline_coordinates_final_x=c.numberline_coordinates_x+c.numberline_length,c.numberline_length_coordinates=[c.numberline_coordinates_x,c.numberline_coordinates_y]},getNoOfRadius:function(){return this.get("noOfRadius")},setNoOfRadius:function(a){this.set("noOfRadius",a)},getAngleUnit:function(){return this.get("angleUnit")},setAngleUnit:function(a){this.set("angleUnit",a)},getStaticData:function(){return this.get("staticData")},setStaticData:function(a){this.set("staticData",a)}},{CIRCLE_CENTRE_COORDINATES_X:140,CIRCLE_CENTRE_COORDINATES_Y:195,CIRCLE_RADIUS:87,CIRCLE_COLOR:"#8cb61d",REMAINING_CIRCLE_COLOR:"#7b7272",REMAINING_CIRCLE_WIDTH:1,NUMBERLINE_COLOR:"#FFFFFF",NUMBERLINE_THICKNESS:2,DRAG_HANDLE_GRADIENT:["#329fc3","#02375c"],DRAG_HANDLE_GRADIENT_HOVER:["#02375c","#329fc3"],DRAG_HANDLE_RADIUS:10,LABEL_OFFSET:30,LABEL_OFFSET_FOR_UNWRAPPING:30,NUMBERLINE_TO_LABEL_PADDING:18,TICK_LENGTH:29,FOCUS_RECT_STROKE_WIDTH:2,FOCUS_RECT_COLOR:"#aaa",RADIUS_CHANGE:"radius-change",UNWRAPPING_CIRCLE_ACTIVITY:{unwrappingCircleActivity:!0,hasDirectionText:!0,hasComboBoxes:!1,defaultNoOfRadius:1}}),a=MathInteractives.Common.Interactivities.TrignometricGraphing.Models.ExploreTrignometricMapping}(),function(){var a=null,b=MathInteractives.Common.Interactivities.TrignometricGraphing.Models.ExploreTrignometricMapping;MathInteractives.Common.Interactivities.TrignometricGraphing.Views.ExploreTrignometricMapping=MathInteractives.Common.Player.Views.Base.extend({filePath:null,manager:null,player:null,idPrefix:null,paperScope:null,activityData:null,rotatingCircle:null,staticData:null,comboBoxView:null,feedbackView:null,circleCrossedOver:null,directionTextView:null,directionButtonFunction:"Reset",circlePositionForAcc:0,lastCirclePositionForAcc:0,exploreMappingDirectionText:null,canvasAcc:null,partiallyMoved:null,completelyMoved:!1,displayedPoints:[],isPointsGenerated:!1,isDraggedToNext:!1,noOfLabelsPlaced:null,noOfLabelsPlacedOnCircle:null,mappingFocusRect:null,verticalEndingTick:null,canvasAccPrevTextData:{},wasCircleOnLastValue:!1,initialize:function(){this.rotatingCircle={circle:null,noOfRadius:null,radialGroup:null,bubbleGroup:null,labelDataArray:null,dragHandle:null,numberLine:null,numberLineTicksGroup:null,imposedCircle:null,remainingCircle:null,imposedLine:null,startingTick:null,$lastLabel:null};var a=this.model,b=a.get("unwrappingCircleActivity");this.filePath=a.get("path"),this.manager=a.get("manager"),this.player=a.get("player"),this.idPrefix=this.player.getIDPrefix(),this.activityData=a.get("activityData"),this.renderTemplate(),this.setBackgroundImage(),this.setPaperScope(),this.initializeDirectionText(),this.loadScreen("exploreMapping-tab"),this.tool=new this.paperScope.Tool,this.tool.onMouseDrag=function(){},b||this.initializeComboBoxes(),this.renderInitialState(),this.bindTabChangeEventHandler(),this.displayedPoints[0]=0,this._initAccessibility(),this._bindAccessibilityListeners(),this.$("#"+this.idPrefix+"mapping-tab-canvas-acc-container-acc-elem").on("keydown",$.proxy(this.setDefaultAcc,this))},renderTemplate:function(){var a=MathInteractives.Common.Interactivities.TrignometricGraphing.templates.trignometricMapping(this.model.toJSON()).trim();this.$el.append(a)},bindTabChangeEventHandler:function(){this.player.bindTabChange(function(){this.model.get("unwrappingCircleActivity")===!1&&this.setFocus("exploreMapping-direction-text-holder-direction-text-text")},this,1)},_changeRadianToLength:function(a){return 0!==a&&"0"!==a&&(a+="<span class='font-italic'>r</span>"),a},setBackgroundImage:function(){$("#"+this.idPrefix+"activity-area-1").css({"background-image":'url("'+this.filePath.getImagePath("activity-area")+'")'})},initializeDirectionText:function(){this.loadScreen("exploreMapping-direction");var a={text:this.getMessage("exploreMapping-direction-text",0),accText:this.getAccMessage("exploreMapping-direction-text",0),idPrefix:this.idPrefix,containerId:this.idPrefix+"exploreMapping-direction-text-holder",manager:this.manager,path:this.filePath,player:this.player,ttsColorType:MathInteractives.global.Theme2.Button.COLORTYPE.TTS_WHITE,tabIndex:550,buttonTabIndex:700,textColor:"#ffffff",containmentBGcolor:"rgba(0,0,0,.14)",showButton:!0,buttonText:this.getMessage("exploreMapping-direction-text",1),clickCallback:{fnc:this.renderInitialState,scope:this}};this.model.get("unwrappingCircleActivity")===!0&&(a.showButton=!1,a.btnTextColor=" #1f0c01",a.ttsBaseClass="custom-btn-tts-yellow",a.ttsBaseClass="custom-btn-tts-yellow",a.btnBaseClass="try-button"),this.directionTextView=MathInteractives.global.Theme2.DirectionText.generateDirectionText(a)},_onNextClick:function(){this.model.get("unwrappingCircleActivity")===!1?(this.player.switchToTab(2),this.setFocus("header-subtitle")):this.trigger("MathInteractives.Common.Interactivities.TrignometricGraphing.Views.ExploreTrignometricMapping.NEXT_BUTTON_CLICKED")},renderInitialState:function(){this._enableDisableTryAnotherButton(!1),this.circleCrossedOver=!1,this.partiallyMoved=[],this.completelyMoved=!1,this.setNumberOfRadius(),this.setStaticData(),this.render(),this.noOfLabelsPlaced=0,this.noOfLabelsPlacedOnCircle=this.rotatingCircle.noOfRadius,this.canvasAccPrevTextData={},this.changeAccMessage("mapping-tab-activity-acc-container",0),this.changeAccMessage("mapping-tab-canvas-acc-container",0),this.lastCirclePositionForAcc=0,this.$el.find("#"+this.idPrefix+"dummy-center-help").css({left:this.rotatingCircle.dragHandle.position.x-10}),MathInteractives.global.SpeechStream.stopReading(),this.player.enableHelpElement("dummy-center-help",0,!0),this.setFocus("mapping-tab-activity-acc-container"),this.model.get("unwrappingCircleActivity")===!0&&this.setTabIndex("mapping-tab-canvas-acc-container",610)},initializeComboBoxes:function(){var a={player:this.player,path:this.filePath,idPrefix:this.idPrefix,manager:this.manager,screenId:"points-combobox-screen",containerId:"mapping-tab-combobox-holder",defaultOptionType:MathInteractives.Common.Components.Theme2.Models.Combobox.DEFAULT_OPTION_TYPES.DEFAULT_TEXT,options:["4","6","8","12","16"]},b=new MathInteractives.Common.Components.Theme2.Models.Combobox(a),c=new MathInteractives.Common.Components.Theme2.Views.Combobox({
el:"#"+a.idPrefix+a.containerId,model:b});c.model.on("change:selectedOptionData",$.proxy(this.onSelectRadius,this))},onSelectRadius:function(b,c){var d=Number(c),e=this.$(".mapping-tab-canvas-container");this.setTabIndex("mapping-tab-canvas-acc-container",610),this.model.setNoOfRadius(d),16===d&&this.model.getAngleUnit()===a.ANGLE_UNITS[0]?e.addClass(a.MAX_POINTS):e.removeClass(a.MAX_POINTS)},setPaperScope:function(){this.paperScope=new paper.PaperScope,this.paperScope.setup(this.idPrefix+"mapping-canvas")},setNumberOfRadius:function(){var a=this.model.get("noOfRadius");this.rotatingCircle.noOfRadius=a},setStaticData:function(){var a=this.model.getStaticData();a.centrePoint=new this.paperScope.Point(a.circle_centre_coordinates),this.staticData=a},render:function(){this.renderCanvasElements(),this.renderLabels(),this.bindEventHandlers(),this.generateButtons()},generateButtons:function(){var a={idPrefix:this.idPrefix,player:this.player,manager:this.manager,path:this.filePath,data:{id:this.idPrefix+"next-button-container",text:this.getMessage("next-button-text",0),type:MathInteractives.global.Theme2.Button.TYPE.FA_ICONTEXT,icon:{faClass:this.filePath.getFontAwesomeClass("next"),fontSize:18,fontColor:"#ffffff",fontWeight:"normal",height:15,width:9},textPosition:"left",width:112,baseClass:"next-button-class"}};this.model.get("unwrappingCircleActivity")===!0&&(a={idPrefix:this.idPrefix,player:this.player,manager:this.manager,path:this.filePath,data:{id:this.idPrefix+"next-button-container",text:this.getMessage("next-button-text",0),type:MathInteractives.global.Theme2.Button.TYPE.TEXT}},a.data.baseClass="step1-next-button",a.data.textColor="#1f0c01"),this.nextBtnView=new MathInteractives.global.Theme2.Button.generateButton(a),this.nextBtnView.$el.on("click",$.proxy(this._onNextClick,this)),this.showHideNextButton(!1),this.loadScreen("mapping-tab-button-screen")},showHideNextButton:function(a){a===!0?this.nextBtnView.$el.show():this.nextBtnView.$el.hide()},renderCanvasElements:function(){this.paperScope.activate(),this.renderCircle(),this.renderDragHandle(),this.renderNumberLine(),this.paperScope.view.draw()},bindEventHandlers:function(){this.model.off("change:noOfRadius").on("change:noOfRadius",$.proxy(this.renderInitialState,this)),this.rotatingCircle.noOfRadius>0&&(this.bindEventForHandCursorOnHandle(),this.bindDragHandleEvent())},renderCircle:function(){this.paperScope.activate();var c=this.paperScope,d=this.staticData,e=d.centrePoint.clone(),f=this.rotatingCircle,g=f.circle,h=f.radialGroup,i=f.bubbleGroup,j=null,k=null,l=null,m=this.model.get("unwrappingCircleActivity"),n=f.noOfRadius;f.imposedCircle&&f.imposedCircle.remove(),f.remainingCircle&&f.remainingCircle.remove(),g&&g.remove(),g=new c.Path.Circle(e,b.CIRCLE_RADIUS),h&&h.remove(),h=new c.Group,i&&i.remove(),i=new c.Group,g.strokeColor=b.CIRCLE_COLOR,g.strokeWidth=b.NUMBERLINE_THICKNESS,g.fillColor="#252525",h=a.SHOW_RADIUS(c,h,e,b.CIRCLE_RADIUS,f.noOfRadius,"#FFFFFF");for(var o=0;n>o;o++)l=h.children[o],j=l.lastSegment.point,k=a.SHOW_BUBBLE(c,j.getX(),j.getY(),"red",!1),i.addChild(k);m&&(h.children[1].opacity=0),f.radialGroup=h,f.bubbleGroup=i,f.circle=g},renderDragHandle:function(){var b=this.paperScope,c=(this.staticData.centrePoint.clone(),this.rotatingCircle.dragHandle);c&&c.remove(),c=new b.Path.Circle(a.DRAG_HANDLE_DATA),c.shadowOffset=new b.Point([2,2]),this.rotatingCircle.dragHandle=c,this.isAccessible()&&this.drawFocusRect(c,0)},drawFocusRect:function(a,c){this.mappingFocusRect&&this.mappingFocusRect.remove();var d=b.FOCUS_RECT_COLOR,e=b.FOCUS_RECT_STROKE_WIDTH,f={strokeColor:d,dashArray:[2,2],strokeWidth:e};this.mappingFocusRect=new this.paperScope.Path.Rectangle(new this.paperScope.Point(a.position.x-11,a.position.y-11),a.bounds.height+2,a.bounds.width+2),this.mappingFocusRect.style=f,this.mappingFocusRect.opacity=c,this.mappingFocusRect.insertAbove(this.rotatingCircle.dragHandle)},renderNumberLine:function(){var c=this.paperScope,d=this.staticData,e=this.rotatingCircle,f=e.numberLine,g=this.rotatingCircle.numberLineTicksGroup,h=(this.$(".mapping-tab-canvas-container"),null);e.imposedLine&&e.imposedLine.remove(),f&&f.remove(),f=new c.Path,g&&g.remove(),g=new c.Group,f.strokeColor=b.NUMBERLINE_COLOR,f.strokeWidth=b.NUMBERLINE_THICKNESS,f.add(new c.Point(d.numberline_length_coordinates)),f.add(new c.Point(d.numberline_coordinates_final_x,d.numberline_coordinates_y)),h=a.SHOW_VERTICAL_TICK_AT(c,d.numberline_coordinates_x,d.numberline_coordinates_y),endingTick=a.SHOW_VERTICAL_TICK_AT(c,d.numberline_coordinates_final_x-Math.floor(b.NUMBERLINE_THICKNESS/2),d.numberline_coordinates_y),this.verticalEndingTick=endingTick,e.numberLineTicksGroup=g,e.startingTick=h,e.numberLine=f},renderLabels:function(){this.$("."+a.FRACTION_CLASS).remove();var c=(this.paperScope,this.staticData),d=this.rotatingCircle,e=d.radialGroup,f=(e.children,d.noOfRadius),g=e.children.length,h=(d.circle,b.LABEL_OFFSET),i=h/2,j=null,k=null,l=[],m=null,n=this.$(".mapping-tab-canvas-container"),o=null,p=null,q=c.numberline_coordinates_x,r=c.numberline_coordinates_y,s=c.circle_circumference+q,t=this.model.get("unwrappingCircleActivity"),u=!0,v={x:s-i,y:Math.round(r+i)},w=this.model.getAngleUnit()===a.ANGLE_UNITS[0]?!1:!0;if(w===!0?(m=a.GET_ANGLE_IN_RADIANS(360,!0),m.numerator=t?this._changeRadianToLength(m.numerator):m.numerator,o=a.GET_FRACTION_DIV_STRUCTURE(m.numerator,m.denominator)):o=a.GET_FRACTION_DIV_STRUCTURE(360,""),n.append(o),o.css({top:v.y,left:v.x}),t&&this._showHideLabel(o,u),o.removeClass(a.EMPTY_DENOMINATOR_CLASS).addClass(a.NO_SEPARATOR_ClASS),this.rotatingCircle.$lastLabel=o,w===!0)for(j=0;g>j;j++)k=360*j/f,m=a.GET_ANGLE_IN_RADIANS(k),m.numerator=t?this._changeRadianToLength(m.numerator):m.numerator,o=a.GET_FRACTION_DIV_STRUCTURE(m.numerator,m.denominator),n.append(o),p={$div:o,isOnCircle:!0},l.push(p),t&&this._showHideLabel(o,u);else for(j=0;g>j;j++)k=360*j/f,o=a.GET_FRACTION_DIV_STRUCTURE(k,""),n.append(o),p={$div:o,isOnCircle:!0},l.push(p);var x=$("<div>",{id:this.idPrefix+a.RADIUS_LABEL_CLASS,"class":a.RADIUS_LABEL_CLASS}).html(this.getMessage("radius-label-container",0));0===$("."+a.RADIUS_LABEL_CLASS).length&&this.model.get("unwrappingCircleActivity")===!0&&n.append(x),this.rotatingCircle.labelDataArray=l,this.placeLabelsOnCircle()},_initAccessibility:function(){var a={canvasHolderID:this.idPrefix+"mapping-tab-canvas-acc-container",paperItems:[],paperScope:this.paperScope,manager:this.manager,player:this.player};this.canvasAcc=MathInteractives.global.CanvasAcc.intializeCanvasAcc(a),this.canvasAcc.updatePaperItems(this.getPaperObjects())},getPaperObjects:function(){var a=[];return a.push(this.rotatingCircle.dragHandle),a},setAccOfUnwrapping:function(){return this.model.get("unwrappingCircleActivity")===!0?(0===this.circlePositionForAcc?this.changeAccMessage("mapping-tab-activity-acc-container",this.lastCirclePositionForAcc):this.changeAccMessage("mapping-tab-activity-acc-container",this.circlePositionForAcc),void this.changeAccMessage("mapping-tab-canvas-acc-container",this.circlePositionForAcc)):void 0},setDefaultAcc:function(a){var b=a.keycode?a.keycode:a.which;32===b&&(this.isFocusInCanvas=!0,0!==this.lastCirclePositionForAcc?this.circlePositionForAcc=this.lastCirclePositionForAcc:this.circlePositionForAcc=1,this.mappingFocusRect.opacity=1,this.canvasAccPrevTextData&&this.canvasAccPrevTextData.id?this.changeAccMessage("mapping-tab-canvas-acc-container",this.canvasAccPrevTextData.id,this.canvasAccPrevTextData.placeHolders):(this._changeCanvasAccText("mapping-tab-canvas-acc-container",1),this._enableDisableTryAnotherButton(!1))),9===b&&(this.mappingFocusRect.opacity=0,this.paperScope.view.draw(),this.changeAccMessage("mapping-tab-canvas-acc-container",0),this.isFocusInCanvas&&(this.lastCirclePositionForAcc=this.circlePositionForAcc,this.circlePositionForAcc=0,this.isFocusInCanvas=!1)),this.setAccOfUnwrapping()},_changeCanvasAccText:function(a,b,c){this.changeAccMessage(a,b,c),this.canvasAccPrevTextData.id=b,this.canvasAccPrevTextData.placeHolders=c},_bindAccessibilityListeners:function(){var a=MathInteractives.Common.Player.Models.CanvasAcc.CANVAS_KEY_EVENTS,b=(MathInteractives.Common.Player.Models.CanvasAcc.CANVAS_EVENTS,$("#"+this.idPrefix+"mapping-tab-canvas-acc-container"));b.off(a.ARROW).on(a.ARROW,$.proxy(this.arrowKeyPressed,this))},arrowKeyPressed:function(a,c){var d,e,f=this,g=c.item,h=(c.point,2*b.CIRCLE_RADIUS*Math.PI/120);this.model.get("noOfRadius");a.target=g,a.target.name=g.name,a.event=a,a.event.which=1,d=this.rotatingCircle.dragHandle.position.getX()+c.directionX*h,f.rotatingCircle.dragHandle.position.getX()>f.staticData.numberline_coordinates_x&&(e=Math.round(360*(f.rotatingCircle.dragHandle.position.getX()-f.staticData.numberline_coordinates_x)/(2*b.CIRCLE_RADIUS*Math.PI))),a.point={x:d},this.rotatingCircle.dragHandle.onMouseDrag(!1,a.point.x,c)},changeLabels:function(){var b=(this.paperScope,this.staticData,this.rotatingCircle),c=b.radialGroup,d=(c.children,b.noOfRadius),e=c.children.length,f=this.$(".mapping-tab-canvas-container"),g=null,h=null,i=null,j=this.rotatingCircle.labelDataArray,k=null,l=null,m=!0,n=this.model.get("unwrappingCircleActivity"),o=null,p=this.model.getAngleUnit()===a.ANGLE_UNITS[0]?!1:!0;if(p===!0?(k=a.GET_ANGLE_IN_RADIANS(360,!0),k.numerator=n?this._changeRadianToLength(k.numerator):k.numerator,$fractionContainer=a.GET_FRACTION_DIV_STRUCTURE(k.numerator,k.denominator)):$fractionContainer=a.GET_FRACTION_DIV_STRUCTURE(360,""),g=b.$lastLabel.position(),$fractionContainer.css({top:g.top,left:g.left}),$fractionContainer.removeClass(a.EMPTY_DENOMINATOR_CLASS).addClass(a.NO_SEPARATOR_ClASS),b.$lastLabel.remove(),f.append($fractionContainer),b.$lastLabel=$fractionContainer,n&&(this._setPositionOfLastLabel($fractionContainer),this._showHideLabel($fractionContainer,m)),p===!0)for(h=0;e>h;h++)o=j[h],i=360*h/d,k=a.GET_ANGLE_IN_RADIANS(i),k.numerator=n?this._changeRadianToLength(k.numerator):k.numerator,l=a.GET_FRACTION_DIV_STRUCTURE(k.numerator,k.denominator),o.isOnCircle===!1&&""===k.denominator&&l.removeClass(a.EMPTY_DENOMINATOR_CLASS).addClass(a.NO_SEPARATOR_ClASS),o.$div.remove(),f.append(l),o.$div=l,n&&this._showHideLabel(l,m);else for(h=0;e>h;h++)o=j[h],i=360*h/d,l=a.GET_FRACTION_DIV_STRUCTURE(i,""),o.$div.remove(),f.append(l),o.$div=l;this.updateLabels(!0)},_setPositionOfLastLabel:function(a){var c=this.staticData,d=c.numberline_coordinates_x,e=c.numberline_coordinates_y,f=c.numberline_length,g=this.idPrefix,h=b.NUMBERLINE_TO_LABEL_PADDING,i=b.LABEL_OFFSET_FOR_UNWRAPPING/2;this.$("#"+g);a.css({top:e+h,left:d+f-i})},_showHideLabel:function(a,b){b?a.hide():b===!1&&a.show()},_showAllLabels:function(){this.$(".fraction-container.no-separator").show()},bindEventForHandCursorOnHandle:function(){var a=this,c=this.tool,d=this.$el,e=!1,f='url("'+a.filePath.getImagePath("open-hand")+'"), move',g='url("'+a.filePath.getImagePath("closed-hand")+'"), move',h=!1;this.rotatingCircle.dragHandle.onMouseMove=function(b){a.circleCrossedOver!==!0&&d.css({cursor:f})},this.rotatingCircle.dragHandle.onMouseDown=function(b){if(1==b.event.which||0==b.event.which){if(a.circleCrossedOver===!0)return;d.css({cursor:g}),h=!0}},this.rotatingCircle.dragHandle.onMouseUp=function(b){a.circleCrossedOver!==!0&&d.css({cursor:"default"})},this.rotatingCircle.dragHandle.onMouseLeave=function(c){if(a.circleCrossedOver!==!0){var f={gradient:{stops:b.DRAG_HANDLE_GRADIENT},origin:[b.CIRCLE_CENTRE_COORDINATES_X,b.CIRCLE_CENTRE_COORDINATES_Y-b.DRAG_HANDLE_RADIUS],destination:[b.CIRCLE_CENTRE_COORDINATES_X,b.CIRCLE_CENTRE_COORDINATES_Y+b.DRAG_HANDLE_RADIUS]};this.fillColor=f,h||(d.css({cursor:"default"}),e=!1)}},this.rotatingCircle.dragHandle.onMouseEnter=function(c){if(a.circleCrossedOver!==!0&&!a.player.getModalPresent()){var d={gradient:{stops:b.DRAG_HANDLE_GRADIENT_HOVER},origin:[b.CIRCLE_CENTRE_COORDINATES_X,b.CIRCLE_CENTRE_COORDINATES_Y-b.DRAG_HANDLE_RADIUS],destination:[b.CIRCLE_CENTRE_COORDINATES_X,b.CIRCLE_CENTRE_COORDINATES_Y+b.DRAG_HANDLE_RADIUS]};this.fillColor=d}},c.onMouseUp=function(a){d.css({cursor:"default"}),h=!1},c.onMouseEnter=function(b){a.paperScope.activate()}},bindDragHandleEvent:function(a){var c=this.rotatingCircle.dragHandle;if(c){var d=this,e=this.paperScope,f=this.staticData,g=this.rotatingCircle,h=null,i=null,j=g.circle,k=g.radialGroup,l=g.bubbleGroup,m=null,n=null,o=null,p=null,q=null,r=null,s=null,t=f.numberline_coordinates_x,u=f.numberline_coordinates_y,v=f.numberline_coordinates_final_x,w=(t+v)/2,x=null,y=null,z=b.CIRCLE_CENTRE_COORDINATES_X,A={segments:[[t,u]],strokeWidth:b.NUMBERLINE_THICKNESS,strokeColor:b.CIRCLE_COLOR},B=null,C=null,D=null,E=null;c.onMouseDrag=function(a,F,G){if(1==a.event.which||0==a.event.which){if(MathInteractives.global.SpeechStream.stopReading(),e.activate(),n=a===!1?F:a.point.x,o=c.position,p=c.position.getX(),q=c.position.getY(),r=null,E=j.position.getX(),E>=z&&v>=E){z>=n?(d.circlePositionForAcc=1,d.completelyMoved=!1):n>z&&t>n?(d.circlePositionForAcc=2,d.completelyMoved=!1):n>=t&&v>n?parseInt(Math.round(1e4*n))/1e4===parseInt(Math.round((t+v)/2*1e4))/1e4?d.circlePositionForAcc="pi-r":(d.circlePositionForAcc=3,d.completelyMoved=!1):n>=v&&(d.circlePositionForAcc=4,d.showHideNextButton(!0),d.completelyMoved=!0),d.setAccOfUnwrapping(),z>n&&(n=z),n>v&&(n=v,j.strokeColor=b.REMAINING_CIRCLE_COLOR,j.strokeWidth=b.REMAINING_CIRCLE_WIDTH,h&&h.remove(),i&&i.remove(),x&&(x.removeChildren(),x.add(new e.Point(t,u)),x.add(new e.Point(t+f.numberline_length,u)))),n===v&&g.$lastLabel.show(),d.changeAccMessage("mapping-tab-activity-acc-container",1),v>n&&(j.strokeColor=b.CIRCLE_COLOR),r=(n-p)/f.circle_circumference*360,s=n>v?v:n,s=z>n?z:n;var H=d.$el.find("#"+d.idPrefix+"dummy-center-help"),I=Math.round(H.width()/2);H.css({left:s-I}),o.setX(s),j.position.setX(s),k.position.setX(s),l.position.setX(s),k.rotate(r),l.rotate(r),E=j.position.getX(),E>t&&v>E?(x&&x.remove(),x=new e.Path(A),y=E-t,x.add(new e.Point(t+y,u)),m=l.firstChild.position,h&&h.remove(),i&&i.remove(),B=new e.Point(m.getX(),m.getY()),D=new e.Point(t+y,u),parseInt(Math.round(1e5*B.x))/1e5===parseInt(Math.round(1e5*D.x))/1e5&&parseInt(Math.round(1e5*B.y))/1e5===parseInt(Math.round(1e5*D.y))/1e5?(j.strokeWidth=b.REMAINING_CIRCLE_WIDTH,j.strokeColor=b.REMAINING_CIRCLE_COLOR):(C=E>w?j.getNearestPoint(new e.Point(w,u-b.CIRCLE_RADIUS)):j.getNearestPoint(new e.Point((B.x+D.x)/2,(B.y+D.y)/2)),D.x===C.x&&D.y===C.y&&(C.x=C.x-b.CIRCLE_RADIUS,C.y=C.y-b.CIRCLE_RADIUS),h=new e.Path.Arc(B,C,D),h.strokeWidth=b.REMAINING_CIRCLE_WIDTH,h.strokeColor=b.REMAINING_CIRCLE_COLOR,C=w>=E?j.getNearestPoint(new e.Point(w,u-b.CIRCLE_RADIUS)):j.getNearestPoint(new e.Point((B.x+D.x)/2,(B.y+D.y)/2)),i=new e.Path.Arc(B,C,D),i.strokeWidth=b.NUMBERLINE_THICKNESS,i.strokeColor=b.CIRCLE_COLOR,j.strokeWidth=0,h.bringToFront(),x.bringToFront(),g.numberLineTicksGroup.bringToFront(),d.verticalEndingTick.bringToFront())):(t>n&&(j.strokeColor=b.CIRCLE_COLOR,j.strokeWidth=b.NUMBERLINE_THICKNESS,x&&x.remove(),h&&h.remove(),i&&i.remove()),n>v&&(j.strokeWidth=b.REMAINING_CIRCLE_WIDTH,j.strokeColor=b.REMAINING_CIRCLE_COLOR,h&&h.remove(),i&&i.remove(),x&&(x.removeChildren(),x.add(new e.Point(t,u)),x.add(new e.Point(t+f.numberline_length,u))))),g.remainingCircle=i,g.imposedCircle=h,g.imposedLine=x,d.isAccessible()&&d.drawFocusRect(c,1)}d.updateLabels(!1,G)}}}},_enableDisableTryAnotherButton:function(a){this.model.get("unwrappingCircleActivity")===!1&&null!==this.directionTextView&&(a===!0?this.directionTextView.changeButtonState(MathInteractives.global.Theme2.Button.BUTTON_STATE_ACTIVE):this.directionTextView.changeButtonState(MathInteractives.global.Theme2.Button.BUTTON_STATE_DISABLED))},updateLabels:function(c,d){var e=(this.paperScope,this.staticData),f=this.rotatingCircle,g=f.labelDataArray,h=g.length,i=f.radialGroup,j=i.children,k=f.circle,l=f.numberLineTicksGroup,m=(b.LABEL_OFFSET,null),n=e.numberline_coordinates_x,o=e.numberline_coordinates_final_x,p=(e.numberline_coordinates_y,null),q=k.position.getX(),r=(k.position.getY(),360/f.noOfRadius),s=Math.round(r/360*2*Math.PI*b.CIRCLE_RADIUS),t=Math.ceil((q-n)/s),u=h-t,v=null,w=this.model.get("unwrappingCircleActivity"),x=b.CIRCLE_CENTRE_COORDINATES_X,y=null;if(q>=x&&o>=q){w&&o>q&&f.$lastLabel.hide(),n>q&&q>x&&(this._changeCanvasAccText("mapping-tab-canvas-acc-container",7),this._enableDisableTryAnotherButton(!0)),(x>=q||.02>=q-x)&&(this._changeCanvasAccText("mapping-tab-canvas-acc-container",1),this.changeAccMessage("mapping-tab-activity-acc-container",0),this.nextBtnView.$el&&"block"!==this.nextBtnView.$el.css("display")?this._enableDisableTryAnotherButton(!1):this._enableDisableTryAnotherButton(!0));var z=this.wasCircleOnLastValue;for(.02>=o-q?this.wasCircleOnLastValue=!0:this.wasCircleOnLastValue=!1,this.circleCrossedOver=!1,l.removeChildren(),p=0;h>p;p++){if(y=!0,m=g[p],t>p){if(y=!1,v=p*s,this.placeLabelsOnLine(m,v),t!==this.noOfLabelsPlaced&&p===this.noOfLabelsPlaced&&d&&1===d.directionX){var A=this.getRadianValueInString(g[p].$div);this._changeCanvasAccText("mapping-tab-canvas-acc-container",2,[A]),this.noOfLabelsPlaced=t,this.noOfLabelsPlacedOnCircle--}else if(u!==this.noOfLabelsPlacedOnCircle&&p===t-1&&d&&-1===d.directionX){var A;if(p!==g.length-1)A=this.getRadianValueInString(g[p+1].$div);else{var B=a.GET_FRACTION_DIV_STRUCTURE("2π","");A=this.getRadianValueInString(B)}this._changeCanvasAccText("mapping-tab-canvas-acc-container",3,[A]),this.noOfLabelsPlacedOnCircle=u,this.noOfLabelsPlaced--}else if(z===!0&&p===t-1&&d&&-1===d.directionX){var A;if(p===g.length-1){var B=a.GET_FRACTION_DIV_STRUCTURE("2π","");A=this.getRadianValueInString(B)}this._changeCanvasAccText("mapping-tab-canvas-acc-container",3,[A])}else if(p===t-1)if(0===p)this._changeCanvasAccText("mapping-tab-canvas-acc-container",4);else{var A=this.getRadianValueInString(g[p].$div);this._changeCanvasAccText("mapping-tab-canvas-acc-container",5,[A])}}else if(u!==this.noOfLabelsPlacedOnCircle&&p===t&&d&&-1===d.directionX){var A=this.getRadianValueInString(g[p].$div);this._changeCanvasAccText("mapping-tab-canvas-acc-container",3,[A]),this.noOfLabelsPlacedOnCircle=u,this.noOfLabelsPlaced--}m.isOnCircle=y,o>q?j[p].visible=y:j[p].visible=!1,w&&(j[p].visible=!0)}}else if(q>=o&&!this.circleCrossedOver){for(q>o&&(this.circleCrossedOver=!0),this.player.enableHelpElement("dummy-center-help",0,!1),p=0;h>p;p++)m=g[p],v=p*s,y=!1,this.placeLabelsOnLine(m,v),w&&p===h-1&&f.$lastLabel.show(),m.isOnCircle=y,w&&(j[p].visible=!0);this.completelyMoved=!0,this.updateFocusRect(this.idPrefix+"feedback-text-container")}if(this.model.get("unwrappingCircleActivity")===!1&&this.completelyMoved===!0&&(this._changeCanvasAccText("mapping-tab-canvas-acc-container",6),this.changeAccMessage("mapping-tab-activity-acc-container",2)),q>=o&&c===!0)for(this.circleCrossedOver=!0,this.player.enableHelpElement("dummy-center-help",0,!1),p=0;h>p;p++)m=g[p],v=p*s,y=!1,this.placeLabelsOnLine(m,v),m.isOnCircle=y,j[p].visible=y,w&&(j[p].visible=!0);else this.placeLabelsOnCircle();this.setAccOfUnwrapping()},getRadianValueInString:function(a){var b="";if(a){var c=a.find(".numerator-container").text(),d=c.replace("π",""),e=-1!==c.search("π")?this.getAccMessage("mapping-tab-canvas-acc-container","pi"):"",f=a.find(".denominator-container").text();b+=d,b+=""!==e?" "+e:"",b+=""!==f?" "+this.getAccMessage("mapping-tab-canvas-acc-container","by")+" "+f:"",b&&b.trim()}return b},placeLabelsOnCircle:function(){var c=this.paperScope,d=(this.staticData,this.rotatingCircle),e=d.labelDataArray,f=e.length,g=d.radialGroup,h=g.children,i=d.circle,j=i.bounds.getCenter(),k=b.LABEL_OFFSET,l=k/2,m=null,n=null,o=null,p=null,q=null,r=null,s=null,t=null,u=null,v=null,w=null,x=null,y=this.model.get("unwrappingCircleActivity");for(m=new c.Path.Circle(j,b.CIRCLE_RADIUS+k),n=new c.Path.Circle(j,b.CIRCLE_RADIUS+1.5*l),t=0;f>t;t++)p=e[t],p.isOnCircle&&(x=p.$div,u=x.find("."+a.DENOMINATOR_CLASS).html(),v=""===u?!0:!1,o=h[t],o.visible=!0,s=o.lastSegment.point,r=v?n.getNearestPoint(s):m.getNearestPoint(s),q={x:Math.round(r.x-l),y:Math.round(r.y-l)},w=a.GET_QUADRANT(i,r.x,r.y),x.css({top:q.y,left:q.x}),v===!0?x.addClass(a.EMPTY_DENOMINATOR_CLASS):x.removeClass(a.EMPTY_DENOMINATOR_CLASS),p.isOnCircle=!0,y&&x.hide());if(0!==h.length){0!==f?(p=e[0],x=p.$div,u=x.find("."+a.DENOMINATOR_CLASS).html(),v=""===u?!0:!1):v=!0,s=h[0].lastSegment.point;var z=new this.paperScope.Path,A=s.clone();z.add(A),z.rotate(-15,j),shiftedPoint=z.lastSegment.point,r=v?n.getNearestPoint(shiftedPoint):m.getNearestPoint(shiftedPoint),q={x:Math.round(r.x),y:Math.round(r.y)},this.placeRadiusLabelOnCircle(j,q)}m.remove(),n.remove()},placeRadiusLabelOnCircle:function(a,b){var c=this.$(".radius-label-container"),d={top:(4*b.y+6*a.y)/10,left:(4*b.x+6*a.x)/10};c.css({top:d.top-c.height()/2,left:d.left-c.width()/2})},placeLabelsOnLine:function(c,d){var e=this.paperScope,f=this.staticData,g=this.rotatingCircle,h=this.rotatingCircle.numberLineTicksGroup,i=b.LABEL_OFFSET,j=i/2,k=f.numberline_coordinates_x,l=f.numberline_coordinates_y,m=d+k,n=c.$div,o=n.find("."+a.DENOMINATOR_CLASS).html(),p=this.model.get("unwrappingCircleActivity"),q=!1,r={x:m-j,y:Math.round(l+j)};n.css({top:r.y,left:r.x}),p&&this._showHideLabel(n,q),""===o&&n.removeClass(a.EMPTY_DENOMINATOR_CLASS).addClass(a.NO_SEPARATOR_ClASS),tickLine=a.SHOW_VERTICAL_TICK_AT(e,m,l),h.addChild(tickLine),g.startingTick&&this.model.get("unwrappingCircleActivity")!==!0&&(g.startingTick.remove(),g.startingTick=null)},toNextTab:function(){MathInteractives.global.SpeechStream.stopReading(),this.player.switchToTab(2)}},{NEXT_BUTTON_CLICKED:"next-button-clicked",RADIUS_LABEL_CLASS:"radius-label-container",FRACTION_CLASS:"fraction-container",NUMERATOR_CLASS:"numerator-container",FRACTION_SEPARATOR_CLASS:"fraction-separator",DENOMINATOR_CLASS:"denominator-container",EMPTY_DENOMINATOR_CLASS:"empty-denominator",NO_SEPARATOR_ClASS:"no-separator",MAX_POINTS:"max-points",DRAG_HANDLE_DATA:{center:[b.CIRCLE_CENTRE_COORDINATES_X,b.CIRCLE_CENTRE_COORDINATES_Y],radius:b.DRAG_HANDLE_RADIUS,shadowColor:"#000000",shadowBlur:2,fillColor:{gradient:{stops:b.DRAG_HANDLE_GRADIENT},origin:[b.CIRCLE_CENTRE_COORDINATES_X,b.CIRCLE_CENTRE_COORDINATES_Y-b.DRAG_HANDLE_RADIUS],destination:[b.CIRCLE_CENTRE_COORDINATES_X,b.CIRCLE_CENTRE_COORDINATES_Y+b.DRAG_HANDLE_RADIUS]}},ANGLE_UNITS:{0:"Degree",1:"Radian"},SHOW_VERTICAL_TICK_AT:function(a,c,d,e){a.activate();var f=e?e:b.TICK_LENGTH,g=f/2,h=d+g,i=d-g,j=new a.Path;return j.strokeColor=b.NUMBERLINE_COLOR,j.strokeWidth=b.NUMBERLINE_THICKNESS,j.add(new a.Point(c,h)),j.add(new a.Point(c,i)),j},SHOW_HORIZONTAL_TICK_AT:function(a,c,d,e){a.activate();var f=e?e:b.TICK_LENGTH,g=f/2,h=c-g,i=c+g,j=new a.Path;return j.strokeColor=b.NUMBERLINE_COLOR,j.strokeWidth=b.NUMBERLINE_THICKNESS,j.add(new a.Point(h,d)),j.add(new a.Point(i,d)),j},SHOW_BUBBLE:function(a,b,c,d,e,f){a.activate();var d=d?d:5,g=new a.Path.Circle(new a.Point(b,c),d);return g.fillColor=e||"red",g.isVisible=!0,g},GET_FRACTION_DIV_STRUCTURE:function(c,d){var e=$("<div>",{"class":a.FRACTION_CLASS}),f=$("<div>",{"class":a.FRACTION_SEPARATOR_CLASS}),g=$("<div>",{"class":a.NUMERATOR_CLASS}),h=$("<div>",{"class":a.DENOMINATOR_CLASS});b.LABEL_OFFSET;return g.append(c.toString()),h.append(d.toString()),""===d&&e.addClass(a.EMPTY_DENOMINATOR_CLASS),e.append(g).append(f).append(h)},GET_ANGLE_IN_RADIANS:function(a,b){360!==Math.abs(a)||b||(a=0);var c={numerator:null,denominator:null},d=0>a?!0:!1;switch(Math.abs(a).toString()){case"0":c.numerator="0",c.denominator="";break;case"22.5":c.numerator="π",c.denominator="8";break;case"30":c.numerator="π",c.denominator="6";break;case"45":c.numerator="π",c.denominator="4";break;case"60":c.numerator="π",c.denominator="3";break;case"67.5":c.numerator="3π",c.denominator="8";break;case"90":c.numerator="π",c.denominator="2";break;case"112.5":c.numerator="5π",c.denominator="8";break;case"120":c.numerator="2π",c.denominator="3";break;case"135":c.numerator="3π",c.denominator="4";break;case"150":c.numerator="5π",c.denominator="6";break;case"157.5":c.numerator="7π",c.denominator="8";break;case"180":c.numerator="π",c.denominator="";break;case"202.5":c.numerator="9π",c.denominator="8";break;case"210":c.numerator="7π",c.denominator="6";break;case"225":c.numerator="5π",c.denominator="4";break;case"240":c.numerator="4π",c.denominator="3";break;case"247.5":c.numerator="11π",c.denominator="8";break;case"270":c.numerator="3π",c.denominator="2";break;case"292.5":c.numerator="13π",c.denominator="8";break;case"300":c.numerator="5π",c.denominator="3";break;case"315":c.numerator="7π",c.denominator="4";break;case"330":c.numerator="11π",c.denominator="6";break;case"337.5":c.numerator="15π",c.denominator="8";break;case"360":c.numerator="2π",c.denominator="";break;default:c.numerator="invalid angle",c.denominator="invalid angle"}return c.numerator=d?"-"+c.numerator:c.numerator,c},SHOW_RADIUS:function(a,b,c,d,e,f){a.activate(),b.remove(),b=new a.Group;var g=360/e,h=null;for(h=0;e>h;h++){var i=new a.Path,j=c.clone();i.strokeColor=f||"green",i.add(j),i.add(new a.Point(c.x+d,c.y)),i.rotate(-g*h,j),b.addChild(i)}return b},GET_QUADRANT:function(a,b,c){var d=a.position,e=d.getX(),f=d.getY(),d=a.position,g=null;return g=b>=e?c>=f?4:1:c>=f?3:2}}),a=MathInteractives.Common.Interactivities.TrignometricGraphing.Views.ExploreTrignometricMapping}(),function(){var a=null;MathInteractives.Common.Interactivities.TrignometricGraphing.Models.ExploreTrignometricGraphPlotting=Backbone.Model.extend({defaults:function(){return{manager:null,path:null,player:null,gridGraphEl:null,gridGraphOptions:null,radiusOfCircle:null,radiusSliderData:null,radiusMaxValue:null,distanceSliderData:null,trignometricFunction:null,noOfPoints:null,currentAngle:null,shouldUpdateColors:!0,yLimits:2.5}},initialize:function(){}},{}),a=MathInteractives.Common.Interactivities.TrignometricGraphing.Models.ExploreTrignometricGraphPlotting}(),function(){"use strict";var a=null,b=null,c=null,d=null;MathInteractives.Common.Interactivities.TrignometricGraphing.Views.ExploreTrignometricGraphPlotting=MathInteractives.Common.Player.Views.Base.extend({idPrefix:null,filePath:null,manager:null,player:null,paperScope:null,xAxis:null,yAxis:null,gridGraphView:null,plotterView:null,graphEquationObj:null,positivePointsEquationObj:null,negativePointsEquationObj:null,labelsArray:null,verticalTicksGroup:null,yLabelsArray:null,horizontalTicksGroup:null,currentAngleEquationObjects:null,initialLimits:null,asymtotesGroup:[],posAsymtotesAngle:[],negAsymtotesAngle:[],jscrollPaneApi:null,initialize:function(){var a=this.model;this.filePath=a.get("path"),this.manager=a.get("manager"),this.player=a.get("player"),this.idPrefix=this.player.getIDPrefix(),this.setPaperScope(),this.currentAngleEquationObjects={vertical:null,horizontal:null,point:null},this.render()},setPaperScope:function(){this.paperScope=new paper.PaperScope,this.paperScope.setup(this.idPrefix+"graph-canvas"),"tan"===this.model.get("trignometricFunction")&&this.$el.find("#"+this.idPrefix+"graph-canvas").attr({width:"1027",height:"406"}).css({width:"1027px",height:"406px"})},render:function(){this.paperScope.activate(),this.createAndRenderGridGraph(),this.initializeCustomAxis(),this.renderYAxisLabels(),this.initializeXAxisLabels(),this.bindModelChangeHandlers(),"tan"===this.model.get("trignometricFunction")&&(this.jscrollPaneApi=this.$el.find(".sin-cos-graph-canvas-container").jScrollPane({showArrows:!0}).data("jsp"),this.jscrollPaneApi.scrollTo(290)),this.refreshGridGraph()},createAndRenderGridGraph:function(){this.initializeGridGraphView(),this.initializePlotterView(),"tan"===this.model.get("trignometricFunction")&&this.findAsymtotesPoint(),this.initialLimits=this.gridGraphView.getLimits(),this.createEquationObjects(),this.addEquationObjectsToPlotter()},initializeGridGraphView:function(){var a=null;a=new MathUtilities.Components.Graph.Views.GridGraph({option:this.model.get("gridGraphOptions"),el:this.model.get("gridGraphEl")}),a.setDefaultZoomBehaviour(!1),a.setDefaultPanBehaviour(!1),a.stopDoubleClickZoom(),this.gridGraphView=a},initializePlotterView:function(){var a=new MathUtilities.Components.Graph.Views.plotterView({graphView:this.gridGraphView});this.plotterView=a},createEquationObjects:function(){var a=this.model.get("trignometricFunction"),c=this.getCurrentAngleIndicatorLatex(),d=new MathUtilities.Components.EquationEngine.Models.EquationData,e=new MathUtilities.Components.EquationEngine.Models.EquationData,f=new MathUtilities.Components.EquationEngine.Models.EquationData;"tan"===a&&this.createAsymtotesGroup(),this.currentAngleEquationObjects.vertical=new MathUtilities.Components.EquationEngine.Models.EquationData,this.currentAngleEquationObjects.horizontal=new MathUtilities.Components.EquationEngine.Models.EquationData,this.currentAngleEquationObjects.point=new MathUtilities.Components.EquationEngine.Models.EquationData,this.currentAngleEquationObjects.point.setBlind(!0),this.currentAngleEquationObjects.point.setSpecie("point"),this.currentAngleEquationObjects.point.changeThickness(.6*b.BUBBLE_CIRCLE_RADIUS),this.currentAngleEquationObjects.point.changeColor(b.RADIUS_LINE_COLOR),this.currentAngleEquationObjects.vertical.setLatex(c.vertical),this.currentAngleEquationObjects.vertical.changeThickness(b.IMPOSED_CIRCLE_WIDTH),this.currentAngleEquationObjects.vertical.changeColor(b.RADIUS_LINE_COLOR),this.currentAngleEquationObjects.horizontal.setLatex(this.getCurrentAngleIndicatorLatex(0,.001).horizontal),this.currentAngleEquationObjects.horizontal.changeColor(b.IMPOSED_CIRCLE_COLOR),this.currentAngleEquationObjects.horizontal.changeThickness(b.IMPOSED_CIRCLE_WIDTH),f.setLatex(this.getEquation(a),!0),f.changeColor(b.RADIUS_LINE_COLOR),f.changeThickness(b.IMPOSED_CIRCLE_WIDTH),d.setBlind(!0),d.setSpecie("point"),d.changeColor(b.BUBBLE_CIRCLE_COLOR),d.changeThickness(.6*b.BUBBLE_CIRCLE_RADIUS),e.setBlind(!0),e.setSpecie("point"),e.changeColor(b.BUBBLE_CIRCLE_COLOR),e.changeThickness(.6*b.BUBBLE_CIRCLE_RADIUS),this.positivePointsEquationObj=d,this.negativePointsEquationObj=e,this.graphEquationObj=f},addEquationObjectsToPlotter:function(){this.plotterView.addEquation(this.graphEquationObj),this.plotterView.addEquation(this.currentAngleEquationObjects.vertical),this.plotterView.addEquation(this.currentAngleEquationObjects.horizontal)},updateColors:function(){var a=this.model.get("trignometricFunction"),c=this.currentAngleEquationObjects.vertical,d=this.currentAngleEquationObjects.point;switch(a){case"sin":d.changeColor(b.SINE_LINE_DRAG_COLOR),c.changeColor(b.SINE_LINE_DRAG_COLOR);break;case"cos":c.changeColor(b.COS_LINE_DRAG_COLOR),d.changeColor(b.COS_LINE_DRAG_COLOR);break;case"tan":c.changeColor(b.TAN_LINE_DRAG_COLOR),d.changeColor(b.TAN_LINE_DRAG_COLOR)}},resetEquation:function(){if(this.model.get("noOfPoints")>0){var a=(this.model.get("currentAngle"),this.model.get("trignometricFunction")),b=this.getEquation(a,0,1e-5);this.graphEquationObj.setLatex(b,!1),this.currentAngleEquationObjects.horizontal.setLatex(this.getCurrentAngleIndicatorLatex(0,.001).horizontal),this.addPointsEquationTopPlotter(this.negativePointsEquationObj,[]),this.addPointsEquationTopPlotter(this.positivePointsEquationObj,[]),this.addPointsEquationTopPlotter(this.currentAngleEquationObjects.point,[]),this.model.set("currentAngle",0),"tan"===this.model.get("trignometricFunction")&&(this.findAsymtotesPoint(),this.jscrollPaneApi.scrollTo(290)),this.updateEquation()}},showPointsChange:function(){this.renderGraphLabelsAndHorizontalTicks(),this.resetEquation()},updateEquation:function(a){"tan"!==this.model.get("trignometricFunction")&&this.adjustAxis(),"tan"!==this.model.get("trignometricFunction")&&(this.adjustCustomAxis(),this.updateXAxisLabelsAndTicks(),this.updateYAxisLabelsAndTicks()),this.updateFunctionGraph()},createAsymtotesGroup:function(){var a,c,d,e=this.posAsymtotesAngle.length,f=this.negAsymtotesAngle.length;for(a=0;e>a;a++)c=new MathUtilities.Components.EquationEngine.Models.EquationData,c.setLatex("x="+this.posAsymtotesAngle[a]),
c.changeThickness(b.ASYMTOTES_LINE_WIDTH),c.changeColor("#7D7D7D"),this.asymtotesGroup.push(c);for(a=0;f>a;a++)d=new MathUtilities.Components.EquationEngine.Models.EquationData,d.setLatex("x="+this.negAsymtotesAngle[a]),d.changeThickness(b.ASYMTOTES_LINE_WIDTH),d.changeColor("#7D7D7D"),this.asymtotesGroup.push(d)},findAsymtotesPoint:function(){this.posAsymtotesAngle=[],this.negAsymtotesAngle=[];var a=90/this.model.get("distanceSliderData"),b=0,c=this.asymtotesGroup.length;for(b=a;360>b;)0!==Math.abs(b*this.model.get("distanceSliderData")%180)&&this.posAsymtotesAngle.push(b*Math.PI/180),b+=a;for(b=-a;b>-360;)0!==Math.abs(b*this.model.get("distanceSliderData")%180)&&this.negAsymtotesAngle.push(b*Math.PI/180),b-=a;for(var d=0;c>d;d++)this.plotterView.removeEquation(this.asymtotesGroup[d]);this.asymtotesGroup=[],this.createAsymtotesGroup(),c=this.asymtotesGroup.length;for(var d=0;c>d;d++)this.plotterView.addEquation(this.asymtotesGroup[d]),this.asymtotesGroup[d].dashedGraph(),this.asymtotesGroup[d].hideGraph()},drawAsymtotesLines:function(){var a=0,b=!0,c=this.model.get("currentAngle"),d=this.posAsymtotesAngle.length,e=0;if(c%1===0)if(c>0)for(;b;)c>=180*this.posAsymtotesAngle[a]/Math.PI?(this.asymtotesGroup[a].showGraph(),a++):b=!1;else for(;b;)c<=180*this.negAsymtotesAngle[a]/Math.PI?(this.asymtotesGroup[d+a].showGraph(),a++):b=!1;e=this.asymtotesGroup.length;for(var f=0;e>f;f++)this.asymtotesGroup[f].trigger("plot-equation"),this.asymtotesGroup[f].dashedGraph()},updateFunctionGraph:function(){var c=this.model.get("currentAngle"),d=this.currentAngleEquationObjects.horizontal,e=c*Math.PI/180,f=this.model.get("noOfPoints"),g=360/f,h=(g*Math.PI/180,Math.floor(c/g)>=0?Math.floor(c/g):Math.abs(Math.ceil(c/g))),i=null,j=null,k=null,l=this.currentAngleEquationObjects.point,m=this.currentAngleEquationObjects.vertical,n=this.model.get("trignometricFunction"),o=this.model.get("distanceSliderData"),p=this.model.get("radiusSliderData"),q=p*Math[n](o*e);if("tan"===this.model.get("trignometricFunction")){if(this.drawAsymtotesLines(),Math.abs(q)>5e3)return m.hideGraph(),void this.refreshGridGraph();m.showGraph(),this.jscrollPaneApi.scrollTo((c+360)*a.SCROLL_ADJUST_INDEX)}this.updateEquationGraphs(c),this.addPointsEquationTopPlotter(l,[[e,q]]),k=this.currentAngleEquationObjects.point.getPointsGroup(),c>0?this.updatePointsEquation(!0,h):this.updatePointsEquation(!1,h),this.model.get("shouldUpdateColors")===!0?(this.updateColors(),k.children.length>0&&(k.children[0].fillColor={gradient:{stops:a[this.model.get("trignometricFunction").toUpperCase()+"_GRADIENT"]},origin:k.children[0].bounds.topCenter,destination:k.children[0].bounds.bottomCenter})):(m.changeColor(b.RADIUS_LINE_COLOR),k.children.length>0&&(k.children[0].fillColor=b.RADIUS_LINE_COLOR)),j=d.getRange(),j.max.value<e&&(j.max.value=e),j.min.value>e&&(j.min.value=e),d.setRange(j),d.trigger("plot-equation"),null===i&&(i=this.getCurrentAngleIndicatorLatex()),m.normalGraph(),m.setLatex(i.vertical),k&&k.bringToFront(),this.refreshGridGraph()},getEquation:function(a,b,c){var d=this.model.get("radiusSliderData"),e=this.model.get("distanceSliderData"),f=this.model.get("currentAngle"),g=null,h=null,i=null;return"undefined"==typeof b&&"undefined"==typeof c?(i=f*Math.PI/180,i>0?(h=i,g=0):(h=0,g=i)):(h=c,g=b),d+"\\"+a+e+"x\\{"+g+"\\le x \\le "+h+"\\}"},getCurrentAngleIndicatorLatex:function(a,b){var c=null,d=null,e=null,f=this.model.get("trignometricFunction"),g=this.model.get("distanceSliderData"),h=this.model.get("radiusSliderData"),i=this.model.get("currentAngle"),j="x=",k="y=0",l=null,m=null,n=null,o=null,p=null,q=i*Math.PI/180;return p=Math[f](g*q),180>i?0>p?(m=0,l=-Math.abs(p)*h,l=Math.abs(l)<.001?-.001:l):(m=Math.abs(p)*h,m=Math.abs(m)<.001?.001:m,l=0):0>p?(m=0,l=-Math.abs(p)*h,l=Math.abs(l)<.001?-.001:l):(m=Math.abs(p)*h,m=Math.abs(m)<.001?.001:m,l=0),"undefined"==typeof a||"undefined"==typeof b?0>i?(o=0,n=q):(o=q,n=0):(o=b,n=a),d=j+q+"\\{"+l+"\\le y \\le "+m+"\\}",e=k+"\\{"+n+"\\le x \\le "+o+"\\}",c={vertical:d,horizontal:e}},adjustAxis:function(){var b=a.GRAPH_LABEL_OFFSET,c=(this.model.get("radiusSliderData"),this.model.get("distanceSliderData"),this.model.get("currentAngle")),d=this.initialLimits,e=null,f=null,g=null,h=null,i=null,j=null;h=c*Math.PI/180,h>0?(f=h,e=0):(f=0,e=h),i=d.xLower+h,j=d.xUpper+h,g={xLower:i,xUpper:j,yLower:d.yLower,yUpper:d.yUpper},g.xUpper>b&&g.xLower<-b?(this.gridGraphView.setLimits(g.xLower,g.xUpper,g.yLower,g.yUpper),this.gridGraphView._graphTypeSelector()):g.xUpper>b&&g.xLower>-b?(this.gridGraphView.setLimits(-b,2*Math.PI+b,g.yLower,g.yUpper),this.gridGraphView._graphTypeSelector()):(this.gridGraphView.setLimits(-2*Math.PI-b,b,g.yLower,g.yUpper),this.gridGraphView._graphTypeSelector())},adjustCustomAxis:function(){var a=this.gridGraphView.convertToCanvasCoordinate([0,0]);this.yAxis.position=a},updateXAxisLabelsAndTicks:function(){var b=(this.gridGraphView._paperScope,Math.PI,this.model.get("noOfPoints")),c=360/b,d=c*Math.PI/180,e=(this.$("."+a.CANVAS_CONTAINER_SELECOR),null),f=this.gridGraphView,g=null,h=0,i=this.labelsArray,j=i?i.length:0,k=null;for(e=-b;b>=e||j>h;e++)0!==e&&(k=i[h],g=f.convertToCanvasCoordinate([e*d,0]),k.css({top:g[1]+a.GRAPH_ANGLE_LABEL_OFFSET,left:g[0]-k.width()/2}),this.verticalTicksGroup.children[h].position=g,h++)},updateYAxisLabelsAndTicks:function(){var b=this.gridGraphView._paperScope,c=this.model.get("radiusMaxValue"),d=null,e=0,f=this.yLabelsArray,g=f.length,h=this.gridGraphView,i=null,j=null,k=a.HORIZONTAL_TICK_LENGTH,l=this.horizontalTicksGroup,m=l.children,n=(m.length,0),o=null;for(b.activate(),d=c;d>=-c||g>e;d--)i=h.convertToCanvasCoordinate([0,d]),o=f[e],0===d?o.css({top:i[1]-o.height()+5,left:i[0]-o.width()-10,"text-align":"right"}):(o.css({top:i[1]-o.height()/2,left:i[0]-2*k-10,"text-align":"right"}),j=m[n],j.position=i,n++),e++},bindModelChangeHandlers:function(){this.model.on("change:radiusSliderData",$.proxy(this.resetEquation,this)),this.model.on("change:distanceSliderData",$.proxy(this.resetEquation,this)),this.model.on("change:trignometricFunction",$.proxy(this.resetEquation,this)),this.model.on("change:noOfPoints",$.proxy(this.showPointsChange,this)),this.model.on("change:currentAngle",$.proxy(this.updateEquation,this)),this.model.on("change:yLimits",$.proxy(this.changeYaxisLimit,this))},changeYaxisLimit:function(){this.gridGraphView._paperScope.activate();var a=this.model.get("yLimits")+.5;this.gridGraphView.setLimits(this.initialLimits.xLower,this.initialLimits.xUpper,-a,a),this.renderGraphLabelsAndHorizontalTicks(),this.renderYAxisLabels(),this.refreshGridGraph()},initializeCustomAxis:function(){var b=this.gridGraphView._paperScope,c=this.gridGraphView._canvasSize,d=new b.Path.Line({from:[0,c.height/2],to:[c.width,c.height/2],strokeColor:a.GRAPH_AXIS_COLOR,strokeWidth:a.GRAPH_AXIS_THICKNESS}),e=new b.Path.Line({from:[c.width/2,0],to:[c.width/2,c.height],strokeColor:a.GRAPH_AXIS_COLOR,strokeWidth:a.GRAPH_AXIS_THICKNESS});this.xAxis=d,this.yAxis=e;var f=this.model.get("yLimits")+.5;this.gridGraphView.setLimits(this.initialLimits.xLower,this.initialLimits.xUpper,-f,f)},renderGraphLabelsAndHorizontalTicks:function(){this.labelsArray=[],this.$("."+a.GRAPH_FRACTION_SELECTOR).remove();var b=this.gridGraphView._paperScope,c=(Math.PI,this.model.get("noOfPoints")),e=360/c,f=e*Math.PI/180,g=this.$("."+a.CANVAS_CONTAINER_SELECOR),h=null,i=this.gridGraphView,j=null,k=null,l=null,m=null,n=null,o=null;for(b.activate(),this.verticalTicksGroup&&this.verticalTicksGroup.remove(),n=new b.Group,l=d.SHOW_VERTICAL_TICK_AT(b,0,0),m=new b.Symbol(l),l.remove(),h=-c;c>=h;h++)0!==h&&(j=i.convertToCanvasCoordinate([h*f,0]),k=d.GET_ANGLE_IN_RADIANS(h*e,!0),o=d.GET_FRACTION_DIV_STRUCTURE(k.numerator,k.denominator),o.hasClass("empty-denominator")&&o.removeClass("empty-denominator").addClass("no-separator"),g.append(o.addClass(a.GRAPH_FRACTION_SELECTOR)),o.css({top:j[1]+a.GRAPH_ANGLE_LABEL_OFFSET,left:j[0]-o.width()/2}),this.labelsArray.push(o),l=m.place(),l.position=j,n.addChild(l));this.verticalTicksGroup=n},initializeXAxisLabels:function(){var b=this.$("."+a.CANVAS_CONTAINER_SELECOR),c=[],e=0,f=null,g=null,h=null,i=null;for(this.verticalTicksGroup&&this.verticalTicksGroup.remove(),i=new this.paperScope.Group,g=d.SHOW_VERTICAL_TICK_AT(this.paperScope,0,0),h=new this.paperScope.Symbol(g),g.remove(),c=[-360,-180,180,360];e<c.length;){var j=this.gridGraphView.convertToCanvasCoordinate([c[e]*Math.PI/180,0]),k=d.GET_ANGLE_IN_RADIANS(c[e],!0);f=d.GET_FRACTION_DIV_STRUCTURE(k.numerator,k.denominator),f.hasClass("empty-denominator")&&f.removeClass("empty-denominator").addClass("no-separator"),b.append(f.addClass(a.GRAPH_FRACTION_SELECTOR)),f.css({top:j[1]+a.GRAPH_ANGLE_LABEL_OFFSET,left:j[0]-f.width()/2}),g=h.place(),g.position=j,i.addChild(g),e++}this.verticalTicksGroup=i},renderYAxisLabels:function(){this.yLabelsArray=[],this.$(".y-axis-labels").remove();var b=this.gridGraphView._paperScope,c=Math.floor(this.model.get("yLimits")),e=this.$("."+a.CANVAS_CONTAINER_SELECOR),f=null,g=this.gridGraphView,h=null,i=null,j=a.HORIZONTAL_TICK_LENGTH,k=null,l=null,m=null;for(b.activate(),this.horizontalTicksGroup&&this.horizontalTicksGroup.remove(),l=new b.Group,i=d.SHOW_HORIZONTAL_TICK_AT(b,0,0,j),k=new b.Symbol(i),i.remove(),f=c;f>=-c;f--)h=g.convertToCanvasCoordinate([0,f]),m=d.GET_FRACTION_DIV_STRUCTURE(f,""),e.append(m.addClass("y-axis-labels")),0===f?m.css({top:h[1]-m.height()+5,left:h[0]-m.width()-10,"text-align":"right"}):(m.css({top:h[1]-m.height()/2,left:h[0]-2*j-10,"text-align":"right"}),i=k.place(),i.position=h,l.addChild(i)),this.yLabelsArray.push(m);this.horizontalTicksGroup=l},updatePointsEquation:function(a,b){var c=null,d=null,e=null,f=null,g=null;a===!0?(c=this.negativePointsEquationObj,d=this.positivePointsEquationObj,e=1):(c=this.positivePointsEquationObj,d=this.negativePointsEquationObj,e=-1),f=c.getPoints(),f&&this.addPointsEquationTopPlotter(c,f),f=d.getPoints(),f&&f.length>b?this.addPointsEquationTopPlotter(d,f):(g=this.getKeypointsArray(e,b),this.addPointsEquationTopPlotter(d,g))},addPointsEquationTopPlotter:function(a,b){a.setPoints(b),this.plotterView.addPlot(a)},getKeypointsArray:function(a,b){var c=this.model.get("trignometricFunction"),d=this.model.get("distanceSliderData"),e=this.model.get("radiusSliderData"),f=this.model.get("noOfPoints"),g=360/f,h=g*Math.PI/180,i=[],j=null,k=null,l=null,m=!1;"cos"===c&&(m=!0);for(var n=0;b>=n;n++)j=n*h,k=j,l=e*Math[c](d*j),i.push([a*k,m?l:a*l]);return i},updateEquationGraphs:function(a){var b=(this.model.get("trignometricFunction"),a*Math.PI/180),c=this.graphEquationObj,d=c.getRange();d.max.value<b&&(d.max.value=b),d.min.value>b&&(d.min.value=b),c.setRange(d),c.trigger("plot-equation")},refreshGridGraph:function(){this.gridGraphView._paperScope.view.draw()}},{CANVAS_CONTAINER_SELECOR:"sin-cos-graph-canvas-box",GRAPH_FRACTION_SELECTOR:"graph-fraction",GRAPH_BACKGROUND_COLOR:"#222222",GRAPH_BACKGROUND_ALPHA:.4,GRAPH_AXIS_COLOR:"#ffffff",GRAPH_LABEL_OFFSET:.2,GRAPH_LABEL_OFFSET_TAN:Math.PI+.5,GRAPH_ANGLE_LABEL_OFFSET:15,GRAPH_AXIS_THICKNESS:3,HORIZONTAL_TICK_LENGTH:18,SCROLL_ADJUST_INDEX:.80555,SIN_GRADIENT:["#A21E63","#3C0321"],COS_GRADIENT:["#329fc3","#02375c"],TAN_GRADIENT:["#FFFFFF","#878787"]}),a=MathInteractives.Common.Interactivities.TrignometricGraphing.Views.ExploreTrignometricGraphPlotting,b=MathInteractives.Common.Interactivities.TrignometricGraphing.Models.ExploreTrignometricGraphing,d=MathInteractives.Common.Interactivities.TrignometricGraphing.Views.ExploreTrignometricMapping,c=MathInteractives.Common.Interactivities.TrignometricGraphing.Views.ExploreTrignometricMapping}(),function(){var a=Handlebars.template,b=MathInteractives.Common.Interactivities.TrignometricGraphing.templates=MathInteractives.Common.Interactivities.TrignometricGraphing.templates||{};b.exploreTrigGraph=a(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g="",h="function",i=this.escapeExpression;return g+='\ufeff<div>\r\n  <div id="',(f=c.idPrefix)?f=f.call(b,{hash:{},data:e}):(f=b&&b.idPrefix,f=typeof f===h?f.call(b,{hash:{},data:e}):f),g+=i(f)+'graphing-tab-activity-acc-container" class="graphing-tab-activity-acc-container"></div>\r\n  <div class="graphing-tab-activity-area">\r\n  <div class="show-points-box">\r\n  <div id="',(f=c.idPrefix)?f=f.call(b,{hash:{},data:e}):(f=b&&b.idPrefix,f=typeof f===h?f.call(b,{hash:{},data:e}):f),g+=i(f)+'show-points-label" class="show-points-label"></div>\r\n    <div id="',(f=c.idPrefix)?f=f.call(b,{hash:{},data:e}):(f=b&&b.idPrefix,f=typeof f===h?f.call(b,{hash:{},data:e}):f),g+=i(f)+'show-points-select" class="show-points-select">\r\n    </div>\r\n  </div>\r\n\r\n  <div class="equation-container-box">\r\n\r\n  <div id="',(f=c.idPrefix)?f=f.call(b,{hash:{},data:e}):(f=b&&b.idPrefix,f=typeof f===h?f.call(b,{hash:{},data:e}):f),g+=i(f)+'equation-container" class="equation-container">\r\n    <div id="',(f=c.idPrefix)?f=f.call(b,{hash:{},data:e}):(f=b&&b.idPrefix,f=typeof f===h?f.call(b,{hash:{},data:e}):f),g+=i(f)+'output-value" class="output-value"></div>\r\n  </div>\r\n  </div>\r\n\r\n  <div id="',(f=c.idPrefix)?f=f.call(b,{hash:{},data:e}):(f=b&&b.idPrefix,f=typeof f===h?f.call(b,{hash:{},data:e}):f),g+=i(f)+'dummy-drag-help" class="dummy-drag-help"></div>\r\n    <div id="',(f=c.idPrefix)?f=f.call(b,{hash:{},data:e}):(f=b&&b.idPrefix,f=typeof f===h?f.call(b,{hash:{},data:e}):f),g+=i(f)+'rotate-animation-acc-container" class="rotate-animation-acc-container"></div>\r\n\r\n    <div id="',(f=c.idPrefix)?f=f.call(b,{hash:{},data:e}):(f=b&&b.idPrefix,f=typeof f===h?f.call(b,{hash:{},data:e}):f),g+=i(f)+'rotate-animation-container" class="rotate-animation-container animation-canvas-container">\r\n    <canvas id="',(f=c.idPrefix)?f=f.call(b,{hash:{},data:e}):(f=b&&b.idPrefix,f=typeof f===h?f.call(b,{hash:{},data:e}):f),g+=i(f)+'rotate-animation-canvas"  width="450" height="320" class="rotate-animation-canvas transformation-animation-canvas"></canvas>\r\n    <div id="',(f=c.idPrefix)?f=f.call(b,{hash:{},data:e}):(f=b&&b.idPrefix,f=typeof f===h?f.call(b,{hash:{},data:e}):f),g+=i(f)+'circle-labels" class="circle-labels"></div>\r\n  </div>\r\n\r\n  <div id="',(f=c.idPrefix)?f=f.call(b,{hash:{},data:e}):(f=b&&b.idPrefix,f=typeof f===h?f.call(b,{hash:{},data:e}):f),g+=i(f)+'radius-container" class="radius-container slider-containers">\r\n    <div class="slider-text-label radius-slider-text-container">\r\n      <div id="',(f=c.idPrefix)?f=f.call(b,{hash:{},data:e}):(f=b&&b.idPrefix,f=typeof f===h?f.call(b,{hash:{},data:e}):f),g+=i(f)+'radius-slider-text" class="radius-slider-text"></div>\r\n      <div id="',(f=c.idPrefix)?f=f.call(b,{hash:{},data:e}):(f=b&&b.idPrefix,f=typeof f===h?f.call(b,{hash:{},data:e}):f),g+=i(f)+'radius-slider-value" class="radius-slider-value"></div>\r\n    </div>\r\n    <div id="',(f=c.idPrefix)?f=f.call(b,{hash:{},data:e}):(f=b&&b.idPrefix,f=typeof f===h?f.call(b,{hash:{},data:e}):f),g+=i(f)+'radius-slider-container" class="radius-slider-container">\r\n      <div id="',(f=c.idPrefix)?f=f.call(b,{hash:{},data:e}):(f=b&&b.idPrefix,f=typeof f===h?f.call(b,{hash:{},data:e}):f),g+=i(f)+'radius-slider" class="radius-slider">\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div id="',(f=c.idPrefix)?f=f.call(b,{hash:{},data:e}):(f=b&&b.idPrefix,f=typeof f===h?f.call(b,{hash:{},data:e}):f),g+=i(f)+'slider-divider" class="slider-divider"></div>\r\n  <div id="',(f=c.idPrefix)?f=f.call(b,{hash:{},data:e}):(f=b&&b.idPrefix,f=typeof f===h?f.call(b,{hash:{},data:e}):f),g+=i(f)+'distance-container" class="distance-container slider-containers">\r\n    <div class="slider-text-label distance-slider-text-container">\r\n      <div id="',(f=c.idPrefix)?f=f.call(b,{hash:{},data:e}):(f=b&&b.idPrefix,f=typeof f===h?f.call(b,{hash:{},data:e}):f),g+=i(f)+'distance-slider-text" class="distance-slider-text"></div>\r\n      <div id="',(f=c.idPrefix)?f=f.call(b,{hash:{},data:e}):(f=b&&b.idPrefix,f=typeof f===h?f.call(b,{hash:{},data:e}):f),g+=i(f)+'distance-slider-value" class="distance-slider-value"></div>\r\n    </div>\r\n    <div id="',(f=c.idPrefix)?f=f.call(b,{hash:{},data:e}):(f=b&&b.idPrefix,f=typeof f===h?f.call(b,{hash:{},data:e}):f),g+=i(f)+'distance-slider-container" class="distance-slider-container">\r\n      <div id="',(f=c.idPrefix)?f=f.call(b,{hash:{},data:e}):(f=b&&b.idPrefix,f=typeof f===h?f.call(b,{hash:{},data:e}):f),g+=i(f)+'distance-slider" class="distance-slider">\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  </div>\r\n</div>'})}(),function(){var a=Handlebars.template,b=MathInteractives.Common.Interactivities.TrignometricGraphing.templates=MathInteractives.Common.Interactivities.TrignometricGraphing.templates||{};b.trignometricMapping=a(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h="",i="function",j=this.escapeExpression;return h+='\ufeff<div id="',(g=c.idPrefix)?f=g.call(b,{hash:{},data:e}):(g=b&&b.idPrefix,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'map-sin-cos" class="map-sin-cos">\r\n    <div id="',(g=c.idPrefix)?f=g.call(b,{hash:{},data:e}):(g=b&&b.idPrefix,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'exploreMapping-direction-text-wrapper" class="exploreMapping-direction-text-wrapper">\r\n        <div id="',(g=c.idPrefix)?f=g.call(b,{hash:{},data:e}):(g=b&&b.idPrefix,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'exploreMapping-direction-text-holder" class="exploreMapping-direction-text-holder"></div>\r\n    </div>\r\n    <div id="',(g=c.idPrefix)?f=g.call(b,{hash:{},data:e}):(g=b&&b.idPrefix,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'mapping-tab-activity-acc-container" class="mapping-tab-activity-acc-container"></div>\r\n    <div id="',(g=c.idPrefix)?f=g.call(b,{hash:{},data:e}):(g=b&&b.idPrefix,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'mapping-tab-container" class="mapping-tab-container">\r\n        <div id="',(g=c.idPrefix)?f=g.call(b,{hash:{},data:e}):(g=b&&b.idPrefix,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'mapping-tab-combobox-container" class="mapping-tab-combobox-container">\r\n            <div id="',(g=c.idPrefix)?f=g.call(b,{hash:{},data:e}):(g=b&&b.idPrefix,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'mapping-tab-points-combobox-label-acc" class="mapping-tab-points-combobox-label-acc"></div>\r\n            <span id="',(g=c.idPrefix)?f=g.call(b,{hash:{},data:e}):(g=b&&b.idPrefix,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'mapping-tab-combobox-label" class="mapping-tab-combobox-label">\r\n            </span>\r\n            <div id="',(g=c.idPrefix)?f=g.call(b,{hash:{},data:e}):(g=b&&b.idPrefix,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'mapping-tab-combobox-holder" class="mapping-tab-combobox-holder">\r\n            </div>\r\n        </div>\r\n\r\n        <div id="',(g=c.idPrefix)?f=g.call(b,{hash:{},data:e}):(g=b&&b.idPrefix,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'dummy-center-help" class="dummy-center-help"></div>\r\n\r\n     \r\n        <div id="',(g=c.idPrefix)?f=g.call(b,{hash:{},data:e}):(g=b&&b.idPrefix,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'mapping-tab-canvas-acc-container" class="mapping-tab-canvas-acc-container"></div>\r\n        <div id="',(g=c.idPrefix)?f=g.call(b,{hash:{},data:e}):(g=b&&b.idPrefix,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'mapping-tab-canvas-container" class="mapping-tab-canvas-container">\r\n            <canvas id="',(g=c.idPrefix)?f=g.call(b,{hash:{},data:e}):(g=b&&b.idPrefix,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'mapping-canvas" height="400" width="930"></canvas>\r\n        </div>\r\n        <div id="',(g=c.idPrefix)?f=g.call(b,{hash:{},data:e}):(g=b&&b.idPrefix,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'radius-indicator-container" class="radius-indicator-container">\r\n            <span id="',(g=c.idPrefix)?f=g.call(b,{hash:{},data:e}):(g=b&&b.idPrefix,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'radius-indicator-label" class="radius-indicator-label"></span>\r\n        </div>\r\n        <div id="',(g=c.idPrefix)?f=g.call(b,{hash:{},data:e}):(g=b&&b.idPrefix,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'next-button-container" class="next-button-container">\r\n        </div>\r\n        <div id="',(g=c.idPrefix)?f=g.call(b,{hash:{},data:e}):(g=b&&b.idPrefix,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'feedback-container" class="feedback-container">\r\n        </div>\r\n\r\n    </div>\r\n</div>'})}(),function(){var a=Handlebars.template,b=MathInteractives.Common.Interactivities.TrignometricGraphing.templates=MathInteractives.Common.Interactivities.TrignometricGraphing.templates||{};b.surdsFormat=a(function(a,b,c,d,e){function f(a,b){return"\r\n\r\n    "}function g(a,b){var d,e="";return e+="\r\n    <mn>",(d=c.radiusNormal)?d=d.call(a,{hash:{},data:b}):(d=a&&a.radiusNormal,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn><mo>.</mo><mn>",(d=c.radiusDecimal)?d=d.call(a,{hash:{},data:b}):(d=a&&a.radiusDecimal,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn><mo>&#183;</mo>\r\n    "}function h(a,b){var d,e="";return e+="\r\n    <mn>",(d=c.radiusNormal)?d=d.call(a,{hash:{},data:b}):(d=a&&a.radiusNormal,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn><mo>&#183;</mo>\r\n    "}function i(a,b){return"\r\n      \r\n      "}function j(a,b){var d,e="";return e+="\r\n      <mn>",(d=c.distanceNormal)?d=d.call(a,{hash:{},data:b}):(d=a&&a.distanceNormal,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn><mo>.</mo><mn>",(d=c.distanceDecimal)?d=d.call(a,{hash:{},data:b}):(d=a&&a.distanceDecimal,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn><mo>&#183;</mo>\r\n      "}function k(a,b){var d,e="";return e+="\r\n      <mn>",(d=c.distanceNormal)?d=d.call(a,{hash:{},data:b}):(d=a&&a.distanceNormal,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn><mo>&#183;</mo>\r\n      "}function l(a,b){var d,e="";return e+="\r\n        <mn>",(d=c.angleNormal)?d=d.call(a,{hash:{},data:b}):(d=a&&a.angleNormal,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn>\r\n      "}function m(a,b){var c,d="";return d+="\r\n        <mo>"+fa((c=a&&a.angleType,c=null==c||c===!1?c:c.angleOperator,typeof c===ea?c.apply(a):c))+'</mo><mi mathvariant="normal">&#960;</mi>\r\n      '}function n(a,b){var d,e="";return e+="\r\n        <mfrac><mrow><mn>",(d=c.angleNormal)?d=d.call(a,{hash:{},data:b}):(d=a&&a.angleNormal,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn></mrow><mn>",(d=c.angleDenominator)?d=d.call(a,{hash:{},data:b}):(d=a&&a.angleDenominator,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn></mfrac>\r\n      "}function o(a,b){var d,e,f="";return f+="\r\n\r\n    ",e=c["if"].call(a,(d=a&&a.surdType,null==d||d===!1?d:d.Type1),{hash:{},inverse:ga.noop,fn:ga.program(20,p,b),data:b}),(e||0===e)&&(f+=e),f+="\r\n\r\n    ",e=c["if"].call(a,(d=a&&a.surdType,null==d||d===!1?d:d.Type2),{hash:{},inverse:ga.noop,fn:ga.program(22,q,b),data:b}),(e||0===e)&&(f+=e),f+="\r\n\r\n    ",e=c["if"].call(a,(d=a&&a.surdType,null==d||d===!1?d:d.Type3),{hash:{},inverse:ga.noop,fn:ga.program(24,r,b),data:b}),(e||0===e)&&(f+=e),f+="\r\n\r\n    ",e=c["if"].call(a,(d=a&&a.surdType,null==d||d===!1?d:d.Type4),{hash:{},inverse:ga.noop,fn:ga.program(26,s,b),data:b}),(e||0===e)&&(f+=e),f+="\r\n\r\n    ",e=c["if"].call(a,(d=a&&a.surdType,null==d||d===!1?d:d.Type5),{hash:{},inverse:ga.noop,fn:ga.program(28,t,b),data:b}),(e||0===e)&&(f+=e),f+="\r\n\r\n    ",e=c["if"].call(a,(d=a&&a.surdType,null==d||d===!1?d:d.Type6),{hash:{},inverse:ga.noop,fn:ga.program(30,u,b),data:b}),(e||0===e)&&(f+=e),f+="\r\n    \r\n     ",e=c["if"].call(a,(d=a&&a.surdType,null==d||d===!1?d:d.Type7),{hash:{},inverse:ga.noop,fn:ga.program(32,v,b),data:b}),(e||0===e)&&(f+=e),f+="\r\n  \r\n    ",e=c["if"].call(a,(d=a&&a.surdType,null==d||d===!1?d:d.Type8),{hash:{},inverse:ga.noop,fn:ga.program(34,w,b),data:b}),(e||0===e)&&(f+=e),f+="\r\n    \r\n    ",e=c["if"].call(a,(d=a&&a.surdType,null==d||d===!1?d:d.Type9),{hash:{},inverse:ga.noop,fn:ga.program(36,x,b),data:b}),(e||0===e)&&(f+=e),f+="\r\n\r\n    ",e=c["if"].call(a,(d=a&&a.surdType,null==d||d===!1?d:d.Type10),{hash:{},inverse:ga.noop,fn:ga.program(38,y,b),data:b}),(e||0===e)&&(f+=e),f+="\r\n\r\n    ",e=c["if"].call(a,(d=a&&a.surdType,null==d||d===!1?d:d.Type11),{hash:{},inverse:ga.noop,fn:ga.program(40,z,b),data:b}),(e||0===e)&&(f+=e),f+="\r\n\r\n    ",e=c["if"].call(a,(d=a&&a.surdType,null==d||d===!1?d:d.Type12),{hash:{},inverse:ga.noop,fn:ga.program(42,A,b),data:b}),(e||0===e)&&(f+=e),f+="\r\n\r\n    ",e=c["if"].call(a,(d=a&&a.surdType,null==d||d===!1?d:d.Type13),{hash:{},inverse:ga.noop,fn:ga.program(44,B,b),data:b}),(e||0===e)&&(f+=e),f+="\r\n\r\n    ",e=c["if"].call(a,(d=a&&a.surdType,null==d||d===!1?d:d.Type14),{hash:{},inverse:ga.noop,fn:ga.program(46,C,b),data:b}),(e||0===e)&&(f+=e),f+="\r\n\r\n    ",e=c["if"].call(a,(d=a&&a.surdType,null==d||d===!1?d:d.Type15),{hash:{},inverse:ga.noop,fn:ga.program(48,D,b),data:b}),(e||0===e)&&(f+=e),f+="\r\n\r\n    ",e=c["if"].call(a,(d=a&&a.surdType,null==d||d===!1?d:d.Type16),{hash:{},inverse:ga.noop,fn:ga.program(50,E,b),data:b}),(e||0===e)&&(f+=e),f+="\r\n\r\n    "}function p(a,b){var d,e="";return e+=" <!-- sqrt(sqrt(x)+sqrt(x)))/y-->    \r\n    <mfrac><mrow><mo>",(d=c.mainOperator)?d=d.call(a,{hash:{},data:b}):(d=a&&a.mainOperator,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mo><mn>",(d=c.radius)?d=d.call(a,{hash:{},data:b}):(d=a&&a.radius,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn><mo>&#160;</mo><msqrt><msqrt><mn>",(d=c.val1)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val1,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn></msqrt><mo>&#160;</mo><mo>",(d=c.operator)?d=d.call(a,{hash:{},data:b}):(d=a&&a.operator,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mo><mo>&#160;</mo><msqrt><mn>",(d=c.val2)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val2,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn></msqrt></msqrt></mrow><mn>",(d=c.val3)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val3,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn></mfrac>\r\n    "}function q(a,b){var d,e="";return e+=" <!-- sqrt(x+sqrt(x)))/y-->\r\n    <mfrac><mrow><mo>",(d=c.mainOperator)?d=d.call(a,{hash:{},data:b}):(d=a&&a.mainOperator,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mo><mn>",(d=c.radius)?d=d.call(a,{hash:{},data:b}):(d=a&&a.radius,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn><mo>&#160;</mo><msqrt><mn>",(d=c.val1)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val1,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn><mo>&#160;</mo><mo>",(d=c.operator)?d=d.call(a,{hash:{},data:b}):(d=a&&a.operator,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mo><mo>&#160;</mo><msqrt><mn>",(d=c.val2)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val2,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn></msqrt></msqrt></mrow><mn>",(d=c.val3)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val3,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn></mfrac>\r\n    "}function r(a,b){var d,e="";return e+="   <!-- sqrt(sqrt(x)+x))/y-->\r\n    <mfrac><mrow><mo>",(d=c.mainOperator)?d=d.call(a,{hash:{},data:b}):(d=a&&a.mainOperator,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mo><mn>",(d=c.radius)?d=d.call(a,{hash:{},data:b}):(d=a&&a.radius,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn><mo>&#160;</mo><msqrt><msqrt><mn>",(d=c.val1)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val1,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn></msqrt><mo>&#160;</mo><mo>",(d=c.operator)?d=d.call(a,{hash:{},data:b}):(d=a&&a.operator,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mo><mo>&#160;</mo><mn>",(d=c.val2)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val2,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn></msqrt></mrow><mn>",(d=c.val3)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val3,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn></mfrac>\r\n    "}function s(a,b){var d,e="";return e+="  <!-- sqrt(x+x))/y-->\r\n    <mfrac><mrow><mo>",(d=c.mainOperator)?d=d.call(a,{hash:{},data:b}):(d=a&&a.mainOperator,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mo><mn>",(d=c.radius)?d=d.call(a,{hash:{},data:b}):(d=a&&a.radius,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn><mo>&#160;</mo><msqrt><mn>",(d=c.val1)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val1,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn><mo>&#160;</mo><mo>",(d=c.operator)?d=d.call(a,{hash:{},data:b}):(d=a&&a.operator,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mo><mo>&#160;</mo><mn>",(d=c.val2)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val2,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn></msqrt></mrow><mn>",(d=c.val3)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val3,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn></mfrac>\r\n    "}function t(a,b){var d,e="";return e+="  <!-- sqrt(x+sqrt(x+x))/y-->\r\n          <mfrac><mrow><mo>",(d=c.mainOperator)?d=d.call(a,{hash:{},data:b}):(d=a&&a.mainOperator,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mo><mn>",(d=c.radius)?d=d.call(a,{hash:{},data:b}):(d=a&&a.radius,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn></mrow><mn>",(d=c.val3)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val3,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn></mfrac><msqrt><mn>",(d=c.val1)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val1,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn><mo>&#160;</mo><mo>",(d=c.operator)?d=d.call(a,{hash:{},data:b}):(d=a&&a.operator,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mo><mo>&#160;</mo><msqrt><mn>",(d=c.val2)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val2,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn><mo>&#160;</mo><mo>",(d=c.operator1)?d=d.call(a,{hash:{},data:b}):(d=a&&a.operator1,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mo><mo>&#160;</mo><msqrt><mn>",(d=c.val4)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val4,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn></msqrt></msqrt></msqrt>\r\n    "}function u(a,b){var d,e="";return e+="  <!-- x/y-->\r\n      <mfrac><mrow><mo>",(d=c.mainOperator)?d=d.call(a,{hash:{},data:b}):(d=a&&a.mainOperator,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mo><mn>",(d=c.val1)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val1,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn></mrow><mn>",(d=c.val3)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val3,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn></mfrac>\r\n    "}function v(a,b){var d,e="";return e+="  <!-- sqrt(x)/y-->    <!-- Tan value 0.5774 & 1.7321 -->\r\n      <mfrac><mrow><mo>",(d=c.mainOperator)?d=d.call(a,{hash:{},data:b}):(d=a&&a.mainOperator,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mo><mn>",(d=c.radius)?d=d.call(a,{hash:{},data:b}):(d=a&&a.radius,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn><mo>&#160;</mo><msqrt><mn>",(d=c.val1)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val1,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn></msqrt></mrow><mn>",(d=c.val3)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val3,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn></mfrac>\r\n    "}function w(a,b){var d,e="";return e+=" <!-- x/sqrt(y)-->\r\n      <mfrac><mrow><mo>",(d=c.mainOperator)?d=d.call(a,{hash:{},data:b}):(d=a&&a.mainOperator,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mo><mn>",(d=c.val1)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val1,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn></mrow><mrow><mn>",(d=c.val3)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val3,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn><msqrt><mn>",(d=c.val2)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val2,d=typeof d===ea?d.call(a,{hash:{},
data:b}):d),e+=fa(d)+"</mn></msqrt></mrow></mfrac>\r\n    "}function x(a,b){var d,e="";return e+="  <!-- sqrt(x)/sqrt(y)-->\r\n      <mfrac><mrow><mo>",(d=c.mainOperator)?d=d.call(a,{hash:{},data:b}):(d=a&&a.mainOperator,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mo><mn>",(d=c.radius)?d=d.call(a,{hash:{},data:b}):(d=a&&a.radius,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn><mo>&#160;</mo><msqrt><mn>",(d=c.val1)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val1,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn></msqrt></mrow><msqrt><mn>",(d=c.val3)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val3,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn></msqrt></mfrac>\r\n    "}function y(a,b){var d,e="";return e+="  <!-- x -->\r\n      <mo>",(d=c.mainOperator)?d=d.call(a,{hash:{},data:b}):(d=a&&a.mainOperator,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mo><mo>&#160;</mo><mn>",(d=c.val1)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val1,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn>\r\n    "}function z(a,b){var d,e="";return e+="  <!-- sqrt(x+sqrt(x+sqrt(x)))/y-->\r\n        <mfrac><mrow><mo>",(d=c.mainOperator)?d=d.call(a,{hash:{},data:b}):(d=a&&a.mainOperator,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mo><mn>",(d=c.radius)?d=d.call(a,{hash:{},data:b}):(d=a&&a.radius,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn></mrow><mn>",(d=c.val3)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val3,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn></mfrac><msqrt><mn>",(d=c.val1)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val1,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn><mo>",(d=c.operator)?d=d.call(a,{hash:{},data:b}):(d=a&&a.operator,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mo><msqrt><mn>",(d=c.val2)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val2,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn><mo>",(d=c.operator1)?d=d.call(a,{hash:{},data:b}):(d=a&&a.operator1,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mo><msqrt><mn>",(d=c.val4)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val4,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn></msqrt></msqrt></msqrt>\r\n    "}function A(a,b){var d,e="";return e+="  <!-- Tan value 0.1989 && 5.0273 -->\r\n        <mfrac><mrow><mo>",(d=c.mainOperator)?d=d.call(a,{hash:{},data:b}):(d=a&&a.mainOperator,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mo><mn>",(d=c.radius)?d=d.call(a,{hash:{},data:b}):(d=a&&a.radius,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn></mrow><mn>",(d=c.val3)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val3,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn></mfrac><mfenced><mrow><msqrt><mn>",(d=c.val1)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val1,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn><mo>",(d=c.operator1)?d=d.call(a,{hash:{},data:b}):(d=a&&a.operator1,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mo><mn>",(d=c.val2)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val2,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn><msqrt><mn>",(d=c.val4)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val4,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn></msqrt></msqrt><mo>",(d=c.operator2)?d=d.call(a,{hash:{},data:b}):(d=a&&a.operator2,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mo><msqrt><mn>",(d=c.val5)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val5,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn><mo>&#160;</mo></msqrt><mo>",(d=c.operator3)?d=d.call(a,{hash:{},data:b}):(d=a&&a.operator3,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mo><mn>",(d=c.val6)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val6,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn></mrow></mfenced>\r\n    "}function B(a,b){var d,e="";return e+="  <!-- Tan value 0.2679 && 3.7321-->\r\n      <mfrac><mrow><mo>",(d=c.mainOperator)?d=d.call(a,{hash:{},data:b}):(d=a&&a.mainOperator,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mo><mn>",(d=c.radius)?d=d.call(a,{hash:{},data:b}):(d=a&&a.radius,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn><mo>&#160;</mo><mfenced><mrow><mn>",(d=c.val1)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val1,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn><mo>&#160;</mo><mo>",(d=c.operator)?d=d.call(a,{hash:{},data:b}):(d=a&&a.operator,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mo><mo>&#160;</mo><msqrt><mn>",(d=c.val2)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val2,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn></msqrt></mrow></mfenced></mrow><mn>",(d=c.val3)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val3,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn></mfrac>\r\n    "}function C(a,b){var d,e="";return e+="  <!-- Tan value 0.4142 && 2.4142 -->\r\n      <mfrac><mrow><mo>",(d=c.mainOperator)?d=d.call(a,{hash:{},data:b}):(d=a&&a.mainOperator,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mo><mo>&#160;</mo><mn>",(d=c.radius)?d=d.call(a,{hash:{},data:b}):(d=a&&a.radius,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn><mo>&#160;</mo><mfenced><mrow><msqrt><mn>",(d=c.val1)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val1,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn></msqrt><mo>&#160;</mo><mo>",(d=c.operator)?d=d.call(a,{hash:{},data:b}):(d=a&&a.operator,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mo><mo>&#160;</mo><mn>",(d=c.val2)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val2,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn></mrow></mfenced></mrow><mn>",(d=c.val3)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val3,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn></mfrac>\r\n    "}function D(a,b){var d,e="";return e+=" <!-- Tan value 0.6682 && 1.4966 -->\r\n        <mfrac><mrow><mo>",(d=c.mainOperator)?d=d.call(a,{hash:{},data:b}):(d=a&&a.mainOperator,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mo><mn>",(d=c.radius)?d=d.call(a,{hash:{},data:b}):(d=a&&a.radius,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn></mrow><mn>",(d=c.val3)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val3,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn></mfrac><mo>&#160;</mo><mfenced><mrow><msqrt><mn>",(d=c.val1)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val1,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn><mo>&#160;</mo><mo>",(d=c.operator1)?d=d.call(a,{hash:{},data:b}):(d=a&&a.operator1,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mo><mo>&#160;</mo><msqrt><mn>",(d=c.val2)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val2,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn></msqrt></msqrt><mo>&#160;</mo><mo>",(d=c.operator2)?d=d.call(a,{hash:{},data:b}):(d=a&&a.operator2,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mo><mo>&#160;</mo><mn>",(d=c.val4)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val4,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn></mrow></mfenced><mo>&#160;</mo><msqrt><mn>",(d=c.val5)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val5,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn></msqrt><mo>&#160;</mo><mo>",(d=c.operator3)?d=d.call(a,{hash:{},data:b}):(d=a&&a.operator3,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mo><mo>&#160;</mo><mn>",(d=c.val6)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val6,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn>\r\n    "}function E(a,b){var d,e="";return e+="  <!-- ∞ -->\r\n    <mo>",(d=c.mainOperator)?d=d.call(a,{hash:{},data:b}):(d=a&&a.mainOperator,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mo><mo>&#160;</mo><mn>",(d=c.Infinity)?d=d.call(a,{hash:{},data:b}):(d=a&&a.Infinity,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn>\r\n    "}function F(a,b){var d,e,f="";return f+="\r\n\r\n    ",e=c["if"].call(a,(d=a&&a.surdType,null==d||d===!1?d:d.Type1),{hash:{},inverse:ga.noop,fn:ga.program(53,G,b),data:b}),(e||0===e)&&(f+=e),f+="\r\n\r\n    ",e=c["if"].call(a,(d=a&&a.surdType,null==d||d===!1?d:d.Type2),{hash:{},inverse:ga.noop,fn:ga.program(55,H,b),data:b}),(e||0===e)&&(f+=e),f+="\r\n\r\n    ",e=c["if"].call(a,(d=a&&a.surdType,null==d||d===!1?d:d.Type3),{hash:{},inverse:ga.noop,fn:ga.program(57,I,b),data:b}),(e||0===e)&&(f+=e),f+="\r\n\r\n    ",e=c["if"].call(a,(d=a&&a.surdType,null==d||d===!1?d:d.Type4),{hash:{},inverse:ga.noop,fn:ga.program(59,J,b),data:b}),(e||0===e)&&(f+=e),f+="\r\n\r\n    ",e=c["if"].call(a,(d=a&&a.surdType,null==d||d===!1?d:d.Type5),{hash:{},inverse:ga.noop,fn:ga.program(61,K,b),data:b}),(e||0===e)&&(f+=e),f+="\r\n\r\n    ",e=c["if"].call(a,(d=a&&a.surdType,null==d||d===!1?d:d.Type6),{hash:{},inverse:ga.noop,fn:ga.program(63,L,b),data:b}),(e||0===e)&&(f+=e),f+="\r\n    \r\n     ",e=c["if"].call(a,(d=a&&a.surdType,null==d||d===!1?d:d.Type7),{hash:{},inverse:ga.noop,fn:ga.program(65,M,b),data:b}),(e||0===e)&&(f+=e),f+="\r\n  \r\n    ",e=c["if"].call(a,(d=a&&a.surdType,null==d||d===!1?d:d.Type8),{hash:{},inverse:ga.noop,fn:ga.program(67,N,b),data:b}),(e||0===e)&&(f+=e),f+="\r\n    \r\n    ",e=c["if"].call(a,(d=a&&a.surdType,null==d||d===!1?d:d.Type9),{hash:{},inverse:ga.noop,fn:ga.program(69,O,b),data:b}),(e||0===e)&&(f+=e),f+="\r\n\r\n    ",e=c["if"].call(a,(d=a&&a.surdType,null==d||d===!1?d:d.Type10),{hash:{},inverse:ga.noop,fn:ga.program(38,y,b),data:b}),(e||0===e)&&(f+=e),f+="\r\n\r\n    ",e=c["if"].call(a,(d=a&&a.surdType,null==d||d===!1?d:d.Type11),{hash:{},inverse:ga.noop,fn:ga.program(71,P,b),data:b}),(e||0===e)&&(f+=e),f+="\r\n  \r\n   ",e=c["if"].call(a,(d=a&&a.surdType,null==d||d===!1?d:d.Type12),{hash:{},inverse:ga.noop,fn:ga.program(73,Q,b),data:b}),(e||0===e)&&(f+=e),f+="\r\n\r\n    ",e=c["if"].call(a,(d=a&&a.surdType,null==d||d===!1?d:d.Type13),{hash:{},inverse:ga.noop,fn:ga.program(78,T,b),data:b}),(e||0===e)&&(f+=e),f+="\r\n\r\n    ",e=c["if"].call(a,(d=a&&a.surdType,null==d||d===!1?d:d.Type14),{hash:{},inverse:ga.noop,fn:ga.program(83,W,b),data:b}),(e||0===e)&&(f+=e),f+="\r\n\r\n    ",e=c["if"].call(a,(d=a&&a.surdType,null==d||d===!1?d:d.Type15),{hash:{},inverse:ga.noop,fn:ga.program(88,Z,b),data:b}),(e||0===e)&&(f+=e),f+="\r\n\r\n    ",e=c["if"].call(a,(d=a&&a.surdType,null==d||d===!1?d:d.Type16),{hash:{},inverse:ga.noop,fn:ga.program(93,aa,b),data:b}),(e||0===e)&&(f+=e),f+="\r\n\r\n    "}function G(a,b){var d,e="";return e+=" <!-- sqrt(sqrt(x)+sqrt(x)))/y-->    \r\n      <mo>",(d=c.mainOperator)?d=d.call(a,{hash:{},data:b}):(d=a&&a.mainOperator,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mo><mn>",(d=c.radius)?d=d.call(a,{hash:{},data:b}):(d=a&&a.radius,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn><mo>&#160;</mo><msqrt><msqrt><mn>",(d=c.val1)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val1,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn></msqrt><mo>&#160;</mo><mo>",(d=c.operator)?d=d.call(a,{hash:{},data:b}):(d=a&&a.operator,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mo><mo>&#160;</mo><msqrt><mn>",(d=c.val2)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val2,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn></msqrt></msqrt>\r\n    "}function H(a,b){var d,e="";return e+=" <!-- sqrt(x+sqrt(x)))/y-->\r\n    <mo>",(d=c.mainOperator)?d=d.call(a,{hash:{},data:b}):(d=a&&a.mainOperator,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mo><mn>",(d=c.radius)?d=d.call(a,{hash:{},data:b}):(d=a&&a.radius,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn><mo>&#160;</mo><msqrt><mn>",(d=c.val1)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val1,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn><mo>&#160;</mo><mo>",(d=c.operator)?d=d.call(a,{hash:{},data:b}):(d=a&&a.operator,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mo><mo>&#160;</mo><msqrt><mn>",(d=c.val2)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val2,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn></msqrt></msqrt>\r\n    "}function I(a,b){var d,e="";return e+="   <!-- sqrt(sqrt(x)+x))/y-->\r\n    <mo>",(d=c.mainOperator)?d=d.call(a,{hash:{},data:b}):(d=a&&a.mainOperator,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mo><mn>",(d=c.radius)?d=d.call(a,{hash:{},data:b}):(d=a&&a.radius,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn><mo>&#160;</mo><msqrt><msqrt><mn>",(d=c.val1)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val1,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn></msqrt><mo>&#160;</mo><mo>",(d=c.operator)?d=d.call(a,{hash:{},data:b}):(d=a&&a.operator,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mo><mo>&#160;</mo><mn>",(d=c.val2)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val2,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn></msqrt>\r\n    "}function J(a,b){var d,e="";return e+="  <!-- sqrt(x+x))/y-->\r\n    <mo>",(d=c.mainOperator)?d=d.call(a,{hash:{},data:b}):(d=a&&a.mainOperator,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mo><mn>",(d=c.radius)?d=d.call(a,{hash:{},data:b}):(d=a&&a.radius,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn><mo>&#160;</mo><msqrt><mn>",(d=c.val1)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val1,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn><mo>&#160;</mo><mo>",(d=c.operator)?d=d.call(a,{hash:{},data:b}):(d=a&&a.operator,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mo><mo>&#160;</mo><mn>",(d=c.val2)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val2,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn></msqrt>\r\n    "}function K(a,b){var d,e="";return e+="  <!-- sqrt(x+sqrt(x+x))/y-->\r\n        <mo>",(d=c.mainOperator)?d=d.call(a,{hash:{},data:b}):(d=a&&a.mainOperator,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mo><mn>",(d=c.radius)?d=d.call(a,{hash:{},data:b}):(d=a&&a.radius,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn><mo>&#160;</mo><msqrt><mn>",(d=c.val1)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val1,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn><mo>&#160;</mo><mo>",(d=c.operator)?d=d.call(a,{hash:{},data:b}):(d=a&&a.operator,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mo><mo>&#160;</mo><msqrt><mn>",(d=c.val2)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val2,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn><mo>&#160;</mo><mo>",(d=c.operator1)?d=d.call(a,{hash:{},data:b}):(d=a&&a.operator1,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mo><mo>&#160;</mo><msqrt><mn>",(d=c.val4)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val4,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn></msqrt></msqrt></msqrt>\r\n    "}function L(a,b){var d,e="";return e+="  <!-- x/y-->\r\n      <mo>",(d=c.mainOperator)?d=d.call(a,{hash:{},data:b}):(d=a&&a.mainOperator,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mo><mn>",(d=c.val1)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val1,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn>\r\n    "}function M(a,b){var d,e="";return e+="  <!-- sqrt(x)/y-->\r\n      <mo>",(d=c.mainOperator)?d=d.call(a,{hash:{},data:b}):(d=a&&a.mainOperator,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mo><mn>",(d=c.radius)?d=d.call(a,{hash:{},data:b}):(d=a&&a.radius,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn><mo>&#160;</mo><msqrt><mn>",(d=c.val1)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val1,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn></msqrt>\r\n    "}function N(a,b){var d,e="";return e+=" <!-- x/sqrt(y)-->\r\n      <mo>",(d=c.mainOperator)?d=d.call(a,{hash:{},data:b}):(d=a&&a.mainOperator,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mo><mn>",(d=c.val1)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val1,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn>\r\n    "}function O(a,b){var d,e="";return e+="  <!-- sqrt(x)/sqrt(y)-->\r\n      <mo>",(d=c.mainOperator)?d=d.call(a,{hash:{},data:b}):(d=a&&a.mainOperator,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mo><mn>",(d=c.radius)?d=d.call(a,{hash:{},data:b}):(d=a&&a.radius,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn><mo>&#160;</mo><msqrt><mn>",(d=c.val1)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val1,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn></msqrt>\r\n    "}function P(a,b){var d,e="";return e+="  <!-- sqrt(x+sqrt(x+sqrt(x)))-->\r\n        <mo>",(d=c.mainOperator)?d=d.call(a,{hash:{},data:b}):(d=a&&a.mainOperator,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mo><mn>",(d=c.radius)?d=d.call(a,{hash:{},data:b}):(d=a&&a.radius,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn><mo>&#160;</mo><msqrt><mn>",(d=c.val1)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val1,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn><mo>",(d=c.operator)?d=d.call(a,{hash:{},data:b}):(d=a&&a.operator,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mo><msqrt><mn>",(d=c.val2)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val2,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn><mo>",(d=c.operator1)?d=d.call(a,{hash:{},data:b}):(d=a&&a.operator1,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mo><msqrt><mn>",(d=c.val4)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val4,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn></msqrt></msqrt></msqrt>\r\n    "}function Q(a,b){var d,e="";return e+="  <!-- Tan value 0.1989 & 0.6682 && 1.4966 && 5.0273 -->\r\n    ",d=c["if"].call(a,a&&a.fenced,{hash:{},inverse:ga.program(76,S,b),fn:ga.program(74,R,b),data:b}),(d||0===d)&&(e+=d),e+="\r\n    "}function R(a,b){var d,e="";return e+="\r\n       <mo>",(d=c.mainOperator)?d=d.call(a,{hash:{},data:b}):(d=a&&a.mainOperator,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mo><mn>",(d=c.radius)?d=d.call(a,{hash:{},data:b}):(d=a&&a.radius,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn><mfenced><mrow><msqrt><mn>",(d=c.val1)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val1,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn><mo>",(d=c.operator1)?d=d.call(a,{hash:{},data:b}):(d=a&&a.operator1,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mo><mn>",(d=c.val2)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val2,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn><msqrt><mn>",(d=c.val4)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val4,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn></msqrt></msqrt><mo>",(d=c.operator2)?d=d.call(a,{hash:{},data:b}):(d=a&&a.operator2,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mo><msqrt><mn>",(d=c.val5)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val5,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn><mo>&#160;</mo></msqrt><mo>",(d=c.operator3)?d=d.call(a,{hash:{},data:b}):(d=a&&a.operator3,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mo><mn>",(d=c.val6)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val6,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn></mrow></mfenced>\r\n     "}function S(a,b){var d,e="";return e+="\r\n        <mrow><msqrt><mn>",(d=c.val1)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val1,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn><mo>",(d=c.operator1)?d=d.call(a,{hash:{},data:b}):(d=a&&a.operator1,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mo><mn>",(d=c.val2)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val2,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn><msqrt><mn>",(d=c.val4)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val4,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn></msqrt></msqrt><mo>",(d=c.operator2)?d=d.call(a,{hash:{},data:b}):(d=a&&a.operator2,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mo><msqrt><mn>",(d=c.val5)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val5,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn><mo>&#160;</mo></msqrt><mo>",(d=c.operator3)?d=d.call(a,{hash:{},data:b}):(d=a&&a.operator3,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mo><mn>",(d=c.val6)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val6,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn></mrow>\r\n      "}function T(a,b){var d,e="";return e+="  <!-- Tan value 0.2679 && 3.7321-->\r\n      ",d=c["if"].call(a,a&&a.fenced,{hash:{},inverse:ga.program(81,V,b),fn:ga.program(79,U,b),data:b}),(d||0===d)&&(e+=d),e+="\r\n    "}function U(a,b){var d,e="";return e+="\r\n        <mo>",(d=c.mainOperator)?d=d.call(a,{hash:{},data:b}):(d=a&&a.mainOperator,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mo><mn>",(d=c.radius)?d=d.call(a,{hash:{},data:b}):(d=a&&a.radius,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn><mo>&#160;</mo><mfenced><mrow><mn>",(d=c.val1)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val1,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn><mo>&#160;</mo><mo>",(d=c.operator)?d=d.call(a,{hash:{},data:b}):(d=a&&a.operator,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mo><mo>&#160;</mo><msqrt><mn>",(d=c.val2)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val2,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn></msqrt></mrow></mfenced>\r\n      "}function V(a,b){var d,e="";return e+="\r\n        <mrow><mn>",(d=c.val1)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val1,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn><mo>&#160;</mo><mo>",(d=c.operator)?d=d.call(a,{hash:{},data:b}):(d=a&&a.operator,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mo><mo>&#160;</mo><msqrt><mn>",(d=c.val2)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val2,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn></msqrt></mrow>\r\n      "}function W(a,b){var d,e="";return e+="  <!-- Tan value 0.4142 && 2.4142 -->\r\n     ",d=c["if"].call(a,a&&a.fenced,{hash:{},inverse:ga.program(86,Y,b),fn:ga.program(84,X,b),data:b}),(d||0===d)&&(e+=d),e+="\r\n    "}function X(a,b){var d,e="";return e+="\r\n        <mo>",(d=c.mainOperator)?d=d.call(a,{hash:{},data:b}):(d=a&&a.mainOperator,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mo><mo>&#160;</mo><mn>",(d=c.radius)?d=d.call(a,{hash:{},data:b}):(d=a&&a.radius,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn><mo>&#160;</mo><mfenced><mrow><msqrt><mn>",(d=c.val1)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val1,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn></msqrt><mo>&#160;</mo><mo>",(d=c.operator)?d=d.call(a,{hash:{},data:b}):(d=a&&a.operator,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mo><mo>&#160;</mo><mn>",(d=c.val2)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val2,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn></mrow></mfenced>\r\n     "}function Y(a,b){var d,e="";return e+="\r\n        <mrow><msqrt><mn>",(d=c.val1)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val1,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn></msqrt><mo>&#160;</mo><mo>",(d=c.operator)?d=d.call(a,{hash:{},data:b}):(d=a&&a.operator,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mo><mo>&#160;</mo><mn>",(d=c.val2)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val2,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn></mrow>\r\n      "}function Z(a,b){var d,e="";return e+=" <!-- Tan value 0.6682 && 1.4966 -->\r\n      ",d=c["if"].call(a,a&&a.fenced,{hash:{},inverse:ga.program(91,_,b),fn:ga.program(89,$,b),data:b}),(d||0===d)&&(e+=d),e+="\r\n    "}function $(a,b){var d,e="";return e+="\r\n        <mo>",(d=c.mainOperator)?d=d.call(a,{hash:{},data:b}):(d=a&&a.mainOperator,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mo><mo>&#160;</mo><mn>",(d=c.radius)?d=d.call(a,{hash:{},data:b}):(d=a&&a.radius,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn><mo>&#160;</mo><mfenced><mrow><msqrt><mn>",(d=c.val1)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val1,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn><mo>&#160;</mo><mo>",(d=c.operator1)?d=d.call(a,{hash:{},data:b}):(d=a&&a.operator1,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mo><mo>&#160;</mo><msqrt><mn>",(d=c.val2)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val2,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn></msqrt></msqrt><mo>&#160;</mo><mo>",(d=c.operator2)?d=d.call(a,{hash:{},data:b}):(d=a&&a.operator2,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mo><mo>&#160;</mo><mn>",(d=c.val4)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val4,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn></mrow></mfenced><mo>&#160;</mo><msqrt><mn>",(d=c.val5)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val5,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn></msqrt><mo>&#160;</mo><mo>",(d=c.operator3)?d=d.call(a,{hash:{},data:b}):(d=a&&a.operator3,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mo><mo>&#160;</mo><mn>",(d=c.val6)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val6,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn>\r\n      "}function _(a,b){var d,e="";return e+="\r\n        <mrow><msqrt><mn>",(d=c.val1)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val1,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn><mo>&#160;</mo><mo>",(d=c.operator1)?d=d.call(a,{hash:{},data:b}):(d=a&&a.operator1,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mo><mo>&#160;</mo><msqrt><mn>",(d=c.val2)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val2,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn></msqrt></msqrt><mo>&#160;</mo><mo>",(d=c.operator2)?d=d.call(a,{hash:{},data:b}):(d=a&&a.operator2,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mo><mo>&#160;</mo><mn>",(d=c.val4)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val4,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn></mrow><mo>&#160;</mo><msqrt><mn>",(d=c.val5)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val5,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn></msqrt><mo>&#160;</mo><mo>",(d=c.operator3)?d=d.call(a,{hash:{},data:b}):(d=a&&a.operator3,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mo><mo>&#160;</mo><mn>",(d=c.val6)?d=d.call(a,{hash:{},data:b}):(d=a&&a.val6,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn>\r\n      "}function aa(a,b){var d,e="";return e+="  <!-- ∞ -->\r\n      <mo>",(d=c.mainOperator)?d=d.call(a,{hash:{},data:b}):(d=a&&a.mainOperator,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mo><mo>&#160;</mo><mn>",(d=c.Infinity)?d=d.call(a,{hash:{},data:b}):(d=a&&a.Infinity,d=typeof d===ea?d.call(a,{hash:{},data:b}):d),e+=fa(d)+"</mn>\r\n    "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var ba,ca,da="",ea="function",fa=this.escapeExpression,ga=this;return da+='\ufeff<div id="',(ba=c.idPrefix)?ba=ba.call(b,{hash:{},data:e}):(ba=b&&b.idPrefix,ba=typeof ba===ea?ba.call(b,{hash:{},data:e}):ba),da+=fa(ba)+'surd-format" class="surd-format">\r\n  <math>\r\n\r\n    ',ca=c["if"].call(b,(ba=b&&b.radiusValType,null==ba||ba===!1?ba:ba.Type1),{hash:{},inverse:ga.noop,fn:ga.program(1,f,e),data:e}),(ca||0===ca)&&(da+=ca),da+="\r\n\r\n    ",ca=c["if"].call(b,(ba=b&&b.radiusValType,null==ba||ba===!1?ba:ba.Type2),{hash:{},inverse:ga.noop,fn:ga.program(3,g,e),data:e}),(ca||0===ca)&&(da+=ca),da+="\r\n\r\n    ",ca=c["if"].call(b,(ba=b&&b.radiusValType,null==ba||ba===!1?ba:ba.Type3),{hash:{},inverse:ga.noop,fn:ga.program(5,h,e),data:e}),(ca||0===ca)&&(da+=ca),da+="\r\n    \r\n    <mi>",(ca=c.trignometricType)?ca=ca.call(b,{hash:{},data:e}):(ca=b&&b.trignometricType,ca=typeof ca===ea?ca.call(b,{hash:{},data:e}):ca),da+=fa(ca)+"</mi>\r\n    \r\n    <mfenced><mrow>\r\n\r\n      ",ca=c["if"].call(b,(ba=b&&b.distanceValType,null==ba||ba===!1?ba:ba.Type1),{hash:{},inverse:ga.noop,fn:ga.program(7,i,e),data:e}),(ca||0===ca)&&(da+=ca),da+="\r\n\r\n      ",ca=c["if"].call(b,(ba=b&&b.distanceValType,null==ba||ba===!1?ba:ba.Type2),{hash:{},inverse:ga.noop,fn:ga.program(9,j,e),data:e}),(ca||0===ca)&&(da+=ca),da+="\r\n\r\n      ",ca=c["if"].call(b,(ba=b&&b.distanceValType,null==ba||ba===!1?ba:ba.Type3),{hash:{},inverse:ga.noop,fn:ga.program(11,k,e),data:e}),(ca||0===ca)&&(da+=ca),da+="\r\n      \r\n\r\n      ",ca=c["if"].call(b,(ba=b&&b.angleType,null==ba||ba===!1?ba:ba.Type1),{hash:{},inverse:ga.noop,fn:ga.program(13,l,e),data:e}),(ca||0===ca)&&(da+=ca),da+="\r\n\r\n      ",ca=c["if"].call(b,(ba=b&&b.angleType,null==ba||ba===!1?ba:ba.Type2),{hash:{},inverse:ga.noop,fn:ga.program(15,m,e),data:e}),(ca||0===ca)&&(da+=ca),da+="\r\n\r\n      ",ca=c["if"].call(b,(ba=b&&b.angleType,null==ba||ba===!1?ba:ba.Type3),{hash:{},inverse:ga.noop,fn:ga.program(17,n,e),data:e}),(ca||0===ca)&&(da+=ca),da+="\r\n\r\n    </mrow></mfenced>\r\n    \r\n    <mo>=</mo>\r\n\r\n    ",ca=c["if"].call(b,b&&b.denominatorPresent,{hash:{},inverse:ga.program(52,F,e),fn:ga.program(19,o,e),data:e}),(ca||0===ca)&&(da+=ca),da+="\r\n\r\n  </math>\r\n</div>"})}();