// utillib.js
(function(){
Type.registerNamespace('UtilLib');UtilLib.BrowserName=function(){};UtilLib.BrowserName.prototype = {chrome:0,firefox:1,safari:2,internetExplorer:3,opera:4,unknown:5}
UtilLib.BrowserName.registerEnum('UtilLib.BrowserName',false);UtilLib.BrowserPlatform=function(){};UtilLib.BrowserPlatform.prototype = {unknown:0,windows:1,linux:2,mac:3,iPad:4,android:5,iPhone:6,iPod:7}
UtilLib.BrowserPlatform.registerEnum('UtilLib.BrowserPlatform',false);UtilLib.EItemState=function(){};UtilLib.EItemState.prototype = {eNormal:0,eHover:1,ePressed:2,ePressedHover:3,eFocus:4,eFocusHover:5}
UtilLib.EItemState.registerEnum('UtilLib.EItemState',false);UtilLib.EAlignment=function(){};UtilLib.EAlignment.prototype = {eRight:1,eBottom:2}
UtilLib.EAlignment.registerEnum('UtilLib.EAlignment',false);UtilLib.EHorzAlignment=function(){};UtilLib.EHorzAlignment.prototype = {eLeft:0,eMiddle:1,eRight:2}
UtilLib.EHorzAlignment.registerEnum('UtilLib.EHorzAlignment',false);UtilLib.EVertAlignment=function(){};UtilLib.EVertAlignment.prototype = {eTop:0,eMiddle:1,eBottom:2}
UtilLib.EVertAlignment.registerEnum('UtilLib.EVertAlignment',false);UtilLib.ZIndexConstants=function(){};UtilLib.ZIndexConstants.prototype = {view:0,dialog:1000,menu:2000,tooltip:3000}
UtilLib.ZIndexConstants.registerEnum('UtilLib.ZIndexConstants',false);UtilLib.FontStyle=function(){};UtilLib.FontStyle.prototype = {normal:'normal',italic:'italic',oblique:'oblique'}
UtilLib.FontStyle.registerEnum('UtilLib.FontStyle',false);UtilLib.FontWeight=function(){};UtilLib.FontWeight.prototype = {normal:'normal',bold:'bold'}
UtilLib.FontWeight.registerEnum('UtilLib.FontWeight',false);UtilLib.Visibility=function(){};UtilLib.Visibility.prototype = {collapse:'collapse',hidden:'hidden',visible:'visible'}
UtilLib.Visibility.registerEnum('UtilLib.Visibility',false);UtilLib.MenuWnd_MenuPositioning=function(){};UtilLib.MenuWnd_MenuPositioning.prototype = {eBottom:0,eRight:1,eLeft:2,eTop:3}
UtilLib.MenuWnd_MenuPositioning.registerEnum('UtilLib.MenuWnd_MenuPositioning',false);UtilLib.MenuWnd_MenuPositioning_Order=function(){};UtilLib.MenuWnd_MenuPositioning_Order.prototype = {eDefault:0,eFromMenuItem:2,eFromRibbonMiscCtrl:3,eRightLeft:4,eBottom:5,eBottomRightLeftTop:6,eFromDBCombo:7}
UtilLib.MenuWnd_MenuPositioning_Order.registerEnum('UtilLib.MenuWnd_MenuPositioning_Order',false);UtilLib.XMLUtils=function(){}
UtilLib.XMLUtils.decodeStringFromXML=function(strText){strText=strText.replaceAll('&lt;','<');strText=strText.replaceAll('&gt;','>');strText=strText.replaceAll('&amp;','&');return strText;}
UtilLib.XMLUtils.encodeStringToXML=function(strText){strText=strText.replaceAll('&','&amp;');strText=strText.replaceAll('<','&lt;');strText=strText.replaceAll('>','&gt;');return strText;}
UtilLib.XMLUtils.xmlToString=function(node){var $0='';var $1=null;if(node.nodeType===1){$1=node.firstChild;if(!ss.isNullOrUndefined($1)){$0=$1.nodeValue;}}if($1==null&&node.nodeValue!=null){$0=node.nodeValue;}return $0;}
UtilLib.XMLUtils.getXmlNodeFromString=function(str){return ss.parseXml(str).documentElement.cloneNode(true);}
UtilLib.XMLUtils.addAttribute=function(xmlNode,strAttrName,strAttrValue){var $0=ss.parseXml('<temp/>');var $1=$0.createAttribute(strAttrName).cloneNode(true);$1.value=strAttrValue;xmlNode.attributes.setNamedItem($1);}
UtilLib.BrowserCapabilities=function(){}
UtilLib.BrowserCapabilities.get_name=function(){return UtilLib.BrowserCapabilities.$0;}
UtilLib.BrowserCapabilities.get_version=function(){return UtilLib.BrowserCapabilities.$1;}
UtilLib.BrowserCapabilities.get_platform=function(){return UtilLib.BrowserCapabilities.$2;}
UtilLib.BrowserCapabilities.get_isWorkerScope=function(){return UtilLib.BrowserCapabilities.$3;}
UtilLib.BrowserCapabilities.get_isWorkerSupported=function(){return (typeof(window.Worker)==='function');}
UtilLib.BrowserCapabilities.isTouchDevice=function(){return (UtilLib.BrowserCapabilities.get_platform()>=4&&UtilLib.BrowserCapabilities.get_platform()<=7);}
UtilLib.BrowserCapabilities.$4=function(){UtilLib.BrowserCapabilities.$5();UtilLib.BrowserCapabilities.$6();}
UtilLib.BrowserCapabilities.$5=function(){var $0=window.navigator;var $1=$0.userAgent;var $2=$0.vendor;var $3;if(($3=$1.indexOf('Chrome'))!==-1){UtilLib.BrowserCapabilities.$0=0;UtilLib.BrowserCapabilities.$1=parseFloat($1.substring(($3+7),$1.length));}else if(ss.isValue($2)&&$2.indexOf('Apple')!==-1){UtilLib.BrowserCapabilities.$0=2;$3=$1.indexOf('Version');UtilLib.BrowserCapabilities.$1=parseFloat($1.substring(($3+8),$1.length));}else if(ss.isValue(window.opera)){UtilLib.BrowserCapabilities.$0=4;$3=$1.indexOf('Version');UtilLib.BrowserCapabilities.$1=parseFloat($1.substring(($3+8),$1.length));}else if(($3=$1.indexOf('Firefox'))!==-1){UtilLib.BrowserCapabilities.$0=1;UtilLib.BrowserCapabilities.$1=parseFloat($1.substring(($3+8),$1.length));}else if(($3=$1.indexOf('MSIE'))!==-1){UtilLib.BrowserCapabilities.$0=3;UtilLib.BrowserCapabilities.$1=parseFloat($1.substring(($3+5),$1.length));}else{UtilLib.BrowserCapabilities.$0=5;UtilLib.BrowserCapabilities.$1=0;}}
UtilLib.BrowserCapabilities.$6=function(){var $0=window.navigator;var $1=$0.platform;var $2=$0.userAgent;if($1.indexOf('Win')!==-1){UtilLib.BrowserCapabilities.$2=1;}else if($1.indexOf('Linux')!==-1){UtilLib.BrowserCapabilities.$2=2;}else if($1.indexOf('Mac')!==-1){UtilLib.BrowserCapabilities.$2=3;}else if($2.indexOf('iPad')!==-1){UtilLib.BrowserCapabilities.$2=4;}else if($2.indexOf('iPhone')!==-1){UtilLib.BrowserCapabilities.$2=6;}else if($2.indexOf('Android')!==-1){UtilLib.BrowserCapabilities.$2=5;}else if($2.indexOf('iPod')!==-1){UtilLib.BrowserCapabilities.$2=7;}else{UtilLib.BrowserCapabilities.$2=0;}}
UtilLib.Timer=function(timerEventHandler,iInterval){this.$4=-1;this.$0=timerEventHandler;this.$1=iInterval;}
UtilLib.Timer.prototype={$0:null,$1:0,get_interval:function(){return this.$1;},set_interval:function(value){if(value<5){this.$1=5;}else{this.$1=value;}return value;},$2:0,$3:0,get_isRunning:function(){return this.$4!==-1;},stop:function(){if(this.$4!==-1){window.clearTimeout(this.$4);this.$4=-1;}},start:function(){this.stop();this.$2=0;this.$3=Date.get_now().getTime();this.$4=window.setTimeout(ss.Delegate.create(this,this.$5),this.$1);},$5:function(){if(this.$4===-1){return;}this.$2=(Date.get_now().getTime()-this.$3)-(Date.get_now().getTime()-this.$3)%this.$1;var $0=(Date.get_now().getTime()-this.$3)-this.$2;this.$4=window.setTimeout(ss.Delegate.create(this,this.$5),this.$1-$0);this.$0();}}
UtilLib.HtmlCssHelper=function(){}
UtilLib.HtmlCssHelper.getElementClientPosition=function(element){if(ss.isNullOrUndefined(element)){return null;}var $0=element.getBoundingClientRect(null);var $1=$0.left;var $2=$0.top;return new UtilLib.Point($1,$2);}
UtilLib.HtmlCssHelper.getElementClientRect=function(element){if(ss.isNullOrUndefined(element)){return null;}var $0=element.getBoundingClientRect(null);var $1=$0.left;var $2=$0.top;var $3=$0.width;var $4=$0.height;return new UtilLib.Rect($1,$2,$3,$4);}
UtilLib.HtmlCssHelper.getCSSProperty=function(element,strProperty){if(element.currentStyle!=null){return element.currentStyle[strProperty];}else{var $0=document.defaultView;var $1=$0.getComputedStyle(element,null);return $1.getPropertyValue(strProperty);}}
UtilLib.Point=function(iX,iY){this.$0=iX;this.$1=iY;}
UtilLib.Point.prototype={$0:0,get_x:function(){return this.$0;},set_x:function(value){this.$0=value;return value;},$1:0,get_y:function(){return this.$1;},set_y:function(value){this.$1=value;return value;},setZero:function(){this.$0=0;this.$1=0;},isZero:function(){if(!this.$0&&!this.$1){return true;}else{return false;}},clone:function(ptSrc){this.$0=ptSrc.$0;this.$1=ptSrc.$1;},toString:function(){return 'X : '+this.$0+', Y : '+this.$1;}}
UtilLib.PointF=function(dX,dY){this.$0=dX;this.$1=dY;}
UtilLib.PointF.prototype={$0:0,get_x:function(){return this.$0;},set_x:function(value){this.$0=value;return value;},$1:0,get_y:function(){return this.$1;},set_y:function(value){this.$1=value;return value;},toString:function(){return 'X : '+this.$0+', Y : '+this.$1;}}
UtilLib.Size=function(iWidth,iHeight){this.$0=iWidth;this.$1=iHeight;}
UtilLib.Size.prototype={$0:0,get_width:function(){return this.$0;},set_width:function(value){this.$0=value;return value;},$1:0,get_height:function(){return this.$1;},set_height:function(value){this.$1=value;return value;},toString:function(){return 'Width : '+this.$0+' Height : '+this.$1;}}
UtilLib.SizeF=function(dWidth,dHeight){this.$0=dWidth;this.$1=dHeight;}
UtilLib.SizeF.prototype={$0:0,get_width:function(){return this.$0;},set_width:function(value){this.$0=value;return value;},$1:0,get_height:function(){return this.$1;},set_height:function(value){this.$1=value;return value;},toString:function(){return 'Width : '+this.$0+' Height : '+this.$1;}}
UtilLib.Alignment=function(eHorz,eVert){this.$0=eHorz;this.$1=eVert;}
UtilLib.Alignment.prototype={$0:0,$1:0}
UtilLib.Rect=function(iLeft,iTop,iWidth,iHeight){this.$0=iLeft;this.$1=iTop;this.$2=iWidth;this.$3=iHeight;}
UtilLib.Rect.cloneRectList=function(arrRect){if(arrRect==null){return null;}var $0=[];var $1=arrRect.length;for(var $2=0;$2<$1;++$2){var $3=new UtilLib.Rect(0,0,0,0);$3.copy(arrRect[$2]);$0.add($3);}return $0;}
UtilLib.Rect.prototype={$0:0,get_left:function(){return this.$0;},set_left:function(value){this.$0=value;return value;},$1:0,get_top:function(){return this.$1;},set_top:function(value){this.$1=value;return value;},get_topLeft:function(){return new UtilLib.Point(this.get_left(),this.get_top());},set_topLeft:function(value){this.set_left(value.get_x());this.set_top(value.get_y());return value;},get_topRight:function(){return new UtilLib.Point(this.get_left()+this.get_width(),this.get_top());},get_bottomLeft:function(){return new UtilLib.Point(this.get_left(),this.get_top()+this.get_height());},get_bottomRight:function(){return new UtilLib.Point(this.get_left()+this.get_width(),this.get_top()+this.get_height());},set_bottomRight:function(value){this.set_width(value.get_x()-this.get_left());this.set_height(value.get_y()-this.get_top());return value;},$2:0,get_width:function(){return this.$2;},set_width:function(value){this.$2=value;return value;},$3:0,get_height:function(){return this.$3;},set_height:function(value){this.$3=value;return value;},get_isZero:function(){if(!this.$1&&!this.$0&&!this.$2&&!this.$3){return true;}else{return false;}},get_isZeroSize:function(){if(!this.$2&&!this.$3){return true;}else{return false;}},copy:function(rcSrc){if(ss.isValue(rcSrc)){this.$0=rcSrc.get_left();this.$1=rcSrc.get_top();this.$2=rcSrc.get_width();this.$3=rcSrc.get_height();}},isPtInRect:function(fXpt,fYpt){var $0=this.$0+this.$2;var $1=this.$1+this.$3;if((fXpt>=this.$0)&&(fXpt<=$0)&&(fYpt>=this.$1)&&(fYpt<=$1)){return true;}else{return false;}},clone:function(){return new UtilLib.Rect(this.$0,this.$1,this.$2,this.$3);},isRectInRect:function(rcRect){var $0=false;if(rcRect.get_left()>=this.$0&&rcRect.get_top()>=this.$1){if((rcRect.get_left()+rcRect.get_width())<=(this.$0+this.$2)&&(rcRect.get_top()+rcRect.get_height())<=(this.$1+this.$3)){$0=true;}}return $0;},inflateRect:function(iValue){this.$0-=iValue;this.$1-=iValue;this.$2+=2*iValue;this.$3+=2*iValue;},deflateRect:function(iValue){this.$0+=iValue;this.$1+=iValue;this.$2-=2*iValue;this.$3-=2*iValue;},equals:function(rcToBeCompareWith){if(this.$1===rcToBeCompareWith.$1&&this.$0===rcToBeCompareWith.$0&&this.$2===rcToBeCompareWith.$2&&this.$3===rcToBeCompareWith.$3){return true;}return false;},moveLeft:function(iOffset){this.$0=iOffset;},moveTop:function(iOffset){this.$1=iOffset;},isRectsIntersects:function(arrRect){var $0=arrRect.length;for(var $1=0;$1<$0;$1++){var $2=arrRect[$1];if(!this.isRectIntersects($2)){continue;}else{return true;}}return false;},isRectIntersects:function(rect){if((rect.get_topLeft().get_x()<this.get_left()&&rect.get_topRight().get_x()<this.get_left())||(rect.get_topLeft().get_x()>this.get_topRight().get_x()&&rect.get_topRight().get_x()>this.get_topRight().get_x())||(rect.get_topLeft().get_y()<this.get_top()&&rect.get_bottomLeft().get_y()<this.get_top())||(rect.get_topLeft().get_y()>this.get_bottomLeft().get_y()&&rect.get_bottomLeft().get_y()>this.get_bottomLeft().get_y())){return false;}else{return true;}}}
UtilLib.RectF=function(dLeft,dTop,dWidth,dHeight){this.$0=dLeft;this.$1=dTop;this.$2=dWidth;this.$3=dHeight;}
UtilLib.RectF.prototype={$0:0,get_left:function(){return this.$0;},set_left:function(value){this.$0=value;return value;},$1:0,get_top:function(){return this.$1;},set_top:function(value){this.$1=value;return value;},$2:0,get_width:function(){return this.$2;},set_width:function(value){this.$2=value;return value;},$3:0,get_height:function(){return this.$3;},set_height:function(value){this.$3=value;return value;},get_right:function(){return this.$0+this.$2;},get_bottom:function(){return this.$1+this.$3;},inflateRect:function(dValue){this.$0-=dValue;this.$1-=dValue;this.$2+=2*dValue;this.$3+=2*dValue;},deflateRect:function(dValue){this.$0+=dValue;this.$1+=dValue;this.$2-=2*dValue;this.$3-=2*dValue;},isPtInRect:function(fXpt,fYpt){var $0=this.$0+this.$2;var $1=this.$1+this.$3;if((fXpt>=this.$0)&&(fXpt<=$0)&&(fYpt>=this.$1)&&(fYpt<=$1)){return true;}else{return false;}},clone:function(){return new UtilLib.RectF(this.$0,this.$1,this.$2,this.$3);}}
UtilLib.Color=function(iRed,iGreen,iBlue,nAlpha){this.iRed=iRed;this.iGreen=iGreen;this.iBlue=iBlue;this.nAlpha=nAlpha;}
UtilLib.Color.prototype={iRed:0,iGreen:0,iBlue:0,nAlpha:0,toString:function(){var $0='#'+this.iRed.toString(16).padLeft(2,'0')+this.iGreen.toString(16).padLeft(2,'0')+this.iBlue.toString(16).padLeft(2,'0');return $0;},torgbaString:function(){return 'rgba('+this.iRed+','+this.iGreen+','+this.iBlue+','+this.nAlpha+')';},clone:function(){return new UtilLib.Color(this.iRed,this.iGreen,this.iBlue,this.nAlpha);},isEqual:function(c){if(this.iRed===c.iRed&&this.iGreen===c.iGreen&&this.iBlue===c.iBlue&&this.nAlpha===c.nAlpha){return true;}else{return false;}}}
UtilLib.Font=function(){this.dSize=12;this.lstFamily=[];}
UtilLib.Font.prototype={eWeight:null,eStyle:null,dSize:0,lstFamily:null,toString:function(){var $0=this.eWeight+' '+this.eStyle+' ';if(this.lstFamily.length>0){$0+=this.dSize+'px '+this.lstFamily[0];}for(var $1=1;$1<this.lstFamily.length;$1++){$0+=','+this.lstFamily[$1];}return $0;},clone:function(){var $0=new UtilLib.Font();$0.eWeight=this.eWeight;$0.eStyle=this.eStyle;$0.dSize=this.dSize;for(var $1=0;$1<this.lstFamily.length;$1++){$0.lstFamily[$1]=this.lstFamily[$1];}return $0;}}
UtilLib.PositionStyle=function(){}
UtilLib.MenuWnd_MenuParams=function(oLaunchFrom,iMenuNo,iDefActiveItem,rcLauncher,strLaunchFrom){this._oLaunchFrom=oLaunchFrom;this._iMenuNo=iMenuNo;this._iDefaultActiveItem=iDefActiveItem;this._rcLauncher=rcLauncher;this._strLaunchFrom=strLaunchFrom;this._ePositioningOrder=[];this.setPositioningOrder(0);}
UtilLib.MenuWnd_MenuParams.prototype={_oLaunchFrom:null,_iMenuNo:0,_iDefaultActiveItem:null,_rcLauncher:null,_strLaunchFrom:null,_ePositioningOrder:null,addPositioningOrder:function(ePositioning){this._ePositioningOrder.add(ePositioning);},setPositioningOrder:function(eOrderType){this._ePositioningOrder.clear();switch(eOrderType){case 2:case 4:this._ePositioningOrder.add(1);this._ePositioningOrder.add(2);break;case 3:case 5:this._ePositioningOrder.add(0);break;case 7:this._ePositioningOrder.add(0);this._ePositioningOrder.add(3);break;case 0:case 6:default:this._ePositioningOrder.add(0);this._ePositioningOrder.add(1);this._ePositioningOrder.add(2);this._ePositioningOrder.add(3);break;}}}
UtilLib.HideMenuParams=function(bShouldNotifyRibbonForHidePane){if(ss.isNullOrUndefined(bShouldNotifyRibbonForHidePane)){bShouldNotifyRibbonForHidePane=true;}this._bShouldNotifyRibbonForHidePane=bShouldNotifyRibbonForHidePane;}
UtilLib.HideMenuParams.prototype={_bShouldNotifyRibbonForHidePane:false,get_shouldNotifyRibbonForHidePane:function(){return this._bShouldNotifyRibbonForHidePane;}}
UtilLib.SelectionArgs=function(iStartIndex,iEndIndex){this.$0=iStartIndex;this.$1=iEndIndex;}
UtilLib.SelectionArgs.prototype={$0:0,get_startIndex:function(){return this.$0;},set_startIndex:function(value){this.$0=value;return value;},$1:0,get_endIndex:function(){return this.$1;},set_endIndex:function(value){this.$1=value;return value;}}
UtilLib.TabHeaderInfo=function(){this._sTabHeaderText='';this._lstSpecialTabs=[];this._eAlignment=1;this._eColor=1;}
UtilLib.TabHeaderInfo.prototype={_sTabHeaderText:null,_lstSpecialTabs:null,_eAlignment:0,_eColor:0}
UtilLib.XMLUtils.registerClass('UtilLib.XMLUtils');UtilLib.BrowserCapabilities.registerClass('UtilLib.BrowserCapabilities');UtilLib.Timer.registerClass('UtilLib.Timer');UtilLib.HtmlCssHelper.registerClass('UtilLib.HtmlCssHelper');UtilLib.Point.registerClass('UtilLib.Point');UtilLib.PointF.registerClass('UtilLib.PointF');UtilLib.Size.registerClass('UtilLib.Size');UtilLib.SizeF.registerClass('UtilLib.SizeF');UtilLib.Alignment.registerClass('UtilLib.Alignment');UtilLib.Rect.registerClass('UtilLib.Rect');UtilLib.RectF.registerClass('UtilLib.RectF');UtilLib.Color.registerClass('UtilLib.Color');UtilLib.Font.registerClass('UtilLib.Font');UtilLib.PositionStyle.registerClass('UtilLib.PositionStyle');UtilLib.MenuWnd_MenuParams.registerClass('UtilLib.MenuWnd_MenuParams');UtilLib.HideMenuParams.registerClass('UtilLib.HideMenuParams');UtilLib.SelectionArgs.registerClass('UtilLib.SelectionArgs');UtilLib.TabHeaderInfo.registerClass('UtilLib.TabHeaderInfo');UtilLib.BrowserCapabilities.$0=0;UtilLib.BrowserCapabilities.$1=0;UtilLib.BrowserCapabilities.$2=0;UtilLib.BrowserCapabilities.$3=false;(function(){UtilLib.BrowserCapabilities.$4();UtilLib.BrowserCapabilities.$3=ss.isNullOrUndefined(window.document)||!(typeof(document.getElementById)==='function');})();
UtilLib.PositionStyle.strStatic='static';UtilLib.PositionStyle.strInitial='initial';UtilLib.PositionStyle.strRelative='relative';UtilLib.PositionStyle.strAbsolute='absolute';UtilLib.PositionStyle.strFixed='fixed';})();// This script was generated using Script# v0.7.4.0

// framework.js
(function(){
Type.registerNamespace('Kepler.Framework.Accessibility');Kepler.Framework.Accessibility.AccessibilitySupport=function(){this.$F=new Kepler.Framework.Core.Timers.Timer(ss.Delegate.create(this,this.$10),30);this.$2=document.createElement('span');this.$2.id='Accessibility1';this.$2.className='Accessibility1';this.$2.tabIndex=0;this.$2.style.position='absolute';this.$2.style.top='-2000px';this.$2.style.left='-4000px';this.$2.style.width='0px';this.$2.style.height='0px';this.$2.style.overflow='hidden';this.$3=document.createElement('span');this.$3.id='Accessibility2';this.$3.className='Accessibility2';this.$3.tabIndex=0;this.$3.style.position='absolute';this.$3.style.top='-2000px';this.$3.style.left='-4000px';this.$3.style.width='0px';this.$3.style.height='0px';this.$3.style.overflow='hidden';this.$4=document.createElement('span');this.$4.id='Accessibility3';this.$4.className='Accessibility3';this.$4.tabIndex=0;this.$4.style.position='absolute';this.$4.style.top='-2000px';this.$4.style.left='-4000px';this.$4.style.width='0px';this.$4.style.height='0px';this.$4.style.overflow='hidden';this.$C={};this.$6=document.createElement('div');this.$6.id='DummyAccessibility';this.$6.style.position='absolute';this.$6.style.width='0px';this.$6.style.height='0px';this.$6.style.overflow='hidden';this.$6.setAttribute('role','presentation');this.$5=document.createElement('div');this.$5.id='parentAcc';this.$5.style.position='absolute';this.$5.style.width='0px';this.$5.style.height='0px';this.$5.style.overflow='hidden';this.$5.setAttribute('role','grid');}
Kepler.Framework.Accessibility.AccessibilitySupport.get_instance=function(){return Kepler.Framework.Accessibility.AccessibilitySupport.$0;}
Kepler.Framework.Accessibility.AccessibilitySupport.get_isShowMeRunning=function(){return Kepler.Framework.Accessibility.AccessibilitySupport.$A;}
Kepler.Framework.Accessibility.AccessibilitySupport.set_isShowMeRunning=function(value){Kepler.Framework.Accessibility.AccessibilitySupport.$A=value;return value;}
Kepler.Framework.Accessibility.AccessibilitySupport.prototype={$1:null,get_extraText:function(){return this.$1;},$2:null,$3:null,$4:null,$5:null,get_accessibilityElm1:function(){return this.$2;},get_accessibilityElm2:function(){return this.$3;},get_accessibilityElm3:function(){return this.$4;},get_accessibilityParent:function(){return this.$5;},$6:null,get_dummyElement:function(){return this.$6;},$7:0,$8:'',$9:'',$B:false,get_isAccessibilityOn:function(){if(Kepler.Framework.Accessibility.AccessibilitySupport.get_isShowMeRunning()){return false;}return this.$B;},set_isAccessibilityOn:function(value){this.$B=value;return value;},$C:null,$E:null,get_dontSkipText:function(){return this.$E;},set_dontSkipText:function(value){if(Kepler.Framework.Accessibility.AccessibilitySupport.$A){this.$E='';}else{if(!!this.$E&&this.$F.get_isRunning()){this.$E=this.$E+' '+value;}else{this.$E=value;this.$F.start();}}return value;},$F:null,$10:function(){this.$F.stop();if(!!this.$E){this.setRole('label');this.setAccessibilitySpeech(this.$E);this.$E='';this.setFocusOnAccessibilityElement();}},setRole:function(strRole){if(strRole==='label'){strRole='gridcell';}this.$9=strRole;},setAccessibilitySpeech:function(strSpeechData){this.$8=strSpeechData;},setFocusOnAccessibilityElement:function(mapAttributes){if(!this.$B){return;}if(this.$F.get_isRunning()&&!!this.$E){this.$F.stop();this.$1=(!this.$1)?this.$E:this.$1+' '+this.$E;this.$E='';}var $0=null;var $1='';if(!String.isNullOrEmpty(this.$1)){$1+=this.$1+' ';}$1+=this.$8;$0=(!this.$7)?this.$2:(this.$7===1)?this.$3:this.$4;this.$7=(this.$7+1)%3;this.$11();$0.textContent=$1;if(Kepler.Framework.Core.Browser.BrowserCapabilities.get_name()===3&&this.$9==='gridcell'){$0.removeAttribute('role');}else{$0.setAttribute('role',this.$9);}$0.setAttribute('aria-label',$1);if(Kepler.Framework.Core.Browser.BrowserCapabilities.get_platform()===3&&this.$9==='menubar'){$0.setAttribute('role','gridcell');this.$9='gridcell';}if(Kepler.Framework.Core.Browser.BrowserCapabilities.get_platform()===3&&Kepler.Framework.Core.Browser.BrowserCapabilities.get_name()===2&&(this.$9==='gridcell'||this.$9==='label')){$0.setAttribute('aria-label','');}if(ss.isValue(mapAttributes)&&Object.getKeyCount(mapAttributes)>0){this.$12($0,mapAttributes);}$0.focus();this.$1='';},$11:function(){for(var $0=0;$0<Object.getKeyCount(this.$C);$0++){this.$2.removeAttribute(Object.keys(this.$C)[$0]);this.$3.removeAttribute(Object.keys(this.$C)[$0]);this.$4.removeAttribute(Object.keys(this.$C)[$0]);}Object.clearKeys(this.$C);},$12:function($p0,$p1){this.$C=$p1;for(var $0=0;$0<Object.getKeyCount(this.$C);$0++){var $1=Object.keys($p1)[$0];var $2=$p1[$1];Kepler.Engine.UI.Helper.HtmlCssHelper.addElementAttribute($p0,$1,$2);}},updateAriaAttributes:function(mapAttributes){var $0=null;$0=(!this.$7)?this.$2:(this.$7===1)?this.$3:this.$4;this.$7=(this.$7+1)%3;this.$11();$0.textContent='';$0.setAttribute('role',this.$9);$0.setAttribute('aria-label','');if(ss.isValue(mapAttributes)&&Object.getKeyCount(mapAttributes)>0){this.$12($0,mapAttributes);}$0.focus();}}
Type.registerNamespace('Kepler.Framework.Core.Browser');Kepler.Framework.Core.Browser.BrowserName=function(){};Kepler.Framework.Core.Browser.BrowserName.prototype = {chrome:0,firefox:1,safari:2,internetExplorer:3,opera:4,unknown:5}
Kepler.Framework.Core.Browser.BrowserName.registerEnum('Kepler.Framework.Core.Browser.BrowserName',false);Kepler.Framework.Core.Browser.BrowserMode=function(){};Kepler.Framework.Core.Browser.BrowserMode.prototype = {normal:0,metro:1}
Kepler.Framework.Core.Browser.BrowserMode.registerEnum('Kepler.Framework.Core.Browser.BrowserMode',false);Kepler.Framework.Core.Browser.BrowserPlatform=function(){};Kepler.Framework.Core.Browser.BrowserPlatform.prototype = {unknown:0,windows:1,linux:2,mac:3,android:4}
Kepler.Framework.Core.Browser.BrowserPlatform.registerEnum('Kepler.Framework.Core.Browser.BrowserPlatform',false);Kepler.Framework.Core.Browser.DeviceType=function(){};Kepler.Framework.Core.Browser.DeviceType.prototype = {unknown:0,desktop:1,iPad:2,surface:3,nexus:4,iPhone:5,iPod:6,xoom:7,chromeOS:8}
Kepler.Framework.Core.Browser.DeviceType.registerEnum('Kepler.Framework.Core.Browser.DeviceType',false);Kepler.Framework.Core.Browser.FontStyle=function(){};Kepler.Framework.Core.Browser.FontStyle.prototype = {normal:'normal',italic:'italic',oblique:'oblique'}
Kepler.Framework.Core.Browser.FontStyle.registerEnum('Kepler.Framework.Core.Browser.FontStyle',false);Kepler.Framework.Core.Browser.FontWeight=function(){};Kepler.Framework.Core.Browser.FontWeight.prototype = {normal:'normal',bold:'bold'}
Kepler.Framework.Core.Browser.FontWeight.registerEnum('Kepler.Framework.Core.Browser.FontWeight',false);Kepler.Framework.Core.Browser.Visibility=function(){};Kepler.Framework.Core.Browser.Visibility.prototype = {collapse:'collapse',hidden:'hidden',visible:'visible',inherit:'inherit'}
Kepler.Framework.Core.Browser.Visibility.registerEnum('Kepler.Framework.Core.Browser.Visibility',false);Kepler.Framework.Core.Browser.TextAlign=function(){};Kepler.Framework.Core.Browser.TextAlign.prototype = {left:'left',center:'center',right:'right'}
Kepler.Framework.Core.Browser.TextAlign.registerEnum('Kepler.Framework.Core.Browser.TextAlign',false);Kepler.Framework.Core.Browser.VerticalAlign=function(){};Kepler.Framework.Core.Browser.VerticalAlign.prototype = {top:'top',middle:'middle',bottom:'bottom'}
Kepler.Framework.Core.Browser.VerticalAlign.registerEnum('Kepler.Framework.Core.Browser.VerticalAlign',false);Kepler.Framework.Core.Browser.DisplayStyle=function(){};Kepler.Framework.Core.Browser.DisplayStyle.prototype = {none:'none',inline:'inline',block:'block'}
Kepler.Framework.Core.Browser.DisplayStyle.registerEnum('Kepler.Framework.Core.Browser.DisplayStyle',false);Kepler.Framework.Core.Browser.BrowserCapabilities=function(){}
Kepler.Framework.Core.Browser.BrowserCapabilities.get_name=function(){return Kepler.Framework.Core.Browser.BrowserCapabilities.$5;}
Kepler.Framework.Core.Browser.BrowserCapabilities.get_version=function(){return Kepler.Framework.Core.Browser.BrowserCapabilities.$6;}
Kepler.Framework.Core.Browser.BrowserCapabilities.get_androidVersion=function(){return Kepler.Framework.Core.Browser.BrowserCapabilities.$7;}
Kepler.Framework.Core.Browser.BrowserCapabilities.get_platform=function(){return Kepler.Framework.Core.Browser.BrowserCapabilities.$8;}
Kepler.Framework.Core.Browser.BrowserCapabilities.get_deviceType=function(){return Kepler.Framework.Core.Browser.BrowserCapabilities.$9;}
Kepler.Framework.Core.Browser.BrowserCapabilities.get_devicePixelRatio=function(){return Kepler.Framework.Core.Browser.BrowserCapabilities.$A;}
Kepler.Framework.Core.Browser.BrowserCapabilities.get_keyboardHeight=function(){if(Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){if(window.orientation===90||window.orientation===-90){if(Kepler.Framework.Core.Browser.BrowserCapabilities.$8===3){return Kepler.Framework.Core.Browser.BrowserCapabilities.$0;}else if(Kepler.Framework.Core.Browser.BrowserCapabilities.$8===1){return 384;}else if(Kepler.Framework.Core.Browser.BrowserCapabilities.$8===4){return Kepler.Framework.Core.Browser.BrowserCapabilities.$3;}}else{if(Kepler.Framework.Core.Browser.BrowserCapabilities.$8===3){return Kepler.Framework.Core.Browser.BrowserCapabilities.$1;}else if(Kepler.Framework.Core.Browser.BrowserCapabilities.$8===1){return 384;}else if(Kepler.Framework.Core.Browser.BrowserCapabilities.$8===4){return Kepler.Framework.Core.Browser.BrowserCapabilities.$4;}}throw new Error('Not Implemented Exception');}return 0;}
Kepler.Framework.Core.Browser.BrowserCapabilities.get_isIFrameScope=function(){return Kepler.Framework.Core.Browser.BrowserCapabilities.$B;}
Kepler.Framework.Core.Browser.BrowserCapabilities.get_isWorkerScope=function(){return Kepler.Framework.Core.Browser.BrowserCapabilities.$C;}
Kepler.Framework.Core.Browser.BrowserCapabilities.get_isWorkerSupported=function(){return (typeof(window.Worker)==='function');}
Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice=function(){if(!!Kepler.Framework.Core.Browser.BrowserCapabilities.$9){return (Kepler.Framework.Core.Browser.BrowserCapabilities.$9>1&&Kepler.Framework.Core.Browser.BrowserCapabilities.$9<=7);}else{return Kepler.Framework.Core.Browser.BrowserCapabilities.$8===4;}}
Kepler.Framework.Core.Browser.BrowserCapabilities.$D=function(){Kepler.Framework.Core.Browser.BrowserCapabilities.$F();Kepler.Framework.Core.Browser.BrowserCapabilities.$10();Kepler.Framework.Core.Browser.BrowserCapabilities.$11();}
Kepler.Framework.Core.Browser.BrowserCapabilities.get_mode=function(){return Kepler.Framework.Core.Browser.BrowserCapabilities.$E;}
Kepler.Framework.Core.Browser.BrowserCapabilities.$F=function(){var $0=window.navigator;var $1=$0.userAgent;var $2=$0.vendor;Kepler.Framework.Core.Browser.BrowserCapabilities.$E=0;var $3;if(($3=$1.indexOf('Trident'))!==-1){Kepler.Framework.Core.Browser.BrowserCapabilities.$5=3;if(($3=$1.indexOf('MSIE'))!==-1&&$1.indexOf('Opera')===-1){Kepler.Framework.Core.Browser.BrowserCapabilities.$6=parseFloat($1.substring(($3+5),$1.length));}else if(($3=$1.indexOf('rv'))!==-1){Kepler.Framework.Core.Browser.BrowserCapabilities.$6=parseFloat($1.substring(($3+3),$1.length));}try{var $4=new ActiveXObject('htmlfile');}catch($5){Kepler.Framework.Core.Browser.BrowserCapabilities.$E=1;}}else if(($3=$1.indexOf('Edge'))!==-1){Kepler.Framework.Core.Browser.BrowserCapabilities.$5=3;Kepler.Framework.Core.Browser.BrowserCapabilities.$6=parseFloat($1.substring(($3+5),$1.length));}else if(($3=$1.indexOf('Firefox'))!==-1){Kepler.Framework.Core.Browser.BrowserCapabilities.$5=1;Kepler.Framework.Core.Browser.BrowserCapabilities.$6=parseFloat($1.substring(($3+8),$1.length));}else if(($3=$1.indexOf('Chrome'))!==-1){Kepler.Framework.Core.Browser.BrowserCapabilities.$5=0;Kepler.Framework.Core.Browser.BrowserCapabilities.$6=parseFloat($1.substring(($3+7),$1.length));}else if(($3=$1.indexOf('Safari'))!==-1){Kepler.Framework.Core.Browser.BrowserCapabilities.$5=2;$3=$1.indexOf('Version');Kepler.Framework.Core.Browser.BrowserCapabilities.$6=parseFloat($1.substring(($3+8),$1.length));}else if(($3=$1.indexOf('Opera'))!==-1){Kepler.Framework.Core.Browser.BrowserCapabilities.$5=4;$3=$1.indexOf('Version');Kepler.Framework.Core.Browser.BrowserCapabilities.$6=parseFloat($1.substring(($3+8),$1.length));}else{Kepler.Framework.Core.Browser.BrowserCapabilities.$5=5;Kepler.Framework.Core.Browser.BrowserCapabilities.$6=0;}}
Kepler.Framework.Core.Browser.BrowserCapabilities.$10=function(){var $0=window.navigator;var $1=$0.platform;var $2=$0.userAgent;var $3;if(($3=$2.indexOf('Android'))!==-1){Kepler.Framework.Core.Browser.BrowserCapabilities.$8=4;Kepler.Framework.Core.Browser.BrowserCapabilities.$7=parseFloat($2.substring(($3+8),$2.length));if($2.indexOf('Nexus')!==-1){Kepler.Framework.Core.Browser.BrowserCapabilities.$9=4;}else if($2.indexOf('Xoom')!==-1){Kepler.Framework.Core.Browser.BrowserCapabilities.$9=7;}}else if($2.indexOf('iPad')!==-1){Kepler.Framework.Core.Browser.BrowserCapabilities.$8=3;Kepler.Framework.Core.Browser.BrowserCapabilities.$9=2;}else if($2.indexOf('iPhone')!==-1){Kepler.Framework.Core.Browser.BrowserCapabilities.$8=3;Kepler.Framework.Core.Browser.BrowserCapabilities.$9=5;}else if($2.indexOf('iPod')!==-1){Kepler.Framework.Core.Browser.BrowserCapabilities.$8=3;Kepler.Framework.Core.Browser.BrowserCapabilities.$9=6;}else if($2.indexOf('Win')!==-1){Kepler.Framework.Core.Browser.BrowserCapabilities.$8=1;if($2.indexOf('Touch')!==-1){Kepler.Framework.Core.Browser.BrowserCapabilities.$9=3;}else{Kepler.Framework.Core.Browser.BrowserCapabilities.$9=1;}}else if($1.indexOf('Linux')!==-1){Kepler.Framework.Core.Browser.BrowserCapabilities.$8=2;if($2.indexOf('CrOS')!==-1){Kepler.Framework.Core.Browser.BrowserCapabilities.$9=8;}else{Kepler.Framework.Core.Browser.BrowserCapabilities.$9=1;}}else if($1.indexOf('Mac')!==-1){Kepler.Framework.Core.Browser.BrowserCapabilities.$8=3;Kepler.Framework.Core.Browser.BrowserCapabilities.$9=1;}else{Kepler.Framework.Core.Browser.BrowserCapabilities.$8=0;Kepler.Framework.Core.Browser.BrowserCapabilities.$9=0;}}
Kepler.Framework.Core.Browser.BrowserCapabilities.getZoom=function(){return parseInt((Kepler.Framework.Core.Browser.BrowserCapabilities.getZoomFactor()*100));}
Kepler.Framework.Core.Browser.BrowserCapabilities.getZoomFactor=function(){var $0=Type.getType('DetectZoom');if(ss.isValue($0)&&(typeof($0.zoom)==='function')){return $0.zoom(null);}else{throw new Error('Not Supported Exception : '+" Please add 'DetectZoom.js'.");}}
Kepler.Framework.Core.Browser.BrowserCapabilities.$11=function(){if(('devicePixelRatio' in window)){var $0=window.devicePixelRatio;Kepler.Framework.Core.Browser.BrowserCapabilities.$A=parseFloat($0.toString());if(Kepler.Framework.Core.Browser.BrowserCapabilities.$8===4){var $1=0;if(Kepler.Framework.Core.Browser.BrowserCapabilities.$A===1){$1=8;}var $2=Kepler.Framework.Core.Browser.BrowserCapabilities.$3;var $3=($2*(1/Kepler.Framework.Core.Browser.BrowserCapabilities.$A))-$1;Kepler.Framework.Core.Browser.BrowserCapabilities.$3=$3;$2=Kepler.Framework.Core.Browser.BrowserCapabilities.$4;$3=($2*(1/Kepler.Framework.Core.Browser.BrowserCapabilities.$A))-$1;Kepler.Framework.Core.Browser.BrowserCapabilities.$4=$3;}}else{Kepler.Framework.Core.Browser.BrowserCapabilities.$A=1;}}
Kepler.Framework.Core.Browser.BrowserCapabilities.getBackingStoreRatio=function(ctx){var $0=1;if(('webkitBackingStorePixelRatio' in ctx)){var $1=ctx.webkitBackingStorePixelRatio;$0=parseFloat($1.toString());}if(('mozBackingStorePixelRatio' in ctx)){var $2=ctx.mozBackingStorePixelRatio;$0=parseFloat($2.toString());}if(('msBackingStorePixelRatio' in ctx)){var $3=ctx.msBackingStorePixelRatio;$0=parseFloat($3.toString());}if(('oBackingStorePixelRatio' in ctx)){var $4=ctx.oBackingStorePixelRatio;$0=parseFloat($4.toString());}if(('backingStorePixelRatio' in ctx)){var $5=ctx.backingStorePixelRatio;$0=parseFloat($5.toString());}return $0;}
Kepler.Framework.Core.Browser.BrowserCapabilities.getHighDPIRatio=function(ctx){return Kepler.Framework.Core.Browser.BrowserCapabilities.get_devicePixelRatio()/Kepler.Framework.Core.Browser.BrowserCapabilities.getBackingStoreRatio(ctx);}
Kepler.Framework.Core.Browser.BrowserCapabilities.isJellyBean=function(){return Kepler.Framework.Core.Browser.BrowserCapabilities.$8===4&&(Kepler.Framework.Core.Browser.BrowserCapabilities.$7>=4.1&&Kepler.Framework.Core.Browser.BrowserCapabilities.$7<=4.3);}
Kepler.Framework.Core.Browser.BrowserCapabilities.isWebView=function(){return !!Kepler.Framework.Core.Browser.BrowserCapabilities.$5&&Kepler.Framework.Core.Browser.BrowserCapabilities.$5!==1&&Kepler.Framework.Core.Browser.BrowserCapabilities.$5!==4;}
Kepler.Framework.Core.Browser.PositionStyle=function(){}
Type.registerNamespace('Kepler.Framework.Core.Browser.ProxyClasses');Kepler.Framework.Core.Browser.ProxyClasses.NodeFilterAcceptResponse=function(){};Kepler.Framework.Core.Browser.ProxyClasses.NodeFilterAcceptResponse.prototype = {filteR_ACCEPT:1,filteR_REJECT:2,filteR_SKIP:3}
Kepler.Framework.Core.Browser.ProxyClasses.NodeFilterAcceptResponse.registerEnum('Kepler.Framework.Core.Browser.ProxyClasses.NodeFilterAcceptResponse',false);Kepler.Framework.Core.Browser.ProxyClasses.RangeCompareType=function(){};Kepler.Framework.Core.Browser.ProxyClasses.RangeCompareType.prototype = {starT_TO_START:0,starT_TO_END:1,enD_TO_END:2,enD_TO_START:3}
Kepler.Framework.Core.Browser.ProxyClasses.RangeCompareType.registerEnum('Kepler.Framework.Core.Browser.ProxyClasses.RangeCompareType',false);Kepler.Framework.Core.Browser.ProxyClasses.XmlHttpRequestState=function(){};Kepler.Framework.Core.Browser.ProxyClasses.XmlHttpRequestState.prototype = {UNSENT:0,OPENED:1,headerS_RECEIVED:2,LOADING:3,DONE:4}
Kepler.Framework.Core.Browser.ProxyClasses.XmlHttpRequestState.registerEnum('Kepler.Framework.Core.Browser.ProxyClasses.XmlHttpRequestState',false);Kepler.Framework.Core.Browser.ProxyClasses.TextRangeCompareType=function(){};Kepler.Framework.Core.Browser.ProxyClasses.TextRangeCompareType.prototype = {StartToEnd:'StartToEnd',StartToStart:'StartToStart',EndToStart:'EndToStart',EndToEnd:'EndToEnd'}
Kepler.Framework.Core.Browser.ProxyClasses.TextRangeCompareType.registerEnum('Kepler.Framework.Core.Browser.ProxyClasses.TextRangeCompareType',false);Kepler.Framework.Core.Browser.ProxyClasses.TextRangeExpandType=function(){};Kepler.Framework.Core.Browser.ProxyClasses.TextRangeExpandType.prototype = {character:'character',word:'word',sentence:'sentence',textedit:'textedit'}
Kepler.Framework.Core.Browser.ProxyClasses.TextRangeExpandType.registerEnum('Kepler.Framework.Core.Browser.ProxyClasses.TextRangeExpandType',false);Kepler.Framework.Core.Browser.ProxyClasses.NodeFilterShowType=function(){}
Type.registerNamespace('Kepler.Framework.Downloader');Type.registerNamespace('Kepler.Framework.Core.Browser.ProxyClasses.Svg');Kepler.Framework.Core.Browser.ProxyClasses.Svg.SVGGElement=function(){Kepler.Framework.Core.Browser.ProxyClasses.Svg.SVGGElement.initializeBase(this);}
Type.registerNamespace('Kepler.Framework.Core.Browser.QueryString');Kepler.Framework.Core.Browser.QueryString.CacheBuster=function(){}
Kepler.Framework.Core.Browser.QueryString.CacheBuster.addCacheBuster=function(strFilePath){var $0=new ss.StringBuilder(strFilePath);$0.append('?');$0.append('cb=');$0.append(Kepler.Framework.Core.Browser.QueryString.CacheBuster.$0);return $0.toString();}
Kepler.Framework.Core.Browser.QueryString.QueryStringParser=function(){}
Kepler.Framework.Core.Browser.QueryString.QueryStringParser.$1=function(){var $0=window.location.search.substr(1);var $1=$0.split('&');Kepler.Framework.Core.Browser.QueryString.QueryStringParser.$0={};for(var $2=0;$2<$1.length;$2++){var $3=$1[$2].split('=');if(ss.isNullOrUndefined($3[1])){$3[1]=new String();}Kepler.Framework.Core.Browser.QueryString.QueryStringParser.$0[$3[0]]=window.unescape($3[1]);}}
Kepler.Framework.Core.Browser.QueryString.QueryStringParser.getQueryStringValue=function(strKey){return Kepler.Framework.Core.Browser.QueryString.QueryStringParser.$0[strKey];}
Type.registerNamespace('Kepler.Framework.Core');Kepler.Framework.Core.Seperators=function(){}
Kepler.Framework.Core.StringUtils=function(){}
Kepler.Framework.Core.StringUtils.strPadWith=function(strSrc,iTotalChars,strPadWith,strPadDir){strSrc=strSrc+'';strPadWith=(ss.isValue(strPadWith))?strPadWith:'0';if(String.isNullOrEmpty(strPadDir)||(!!String.compare(strPadDir,'left',true)&&!!String.compare(strPadDir,'right',true))){strPadDir='left';}if(strSrc.length<iTotalChars){if(!String.compare(strPadDir,'left',true)){while(strSrc.length<iTotalChars){strSrc=strPadWith+strSrc;}}else{while(strSrc.length<iTotalChars){strSrc=strSrc+strPadWith;}}}if(strSrc.length>iTotalChars){if(!String.compare(strPadDir,'left',true)){strSrc=strSrc.substr((strSrc.length-iTotalChars),iTotalChars);}else{strSrc=strSrc.substr(0,iTotalChars);}}return strSrc;}
Kepler.Framework.Core.StringUtils.isNum=function(lCode){var $0='01234567890';var $1=String.fromCharCode(lCode);if($0.indexOf($1)!==-1||(lCode>=96&&lCode<=105)){return true;}else{return false;}}
Kepler.Framework.Core.StringUtils.isAlpha=function(lCode){if(lCode>=65&&lCode<=90){return true;}else{return false;}}
Kepler.Framework.Core.StringUtils.isPunct=function(lCode){if(Kepler.Framework.Core.StringUtils.$1.contains(lCode)){return true;}else{return false;}}
Kepler.Framework.Core.StringUtils.isPrintable=function(lCode,strIdentifier){if(Kepler.Framework.Core.StringUtils.isFuntionKeys(lCode)){return false;}else if(Kepler.Framework.Core.StringUtils.isNavigation(lCode)){return false;}else if(Kepler.Framework.Core.StringUtils.isNum(lCode)||Kepler.Framework.Core.StringUtils.isAlpha(lCode)||Kepler.Framework.Core.StringUtils.isPunct(lCode)||Kepler.Framework.Core.StringUtils.$0.contains(lCode)){return true;}else{return false;}}
Kepler.Framework.Core.StringUtils.isFuntionKeys=function(iKeyCode){return (iKeyCode>=112&&iKeyCode<=123);}
Kepler.Framework.Core.StringUtils.isNavigation=function(iKeyCode){if(iKeyCode===37||iKeyCode===38||iKeyCode===39||iKeyCode===40||iKeyCode===36||iKeyCode===35||iKeyCode===33||iKeyCode===34){return true;}return false;}
Kepler.Framework.Core.StringUtils.isUpper=function(ch){return 65<=ch&&ch<=90;}
Kepler.Framework.Core.StringUtils.isLower=function(ch){return 97<=ch&&ch<=122;}
Kepler.Framework.Core.StringUtils.canOpenDropDown=function(iKeyCode){if(Kepler.Framework.Core.StringUtils.isNum(iKeyCode)||Kepler.Framework.Core.StringUtils.isAlpha(iKeyCode)||Kepler.Framework.Core.StringUtils.isPunct(iKeyCode)||Kepler.Framework.Core.StringUtils.isNavigation(iKeyCode)){return true;}return false;}
Kepler.Framework.Core.StringUtils.getCharCodeFromKeyAndLocation=function(eKeyCode,eKeyLocation){var $0;switch(eKeyLocation){case 3:if(eKeyCode>=96&&eKeyCode<=105){$0=(eKeyCode-48);}else if(eKeyCode>=106&&eKeyCode<=111){$0=(eKeyCode-64);}else{$0=eKeyCode;}break;default:if(Kepler.Framework.Core.StringUtils.isPrintable(eKeyCode,'')){$0=eKeyCode;}else{$0=0;}break;}return $0;}
Kepler.Framework.Core.StringUtils.getTokenizedArray=function(strString,strSep,lstToken,bRemove){if(ss.isValue(bRemove)&&bRemove){lstToken.clear();}var $0=0;var $1=strString.length;if(0===$1){return $0;}var $2=0;var $3=-1;while($2<$1){$3=strString.indexOf(strSep,$2);if($3!==-1){lstToken.add(strString.substr($2,$3-$2));$2=$3+strSep.length;if($2===$1){$0++;lstToken.add('');}}else{lstToken.add(strString.substr($2));$2=strString.length;}$0++;}return $0;}
Kepler.Framework.Core.StringUtils.spanIncluding=function(strSource,strSearch){for(var $0=0;$0<strSource.length;$0++){if(strSearch.indexOf(strSearch.charAt($0))===Kepler.Framework.Core.Globals.invaliD_VALUE){return strSource.substr(0,$0);}}return '';}
Kepler.Framework.Core.StringUtils.getStringFromKeyCode=function(iKeyCode,strKeyIdentifier){if(ss.isNullOrUndefined(strKeyIdentifier)){throw new Error('Invalid Argument Exception : '+'strKeyIdentifier');}if(strKeyIdentifier.startsWith('U+')||(Kepler.Framework.Core.Browser.BrowserCapabilities.get_name()===3&&strKeyIdentifier==='Unidentified')){switch(iKeyCode){case 9:return 'Tab';case 8:return 'Backspace';case 46:return 'Delete';case 27:return 'Escape';case 32:return 'Space';case 13:return 'Enter';case 192:return 'Tilde';case 220:return "'\\'";case 221:return ']';case 219:return '[';case 186:return ';';case 222:return "'";case 188:return "','";case 190:return '.';case 191:return '/';default:if(Kepler.Framework.Core.StringUtils.isPrintable(iKeyCode,strKeyIdentifier)){return String.fromCharCode(iKeyCode);}else{if(!Kepler.Framework.Core.Browser.BrowserCapabilities.get_name()&&Kepler.Framework.Core.Browser.BrowserCapabilities.get_platform()===4){return '';}else{throw new Error('Not Implemented Exception : '+' KeyCode : '+iKeyCode+' KeyIdentifier : '+strKeyIdentifier);}}}}else{return strKeyIdentifier;}}
Kepler.Framework.Core.StringUtils.beautifyXml=function(strXml,strIndent){var $0='';var $1=null;var $2=null;$1 = window.vkbeautify;if(ss.isValue($1)){$2 = window.vkbeautify.xml;}if(ss.isValue($2)){if(ss.isValue(strIndent)){$0 = vkbeautify.xml(strXml, strIndent);}else{$0 = vkbeautify.xml(strXml);}}else{$0=strXml;}return $0;}
Kepler.Framework.Core.StringUtils.markupToText=function(strMarkup,strNewLine){var $0=strMarkup;if(ss.isNullOrUndefined(strNewLine)){strNewLine='<br/>';}$0=$0.replaceAll('<','&lt;');$0=$0.replaceAll('>','&gt;');$0=$0.replaceAll('\r\n',strNewLine);$0=$0.replaceAll('\n',strNewLine);return $0;}
Kepler.Framework.Core.StringUtils.extractReportString=function(strMultilines){var $0='';var $1=null;if(!String.isNullOrEmpty(strMultilines)){$1=strMultilines.split(new RegExp('[\\s|\n|\u00b6]','gm'));var $2=$1.length;if(ss.isValue($1)&&($2>0)){var $3=$1;if($2>6){$3=$1.extract(0,3);$3[$3.length]='...';$3=$3.concat($1.extract($2-3,3));}$0=$3.join(' ');}}return $0;}
Kepler.Framework.Core.StringUtils.trim=function(str,chars){return Kepler.Framework.Core.StringUtils.lTrim(Kepler.Framework.Core.StringUtils.rTrim(str,chars),chars);}
Kepler.Framework.Core.StringUtils.lTrim=function(str,chars){return str.replace(new RegExp('^['+chars+']+','g'),'');}
Kepler.Framework.Core.StringUtils.rTrim=function(str,chars){return str.replace(new RegExp('['+chars+']+$','g'),'');}
Kepler.Framework.Core.StringUtils.trimArray=function(arrayToTrim,chars){if(ss.isNullOrUndefined(arrayToTrim)){return;}var $0=arrayToTrim.length;if($0>0){var $1=(ss.isNullOrUndefined(chars)||!chars.trim());if($1){for(var $2=0;$2<$0;$2++){arrayToTrim[$2]=arrayToTrim[$2].trim();}}else{for(var $3=0;$3<$0;$3++){arrayToTrim[$3]=Kepler.Framework.Core.StringUtils.trim(arrayToTrim[$3],chars);}}}}
Kepler.Framework.Core.StringUtils.toLowerCaseArray=function(arrToLowerCase){var $0=arrToLowerCase.length;for(var $1=0;$1<$0;$1++){arrToLowerCase[$1]=arrToLowerCase[$1].toLowerCase();}}
Kepler.Framework.Core.StringUtils.toLowerCaseMapKeys=function(mapToProcess){var $dict1=mapToProcess;for(var $key2 in $dict1){var $0={key:$key2,value:$dict1[$key2]};delete mapToProcess[$0.key];mapToProcess[$0.key.toLowerCase()]=$0.value;}}
Kepler.Framework.Core.StringUtils.toCamelCase=function(strSrc){var $0=strSrc.split(' ');var $1=[];var $enum1=ss.IEnumerator.getEnumerator($0);while($enum1.moveNext()){var $2=$enum1.current;var $3='';if($2.length>0){$3=$2.substring(0,1).toUpperCase();if($2.length>1){$3+=$2.substring(1,$2.length).toLowerCase();}}$1.add($3);}return $1.join(' ');}
Kepler.Framework.Core.Globals=function(){}
Kepler.Framework.Core.Globals.convertPointToPixel=function(i){return Math.round((i*4)/3);}
Kepler.Framework.Core.Globals.convertPixelToPoint=function(i){return Math.round((i*3)/4);}
Kepler.Framework.Core.Globals.getAdaptiveItem=function(iIndex,items,type,my_arguments){var $0=(Type.safeCast(items,Array))[iIndex];if(ss.isUndefined($0)){(Type.safeCast(items,Array))[iIndex]=$0=new type(my_arguments);}return $0;}
Kepler.Framework.Core.Globals.intComparerCallback=function(x,y){return (x>y)?1:-1;}
Type.registerNamespace('Kepler.Framework.Core.Downloader');Kepler.Framework.Core.Downloader.FilePriority=function(){};Kepler.Framework.Core.Downloader.FilePriority.prototype = {high:1,medium:2,low:3}
Kepler.Framework.Core.Downloader.FilePriority.registerEnum('Kepler.Framework.Core.Downloader.FilePriority',false);Kepler.Framework.Core.Downloader.FileEventArgs=function(strData){Kepler.Framework.Core.Downloader.FileEventArgs.initializeBase(this);this.$1_0=strData;}
Kepler.Framework.Core.Downloader.FileEventArgs.prototype={$1_0:null,get_data:function(){return this.$1_0;}}
Kepler.Framework.Core.Downloader.File=function(strPath,bUseHttpGetMethod,bAsync,eFilePriority,downloadCompleteEventHandler,errorEventHanlder,customData){if(String.isNullOrEmpty(strPath)){throw new Error("strPath can't be null or empty.");}if(ss.isNull(downloadCompleteEventHandler)){throw new Error("OnDownloadComplete can't be null.");}this.$0=strPath;this.$2=bUseHttpGetMethod;this.$1=bAsync;this.$6=downloadCompleteEventHandler;this.$8=errorEventHanlder;this.$3=customData;}
Kepler.Framework.Core.Downloader.File.prototype={$0:null,$1:false,$2:false,_ajaxRequest:null,$3:null,get_customData:function(){return this.$3;},set_customData:function(value){this.$3=value;return value;},$4:function(){this._ajaxRequest=new XMLHttpRequest();this._ajaxRequest.onreadystatechange=ss.Delegate.create(this,this.ajaxRequest_OnReadyStateChange);this._ajaxRequest.onerror=ss.Delegate.create(this,this.ajaxRequest_OnError);this._ajaxRequest.open((this.$2)?'GET':'POST',this.$0,this.$1);this._ajaxRequest.send();},ajaxRequest_OnReadyStateChange:function(e){if(this._ajaxRequest.readyState===4){if(this._ajaxRequest.status===200){var $0=this.$6(this,new Kepler.Framework.Core.Downloader.FileEventArgs(this._ajaxRequest.responseText));if($0){Kepler.Engine.Core.FileDownloader.get_instance().$2(this);}}else{this.ajaxRequest_OnError(e);}}},ajaxRequest_OnError:function(e){this.$8(this,null);},add_$5:function($p0){this.$6=ss.Delegate.combine(this.$6,$p0);},remove_$5:function($p0){this.$6=ss.Delegate.remove(this.$6,$p0);},$6:null,add_$7:function($p0){this.$8=ss.Delegate.combine(this.$8,$p0);},remove_$7:function($p0){this.$8=ss.Delegate.remove(this.$8,$p0);},$8:null}
Type.registerNamespace('Kepler.Engine.Core');Kepler.Engine.Core.FileDownloader=function(){this.$0=[];}
Kepler.Engine.Core.FileDownloader.get_instance=function(){if(Kepler.Engine.Core.FileDownloader.$1==null){Kepler.Engine.Core.FileDownloader.$1=new Kepler.Engine.Core.FileDownloader();}return Kepler.Engine.Core.FileDownloader.$1;}
Kepler.Engine.Core.FileDownloader.prototype={$0:null,addToDownloadQueue:function(resourceFile){if(resourceFile==null){throw new Error("resourceFile can't be null.");}this.$0.add(resourceFile);resourceFile.$4();},$2:function($p0){this.$0.remove($p0);}}
Type.registerNamespace('Kepler.Framework.Core.Helper');Kepler.Framework.Core.Helper.DelegateHelper=function(){}
Kepler.Framework.Core.Helper.DelegateHelper.deReference=function(oDelegate){
if(oDelegate._targets!==undefined && oDelegate._targets!==null && oDelegate._targets.length>=2)
{
    oDelegate._targets[0] = null;
    oDelegate._targets[1] = null;
    oDelegate._targets = null;
};}
Kepler.Framework.Core.Helper.MathHelper=function(){}
Kepler.Framework.Core.Helper.MathHelper.truncateDecimalDigits=function(fNumber,iMaxFractionalDigits){if(isNaN(fNumber)){return '';}var $0=fNumber.toFixed(iMaxFractionalDigits);var $1='',$2='';if(!String.isNullOrEmpty($0)){var $3=$0.split('.');$2=$3[0];$1=$3[1];if($1!=null){var $4=$1.length,$5=-1,$6=0;for(var $7=$1.length-1;$7>-1;$7--){if($1.charAt($7)==='0'){$5=$7;$6++;}else{break;}}if($6>0){$1=$1.remove($5,$6);}if($1.length>0){$1='.'+$1;}$2+=$1;}}return $2;}
Kepler.Framework.Core.Helper.MathHelper.truncateToPrecision=function(fNumber,iTotalDigits){if(isNaN(fNumber)){return '';}var $0=parseInt(fNumber);var $1=$0.toString().length;var $2=iTotalDigits-$1;if($2<0){$2=0;}return Kepler.Framework.Core.Helper.MathHelper.truncateDecimalDigits(fNumber,$2);}
Kepler.Framework.Core.Helper.MathHelper.roundDown=function(fNumber,iMaxFractionDigits){if(isNaN(fNumber)){return '';}var $0=fNumber.toString();var $1='';var $2=$0;if(!String.isNullOrEmpty($0)){var $3=$0.split('.');$1=$3[1];if(!ss.isNullOrUndefined($1)){var $4=$1.length;if($4<iMaxFractionDigits){return $0;}else if($4>0){$1='.'+$1.substr(0,iMaxFractionDigits);}$2=$3[0]+$1;}}return $2;}
Kepler.Framework.Core.Helper.MathHelper.randrange=function(min,max){if(ss.isNullOrUndefined(max)){max=min;min=0;}return Math.random()*(max-min)+min;}
Kepler.Framework.Core.Helper.PathHelper=function(){}
Kepler.Framework.Core.Helper.PathHelper.getFileName=function(strFilePath){if(ss.isValue(strFilePath)&&!!strFilePath){var $0=strFilePath.lastIndexOf('/');if($0>=0){if($0+1<strFilePath.length){return strFilePath.substr($0+1);}}else{return strFilePath;}}return '';}
Kepler.Framework.Core.Helper.PathHelper.getFileNameWithoutExtension=function(strFilePath){return Kepler.Framework.Core.Helper.PathHelper.removeExtension(Kepler.Framework.Core.Helper.PathHelper.getFileName(strFilePath));}
Kepler.Framework.Core.Helper.PathHelper.removeExtension=function(strFilePath){var $0=strFilePath.lastIndexOf('.');if($0>=0){strFilePath=strFilePath.substr(0,$0);}return strFilePath;}
Type.registerNamespace('Kepler.Framework.Core.Messaging');Kepler.Framework.Core.Messaging.IMessageProvider=function(){};Kepler.Framework.Core.Messaging.IMessageProvider.registerInterface('Kepler.Framework.Core.Messaging.IMessageProvider');Kepler.Framework.Core.Messaging.MessageBasedCallbackParams=function(sender,strMessage,wParam,lParam){this.$0=sender;this.$1=strMessage;this.$2=wParam;this.$3=lParam;}
Kepler.Framework.Core.Messaging.MessageBasedCallbackParams.prototype={$0:null,get_sender:function(){return this.$0;},$1:null,get_message:function(){return this.$1;},$2:null,get_wParam:function(){return this.$2;},$3:null,get_lParam:function(){return this.$3;}}
Kepler.Framework.Core.Messaging.PostMessageManager=function(){}
Kepler.Framework.Core.Messaging.PostMessageManager.$2=function($p0){Kepler.Framework.Core.Messaging.PostMessageManager.$1.stop();while(Kepler.Framework.Core.Messaging.PostMessageManager.$0.length>0){var $0=Kepler.Framework.Core.Messaging.PostMessageManager.$0[0];Kepler.Framework.Core.Messaging.PostMessageManager.$0.removeAt(0);try{$0.get_$4().sendMessage($0.get_message(),$0.get_wParam(),$0.get_lParam());}catch($1){}}}
Kepler.Framework.Core.Messaging.PostMessageManager.postMessage=function(targetHandler,strMessage,wParam,lParam,bRemovePreviousMsgs){if(ss.isValue(bRemovePreviousMsgs)&&bRemovePreviousMsgs){Kepler.Framework.Core.Messaging.PostMessageManager.removePreviousMessages(targetHandler,strMessage);}Kepler.Framework.Core.Messaging.PostMessageManager.$0.add(new Kepler.Framework.Core.Messaging.Framework$5(targetHandler,strMessage,wParam,lParam));if(!Kepler.Framework.Core.Messaging.PostMessageManager.$1.get_isRunning()){Kepler.Framework.Core.Messaging.PostMessageManager.$1.start();}}
Kepler.Framework.Core.Messaging.PostMessageManager.removePreviousMessages=function(targetHandler,strMessage){var $0=Kepler.Framework.Core.Messaging.PostMessageManager.$0.length;for(var $1=$0-1;$1>=0;$1--){if(Kepler.Framework.Core.Messaging.PostMessageManager.$0[$1].get_$4()===targetHandler&&Kepler.Framework.Core.Messaging.PostMessageManager.$0[$1].get_message()===strMessage){Kepler.Framework.Core.Messaging.PostMessageManager.$0.removeAt($1);}}}
Kepler.Framework.Core.Messaging.Framework$5=function(oTargetHandler,strMessage,wParam,lParam){Kepler.Framework.Core.Messaging.Framework$5.initializeBase(this,[strMessage,wParam,lParam]);this.$3=oTargetHandler;}
Kepler.Framework.Core.Messaging.Framework$5.prototype={$3:null,get_$4:function(){return this.$3;}}
Kepler.Framework.Core.Messaging.MessageProvider=function(){this.$0={};}
Kepler.Framework.Core.Messaging.MessageProvider.prototype={$0:null,attachMessage:function(strMessage,msgHandler){this.$0[strMessage]=msgHandler;},detachMessage:function(strMessage){delete this.$0[strMessage];},sendMessage:function(strMessage,wParam,lParam){var $0=this.$0[strMessage];if($0!=null){return $0(wParam,lParam);}return null;},postMessage:function(strMessage,wParam,lParam,bRemovePreviousMsgs){Kepler.Framework.Core.Messaging.PostMessageManager.postMessage(this,strMessage,wParam,lParam,bRemovePreviousMsgs);},removePostMessage:function(strMessage){Kepler.Framework.Core.Messaging.PostMessageManager.removePreviousMessages(this,strMessage);},dispose:function(){Object.clearKeys(this.$0);}}
Kepler.Framework.Core.Messaging.MessageParams=function(strMessage,wParam,lParam){this.$0=strMessage;this.$1=wParam;this.$2=lParam;}
Kepler.Framework.Core.Messaging.MessageParams.prototype={$0:null,get_message:function(){return this.$0;},$1:null,get_wParam:function(){return this.$1;},$2:null,get_lParam:function(){return this.$2;}}
Type.registerNamespace('Kepler.Framework.Core.Modules');Kepler.Framework.Core.Modules.IModule=function(){};Kepler.Framework.Core.Modules.IModule.registerInterface('Kepler.Framework.Core.Modules.IModule');Kepler.Framework.Core.Modules.BaseModuleComm=function(){}
Kepler.Framework.Core.Modules.BaseModuleComm.prototype={launchMenuMiniToolbar:function(oLaunchFrom,iMenuType,ptLaunch,bLaunchMiniToolbar){return false;},launchDialog:function(iType){return false;}}
Kepler.Framework.Core.Modules.FrameworkModule=function(){Kepler.Framework.Core.Modules.FrameworkModule.initializeBase(this,['framework','common'+'/office16/res/','common'+'/office16/css/']);Kepler.Framework.Core.Modules.FrameworkModule.$7=this;}
Kepler.Framework.Core.Modules.FrameworkModule.get_instance=function(){return Kepler.Framework.Core.Modules.FrameworkModule.$7;}
Kepler.Framework.Core.Modules.FrameworkModule.prototype={$8:null,get_uiManager:function(){return this.$8;},set_uiManager:function(value){this.$8=value;Kepler.Engine.UI.Controls.SingleLineTextControl.set_uiManagerControl(this.$8);Kepler.Engine.UI.Controls.MultiLineTextControl.set_uiManagerInstance(this.$8);return value;}}
Kepler.Framework.Core.Modules.BaseModule=function(strName,strResourcePath,strCssPath){this.$0=strName;this.$1=strResourcePath;this.$2=strCssPath;this.$3={};this.$4={};}
Kepler.Framework.Core.Modules.BaseModule.prototype={$0:null,get_name:function(){return this.$0;},get_fullName:function(){return Type.getInstanceType(this).get_fullName();},$1:null,get_resourcePath:function(){return this.$1;},$2:null,get_cssPath:function(){return this.$2;},$3:null,$4:null,$5:0,addImage:function(strKey,strValue){if(String.isNullOrEmpty(strKey)||String.isNullOrEmpty(strValue)){return;}this.$3[strKey]=strValue;},getCachedImagePath:function(strKey){return this.$3[strKey];},precacheImages:function(){var $dict1=this.$3;for(var $key2 in $dict1){var $0={key:$key2,value:$dict1[$key2]};var $1=new Image();this.$4[$0.key]=$1;this.$5++;$1.onload=ss.Delegate.create(this,this.onImageLoad);$1.src=$0.value;}},onImageLoad:function(e){this.$5--;},getDefaultCSS:function(){return null;}}
Type.registerNamespace('Kepler.Framework.Core.Interfaces');Kepler.Framework.Core.Interfaces.IClonable=function(){};Kepler.Framework.Core.Interfaces.IClonable.registerInterface('Kepler.Framework.Core.Interfaces.IClonable');Type.registerNamespace('Kepler.Framework.Core.Timers');Kepler.Framework.Core.Timers.DynamicTimer=function(timerEventHandler,iInterval){Kepler.Framework.Core.Timers.DynamicTimer.initializeBase(this,[timerEventHandler,iInterval]);}
Kepler.Framework.Core.Timers.DynamicTimer.prototype={$1:0,$2:0,start:function(eventArgs){this.stop();if(ss.isValue(eventArgs)){this._data=eventArgs;}this.$1=0;this.$2=Date.get_now().getTime();this._iTimerId=window.setTimeout(ss.Delegate.create(this,this.onTimer),this._iInterval);},onTimer:function(){if(this._iTimerId===Kepler.Framework.Core.Globals.invaliD_VALUE){return;}this.$1+=this._iInterval;var $0=(Date.get_now().getTime()-this.$2)-this.$1;this._iTimerId=window.setTimeout(ss.Delegate.create(this,this.onTimer),this._iInterval-$0);this.invokeTimerHandler();}}
Kepler.Framework.Core.Timers.Timer=function(timerEventHandler,iInterval){this._iTimerId=Kepler.Framework.Core.Globals.invaliD_VALUE;this.$0=timerEventHandler;this._iInterval=iInterval;}
Kepler.Framework.Core.Timers.Timer.prototype={$0:null,_iInterval:0,get_interval:function(){return this._iInterval;},set_interval:function(value){if(value<1){value=1;}this._iInterval=value;if(this.get_isRunning()){this.start(this._data);}return value;},_iTimerId:0,get_isRunning:function(){return this._iTimerId!==-1;},_data:null,get_data:function(){return this._data;},set_data:function(value){this._data=value;return value;},start:function(data){this.stop();if(ss.isValue(data)){this._data=data;}this._iTimerId=window.setInterval(ss.Delegate.create(this,this.onTimer),this._iInterval);},stop:function(){if(this._iTimerId!==Kepler.Framework.Core.Globals.invaliD_VALUE){window.clearInterval(this._iTimerId);this._iTimerId=Kepler.Framework.Core.Globals.invaliD_VALUE;this._data=null;}},onTimer:function(){if(this._iTimerId===Kepler.Framework.Core.Globals.invaliD_VALUE){return;}this.invokeTimerHandler();},invokeTimerHandler:function(){try{this.$0(this._data);}catch($0){}}}
Type.registerNamespace('Kepler.Framework');Kepler.Framework.FrameworkObjectFactory=function(){}
Kepler.Framework.FrameworkObjectFactory.getCommentGroupObject=function(){var $0;$0=new Kepler.Framework.UI.CustomSelection.Comments.CommentGroup();return $0;}
Kepler.Framework.FrameworkObjectFactory.getSelectionHandlerObject=function(){var $0;$0=new Kepler.Framework.UI.CustomSelection.SelectionHandler();return $0;}
Kepler.Framework.FrameworkObjectFactory.getTextElementObject=function(iLevel){var $0;$0=new Kepler.Framework.UI.CustomSelection.Selectables.TextElement(iLevel);return $0;}
Kepler.Framework.FrameworkObjectFactory.getRowObject=function(iLevel){var $0;$0=new Kepler.Framework.UI.CustomSelection.Selectables.Row(iLevel);return $0;}
Kepler.Framework.FrameworkObjectFactory.getParaObject=function(iLevel){var $0;$0=new Kepler.Framework.UI.CustomSelection.Selectables.Para(iLevel);return $0;}
Kepler.Framework.FrameworkObjectFactory.getMainDocObject=function(){var $0;$0=new Kepler.Framework.UI.CustomSelection.Selectables.MainDoc();return $0;}
Type.registerNamespace('Kepler.Engine.UI.Controls');Kepler.Engine.UI.Controls.IFunctionInfo=function(){};Kepler.Engine.UI.Controls.IFunctionInfo.registerInterface('Kepler.Engine.UI.Controls.IFunctionInfo');Kepler.Engine.UI.Controls.ECheckBoxState=function(){};Kepler.Engine.UI.Controls.ECheckBoxState.prototype = {eUnchecked:0,eChecked:1,eIntermediate:2}
Kepler.Engine.UI.Controls.ECheckBoxState.registerEnum('Kepler.Engine.UI.Controls.ECheckBoxState',false);Kepler.Engine.UI.Controls.ImgTextAlign=function(){};Kepler.Engine.UI.Controls.ImgTextAlign.prototype = {vImageText:0,hImageText:1}
Kepler.Engine.UI.Controls.ImgTextAlign.registerEnum('Kepler.Engine.UI.Controls.ImgTextAlign',false);Kepler.Engine.UI.Controls.EComboCtrlType=function(){};Kepler.Engine.UI.Controls.EComboCtrlType.prototype = {eDropDown:0,eDropList:1}
Kepler.Engine.UI.Controls.EComboCtrlType.registerEnum('Kepler.Engine.UI.Controls.EComboCtrlType',false);Kepler.Engine.UI.Controls.ESpinButton=function(){};Kepler.Engine.UI.Controls.ESpinButton.prototype = {eButtonUp:0,eButtonDown:1}
Kepler.Engine.UI.Controls.ESpinButton.registerEnum('Kepler.Engine.UI.Controls.ESpinButton',false);Kepler.Engine.UI.Controls.EScrollBarType=function(){};Kepler.Engine.UI.Controls.EScrollBarType.prototype = {APP:1,DIALOG:2}
Kepler.Engine.UI.Controls.EScrollBarType.registerEnum('Kepler.Engine.UI.Controls.EScrollBarType',false);Kepler.Engine.UI.Controls.EScrollBarBtnType=function(){};Kepler.Engine.UI.Controls.EScrollBarBtnType.prototype = {eReduce:0,eThumb:1,eIncrease:2}
Kepler.Engine.UI.Controls.EScrollBarBtnType.registerEnum('Kepler.Engine.UI.Controls.EScrollBarBtnType',false);Kepler.Engine.UI.Controls.EScrollBarOrientation=function(){};Kepler.Engine.UI.Controls.EScrollBarOrientation.prototype = {eVertical:0,eHorizontal:1}
Kepler.Engine.UI.Controls.EScrollBarOrientation.registerEnum('Kepler.Engine.UI.Controls.EScrollBarOrientation',false);Kepler.Engine.UI.Controls.EScrollBarTimerMode=function(){};Kepler.Engine.UI.Controls.EScrollBarTimerMode.prototype = {eSingleStepReduce:0,eSingleStepIncrease:1,ePageStepReduce:2,ePageStepIncrease:3}
Kepler.Engine.UI.Controls.EScrollBarTimerMode.registerEnum('Kepler.Engine.UI.Controls.EScrollBarTimerMode',false);Kepler.Engine.UI.Controls.EScrollbarMode=function(){};Kepler.Engine.UI.Controls.EScrollbarMode.prototype = {AUTO:0,shoW_ALWAYS:1,NONE:2}
Kepler.Engine.UI.Controls.EScrollbarMode.registerEnum('Kepler.Engine.UI.Controls.EScrollbarMode',false);Kepler.Engine.UI.Controls.AutoResize=function(){};Kepler.Engine.UI.Controls.AutoResize.prototype = {none:0,width:1,height:2,both:3}
Kepler.Engine.UI.Controls.AutoResize.registerEnum('Kepler.Engine.UI.Controls.AutoResize',false);Kepler.Engine.UI.Controls.NodeState=function(){};Kepler.Engine.UI.Controls.NodeState.prototype = {collapse:0,expand:1}
Kepler.Engine.UI.Controls.NodeState.registerEnum('Kepler.Engine.UI.Controls.NodeState',false);Kepler.Engine.UI.Controls.NodeTypes=function(){};Kepler.Engine.UI.Controls.NodeTypes.prototype = {checkBox:1,radioBtn:2,label:3}
Kepler.Engine.UI.Controls.NodeTypes.registerEnum('Kepler.Engine.UI.Controls.NodeTypes',false);Kepler.Engine.UI.Controls.AddressBar=function(){Kepler.Engine.UI.Controls.AddressBar.initializeBase(this,['div',' position_absolute','addressbar']);this.get_elementStyle().border='1px solid #D9D9D9';this.$45=[];this.$44=false;this.$4D=null;this.$4F();}
Kepler.Engine.UI.Controls.AddressBar.prototype={$44:false,$45:null,$46:null,$47:null,$48:null,$49:null,$4A:null,get_$4B:function(){return this.$4A;},$4C:null,get_menuLayer:function(){return this.$4C;},set_menuLayer:function(value){this.$4C=value;return value;},$4D:null,get_clickedData:function(){return this.$4D;},set_clickedData:function(value){this.$4D=value;return value;},get_ariaSpeech:function(){var $0=' 0 item. To set the item use the arrow keys or type the value';return ('Address edit combo '+this.get_text()+$0);},set_ariaSpeech:function(value){Kepler.Engine.UI.Controls.AddressBar.callBaseMethod(this, 'set_ariaSpeech',[value]);return value;},$4E:function(){this.add(this.$48);this.add(this.$46);this.add(this.$47);},$4F:function(){this.$48=new Kepler.Engine.UI.Controls.TextBox('',new Kepler.Framework.UI.Point(20,0),new Kepler.Framework.UI.Size(0,20));this.$48.show(false);this.$48.setBorder(0);this.$48.get_elementStyle().zIndex=1;this.$48.setSelectAllOnFocus(true);this.$48.set_neverSpeechAriaText(true);this.$46=new Kepler.Engine.UI.Controls.CssImageButton('',new Kepler.Framework.UI.Point(0,0),new Kepler.Framework.UI.Size(24,20),'refreshbtn');this.$46.get_elementStyle().position='absolute';this.$46.setCssStatePrefix(1,'_hovr');this.$46.get_elementStyle().borderLeft='1px solid #D9D9D9';this.$46.set_right(0);this.$47=new Kepler.Engine.UI.Controls.CssImageButton('',new Kepler.Framework.UI.Point(0,0),new Kepler.Framework.UI.Size(18,20),'dropdownbtn');this.$47.get_elementStyle().position='absolute';this.$47.setCssStatePrefix(1,'_hovr');this.$47.set_right(25);},setFilePath:function(lstPath){this.$4A=lstPath;var $enum1=ss.IEnumerator.getEnumerator(this.$45);while($enum1.moveNext()){var $1=$enum1.current;$1.$59();this.remove($1);}this.$45.clear();var $enum2=ss.IEnumerator.getEnumerator(lstPath);while($enum2.moveNext()){var $2=$enum2.current;var $3=new Kepler.Engine.UI.Controls.AddressButton();$3.set_$4B($2);this.add($3);this.$45.add($3);}var $0=this.$45[this.$45.length-1];this.$45[0].$56($0.get_$4B().get_imageClassName());},$50:function(){var $0=this.$45[this.$45.length-1].get_$4B();var $1='';while($0!=null&&!$0.get_isRoot()&&!$0.get_isDrive()){if(String.isNullOrEmpty($1)){$1=$0.get_name();}else{$1=$0.get_name()+'\\'+$1;}$0=$0.get_parent();}if($0!=null&&$0.get_isDrive()){$1=$0.get_driveLetter()+'\\'+$1;}this.$48.setText($1);this.$48.show(true);this.$48.setFocus();},$51:function($p0){if(this.$49!=null){this.$49.$55(0);this.$49.$58();this.$49=null;}if($p0!=null){this.$49=$p0;if(!Kepler.Framework.UI.Events.Hooks.MouseHook.isRegistered(ss.Delegate.create(this,this.$5B))){this.$59();}}else{if(Kepler.Framework.UI.Events.Hooks.MouseHook.isRegistered(ss.Delegate.create(this,this.$5B))){this.$5A();}}},$52:function($p0,$p1){var $0=this.$45.indexOf($p0);if($0===this.$4A.length-1){return false;}return !this.$4A[$0+1].get_name().compareTo($p1.get_name());},$53:function($p0,$p1){var $0=this.$45.indexOf($p1);switch($p0.get_key()){case 37:$0--;if($0<0){$0=this.$45.length-1;}this.$45[$0].setFocus();break;case 39:$0++;if($0===this.$45.length){$0=0;}this.$45[$0].setFocus();break;}},onLoad:function(){Kepler.Engine.UI.Controls.AddressBar.callBaseMethod(this, 'onLoad');this.$54();this.$56();this.$4E();},$54:function(){this.addEvents(2|4|8|4096);this.addEvents(256|512|1024|2048);this.$48.add_lostFocus(ss.Delegate.create(this,this.$55));},onLButtonDown:function(evt){Kepler.Engine.UI.Controls.AddressBar.callBaseMethod(this, 'onLButtonDown',[evt]);this.setCapture();},onLButtonUp:function(evt){Kepler.Engine.UI.Controls.AddressBar.callBaseMethod(this, 'onLButtonUp',[evt]);if(this.getCapture()===this){this.releaseCapture();this.$50();}},$55:function($p0,$p1){this.$48.show(false);},onSize:function(){Kepler.Engine.UI.Controls.AddressBar.callBaseMethod(this, 'onSize');this.$48.set_width(this.get_width()-20-this.$46.get_width()-this.$47.get_width());},setFocusOnTab:function(){if(this.$45.length>0){this.$45[0].setFocus();}},onMouseMove:function(oMouseEventArgs){Kepler.Engine.UI.Controls.AddressBar.callBaseMethod(this, 'onMouseMove',[oMouseEventArgs]);if(this.containsControl(this.getFocus())){this.setFocus();}},onKeyDown:function(oKeyEventArgs){Kepler.Engine.UI.Controls.AddressBar.callBaseMethod(this, 'onKeyDown',[oKeyEventArgs]);switch(oKeyEventArgs.get_key()){case 37:if(this.$45.length>0){this.$45[this.$45.length-1].setFocus();}break;case 39:if(this.$45.length>0){this.$45[0].setFocus();}break;}},$56:function(){this.attachMessage('msg_active_address_button',ss.Delegate.create(this,this.$57));this.attachMessage('msg_menulist_item_selected',ss.Delegate.create(this,this.$58));},$57:function($p0,$p1){if(this.$49!==$p1){this.$51($p1);}return null;},$58:function($p0,$p1){this.$51(null);this.$44=false;this.$4D=$p0;var $0=new Kepler.Framework.UI.Controls.OnCommandStruct($p0,6);var $1=this.sendMessageToParent('msg_command',$0,this);if(!$1){this.sendMessageToParent('msg_menulist_item_selected',$p0,this);}return null;},$59:function(){Kepler.Framework.UI.Events.Hooks.MouseHook.register(ss.Delegate.create(this,this.$5B));},$5A:function(){Kepler.Framework.UI.Events.Hooks.MouseHook.unRegister(ss.Delegate.create(this,this.$5B));},$5B:function($p0){if(this.$49!=null&&$p0.get_categoryType()===1){var $0=Framework.UI.Events.EventDispatcher.getEventControl($p0);var $1=$p0;if($1.get_type()===16||$1.get_type()===4||$1.get_type()===32){if(this.$49.containsNestedControl($0)){return false;}else if(!(Type.canCast($0,Kepler.Engine.UI.Controls.AddressButton))){return true;}}else if($1.get_type()===2){if(!(Type.canCast($0,Kepler.Engine.UI.Controls.AddressButton))&&!this.$49.containsNestedControl($0)){this.$51(null);this.$44=false;}}}return false;}}
Kepler.Engine.UI.Controls.AddressButton=function(){Kepler.Engine.UI.Controls.AddressButton.initializeBase(this,['div']);this.$4F=0;}
Kepler.Engine.UI.Controls.AddressButton.prototype={$4A:null,get_$4B:function(){return this.$4A;},set_$4B:function($p0){this.$4A=$p0;return $p0;},$4C:null,$4D:null,$4E:null,$4F:0,$50:null,get_$51:function(){return this.$50;},$52:function(){this.get_elementStyle().position='relative';this.get_elementStyle().display='inline-block';var $0=this.$4A.get_name();if(!String.isNullOrEmpty($0)){this.$4D=document.createElement('div');this.$4D.style.display='inline-block';this.$4D.style.border='1px solid transparent';this.$4D.style.paddingLeft=this.$4D.style.paddingRight='4px';this.$4D.style.height=this.$4D.style.lineHeight='18px';this.$4D.style.verticalAlign='middle';this.$4D.style.cssFloat='left';this.$4D.innerHTML=$0;this.$4D.innerText=$0;this.get_element().appendChild(this.$4D);}if(this.$4A.get_children().length>0){if(this.$4D!=null){this.$4D.style.borderRight='0px';}this.$4E=document.createElement('div');this.$4E.className='childbtn'+'_normal';this.$4E.style.display='inline-block';this.$4E.style.width='15px';this.$4E.style.height='20px';this.get_element().appendChild(this.$4E);}},$53:function(){this.$50=new Kepler.Engine.UI.Controls.AddressMenu();this.$50.set_width(254);this.$58();},$54:function(){var $0=this.$4A.get_children();var $enum1=ss.IEnumerator.getEnumerator(this.$4A.get_children());while($enum1.moveNext()){var $1=$enum1.current;this.$50.addItemToMenu($1.get_name(),$1.get_imageClassName(),(this.get_parent()).$52(this,$1),$1.get_controlData());}this.$50.set_height(21*$0.length);},$55:function($p0,$p1){if(ss.isValue($p0)){this.$4F=$p0;}switch(this.$4F){case 0:if(this.$4C!=null){this.$4C.style.margin='2px';}if(this.$4D!=null){this.$4D.style.border='1px solid transparent';this.$4D.style.backgroundColor='';this.$4D.style.paddingLeft=this.$4D.style.paddingRight='4px';this.$4D.style.lineHeight='18px';}if(this.$4E!=null){if(this.$4D!=null){this.$4D.style.borderRight='0px';}this.$4E.className='childbtn'+'_normal';this.$4E.style.backgroundColor='';}this.$58();break;case 1:case 4:if(this.$4C!=null){this.$4C.style.margin='2px';}if(this.$4C!=null&&$p1===this.$4C){this.$4E.className='childbtn'+'_normal';this.$4E.style.backgroundColor='';}else{if(this.$4D!=null){if($p1!==this.$4D){this.$4D.style.border='1px solid #DEDEDE';this.$4D.style.backgroundColor='#F5F5F5';}else{this.$4D.style.border='1px solid #70C0E7';this.$4D.style.backgroundColor='#E5F3FB';}this.$4D.style.paddingLeft=this.$4D.style.paddingRight='4px';this.$4D.style.lineHeight='18px';}if(this.$4E!=null){if(this.$4D!=null){this.$4D.style.borderRight='0px';}this.$4E.className='childbtn'+'_hovr';this.$4E.style.backgroundColor='#E5F3FB';}}this.$58();break;case 2:if(this.$4C!=null){this.$4C.style.marginLeft=this.$4C.style.marginTop='3px';this.$4C.style.marginRight=this.$4C.style.marginBottom='1px';}if(this.$4D!=null){this.$4D.style.border='1px solid #26A0DA';this.$4D.style.backgroundColor='#CBE8F6';this.$4D.style.paddingLeft='5px';this.$4D.style.paddingRight='3px';this.$4D.style.lineHeight='20px';}if(this.$4E!=null){if(this.$4D!=null){this.$4D.style.borderRight='0px';}this.$4E.className='childbtn'+'_pressed';this.$4E.style.backgroundColor='#CBE8F6';}this.$57();this.sendMessageToParent('msg_active_address_button',null,this);break;}},$56:function($p0){if(this.$4C==null){this.$4C=document.createElement('div');this.$4C.style.position='relative';this.$4C.style.margin='2px';this.$4C.style.display='inline-block';this.$4C.style.cssFloat='left';if(this.$4D!=null){this.get_element().insertBefore(this.$4C,this.$4D);}else if(this.$4E!=null){this.get_element().insertBefore(this.$4C,this.$4E);}}this.$4C.className=$p0;},$57:function(){if(!this.$50.get_visible()&&this.$4E!=null){var $0=this.get_clientRect();this.$50.set_top($0.get_top()+$0.get_height());this.$50.set_left($0.get_left()+$0.get_width()-34);this.$50.show(true);if(!this.containsControl(this.$50)){this.$50.get_elementStyle().zIndex=6001;this.add(this.$50,(this.get_parent()).get_menuLayer());this.$54();}}},$58:function(){if(this.$50.get_visible()){this.$50.show(false);}},$59:function(){this.remove(this.$50);},$5A:function(){this.addEvents(16|32|2|8);this.addEvents(256|512|1024|2048);},onLoad:function(){Kepler.Engine.UI.Controls.AddressButton.callBaseMethod(this, 'onLoad');this.$52();this.$53();this.$5A();this.$5B();},onLButtonDown:function(evt){Kepler.Engine.UI.Controls.AddressButton.callBaseMethod(this, 'onLButtonDown',[evt]);if(evt.get_target()===this.$4E){var $0=(this.get_parent());$0.$44=!$0.$44;if(!$0.$44){this.sendMessageToParent('msg_active_address_button',null,null);}this.$55(($0.$44)?2:1,evt.get_target());}},onMouseOver:function(evt){Kepler.Engine.UI.Controls.AddressButton.callBaseMethod(this, 'onMouseOver',[evt]);this.$55(((this.get_parent()).$44)?2:1,evt.get_target());},onMouseOut:function(evt){Kepler.Engine.UI.Controls.AddressButton.callBaseMethod(this, 'onMouseOut',[evt]);if(this.$4F!==2){this.$55(0,evt.get_target());}},onFocus:function(oFocusedPrevControl){Kepler.Engine.UI.Controls.AddressButton.callBaseMethod(this, 'onFocus',[oFocusedPrevControl]);this.$55(4,this.$4D);},onLostFocus:function(oFocusedNewControl){Kepler.Engine.UI.Controls.AddressButton.callBaseMethod(this, 'onLostFocus',[oFocusedNewControl]);this.$55(0);},onKeyDown:function(oKeyEventArgs){Kepler.Engine.UI.Controls.AddressButton.callBaseMethod(this, 'onKeyDown',[oKeyEventArgs]);if(this.get_parent()!=null){(this.get_parent()).$53(oKeyEventArgs,this);}},$5B:function(){this.attachMessage('msg_menulist_item_selected',ss.Delegate.create(this,this.$5C));},$5C:function($p0,$p1){this.sendMessageToParent('msg_menulist_item_selected',$p0,$p1);return null;}}
Kepler.Engine.UI.Controls.FileData=function(){this.$0='';this.$2='';this.$4='';this.$5=[];this.$1=false;this.$3=false;this.$6=null;}
Kepler.Engine.UI.Controls.FileData.prototype={$0:null,get_name:function(){return this.$0;},set_name:function(value){this.$0=value;return value;},$1:false,get_isDrive:function(){return this.$1;},set_isDrive:function(value){this.$1=value;return value;},$2:null,get_driveLetter:function(){return this.$2;},set_driveLetter:function(value){this.$2=value;return value;},$3:false,get_isRoot:function(){return this.$3;},set_isRoot:function(value){this.$3=value;return value;},$4:null,get_imageClassName:function(){return this.$4;},set_imageClassName:function(value){this.$4=value;return value;},$5:null,get_children:function(){return this.$5;},set_children:function(value){this.$5=value;return value;},$6:null,get_parent:function(){return this.$6;},set_parent:function(value){this.$6=value;return value;},$7:null,get_controlData:function(){return this.$7;},set_controlData:function(value){this.$7=value;return value;}}
Kepler.Engine.UI.Controls.AddressMenu=function(){Kepler.Engine.UI.Controls.AddressMenu.initializeBase(this,['div',' position_absolute']);this.set_focusable(false);this.$46();}
Kepler.Engine.UI.Controls.AddressMenu.prototype={$46:function(){this.get_elementStyle().backgroundColor='#F0F0F0';this.get_elementStyle().border='1px solid #646464';this.get_elementStyle().padding='2px';var $0=document.createElement('div');$0.style.position='absolute';$0.style.width='1px';$0.style.height='100%';$0.style.top='0px';$0.style.zIndex=-1;$0.style.left=30+'px';$0.style.backgroundColor='#D7D7D7';this.get_element().appendChild($0);},addItemToMenu:function(strText,strImgCssClass,bActiveItem,oControlData){var $0=new Kepler.Engine.UI.Controls.AddressMenuItem(strText,strImgCssClass,bActiveItem,new Kepler.Framework.UI.Size(this.get_width()-2,21-2),oControlData);this.add($0);},onLoad:function(){Kepler.Engine.UI.Controls.AddressMenu.callBaseMethod(this, 'onLoad');this.$47();},$47:function(){this.attachMessage('msg_menulist_item_selected',ss.Delegate.create(this,this.$48));},$48:function($p0,$p1){this.sendMessageToParent('msg_menulist_item_selected',$p0,this);return null;}}
Kepler.Engine.UI.Controls.AddressMenuItem=function(strText,strImgCssClass,bActiveItem,oSize,oControlData){Kepler.Engine.UI.Controls.AddressMenuItem.initializeBase(this,['div','menulist_item']);this.$41=null;this.$40=oControlData;this.set_size(oSize);var $0=document.createElement('div');$0.style.marginLeft=((30-16)/2)-2+'px';$0.style.marginTop='1px';$0.style.display='inline-block';$0.style.cssFloat='left';if(!String.isNullOrEmpty(strImgCssClass)){$0.className+=' '+strImgCssClass.trim();}var $1=' img-'+16+'x'+16;$0.className+=$1;this.get_element().appendChild($0);var $2=document.createElement('div');$2.style.fontFamily='"Segoe UI",Arial,Tahoma,Verdana,sans-serif';$2.innerHTML=strText;$2.style.display='inline-block';$2.style.marginLeft='12px';$2.style.lineHeight=this.get_height()+'px';$2.style.verticalAlign='middle';$2.style.fontSize='9pt';if(bActiveItem){$2.style.fontWeight='bold';}this.get_element().appendChild($2);}
Kepler.Engine.UI.Controls.AddressMenuItem.prototype={$40:null,$41:null,onLoad:function(){Kepler.Engine.UI.Controls.AddressMenuItem.callBaseMethod(this, 'onLoad');this.addEvents(2|16|4|32|8);this.addEvents(256|512|1024|2048);},onMouseOver:function(oMouseEventArgs){Kepler.Engine.UI.Controls.AddressMenuItem.callBaseMethod(this, 'onMouseOver',[oMouseEventArgs]);this.get_element().className='menulist_item'+' '+'menulist_item'+'_hover';},onMouseOut:function(oMouseEventArgs){Kepler.Engine.UI.Controls.AddressMenuItem.callBaseMethod(this, 'onMouseOut',[oMouseEventArgs]);this.get_element().className='menulist_item';},onLButtonDown:function(oMouseEventArgs){Kepler.Engine.UI.Controls.AddressMenuItem.callBaseMethod(this, 'onLButtonDown',[oMouseEventArgs]);this.setCapture();this.$41=Kepler.Engine.UI.Controls.Control.getClientPointFromEventArgs(oMouseEventArgs);},onMouseMove:function(oMouseEventArgs){Kepler.Engine.UI.Controls.AddressMenuItem.callBaseMethod(this, 'onMouseMove',[oMouseEventArgs]);var $0=Kepler.Engine.UI.Controls.Control.getClientPointFromEventArgs(oMouseEventArgs);if(this.getCapture()===this&&($0.get_x()<this.$41.get_x()-1||$0.get_x()>this.$41.get_x()+1||$0.get_y()<this.$41.get_y()-1||$0.get_y()>this.$41.get_y()+1)){this.releaseCapture();if(oMouseEventArgs.get_target()!==this.get_element()&&!this.get_element().contains(oMouseEventArgs.get_target())){this.get_element().className='menulist_item';}this.$41=null;}},onLButtonUp:function(oMouseEventArgs){Kepler.Engine.UI.Controls.AddressMenuItem.callBaseMethod(this, 'onLButtonUp',[oMouseEventArgs]);if(this.getCapture()===this){this.releaseCapture();this.get_element().className='menulist_item';this.sendMessageToParent('msg_menulist_item_selected',this.$40,this);}}}
Kepler.Engine.UI.Controls.FunctionInfo=function(){this.$0=this.$1=this.$2='';this.$3=false;this.$4=false;}
Kepler.Engine.UI.Controls.FunctionInfo.prototype={$0:null,get_name:function(){return this.$0;},set_name:function(value){this.$0=value;return value;},$1:null,get_tooltip:function(){return this.$1;},set_tooltip:function(value){this.$1=value;return value;},$2:null,get_definition:function(){return this.$2;},set_definition:function(value){this.$2=value;return value;},get_infoType:function(){return 0;},$3:false,get_groupedParams:function(){return this.$3;},set_groupedParams:function(value){this.$3=value;return value;},$4:false,get_isFunctional:function(){return this.$4;},set_isFunctional:function(value){this.$4=value;return value;}}
Kepler.Engine.UI.Controls.CustomInfo=function(){this.$3=0;this.$0=this.$1=this.$2='';this.$4=false;this.$5=true;}
Kepler.Engine.UI.Controls.CustomInfo.prototype={$0:null,get_name:function(){return this.$0;},set_name:function(value){this.$0=value;return value;},$1:null,get_tooltip:function(){return this.$1;},set_tooltip:function(value){this.$1=value;return value;},$2:null,get_definition:function(){return this.$2;},set_definition:function(value){this.$2=value;return value;},$3:0,get_infoType:function(){return this.$3;},set_infoType:function(value){this.$3=value;return value;},$4:false,get_groupedParams:function(){return this.$4;},set_groupedParams:function(value){this.$4=value;return value;},$5:false,get_isFunctional:function(){return this.$5;},set_isFunctional:function(value){this.$5=value;return value;}}
Kepler.Engine.UI.Controls.FunctionList=function(iItemHeight,oImageSize,oImagePoint,strSpriteImagePath){Kepler.Engine.UI.Controls.FunctionList.initializeBase(this,[null,new Kepler.Framework.UI.Size(0,0),iItemHeight,oImageSize,oImagePoint,strSpriteImagePath]);this.set_focusable(false);this.get_verticalScrollbar().set_scrollBarType(2);this.set_scrollbarMode(0);this.set_autoCloseOnMouseEvent(false);this.set_dblClickEventNeeded(true);}
Kepler.Engine.UI.Controls.FunctionList.prototype={onLoad:function(){Kepler.Engine.UI.Controls.FunctionList.callBaseMethod(this, 'onLoad');this.$54();},$54:function(){this.addEvents(64);this.addEvents(256|512|1024);},onLButtonDown:function(mouseEventArgs){this.setCapture();var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getParentElementByName(mouseEventArgs.get_target(),'listCtrl_Row');var $1=this.getRowIdx($0);if($1!==Kepler.Framework.Core.Globals.invaliD_VALUE){var $2=this.getSelectedIndex();if($2!==Kepler.Framework.Core.Globals.invaliD_VALUE){this.drawItem(this._elemTable.rows[$2],0,false);}this._iHoverIdx=$1;this.drawItem(this._elemTable.rows[$1],2,false);}},onMouseMove:function(mouseEventArgs){},onLButtonUp:function(mouseEventArgs){this.releaseCapture();if(this._iHoverIdx!==Kepler.Framework.Core.Globals.invaliD_VALUE){this.drawItem(this._elemTable.rows[this._iHoverIdx],0,false);}var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getParentElementByName(mouseEventArgs.get_target(),'listCtrl_Row');var $1=this.getRowIdx($0);if($1!==-1){this.setSelectedIndex($1);}else{this.setSelectedIndex(this._iHoverIdx);}},onMouseDblClick:function(evt){Kepler.Engine.UI.Controls.FunctionList.callBaseMethod(this, 'onMouseDblClick',[evt]);if(this.get_parent()!=null){(this.get_parent()).performFunctionSelection();}},$55:function(){var $0=this.getSelectedIndex();if($0>=0&&$0<this._elemTable.rows.length){return Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientRect(this._elemTable.rows[$0]);}return null;},sortData:function(lstItemText){lstItemText.sort(ss.Delegate.create(this,this.$56));},$56:function($p0,$p1){return $p0.toString().toUpperCase().compareTo($p1.toString().toUpperCase());}}
Kepler.Engine.UI.Controls.FunctionSet=function(){this.$0={};}
Kepler.Engine.UI.Controls.FunctionSet.get_instance=function(){if(Kepler.Engine.UI.Controls.FunctionSet.$1==null){Kepler.Engine.UI.Controls.FunctionSet.$1=new Kepler.Engine.UI.Controls.FunctionSet();}return Kepler.Engine.UI.Controls.FunctionSet.$1;}
Kepler.Engine.UI.Controls.FunctionSet.prototype={$0:null,initialize:function(mapFunctions){if(ss.isValue(mapFunctions)){this.$2(mapFunctions);}},$2:function($p0){for(var $0=0;$0<26;$0++){this.$0[String.fromCharCode(($0+65))]=[];}var $dict1=$p0;for(var $key2 in $dict1){var $1={key:$key2,value:$dict1[$key2]};if($1.key.length>0){this.$0[$1.key.substr(0,1)].add($1.value);}}},getFunctions:function(strFunctionPrefix){var $0=[];if(strFunctionPrefix.length>=1){var $1=this.$0[strFunctionPrefix.substr(0,1)];if(ss.isValue($1)){var $enum1=ss.IEnumerator.getEnumerator($1);while($enum1.moveNext()){var $2=$enum1.current;if($2.get_name().startsWith(strFunctionPrefix)){$0.add($2);}}}}return $0;},getFunctionInfo:function(strFunction){if(ss.isValue(strFunction)){strFunction=strFunction.toUpperCase();var $0=this.getFunctions(strFunction);if($0.length>0){for(var $1=0;$1<$0.length;$1++){if($0[$1].get_name()===strFunction){return $0[$1];}}}}return null;}}
Kepler.Engine.UI.Controls.FunctionTooltip=function(){Kepler.Engine.UI.Controls.FunctionTooltip.initializeBase(this,['div',' tooltip '+' position_absolute']);this.set_zIndex(8001);this.get_elementStyle().padding='5px';this.get_elementStyle().whiteSpace='pre';}
Kepler.Engine.UI.Controls.FunctionTooltip.get_instance=function(){if(Kepler.Engine.UI.Controls.FunctionTooltip.$3B==null){Kepler.Engine.UI.Controls.FunctionTooltip.$3B=new Kepler.Engine.UI.Controls.FunctionTooltip();}return Kepler.Engine.UI.Controls.FunctionTooltip.$3B;}
Kepler.Engine.UI.Controls.FunctionTooltip.prototype={$3C:null,$3D:0,update:function(oFunctionInfo,iParameterIndex,rcEditBox){if(oFunctionInfo==null){return;}this.$3C=oFunctionInfo;this.$3D=iParameterIndex;var $0=this.$3E(oFunctionInfo,iParameterIndex);this.get_element().innerHTML=$0;},$3E:function($p0,$p1){var $0=$p0.get_definition();var $1=$0.indexOf('(')+1;var $2=$0.indexOf(')',$1)-1;var $3=$0.substr(0,$1);var $4=$0.substr($1,$2-$1+1);var $5=$4.split(',');if($5.length>0&&$5[$5.length-1].trim()==='...'){if($5.length>1){var $7=$5[$5.length-2];if($7.endsWith(']')){var $8=$7.substr(0,$7.length-2);var $9=parseInt($7.charAt($7.length-2).toString(),10);for(var $A=$9+1;$A<=$p1+2;$A++){$5.insert($5.length-1,$8+$A+']');}}}}var $6=new ss.StringBuilder();$6.append($p0.get_name());$6.append('(');for(var $B=0;$B<$5.length;$B++){if($B>10&&$B%10===1){$6.append('<br/>');}if($B===$p1){$6.append('<b>'+$5[$B]+'</b/>');}else{$6.append($5[$B]);}if($B!==$5.length-1){$6.append(',');}}$6.append(')');return $6.toString();},updatePositionAndSize:function(rcEditBox,iDocumentWidth){this.set_top(rcEditBox.get_bottom()+2);this.set_left(rcEditBox.get_left());Kepler.Engine.UI.Helper.HtmlCssHelper.refreshDOM();var $0=this.get_clientRect();if($0.get_right()>=iDocumentWidth){this.set_left(this.get_left()-($0.get_right()-iDocumentWidth));}Kepler.Engine.UI.Helper.HtmlCssHelper.refreshDOM();},show:function(bShow){Kepler.Engine.UI.Controls.FunctionTooltip.callBaseMethod(this, 'show',[bShow]);var $0=Kepler.Engine.UI.Controls.Tooltip.TooltipManager.get_instance();if(bShow){if(!$0.containsControl(this)){$0.add(this);}}else{$0.remove(this);}}}
Kepler.Engine.UI.Controls.FunctionWnd=function(){Kepler.Engine.UI.Controls.FunctionWnd.initializeBase(this,[' position_absolute']);this.$43=[];this.$44=[];this.$45=0;this.$46=new Kepler.Framework.UI.Size(0,0);this.$47=new Kepler.Framework.UI.Point(0,0);this.$48={};this.$49={};this.get_elementStyle().backgroundColor=Kepler.Framework.UI.Colors.WHITE.toString();this.get_elementStyle().zIndex=6001;}
Kepler.Engine.UI.Controls.FunctionWnd.get_instance=function(){if(Kepler.Engine.UI.Controls.FunctionWnd._instance==null){Kepler.Engine.UI.Controls.FunctionWnd._instance=new Kepler.Engine.UI.Controls.FunctionWnd();}return Kepler.Engine.UI.Controls.FunctionWnd._instance;}
Kepler.Engine.UI.Controls.FunctionWnd.setBaseInstance=function(oFuncWnd){Kepler.Engine.UI.Controls.FunctionWnd._instance=oFuncWnd;}
Kepler.Engine.UI.Controls.FunctionWnd.prototype={$42:null,get_functionList:function(){return this.$42;},$43:null,$44:null,get_filterInfoTypeList:function(){return this.$44;},$45:0,$46:null,$47:null,$48:null,$49:null,initList:function(iListItemHeight,oImageSize,oImagePoint,strImagePath){this.$45=iListItemHeight;this.$46=oImageSize.clone();this.$47=oImagePoint.clone();this.$42=new Kepler.Engine.UI.Controls.FunctionList(this.$45,this.$46,this.$47,strImagePath);this.$42.set_sort(true);},initInfoImageMap:function(mapInfoImage){if(ss.isValue(mapInfoImage)){this.$48=mapInfoImage;}},initInfoImageClassMap:function(mapInfoImageClass){if(ss.isValue(mapInfoImageClass)){this.$49=mapInfoImageClass;}},onLoad:function(){Kepler.Engine.UI.Controls.FunctionWnd.callBaseMethod(this, 'onLoad');this.$4A();},$4A:function(){this.attachMessage('hide_child_ctrl',ss.Delegate.create(this,this.$4D));this.attachMessage('SelectionChanged',ss.Delegate.create(this,this.$4E));},onSize:function(){Kepler.Engine.UI.Controls.FunctionWnd.callBaseMethod(this, 'onSize');if(ss.isValue(this.$42)){this.$42.set_size(this.get_size());}},update:function(strFunctionNamePrefix,lstDynamicInfo,bToConsiderDynamicOnly,bToRemoveDynamic){this.$4B(strFunctionNamePrefix,lstDynamicInfo,bToConsiderDynamicOnly,bToRemoveDynamic);if(this.$43.length>0){this.$4C();return true;}return false;},updateImageSize:function(oImageSize){if(!ss.isNullOrUndefined(oImageSize)){this.$46=oImageSize;}},getFunctionList:function(strFunctionNamePrefix){return Kepler.Engine.UI.Controls.FunctionSet.get_instance().getFunctions(strFunctionNamePrefix);},$4B:function($p0,$p1,$p2,$p3){var $0=this.getFunctionList($p0);this.$42.setSelectedIndex(-1);for(var $1=this.$43.length-1;$1>=0;$1--){var $2=this.$43[$1];if((ss.isNullOrUndefined($p3)||!$p3)&&($0.contains($2)||$p1.contains($2))&&!this.$44.contains($2.get_infoType())){continue;}this.$43.removeAt($1);this.$42.removeItem($1);}if(ss.isNullOrUndefined($p2)||!$p2){if(!this.$44.contains(0)){for(var $3=0;$3<$0.length;$3++){var $4=$0[$3];if(this.$43.contains($4)){continue;}var $5=((Object.keyExists(this.$49,$4.get_infoType()))?this.$49[$4.get_infoType()]:'');var $6=this.$42.addItemToList($4.get_name(),this.$47,this.$46,this.$45,null,false,$5);this.$43.insert($6,$4);}}}for(var $7=0;$7<$p1.length;$7++){var $8=$p1[$7];if(!$8.get_name().toUpperCase().startsWith($p0)||this.$43.contains($8)||this.$44.contains($8.get_infoType())){continue;}var $9=((Object.keyExists(this.$48,$8.get_infoType()))?this.$48[$8.get_infoType()]:this.$47);if($8.get_infoType()===-1){$9=new Kepler.Framework.UI.Point(-154,50);}var $A=((Object.keyExists(this.$49,$8.get_infoType()))?this.$49[$8.get_infoType()]:'');var $B=this.$42.addItemToList($8.get_name(),$9,this.$46,this.$45,null,false,$A);this.$43.insert($B,$8);}if(this.$43.length>0){this.$42.setSelectedIndex(0);}},$4C:function(){var $0=Kepler.Framework.UI.Helper.FontMetrics.getFontMetrics('Arial',11);var $1=$0.get_width();var $2=0;var $3=Math.min(this.$43.length*Math.max($0.get_height(),this.$45),200);var $enum1=ss.IEnumerator.getEnumerator(this.$43);while($enum1.moveNext()){var $4=$enum1.current;var $5=$4.get_name().length*$1;if($5>$2){$2=$5;}}this.set_size(new Kepler.Framework.UI.Size($2+35,$3));},handleKeyDown:function(eEventKey){switch(eEventKey){case 27:this.get_parent().remove(this);break;case 9:case 13:this.performFunctionSelection();break;case 40:case 38:var $0=this.$42.getSelectedIndex();switch(eEventKey){case 40:$0++;break;case 38:$0--;break;}if($0>=0&&$0<this.$43.length){this.$42.setSelectedIndex($0);}break;case 33:this.$42.setSelectedIndex(0);break;case 34:this.$42.setSelectedIndex(this.$43.length-1);break;}},onAttach:function(){Kepler.Engine.UI.Controls.FunctionWnd.callBaseMethod(this, 'onAttach');this.add(this.$42);},onDetach:function(){try{Kepler.Engine.UI.Controls.Tooltip.TooltipManager.get_instance().hideTooltip();this.$43.clear();this.$42.resetList();}finally{Kepler.Engine.UI.Controls.FunctionWnd.callBaseMethod(this, 'onDetach');this.remove(this.$42);}},$4D:function($p0,$p1){this.get_parent().remove(this);return null;},$4E:function($p0,$p1){if($p1===this.$42){if($p0!==-1){this.showFunctionTooltip();}}return null;},showFunctionTooltip:function(){var $0=this.$42.getSelectedIndex();var $1=this.$43[$0].get_tooltip();if(ss.isValue($1)&&$1.length>0){var $2=this.$42.$55();if($2!=null){var $3=new Kepler.Engine.UI.Controls.Tooltip.Tooltip_Params(12,$1,'');Kepler.Engine.UI.Controls.Tooltip.TooltipManager.get_instance().showTooltip(new Kepler.Engine.UI.Controls.Tooltip.TooltipLaunch_Params($3,true,new Kepler.Framework.UI.Point(this.get_clientRect().get_right()+5,$2.get_bottom())));}}else{Kepler.Engine.UI.Controls.Tooltip.TooltipManager.get_instance().hideTooltip();}},performFunctionSelection:function(){var $0=this.$42.getSelectedIndex();if($0!==Kepler.Framework.Core.Globals.invaliD_VALUE){var $1=this.$43[$0];if(ss.isValue($1)){this.get_parent().sendMessage('msg_perform_function_selection',$1,this);}}}}
Kepler.Engine.UI.Controls.Button=function(strHtml,oPosition,oSize,strId,strClassName,element){Kepler.Engine.UI.Controls.Button.initializeBase(this,['div',oPosition,oSize,null,strId,element]);if(ss.isValue(strHtml)){this.setHtml(strHtml);}this.$47=((ss.isValue(strClassName)&&''!==strClassName)?' '+strClassName:' button');this.get_element().className=this.$47+' '+this.$47+'_normal';}
Kepler.Engine.UI.Controls.Button.prototype={get_height:function(){return Kepler.Engine.UI.Controls.Button.callBaseMethod(this, 'get_height');},set_height:function(value){Kepler.Engine.UI.Controls.Button.callBaseMethod(this, 'set_height',[value]);this.get_elementStyle().lineHeight=value+'px';return value;},get_size:function(){return Kepler.Engine.UI.Controls.Button.callBaseMethod(this, 'get_size');},set_size:function(value){Kepler.Engine.UI.Controls.Button.callBaseMethod(this, 'set_size',[value]);this.get_elementStyle().lineHeight=value.get_height()+'px';return value;},$47:null,drawItem:function(eState){var $0='';switch(eState){case 1:$0='_hover';break;case 0:$0='_normal';break;case 2:$0='_pressed';break;case 6:if(!this.get_visible()){$0='_disabled'+' display_none';}else{$0='_disabled';}break;default:throw new Error('Not Implemented Exception : '+'eState');}if($0.length>0){this.get_element().className=this.$47+this.$47+$0;}},getFocusRect:function(){var $0=new Kepler.Framework.UI.Rect(0,0,0,0);$0.set_top(this.get_position().get_y()+3);$0.set_left(this.get_position().get_x()+3);$0.set_height(this.get_height()-6);$0.set_width(this.get_width()-6);return $0;}}
Kepler.Engine.UI.Controls.ButtonBase=function(strTagName,oPosition,oSize,strCssClassName,strId,element){Kepler.Engine.UI.Controls.ButtonBase.initializeBase(this,[strTagName,strCssClassName,strId,element]);if(ss.isValue(oPosition)){this.set_position(oPosition);}if(ss.isValue(oSize)){this.set_size(oSize);}if(!Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){this.$40=new Kepler.Framework.Core.Timers.Timer(ss.Delegate.create(this,this.$45),200);}this._icharAcc=-1;this.$3C=true;}
Kepler.Engine.UI.Controls.ButtonBase.prototype={_bKeyDown:false,$3B:0,$3C:false,get_changeAccOnEnableChange:function(){return this.$3C;},set_changeAccOnEnableChange:function(value){this.$3C=value;return value;},$3D:false,get_sendClickMsgOnMouseDown:function(){return this.$3D;},set_sendClickMsgOnMouseDown:function(value){this.$3D=value;return value;},$3E:false,get_sendClickOnEnter:function(){return this.$3E;},set_sendClickOnEnter:function(value){this.$3E=value;return value;},$3F:false,get_dragNDrop:function(){return this.$3F;},set_dragNDrop:function(value){this.$3F=value;return value;},get_enable:function(){return Kepler.Engine.UI.Controls.ButtonBase.callBaseMethod(this, 'get_enable');},set_enable:function(value){if(this.$3C){this.$43(value);}Kepler.Engine.UI.Controls.ButtonBase.callBaseMethod(this, 'set_enable',[value]);this.$44(value);return value;},$40:null,$41:null,_icharAcc:0,get_ariaSpeech:function(){return Kepler.Engine.UI.Controls.ButtonBase.callBaseMethod(this, 'get_ariaSpeech');},set_ariaSpeech:function(value){Kepler.Engine.UI.Controls.ButtonBase.callBaseMethod(this, 'set_ariaSpeech',[value]);return value;},get_ariaRole:function(){return 'button';},set_ariaRole:function(value){Kepler.Engine.UI.Controls.ButtonBase.callBaseMethod(this, 'set_ariaRole',[value]);return value;},onLoad:function(){Kepler.Engine.UI.Controls.ButtonBase.callBaseMethod(this, 'onLoad');var $0=this.get_element().innerHTML;var $1=$0.indexOf('<u>');if($1>-1){var $2=$0.remove($1,3);this._icharAcc=$2.charCodeAt($1);}this.$42();},show:function(bShow){Kepler.Engine.UI.Controls.ButtonBase.callBaseMethod(this, 'show',[bShow]);if(!this.get_enable()){this.drawItem(6);}},$42:function(){var $0=2|4|8|16|32|128|256|512|1024|4096|16384;if(this.get_dblClickEventNeeded()){$0|=64;}this.addEvents($0);},setHtml:function(strHtml){Kepler.Engine.UI.Controls.ButtonBase.callBaseMethod(this, 'setHtml',[strHtml]);var $0=String.fromCharCode(this._icharAcc);var $1=strHtml.indexOf('<u>');if($1!==-1){var $2=strHtml.charAt($1+3);if($2!==$0){this._icharAcc=$2;}}},$43:function($p0){if(this.get_enable()!==$p0){if(this._icharAcc>-1){var $0=this.get_html();if($p0){var $1=String.fromCharCode(this._icharAcc);var $2=$0.indexOf($1);$0=$0.insert($2,'<u>');$0=$0.insert($2+4,'</u>');}else{$0=$0.remove($0.indexOf('<u>'),3);$0=$0.remove($0.indexOf('</u>'),4);}this.setHtml($0);}}},$44:function($p0){if(this.get_loaded()){if($p0){this.drawItem(this.$3B);}else{this.drawItem(6);}}},changeState:function(eState){if(this.$3B===eState){return;}this.$3B=eState;this.invalidate();},invalidate:function(){if(!this.get_enable()){this.drawItem(6);}else{this.drawItem(this.$3B);}},onEventProcessClick:function(mouseEventArgs){var $0=new Kepler.Framework.UI.Controls.OnCommandStruct(mouseEventArgs,0);var $1=this.sendMessageToParent('msg_command',$0,this);if(!$1){this.sendMessageToParent('ButtonClicked',mouseEventArgs,this);}},onEventProcessDoubleClick:function(evt){var $0=new Kepler.Framework.UI.Controls.OnCommandStruct(evt,0);var $1=this.sendMessageToParent('msg_command',$0,this);if(!$1){this.sendMessageToParent('ButtonClicked',evt,this);}},setClickOnAltKeyFocus:function(){this.onEventProcessClick(null);this.invalidate();},$45:function(){this.$40.stop();if(this.$3B===2||this.$3B===3){this.changeState(7);}},$46:function($p0){if(Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){return;}if(Kepler.Engine.UI.Controls.Tooltip.TooltipManager.get_instance().get_tooltipControl()!=null){var $0=$p0.get_relatedTarget();var $1=true;if($0!=null){var $2=$0.parentNode;while(ss.isValue($2)){if($2===this.get_element()){$1=false;break;}$2=$2.parentNode;}}if($1){Kepler.Engine.UI.Controls.Tooltip.TooltipManager.get_instance().hideTooltip();}}},updateAriaAttributes:function(){this._mapAriaAttributes={};var $0='';if(this.get_setFocusUsingTab()){$0='false';}else{$0='true';}},onTouchStart:function(evt){Kepler.Engine.UI.Controls.ButtonBase.callBaseMethod(this, 'onTouchStart',[evt]);this.changeState(2);},onTouchEnd:function(evt){Kepler.Engine.UI.Controls.ButtonBase.callBaseMethod(this, 'onTouchEnd',[evt]);this.changeState(0);},onLButtonDown:function(mouseEventArgs){Kepler.Engine.UI.Controls.ButtonBase.callBaseMethod(this, 'onLButtonDown',[mouseEventArgs]);this.setCapture();this.changeState(2);this.$46(mouseEventArgs);if(this.$3F){if(!Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){this.$40.start();}else{this.$41=Kepler.Engine.UI.Controls.Control.getClientPointFromEventArgs(mouseEventArgs);}}else{if(this.$3D){this.onEventProcessClick(mouseEventArgs);}}},onLButtonUp:function(mouseEventArgs){Kepler.Engine.UI.Controls.ButtonBase.callBaseMethod(this, 'onLButtonUp',[mouseEventArgs]);var $0=this.getCapture();this.releaseCapture();if(this.$3B===7){if(this.$3F){this.drawItem(0);this.sendMessageToParent('msg_control_drop',mouseEventArgs,this);}}else if(!this.$3D&&$0===this&&this.isMouseEventInElementRect(mouseEventArgs)){this.onEventProcessClick(mouseEventArgs);}this.changeState(0);},onMouseMove:function(mouseEventArgs){Kepler.Engine.UI.Controls.ButtonBase.callBaseMethod(this, 'onMouseMove',[mouseEventArgs]);if(this.$3F){if(Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()&&this.$41!=null){var $0=this.$41.inflate(10);var $1=Kepler.Engine.UI.Controls.Control.getClientPointFromEventArgs(mouseEventArgs);if(!$0.isPtInRect($1.get_x(),$1.get_y())){this.changeState(7);}}if(this.$3B===7&&this.getCapture()===this){this.sendMessageToParent('msg_control_drag_start',mouseEventArgs,this);}}else{if(this.isMouseEventInElementRect(mouseEventArgs)){if(this.getCapture()===this){this.changeState(2);}else{this.changeState(1);}}else{this.changeState(0);this.$46(mouseEventArgs);}}},onMouseOver:function(mouseEventArgs){if(this.$3F){if(this.$3B!==7){this.changeState(1);}this.get_elementStyle().cursor='move';}else{this.changeState(1);}Kepler.Engine.UI.Controls.ButtonBase.callBaseMethod(this, 'onMouseOver',[mouseEventArgs]);},onMouseOut:function(mouseEventArgs){if(this.$3F){if(this.$3B!==7){this.changeState(0);}}else{this.changeState(0);}Kepler.Engine.UI.Controls.ButtonBase.callBaseMethod(this, 'onMouseOut',[mouseEventArgs]);},onKeyDown:function(keyboardEventArgs){Kepler.Engine.UI.Controls.ButtonBase.callBaseMethod(this, 'onKeyDown',[keyboardEventArgs]);this._bKeyDown=true;if(keyboardEventArgs.get_key()===32||(keyboardEventArgs.get_key()===13&&this.$3E)){this.changeState(2);}},onKeyUp:function(keyboardEventArgs){Kepler.Engine.UI.Controls.ButtonBase.callBaseMethod(this, 'onKeyUp',[keyboardEventArgs]);if((keyboardEventArgs.get_key()===32||(keyboardEventArgs.get_key()===13&&this.$3E))&&this._bKeyDown){this._bKeyDown=false;this.changeState(0);this.onEventProcessClick(null);this.invalidate();}},onMouseDblClick:function(evt){this.onEventProcessDoubleClick(evt);}}
Kepler.Engine.UI.Controls.CheckBox=function(strHtml,oPosition,oSize,strId){Kepler.Engine.UI.Controls.CheckBox.initializeBase(this,['div',oPosition,oSize,' checkbox',strId,null]);this._strCssClassCheckboxImage=' checkbox_image';this._strCssClassCheckboxText=' checkbox_text';this._elmImage=document.createElement('div');this._elmImage.className=this._strCssClassCheckboxImage+this._strCssClassCheckboxImage+'_normal';this._elmImgContainer=document.createElement('div');Kepler.Engine.UI.Helper.HtmlCssHelper.setElementDisplay(this._elmImgContainer,'table-cell');this._elmImgContainer.className=' checkbox_image_container';this._elmText=document.createElement('div');this._elmText.className=this._strCssClassCheckboxText;this._elmText.innerHTML=strHtml;this._elmImgContainer.appendChild(this._elmImage);this.get_element().appendChild(this._elmImgContainer);this.get_element().appendChild(this._elmText);this.set_alwaysSpeechOnSetFocus(true);}
Kepler.Engine.UI.Controls.CheckBox.prototype={_strCssClassCheckboxImage:null,_strCssClassCheckboxText:null,_elmImgContainer:null,get_imageElement:function(){return this._elmImgContainer;},_elmImage:null,get_checkBoxImage:function(){return this._elmImage;},_elmText:null,get_textElement:function(){return this._elmText;},$47:0,get_state:function(){return this.$47;},set_state:function(value){if(this.$47!==value&&(this.$48||value!==2)){this.$47=value;this.invalidate();}return value;},$48:false,get_threeState:function(){return this.$48;},set_threeState:function(value){this.$48=value;return value;},get_html:function(){return this._elmText.innerHTML;},get_ariaSpeech:function(){var $0='';if(this.get_setFocusUsingTab()){$0=(this.$47===1)?'checked ':'unchecked ';}else{$0=(this.$47===1)?'unchecked ':'checked ';}if(!this.get_ariaSpeechFromOnFocus()){return $0;}if(this.get_ariaSpeechFromOnFocus()){return (this._strAriaSpeech+' checkbox '+$0);}return '';},set_ariaSpeech:function(value){Kepler.Engine.UI.Controls.CheckBox.callBaseMethod(this, 'set_ariaSpeech',[value]);return value;},get_ariaRole:function(){return 'label';},set_ariaRole:function(value){Kepler.Engine.UI.Controls.CheckBox.callBaseMethod(this, 'set_ariaRole',[value]);return value;},setHtml:function(strText){this._elmText.innerHTML=strText;},drawItem:function(eState){var $0='';var $1=this._strCssClassCheckboxText;switch(eState){case 0:$0='_normal';break;case 1:$0='_hover';break;case 2:$0='_pressed';break;case 6:$0='_disabled';$1=this._strCssClassCheckboxText+' text_disabled';break;case 7:$0='_pressed';break;default:throw new Error('Not Implemented Exception : '+'eState');}switch(this.$47){case 1:$0='_checked'+$0;break;case 2:$0='_intermediate'+$0;break;}if($0.length>0){this._elmImage.className=this._strCssClassCheckboxImage+this._strCssClassCheckboxImage+$0;if(!!this._elmText.className.trim().compareTo($1.trim())){this._elmText.className=$1;}}},onEventProcessClick:function(mouseEventArgs){if(this.$48){this.$47=this.$47-1;if(this.$47<0){this.$47=2;}}else{this.$47=(!this.$47)?1:0;}Kepler.Engine.UI.Controls.CheckBox.callBaseMethod(this, 'onEventProcessClick',[mouseEventArgs]);},getFocusRect:function(){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getComputedRect(this._elmText);$0.set_top($0.get_top()+this.get_position().get_y());$0.set_left(this._elmImgContainer.clientWidth+this.get_position().get_x()+2);return $0;},updateAriaAttributes:function(){this._mapAriaAttributes={};var $0='';if(this.get_setFocusUsingTab()){$0=(this.$47===1)?'true ':'false';}else{$0=(this.$47===1)?'false':'true';}this._mapAriaAttributes['aria-checked']=$0;},onKeyUp:function(keyboardEventArgs){Kepler.Engine.UI.Controls.CheckBox.callBaseMethod(this, 'onKeyUp',[keyboardEventArgs]);if(keyboardEventArgs.get_key()===32&&Kepler.Engine.UI.Controls.Control.get_$8()===this){this.set_setFocusUsingTab(true);this.setAriaAttributes();this.set_setFocusUsingTab(false);}}}
Kepler.Engine.UI.Controls.CssImageButton=function(strImagePath,oPosition,oSize,strCssClassName,strId,element){Kepler.Engine.UI.Controls.CssImageButton.initializeBase(this,['div',oPosition,oSize,strCssClassName,strId,element]);this._bWipDrawItem=false;this.$47=null;this.$48=false;this._strClassName=strCssClassName;this._eState=0;this._mapStatePrefix={};this.setBackgroundImage(strImagePath);this.drawItem(0);}
Kepler.Engine.UI.Controls.CssImageButton.prototype={$47:null,$48:false,_strClassName:null,_eState:0,_mapStatePrefix:null,_bWipDrawItem:false,$49:null,get_ariaText:function(){return this.$49;},set_ariaText:function(value){this.$49=value;return value;},setBackgroundImage:function(strImagePath){if(ss.isValue(strImagePath)){if(String.isNullOrEmpty(strImagePath)){this.get_elementStyle().backgroundImage='';}else{this.get_elementStyle().backgroundImage="url('"+strImagePath+"')";}}},getAriaSpeech:function(){return this.$49;},setBackgroundClip:function(iImgWidth,iImgHeight){if(ss.isNullOrUndefined(iImgWidth)){iImgWidth=0;}if(ss.isNullOrUndefined(iImgHeight)){iImgHeight=0;}if(!iImgWidth&&!iImgHeight){this.$47=null;}else{this.$47=new Kepler.Framework.UI.Size(iImgWidth,iImgHeight);this.$48=false;}this.$4A();this.drawItem(this._eState);},drawItem:function(eState){if(this._bWipDrawItem){return;}this._bWipDrawItem=true;try{var $0=this._mapStatePrefix[eState];if(ss.isNullOrUndefined($0)){switch(eState){case 0:$0='_normal';break;case 1:$0='_hover';break;case 2:$0='_pressed';break;case 6:$0='_disabled';break;default:throw new Error('Not Implemented Exception : '+'eState');}}if($0.length>0){var $1=this.get_element().className.split(' ');this.get_element().className=this._strClassName+' '+this._strClassName+$0;if($1.contains(' class_visual_hint'.trim())){this.get_element().className+=' class_visual_hint';}if(this.get_showHideProperty()===1&&(!this.get_visible())){this.show(this.get_visible());}}}finally{this._eState=eState;this._bWipDrawItem=false;}},$4A:function(){if(this.$47!=null){var $0=0;var $1=0;var $2=false;if(this.$47.get_width()<this.get_width()){$0=(this.get_width()-this.$47.get_width())/2;Kepler.Engine.UI.Helper.HtmlCssHelper.setElementWidth(this.get_element(),this.$47.get_width().toString());$2=true;}if(this.$47.get_height()<this.get_height()){$1=(this.get_height()-this.$47.get_height())/2;Kepler.Engine.UI.Helper.HtmlCssHelper.setElementHeight(this.get_element(),this.$47.get_height().toString());$2=true;}if($2){Kepler.Engine.UI.Helper.HtmlCssHelper.setElementMargin(this.get_element(),$1+'px '+$0+'px');Kepler.Engine.UI.Helper.HtmlCssHelper.setElementBackgroundClip(this.get_element(),'content-box');this.$48=true;}}else if(this.$47==null&&!!this.$48){Kepler.Engine.UI.Helper.HtmlCssHelper.setElementHeight(this.get_element(),this.get_height().toString());Kepler.Engine.UI.Helper.HtmlCssHelper.setElementWidth(this.get_element(),this.get_height().toString());this.get_elementStyle().marginLeft=null;this.get_elementStyle().marginRight=null;this.get_elementStyle().marginTop=null;this.get_elementStyle().marginBottom=null;Kepler.Engine.UI.Helper.HtmlCssHelper.setElementBackgroundClip(this.get_element(),null);this.$48=false;}},onSize:function(){Kepler.Engine.UI.Controls.CssImageButton.callBaseMethod(this, 'onSize');this.$4A();},setCssClass:function(sCssClass){this._strClassName=sCssClass;this.drawItem(0);},setCssStatePrefix:function(eState,strPrefix){this._mapStatePrefix[eState]=strPrefix;if(eState===this._eState){this.drawItem(eState);}}}
Kepler.Engine.UI.Controls.CssImageTextButton=function(strHtml,oPosition,oSize,strId,strImgCssClassName,strCssClass,element){this._strCssClassName=' button';Kepler.Engine.UI.Controls.CssImageTextButton.initializeBase(this,['table',oPosition,oSize,'button',strId,element]);var $0=!String.isNullOrEmpty(strHtml);var $1=!String.isNullOrEmpty(strImgCssClassName);this._eState=0;this._mapStatePrefix={};this.$4C($0,$1);this.setText(strHtml);if(ss.isValue(strImgCssClassName)&&!!strImgCssClassName){this.$4B=strImgCssClassName;}if(ss.isValue(strCssClass)&&!!strCssClass){this._strCssClassName=strCssClass;}this.get_element().className=this._strCssClassName+' '+this._strCssClassName+'_normal';this.$4A.className=this.$4B+' '+this.$4B+'_normal';}
Kepler.Engine.UI.Controls.CssImageTextButton.prototype={$47:null,$48:null,get_imageCell:function(){return this.$48;},$49:null,get_textCell:function(){return this.$49;},$4A:null,get_text:function(){if(this.$49!=null){return this.$49.textContent;}return '';},get_html:function(){return this.$49.innerHTML;},_eState:0,_mapStatePrefix:null,_strCssClassNameBeforeChange:null,$4B:null,$4C:function($p0,$p1){if(this.$47==null){this.$47=this.get_element().insertRow(-1);}if($p0){this.$49=this.$47.insertCell(-1);Kepler.Engine.UI.Helper.HtmlCssHelper.setElementPadding(this.$49,'0px');}if($p1){this.$48=this.$47.insertCell(0);this.$48.style.textAlign='center';this.$48.style.verticalAlign='middle';Kepler.Engine.UI.Helper.HtmlCssHelper.setElementPadding(this.$48,'0px');this.$4A=document.createElement('div');this.$48.appendChild(this.$4A);}},setHtml:function(strHtml){if(!String.isNullOrEmpty(strHtml)){if(this.$49==null){this.$4C(true,false);}this.$49.innerHTML=strHtml;}},setText:function(strText){if(!String.isNullOrEmpty(strText)){this.setHtml(strText);}},drawItem:function(eState){try{var $0=this._mapStatePrefix[eState];if(ss.isNullOrUndefined($0)){switch(eState){case 1:$0='_hover';break;case 0:$0='_normal';break;case 2:$0='_pressed';break;case 6:$0='_disabled';break;default:throw new Error('Not Implemented Exception : '+'eState');}}if($0.length>0){var $1=[];if(!String.isNullOrEmpty(this._strCssClassName)){$1.addRange(this._strCssClassName.split(' '));}if(!String.isNullOrEmpty(this._strCssClassNameBeforeChange)){$1.addRange(this._strCssClassNameBeforeChange.split(' '));}for(var $4=$1.length-1;$4>=0;$4--){if(!$1[$4].trim()){$1.removeAt($4);}}var $2=[];$2.addRange(this.get_element().className.split(' '));for(var $5=$2.length-1;$5>=0;$5--){if(!$2[$5].trim()){$2.removeAt($5);}}var $3=null;if(!$1.length){$3=$2;}else{$3=[];var $6;for(var $7=$2.length-1;$7>=0;$7--){$6=false;for(var $8=$1.length-1;$8>=0;$8--){if($2[$7].startsWith($1[$8].trim())){$6=true;break;}}if(!$6){$3.add($2[$7]);}}}this._strCssClassNameBeforeChange=null;this.get_element().className=$3.join(' ')+' '+this._strCssClassName+' '+this._strCssClassName+$0;this.$4A.className=this.$4B+' '+this.$4B+$0;}}finally{this._eState=eState;}},setCssClass:function(sCssClassName,sCssImageClassName){if(!String.isNullOrEmpty(sCssClassName)&&sCssClassName!==this._strCssClassName){this._strCssClassNameBeforeChange=this._strCssClassName;this._strCssClassName=sCssClassName;}this.$4B=sCssImageClassName;this.drawItem(0);},setBackGroundImgClass:function(strCssClass){if(ss.isValue(strCssClass)){this.$4B=strCssClass;Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this.$4A,strCssClass);}},changeBackGroundImgClass:function(strCssClass){if(ss.isValue(strCssClass)){this.$4B=strCssClass;this.$4A.className=strCssClass+' '+strCssClass+'_normal';}},changeCssClassName:function(strCssClassName){if(!String.isNullOrEmpty(strCssClassName)&&strCssClassName!==this._strCssClassName){this._strCssClassNameBeforeChange=this._strCssClassName;this._strCssClassName=strCssClassName;this.changeState(1);this.changeState(0);}},setBackImgSize:function(oSize){this.$4A.style.width=oSize.get_width()+'px';this.$4A.style.height=oSize.get_height()+'px';},setCssStatePrefix:function(eState,strPrefix){this._mapStatePrefix[eState]=strPrefix;if(eState===this._eState){this.drawItem(eState);}}}
Kepler.Engine.UI.Controls.CssStaticImage=function(oPosition,oSize,strId,strClassName){Kepler.Engine.UI.Controls.CssStaticImage.initializeBase(this,['span',oPosition,oSize,'button',strId,null]);if(!String.isNullOrEmpty(strClassName)){this.$48=strClassName;this.get_element().style.display='inline-block';this.get_element().className=this.$48;}this.set_focusable(false);this.$47=null;}
Kepler.Engine.UI.Controls.CssStaticImage.prototype={$47:null,get_tooltipParams:function(){return this.$47;},set_tooltipParams:function(value){this.$47=value;return value;},$48:null,setImage:function(strClassName){if(!String.isNullOrEmpty(strClassName)){this.$48=strClassName;this.get_element().className=this.$48;this.get_element().style.display='inline-block';}this.set_focusable(false);},drawItem:function(eState){},onMouseOver:function(mouseEventArgs){Kepler.Engine.UI.Controls.CssStaticImage.callBaseMethod(this, 'onMouseOver',[mouseEventArgs]);if(ss.isValue(this.$47)){var $0=this.get_clientPosition().get_x()-147,$1=this.get_clientPosition().get_y()-83;var $2=new Kepler.Framework.UI.Point($0,$1);var $3=this.get_element().style.backgroundImage+'\u00a6'+this.get_element().style.backgroundPosition+'\u00a6'+this.get_element().style.backgroundRepeat+'\u00a6';this.$47._strTextualData=$3;Kepler.Engine.UI.Controls.Tooltip.TooltipManager.get_instance().showTooltip(new Kepler.Engine.UI.Controls.Tooltip.TooltipLaunch_Params(this.$47,true,$2));}},onMouseOut:function(mouseEventArgs){Kepler.Engine.UI.Controls.CssStaticImage.callBaseMethod(this, 'onMouseOut',[mouseEventArgs]);if(ss.isValue(this.$47)){Kepler.Engine.UI.Controls.Tooltip.TooltipManager.get_instance().hideTooltip();}}}
Kepler.Engine.UI.Controls.CSSToggleButton=function(strHtml,oPosition,oSize,strId,strClassName,element,strImgClassName){Kepler.Engine.UI.Controls.CSSToggleButton.initializeBase(this,['table',oPosition,oSize,strClassName,strId,element]);this.get_elementStyle().borderCollapse='inherit';this.$49=this.get_element().insertRow(-1);this.$4A=this.$49.insertCell(-1);if(ss.isValue(strHtml)){Kepler.Engine.UI.Helper.HtmlCssHelper.setElementPadding(this.$4A,'0px');this.$4A.innerHTML=strHtml;this.$4A.style.textAlign='center';}this.changeClassName(strClassName);this.$4A.style.textAlign='center';this.$4A.style.verticalAlign='middle';Kepler.Engine.UI.Helper.HtmlCssHelper.setElementPadding(this.$4A,'0px');if(!String.isNullOrEmpty(strImgClassName)){this.$4B=document.createElement('div');this.$4A.appendChild(this.$4B);this.$4C(strImgClassName);}this._mapStatePrefix={};}
Kepler.Engine.UI.Controls.CSSToggleButton.prototype={get_height:function(){return Kepler.Engine.UI.Controls.CSSToggleButton.callBaseMethod(this, 'get_height');},set_height:function(value){Kepler.Engine.UI.Controls.CSSToggleButton.callBaseMethod(this, 'set_height',[value]);return value;},get_size:function(){return Kepler.Engine.UI.Controls.CSSToggleButton.callBaseMethod(this, 'get_size');},set_size:function(value){Kepler.Engine.UI.Controls.CSSToggleButton.callBaseMethod(this, 'set_size',[value]);return value;},$47:0,get_state:function(){return this.$47;},set_state:function(value){if(this.$47!==value&&value!==2){this.$47=value;this.invalidate();}return value;},_strClassName:null,$48:null,$49:null,$4A:null,get_elementCell:function(){return this.$4A;},$4B:null,_eBtnState:0,_mapStatePrefix:null,get_ariaSpeech:function(){var $0='';if(this.get_setFocusUsingTab()){$0=(this.$47===1)?'checked ':'not checked ';}else{$0=(this.$47===1)?'not checked ':'checked ';}if(!this.get_ariaSpeechFromOnFocus()){return $0;}return (this._strAriaSpeech+' checkbox '+$0);},set_ariaSpeech:function(value){Kepler.Engine.UI.Controls.CSSToggleButton.callBaseMethod(this, 'set_ariaSpeech',[value]);return value;},changeClassName:function(strClassName){this._strClassName=((ss.isValue(strClassName)&&''!==strClassName)?' '+strClassName:' button');this.get_element().className=this._strClassName+' '+this._strClassName+'_normal';},$4C:function($p0){if(!String.isNullOrEmpty($p0)){this.$48=((ss.isValue($p0)&&''!==$p0)?' '+$p0:' button');this.$4B.className=this.$48+' '+this.$48+'_normal';}},drawItem:function(eState){var $0=this._mapStatePrefix[eState];if(ss.isNullOrUndefined($0)){switch(eState){case 1:$0='_hover';break;case 0:$0='_normal';break;case 2:$0='_pressed';break;case 6:if(!this.get_visible()){$0='_disabled'+' display_none';}else{$0='_disabled';}break;default:throw new Error('Not Implemented Exception : '+'eState');}}switch(this.$47){case 1:$0='_pressed';break;default:break;}if($0.length>0){this.get_element().className=this._strClassName+this._strClassName+$0;if(!String.isNullOrEmpty(this.$48)){this.$4B.className=this.$48+this.$48+$0;}}},onEventProcessClick:function(mouseEventArgs){this.$47=(!this.$47)?1:0;Kepler.Engine.UI.Controls.CSSToggleButton.callBaseMethod(this, 'onEventProcessClick',[mouseEventArgs]);},setCssStatePrefix:function(eState,strPrefix){this._mapStatePrefix[eState]=strPrefix;if(eState===this._eBtnState){this.drawItem(eState);}}}
Kepler.Engine.UI.Controls.HyperLink=function(strHtml,oPosition,strCssClassName,strRef,strId,element){Kepler.Engine.UI.Controls.HyperLink.initializeBase(this,['div',oPosition,null,(ss.isValue(strCssClassName))?strCssClassName:'hyperlink',strId,element]);if(ss.isValue(strHtml)){this.setHtml(strHtml);}if(ss.isValue(strHtml)){this.setHtml(strHtml);}if(ss.isValue(oPosition)){this.set_position(oPosition);}if(ss.isValue(strRef)){this.get_element().setAttribute('href',strRef);}else{this.get_element().setAttribute('href','');}}
Kepler.Engine.UI.Controls.HyperLink.prototype={get_enable:function(){return Kepler.Engine.UI.Controls.HyperLink.callBaseMethod(this, 'get_enable');},set_enable:function(value){Kepler.Engine.UI.Controls.HyperLink.callBaseMethod(this, 'set_enable',[value]);this.$47(value);return value;},get_ariaSpeech:function(){return this._strAriaSpeech;},set_ariaSpeech:function(value){Kepler.Engine.UI.Controls.HyperLink.callBaseMethod(this, 'set_ariaSpeech',[value]);return value;},get_ariaRole:function(){return 'link';},set_ariaRole:function(value){Kepler.Engine.UI.Controls.HyperLink.callBaseMethod(this, 'set_ariaRole',[value]);return value;},$47:function($p0){if(this.get_loaded()){if($p0){this.get_element().className='hyperlink';}else{this.get_element().className='hyperlink'+' text_disabled';}}},drawItem:function(){},getFocusRect:function(){var $0=new Kepler.Framework.UI.Rect(0,0,0,0);$0.set_top(this.get_top()-3);$0.set_left(this.get_left());$0.set_height(this.get_element().clientHeight+3);$0.set_width(this.get_element().clientWidth+3);return $0;}}
Kepler.Engine.UI.Controls.ImageButton=function(strImagePath,oBackgroundPosition,oPosition,oSize,strCssClassName,strId,element){Kepler.Engine.UI.Controls.ImageButton.initializeBase(this,['div',oPosition,oSize,(ss.isValue(strCssClassName))?(strCssClassName+' image_button'):' image_button',strId,element]);if(ss.isValue(oBackgroundPosition)){this.$48=oBackgroundPosition;}this.$4C=null;this.$4D=false;this.$4E=0;this.setBackgroundImage(strImagePath);this.drawItem(0);}
Kepler.Engine.UI.Controls.ImageButton.prototype={$48:null,$49:null,$4A:null,$4B:null,$4C:null,$4D:false,$4E:0,setBackgroundImage:function(strImagePath){if(ss.isValue(strImagePath)){if(String.isNullOrEmpty(strImagePath)){this.get_elementStyle().backgroundImage='';}else{this.get_elementStyle().backgroundImage="url('"+strImagePath+"')";}}},setBackgroundPosition:function(eState,ptPosition){switch(eState){case 0:this.$48=ptPosition;break;case 1:this.$49=ptPosition;break;case 2:this.$4A=ptPosition;break;case 6:this.$4B=ptPosition;break;default:throw new Error('Not Implemented Exception : '+'eState');}},setBackgroundClip:function(iImgWidth,iImgHeight){if(ss.isNullOrUndefined(iImgWidth)){iImgWidth=0;}if(ss.isNullOrUndefined(iImgHeight)){iImgHeight=0;}if(!iImgWidth&&!iImgHeight){this.$4C=null;}else{this.$4C=new Kepler.Framework.UI.Size(iImgWidth,iImgHeight);this.$4D=false;}this.$4F();this.drawItem(this.$4E);},drawItem:function(eState){var $0=this.$48;switch(eState){case 0:break;case 1:if(this.$49!=null){$0=this.$49;}break;case 2:if(this.$4A!=null){$0=this.$4A;}break;case 6:if(this.$4B!=null){$0=this.$4B;}break;default:throw new Error('Not Implemented Exception : '+'eState');}this.$4E=eState;if($0!=null){if(this.$4C==null){this.get_elementStyle().backgroundPosition='-'+$0.get_x()+'px '+'-'+$0.get_y()+'px';}else{var $1=new Kepler.Framework.UI.PointF($0.get_x(),$0.get_y());$1.set_x($1.get_x()-((this.get_width()-this.$4C.get_width())/2));$1.set_y($1.get_y()-((this.get_height()-this.$4C.get_height())/2));this.get_elementStyle().backgroundPosition='-'+$1.get_x()+'px '+'-'+$1.get_y()+'px';}}},$4F:function(){if(this.$4C!=null&&!this.$4D){var $0=0;var $1=0;var $2=false;if(this.$4C.get_width()<this.get_width()){$0=(this.get_width()-this.$4C.get_width())/2;Kepler.Engine.UI.Helper.HtmlCssHelper.setElementWidth(this.get_element(),this.$4C.get_width().toString());$2=true;}if(this.$4C.get_height()<this.get_height()){$1=(this.get_height()-this.$4C.get_height())/2;Kepler.Engine.UI.Helper.HtmlCssHelper.setElementHeight(this.get_element(),this.$4C.get_height().toString());$2=true;}if($2){Kepler.Engine.UI.Helper.HtmlCssHelper.setElementPadding(this.get_element(),$1+'px '+$0+'px');Kepler.Engine.UI.Helper.HtmlCssHelper.setElementBackgroundClip(this.get_element(),'content-box');this.$4D=true;}}else if(this.$4C==null&&!!this.$4D){Kepler.Engine.UI.Helper.HtmlCssHelper.setElementHeight(this.get_element(),this.get_height().toString());Kepler.Engine.UI.Helper.HtmlCssHelper.setElementWidth(this.get_element(),this.get_height().toString());this.get_elementStyle().paddingLeft=null;this.get_elementStyle().paddingRight=null;this.get_elementStyle().paddingTop=null;this.get_elementStyle().paddingBottom=null;Kepler.Engine.UI.Helper.HtmlCssHelper.setElementBackgroundClip(this.get_element(),null);this.$4D=false;}},onSize:function(){Kepler.Engine.UI.Controls.ImageButton.callBaseMethod(this, 'onSize');this.$4F();}}
Kepler.Engine.UI.Controls.ImageTextButton=function(strHtml,strImagePath,oPosition,oSize,strId,rcSpriteImageEnable,strCssClassName,rcSpriteImageDisable,ImageTextAlign){this.$50=' button';Kepler.Engine.UI.Controls.ImageTextButton.initializeBase(this,['table',oPosition,oSize,'button',strId,null]);var $0=!String.isNullOrEmpty(strHtml);var $1=!String.isNullOrEmpty(strImagePath);if(!ss.isValue(ImageTextAlign)){this.$4D=1;}else{this.$4D=ImageTextAlign;}this.$51($0,$1);this.setText(strHtml);this.setImage(strImagePath,rcSpriteImageEnable);this.$4C=strImagePath;this.$4E=rcSpriteImageEnable;this.$4F=rcSpriteImageDisable;if(ss.isValue(strCssClassName)&&!!strCssClassName){this.$50=strCssClassName;}this.get_element().className=this.$50+' '+this.$50+'_normal';}
Kepler.Engine.UI.Controls.ImageTextButton.prototype={$47:null,$48:null,$49:null,$4A:null,$4B:null,$4C:null,$4D:0,$4E:null,$4F:null,get_text:function(){return this.$4A.textContent;},get_html:function(){return this.$4A.innerHTML;},$51:function($p0,$p1){if(this.$4D===1){if(this.$47==null){this.$47=this.get_element().insertRow(-1);}if($p0){this.$4A=this.$47.insertCell(-1);Kepler.Engine.UI.Helper.HtmlCssHelper.setElementPadding(this.$4A,'0px');}if($p1){this.$49=this.$47.insertCell(0);this.$49.style.textAlign='center';this.$49.style.verticalAlign='middle';Kepler.Engine.UI.Helper.HtmlCssHelper.setElementPadding(this.$49,'0px');this.$4B=document.createElement('div');this.$4B.style.backgroundRepeat='no-repeat';this.$4B.style.display='inline-block';this.$49.appendChild(this.$4B);}}else if(!this.$4D){if($p1){if(this.$47==null){this.$47=this.get_element().insertRow(0);}this.$49=this.$47.insertCell(-1);this.$49.style.textAlign='center';this.$49.style.verticalAlign='middle';Kepler.Engine.UI.Helper.HtmlCssHelper.setElementPadding(this.$49,'0px');this.$4B=document.createElement('div');this.$4B.style.backgroundRepeat='no-repeat';this.$4B.style.display='inline-block';this.$49.appendChild(this.$4B);}if($p0){if(this.$48==null){this.$48=this.get_element().insertRow(1);}this.$4A=this.$48.insertCell(0);Kepler.Engine.UI.Helper.HtmlCssHelper.setElementPadding(this.$4A,'0px');}}},setHtml:function(strHtml){if(!String.isNullOrEmpty(strHtml)){if(this.$4A==null){this.$51(true,false);}this.$4A.innerHTML=strHtml;}},setText:function(strText){if(!String.isNullOrEmpty(strText)){this.setHtml(strText);}},setImage:function(strImagePath,rcSpriteImage){if(!String.isNullOrEmpty(strImagePath)&&!rcSpriteImage.get_isZero()){if(this.$49==null){this.$51(false,true);}this.$4B.style.backgroundPosition=-rcSpriteImage.get_left()+'px '+-rcSpriteImage.get_top()+'px';this.$4B.style.width=rcSpriteImage.get_width()+'px';this.$4B.style.height=rcSpriteImage.get_height()+'px';this.$4B.style.backgroundImage="url('"+strImagePath+"')";}},drawItem:function(eState){var $0='';switch(eState){case 1:$0=this.$50+'_hover';break;case 0:$0=this.$50+'_normal';if(this.$4F!=null){this.$4B.style.backgroundPosition=-this.$4E.get_left()+'px '+-this.$4E.get_top()+'px';}break;case 2:$0=this.$50+'_pressed';break;case 6:$0=this.$50+'_disabled';if(this.$4F!=null){this.$4B.style.backgroundPosition=-this.$4F.get_left()+'px '+-this.$4F.get_top()+'px';}break;default:throw new Error('Not Implemented Exception : '+'eState');}if($0.length>0){this.get_element().className=this.$50+' '+$0;}},changeCssClassName:function(strCssClassName){if(!String.isNullOrEmpty(strCssClassName)){this.$50=strCssClassName;this.changeState(1);this.changeState(0);}}}
Kepler.Engine.UI.Controls.PaneHyperLink=function(strHtml,oPosition,strCssClassName,strRef,strId,element,bFocusUnderLine){Kepler.Engine.UI.Controls.PaneHyperLink.initializeBase(this,[strHtml,oPosition,(ss.isValue(strCssClassName))?strCssClassName:'pane_hyperlink',null,strId,element]);this.$48=(ss.isValue(bFocusUnderLine))?bFocusUnderLine:false;this.set_focusable(true);}
Kepler.Engine.UI.Controls.PaneHyperLink.prototype={$48:false,onFocus:function(oFocusedPrevControl){Kepler.Engine.UI.Controls.PaneHyperLink.callBaseMethod(this, 'onFocus',[oFocusedPrevControl]);if(this.$48){this.get_elementStyle().textDecoration='underline';}},onLostFocus:function(oFocusedNewControl){Kepler.Engine.UI.Controls.PaneHyperLink.callBaseMethod(this, 'onLostFocus',[oFocusedNewControl]);if(this.$48){this.get_elementStyle().textDecoration='none';}},drawItem:function(eState){if(eState===1){this.get_elementStyle().textDecoration='underline';}else{this.get_elementStyle().textDecoration='none';}}}
Kepler.Engine.UI.Controls.RadioButton=function(strHtml,oPosition,oSize,strId){Kepler.Engine.UI.Controls.RadioButton.initializeBase(this,['div',oPosition,oSize,' radiobutton',strId,null]);this._elmImage=document.createElement('div');this._elmImage.className=this.$49+this.$49+'_normal';this.$4C=false;this._elmImgContainer=document.createElement('div');Kepler.Engine.UI.Helper.HtmlCssHelper.setElementDisplay(this._elmImgContainer,'table-cell');Kepler.Engine.UI.Helper.HtmlCssHelper.setElementVerticalAlign(this._elmImgContainer,'top');this._elmImgContainer.appendChild(this._elmImage);this.get_element().appendChild(this._elmImgContainer);if(!String.isNullOrEmpty(strHtml)){this._elmText=document.createElement('div');this._elmText.className=' radiobutton_text';this._elmText.innerHTML=strHtml;this.get_element().appendChild(this._elmText);}else{this._elmText=null;}this.set_alwaysSpeechOnSetFocus(true);}
Kepler.Engine.UI.Controls.RadioButton.prototype={$49:' radiobutton_image',_elmImgContainer:null,_elmImage:null,_elmText:null,$4A:null,$4B:false,get_state:function(){return this.$4B;},set_state:function(value){if(this.$4B!==value){this.$4B=value;this.invalidate();}return value;},get_html:function(){return this._elmText.innerHTML;},$4C:false,get_removeFocusRect:function(){return this.$4C;},set_removeFocusRect:function(value){this.$4C=value;return value;},get_ariaSpeech:function(){return this._strAriaSpeech;},set_ariaSpeech:function(value){Kepler.Engine.UI.Controls.RadioButton.callBaseMethod(this, 'set_ariaSpeech',[value]);return value;},get_ariaRole:function(){return 'radio';},set_ariaRole:function(value){Kepler.Engine.UI.Controls.RadioButton.callBaseMethod(this, 'set_ariaRole',[value]);return value;},drawItem:function(eState){var $0='';var $1=' radiobutton_text';switch(eState){case 0:$0='_normal';break;case 1:$0='_hover';break;case 2:$0='_pressed';break;case 6:$0='_disabled';$1=' radiobutton_text'+' text_disabled';break;default:throw new Error('Not Implemented Exception : '+'eState');}if(this.$4B){$0='_selected'+$0;}if($0.length>0){this._elmImage.className=this.$49+this.$49+$0;if(this._elmText!=null&&!!this._elmText.className.trim().compareTo($1.trim())){this._elmText.className=$1;}}},setImageClassName:function(strClassName){this.$49=strClassName;this._elmImage.className=this.$49+this.$49+'_normal';},setHtml:function(strRadioButton){if(this._elmText!=null){this._elmText.innerHTML=strRadioButton;this._strAriaSpeech=this._elmText.textContent;}},getFocusRect:function(){if(this.$4C){return null;}if(this.$4A!=null){return this.$4A;}else{if(this._elmText!=null){var $0=new Kepler.Framework.UI.Rect(0,0,0,0);$0=Kepler.Engine.UI.Helper.HtmlCssHelper.getComputedRect(this._elmText);$0.set_top($0.get_top()+this.get_position().get_y());$0.set_left(this._elmImgContainer.clientWidth+this.get_position().get_x()+2);return $0;}else{return Kepler.Engine.UI.Controls.RadioButton.callBaseMethod(this, 'getFocusRect');}}},setFocusRect:function(rcFocusRect){this.$4A=rcFocusRect;},updateAriaAttributes:function(){this._mapAriaAttributes={};var $0='';$0=(this.get_state())?'true':'false';this._mapAriaAttributes['aria-checked']=$0;},onKeyDown:function(keyboardEventArgs){Kepler.Engine.UI.Controls.RadioButton.callBaseMethod(this, 'onKeyDown',[keyboardEventArgs]);if(this.get_parent()!=null){this.get_parent().onKeyDown(keyboardEventArgs);}},onMouseDblClick:function(evt){Kepler.Engine.UI.Controls.RadioButton.callBaseMethod(this, 'onMouseDblClick',[evt]);if(this.get_parent()!=null){this.get_parent().onMouseDblClick(evt);}}}
Kepler.Engine.UI.Controls.ComboCtrlSplitButton=function(strHtml,oPosition,oSize,strClassName,strImgClass,szImage,strId){Kepler.Engine.UI.Controls.ComboCtrlSplitButton.initializeBase(this,['div',oPosition,oSize,null,strId,null]);if(ss.isValue(strHtml)){this._bText=true;this._strText=strHtml;}if(!String.isNullOrEmpty(strImgClass)){this.$48=true;this.$4B=strImgClass;this.$47=szImage;}this.set_sendClickMsgOnMouseDown(false);this.$49='';this._strClassName=((ss.isValue(strClassName)&&''!==strClassName)?' '+strClassName:' button');this.get_element().className=this._strClassName+' '+this._strClassName+'_normal';this.createContentPart();this.$4A=false;}
Kepler.Engine.UI.Controls.ComboCtrlSplitButton.prototype={get_height:function(){return Kepler.Engine.UI.Controls.ComboCtrlSplitButton.callBaseMethod(this, 'get_height');},set_height:function(value){Kepler.Engine.UI.Controls.ComboCtrlSplitButton.callBaseMethod(this, 'set_height',[value]);this.get_elementStyle().lineHeight=value+'px';return value;},get_html:function(){return this._strText;},_strText:null,$47:null,$48:false,_bText:false,_elmImage:null,_elmText:null,_elmArrowImage:null,get_eleArrowImage:function(){return this._elmArrowImage.parentNode.parentNode;},_iMenuNumber:0,_strClassName:null,_strSelectedIndex:null,$49:null,get_selectedMenuItemText:function(){return this.$49;},$4A:false,$4B:'',get_imageClss:function(){return this.$4B;},set_imageClss:function(value){this.$4B=value;if(this._elmImage!=null){this._elmImage.className=this.$4B;}return value;},get_tabFocusOnWholeCtrl:function(){return this.$4A;},set_tabFocusOnWholeCtrl:function(value){this.$4A=value;return value;},getSelectedIndex:function(){return this._strSelectedIndex;},drawVisualHint:function(oHintData){this.get_element().style['outline']='red solid 2px';this.get_element().style['outline-offset']='0px';this.get_element().style.zIndex=1;},eraseVisualHint:function(){this.get_element().style['outline']='';this.get_element().style['outline-offset']='';this.get_element().style.zIndex=0;},getIndexElement:function(iIndex){return this.get_element();},drawItem:function(eState){var $0='';switch(eState){case 4:case 1:$0='_hover';break;case 0:$0='_normal';break;case 2:$0='_pressed';break;case 6:if(!this.get_visible()){$0='_disabled'+' display_none';}else{$0='_disabled';}break;default:throw new Error('Not Implemented Exception : '+'eState');}if($0.length>0){this.get_element().className=this._strClassName+this._strClassName+$0;this._elmArrowImage.className='splitclass'+' combo_split_btn'+' combo_split_btn'+$0;}},setFocus:function(){return Kepler.Engine.UI.Controls.ComboCtrlSplitButton.callBaseMethod(this, 'setFocus');},getFocusRect:function(){var $0=Kepler.Engine.UI.Controls.ComboCtrlSplitButton.callBaseMethod(this, 'getFocusRect');$0.set_width($0.get_width()-22);return $0;},changeImagePosition:function(pt){this._elmImage.style.backgroundPosition='-'+pt.get_x()+'px  -'+pt.get_y()+'px';},showHideImage:function(bfalg){if(bfalg){this._elmImage.style.display='inline-block';}else{this._elmImage.style.display='none';}},createContentPart:function(){this.get_element().style.verticalAlign='middle';var $0=document.createElement('table');$0.style.width='100%';Kepler.Engine.UI.Helper.HtmlCssHelper.setStyleProperty($0,'border-spacing','0px');var $1=$0.insertRow(0);$1.style.height='100%';var $2=$1.insertCell(0);$2.style.height=this.get_height()+'px';$2.style.padding='0px';if(this.$48){this._elmImage=document.createElement('div');this._elmImage.className=this.$4B;this._elmImage.style.width=this.$47.get_width()+'px';this._elmImage.style.height=this.$47.get_height()+'px';this._elmImage.style.marginLeft='2px';$2.style.width='21px';this._elmImage.style.backgroundRepeat='no-repeat';this._elmImage.style.display='inline-block';$2.appendChild(this._elmImage);}this._elmText=$1.insertCell(1);if(this._bText){this._elmText.style.paddingLeft='2px';this._elmText.style.textAlign='left';this._elmText.innerHTML=this._strText;}var $3=$1.insertCell(2);$3.style.verticalAlign='middle';$3.className='splitclass';$3.style.width='14px';this._elmArrowImage=document.createElement('div');this._elmArrowImage.className=' combo_split_btn'+' combo_split_btn'+'_normal';this._elmArrowImage.style.height='10px';this._elmArrowImage.style.marginTop='7px';$3.appendChild(this._elmArrowImage);this.get_element().appendChild($0);},setText:function(strText){this._elmText.innerHTML=strText;},setHtml:function(strText){this._elmText.innerHTML=strText;},$4C:function($p0){if(this._elmImage!=null){this._elmImage.className=$p0.cells[0].firstChild.className;this._elmText.innerHTML=$p0.cells[1].firstChild.innerHTML;}else{this._elmText.innerHTML=$p0.cells[0].firstChild.innerHTML;}},onLButtonDown:function(mouseEventArgs){this.setCapture();this.changeState(2);},onLButtonUp:function(mouseEventArgs){var $0=this.getCapture();var $1=mouseEventArgs.get_target();this.releaseCapture();if($0===this){var $2=this._elmArrowImage.parentNode.parentNode;this.onEventProcessClick(mouseEventArgs);this.changeState(0);}},onKeyUp:function(keyboardEventArgs){Kepler.Engine.UI.Controls.ComboCtrlSplitButton.callBaseMethod(this, 'onKeyUp',[keyboardEventArgs]);if(keyboardEventArgs.get_key()===32){this.changeState(0);this.onEventProcessClick(null);this.invalidate();}},$4D:function($p0,$p1){this.releaseCapture();this.changeState(0);if(ss.isValue($p0)){var $0=($p0).get_target();if(this.get_element()===$0||this.get_element().contains($0)){return true;}}return false;},sendMsgToParent:function(wParam){return null;}}
Kepler.Engine.UI.Controls.StaticImage=function(strImagePath,oPosition,oSize,strId,rcSpriteImage){Kepler.Engine.UI.Controls.StaticImage.initializeBase(this,['span',oPosition,oSize,'button',strId,null]);if(!String.isNullOrEmpty(strImagePath)){this.get_element().style.backgroundPosition=-rcSpriteImage.get_left()+'px '+-rcSpriteImage.get_top()+'px';this.get_element().style.width=rcSpriteImage.get_width()+'px';this.get_element().style.height=rcSpriteImage.get_height()+'px';this.get_element().style.backgroundRepeat='no-repeat';this.get_element().style.borderWidth='0px';this.get_element().style.backgroundImage="url('"+strImagePath+"')";this.get_element().style.display='inline-block';}this.set_focusable(false);this.$47=null;this.$48=this.get_element().className.trim();}
Kepler.Engine.UI.Controls.StaticImage.prototype={$47:null,get_tooltipParams:function(){return this.$47;},set_tooltipParams:function(value){this.$47=value;return value;},$48:null,setImageCssClass:function(strImageCssClass,oSize){if(String.isNullOrEmpty(strImageCssClass)){this.get_element().className=this.$48;}else{if(oSize!=null){this.get_elementStyle().width=oSize.get_width()+'px';this.get_elementStyle().height=oSize.get_height()+'px';}this.get_elementStyle().borderWidth='0px';this.get_elementStyle().display='inline-block';this.get_element().className=this.$48+' '+strImageCssClass.trim();}},setImage:function(strImagePath,rcSpriteImage){if(!String.isNullOrEmpty(strImagePath)){this.get_element().style.backgroundPosition=-rcSpriteImage.get_left()+'px '+-rcSpriteImage.get_top()+'px';this.get_element().style.width=rcSpriteImage.get_width()+'px';this.get_element().style.height=rcSpriteImage.get_height()+'px';this.get_element().style.backgroundRepeat='no-repeat';this.get_element().style.borderWidth='0px';this.get_element().style.backgroundImage="url('"+strImagePath+"')";this.get_element().style.display='inline-block';}this.set_focusable(false);},drawItem:function(eState){},onMouseOver:function(mouseEventArgs){Kepler.Engine.UI.Controls.StaticImage.callBaseMethod(this, 'onMouseOver',[mouseEventArgs]);},onMouseOut:function(mouseEventArgs){Kepler.Engine.UI.Controls.StaticImage.callBaseMethod(this, 'onMouseOut',[mouseEventArgs]);}}
Kepler.Engine.UI.Controls.SvgButton=function(strSvgPath,oPosition,oSize,strCssClassName,strId,element){Kepler.Engine.UI.Controls.SvgButton.initializeBase(this,['div',oPosition,oSize,strCssClassName,strId,element]);this.$47=strSvgPath;this.get_elementStyle().backgroundRepeat='no-repeat';this.drawItem(0);}
Kepler.Engine.UI.Controls.SvgButton.prototype={$47:null,$48:null,$49:null,$4A:null,setSvgPath:function(eState,strSvgPath){switch(eState){case 0:this.$47=strSvgPath;break;case 1:this.$48=strSvgPath;break;case 2:this.$49=strSvgPath;break;case 6:this.$4A=strSvgPath;break;default:throw new Error('Not Implemented Exception : '+'eState');}},drawItem:function(eState){var $0=this.$47;switch(eState){case 0:break;case 1:if(this.$48!=null){$0=this.$48;}break;case 2:if(this.$49!=null){$0=this.$49;}break;case 6:if(this.$4A!=null){$0=this.$4A;}break;default:throw new Error('Not Implemented Exception : '+'eState');}if($0!=null){this.get_elementStyle().backgroundImage="url('"+$0+"')";}}}
Kepler.Engine.UI.Controls.ToggleButton=function(strHtml,oPosition,oSize,strId,strClassName,element,strImgPath,rcSpriteImgEnable,rcSpriteImgDisable){Kepler.Engine.UI.Controls.ToggleButton.initializeBase(this,['table',oPosition,oSize,null,strId,element]);this.get_elementStyle().borderCollapse='inherit';this.$48=this.get_element().insertRow(-1);this.$49=this.$48.insertCell(-1);this.$4A=rcSpriteImgEnable;this.$4B=rcSpriteImgDisable;if(ss.isValue(strHtml)){Kepler.Engine.UI.Helper.HtmlCssHelper.setElementPadding(this.$49,'0px');this.$49.innerHTML=strHtml;this.$49.style.textAlign='center';}else if(ss.isValue(strImgPath)&&ss.isValue(rcSpriteImgEnable)){this.$49.style.textAlign='center';this.$49.style.verticalAlign='middle';Kepler.Engine.UI.Helper.HtmlCssHelper.setElementPadding(this.$49,'0px');this.$4C=document.createElement('div');this.$4C.style.backgroundPosition=-rcSpriteImgEnable.get_left()+'px '+-rcSpriteImgEnable.get_top()+'px';this.$4C.style.width=rcSpriteImgEnable.get_width()+'px';this.$4C.style.height=rcSpriteImgEnable.get_height()+'px';this.$4C.style.backgroundRepeat='no-repeat';this.$4C.style.backgroundImage="url('"+strImgPath+"')";this.$4C.style.display='inline-block';this.$49.appendChild(this.$4C);}this.changeClassName(strClassName);}
Kepler.Engine.UI.Controls.ToggleButton.prototype={get_height:function(){return Kepler.Engine.UI.Controls.ToggleButton.callBaseMethod(this, 'get_height');},set_height:function(value){Kepler.Engine.UI.Controls.ToggleButton.callBaseMethod(this, 'set_height',[value]);this.get_elementStyle().lineHeight=value+'px';return value;},get_size:function(){return Kepler.Engine.UI.Controls.ToggleButton.callBaseMethod(this, 'get_size');},set_size:function(value){Kepler.Engine.UI.Controls.ToggleButton.callBaseMethod(this, 'set_size',[value]);this.get_elementStyle().lineHeight=value.get_height()+'px';return value;},_eState:0,get_state:function(){return this._eState;},set_state:function(value){if(this._eState!==value&&value!==2){this._eState=value;this.invalidate();}return value;},$47:null,$48:null,$49:null,$4A:null,$4B:null,$4C:null,get_ariaSpeech:function(){var $0='';if(this.get_setFocusUsingTab()){$0=(this._eState===1)?'checked ':'not checked ';}else{$0=(this._eState===1)?'not checked ':'checked ';}if(!this.get_ariaSpeechFromOnFocus()){return $0;}return (this._strAriaSpeech+' checkbox '+$0);},set_ariaSpeech:function(value){Kepler.Engine.UI.Controls.ToggleButton.callBaseMethod(this, 'set_ariaSpeech',[value]);return value;},changeClassName:function(strClassName){this.$47=((ss.isValue(strClassName)&&''!==strClassName)?' '+strClassName:' button');this.get_element().className=this.$47+' '+this.$47+'_normal';},drawItem:function(eState){var $0='';switch(eState){case 1:$0='_hover';break;case 0:$0='_normal';if(this.$4B!=null){this.$4C.style.backgroundPosition=-this.$4A.get_left()+'px '+-this.$4A.get_top()+'px';}break;case 2:$0='_pressed';break;case 6:if(!this.get_visible()){$0='_disabled'+' display_none';}else{if(this.$4B!=null){this.$4C.style.backgroundPosition=-this.$4B.get_left()+'px '+-this.$4B.get_top()+'px';}$0='_disabled';}break;default:throw new Error('Not Implemented Exception : '+'eState');}switch(this._eState){case 1:$0='_pressed';break;default:break;}if($0.length>0){this.get_element().className=this.$47+this.$47+$0;}},onEventProcessClick:function(mouseEventArgs){this._eState=(!this._eState)?1:0;Kepler.Engine.UI.Controls.ToggleButton.callBaseMethod(this, 'onEventProcessClick',[mouseEventArgs]);}}
Kepler.Engine.UI.Controls.ColorSelectorCtrl=function(oPosition,oCtrlSize,strId){this.$42=[];this.$43=[];this.$44=[];this.$45=[];Kepler.Engine.UI.Controls.ColorSelectorCtrl.initializeBase(this,['div','color_selector',strId]);if(ss.isValue(oPosition)){this.set_position(oPosition);}if(ss.isValue(oCtrlSize)){this.set_size(oCtrlSize);}this.$47=new Kepler.Engine.UI.Controls.Framework$9('No Color',new Kepler.Framework.UI.Size(oCtrlSize.get_width()-6,19),new Kepler.Framework.UI.Point(oPosition.get_x()+2,oPosition.get_y()));this.add(this.$47);this.$53();this.$54();this.$48=10;this.$4E=-1;this.$49=new Kepler.Framework.UI.Size(0,0);this.$4A='colorgrid-row';this.$4B='colorgrid-cell';this.$4C='colorgrid-item';this.$4D='colorgrid-item-fill';this.$55();this.set_alwaysSpeechOnSetFocus(true);}
Kepler.Engine.UI.Controls.ColorSelectorCtrl.prototype={$46:null,$47:null,$48:0,$49:null,$4A:null,$4B:null,$4C:null,$4D:null,$4E:0,$4F:0,$50:0,get_ariaSpeech:function(){var $0=this.getSelectedColorName();if(String.isNullOrEmpty($0)){return '';}return Kepler.Engine.UI.Controls.ColorSelectorCtrl.callBaseMethod(this, 'get_ariaSpeech')+' '+$0+' button';},set_ariaSpeech:function(value){Kepler.Engine.UI.Controls.ColorSelectorCtrl.callBaseMethod(this, 'set_ariaSpeech',[value]);return value;},onLoad:function(){Kepler.Engine.UI.Controls.ColorSelectorCtrl.callBaseMethod(this, 'onLoad');this.$51();this.$52();},$51:function(){this.addEvents(2|8|16|32);this.addEvents(256|1024);},$52:function(){this.attachMessage('SelectionChanged',ss.Delegate.create(this,this.$60));},$53:function(){var $0=['255,255,255','0,0,0','231,230,230','68,84,106','91,155,213','237,125,49','165,165,165','255,192,0','68,144,196','112,173,71','242,242,242','127,127,127','207,207,207','217,220,225','222,235,246','251,229,213','237,237,237','255,242,204','217,232,243','226,238,218','216,216,216','89,89,89','173,172,172','180,186,195','189,215,238','247,203,172','219,219,219','255,229,153','180,210,231','197,222,181','191,191,191','63,63,63','115,115,115','142,152,165','156,195,229','244,177,131','201,201,201','255,217,102','142,188,219','169,205,144','165,165,165','38,38,38','57,57,57','51,63,79','68,116,159','177,93,36','123,123,123','191,144,0','51,108,147','84,129,53','127,127,127','12,12,12','23,22,22','34,42,53','45,77,106','118,62,24','82,82,82','127,96,0','34,72,98','56,86,35'];var $1=['White, Background 1','Black, Text 1','Gray-25%, Background 2','Blue-Gray, Text 2','Blue, Accent 1','Orange, Accent 2','Gray-50%, Accent 3','Gold, Accent 4','Blue, Accent 5','Green, Accent 6','White, Background 1, Darker 5%','Black, Text 1, Lighter 50%','Gray-25%, Background 2, Darker 10%','Blue-Gray, Text 2, Lighter 80%','Blue, Accent 1, Lighter 80%','Orange, Accent 2, Lighter 80%','Gray-50%, Accent 3, Lighter 80%','Gold, Accent 4, Lighter 80%','Blue, Accent 5, Lighter 80%','Green, Accent 6, Lighter 80%','White, Background 1, Darker 15%','Black, Text 1, Lighter 35%','Gray-25%, Background 2, Darker 25%','Blue-Gray, Text 2, Lighter 60%','Blue, Accent 1, Lighter 60%','Orange, Accent 2, Lighter 60%','Gray-50%, Accent 3, Lighter 60%','Gold, Accent 4, Lighter 60%','Blue, Accent 5, Lighter 60%','Green, Accent 6, Lighter 60%','White, Background 1, Darker 25%','Black, Text 1, Lighter 25%','Gray-25%, Background 2, Darker 50%','Blue-Gray, Text 2, Lighter 40%','Blue, Accent 1, Lighter 40%','Orange, Accent 2, Lighter 40%','Gray-50%, Accent 3, Lighter 40%','Gold, Accent 4, Lighter 40%','Blue, Accent 5, Lighter 40%','Green, Accent 6, Lighter 40%','White, Background 1, Darker 35%','Black, Text 1, Lighter 15%','Gray-25%, Background 2, Darker 75%','Blue-Gray, Text 2, Darker 25%','Blue, Accent 1, Darker 25%','Orange, Accent 2, Darker 25%','Gray-50%, Accent 3, Darker 25%','Gold, Accent 4, Darker 25%','Blue, Accent 5, Darker 25%','Green, Accent 6, Darker 25%','White, Background 1, Darker 50%','Black, Text 1, Lighter 5%','Gray-25%, Background 2, Darker 90%','Blue-Gray, Text 2, Darker 50%','Blue, Accent 1, Darker 50%','Orange, Accent 2, Darker 50%','Gray-50%, Accent 3, Darker 50%','Gold, Accent 4, Darker 50%','Blue, Accent 5, Darker 50%','Green, Accent 6, Darker 50%'];for(var $2=0;$2<60;$2++){var $3=$0[$2].split(',');this.$42.add(new Kepler.Framework.UI.Color(parseInt($3[0]),parseInt($3[1]),parseInt($3[2])));this.$44.add($1[$2]);}},$54:function(){var $0=['192,0,0','255,0,0','255,192,0','255,255,0','146,208,80','0,176,80','0,176,240','0,112,192','0,32,96','112,48,160'];var $1=['Dark Red','Red','Orange','Yellow','Light Green','Green','Light Blue','Blue','Dark Blue','Purple'];for(var $2=0;$2<10;$2++){var $3=$0[$2].split(',');this.$43.add(new Kepler.Framework.UI.Color(parseInt($3[0]),parseInt($3[1]),parseInt($3[2])));this.$45.add($1[$2]);}},$55:function(){this.$46=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('table',null,'relative',null,null,null,null,'color_selector_table',null);Kepler.Engine.UI.Helper.HtmlCssHelper.addChild(this.get_element(),this.$46,null);this.$56(this.$46,0);this.$58();for(var $0=1;$0<6;$0++){this.$56(this.$46,$0);}this.$58();this.$56(this.$46,6);},$56:function($p0,$p1){var $0;if($p1===6){$0=this.$43;}else{$0=this.$42;}var $1=($p1*this.$48);var $2=$p1*this.$48;var $3=$2+this.$48-1;if($p1===6){$2=0;$3=$0.length;}$2=($2>($0.length-1))?($0.length-1):$2;$3=($3>($0.length-1))?($0.length-1):$3;var $4=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('tr',this.$4A,'relative',null,null,null,null,'gridTableRow',null);Kepler.Engine.UI.Helper.HtmlCssHelper.addChild($p0,$4,null);for(;$2<=$3;$2++){var $5=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('td',this.$4B,'relative',null,null,null,null,'gridTableCell',null);Kepler.Engine.UI.Helper.HtmlCssHelper.addChild($4,$5,null);var $6=String.format('RGB({0},{1},{2})',$0[$2].iRed,$0[$2].iGreen,$0[$2].iBlue);var $7=this.$57($1);$7.childNodes[0].style.backgroundColor=$6;$7.childNodes[0].style.border='1px solid #A5A5A5';Kepler.Engine.UI.Helper.HtmlCssHelper.addChild($5,$7,null);$1++;}},$57:function($p0){var $0={};$0['index']=$p0.toString();var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div',this.$4D,'relative',0,0,10,10,'color_selector_color_div',null);var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div',this.$4C,'relative',null,null,16,14,'color_selector_div',$0);$1.style.margin='1px 2px 1px 2px';Kepler.Engine.UI.Helper.HtmlCssHelper.addChild($2,$1,null);return $2;},$58:function(){var $0=document.createElement('div');$0.style.height='0px';$0.style.width='100%';$0.style.borderBottom='1px solid #E2E4E7';$0.style.top='4px';var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('td',null,'relative',null,null,null,null,'gridTableCell',null);$1.colSpan=10;var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('tr',this.$4A,'relative',null,null,null,11,'gridTableRow',null);Kepler.Engine.UI.Helper.HtmlCssHelper.addChild($2,$1,null);Kepler.Engine.UI.Helper.HtmlCssHelper.addChild($1,$0,null);Kepler.Engine.UI.Helper.HtmlCssHelper.addChild(this.$46,$2,null);},drawItem:function(element,eState){var $0;if(ss.isValue(element)){switch(eState){case 0:if(this.$4F!==-1&&this.$4F===this.$5C(element)){$0='color_selector_div'+' '+'color_selector_div'+'_selected';}else{$0='color_selector_div';}Kepler.Engine.UI.Helper.HtmlCssHelper.setElementClassName(element,$0);break;case 1:if(this.$4F!==-1&&this.$4F===this.$5C(element)){$0='color_selector_div'+' '+'color_selector_div'+'_pressed';}else{$0='color_selector_div'+' '+'color_selector_div'+'_hover';}Kepler.Engine.UI.Helper.HtmlCssHelper.setElementClassName(element,$0);break;case 4:break;case 2:$0='color_selector_div'+' '+'color_selector_div'+'_pressed';Kepler.Engine.UI.Helper.HtmlCssHelper.setElementClassName(element,$0);break;default:throw new Error('Not Implemented Exception : '+'eState');}}},getSelectedColor:function(){if(this.$4F!==-1){if(this.$4F<this.$42.length){return this.$42[this.$4F];}else{return this.$43[this.$4F-60];}}return null;},getSelectedIndex:function(){if(this.$47.get_$3E()){return 0;}else if(this.$4F===-1){return -1;}else{return this.$4F+1;}},setSelectedIndex:function(iIndex){if(this.getSelectedIndex()!==iIndex){if(iIndex!==-1){this.$5B();if(!iIndex){this.$47.set_$3E(true);}else{if(this.$47.get_$3E()){this.$47.set_$3E(false);}this.$4F=iIndex-1;this.$50=iIndex-1;this.drawItem(this.$59(iIndex-1).firstChild,0);}}else{this.$5B();this.$47.set_$3E(false);this.$4F=-1;this.$50=-1;}this.$5F();}},$59:function($p0){for(var $0=0;$0<=this.$46.rows.length;$0++){var $1=(this.$46.rows[$0]).cells;var $2=-1;for(var $3=0;$3<$1.length;$3++){var $4=$1[$3];$2=this.$5C($4.firstChild);if($2===$p0){return $4;}}}return null;},$5A:function($p0,$p1){if(this.$4F!==-1){var $0=this.$59(this.$4F);this.$4F=-1;this.$50=-1;this.drawItem($0.firstChild,0);}this.$47.set_$3E(false);this.$4F=$p1;this.$50=$p1;this.drawItem($p0.firstChild,0);this.$5F();},$5B:function(){var $0=this.$59(this.$4F);this.$4F=-1;this.$50=-1;this.drawItem($0.firstChild,0);},$5C:function($p0){if($p0.attributes.getNamedItem('index')!=null){return parseInt($p0.attributes.getNamedItem('index').value);}else{return -1;}},getSelectedColorName:function(){var $0=(this.$50!==-1)?this.$50:this.$4F;if($0!==-1){if($0<this.$42.length){return this.$44[$0];}else{return this.$45[$0-60];}}return null;},getFocusRect:function(){return null;},setColor:function(sClrRGB){var $0=Kepler.Framework.UI.Color.parse(sClrRGB);var $1=-1;for(var $2=0;$2<70;$2++){if($2<60){if(this.$42[$2].equals($0)){$1=$2;break;}}else if(this.$43[$2-60].equals($0)){$1=$2;break;}}if($1>-1){$1+=1;}this.setSelectedIndex($1);return $1;},$5D:function($p0){if(this.$4E!==-1){var $0=this.$59(this.$4E);if(ss.isValue($0)){this.drawItem($0.firstChild,0);this.$4E=-1;}}else{this.$47.$40(0);}if(ss.isValue($p0)){var $1=this.$5C($p0.firstChild);this.$4E=$1;this.$50=$1;this.drawItem($p0.firstChild,1);}},$5E:function($p0){var $0=null;if($p0!==-1){$0=this.$59($p0);}this.$5D($0);if($p0!==-1){this.$50=$p0;this.setFocus();}},onFocus:function(oFocusedPrevControl){Kepler.Engine.UI.Controls.ColorSelectorCtrl.callBaseMethod(this, 'onFocus',[oFocusedPrevControl]);this.$47.$40(1);},onLostFocus:function(oFocusedNewControl){Kepler.Engine.UI.Controls.ColorSelectorCtrl.callBaseMethod(this, 'onLostFocus',[oFocusedNewControl]);this.$5E(-1);this.$47.$40(0);},onLButtonDown:function(mouseEventArgs){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getParentElementById(mouseEventArgs.get_target(),this.$4B);if(ss.isValue($0)){var $1=this.$5C($0.firstChild);if($1!==-1){this.$50=$1;}this.drawItem($0.firstChild,2);this.setCapture();}Kepler.Engine.UI.Controls.ColorSelectorCtrl.callBaseMethod(this, 'onLButtonDown',[mouseEventArgs]);},onLButtonUp:function(mouseEventArgs){Kepler.Engine.UI.Controls.ColorSelectorCtrl.callBaseMethod(this, 'onLButtonUp',[mouseEventArgs]);var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getParentElementById(mouseEventArgs.get_target(),this.$4B);if(ss.isValue($0)){var $1=this.$5C($0.firstChild);if($1!==-1){this.drawItem($0.firstChild,2);this.$5A($0.firstChild,$1);}}this.releaseCapture();},onMouseOver:function(mouseEventArgs){Kepler.Engine.UI.Controls.ColorSelectorCtrl.callBaseMethod(this, 'onMouseMove',[mouseEventArgs]);var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getParentElementById(mouseEventArgs.get_target(),this.$4B);this.$5D($0);this.setFocus();},onMouseOut:function(evt){Kepler.Engine.UI.Controls.ColorSelectorCtrl.callBaseMethod(this, 'onMouseOut',[evt]);this.$5E(-1);},$5F:function(){var $0=this.getSelectedIndex();var $1=new Kepler.Framework.UI.Controls.OnCommandStruct($0,2);var $2=this.sendMessageToParent('msg_command',$1,this);if(!$2){this.sendMessageToParent('SelectionChanged',$0,this);}},onKeyDown:function(KeyEventArgs){var $0=0;var $1=9;var $2=10;var $3=59;var $4=60;var $5=69;var $6=this.$4E;switch(KeyEventArgs.get_key()){case 38:if($6===-1){$6=$4;}else if($6>$0&&$6<=$1||($6>$4&&$6<=$5)){$6--;}else if($6===$2){$6=$0;}else if($6===$0){this.$47.$40(1);$6=-1;}else{if($6/10>=2){$6-=10;}else{$6%=10;$6--;$6+=50;}}break;case 40:if($6===-1){$6=$0;}else if($6>=$0&&$6<$1||($6>=$4&&$6<$5)){$6++;}else if($6===$3){$6=$5;}else if($6===$5){this.$47.$40(1);$6=-1;}else{if($6/10<5){$6+=10;}else{$6%=10;$6++;$6+=10;}}break;case 39:if($6===-1){$6=$0;}else if(this.$4E===$5){this.$47.$40(1);$6=-1;}else{$6++;}break;case 37:if($6===-1){$6=$5;}else if(this.$4E===$0){this.$47.$40(1);$6=-1;}else{$6--;}break;case 36:if($6>=$0&&$6<=$1){$6=$0;}else if($6>=$4&&$6<=$5){$6=$4;}else if($6!==-1){$6=$2;}break;case 35:if($6>=$0&&$6<=$1){$6=$1;}else if($6>=$4&&$6<=$5){$6=$5;}else if($6!==-1){$6=$3;}break;case 13:case 32:this.setSelectedIndex($6+1);break;case 9:Kepler.Engine.UI.Controls.ColorSelectorCtrl.callBaseMethod(this, 'onKeyDown',[KeyEventArgs]);$6=-1;break;default:Kepler.Engine.UI.Controls.ColorSelectorCtrl.callBaseMethod(this, 'onKeyDown',[KeyEventArgs]);break;}if($6!==this.$4E){this.$5E($6);}},$60:function($p0,$p1){var $0=$p1;if($0===this.$47){this.$5B();this.$5F();}return null;}}
Kepler.Engine.UI.Controls.Framework$9=function(strText,oCtrlSize,oPosition,strId){Kepler.Engine.UI.Controls.Framework$9.initializeBase(this,['div','color_selector_text_div',strId]);if(ss.isValue(oCtrlSize)){this.set_size(oCtrlSize);}if(ss.isValue(oPosition)){this.set_position(oPosition);}this.$3C=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div',null,'relative',0,0,null,oCtrlSize.get_height()-4,'color_selector_text',null);this.$3C.style.margin='1px 2px 1px 2px';Kepler.Engine.UI.Helper.HtmlCssHelper.setElementInnerHtml(this.$3C,strText);this.get_element().appendChild(this.$3C);this.set_alwaysSpeechOnSetFocus(true);}
Kepler.Engine.UI.Controls.Framework$9.prototype={$3C:null,$3D:false,get_$3E:function(){return this.$3D;},set_$3E:function($p0){this.$3D=$p0;this.$40(0);return $p0;},get_ariaSpeech:function(){return this.get_text()+' button ';},set_ariaSpeech:function($p0){Kepler.Engine.UI.Controls.Framework$9.callBaseMethod(this, 'set_ariaSpeech',[$p0]);return $p0;},onLoad:function(){Kepler.Engine.UI.Controls.Framework$9.callBaseMethod(this, 'onLoad');this.$3F();},$3F:function(){this.addEvents(2);this.addEvents(8);this.addEvents(32|16);this.addEvents(256|1024);},onFocus:function($p0){Kepler.Engine.UI.Controls.Framework$9.callBaseMethod(this, 'onFocus',[$p0]);if(this.get_parent()!=null){this.get_parent().setFocus();}},$40:function($p0){var $0;switch($p0){case 0:if(this.get_$3E()){$0='color_selector_div'+' '+'color_selector_div'+'_selected';}else{$0='color_selector_div';}Kepler.Engine.UI.Helper.HtmlCssHelper.setElementClassName(this.get_element(),$0);break;case 1:if(this.get_$3E()){$0='color_selector_div'+' '+'color_selector_div'+'_pressed';}else{$0='color_selector_div'+' '+'color_selector_div'+'_hover';}Kepler.Engine.UI.Helper.HtmlCssHelper.setElementClassName(this.get_element(),$0);break;case 4:break;case 2:$0='color_selector_div'+' '+'color_selector_div'+'_pressed';Kepler.Engine.UI.Helper.HtmlCssHelper.setElementClassName(this.get_element(),$0);break;default:throw new Error('Not Implemented Exception : '+'eState');}},$41:function(){if(this.$3D){this.set_$3E(false);}this.$40(0);},onLButtonDown:function($p0){Kepler.Engine.UI.Controls.Framework$9.callBaseMethod(this, 'onLButtonDown',[$p0]);this.$40(2);},onLButtonUp:function($p0){Kepler.Engine.UI.Controls.Framework$9.callBaseMethod(this, 'onLButtonUp',[$p0]);this.set_$3E(true);var $0=new Kepler.Framework.UI.Controls.OnCommandStruct(this.get_$3E(),2);var $1=this.sendMessageToParent('msg_command',$0,this);if(!$1){this.sendMessageToParent('SelectionChanged',this.get_$3E(),this);}},onMouseOut:function($p0){Kepler.Engine.UI.Controls.Framework$9.callBaseMethod(this, 'onMouseOut',[$p0]);this.$40(0);},onMouseOver:function($p0){Kepler.Engine.UI.Controls.Framework$9.callBaseMethod(this, 'onMouseOver',[$p0]);this.$40(1);}}
Kepler.Engine.UI.Controls.ComboCtrl=function(ptPosition,oCtrlSize,oDropDownListCtrl,ptPadding,eMode,strId){this.csS_LISTCTRL_SEL_ROW=Kepler.Engine.UI.Controls.ListCtrl.csS_ROW+'_selected';this.$41=' ComboCtrl'+'_focused';Kepler.Engine.UI.Controls.ComboCtrl.initializeBase(this,['div','ComboCtrl_style content_align_center'+' position_absolute',strId,null]);Kepler.Engine.UI.Helper.HtmlCssHelper.addElementAttribute(this.get_element(),'name',(Kepler.Engine.UI.Controls.ComboCtrl).get_name());if(ss.isValue(ptPosition)){this.set_position(ptPosition);}oCtrlSize.set_width(oCtrlSize.get_width()-2);oCtrlSize.set_height(oCtrlSize.get_height()-2);this.set_size(oCtrlSize);if(ss.isNullOrUndefined(oDropDownListCtrl)){oDropDownListCtrl=this.onCreateDropDownList();}this._oDropDownListCtrl=oDropDownListCtrl;this.csS_LISTCTRL_SEL_ROW=oDropDownListCtrl.get_cssClassRow()+'_selected';if(ss.isValue(eMode)){this._eMode=eMode;}else{this._eMode=1;}this._ptPadding=ptPadding;this.createContentPart(ptPadding);this.createButtonPart();this.set_focusChildCtrlsOnTab(false);Kepler.Engine.UI.Controls.ComboCtrl._bShowDropDownOnArrowKey=true;Kepler.Engine.UI.Controls.ComboCtrl.$48=false;this.$43=false;}
Kepler.Engine.UI.Controls.ComboCtrl.get_dropDownListContainer=function(){return Kepler.Engine.UI.Controls.ComboCtrl.$47;}
Kepler.Engine.UI.Controls.ComboCtrl.set_dropDownListContainer=function(value){Kepler.Engine.UI.Controls.ComboCtrl.$47=value;return value;}
Kepler.Engine.UI.Controls.ComboCtrl.get_isDropDownListShown=function(){return Kepler.Engine.UI.Controls.ComboCtrl.$48;}
Kepler.Engine.UI.Controls.ComboCtrl.set_isDropDownListShown=function(value){Kepler.Engine.UI.Controls.ComboCtrl.$48=value;return value;}
Kepler.Engine.UI.Controls.ComboCtrl.prototype={$42:0,_oDropDownListCtrl:null,get_attachedList:function(){return this._oDropDownListCtrl;},_btnDropDown:null,get_dropDownButton:function(){return this._btnDropDown;},$43:false,get_comboListHidden:function(){return this.$43;},set_comboListHidden:function(value){this.$43=value;return value;},get_buttonElement:function(){return this._btnDropDown.get_element();},_tableContent:null,_eMode:0,_ptPadding:null,get_enable:function(){return Kepler.Engine.UI.Controls.ComboCtrl.callBaseMethod(this, 'get_enable');},set_enable:function(value){Kepler.Engine.UI.Controls.ComboCtrl.callBaseMethod(this, 'set_enable',[value]);this.onEnableChange(value);return value;},get_mode:function(){return this._eMode;},set_mode:function(value){if(this._eMode!==value){this._eMode=value;this.createContentPart(this._ptPadding);this.setSelectionFromList();}return value;},_oTextBox:null,get_textBoxControl:function(){return this._oTextBox;},$44:false,$45:false,get_autoComplete:function(){return this.$45;},set_autoComplete:function(value){this.$45=value;return value;},$46:false,get_isPaneCtrl:function(){return this.$46;},set_isPaneCtrl:function(value){this.$46=value;return value;},get_text:function(){if(!this._eMode){if(this._oTextBox!=null){return this.get_textBoxControl().get_text();}}else if(this._eMode===1){return this.getSelectedText();}return '';},get_ariaSpeech:function(){return (Kepler.Engine.UI.Controls.ComboCtrl.callBaseMethod(this, 'get_ariaSpeech')+' '+this.get_text());},set_ariaSpeech:function(value){Kepler.Engine.UI.Controls.ComboCtrl.callBaseMethod(this, 'set_ariaSpeech',[value]);return value;},get_ariaRole:function(){return 'combobox';},set_ariaRole:function(value){Kepler.Engine.UI.Controls.ComboCtrl.callBaseMethod(this, 'set_ariaRole',[value]);return value;},$49:0,onCreateDropDownList:function(){return null;},createContentPart:function(ptPadding){var $0=ptPadding.get_x();var $1=ptPadding.get_y();var $2=(this.get_size().get_width()-17);var $3=this.get_size().get_height();switch(this._eMode){case 0:if(this.get_element().contains(this._tableContent)){this.get_element().removeChild(this._tableContent);}var $4=this.getSelectedText();this.createEditControl($4);this._oTextBox.set_paddingLeft(this._oTextBox.set_paddingRight(this._ptPadding.get_x()));this._oTextBox.set_paddingTop(this._oTextBox.set_paddingBottom(this._ptPadding.get_y()));this._oTextBox.set_size(new Kepler.Framework.UI.Size($2,$3));this._oTextBox.setHorizontalAlignment(0);this._oTextBox.setBorder(0);this._oTextBox.setSelectAllOnFocus(true);this._oTextBox.set_neverSpeechAriaText(true);var $5=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div',null,null,0,0,$2,$3,' position_absolute',null);Kepler.Engine.UI.Helper.HtmlCssHelper.setElementOverflow($5,'hidden');this.add(this._oTextBox,$5);this.get_element().appendChild($5);this._oDropDownListCtrl.set_focusable(false);if(Type.getInstanceType(this._oDropDownListCtrl)===Kepler.Engine.UI.Controls.DropDownListCtrl){(this._oDropDownListCtrl).set_explicitMsgToParent(true);}break;case 1:var $6='table_style content_align_center';if(this.containsControl(this._oTextBox)){this.remove(this._oTextBox);}if(Kepler.Framework.Core.Browser.BrowserCapabilities.get_name()===3||Kepler.Framework.Core.Browser.BrowserCapabilities.get_name()===1){$6='content_align_center';$1-=2;}this._tableContent=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('table',null,'absolute',$0,$1,$2-(2*$0),this.get_size().get_height()-8,$6,null);this.get_element().appendChild(this._tableContent);this._oDropDownListCtrl.set_focusable(true);break;}},createEditControl:function(sContents){this._oTextBox=new Kepler.Engine.UI.Controls.TextBox(sContents);},createButtonPart:function(){this._btnDropDown=new Kepler.Engine.UI.Controls.CSSToggleButton(null,new Kepler.Framework.UI.Point(this.get_width()-17,0),new Kepler.Framework.UI.Size(17,this.get_size().get_height()),null,' combo_button',null,' combo_image');this.add(this._btnDropDown);this._btnDropDown.set_sendClickMsgOnMouseDown(true);this._btnDropDown.set_focusable(false);},getPopUpPoint:function(){var $0=this._oDropDownListCtrl.get_size();$0.set_height($0.get_height()+4);var $1=this.get_clientRectWithRespecttoDesktop();var $2=new Kepler.Engine.UI.Helper.LaunchParams(null,$1,'',$0);$2.setPositioningOrder(7);var $3=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientPosition(Kepler.Engine.UI.Controls.ComboCtrl.$47.get_element());var $4=new Kepler.Framework.UI.Rect($3.get_x(),$3.get_y(),0,0);$4.set_top(Kepler.Engine.UI.Controls.ComboCtrl.$47.get_element().clientTop);$4.set_right(0);$4.set_bottom(0);$2.oDesktopDocMargin=$4;if((Kepler.Engine.UI.Dialog).isInstanceOfType(this.get_parentWnd())){$2.rcDoc=(this.get_parentWnd()).getDesktopViewRect();}var $5=Kepler.Engine.UI.Helper.CalcHelper.getSuggestedLaunchRect($2);this.$49=this._oDropDownListCtrl.get_height();if($5.get_height()<this._oDropDownListCtrl.get_height()){this._oDropDownListCtrl.set_height($5.get_height());}return $5.get_topLeft();},showList:function(){if(Kepler.Engine.UI.Controls.ComboCtrl.$47==null){throw new Error('Invalid State Exception : '+' _oDropDownListContainer must be set before dropdown menu launching.');}if(ss.isValue(this._oDropDownListCtrl)){if(this.get_isPaneCtrl()){this._oDropDownListCtrl.set_zIndex(6920);}else{this._oDropDownListCtrl.set_zIndex(6001);}this._oDropDownListCtrl.set_position(this.getPopUpPoint());if(!this.containsControl(this._oDropDownListCtrl)){if(Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){Kepler.Engine.UI.Controls.ComboCtrl.callBaseMethod(this, 'setFocus');}this.add(this._oDropDownListCtrl,Kepler.Engine.UI.Controls.ComboCtrl.$47.get_element());this._oDropDownListCtrl.show(true,true);if(!ss.isNullOrUndefined(this._btnDropDown)&&this._btnDropDown.get_state()!==1){this._btnDropDown.set_state(1);}Kepler.Engine.UI.Controls.ComboCtrl.$48=true;}}},onLoad:function(){Kepler.Engine.UI.Controls.ComboCtrl.callBaseMethod(this, 'onLoad');this.$4A();this.$4B();},$4A:function(){var $0=2|8|16|128|32|4|256|512|1024|4096|16384;this.addEvents($0);if(this._oTextBox!=null){this._oTextBox.add_lostFocus(ss.Delegate.create(this,this.$4D));}},$4B:function(){this.attachMessage('SelectionChanged',ss.Delegate.create(this,this.onMsgSelectionChanged));this.attachMessage('TextChanged',ss.Delegate.create(this,this.$50));this.attachMessage('hide_child_ctrl',ss.Delegate.create(this,this.onMsgHideCtrl));this.attachMessage('ButtonClicked',ss.Delegate.create(this,this.onMsgButtonClicked));},setComboContent:function(rowSelected){if(this._tableContent.rows.length>=1){this._tableContent.deleteRow(0);}if(ss.isValue(rowSelected)){this._tableContent.appendChild(rowSelected);}},setEditComboContent:function(strRowText,bSenMsgToParent){if(ss.isValue(strRowText)){if(ss.isValue(bSenMsgToParent)){this._oTextBox.setText(strRowText,bSenMsgToParent);}else{this._oTextBox.setText(strRowText);}}if(ss.isNullOrUndefined(bSenMsgToParent)||(ss.isValue(bSenMsgToParent)&&bSenMsgToParent)){var $0=new Kepler.Framework.UI.Controls.OnCommandStruct(strRowText,4);var $1=this.sendMessageToParent('msg_command',$0,this);if(!$1){this.sendMessageToParent('TextChanged',strRowText,this);}}},setEditSelection:function(iStartIndex,iEndIndex){if(!this.get_mode()&&ss.isValue(this._oTextBox)){this._oTextBox.setSelection(iStartIndex,iEndIndex);}},setSelectionFromList:function(){if(ss.isValue(this._oDropDownListCtrl)){switch(this._eMode){case 0:this.setEditComboContent(this.getSelectedText());break;case 1:var $0=(this._oDropDownListCtrl).getSelectedRowElement();this.setComboContent($0);break;}}},setText:function(strText){if(!this._eMode){this.setEditComboContent(strText);}},setTopIndex:function(iIndex){if(ss.isValue(this._oDropDownListCtrl)&&iIndex!==-1){this._oDropDownListCtrl.setTopIndex(iIndex);}},$4C:function(){var $0=this._oTextBox.get_text();if(ss.isValue($0)&&!!$0&&!this._oDropDownListCtrl.get_isHintOnList()&&this.containsControl(this._oDropDownListCtrl)){var $1;$1=this._oDropDownListCtrl.getIndexFromString(this._oTextBox.get_text(),true);if($1!==-1){this._oDropDownListCtrl.setScrollToIndex($1);}else{$1=-1;for(var $2=0;$2<this._oDropDownListCtrl.get_count();$2++){$0=$0.toUpperCase();if(this._oDropDownListCtrl.getStringFromIndex($2).toUpperCase().startsWith($0)){$1=$2;break;}}if($1===-1){this._oDropDownListCtrl.setScrollToIndex($1);}else{if(this._oDropDownListCtrl.getSelectedIndex()<0){this._oDropDownListCtrl.setSelectedIndex($1);}else{this._oDropDownListCtrl.setScrollToIndex($1);this._oTextBox.setText(this._oDropDownListCtrl.getStringFromIndex(this._oDropDownListCtrl.get_hoverIndex()));this.setEditSelection(0,this._oTextBox.get_text().length);}}}}},setSelectedIndex:function(iIndex){if(ss.isValue(this._oDropDownListCtrl)&&(this._oDropDownListCtrl.getSelectedIndex()!==iIndex||(!this._eMode&&!!this._oTextBox.get_text().compareTo(this.getSelectedText())))){this._oDropDownListCtrl.setSelectedIndex(iIndex);this.setSelectionFromList();var $0=new Kepler.Framework.UI.Controls.OnCommandStruct(iIndex,2);var $1=this.sendMessageToParent('msg_command',$0,this);if(!$1){this.sendMessageToParent('SelectionChanged',iIndex,this);}}},getSelectedIndex:function(){if(ss.isValue(this._oDropDownListCtrl)){return this._oDropDownListCtrl.getSelectedIndex();}return -1;},getSelectedText:function(){if(ss.isValue(this._oDropDownListCtrl)){return this._oDropDownListCtrl.getSelectedIndexText();}return '';},onEnableChange:function(bEnable){if(this.get_loaded()&&this._eMode===1){if(bEnable){this.get_element().className=' ComboCtrl'+'_style'+' position_absolute'+' content_align_center';}else{this.get_element().className=' ComboCtrl'+'_disabled'+' position_absolute'+' content_align_center'+' text_disabled';}}},eraseVisualHint:function(){if(ss.isValue(this._oDropDownListCtrl)){this._oDropDownListCtrl.eraseVisualHint();}this.removeCssClass(' class_visual_hint');},drawVisualHint:function(oHintData){this.addCssClass(' class_visual_hint');this._oDropDownListCtrl.drawVisualHint(oHintData);},getIndexElement:function(iItemIndex){return this._oDropDownListCtrl.getIndexElement(iItemIndex);},removeList:function(){if(this.containsControl(this._oDropDownListCtrl)){this._oDropDownListCtrl.set_height(this.$49);this.remove(this._oDropDownListCtrl);if(!ss.isNullOrUndefined(this._btnDropDown)&&!!this._btnDropDown.get_state()){this._btnDropDown.set_state(0);}Kepler.Engine.UI.Controls.ComboCtrl.set_isDropDownListShown(false);}},$4D:function($p0,$p1){this.removeList();},getFocusRect:function(){return null;},resetComboControl:function(){if(this._eMode===1){if(this._tableContent.rows.length>=1){this._tableContent.deleteRow(0);}}else{this._oTextBox.setText('');}this._oDropDownListCtrl.resetList();},setSelectAllOnFocus:function(bValue){if(!this._eMode&&ss.isValue(this._oTextBox)){this._oTextBox.setSelectAllOnFocus(bValue);}},updateAriaAttributes:function(){this._mapAriaAttributes={};if(this._eMode===1){this._mapAriaAttributes['aria-autocomplete']='none';}else{this._mapAriaAttributes['aria-autocomplete']='list';}if(Kepler.Engine.UI.Controls.ComboCtrl.$48){this._mapAriaAttributes['aria-expanded']='true';}else{this._mapAriaAttributes['aria-expanded']='false';}this._mapAriaAttributes['aria-owns']=this._oDropDownListCtrl.get_element().id;},getCharIndexFromClientPoint:function(ptClientPoint){if(this._oTextBox!=null){return this._oTextBox.getCharIndexFromClientPoint(ptClientPoint);}return 0;},onPretranslateEvent:function(sender,eventArgs){if(eventArgs.get_type()===4096){var $0=eventArgs;if($0.get_key()===13){if(this.containsControl(this._oDropDownListCtrl)){this._oDropDownListCtrl.onKeyDown($0);return true;}}if(!this._eMode){if($0.get_key()===38||$0.get_key()===40||$0.get_key()===27||$0.get_key()===33||$0.get_key()===34){if(this.containsControl(this._oDropDownListCtrl)){this.$42=this._oDropDownListCtrl.getSelectedIndex();if($0.get_key()===27){this._oDropDownListCtrl.onKeyDown($0);this._oTextBox.setText(this._oDropDownListCtrl.getStringFromIndex(this.$42));this.setEditSelection(0,this._oTextBox.get_text().length);return true;}var $1=this._oDropDownListCtrl.getSelectedIndex();var $2=this._oDropDownListCtrl.get_topIndex();var $3=this._oDropDownListCtrl.getSelectedIndexText();if($3!==this._oTextBox.get_text()&&!String.isNullOrEmpty(this._oTextBox.get_text())){this.$4E();return true;}else{this._oDropDownListCtrl.onKeyDown($0);this.setSelectedIndex(this._oDropDownListCtrl.get_hoverIndex());return true;}}else if(Kepler.Engine.UI.Controls.ComboCtrl._bShowDropDownOnArrowKey&&($0.get_key()===38||$0.get_key()===40)){this.showList();this.$4E();return true;}}if($0.get_key()===8){this.$44=true;}else{this.$44=false;}}else if(eventArgs.get_categoryType()===1){var $4=eventArgs;if(sender===this._btnDropDown&&$4.get_type()===8){if(!this._eMode){this.$4C();}}}}return Kepler.Engine.UI.Controls.ComboCtrl.callBaseMethod(this, 'onPretranslateEvent',[sender,eventArgs]);},$4E:function(){var $0=this._oTextBox.get_text();if(ss.isValue($0)&&!$0){this._oDropDownListCtrl.setHoverIndex(-1,false,0);this._oDropDownListCtrl.setSelectedIndex(-1);}else if(ss.isValue($0)&&!!$0&&!this._oDropDownListCtrl.get_isHintOnList()&&this.containsControl(this._oDropDownListCtrl)){var $1;$1=-1;for(var $2=0;$2<this._oDropDownListCtrl.get_count();$2++){$0=$0.toUpperCase();if(this._oDropDownListCtrl.getStringFromIndex($2).toUpperCase().startsWith($0)){$1=$2;break;}}this._oDropDownListCtrl.setSelectedIndex(-1);this._oDropDownListCtrl.setSelectedIndex($1);this._oDropDownListCtrl.setHoverIndex($1,false,0);this._oDropDownListCtrl.setScrollToIndex($1);if($1!==-1){this._oTextBox.setText(this._oDropDownListCtrl.getStringFromIndex($1));this.setEditSelection(0,this._oTextBox.get_text().length);}}},$4F:function(){var $0=this._oTextBox.get_text();if(!!$0){$0=$0.toUpperCase();var $1=-1;for(var $2=0;$2<this._oDropDownListCtrl.get_count();$2++){if(this._oDropDownListCtrl.getStringFromIndex($2).toUpperCase().startsWith($0)){$1=$2;break;}}if($1!==-1){var $3=this._oDropDownListCtrl.getStringFromIndex($1);this.setEditComboContent($3);var $4=$0.length;var $5=this._oTextBox.get_text().length;this.setEditSelection($4,$5);}}},onLButtonDown:function(mouseEventArgs){Kepler.Engine.UI.Controls.ComboCtrl.callBaseMethod(this, 'onLButtonDown',[mouseEventArgs]);if((Kepler.Engine.UI.Controls.Control.get_$8()===this||this.containsControl(Kepler.Engine.UI.Controls.Control.get_$8()))&&!this._eMode){this._oTextBox.onLButtonDown(mouseEventArgs);}if(this._eMode===1){this.setCapture();this.showList();}},onLButtonUp:function(mouseEventArgs){Kepler.Engine.UI.Controls.ComboCtrl.callBaseMethod(this, 'onLButtonUp',[mouseEventArgs]);if(this.getCapture()===this){this.releaseCapture();}if(!this._eMode&&this.getCapture()===this._oTextBox){this._oTextBox.onLButtonUp(mouseEventArgs);}},onMouseMove:function(mouseEventArgs){Kepler.Engine.UI.Controls.ComboCtrl.callBaseMethod(this, 'onMouseMove',[mouseEventArgs]);if(!this._eMode&&this.getCapture()===this._oTextBox){this._oTextBox.onMouseMove(mouseEventArgs);}},onFocus:function(oFocusedPrevControl){switch(this._eMode){case 0:this._oTextBox.setFocus();break;case 1:var $0=$(this._tableContent.rows[0]);$0.addClass(this.csS_LISTCTRL_SEL_ROW);$0.addClass(this.$41);break;}if(this.$43){this.$43=false;return;}else{Kepler.Engine.UI.Controls.ComboCtrl.callBaseMethod(this, 'onFocus',[oFocusedPrevControl]);}},onLostFocus:function(oFocusedNewControl){Kepler.Engine.UI.Controls.ComboCtrl.callBaseMethod(this, 'onLostFocus',[oFocusedNewControl]);if(oFocusedNewControl!==this._oDropDownListCtrl){this.removeList();}if(this._eMode===1){var $0=$(this._tableContent.rows[0]);$0.removeClass(this.csS_LISTCTRL_SEL_ROW);$0.removeClass(this.$41);}},onKeyDown:function(keyboardEventArgs){Kepler.Engine.UI.Controls.ComboCtrl.callBaseMethod(this, 'onKeyDown',[keyboardEventArgs]);if(!this._eMode){this._oTextBox.onKeyDown(keyboardEventArgs);}else if(this._eMode===1&&Kepler.Framework.Core.StringUtils.canOpenDropDown(keyboardEventArgs.get_key())){keyboardEventArgs.set_defaultPrevented(false);this._oDropDownListCtrl.onKeyDown(keyboardEventArgs);this.setSelectedIndex(this._oDropDownListCtrl.get_hoverIndex());this.showList();}},onSize:function(){Kepler.Engine.UI.Controls.ComboCtrl.callBaseMethod(this, 'onSize');if(!ss.isNullOrUndefined(this._btnDropDown)){this._btnDropDown.set_position(new Kepler.Framework.UI.Point(this.get_width()-17,0));this._btnDropDown.set_size(new Kepler.Framework.UI.Size(17,this.get_size().get_height()));}if(this._tableContent!=null){this._tableContent.style.pixelWidth=this.get_width()-(2*this._ptPadding.get_x());var $0=(this.get_width()-17-2);this._tableContent.style.width=$0+'px';}},setFocus:function(){if(Kepler.Engine.UI.Controls.Control.get_$8()===this._oTextBox){return null;}return Kepler.Engine.UI.Controls.ComboCtrl.callBaseMethod(this, 'setFocus');},$50:function($p0,$p1){if(this.containsControl(this._oDropDownListCtrl)){var $2=$p0;var $3=-1;if(ss.isValue($2)&&!!$2){for(var $4=0;$4<this._oDropDownListCtrl.get_count();$4++){$2=$2.toLowerCase();if(this._oDropDownListCtrl.getStringFromIndex($4).toLowerCase().startsWith($2)){$3=$4;break;}}if($3!==this.getSelectedIndex()){this._oDropDownListCtrl.setTopIndex($3);}}this._oDropDownListCtrl.setHoverIndex($3,false,0);this._oDropDownListCtrl.setScrollToIndex($3);}if((!this.$44&this.$45)===1){try{this.detachMessage('TextChanged');this.$4F();}finally{this.attachMessage('TextChanged',ss.Delegate.create(this,this.$50));}}var $0=new Kepler.Framework.UI.Controls.OnCommandStruct(this._oTextBox.get_text(),4);var $1=this.sendMessageToParent('msg_command',$0,this);if(!$1){this.sendMessageToParent('SetText',$p0,this);}return null;},onMsgSelectionChanged:function(wParam,lParam){var $0;if(ss.isValue(this._oDropDownListCtrl)){var $3=lParam;$0=$3.getSelectedRowElement();switch(this._eMode){case 0:var $4=this.getSelectedText();if(!String.isNullOrEmpty($4)){this.setEditComboContent($4);}this.setEditSelection(0,this._oTextBox.get_text().length);break;case 1:this.setComboContent($0);break;}}var $1=new Kepler.Framework.UI.Controls.OnCommandStruct(wParam,2);var $2=this.sendMessageToParent('msg_command',$1,this);if(!$2){this.sendMessageToParent('SelectionChanged',wParam,this);}return null;},onMsgHideCtrl:function(wParam,lParam){this.$43=true;this.removeList();if(this._eMode===1){var $0=(wParam!=null)?wParam:true;if($0){this.setFocus();}}return null;},onMsgButtonClicked:function(wParam,lParam){if((lParam)===this._btnDropDown){this.setFocus();this.showList();}return null;},getShowMeEventType:function(){if(!this._eMode){return 2;}return 0;},isControlFocused:function(){if(!this._eMode){return this._oTextBox.isControlFocused();}return this.getFocus()===this;},getPreShowMeEventType:function(){if(!this._eMode){return this._oTextBox.getPreShowMeEventType();}return -1;},getTargetElement:function(oData){if((oData)>-1||this._eMode===1){return this._btnDropDown.get_element();}return this._oTextBox.getTargetElement(oData);},fillShowMeEventData:function(lstEventData){},fillDynamicShowMeEventData:function(){return null;}}
Kepler.Engine.UI.Controls.ComboBtnCtrl=function(strBtnText,ptPosition,oCtrlSize,strImgClass,szImg,oDropDownListCtrl,ptPadding,strId){this.csS_LISTCTRL_SEL_ROW=Kepler.Engine.UI.Controls.ListCtrl.csS_ROW+'_selected';Kepler.Engine.UI.Controls.ComboBtnCtrl.initializeBase(this,['div','ComboCtrl_style content_align_center'+' position_absolute',strId,null]);Kepler.Engine.UI.Helper.HtmlCssHelper.addElementAttribute(this.get_element(),'name',(Kepler.Engine.UI.Controls.ComboCtrl).get_name());if(ss.isValue(ptPosition)){this.set_position(ptPosition);}oCtrlSize.set_width(oCtrlSize.get_width()-2);oCtrlSize.set_height(oCtrlSize.get_height()-2);this.set_size(oCtrlSize);if(ss.isNullOrUndefined(oDropDownListCtrl)){oDropDownListCtrl=this.onCreateDropDownList();}this._oDropDownListCtrl=oDropDownListCtrl;this.csS_LISTCTRL_SEL_ROW=oDropDownListCtrl.get_cssClassRow()+'_selected';this._ptPadding=ptPadding;this._btnDropDown=new Kepler.Engine.UI.Controls.ComboCtrlSplitButton(strBtnText,new Kepler.Framework.UI.Point(0,0),this.get_size(),null,strImgClass,szImg,'combo_split_btn');this._btnDropDown.set_focusable(false);this.set_focusChildCtrlsOnTab(false);this._bShowFocus=false;}
Kepler.Engine.UI.Controls.ComboBtnCtrl.get_dropDownListContainer=function(){return Kepler.Engine.UI.Controls.ComboBtnCtrl.$43;}
Kepler.Engine.UI.Controls.ComboBtnCtrl.set_dropDownListContainer=function(value){Kepler.Engine.UI.Controls.ComboBtnCtrl.$43=value;return value;}
Kepler.Engine.UI.Controls.ComboBtnCtrl.prototype={_oDropDownListCtrl:null,get_attachedList:function(){return this._oDropDownListCtrl;},_btnDropDown:null,get_buttonElement:function(){return this._btnDropDown.get_element();},_tableContent:null,_ptPadding:null,get_enable:function(){return Kepler.Engine.UI.Controls.ComboBtnCtrl.callBaseMethod(this, 'get_enable');},set_enable:function(value){Kepler.Engine.UI.Controls.ComboBtnCtrl.callBaseMethod(this, 'set_enable',[value]);this.onEnableChange(value);return value;},$41:false,get_autoComplete:function(){return this.$41;},set_autoComplete:function(value){this.$41=value;return value;},$42:false,get_changeBtnContentOnSelChange:function(){return this.$42;},set_changeBtnContentOnSelChange:function(value){this.$42=value;return value;},get_text:function(){return this.getSelectedText();},_bShowFocus:false,get_showFocus:function(){return this._bShowFocus;},set_showFocus:function(value){this._bShowFocus=value;return value;},get_ariaSpeech:function(){return Kepler.Engine.UI.Controls.ComboBtnCtrl.callBaseMethod(this, 'get_ariaSpeech')+' button';},set_ariaSpeech:function(value){Kepler.Engine.UI.Controls.ComboBtnCtrl.callBaseMethod(this, 'set_ariaSpeech',[value]);return value;},onCreateDropDownList:function(){return null;},getPopUpPoint:function(){var $0=this._oDropDownListCtrl.get_size();$0.set_height($0.get_height()+4);var $1=new Kepler.Engine.UI.Helper.LaunchParams(null,this.get_clientRect(),'',$0);$1.setPositioningOrder(7);var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientPosition(Kepler.Engine.UI.Controls.ComboBtnCtrl.$43.get_element());var $3=new Kepler.Framework.UI.Rect($2.get_x(),$2.get_y(),0,0);$3.set_right(0);$3.set_bottom(0);$1.oDesktopDocMargin=$3;if((Kepler.Engine.UI.Dialog).isInstanceOfType(this.get_parentWnd())){$1.rcDoc=(this.get_parentWnd()).getDesktopViewRect();}return Kepler.Engine.UI.Helper.CalcHelper.getSuggestedLaunchRect($1).get_topLeft();},showList:function(){if(Kepler.Engine.UI.Controls.ComboBtnCtrl.$43==null){throw new Error('Invalid State Exception : '+' _oDropDownListContainer must be set before dropdown menu launching.');}if(ss.isValue(this._oDropDownListCtrl)){this._oDropDownListCtrl.set_zIndex(6001);this._oDropDownListCtrl.set_position(this.getPopUpPoint());if(!this.containsControl(this._oDropDownListCtrl)){if(Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){Kepler.Engine.UI.Controls.ComboBtnCtrl.callBaseMethod(this, 'setFocus');}this.add(this._oDropDownListCtrl,Kepler.Engine.UI.Controls.ComboBtnCtrl.$43.get_element());this._oDropDownListCtrl.show(true,true);}}},onLoad:function(){Kepler.Engine.UI.Controls.ComboBtnCtrl.callBaseMethod(this, 'onLoad');this.add(this._btnDropDown);this.$44();this.$45();},$44:function(){var $0=2|8|16|128|32|4|256|512|1024|4096|16384;this.addEvents($0);},$45:function(){this.attachMessage('SelectionChanged',ss.Delegate.create(this,this.onMsgSelectionChanged));this.attachMessage('TextChanged',ss.Delegate.create(this,this.$48));this.attachMessage('hide_child_ctrl',ss.Delegate.create(this,this.onMsgHideCtrl));this.attachMessage('ButtonClicked',ss.Delegate.create(this,this.$49));},setEditComboContent:function(strRowText,bSenMsgToParent){if(ss.isValue(strRowText)){if(ss.isValue(bSenMsgToParent)){this._btnDropDown.setText(strRowText);}else{this._btnDropDown.setText(strRowText);}}if(ss.isNullOrUndefined(bSenMsgToParent)||(ss.isValue(bSenMsgToParent)&&bSenMsgToParent)){var $0=new Kepler.Framework.UI.Controls.OnCommandStruct(strRowText,4);var $1=this.sendMessageToParent('msg_command',$0,this);if(!$1){this.sendMessageToParent('TextChanged',strRowText,this);}}},setSelectionFromList:function(){if(ss.isValue(this._oDropDownListCtrl)){var $0=(this._oDropDownListCtrl).getSelectedRowElement();if(this.$42){this._btnDropDown.$4C($0);}}},setText:function(strText){this._btnDropDown.setText(strText);},setTopIndex:function(iIndex){if(ss.isValue(this._oDropDownListCtrl)&&iIndex!==-1){this._oDropDownListCtrl.setTopIndex(iIndex);}},setSelectedIndex:function(iIndex){if(ss.isValue(this._oDropDownListCtrl)&&(this._oDropDownListCtrl.getSelectedIndex()!==iIndex)){this._oDropDownListCtrl.setSelectedIndex(iIndex);this.setSelectionFromList();var $0=new Kepler.Framework.UI.Controls.OnCommandStruct(iIndex,2);var $1=this.sendMessageToParent('msg_command',$0,this);if(!$1){this.sendMessageToParent('SelectionChanged',iIndex,this);}}},getSelectedIndex:function(){if(ss.isValue(this._oDropDownListCtrl)){return this._oDropDownListCtrl.getSelectedIndex();}return -1;},getSelectedText:function(){if(ss.isValue(this._oDropDownListCtrl)){return this._oDropDownListCtrl.getSelectedIndexText();}return '';},onEnableChange:function(bEnable){if(bEnable){this.get_element().className=' ComboCtrl'+'_style'+' position_absolute'+' content_align_center';}else{this.get_element().className=' ComboCtrl'+'_disabled'+' position_absolute'+' content_align_center'+' text_disabled';}},eraseVisualHint:function(){if(ss.isValue(this._oDropDownListCtrl)){this._oDropDownListCtrl.eraseVisualHint();}this.removeCssClass(' class_visual_hint');},drawVisualHint:function(oHintData){this.addCssClass(' class_visual_hint');this._oDropDownListCtrl.drawVisualHint(oHintData);},getIndexElement:function(iItemIndex){return this._oDropDownListCtrl.getIndexElement(iItemIndex);},removeList:function(){if(this.containsControl(this._oDropDownListCtrl)){this.remove(this._oDropDownListCtrl);}},$46:function($p0,$p1){this.removeList();},getFocusRect:function(){if(this._bShowFocus){var $0=new Kepler.Framework.UI.Rect(0,0,0,0);$0.set_top(this.get_position().get_y()-1);$0.set_left(this.get_position().get_x()-1);$0.set_height(this.get_height()+2);$0.set_width(this.get_width()+2);return $0;}return null;},resetComboControl:function(){this._oDropDownListCtrl.resetList();},onPretranslateEvent:function(sender,eventArgs){if(eventArgs.get_type()===4096){var $0=eventArgs;if($0.get_key()===13){if(this.containsControl(this._oDropDownListCtrl)){this._oDropDownListCtrl.onKeyDown($0);return true;}}}return Kepler.Engine.UI.Controls.ComboBtnCtrl.callBaseMethod(this, 'onPretranslateEvent',[sender,eventArgs]);},$47:function(){var $0=this._btnDropDown.get_text();if(ss.isValue($0)&&!$0){this._oDropDownListCtrl.setHoverIndex(-1,false,0);this._oDropDownListCtrl.setSelectedIndex(-1);}else if(ss.isValue($0)&&!!$0&&!this._oDropDownListCtrl.get_isHintOnList()&&this.containsControl(this._oDropDownListCtrl)){var $1;$1=-1;for(var $2=0;$2<this._oDropDownListCtrl.get_count();$2++){$0=$0.toUpperCase();if(this._oDropDownListCtrl.getStringFromIndex($2).toUpperCase().startsWith($0)){$1=$2;break;}}this._oDropDownListCtrl.setSelectedIndex(-1);this._oDropDownListCtrl.setSelectedIndex($1);this._oDropDownListCtrl.setHoverIndex($1,false,0);this._oDropDownListCtrl.setScrollToIndex($1);if($1!==-1){this._btnDropDown.setText(this._oDropDownListCtrl.getStringFromIndex($1));}}},onLButtonDown:function(mouseEventArgs){Kepler.Engine.UI.Controls.ComboBtnCtrl.callBaseMethod(this, 'onLButtonDown',[mouseEventArgs]);this.setCapture();this.showList();},onLButtonUp:function(mouseEventArgs){Kepler.Engine.UI.Controls.ComboBtnCtrl.callBaseMethod(this, 'onLButtonUp',[mouseEventArgs]);if(this.getCapture()===this){this.releaseCapture();}},onLostFocus:function(oFocusedNewControl){Kepler.Engine.UI.Controls.ComboBtnCtrl.callBaseMethod(this, 'onLostFocus',[oFocusedNewControl]);if(oFocusedNewControl!==this._oDropDownListCtrl){this.removeList();}},onKeyDown:function(keyboardEventArgs){Kepler.Engine.UI.Controls.ComboBtnCtrl.callBaseMethod(this, 'onKeyDown',[keyboardEventArgs]);if(Kepler.Framework.Core.StringUtils.canOpenDropDown(keyboardEventArgs.get_key())){keyboardEventArgs.set_defaultPrevented(false);this._oDropDownListCtrl.onKeyDown(keyboardEventArgs);this.setSelectedIndex(this._oDropDownListCtrl.get_hoverIndex());this.showList();}},onSize:function(){Kepler.Engine.UI.Controls.ComboBtnCtrl.callBaseMethod(this, 'onSize');if(!ss.isNullOrUndefined(this._btnDropDown)){this._btnDropDown.set_position(new Kepler.Framework.UI.Point(this.get_width()-17,0));this._btnDropDown.set_size(new Kepler.Framework.UI.Size(17,this.get_size().get_height()));}if(this._tableContent!=null){this._tableContent.style.pixelWidth=this.get_width()-(2*this._ptPadding.get_x());}},setFocus:function(){if(Kepler.Engine.UI.Controls.Control.get_$8()===this._btnDropDown){return null;}return Kepler.Engine.UI.Controls.ComboBtnCtrl.callBaseMethod(this, 'setFocus');},$48:function($p0,$p1){if(this.containsControl(this._oDropDownListCtrl)){var $2=$p0;var $3=-1;if(ss.isValue($2)&&!!$2){for(var $4=0;$4<this._oDropDownListCtrl.get_count();$4++){$2=$2.toLowerCase();if(this._oDropDownListCtrl.getStringFromIndex($4).toLowerCase().startsWith($2)){$3=$4;break;}}if($3!==this.getSelectedIndex()){this._oDropDownListCtrl.setTopIndex($3);}}this._oDropDownListCtrl.setHoverIndex($3,false,0);this._oDropDownListCtrl.setScrollToIndex($3);}var $0=new Kepler.Framework.UI.Controls.OnCommandStruct(this._btnDropDown.get_text(),4);var $1=this.sendMessageToParent('msg_command',$0,this);if(!$1){this.sendMessageToParent('SetText',$p0,this);}return null;},onMsgSelectionChanged:function(wParam,lParam){var $0;if(ss.isValue(this._oDropDownListCtrl)){var $3=lParam;$0=$3.getSelectedRowElement();if(this.$42){this._btnDropDown.$4C($0);}}var $1=new Kepler.Framework.UI.Controls.OnCommandStruct(wParam,2);var $2=this.sendMessageToParent('msg_command',$1,this);if(!$2){this.sendMessageToParent('SelectionChanged',wParam,this);}return null;},onMsgHideCtrl:function(wParam,lParam){this.removeList();var $0=(wParam!=null)?wParam:true;if($0){this.setFocus();}return null;},$49:function($p0,$p1){if(($p1)===this._btnDropDown){this.setFocus();this.showList();}return null;},getShowMeEventType:function(){return 0;},isControlFocused:function(){return this.getFocus()===this;},getPreShowMeEventType:function(){return -1;},getTargetElement:function(oData){return this._btnDropDown.get_element();},fillShowMeEventData:function(lstEventData){},fillDynamicShowMeEventData:function(){return null;}}
Kepler.Engine.UI.Controls.MultiColComboCtrl=function(ptPosition,oCtrlSize,oListCtrl,ptPadding,strId){Kepler.Engine.UI.Controls.MultiColComboCtrl.initializeBase(this,['div','ComboCtrl_style content_align_center'+' position_absolute',strId,null]);Kepler.Engine.UI.Helper.HtmlCssHelper.addElementAttribute(this.get_element(),'name',(Kepler.Engine.UI.Controls.MultiColComboCtrl).get_name());if(ss.isValue(ptPosition)){this.set_position(ptPosition);}oCtrlSize.set_width(oCtrlSize.get_width()-2);oCtrlSize.set_height(oCtrlSize.get_height()-2);this.set_size(oCtrlSize);this.$45=new Kepler.Framework.UI.Color(0,0,0);if(ss.isValue(oListCtrl)){this.$42=oListCtrl;}this.$46(ptPadding);this.$47();this.set_focusChildCtrlsOnTab(false);}
Kepler.Engine.UI.Controls.MultiColComboCtrl.prototype={$42:null,$43:null,$44:null,$45:null,get_ariaSpeech:function(){return Kepler.Engine.UI.Controls.MultiColComboCtrl.callBaseMethod(this, 'get_ariaSpeech');},set_ariaSpeech:function(value){Kepler.Engine.UI.Controls.MultiColComboCtrl.callBaseMethod(this, 'set_ariaSpeech',[value]);return value;},get_ariaRole:function(){return 'combobox';},set_ariaRole:function(value){Kepler.Engine.UI.Controls.MultiColComboCtrl.callBaseMethod(this, 'set_ariaRole',[value]);return value;},$46:function($p0){var $0=$p0.get_x();var $1=$p0.get_y();var $2=(this.get_size().get_width()-17);var $3=this.get_size().get_height();this.$44=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('table',null,'absolute',$0,$1,$2-(2*$0),this.get_size().get_height()-4,'table_style content_align_center',null);this.get_element().appendChild(this.$44);this.$42.set_focusable(true);},changeList:function(oListCtrl){if(ss.isValue(oListCtrl)){this.$42=oListCtrl;}},$47:function(){this.$43=new Kepler.Engine.UI.Controls.CSSToggleButton(null,new Kepler.Framework.UI.Point(this.get_width()-17,0),new Kepler.Framework.UI.Size(17,this.get_size().get_height()),null,' combo_button',null,' combo_image');this.add(this.$43);this.$43.set_sendClickMsgOnMouseDown(true);this.$43.set_focusable(false);},$48:function(){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientPosition(this.get_element());return new Kepler.Framework.UI.Point($0.get_x(),$0.get_y()+this.get_size().get_height()+1);},showList:function(){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getParentElementByName(this.get_element(),(Kepler.Engine.UI.DialogContainer).get_name());if(ss.isNullOrUndefined($0)){$0=null;}if(ss.isNullOrUndefined($0)){return;}this.$43.changeState(2);if(this.$42!=null){var $1=this.$48();var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientPosition($0);$1.set_x($1.get_x()-$2.get_x());$1.set_y($1.get_y()-$2.get_y());this.$42.set_position($1);if(!this.containsControl(this.$42)){this.add(this.$42,$0);}this.$42.setFocus();}},onLoad:function(){Kepler.Engine.UI.Controls.MultiColComboCtrl.callBaseMethod(this, 'onLoad');this.$49();this.$4A();},$49:function(){var $0=2|8|16|256|512|1024|4096|16384;this.addEvents($0);},$4A:function(){this.attachMessage('SelectionChanged',ss.Delegate.create(this,this.$4C));this.attachMessage('hide_child_ctrl',ss.Delegate.create(this,this.$4D));this.attachMessage('ButtonClicked',ss.Delegate.create(this,this.$4E));},updateColor:function(clrBackColor){for(var $0=0;$0<this.$44.rows.length;$0++){this.$44.rows[$0].firstChild.style.backgroundColor=clrBackColor.toString();}this.$42.updateColor(clrBackColor);this.$45=clrBackColor;},setSelectedIndex:function(iSelIndex){if(ss.isValue(this.$42)){this.$42.setSelectedIndex(iSelIndex);this.$4B();}},getSelectedIndex:function(){return this.$42.getSelectedIndex();},$4B:function(){var $0=this.$42.getSelectedIndex();var $1=this.$44.rows.length;for(var $6=0;$6<$1;$6++){this.$44.deleteRow(0);}var $2=this.$42.getSelectedElementDiv();var $3=this.$44.insertRow();if(ss.isValue($2)){var $7=parseInt($2.style.height);if(this.get_size().get_height()>$7){$2.style.marginTop=((this.get_size().get_height()-$7-4)/2)+'px';}$3.appendChild($2);}var $4=new Kepler.Framework.UI.Controls.OnCommandStruct($0,2);var $5=this.sendMessageToParent('msg_command',$4,this);if(!$5){this.sendMessageToParent('SelectionChanged',$0,this);}},getFocusRect:function(){var $0=new Kepler.Framework.UI.Rect(0,0,0,0);$0.set_left(this.$44.offsetLeft+this.get_position().get_x());$0.set_top(this.$44.offsetTop+this.get_position().get_y()+1);$0.set_size(new Kepler.Framework.UI.Size(this.get_size().get_width()-17-4,this.get_size().get_height()-6));return $0;},eraseVisualHint:function(){if(ss.isValue(this.$42)){this.$42.eraseVisualHint();}this.removeCssClass(' class_visual_hint');},drawVisualHint:function(oHintData){this.addCssClass(' class_visual_hint');this.$42.drawVisualHint(oHintData);},getIndexElement:function(iTabIndex){return null;},setTopIndex:function(iIndex){if(ss.isValue(this.$42)&&iIndex!==-1){this.$42.setTopIndex(iIndex);}},getSelectedText:function(){if(ss.isValue(this.$42)){return this.$42.getSelectedIndexName();}return '';},onLButtonDown:function(evt){Kepler.Engine.UI.Controls.MultiColComboCtrl.callBaseMethod(this, 'onLButtonDown',[evt]);this.showList();},onFocus:function(oFocusedPrevControl){var $0=$(this.$44.rows[0]);Kepler.Engine.UI.Controls.MultiColComboCtrl.callBaseMethod(this, 'onFocus',[oFocusedPrevControl]);},onLostFocus:function(oFocusedNewControl){Kepler.Engine.UI.Controls.MultiColComboCtrl.callBaseMethod(this, 'onLostFocus',[oFocusedNewControl]);var $0=$(this.$44.rows[0]);$0.removeClass('ListCtrl_SelectedRow');},onKeyDown:function(keyboardEventArgs){Kepler.Engine.UI.Controls.MultiColComboCtrl.callBaseMethod(this, 'onKeyDown',[keyboardEventArgs]);keyboardEventArgs.set_defaultPrevented(true);if(Kepler.Framework.Core.StringUtils.canOpenDropDown(keyboardEventArgs.get_key())||keyboardEventArgs.get_key()===32){this.showList();}},onPretranslateEvent:function(sender,eventArgs){if(eventArgs.get_type()===4096){var $0=eventArgs;if($0.get_key()===27){if(this.containsControl(this.$42)){return false;}}}return Kepler.Engine.UI.Controls.MultiColComboCtrl.callBaseMethod(this, 'onPretranslateEvent',[sender,eventArgs]);},$4C:function($p0,$p1){if(this.$42!=null){var $0=$p1;if($0===this.$42){this.$4B();}}return null;},$4D:function($p0,$p1){if(this.containsControl(this.$42)){this.remove(this.$42);}var $0=(ss.isValue($p0))?$p0:true;if($0){this.setFocus();}this.$43.set_state(0);this.$43.changeState(0);return null;},$4E:function($p0,$p1){if(($p1)===this.$43){this.showList();}return null;}}
Kepler.Engine.UI.Controls.ContainerControl=function(strTagName,strCssClassName,strId,element){Kepler.Engine.UI.Controls.ContainerControl.initializeBase(this,[strTagName,strCssClassName,strId,element]);this.$3B=[];this.set_focusChildCtrlsOnTab(true);this.$3E=true;}
Kepler.Engine.UI.Controls.ContainerControl.prototype={$3B:null,get_controls:function(){return this.$3B;},$3C:null,get_activeChildControl:function(){return this.$3C;},$3D:false,get_focusChildCtrlsOnTab:function(){return this.$3D;},set_focusChildCtrlsOnTab:function(value){this.$3D=value;return value;},$3E:false,get_defaultTabHandling:function(){return this.$3E;},set_defaultTabHandling:function(value){if(value!==this.$3E){this.$3E=value;}return value;},get_enable:function(){return Kepler.Engine.UI.Controls.ContainerControl.callBaseMethod(this, 'get_enable');},set_enable:function(value){Kepler.Engine.UI.Controls.ContainerControl.callBaseMethod(this, 'set_enable',[value]);this.$40(Kepler.Engine.UI.Controls.ContainerControl.callBaseMethod(this, 'get_enable'));return value;},onLoad:function(){Kepler.Engine.UI.Controls.ContainerControl.callBaseMethod(this, 'onLoad');this.addEvents(4096);},add:function(control,oParentElement,bAlreadyInDom){if(ss.isNull(control)){throw new Error('Null Reference Exception : '+'control');}if(this.containsControl(control)){return false;}if(control.get_disposed()){throw new Error('Invalid State Exception : '+' Control is already disposed.');}if(control.get_attached()){throw new Error('Invalid State Exception : '+' Control is already attached to DOM.');}this.$3B.add(control);if(!bAlreadyInDom){if(ss.isValue(oParentElement)){oParentElement.appendChild(control.get_element());}else{this.get_element().appendChild(control.get_element());}}this.$3F(control);return true;},insert:function(iIndex,control,oParentElement){if(ss.isNull(control)){throw new Error('Null Reference Exception : '+'control');}if(iIndex<0){throw new Error('Invalid Argument Exception : '+'iIndex');}if(iIndex>=this.$3B.length){if(ss.isValue(oParentElement)){return this.add(control,oParentElement);}else{return this.add(control);}}else{if(this.containsControl(control)){return false;}var $0=this.$3B[iIndex];this.$3B.insert(iIndex,control);if(ss.isNullOrUndefined(oParentElement)){oParentElement=this.get_element();}if(oParentElement.contains($0.get_element())){oParentElement.insertBefore(control.get_element(),$0.get_element());}else{oParentElement.appendChild(control.get_element());}this.$3F(control);}return true;},$3F:function($p0){$p0.set_parent(this);this.initializeChildControlParentWnd($p0);$p0.onAttach();$p0.onParentResized(this.get_size());},initializeChildControlParentWnd:function(control){control.set_parentWnd(this.get_parentWnd());},remove:function(control){if(control!=null&&this.containsControl(control)){control.onDetach();control.set_parent(null);control.set_parentWnd(null);if(this.$3C===control){try{this.$3C.resetActiveControl();}catch($1){}}var $0=control.get_element();if(ss.isValue($0)){var $2=$0.parentNode;if(ss.isValue($2)&&$2.contains($0)){$2.removeChild($0);}}return this.$3B.remove(control);}return false;},removeAt:function(iIndex){return this.remove(this.$3B[iIndex]);},removeAll:function(){for(var $0=this.$3B.length-1;$0>=0;$0--){this.remove(this.$3B[$0]);}},onUnload:function(){var $0=this.$3B.clone();this.removeAll();for(var $1=$0.length-1;$1>=0;$1--){$0[$1].dispose();}Kepler.Engine.UI.Controls.ContainerControl.callBaseMethod(this, 'onUnload');},containsControl:function(control){return this.get_controls().contains(control);},containsNestedControl:function(control){if(this.get_parentWnd()!=null&&control.get_parentWnd()!=null&&this.get_parentWnd()===control.get_parentWnd()){if(this.containsControl(control)){return true;}var $enum1=ss.IEnumerator.getEnumerator(this.get_controls());while($enum1.moveNext()){var $0=$enum1.current;if(Type.canCast($0,Kepler.Engine.UI.Controls.ContainerControl)&&($0).containsNestedControl(control)){return true;}}}return false;},indexOfControl:function(control){return this.get_controls().indexOf(control);},$40:function($p0){for(var $0=0;$0<this.get_controls().length;$0++){var $1=this.get_controls()[$0];if(ss.isValue($1)){$1.set_enable($p0);}}},onAttach:function(){var $0=this.get_loaded();Kepler.Engine.UI.Controls.ContainerControl.callBaseMethod(this, 'onAttach');if($0){for(var $1=0;$1<this.get_controls().length;$1++){var $2=this.get_controls()[$1];$2.onAttach();}}},onDetach:function(){for(var $0=0;$0<this.get_controls().length;$0++){var $1=this.get_controls()[$0];$1.onDetach();}Kepler.Engine.UI.Controls.ContainerControl.callBaseMethod(this, 'onDetach');},onSize:function(){var $0=this.get_size();for(var $1=0;$1<this.get_controls().length;$1++){var $2=this.get_controls()[$1];$2.onParentResized($0);}},setFocus:function(){var $0=this.get_parent();if($0!=null&&this.get_focusable()){var $1=Kepler.Engine.UI.Controls.Control.get_$8();Kepler.Engine.UI.Controls.Control.set_$8(this);if($0.setActiveControl(this)){this._bAriaSpeechFromOnFocus=true;this.processSetFocus($1);}else if(this.$3C!=null){this.resetActiveControl();this.processSetFocus($1);}this.setFocusRectParams();if(Kepler.Framework.Accessibility.AccessibilitySupport.get_instance().get_isAccessibilityOn()&&!this.get_neverSpeechAriaText()&&this.get_alwaysSpeechOnSetFocus()){this.setAriaAttributes();}this._bAriaSpeechFromOnFocus=false;return $1;}return null;},resetActiveControl:function(){if(this.$3C!=null){this.$3C.resetActiveControl();this.$3C=null;}else{Kepler.Engine.UI.Controls.ContainerControl.callBaseMethod(this, 'resetActiveControl');}},setActiveControl:function(control){if(this.$3C===control){return false;}else if(this.$3C!=null){this.$3C.resetActiveControl();}else{var $0=this.get_parent();if($0!=null){if(!$0.setActiveControl(this)){this.onLostFocus(Kepler.Engine.UI.Controls.Control.get_$8());}}}this.$3C=control;return true;},onKeyDown:function(KeyEventArgs){Kepler.Engine.UI.Controls.ContainerControl.callBaseMethod(this, 'onKeyDown',[KeyEventArgs]);if(KeyEventArgs.get_key()===9&&this.get_defaultTabHandling()){if(this.get_controls().length>0&&this.get_focusChildCtrlsOnTab()){this.processTabOnControl(KeyEventArgs,this);}else{if(ss.isValue(this.get_parent())){this.get_parent().processTabOnControl(KeyEventArgs,this);}}}},processTabOnControl:function(keyEvent,oCtrl){var $0=keyEvent.get_shiftKey();var $1=keyEvent.get_altKey();var $2=keyEvent.get_ctrlKey();if(ss.isValue(oCtrl)){var $3=this.get_controls().indexOf(oCtrl);var $4=$3;if($3!==-1){$4=this.getNextFocusableControlIndex($0,$3,this);}if($4>this.get_controls().length-1||$4<0||!this.get_focusChildCtrlsOnTab()||$4===$3){var $5=Kepler.Engine.UI.Controls.ContainerControl.callBaseMethod(this, 'processTabOnControl',[keyEvent,this]);if(!$5){if(this.get_controls().length>0){var $6=-1;if($0){$6=this.getNextFocusableControlIndex($0,this.get_controls().length,this);}else{$6=this.getNextFocusableControlIndex($0,-1,this);}if($6!==-1){var $7=this.get_controls()[$6];if((Kepler.Engine.UI.Controls.ContainerControl).isInstanceOfType($7)){this.setTabFocusToContainerControl($7,keyEvent);}else{this.setTabFocusOnControl($7,keyEvent);}}}else{return false;}}}else{this.setTabFocusOnControl(this.get_controls()[$4],keyEvent);}return true;}return false;},setTabFocusOnControl:function(oCtrl,keyEvent,bForceFocus){var $0=false;if((Kepler.Engine.UI.Controls.ContainerControl).isInstanceOfType(oCtrl)){$0=true;}if((ss.isNullOrUndefined(bForceFocus)||!bForceFocus)&&$0&&(oCtrl).get_focusChildCtrlsOnTab()){this.setTabFocusToContainerControl(oCtrl,keyEvent);}else{oCtrl.set_setFocusUsingTab(true);oCtrl.setFocus();oCtrl.set_setFocusUsingTab(false);var $1=this.getFocus();if((Kepler.Engine.UI.Controls.TextBox).isInstanceOfType($1)){var $2=$1.get_text();if($2.length>0){($1).setSelection(0,$2.length);}}if((Kepler.Engine.UI.Controls.Button).isInstanceOfType($1)){($1).changeState(1);}}},setTabFocusToContainerControl:function(oCtrl,keyEvent){var $0=keyEvent.get_shiftKey();var $1=-1,$2=-1;if($0&&oCtrl.get_controls().length>0){$1=oCtrl.get_controls().length;}$2=this.getNextFocusableControlIndex($0,$1,oCtrl);if($2!==-1&&$2<oCtrl.get_controls().length&&Type.getInstanceType(oCtrl)!==Kepler.Engine.UI.Controls.Control&&oCtrl.get_controls().length>0&&oCtrl.get_focusChildCtrlsOnTab()){var $3=false;var $4=oCtrl.get_controls()[$2];if((Kepler.Engine.UI.Controls.ContainerControl).isInstanceOfType($4)){$3=true;}if($3){this.setTabFocusToContainerControl($4,keyEvent);}else{this.setTabFocusOnControl($4,keyEvent);}}else{this.setTabFocusOnControl(oCtrl,keyEvent,true);}},getFirstFocusableIndex:function(){for(var $0=0;$0<this.get_controls().length;$0++){if(this.get_controls()[$0].get_focusable()&&this.get_controls()[$0].get_visible()&&this.get_controls()[$0].get_enable()){return $0;}}return 0;},getLastFocusableIndex:function(){for(var $0=this.get_controls().length-1;$0>=0;$0--){if(this.get_controls()[$0].get_focusable()&&this.get_controls()[$0].get_visible()&&this.get_controls()[$0].get_enable()){return $0;}}return this.get_controls().length;},getNextFocusableControlIndex:function(bShift,iCurIndex,oCtrl){if(ss.isValue(oCtrl)){return oCtrl.getNextFocusableControlIndex(bShift,iCurIndex);}if(!bShift){for(var $0=iCurIndex+1;$0<this.get_controls().length;$0++){if(this.get_controls()[$0].get_focusable()&&this.get_controls()[$0].get_visible()&&this.get_controls()[$0].get_enable()){return $0;}else{continue;}}}else{for(var $1=iCurIndex-1;$1>=0;$1--){if(this.get_controls()[$1].get_focusable()&&this.get_controls()[$1].get_visible()&&this.get_controls()[$1].get_enable()){return $1;}else{continue;}}}return iCurIndex;},addEventsForcefully:function(eEventType){Kepler.Engine.UI.Controls.ContainerControl.callBaseMethod(this, 'addEventsForcefully',[eEventType]);var $enum1=ss.IEnumerator.getEnumerator(this.get_controls());while($enum1.moveNext()){var $0=$enum1.current;$0.addEventsForcefully(eEventType);}}}
Kepler.Engine.UI.Controls.Control=function(strTagName,strCssClassName,strId,element){Kepler.Engine.UI.Controls.Control.initializeBase(this);this.$1E=true;this.$22={};this.$20=true;this.$26=true;this.$11=true;this.$21=0;if(ss.isNullOrUndefined(Kepler.Engine.UI.Controls.Control.$9)){Kepler.Engine.UI.Controls.Control.$9=document.createElement('div');Kepler.Engine.UI.Controls.Control.$9.id='FocusBorder';Kepler.Engine.UI.Controls.Control.$9.className=' focus_border';}if(ss.isNullOrUndefined(element)){element=this.onCreate(strTagName);}this.$B=element;this.$D=element.style;this.set_allowEventBubbling(false);if(ss.isValue(strId)&&strId.length>0){element.id=strId;this.set_id(parseInt(strId));}else{this.set_id(-1);}if(ss.isValue(strCssClassName)&&strCssClassName.length>0){element.className=strCssClassName;}this.$2A=null;this.$2C=false;this.$2D=false;this._bAriaSpeechFromOnFocus=false;this._bSetFocusUsingTab=false;this.$2E=' ';}
Kepler.Engine.UI.Controls.Control.get_gestureManager=function(){return Kepler.Engine.UI.Controls.Control.$6;}
Kepler.Engine.UI.Controls.Control.get_$8=function(){return Kepler.Engine.UI.Controls.Control.$7;}
Kepler.Engine.UI.Controls.Control.set_$8=function($p0){Kepler.Engine.UI.Controls.Control.$7=$p0;return $p0;}
Kepler.Engine.UI.Controls.Control.get_isShowMe=function(){return Kepler.Engine.UI.Controls.Control.$A;}
Kepler.Engine.UI.Controls.Control.set_isShowMe=function(value){Kepler.Engine.UI.Controls.Control.$A=value;return value;}
Kepler.Engine.UI.Controls.Control.get_getGestureTouchCount=function(){return Kepler.Engine.UI.Controls.Control.$6.getRegTouchCount();}
Kepler.Engine.UI.Controls.Control.stopHookEventPropagation=function(evt){evt.set_propogationStopped(true);var $0=evt.get_type();switch($0){case 1024:Kepler.Engine.UI.Controls.Control.$6.$24(evt);break;default:break;}}
Kepler.Engine.UI.Controls.Control.getClientPointFromEventArgs=function(evt){var $0=1;if(evt.get_categoryType()===2){var $1=evt;var $2=$1.get_touches();if(!$2.length){$2=$1.get_changedTouches();}return new Kepler.Framework.UI.Point(Math.round($0*$2[0].get_clientX()),Math.round($0*$2[0].get_clientY()));}else{return new Kepler.Framework.UI.Point(Math.round($0*evt.get_clientX()),Math.round($0*evt.get_clientY()));}}
Kepler.Engine.UI.Controls.Control.getFrameClientPointFromEventArgs=function(elmCtrl,evt){var $0=Kepler.Engine.UI.Controls.Control.getClientPointFromEventArgs(evt);if(ss.isValue(elmCtrl)){var $1=elmCtrl.ownerDocument;var $2=evt.get_target();var $3=$2.ownerDocument;while($1!==$3&&$3!=null){var $4=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementOwnerWindow($2);$2=$4.frameElement;$3=(ss.isValue($2))?$2.ownerDocument:null;var $5=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientPosition($2);$0.set_x($0.get_x()+$5.get_x());$0.set_y($0.get_y()+$5.get_y());}}return $0;}
Kepler.Engine.UI.Controls.Control.getFrameClientPoint=function(elmRef,elmCurr){var $0=null;if(ss.isValue(elmRef)){$0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientPosition(elmCurr);var $1=elmRef.ownerDocument;var $2=elmCurr.ownerDocument;while($1!==$2&&$2!=null){var $3=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementOwnerWindow(elmCurr);elmCurr=$3.frameElement;$2=(ss.isValue(elmCurr))?elmCurr.ownerDocument:null;var $4=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientPosition(elmCurr);$0.set_x($0.get_x()+$4.get_x());$0.set_y($0.get_y()+$4.get_y());}}return $0;}
Kepler.Engine.UI.Controls.Control.getAbsoluteFrameClientPoint=function(elmCurr){var $0=null;$0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientPosition(elmCurr);var $1=elmCurr.ownerDocument;while($1!=null&&$1.documentElement!==document.documentElement){var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementOwnerWindow(elmCurr);elmCurr=$2.frameElement;if(ss.isNullOrUndefined(elmCurr)){break;}$1=(ss.isValue(elmCurr))?elmCurr.ownerDocument:null;var $3=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientPosition(elmCurr);$0.set_x($0.get_x()+$3.get_x());$0.set_y($0.get_y()+$3.get_y());}return $0;}
Kepler.Engine.UI.Controls.Control.normalizeShowmeMouseEvtArgs=function(oEvtArgs,oRefDoc){if(ss.isNullOrUndefined(oRefDoc)){oRefDoc=document.documentElement.ownerDocument;}var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getIFrameClientPoint(oEvtArgs.get_target(),oRefDoc);if(!$0.isZero()){oEvtArgs.initMouseEventArgs(oEvtArgs.get_screenX(),oEvtArgs.get_screenY(),oEvtArgs.get_clientX()-$0.get_x(),oEvtArgs.get_clientY()-$0.get_y(),oEvtArgs.get_pageX(),oEvtArgs.get_pageY(),oEvtArgs.get_offsetX(),oEvtArgs.get_offsetY(),oEvtArgs.get_button());}}
Kepler.Engine.UI.Controls.Control.normalizeShowmeTouchEvtArgs=function(oEvtArgs,oRefDoc){if(ss.isNullOrUndefined(oRefDoc)){oRefDoc=document.documentElement.ownerDocument;}var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getIFrameClientPoint(oEvtArgs.get_target(),oRefDoc);if(!$0.isZero()){var $enum1=ss.IEnumerator.getEnumerator(oEvtArgs.get_touches());while($enum1.moveNext()){var $1=$enum1.current;$1.init($1.get_screenX(),$1.get_screenY(),$1.get_clientX()-$0.get_x(),$1.get_clientY()-$0.get_y(),$1.get_pageX(),$1.get_pageY(),$1.get_offsetX(),$1.get_offsetY(),$1.get_identifier(),oEvtArgs.get_target());}}}
Kepler.Engine.UI.Controls.Control.prototype={get_focusBorderElement:function(){return Kepler.Engine.UI.Controls.Control.$9;},$B:null,get_element:function(){return this.$B;},$C:null,get_scroller:function(){return this.$C;},set_scroller:function(value){this.$C=value;return value;},$D:null,get_elementStyle:function(){return this.$D;},$E:false,get_attached:function(){return this.$E;},$F:false,get_loaded:function(){return this.$F;},$10:false,get_disposed:function(){return this.$10;},_bActive:false,get_clientPosition:function(){return Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientPosition(this.get_element());},get_clientRect:function(){return Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientRect(this.get_element());},get_clientRectWithRespecttoDesktop:function(){return Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientRectWithRespectToDesktopFromElement(this.get_element());},get_html:function(){return this.get_element().innerHTML;},get_text:function(){return this.get_element().textContent;},$11:false,get_visible:function(){return this.$11;},$12:null,get_parent:function(){if(this.$12!=null&&this.$12.get_doNotHandleAsAParent()&&this.$12.get_parent()!=null){return this.$12.get_parent();}return this.$12;},set_parent:function(value){this.$12=value;return value;},$13:null,get_parentWnd:function(){return this.$13;},set_parentWnd:function(value){this.$13=value;return value;},$14:0,get_top:function(){return this.$14;},set_top:function(value){if(this.$14!==value){this.$14=value;this.$D.top=this.$14.toString()+'px';}return value;},$15:0,get_left:function(){return this.$15;},set_left:function(value){if(this.$15!==value){this.$15=value;this.$D.left=this.$15.toString()+'px';}return value;},$16:0,get_bottom:function(){return this.$16;},set_bottom:function(value){if(this.$16!==value||!this.$D.bottom.length){this.$16=value;this.$D.bottom=this.$16.toString()+'px';}return value;},$17:0,get_right:function(){return this.$17;},set_right:function(value){if(this.$17!==value||!this.$D.right.length){this.$17=value;this.$D.right=this.$17.toString()+'px';}return value;},get_position:function(){return new Kepler.Framework.UI.Point(this.$15,this.$14);},set_position:function(value){this.set_left(value.get_x());this.set_top(value.get_y());return value;},$18:0,$19:0,get_width:function(){return this.$19;},set_width:function(value){this.$19=value;if(this.$18!==this.$19){this.$18=this.$19;this.$D.width=this.$18.toString()+'px';this.onSize();}return value;},$1A:0,$1B:0,get_height:function(){return this.$1B;},set_height:function(value){this.$1B=value;if(this.$1A!==this.$1B){this.$1A=this.$1B;this.$D.height=this.$1A.toString()+'px';this.onSize();}return value;},get_size:function(){return new Kepler.Framework.UI.Size(this.$19,this.$1B);},set_size:function(value){var $0=false;this.$19=value.get_width();this.$1B=value.get_height();if(this.$18!==this.$19){this.$18=this.$19;this.$D.width=this.$18.toString()+'px';$0=true;}if(this.$1A!==this.$1B){this.$1A=this.$1B;this.$D.height=this.$1A.toString()+'px';$0=true;}if($0){this.onSize();}return value;},$1C:0,get_minimumWidth:function(){return this.$1C;},set_minimumWidth:function(value){if(this.$1C!==value){this.$D.minWidth=value.toString()+'px';this.$1C=value;}return value;},$1D:0,get_minimumHeight:function(){return this.$1D;},set_minimumHeight:function(value){if(this.$1D!==value){this.$D.minHeight=value.toString()+'px';this.$1D=value;}return value;},$1E:false,get_focusable:function(){return this.$1E;},set_focusable:function(value){this.$1E=value;return value;},$1F:false,get_donotHandleFocusOnLButtonDown:function(){return this.$1F;},set_donotHandleFocusOnLButtonDown:function(value){this.$1F=value;return value;},$20:false,get_fireOnFocusOnChildElementClick:function(){return this.$20;},set_fireOnFocusOnChildElementClick:function(value){this.$20=value;return value;},$21:0,get_showHideProperty:function(){return this.$21;},set_showHideProperty:function(value){this.$21=value;return value;},get_zIndex:function(){return this.get_elementStyle().zIndex;},set_zIndex:function(value){this.get_elementStyle().zIndex=value;return value;},$22:null,$23:false,get_stopEventProcessing:function(){return this.$23;},set_stopEventProcessing:function(value){this.$23=value;return value;},$24:false,get_rightClickEventNeeded:function(){return this.$24;},set_rightClickEventNeeded:function(value){this.$24=value;return value;},$25:false,get_dblClickEventNeeded:function(){return this.$25;},set_dblClickEventNeeded:function(value){this.$25=value;return value;},$26:false,get_enable:function(){return this.$26;},set_enable:function(value){this.$26=value;if(!this.$26&&this.getCapture()===this){this.releaseCapture();}return value;},$27:0,get_id:function(){return this.$27;},set_id:function(value){if(this.$27!==value){this.$27=value;}return value;},get_allowEventBubbling:function(){return ss.isNullOrUndefined(this.$B.Control);},set_allowEventBubbling:function(value){this.setElementField(this.$B,(value)?null:this);return value;},$28:null,get_data:function(){return this.$28;},set_data:function(value){this.$28=value;return value;},$29:false,get_doNotHandleAsAParent:function(){return this.$29;},set_doNotHandleAsAParent:function(value){this.$29=value;return value;},$2A:null,get_tooltipText:function(){if(this.$2A!=null){return this.$2A._strTextualData;}return '';},_strAriaSpeech:'',$2B:'',get_ariaSpeech:function(){if(String.isNullOrEmpty(this._strAriaSpeech)){return this.get_text();}return this._strAriaSpeech;},set_ariaSpeech:function(value){this._strAriaSpeech=value;return value;},get_ariaRole:function(){if(String.isNullOrEmpty(this.$2B)){return 'label';}return this.$2B;},set_ariaRole:function(value){this.$2B=value;return value;},$2C:false,get_alwaysSpeechOnSetFocus:function(){return this.$2C;},set_alwaysSpeechOnSetFocus:function(value){this.$2C=value;return value;},$2D:false,get_neverSpeechAriaText:function(){return this.$2D;},set_neverSpeechAriaText:function(value){this.$2D=value;return value;},_bAriaSpeechFromOnFocus:false,get_ariaSpeechFromOnFocus:function(){return this._bAriaSpeechFromOnFocus;},_bSetFocusUsingTab:false,get_setFocusUsingTab:function(){return this._bSetFocusUsingTab;},set_setFocusUsingTab:function(value){this._bSetFocusUsingTab=value;return value;},$2E:null,get_altChar:function(){return this.$2E;},set_altChar:function(value){this.$2E=value;return value;},_mapAriaAttributes:null,add_load:function(value){this.$2F=ss.Delegate.combine(this.$2F,value);},remove_load:function(value){this.$2F=ss.Delegate.remove(this.$2F,value);},$2F:null,add_focus:function(value){this.$30=ss.Delegate.combine(this.$30,value);},remove_focus:function(value){this.$30=ss.Delegate.remove(this.$30,value);},$30:null,add_lostFocus:function(value){this.$31=ss.Delegate.combine(this.$31,value);},remove_lostFocus:function(value){this.$31=ss.Delegate.remove(this.$31,value);},$31:null,add_detach:function(value){this.$32=ss.Delegate.combine(this.$32,value);},remove_detach:function(value){this.$32=ss.Delegate.remove(this.$32,value);},$32:null,onCreate:function(strTagName){if(String.isNullOrEmpty(strTagName)){throw new Error('Null Reference Exception : '+'strTagName');}return document.createElement(strTagName);},onLoad:function(){this.$F=true;this.addEvents(4096|16384);if(this.$2F!=null){this.$2F(this,null);}if(ss.isNullOrUndefined(this.get_scroller())){this.set_scroller(new Kepler.Framework.UI.Scroller.ScrollHandler());}this.get_scroller().initScroller();},getEventTargetControl:function(evt){return null;},dispose:function(){if(!this.$10){this.$10=true;this.onUnload();}},onUnload:function(){this.$33();Object.clearKeys(this.$22);this.set_allowEventBubbling(true);this.$2F=this.$30=this.$31=null;this.$22=null;this.$D=null;this.$B=null;},$33:function(){var $0=this.get_eventListeners();if($0!=null){var $1=Object.keys($0);while($1.length>0){var $2=$1[$1.length-1];var $3=false;var $4;if(($4=$2.indexOf('_capture'))>=0){$3=true;$2=$2.substr(0,$4);}this.detachEvent($2,$3);$1.removeAt($1.length-1);}}},onAttach:function(){this.$E=true;if(!this.$F){try{this.onLoad();}catch($0){throw $0;}}},onDetach:function(){this.$E=false;if(this.$32!=null){this.$32(this,null);}},onParentResized:function(szParent){},onSize:function(){},processTabOnControl:function(keyEvent,ctrl){if(ss.isValue(this.get_parent())){return this.get_parent().processTabOnControl(keyEvent,ctrl);}return false;},attachEvent:function(eventType,bUseCapture,eventListener){if(Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){var $1=eventType;if($1.indexOf('mouse')!==-1||$1.indexOf('click')!==-1){return;}}var $0=this.addEventListener(eventType,bUseCapture,eventListener);if($0!=null){this.$B.addEventListener(eventType,$0,((ss.isValue(bUseCapture))?bUseCapture:false));}},detachEvent:function(eventType,bUseCapture){var $0=this.removeEventListener(eventType,bUseCapture);if($0!=null){this.$B.removeEventListener(eventType,$0,((ss.isValue(bUseCapture))?bUseCapture:false));}},attachMessage:function(strMessage,msgHandler){this.$22[strMessage]=msgHandler;},detachMessage:function(strMessage){delete this.$22[strMessage];},sendMessage:function(strMessage,wParam,lParam){var $0=this.$22[strMessage];if($0!=null){return $0(wParam,lParam);}return null;},sendMessageToParent:function(strMessage,wParam,lParam){if(this.$12!=null){if(this.$12.get_doNotHandleAsAParent()&&this.$12.get_parent()!=null){return this.$12.get_parent().sendMessage(strMessage,wParam,lParam);}return this.$12.sendMessage(strMessage,wParam,lParam);}return null;},postMessage:function(strMessage,wParam,lParam,bRemovePreviousMsgs){Kepler.Framework.Core.Messaging.PostMessageManager.postMessage(this,strMessage,wParam,lParam,bRemovePreviousMsgs);},removePostMessage:function(strMessage){Kepler.Framework.Core.Messaging.PostMessageManager.removePreviousMessages(this,strMessage);},show:function(bShow,bForceVisible){this.$11=bShow;if(!this.$21){var $0='';if(bShow){if(ss.isValue(bForceVisible)&&bForceVisible){$0='visible';}else{$0='';}}else{$0='hidden';}this.get_elementStyle().visibility=$0;}else if(this.$21===1){var $1=this.get_element().className;if(ss.isNullOrUndefined($1)){$1='';}if(bShow){this.removeCssClass(' display_none');if(this.$19!==this.$18){this.set_width(this.$19);}if(this.$1B!==this.$1A){this.set_height(this.$1B);}}else{this.addCssClass(' display_none');}}},addCssClass:function(strClassName){Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this.$B,strClassName);},removeCssClass:function(strClassName){Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(this.$B,strClassName);},getCapture:function(){return Kepler.Framework.UI.Events.Capture.CaptureProvider.getCapture();},setCapture:function(){Kepler.Framework.UI.Events.Capture.CaptureProvider.setCapture(this);},releaseCapture:function(){Kepler.Framework.UI.Events.Capture.CaptureProvider.releaseCapture();},onCaptureChanged:function(capturedControl){},resetActiveControl:function(){this.onLostFocus(Kepler.Engine.UI.Controls.Control.$7);},getFocus:function(){return Kepler.Engine.UI.Controls.Control.$7;},setFocus:function(){if(this.$12!=null&&this.get_focusable()){var $0=Kepler.Engine.UI.Controls.Control.get_$8();Kepler.Engine.UI.Controls.Control.set_$8(this);if(this.$12.setActiveControl(this)){this._bAriaSpeechFromOnFocus=true;this.processSetFocus($0);}this.setFocusRectParams();if(Kepler.Framework.Accessibility.AccessibilitySupport.get_instance().get_isAccessibilityOn()&&!this.$2D&&this.$2C){this.setAriaAttributes();}this._bAriaSpeechFromOnFocus=false;return $0;}return null;},processSetFocus:function(oPrevControl){this.onFocus(oPrevControl);var $0=null;if(oPrevControl!=null){$0=oPrevControl.get_parentWnd();}var $1=this.get_parentWnd();if($0!==$1){try{if($0!=null){$0.onDeactivate($1);}}catch($2){}try{if($1!=null){$1.onActivate($0);}}catch($3){}}if($1!=null){$1.sendMessage('control_msg_focus_changed',null,Kepler.Engine.UI.Controls.Control.$7);}else if($0!=null){$0.sendMessage('control_msg_focus_changed',null,Kepler.Engine.UI.Controls.Control.$7);}},onFocus:function(oFocusedPrevControl){if(this.$30!=null){this.$30(this,null);}if(Kepler.Framework.Accessibility.AccessibilitySupport.get_instance().get_isAccessibilityOn()&&!this.$2D&&!this.$2C){this.setAriaAttributes();}},setAriaAttributes:function(){var $0=this.getAriaSpeech();if(!!$0||this.get_alwaysSpeechOnSetFocus()){Kepler.Framework.Accessibility.AccessibilitySupport.get_instance().setAccessibilitySpeech($0);Kepler.Framework.Accessibility.AccessibilitySupport.get_instance().setRole(this.get_ariaRole());try{this.updateAriaAttributes();Kepler.Framework.Accessibility.AccessibilitySupport.get_instance().setFocusOnAccessibilityElement(this._mapAriaAttributes);}catch($1){}}},getAriaSpeech:function(){var $0='';if(!ss.isNullOrUndefined(this.$2A)&&!String.isNullOrEmpty(this.$2A._strTextualData)){$0=this.$2A._strTextualData.trim();}else if(!String.isNullOrEmpty(this.get_ariaSpeech())){$0=this.get_ariaSpeech().trim();}return $0;},updateAriaAttributes:function(){this._mapAriaAttributes={};},onLostFocus:function(oFocusedNewControl){this.resetFocusParams();if(this.$31!=null){this.$31(this,null);}},setHtml:function(strHtml){this.get_element().innerHTML=strHtml;},setText:function(strText){this.get_element().textContent=strText;},isTouchEvent:function(mouseEventArgs){return mouseEventArgs.get_categoryType()===2;},isMultiTouchEvent:function(mouseEventArgs){if(this.isTouchEvent(mouseEventArgs)){return (mouseEventArgs).get_touches().length>1;}return false;},getOffsetPointFromEventArgs:function(mouseEventArgs,bUseControlPosition){if(mouseEventArgs.get_categoryType()===2){var $0=mouseEventArgs;return this.getOffsetPointFromTouchEventArgs($0,0,bUseControlPosition);}else{return this.getOffsetPointFromMouseEventArgs(mouseEventArgs,bUseControlPosition);}},getOffsetPointFromTouchEventArgs:function(touchEventArgs,iTouchIndex,bUseControlPosition){var $0=this.get_clientPosition();var $1=touchEventArgs.get_touches();if(!$1.length){$1=touchEventArgs.get_changedTouches();}var $2=1;return new Kepler.Framework.UI.Point(Math.round($2*$1[iTouchIndex].get_clientX())-$0.get_x(),Math.round($2*$1[iTouchIndex].get_clientY())-$0.get_y());},getOffsetPointFromMouseEventArgs:function(mouseEventArgs,bUseControlPosition){var $0=1;if(this.$B===mouseEventArgs.get_target()&&ss.isValue(mouseEventArgs.get_offsetX())){return new Kepler.Framework.UI.Point(Math.round($0*mouseEventArgs.get_offsetX()),Math.round($0*mouseEventArgs.get_offsetY()));}else{var $1=this.get_clientPosition();return new Kepler.Framework.UI.Point(Math.round($0*mouseEventArgs.get_pageX()-$1.get_x()),Math.round($0*mouseEventArgs.get_pageY()-$1.get_y()));}},getPagePointFromEventArgs:function(evt){var $0=1;if(evt.get_categoryType()===2){var $1=evt;var $2=$1.get_touches();if(!$2.length){$2=$1.get_changedTouches();}return new Kepler.Framework.UI.Point(Math.round($0*$2[0].get_pageX()),Math.round($0*$2[0].get_pageY()));}else{return new Kepler.Framework.UI.Point(Math.round($0*evt.get_pageX()),Math.round($0*evt.get_pageY()));}},getScreenPointFromEventArgs:function(evt){var $0=1;if(evt.get_categoryType()===2){var $1=evt;var $2=$1.get_touches();if(!$2.length){$2=$1.get_changedTouches();}return new Kepler.Framework.UI.Point(Math.round($0*$2[0].get_screenX()),Math.round($0*$2[0].get_screenY()));}else{return new Kepler.Framework.UI.Point(Math.round($0*evt.get_screenX()),Math.round($0*evt.get_screenY()));}},getClientPointFromOffsetPoint:function(ptOffset,bUseClientPosition){return Kepler.Engine.UI.Helper.HtmlCssHelper.getClientPointFromOffsetPoint(ptOffset,this.$B,this.get_clientPosition());},isMouseEventInElementRect:function(mouseEventArgs,element){if(ss.isNullOrUndefined(element)){element=this.$B;}var $0=Kepler.Engine.UI.Controls.Control.getClientPointFromEventArgs(mouseEventArgs);var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientRect(element);return $1.isPtInRect($0.get_x(),$0.get_y());},getEventListener:function(eventType){return null;},getFocusRect:function(){var $0=new Kepler.Framework.UI.Rect(0,0,0,0);$0.set_top(this.$14+1);$0.set_left(this.$15+1);$0.set_height(this.$1B-2);$0.set_width(this.$19-2);return $0;},setFocusRectParams:function(){if((Kepler.Engine.UI.DialogBase).isInstanceOfType(this.get_parentWnd())){var $0=this.getFocusRect();if(ss.isValue($0)&&!$0.get_isZero()){Kepler.Engine.UI.Helper.HtmlCssHelper.setElementSize(Kepler.Engine.UI.Controls.Control.$9,$0.get_size());Kepler.Engine.UI.Helper.HtmlCssHelper.setElementTop(Kepler.Engine.UI.Controls.Control.$9,$0.get_top().toString()+'px');Kepler.Engine.UI.Helper.HtmlCssHelper.setElementLeft(Kepler.Engine.UI.Controls.Control.$9,$0.get_left().toString()+'px');Kepler.Engine.UI.Controls.Control.$9.style.visibility='visible';Kepler.Engine.UI.Controls.Control.$9.style.zIndex=9001;this.setElementField(Kepler.Engine.UI.Controls.Control.$9,this);if(this.get_parent()===(this.get_parentWnd()).get_client()){(this.get_parentWnd()).get_client().get_scrollableDiv().get_element().appendChild(Kepler.Engine.UI.Controls.Control.$9);}else{this.get_parent().get_element().appendChild(Kepler.Engine.UI.Controls.Control.$9);}}}},resetFocusParams:function(){if(ss.isValue(this.get_parent())&&this.get_parent().get_element().contains(Kepler.Engine.UI.Controls.Control.$9)){var $0=Kepler.Engine.UI.Controls.Control.$9.parentNode;if($0!=null){$0.removeChild(Kepler.Engine.UI.Controls.Control.$9);}}},setElementField:function(element,oControl){element.Control=oControl;},onPretranslateEvent:function(sender,eventArgs){if(!ss.isNullOrUndefined(this.$12)){return this.$12.onPretranslateEvent(sender,eventArgs);}else{return false;}},onMouseClick:function(evt){},onMouseDblClick:function(evt){},onLButtonDown:function(evt){if(!this.$1F&&this.$1E&&this.$20){this.setFocus();}},onMButtonDown:function(evt){},onRButtonDown:function(evt){},onLButtonUp:function(evt){},onMButtonUp:function(evt){},onRButtonUp:function(evt){},onMouseOver:function(evt){if(this.$2A!=null){var $0=evt.get_relatedTarget();if($0!=null){var $1=$0.parentNode;var $2=true;while(ss.isValue($1)){if($1===this.get_element()){$2=false;break;}$1=$1.parentNode;}if($2){var $3=Kepler.Engine.UI.Controls.Control.getClientPointFromEventArgs(evt).clone();$3.set_y($3.get_y()+20);var $4=false;if(Kepler.Engine.UI.Controls.Tooltip.TooltipManager.get_instance().get_tooltipControl().get_visible()){$4=true;}var $5=new Kepler.Engine.UI.Controls.Tooltip.TooltipLaunch_Params(this.$2A,$4,$3,true,this.get_id(),this);$5.set_isSetAriaAttribute(true);Kepler.Engine.UI.Controls.Tooltip.TooltipManager.get_instance().showTooltip($5);}}}},onMouseMove:function(evt){},onMouseOut:function(evt){if(this.$2A!=null){var $0=evt.get_relatedTarget();var $1=true;if($0!=null){var $2=$0.parentNode;while(ss.isValue($2)){if($2===this.get_element()){$1=false;break;}$2=$2.parentNode;}}if($1){Kepler.Engine.UI.Controls.Tooltip.TooltipManager.get_instance().hideTooltip();}}},onMouseWheel:function(evt){},onTouchStart:function(evt){if(Kepler.Engine.UI.Controls.Control.$6.get_doubleClickTimer().get_isRunning()&&Kepler.Engine.UI.Controls.Control.$6.get_$E()!==this){Kepler.Engine.UI.Controls.Control.$6.$16();Kepler.Engine.UI.Controls.Control.$6.$21(null);Kepler.Engine.UI.Controls.Control.$6.set_$E(null);}if(Kepler.Engine.UI.Controls.Control.$6.get_$E()==null||evt.get_touches().length===1||!Kepler.Engine.UI.Controls.Control.$6.getRegTouchCount()){Kepler.Engine.UI.Controls.Control.$6.set_$E(this);}Kepler.Engine.UI.Controls.Control.$6.$22(evt);},onTouchMove:function(evt){Kepler.Engine.UI.Controls.Control.$6.$23(evt);},onTouchEnd:function(evt){try{Kepler.Engine.UI.Controls.Control.$6.$25(evt);}finally{if(!(this.get_dblClickEventNeeded()&&Kepler.Engine.UI.Controls.Control.$6.get_doubleClickTimer().get_isRunning())&&!evt.get_touches().length){Kepler.Engine.UI.Controls.Control.$6.set_$E(null);}}},onTouchCancel:function(evt){this.onTouchEnd(evt);},onKeyDown:function(evt){if(evt.get_key()===9){if((Kepler.Engine.UI.Controls.ContainerControl).isInstanceOfType(this)){return;}evt.set_defaultPrevented(true);var $0=false;if(ss.isValue(this.get_parent())&&this.get_parent().get_defaultTabHandling()){$0=this.get_parent().processTabOnControl(evt,this);}return;}return;},onKeyUp:function(evt){},onKeyPress:function(evt){},onCut:function(evt){},onCopy:function(evt){},onPaste:function(evt){},$34:function(){},$35:function($p0){var $0='';return $0;},$36:function(){},$37:function(){},$38:function(){},$39:function(){},$3A:null,dZoom:1,dLastZoom:0,dCurrentZoom:0,onPinchStart:function(gesturePinchEventArgs){try{this.$3A=gesturePinchEventArgs.distance;this.dCurrentZoom=this.dZoom;this.$35(this.get_element());}catch($0){}},onPinching:function(gesturePinchEventArgs){try{this.$35(this.get_element());this.dZoom=(this.dCurrentZoom+((gesturePinchEventArgs.distance)-this.$3A)/1000);}catch($0){}},onPinchEnd:function(gesturePinchEventArgs){this.$3A=0;this.$35(this.get_element());},onSwipeStart:function(gestureSwipeEventArgs){this.$35(this.get_element());},onSwiping:function(gestureSwipeEventArgs){this.$35(this.get_element());},onSwipeEnd:function(gestureSwipeEventArgs){this.$35(this.get_element());},setScrollable:function(scrollStruct){if(ss.isNullOrUndefined(scrollStruct.scrollElement)){return null;}if(ss.isNullOrUndefined(this.get_scroller())){this.set_scroller(new Kepler.Framework.UI.Scroller.ScrollHandler());}var $0=this.get_scroller().addScroller(scrollStruct);if(this.get_loaded()){this.get_scroller().initScroller();}return $0;},refreshScroller:function(){if(this.get_loaded()&&ss.isValue(this.$C)){this.$C.refresh();}},setTooltipParams:function(sTooltip,eTooltipType,sImageClass){if(!String.isNullOrEmpty(sTooltip)){var $0=null;if(ss.isValue(sImageClass)){$0=sImageClass;}this.$2A=new Kepler.Engine.UI.Controls.Tooltip.Tooltip_Params(eTooltipType,sTooltip,$0);}}}
Kepler.Engine.UI.Controls.EditSpinCtrl=function(oPosition,oCtrlSize,bInt,fIncr,fMinVal,fMaxVal,iPrecision,iEditWidth,strId,strSuffix,strAuto){this._iEditVal=-1;this.$49=-1;Kepler.Engine.UI.Controls.EditSpinCtrl.initializeBase(this,['div','editspin',strId]);this.set_position(oPosition);this.set_size(oCtrlSize);this.$47=new Kepler.Framework.UI.Size(oCtrlSize.get_width(),oCtrlSize.get_height());this.$48=new Kepler.Framework.UI.Size(oCtrlSize.get_width(),oCtrlSize.get_height());if(ss.isValue(iEditWidth)&&iEditWidth!==-1){this.$47.set_width(iEditWidth);this.$48.set_width(oCtrlSize.get_width()-iEditWidth);}else{this.$48.set_width(15);this.$47.set_width(oCtrlSize.get_width()-this.$48.get_width());}if(ss.isValue(strSuffix)&&strSuffix.length>0){this.$4B=strSuffix;}if(ss.isValue(strAuto)){this.$4C=strAuto;this.$4D=true;}this.$52(fMinVal.toString(),new Kepler.Framework.UI.Point(-1,-1),this.$47);this.createSpinButton(new Kepler.Framework.UI.Point(this.$47.get_width(),0),this.$48);this.$43=bInt;this.$46=fIncr;this.$44=fMinVal;this.$45=fMaxVal;this.$41=fMinVal.toString();this.$49=fMinVal;this._iEditVal=parseInt(fMinVal);this.$4A=iPrecision;this.set_focusChildCtrlsOnTab(false);this.$50=ss.Delegate.create(this,this.touchHookProc);}
Kepler.Engine.UI.Controls.EditSpinCtrl.prototype={_txtEdit:null,get_textControl:function(){return this._txtEdit;},_oSpinButton:null,$41:null,$42:false,get_autoCorrect:function(){return this.$42;},set_autoCorrect:function(value){this.$42=value;return value;},$43:false,get_isInt:function(){return this.$43;},set_isInt:function(value){this.$43=value;return value;},$44:0,get_minValue:function(){return this.$44;},set_minValue:function(value){this.$44=value;return value;},$45:0,get_maxValue:function(){return this.$45;},set_maxValue:function(value){this.$45=value;return value;},$46:0,get_incrementValue:function(){return this.$46;},set_incrementValue:function(value){this.$46=value;return value;},$47:null,$48:null,$4A:0,$4B:'',get_suffix:function(){return this.$4B;},set_suffix:function(value){this.$4B=value;return value;},$4C:null,$4D:false,$4E:null,$4F:false,$50:null,$51:false,get_ariaSpeech:function(){var $0=' To set the value use the arrow keys or type the value ',$1='';if(!String.isNullOrEmpty(this.get_altChar().trim())){$0+='or use '+this.get_altChar();}var $2=parseInt(this._txtEdit.get_text(),10);if(!isNaN($2)){$1=($2<0)?('minus '+Math.abs($2).toString()):$2.toString();}return (Kepler.Engine.UI.Controls.EditSpinCtrl.callBaseMethod(this, 'get_ariaSpeech')+' edit spin box '+$1+$0);},set_ariaSpeech:function(value){Kepler.Engine.UI.Controls.EditSpinCtrl.callBaseMethod(this, 'set_ariaSpeech',[value]);return value;},$52:function($p0,$p1,$p2){$p0+=this.$4B;this._txtEdit=new Kepler.Engine.UI.Controls.SpinEdit($p0,$p1,$p2,true);this._txtEdit.set_neverSpeechAriaText(true);this.add(this._txtEdit);},createSpinButton:function(oPosition,oSize){this._oSpinButton=new Kepler.Engine.UI.Controls.SpinButton(oPosition,oSize);this.add(this._oSpinButton);},onLoad:function(){Kepler.Engine.UI.Controls.EditSpinCtrl.callBaseMethod(this, 'onLoad');this.$54();this.$53();},onAttach:function(){Kepler.Engine.UI.Controls.EditSpinCtrl.callBaseMethod(this, 'onAttach');Kepler.Framework.UI.Events.Hooks.TouchHook.register(this.$50);},onDetach:function(){Kepler.Engine.UI.Controls.EditSpinCtrl.callBaseMethod(this, 'onDetach');Kepler.Framework.UI.Events.Hooks.TouchHook.unRegister(this.$50);},$53:function(){this._txtEdit.add_lostFocus(ss.Delegate.create(this,this.$59));this._txtEdit.add_focus(ss.Delegate.create(this,this.$5A));},$54:function(){this.attachMessage('spin_button_clicked',ss.Delegate.create(this,this.onMsgSpinBtnNotification));this.attachMessage('TextChanged',ss.Delegate.create(this,this.onMsgTextChanged));},$55:function($p0,$p1){var $0;var $1;var $2;var $3=1;if(!$p0){$0=parseInt((parseFloat(this.$49.toFixed(this.$4A))*Math.pow(10,this.$4A)));$1=parseInt((this.$46*Math.pow(10,this.$4A)));$2=parseInt((this.$44*Math.pow(10,this.$4A)))%$1;}else{$0=this._iEditVal;$1=parseInt(this.$46);$2=parseInt(this.$44);}while(!!($0%$1)){if($3<$1){if($p1){++$0;}else{--$0;}}else{return;}++$3;}if(!$p0){this.$49=$0*Math.pow(10,-this.$4A);}else{this._iEditVal=$0;}},$56:function(){var $0;$0=this.getEditText().trim();if(!!$0){if(this.$4D&&$0===this.$4C){$0=this.$44.toString();}else{if(this.$43){if(isNaN(this._iEditVal)){if(this.$44>0){this._iEditVal=parseInt(this.$44)+parseInt(this.$46);}else{this._iEditVal=0+parseInt(this.$46);}$0=this._iEditVal.toString();}else{if(this._iEditVal>=parseInt(this.$45)){$0=this.$45.toString();}else{if(!(this._iEditVal%parseInt(this.$46))){this._iEditVal+=parseInt(this.$46);}else{this.$55(true,true);}$0=this._iEditVal.toString();}}}else{if(isNaN(this.$49)){if(this.$44>0){this.$49=this.$44+this.$46;}else{this.$49=0+this.$46;}$0=this.$49.toString();}else{if(this.$49>=this.$45){$0=this.$45.toString();}else{var $1=parseInt((parseFloat(this.$49.toFixed(this.$4A))*Math.pow(10,this.$4A)));var $2=parseInt((this.$46*Math.pow(10,this.$4A)));var $3=parseInt((this.$44*Math.pow(10,this.$4A)));if(!($1%$2)){this.$49+=this.$46;}else{this.$55(false,true);}$0=this.$49.toFixed(this.$4A);}}}}}else{if(this.$44>0){if(this.$43){this._iEditVal=parseInt(this.$44)+parseInt(this.$46);$0=this._iEditVal.toString();}else{this.$49=this.$44+this.$46;$0=this.$49.toFixed(this.$4A);}}else{if(this.$43){this._iEditVal=0+parseInt(this.$46);$0=this._iEditVal.toString();}else{this.$49=0+this.$46;$0=this.$49.toFixed(this.$4A);}}}if(Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){this.setEditText($0,false);}else{this.setEditText($0,true);}},$57:function(){var $0=false;if(this.$43&&this._iEditVal<=parseInt(this.$44)){$0=true;}else if(!this.$43&&this.$49<=this.$44){$0=true;}return $0;},decrementVal:function(){var $0;$0=this.getEditText().trim();if(!!$0){if(this.$4D&&($0===this.$4C||this.$57())){$0=this.$4C;}else{if(this.$43){if(isNaN(this._iEditVal)){if(this.$44>0){this._iEditVal=parseInt(this.$44)-parseInt(this.$46);}else{this._iEditVal=0-parseInt(this.$46);}$0=this._iEditVal.toString();}else{if(this._iEditVal<=parseInt(this.$44)){$0=this.$44.toString();}else{if(!(this._iEditVal%parseInt(this.$46))){this._iEditVal-=parseInt(this.$46);}else{this.$55(true,false);}$0=this._iEditVal.toString();}}}else{if(isNaN(this.$49)){if(this.$44>0){this.$49=this.$44-this.$46;}else{this.$49=0-this.$46;}$0=this.$49.toString();}else{if(this.$49<=this.$44){$0=this.$44.toString();}else{var $1=parseInt((parseFloat(this.$49.toFixed(this.$4A))*Math.pow(10,this.$4A)));var $2=parseInt((this.$46*Math.pow(10,this.$4A)));var $3=parseInt((this.$44*Math.pow(10,this.$4A)));if(!($1%$2)){this.$49-=this.$46;}else{this.$55(false,false);}$0=this.$49.toFixed(this.$4A);}}}}}else{if(this.$44>=0){if(this.$43){this._iEditVal=parseInt(this.$44);$0=this._iEditVal.toString();}else{this.$49=this.$44;$0=this.$49.toFixed(this.$4A);}}else{if(this.$43){this._iEditVal=0-parseInt(this.$46);$0=this._iEditVal.toString();}else{this.$49=0-this.$46;$0=this.$49.toFixed(this.$4A);}}}if(Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){this.setEditText($0,false);}else{this.setEditText($0,true);}},setEditText:function(strText,bSetSelection,bSendMsgToParent){this.$41=strText;if(strText!==this.$4C){if(!!strText.trim()){if(this.$43){this._iEditVal=parseInt(strText);}else{this.$49=parseFloat(strText);if(!(this.$49-parseInt(this.$49))){var $0=strText.indexOf('.');if($0!==-1){strText=strText.substring(0,$0);}}}strText+=this.$4B;}else{if(this.$43){this._iEditVal=parseInt(this.$44);}else{this.$49=this.$44;}}}else{this.$4D=true;}if(ss.isNullOrUndefined(bSendMsgToParent)){this._txtEdit.setText(strText);}else{this._txtEdit.setText(strText,bSendMsgToParent);}if(bSetSelection&&!Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){this._txtEdit.setSelection(0,strText.length);this._txtEdit.set_neverSpeechAriaText(false);this._txtEdit.setFocus();this._txtEdit.set_neverSpeechAriaText(true);}},getEditText:function(){var $0='';var $1=this._txtEdit.get_text().replace(this.$4B,'').trim();var $2=new RegExp('^\\d*(?:\\.\\d\\d*)?$');var $3=$1.match($2);if($2.test($1)){var $4=parseFloat($1);if(isNaN($4)){$0=$1;}else{$0=$4.toString();}}else{$0=$1;}return $0;},getWholeText:function(){return this._txtEdit.get_text().trim();},setEditSelection:function(iStartIndex,iEndIndex){if(!Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){this._txtEdit.setSelection(iStartIndex,iEndIndex);}},stopTimer:function(){this._oSpinButton.stopTimer();},processEditKeyDown:function(eKey){switch(eKey){case 38:this._oSpinButton.changeStateSpinBtn(0,2);this.$56();break;case 40:this._oSpinButton.changeStateSpinBtn(1,2);this.decrementVal();break;}},resetKeyDownChanges:function(){this._oSpinButton.changeStateSpinBtn(0,0);this._oSpinButton.changeStateSpinBtn(1,0);},$58:function(){var $0=new Kepler.Framework.UI.Controls.OnCommandStruct();if(this.$43){$0.setData(this._iEditVal,3);var $1=this.sendMessageToParent('msg_command',$0,this);if(!$1){this.sendMessageToParent('edit_spin_val_changed',this._iEditVal,this);}}else{$0.setData(this.$49,3);var $2=this.sendMessageToParent('msg_command',$0,this);if(!$2){this.sendMessageToParent('edit_spin_val_changed',this.$49,this);}}},onFocus:function(oFocusedPrevControl){this._txtEdit.setFocus();this._txtEdit.setSelection(0,this._txtEdit.get_text().length);Kepler.Engine.UI.Controls.EditSpinCtrl.callBaseMethod(this, 'onFocus',[oFocusedPrevControl]);},getFocusRect:function(){return null;},setFocus:function(){if(Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){return Kepler.Engine.UI.Controls.EditSpinCtrl.callBaseMethod(this, 'setFocus');}else{return this._txtEdit.setFocus();}},isMessageFromSlaveCtrl:function(oSlaveCtrl){if(oSlaveCtrl===this._txtEdit||oSlaveCtrl===this._oSpinButton||oSlaveCtrl.get_parent()===this._oSpinButton){return true;}else{return false;}},$59:function($p0,$p1){this.onLostFocus(($p0).get_parent());if(this.$4F){this.$4E.resetZoom();this.get_elementStyle().zIndex=0;this.$4F=false;}},$5A:function($p0,$p1){this.onFocus(($p0).get_parent());},$5B:function(){this.$4E=new Kepler.Framework.UI.ElementZooming();this.$4E._jQElem=$(this.get_element());this.$4E._jQElemPos=this.$4E._jQElem.position();var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.calcOffsetBetwnElement(this.get_parentWnd().get_element(),this.get_element());this.$4E._rcElem=new Kepler.Framework.UI.Rect($0.get_x(),$0.get_y(),this.get_width(),this.get_height());this.$4E.applyZoom(2.5,this.get_parentWnd().get_size());this.$4F=true;},onMsgSpinBtnNotification:function(wParam,lParam){var $0=wParam;if(!$0){this.$56();}else{this.decrementVal();}this.$58();return null;},onMsgTextChanged:function(wParam,lParam){var $0=wParam;if($0!==this.$4C){if(this.$43){this._iEditVal=parseInt($0);}else{this.$49=parseFloat($0);}}if(!$0.trim()){if(this.$43){this._iEditVal=parseInt(this.$44);}else{this.$49=parseInt(this.$44);}}this.$58();return null;},onLostFocus:function(oFocusedNewControl){Kepler.Engine.UI.Controls.EditSpinCtrl.callBaseMethod(this, 'onLostFocus',[oFocusedNewControl]);if(this.containsControl(oFocusedNewControl)){return;}if(this.$4F){this.$4E.resetZoom();this.get_elementStyle().zIndex=0;this.$4F=false;}var $0=this.getEditText();if($0==='NaN'){this.setEditText(this.$44.toString(),false);Kepler.Engine.UI.Controls.EditSpinCtrl.callBaseMethod(this, 'onLostFocus',[oFocusedNewControl]);}},$5C:function($p0){if(this.$43){var $0=parseInt($p0);}else{var $1=parseFloat($p0);}return false;},$5D:function(){var $0=this.getEditText();var $1=0;var $2=0;if(this.$43){$1=parseInt($0);$0=$1.toString();}else{$2=parseFloat($0);$0=$2.toString();}if($0==='NaN'){this.setEditText(this.$41,false);}else{if(this.$43){if($1<=parseInt(this.$44)){$0=this.$44.toString();}else if($1>=parseInt(this.$45)){$0=this.$45.toString();}}else{if($2<=this.$44){$0=this.$44.toString();}else if($2>=this.$45){$0=this.$45.toString();}}this.setEditText($0,false);}},onPretranslateEvent:function(sender,eventArgs){if(eventArgs.get_type()===256&&!this.$4F){this.$5B();this.get_elementStyle().zIndex=9001;this.setFocus();}return Kepler.Engine.UI.Controls.EditSpinCtrl.callBaseMethod(this, 'onPretranslateEvent',[sender,eventArgs]);},touchHookProc:function(eventArgs){var $0=eventArgs.get_type();var $1=eventArgs.get_target();var $2=false;var $3=eventArgs;switch($0){case 256:case 2:var $4=$3.get_touches();var $5=this.get_clientRect();if(this.$4F&&(!$5.isPtInRect($4[0].get_clientX(),$4[0].get_clientY()))){this.$51=true;}break;case 1024:case 8:if(this.$4F&&this.$51){Kepler.Engine.UI.Controls.EditSpinCtrl.callBaseMethod(this, 'onTouchEnd',[$3]);Kepler.Engine.UI.Controls.EditSpinCtrl.callBaseMethod(this, 'setFocus');this.$51=false;if(this.$4F){this.$4E.resetZoom();this.get_elementStyle().zIndex=0;this.$4F=false;}}break;case 512:case 4:break;default:break;}return $2;},getShowMeEventType:function(){return 2;},isControlFocused:function(){return this.getFocus()===this._txtEdit;},getPreShowMeEventType:function(){return this._txtEdit.getPreShowMeEventType();},getTargetElement:function(oData){return this._txtEdit.getTargetElement(oData);},fillShowMeEventData:function(lstEventData){},fillDynamicShowMeEventData:function(){return null;}}
Kepler.Engine.UI.Controls.SpinButton=function(oPosition,oCtrlSize){Kepler.Engine.UI.Controls.SpinButton.initializeBase(this,['div','spin_button']);this.set_size(oCtrlSize);if(oPosition!=null){this.set_position(oPosition);}var $0=new Kepler.Framework.UI.Size(oCtrlSize.get_width(),oCtrlSize.get_height()/2);this.createButtons($0);this._oImgBtnDn.set_sendClickMsgOnMouseDown(true);this._oImgBtnUp.set_sendClickMsgOnMouseDown(true);this.$41=new Kepler.Framework.Core.Timers.Timer(ss.Delegate.create(this,this.$44),500);}
Kepler.Engine.UI.Controls.SpinButton.prototype={_oImgBtnUp:null,_oImgBtnDn:null,$41:null,$42:0,onLoad:function(){Kepler.Engine.UI.Controls.SpinButton.callBaseMethod(this, 'onLoad');this.add(this._oImgBtnUp);this.add(this._oImgBtnDn);this._oImgBtnDn.set_focusable(false);this._oImgBtnUp.set_focusable(false);this.$43();},createButtons:function(oBtnSize){this._oImgBtnUp=new Kepler.Engine.UI.Controls.CssImageTextButton(null,new Kepler.Framework.UI.Point(0,0),oBtnSize,'BtnUp','img_btn_up');this._oImgBtnDn=new Kepler.Engine.UI.Controls.CssImageTextButton(null,new Kepler.Framework.UI.Point(0,oBtnSize.get_height()),oBtnSize,'BtnDn','img_btn_down');this._oImgBtnUp.get_elementStyle().lineHeight='0px';this._oImgBtnDn.get_elementStyle().lineHeight='0px';},$43:function(){this.attachMessage('ButtonClicked',ss.Delegate.create(this,this.onMsgBtnClicked));},changeStateSpinBtn:function(eSpinBtn,oState){if(!eSpinBtn){this._oImgBtnUp.changeState(oState);}else{this._oImgBtnDn.changeState(oState);}},$44:function($p0){if(!this.$42){this.onMsgBtnClicked(null,this._oImgBtnUp);}else if(this.$42===1){this.onMsgBtnClicked(null,this._oImgBtnDn);}this.$41.set_interval(100);},stopTimer:function(){this.$41.stop();},onPretranslateEvent:function(sender,eventArgs){var $0=Kepler.Engine.UI.Controls.SpinButton.callBaseMethod(this, 'onPretranslateEvent',[sender,eventArgs]);if($0){return true;}var $1=sender;if((eventArgs.get_type()===2||eventArgs.get_type()===8||eventArgs.get_type()===256||eventArgs.get_type()===1024)){var $2=eventArgs;if(eventArgs.get_type()===256||(!$2.get_button()&&eventArgs.get_type()===2)){if($1===this._oImgBtnUp){this.$42=0;}else if($1===this._oImgBtnDn){this.$42=1;}this.$41.set_interval(500);this.$41.start();}else if(eventArgs.get_type()===1024||(!$2.get_button()&&$2.get_type()===8)){this.$41.stop();}}return false;},onMsgBtnClicked:function(wParam,lParam){var $0=0;var $1=lParam;if($1===this._oImgBtnUp){$0=0;}else if($1===this._oImgBtnDn){$0=1;}return this.sendMessageToParent('spin_button_clicked',$0,this);}}
Kepler.Engine.UI.Controls.SpinEdit=function(strText,ptPosition,oSize,bNumeric,strId){Kepler.Engine.UI.Controls.SpinEdit.initializeBase(this,[strText,ptPosition,oSize,null,strId]);this.$4B=bNumeric;this.set_neverSpeechAriaText(true);}
Kepler.Engine.UI.Controls.SpinEdit.prototype={$4B:false,get_ariaRole:function(){return 'label';},set_ariaRole:function(value){Kepler.Engine.UI.Controls.SpinEdit.callBaseMethod(this, 'set_ariaRole',[value]);return value;},onLoad:function(){Kepler.Engine.UI.Controls.SpinEdit.callBaseMethod(this, 'onLoad');this.addEvents(16|32);},onLostFocus:function(oFocusedNewControl){Kepler.Engine.UI.Controls.SpinEdit.callBaseMethod(this, 'onLostFocus',[oFocusedNewControl]);if((this.get_parent()).get_autoCorrect()){(this.get_parent()).$5D();}},onKeyDown:function(evt){Kepler.Engine.UI.Controls.SpinEdit.callBaseMethod(this, 'onKeyDown',[evt]);evt.set_propogationStopped(true);if(evt.get_key()===38||evt.get_key()===40){evt.set_defaultPrevented(true);(this.get_parent()).processEditKeyDown(evt.get_key());}},onKeyUp:function(evt){Kepler.Engine.UI.Controls.SpinEdit.callBaseMethod(this, 'onKeyUp',[evt]);evt.set_propogationStopped(true);if(evt.get_key()===38||evt.get_key()===40){(this.get_parent()).resetKeyDownChanges();}},onMouseOver:function(evt){Kepler.Engine.UI.Controls.SpinEdit.callBaseMethod(this, 'onMouseOver',[evt]);evt.set_propogationStopped(false);this.get_parent().onMouseOver(evt);},onMouseOut:function(evt){Kepler.Engine.UI.Controls.SpinEdit.callBaseMethod(this, 'onMouseOut',[evt]);this.get_parent().onMouseOut(evt);}}
Kepler.Engine.UI.Controls.GroupCtrl=function(strGroupHeading,ptPosition,oCtrlSize,strCssClassName,bTabbedDialog){Kepler.Engine.UI.Controls.GroupCtrl.initializeBase(this,['div',(ss.isValue(strCssClassName))?strCssClassName:(ss.isValue(bTabbedDialog)&&!bTabbedDialog)?'Group_Ctrl':'Group_Ctrl_Tabbed']);if(ss.isValue(ptPosition)){this.set_position(ptPosition);}if(ss.isValue(oCtrlSize)){this.set_size(oCtrlSize);}this.$3B=strGroupHeading;this.$3C=document.createElement('div');this.get_element().appendChild(this.$3C);this.setGroupHeading(this.$3B);this.set_focusable(false);}
Kepler.Engine.UI.Controls.GroupCtrl.prototype={$3B:null,$3C:null,get_enable:function(){return Kepler.Engine.UI.Controls.GroupCtrl.callBaseMethod(this, 'get_enable');},set_enable:function(value){if(this.get_enable()!==value){Kepler.Engine.UI.Controls.GroupCtrl.callBaseMethod(this, 'set_enable',[value]);if(value){this.$3C.style.color='black';}else{this.$3C.style.color='#6D6D6D';}}return value;},setGroupHeading:function(strHeading){this.$3B=strHeading;if(ss.isValue(this.$3C)){this.$3C.innerHTML=strHeading;if(!!strHeading&&Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){var $0=this.$3C.clientWidth;if($0>0){this.$3C.style.width=$0.toString()+'px';}}}}}
Kepler.Engine.UI.Controls.ImageLabel=function(strHtml,strControlCSSClass,strImageCSSClass,oPosition,oSize,oImageSize,strId){Kepler.Engine.UI.Controls.ImageLabel.initializeBase(this,['div',(String.isNullOrEmpty(strControlCSSClass))?'image_label':strControlCSSClass,strId]);if(ss.isValue(oPosition)){this.set_position(oPosition);}if(ss.isValue(oSize)){this.set_size(oSize);}if(ss.isNullOrUndefined(oImageSize)){oImageSize=new Kepler.Framework.UI.Size(0,0);}this.set_focusable(false);var $0=(this.get_size().get_height()-oImageSize.get_height())/2;this.$3D=strImageCSSClass;this.$3C=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div',null,'absolute',0,$0,oImageSize.get_width(),oImageSize.get_height(),strImageCSSClass,null);this.get_element().appendChild(this.$3C);this._elmLabel=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('span',null,'absolute',oImageSize.get_width()+6,null,null,null,'',null);Kepler.Engine.UI.Helper.HtmlCssHelper.setElementInnerHtml(this._elmLabel,strHtml);this._elmLabel.style.verticalAlign='middle';this._elmLabel.style.lineHeight=this.get_size().get_height()+'px';this.get_element().appendChild(this._elmLabel);}
Kepler.Engine.UI.Controls.ImageLabel.prototype={$3C:null,_elmLabel:null,get_text:function(){return this._elmLabel.textContent;},get_enable:function(){return Kepler.Engine.UI.Controls.ImageLabel.callBaseMethod(this, 'get_enable');},set_enable:function(value){Kepler.Engine.UI.Controls.ImageLabel.callBaseMethod(this, 'set_enable',[value]);this.$3E(value);return value;},$3D:null,get_imageCSSClass:function(){return this.$3D;},onLoad:function(){Kepler.Engine.UI.Controls.ImageLabel.callBaseMethod(this, 'onLoad');this.addEvents(2|4|8|16|32|128|256|512|1024|4096|16384|64);},$3E:function($p0){if(this.get_loaded()){if($p0){Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(this._elmLabel,' text_disabled');}else{Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this._elmLabel,' text_disabled');}}}}
Kepler.Engine.UI.Controls.Label=function(strHtml,oPosition,strCssClassName,oSize,strId,element){Kepler.Engine.UI.Controls.Label.initializeBase(this,['span',(ss.isValue(strCssClassName))?strCssClassName:'label',strId,element]);if(ss.isValue(strHtml)){this.setHtml(strHtml);}if(ss.isValue(oPosition)){this.set_position(oPosition);}if(ss.isValue(oSize)){this.set_size(oSize);}this.set_focusable(false);this.set_dblClickEventNeeded(true);this.$3B=-1;this.$3C=-1;}
Kepler.Engine.UI.Controls.Label.prototype={get_enable:function(){return Kepler.Engine.UI.Controls.Label.callBaseMethod(this, 'get_enable');},set_enable:function(value){this.$3E(value);Kepler.Engine.UI.Controls.Label.callBaseMethod(this, 'set_enable',[value]);this.$3F(value);return value;},$3B:0,$3C:0,onLoad:function(){Kepler.Engine.UI.Controls.Label.callBaseMethod(this, 'onLoad');var $0=this.get_element().innerHTML;var $1=$0.indexOf('<u>');if($1>-1){var $2=$0.remove($1,3);this.$3B=$2.charCodeAt($1);this.$3C=$1;}this.$3D();},$3D:function(){var $0=2|4|64|1|8|16|32|128|256|512|1024|4096|16384;this.addEvents($0);},$3E:function($p0){if(this.get_enable()!==$p0){var $0=this.get_element().innerHTML;if(this.$3C===-1){this.$3C=$0.indexOf('<u>');var $1=$0.remove(this.$3C,3);this.$3B=$1.charCodeAt(this.$3C);}if(this.$3B>-1||$0.indexOf('<u>')!==-1){if($p0){var $2=String.fromCharCode(this.$3B);var $3=(this.$3C!==-1)?this.$3C:$0.indexOf($2);$0=$0.insert($3,'<u>');$0=$0.insert($3+4,'</u>');}else{$0=$0.remove($0.indexOf('<u>'),3);$0=$0.remove($0.indexOf('</u>'),4);}this.setHtml($0);}}},$3F:function($p0){if(this.get_loaded()){if($p0){this.get_element().className='label';}else{this.get_element().className='label'+' text_disabled';}}}}
Kepler.Engine.UI.Controls.LabelLine=function(strHtml,oPosition,strCssClassName,oSize,strId){Kepler.Engine.UI.Controls.LabelLine.initializeBase(this,['div','label',strId,null]);if(ss.isValue(oPosition)){this.set_position(oPosition);}if(ss.isValue(oSize)){this.set_size(oSize);}this.$3B=document.createElement('span');if(ss.isValue(strCssClassName)){this.$3B.className=strCssClassName;}else{this.$3B.className='static_horizontal_line';}if(ss.isValue(strHtml)){this.$3C=document.createElement('span');this.$3C.innerHTML=strHtml;this.$3C.style.marginRight='5px';}this.set_focusable(false);}
Kepler.Engine.UI.Controls.LabelLine.prototype={$3B:null,get_line:function(){return this.$3B;},$3C:null,onLoad:function(){if(ss.isValue(this.$3C)){this.get_element().appendChild(this.$3C);}this.get_element().appendChild(this.$3B);}}
Kepler.Engine.UI.Controls.DropDownListCtrl=function(ptPosition,oCtrlSize,iCommonItemHeight,oCommonImgSize,ptCommonImgPos,strCommonImgSrc,oCommonFont,strId){this.$4F=-1;Kepler.Engine.UI.Controls.DropDownListCtrl.initializeBase(this,[ptPosition,oCtrlSize,iCommonItemHeight,oCommonImgSize,ptCommonImgPos,strCommonImgSrc,oCommonFont,strId]);Kepler.Engine.UI.Helper.HtmlCssHelper.addElementAttribute(this.get_element(),'name',(Kepler.Engine.UI.Controls.DropDownListCtrl).get_name());this.$4C=ss.Delegate.create(this,this.mouseHookProc);this.$4D=false;this.$4E=true;this.$50=false;}
Kepler.Engine.UI.Controls.DropDownListCtrl.prototype={$4C:null,$4D:false,get_explicitMsgToParent:function(){return this.$4D;},set_explicitMsgToParent:function(value){this.$4D=value;return value;},$4E:false,get_autoCloseOnMouseEvent:function(){return this.$4E;},set_autoCloseOnMouseEvent:function(value){this.$4E=value;return value;},$50:false,get_isHintOnList:function(){return this._iVisualHintIndex>=0;},onLoad:function(){Kepler.Engine.UI.Controls.DropDownListCtrl.callBaseMethod(this, 'onLoad');this.$51();},$51:function(){this.addEvents(4);this.addEvents(8);this.addEvents(256);this.addEvents(4096);},onAttach:function(){Kepler.Engine.UI.Controls.DropDownListCtrl.callBaseMethod(this, 'onAttach');Kepler.Framework.UI.Events.Hooks.MouseHook.register(this.$4C);Kepler.Framework.UI.Events.Hooks.TouchHook.register(this.$4C);if(this._iHoverIdx!==-1){this.drawItem(this._elemTable.rows[this._iHoverIdx],0,false);}if(this._iTopIndex>=0){this.setTopIndex(this._iTopIndex);}else{this.setScrollToIndex(this._iSelectedIdx);}this._iHoverIdx=this._iSelectedIdx;this.setFocus();},onDetach:function(){Kepler.Engine.UI.Controls.DropDownListCtrl.callBaseMethod(this, 'onDetach');Kepler.Framework.UI.Events.Hooks.MouseHook.unRegister(this.$4C);Kepler.Framework.UI.Events.Hooks.TouchHook.unRegister(this.$4C);this.setScrollToIndex(0);this.set_topIndex(-1);},getSelectedRowElement:function(){var $0;if(this._iSelectedIdx!==-1){$0=this._elemTable.rows[this._iSelectedIdx].cloneNode(true);}else{$0=document.createElement('tr');}Kepler.Engine.UI.Helper.HtmlCssHelper.setStyleProperty($0,'box-shadow','');var $1=$($0);$1.removeClass(Kepler.Engine.UI.Controls.ListCtrl.csS_ROW+'_focused');$1.removeClass(Kepler.Engine.UI.Controls.ListCtrl.csS_ROW+'_selected');return $0;},setSelectedIndex:function(iRowIdx){if(iRowIdx<this._elemTable.rows.length){Kepler.Engine.UI.Controls.DropDownListCtrl.callBaseMethod(this, 'setSelectedIndex',[iRowIdx]);if(iRowIdx===this._iSelectedIdx&&this.$4D){var $0=new Kepler.Framework.UI.Controls.OnCommandStruct(iRowIdx,2);var $1=this.sendMessageToParent('msg_command',$0,this);if(!$1){this.sendMessageToParent('SelectionChanged',iRowIdx,this);}}}},onMouseMove:function(mouseEventArgs){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getParentElementByName(mouseEventArgs.get_target(),'listCtrl_Row');var $1=this.getRowIdx($0);if($1!==-1){this.setScrollToIndex($1);this.setHoverIndex($1,true,2);}},onLButtonUp:function(mouseEventArgs){Kepler.Engine.UI.Controls.DropDownListCtrl.callBaseMethod(this, 'onLButtonUp',[mouseEventArgs]);if(this.$4E&&this.$50){this.sendMessageToParent('hide_child_ctrl',null,this);this.$50=false;}},onLButtonDown:function(mouseEventArgs){Kepler.Engine.UI.Controls.DropDownListCtrl.callBaseMethod(this, 'onLButtonDown',[mouseEventArgs]);this.$50=true;},onKeyDown:function(keyboardEventArgs){this.set_stopEventProcessing(true);if(keyboardEventArgs.get_key()===9&&this.$4F!==-1){this.onEventSetSelection(this.$4F);}Kepler.Engine.UI.Controls.DropDownListCtrl.callBaseMethod(this, 'onKeyDown',[keyboardEventArgs]);this.set_stopEventProcessing(false);keyboardEventArgs.set_defaultPrevented(true);var $0=-1;switch(keyboardEventArgs.get_key()){case 37:$0=this.$53();break;case 38:if(keyboardEventArgs.get_altKey()){this.sendMessageToParent('hide_child_ctrl',null,this);break;}$0=this.$53();break;case 39:$0=this.$52();break;case 40:if(keyboardEventArgs.get_altKey()){this.sendMessageToParent('hide_child_ctrl',null,this);break;}$0=this.$52();break;case 34:$0=this._elemTable.rows.length-1;break;case 33:$0=0;break;case 13:this.onEventSetSelection(this._iHoverIdx);this.sendMessageToParent('hide_child_ctrl',null,this);break;case 27:this.sendMessageToParent('hide_child_ctrl',null,this);break;default:$0=this.autoSelectFromList(keyboardEventArgs.get_key());break;}if($0!==-1){this.setScrollToIndex($0);this.setHoverIndex($0,true,2);if(Kepler.Framework.Accessibility.AccessibilitySupport.get_instance().get_isAccessibilityOn()&&this.$4F!==$0){this.setAriaAttributes();}this.$4F=$0;}},onLostFocus:function(oFocusedNewControl){Kepler.Engine.UI.Controls.DropDownListCtrl.callBaseMethod(this, 'onLostFocus',[oFocusedNewControl]);this.sendMessageToParent('hide_child_ctrl',false,this);this.$4F=-1;},$52:function(){var $0=this._iHoverIdx;$0++;$0=($0>(this._elemTable.rows.length-1))?(this._elemTable.rows.length-1):$0;return $0;},$53:function(){var $0=this._iHoverIdx;$0--;$0=($0<0)?0:$0;return $0;},setHoverIndex:function(iRowIdx,bSelected,eState){if(this.getCapture()===this||this._iHoverIdx!==iRowIdx){if(this._iHoverIdx!==-1){if(!Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){this.drawItem(this._elemTable.rows[this._iHoverIdx],0,false);}}this._iHoverIdx=iRowIdx;if(this._iHoverIdx>-1){this.drawItem(this._elemTable.rows[this._iHoverIdx],eState,(this._iSelectedIdx===iRowIdx),bSelected);}}},mouseHookProc:function(eventArgs){var $0=eventArgs.get_type();var $1=eventArgs.get_target();var $2=false;switch($0){case 256:case 2:var $3=(Kepler.Engine.UI.Dialog).get_name();var $4=(Kepler.Engine.UI.Controls.DropDownListCtrl).get_name();var $5=(Kepler.Engine.UI.Controls.ComboCtrl).get_name();if((ss.isValue(Kepler.Engine.UI.Helper.HtmlCssHelper.getParentElementByName($1,$3))||ss.isNullOrUndefined(Kepler.Engine.UI.Helper.HtmlCssHelper.getParentElementByName(this.get_parent().get_element(),$3)))&&ss.isNullOrUndefined(Kepler.Engine.UI.Helper.HtmlCssHelper.getParentElementByName($1,$4))){this.sendMessageToParent('hide_child_ctrl',null,this);if(ss.isValue(Kepler.Engine.UI.Helper.HtmlCssHelper.getParentElementByName($1,$5))){$2=true;}}break;case 1024:case 8:break;case 512:case 4:break;default:break;}return $2;}}
Kepler.Engine.UI.Controls.GridCell=function(strCssClass){Kepler.Engine.UI.Controls.GridCell.initializeBase(this,['div',(ss.isValue(strCssClass))?strCssClass+'_normal':'grid_cell'+'_normal']);this.$41=[];this.set_dblClickEventNeeded(true);this.set_focusable(false);}
Kepler.Engine.UI.Controls.GridCell.prototype={$41:null,$42:0,get_cellIndex:function(){return this.$42;},set_cellIndex:function(value){this.$42=value;return value;},onAttach:function(){this.addEvents(2|8|64|1|4096|16384|128|256|512|1024|2048);Kepler.Engine.UI.Controls.GridCell.callBaseMethod(this, 'onAttach');},onDetach:function(){Kepler.Engine.UI.Controls.GridCell.callBaseMethod(this, 'onDetach');},onLoad:function(){this.$43();},$43:function(){this.attachMessage('msg_command',ss.Delegate.create(this,this.$44));},addControl:function(control,freePos){var $0='';if(ss.isValue(freePos)){$0=(freePos)?'absolute':'relative';}else{$0='relative';}control.get_elementStyle().position=$0;control.get_elementStyle().whiteSpace='nowrap';control.get_elementStyle().styleFloat='left';this.$41.add(control);this.add(control);},onPretranslateEvent:function(sender,eventArgs){return Kepler.Engine.UI.Controls.GridCell.callBaseMethod(this, 'onPretranslateEvent',[sender,eventArgs]);},$44:function($p0,$p1){return this.get_parent().sendMessage('msg_command',$p0,$p1);}}
Kepler.Engine.UI.Controls.GridHeader=function(oPosition,Height,bAutoWidth,lstWidth,lstheaderContents,strInnerCellsCssClass,bResizable){Kepler.Engine.UI.Controls.GridHeader.initializeBase(this,['div','grid_header_div']);if(ss.isValue(bResizable)){this.$54=bResizable;}else{this.$54=true;}this.$53=bAutoWidth;this.$50=new Array(2);this.$48=Height;this.$4F=-1;if(ss.isValue(strInnerCellsCssClass)){this.$49=strInnerCellsCssClass;}else{this.$49='grid_header_div_cells_div';}this.get_element().style.position='relative';this.get_element().style.height=this.$48.toString()+'px';this.get_element().style.display='-webkit-box';this.get_element().style.width='-moz-max-content';this.get_element().style.cssFloat='left';this.get_element().style.whiteSpace='nowrap';this.get_element().style.zIndex=1;if(ss.isValue(lstheaderContents)){this.$46=lstheaderContents;for(var $0=0;$0<this.$46.length;$0++){var $1=document.createElement('div');this.get_element().appendChild($1);$1.className=this.$49+'_normal';$1.style.position='relative';$1.style.left=((-1)*$0).toString()+'px';$1.style.overflow='hidden';$1.style.textOverflow='elipsis';if(!this.$53){if(ss.isValue(lstWidth)){if(ss.isValue(lstWidth[$0])){$1.style.width=lstWidth[$0].toString()+'px';}else{$1.style.width='auto';}}else{$1.style.width='auto';}}else{$1.style.width='auto';}if(ss.isValue(lstheaderContents)){if(ss.isValue(lstheaderContents[$0])){$1.textContent=lstheaderContents[$0];}else if($1.style.width.compareTo('auto',true)===1){$1.style.width='80'+'px';}}else{if($1.style.width.compareTo('auto',true)===1){$1.style.width='80'+'px';}}}this.$47=[];if(!this.$53){for(var $2=0;$2<lstWidth.length;$2++){this.$47.add(lstWidth[$2]+6+5);}}}if(ss.isValue(oPosition)){this.set_position(oPosition);}this.$4A=false;this.$4B=false;this.$4D=null;this.$55=false;}
Kepler.Engine.UI.Controls.GridHeader.prototype={$46:null,$47:null,get_listHeaderWidth:function(){return this.$47;},set_listHeaderWidth:function(value){this.$47=value;return value;},$48:0,$49:null,$4A:false,$4B:false,$4C:true,get_isColumnResizable:function(){return this.$4C;},set_isColumnResizable:function(value){this.$4C=value;return value;},$4D:null,$4E:null,$4F:0,$50:null,$51:0,$52:0,$53:false,$54:false,$55:false,get_ariaSpeech:function(){return '';},set_ariaSpeech:function(value){Kepler.Engine.UI.Controls.GridHeader.callBaseMethod(this, 'set_ariaSpeech',[value]);return value;},onFocus:function(oFocusedPrevControl){if(!this.$53){this.storeAndInitializeWidth();}Kepler.Engine.UI.Controls.GridHeader.callBaseMethod(this, 'onFocus',[oFocusedPrevControl]);},storeAndInitializeWidth:function(){for(var $0=0;$0<this.get_element().childNodes.length;$0++){var $1=parseInt(this.getComputedCssProperty(this.get_element().childNodes[$0],'padding-left'));this.get_element().childNodes[$0].style.paddingLeft=$1.toString()+'px';var $2=parseInt(this.getComputedCssProperty(this.get_element().childNodes[$0],'padding-right'));this.get_element().childNodes[$0].style.paddingRight=$2.toString()+'px';var $3=parseInt(this.getComputedCssProperty(this.get_element().childNodes[$0],'width'));this.$47.add($1+$2+$3);}},storeWidth:function(){for(var $0=0;$0<this.get_element().childNodes.length;$0++){var $1=parseInt(this.getComputedCssProperty(this.get_element().childNodes[$0],'padding-left'));var $2=parseInt(this.getComputedCssProperty(this.get_element().childNodes[$0],'padding-right'));var $3=parseInt(this.getComputedCssProperty(this.get_element().childNodes[$0],'width'));this.$47[$0]=$1+$2+$3;}},getIndexOfCurrentCell:function(){var $0=0;while(this.get_element().childNodes[$0]!==this.$4E){$0++;}return $0;},addHeader:function(strContent){this.$46.add(strContent);},addHeaders:function(lstHeader){for(var $0=0;$0<lstHeader.length;$0++){this.$46.add(lstHeader[$0]);}},onAttach:function(){this.addEvents(2|256|1024|512|2048|128|8|4096|16|32|4);Kepler.Engine.UI.Controls.GridHeader.callBaseMethod(this, 'onAttach');},onDetach:function(){Kepler.Engine.UI.Controls.GridHeader.callBaseMethod(this, 'onDetach');},onLButtonDown:function(evt){var $0=this.getOffsetPointFromEventArgs(evt,false);this.$4B=true;this.setCapture();this.manipulatingColResizePara($0);if(this.$4A){this.$4D=this.getOffsetPointFromEventArgs(evt,false);}else{if(!this.$55){this.$4E.className=this.$49+'_pressed';this.$4E.style.paddingLeft=(parseInt(this.$4E.style.paddingLeft)+1).toString()+'px';this.$4E.style.paddingTop=(parseInt(this.$4E.style.paddingTop)+1).toString()+'px';this.$4E.style.paddingRight=(parseInt(this.$4E.style.paddingRight)-1).toString()+'px';this.$4E.style.paddingBottom=(parseInt(this.$4E.style.paddingBottom)-1).toString()+'px';this.$55=true;}}Kepler.Engine.UI.Controls.GridHeader.callBaseMethod(this, 'onLButtonDown',[evt]);},onMouseOver:function(evt){var $0=this.getOffsetPointFromEventArgs(evt,false);if(!this.$4A){if(this.$4B&&this.getCapture()===this){if($0.get_y()<this.$48&&evt.get_target()===this.get_element().childNodes[this.getHoveredDivIndex($0)]&&evt.get_target()===this.$4E){if(!this.$55){this.$4E.className=this.$49+'_pressed';this.$4E.style.paddingLeft=(parseInt(this.$4E.style.paddingLeft)+1).toString()+'px';this.$4E.style.paddingTop=(parseInt(this.$4E.style.paddingTop)+1).toString()+'px';this.$4E.style.paddingRight=(parseInt(this.$4E.style.paddingRight)-1).toString()+'px';this.$4E.style.paddingBottom=(parseInt(this.$4E.style.paddingBottom)-1).toString()+'px';this.$55=true;}}}}Kepler.Engine.UI.Controls.GridHeader.callBaseMethod(this, 'onMouseOver',[evt]);},onMouseOut:function(evt){var $0=this.getOffsetPointFromEventArgs(evt,false);if((this.getCapture()!==this||!this.$4B)&&this.$4D.get_y()>this.get_size().get_height()){for(var $1=0;$1<this.get_element().childNodes.length;$1++){this.get_element().childNodes[$1].className=this.$49+'_normal';}if(ss.isValue(this.get_element().childNodes[this.$52+1])){this.get_element().childNodes[this.$52+1].style.borderLeftColor='';}}if(!this.$4A){if(this.$4B&&this.getCapture()===this){if((evt.get_target()===this.get_element().childNodes[this.getHoveredDivIndex($0)]||evt.get_target()===this.get_element())&&evt.get_target()===this.$4E){if(this.$55){if(ss.isValue(this.get_element().childNodes[this.$52+1])){this.get_element().childNodes[this.$52+1].style.borderLeftColor='';}this.$4E.className=this.$49+'_normal';this.$4E.style.paddingLeft=(parseInt(this.$4E.style.paddingLeft)-1).toString()+'px';this.$4E.style.paddingTop=(parseInt(this.$4E.style.paddingTop)-1).toString()+'px';this.$4E.style.paddingRight=(parseInt(this.$4E.style.paddingRight)+1).toString()+'px';this.$4E.style.paddingBottom=(parseInt(this.$4E.style.paddingBottom)+1).toString()+'px';this.$55=false;}}}}Kepler.Engine.UI.Controls.GridHeader.callBaseMethod(this, 'onMouseOut',[evt]);},onLButtonUp:function(evt){this.$4F=-1;this.$4B=false;this.releaseCapture();var $0=this.getOffsetPointFromEventArgs(evt,false);if($0.get_y()>this.$48||$0.get_y()<0||Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){for(var $1=0;$1<this.get_element().childNodes.length;$1++){this.get_element().childNodes[$1].className=this.$49+'_normal';}if(ss.isValue(this.get_element().childNodes[this.$52+1])){this.get_element().childNodes[this.$52+1].style.borderLeftColor='';}}if(!this.$4A){if(this.$55){this.$4E.style.paddingLeft=(parseInt(this.$4E.style.paddingLeft)-1).toString()+'px';this.$4E.style.paddingTop=(parseInt(this.$4E.style.paddingTop)-1).toString()+'px';this.$4E.style.paddingRight=(parseInt(this.$4E.style.paddingRight)+1).toString()+'px';this.$4E.style.paddingBottom=(parseInt(this.$4E.style.paddingBottom)+1).toString()+'px';this.$55=false;}}this.$4A=false;Kepler.Engine.UI.Controls.GridHeader.callBaseMethod(this, 'onLButtonUp',[evt]);},$5:function($p0){Kepler.Engine.UI.Controls.GridHeader.callBaseMethod(this, '$5',[$p0]);},onMouseMove:function(evt){var $0=this.getOffsetPointFromEventArgs(evt,false);if(!this.$4B&&this.getCapture()!==this){this.manipulatingColResizePara($0);}else if((this.getCapture()===this&&this.$4A)||(this.$4B&&this.$4A)){if(this.$4C){if(this.$4F!==-1){if(this.$4F+5<$0.get_x()){this.$4D.set_x(this.$4F);this.$4F=-1;}}var $1=$0.get_x()-this.$4D.get_x();if(this.$4F===-1){this.$47[this.$52]=this.$57($1,this.$52);this.$56(this.$47[this.$52],this.$52);}}}this.$4D=$0;Kepler.Engine.UI.Controls.GridHeader.callBaseMethod(this, 'onMouseMove',[evt]);},getHoverResizeIndex:function(oDivHeader,pt){var $0=-1;var $1=0;var $2=0;for($2=0;$2<this.get_element().childNodes.length;$2++){if(oDivHeader===this.get_element().childNodes[$2]){break;}$1+=this.$47[$2];}if($1+7>=pt.get_x()){$0=0;}else{$1+=this.$47[$2];if($1-2<=pt.get_x()){$0=1;}}return $0;},getFocusRect:function(){var $0=this.get_top()+4;var $1=this.get_left()+3;var $2=this.get_element().offsetWidth-16;var $3=this.get_element().offsetHeight-8;return new Kepler.Framework.UI.Rect($0,$1,$2,$3);},getComputedCssProperty:function(element,property){return Kepler.Engine.UI.Helper.HtmlCssHelper.getCSSProperty(element,property).toString();},getHoveredDivIndex:function(pt){var $0=-1;var $1=0;var $2=0;for($2=0;$2<this.get_element().childNodes.length;$2++){if(!this.$47[$2]){continue;}$1+=this.$47[$2];if($1>=pt.get_x()){$0=$2;break;}}if($0===-1){if(pt.get_x()-$1<=10){$0=$2-1;}}return $0;},manipulatingColResizePara:function(ptCurrent){this.$51=this.getHoveredDivIndex(ptCurrent);if(!this.$4B){for(var $1=0;$1<this.get_element().childNodes.length;$1++){this.get_element().childNodes[$1].className=this.$49+'_normal';this.get_element().childNodes[$1].style.borderLeftColor='';}}var $0=this.getHoverResizeIndex(this.get_element().childNodes[this.$51],ptCurrent);if($0===-1||$0===1){this.$4E=this.get_element().childNodes[this.$51];if($0===1){if(this.$54){this.get_element().style.cursor='col-resize';this.$4A=true;}this.$4E.className=this.$49+'_hover';}else{if(this.$54){this.get_element().style.cursor='default';this.$4A=false;}if(!this.$4B){this.$4E.className=this.$49+'_hover';}}this.$52=this.$51;}else if(!$0){if(!!this.$51||!this.$54){this.$4E=this.get_element().childNodes[this.$51].previousSibling;if(this.$4E!=null){if(this.$54){this.$4A=true;this.get_element().style.cursor='col-resize';this.$52=this.$51-1;}this.$4E.className=this.$49+'_hover';}}else{this.$4E=this.get_element().childNodes[this.$51];this.$4E.className=this.$49+'_hover';}}if(ss.isValue(this.get_element().childNodes[this.$52+1])){this.get_element().childNodes[this.$52+1].style.borderLeftColor='#259FD9';}},getHeaderTotalWidth:function(){var $0=0;var $1=0;for($1=0;$1<this.get_element().childNodes.length;$1++){$0+=this.$47[$1]+1;}return $0;},$56:function($p0,$p1){var $0=new Kepler.Framework.UI.Controls.OnCommandStruct();this.$50[0]=$p1;this.$50[1]=$p0;$0.setData(this.$50,9);var $1=this.sendMessageToParent('msg_command',$0,this);if(!$1){this.sendMessageToParent('grid_header_width_changed',this.$50,this);}},$57:function($p0,$p1){var $0;if(this.$52===$p1){$0=this.$4E;}else{$0=this.get_element().childNodes[$p1];}var $1=parseInt($0.style.width);var $2=parseInt($0.style.paddingLeft);var $3=parseInt($0.style.paddingRight);var $4=$1+$2+$3;$4+=$p0;$0.style.borderWidth='1px';if($4>(6+5)){$1=$4-6-5;$2=6;$3=5;}else if($4>6){$3=$4-6;$2=6;$1=0;}else if($4<=6&&$4>0){$2=$4;$3=0;$1=0;}else if($4<=0){$2=0;$3=0;$1=0;$4=0;var $5=0;var $6=0;for($6=0;$6<$p1;$6++){$5+=this.$47[$6]+1;}this.$4F=$5;$0.style.borderWidth='0px';}$0.style.paddingLeft=$2.toString()+'px';$0.style.paddingRight=$3.toString()+'px';$0.style.width=$1.toString()+'px';Kepler.Engine.UI.Helper.HtmlCssHelper.refreshDOM();return $4;},modifiyHeaderWidth:function(iFactor,iCoulmn){this.$47[iCoulmn]=this.$57(iFactor,iCoulmn);this.$56(this.$47[iCoulmn],iCoulmn);}}
Kepler.Engine.UI.Controls.GridList=function(oPosition,oSize,iColCount,iRowHeight,lstHeaderContents,iHeaderHeight,lstHeaderWidth,bHeaderAutoWidth,strCssClass,strId,bResizable,strHeaderCssClass,bAutoFit){this.$4C=[];Kepler.Engine.UI.Controls.GridList.initializeBase(this,['div',(ss.isValue(strCssClass))?strCssClass+'_normal':'grid_list'+'_normal',strId]);this.$4F=0;this.$51=bHeaderAutoWidth;this.$4B=iRowHeight;this.$4A=[];this.$4D=-1;this.$50=true;this.$4E=iColCount;this.$52=-1;this.$53=false;if(ss.isValue(iHeaderHeight)){this.$55=iHeaderHeight;}else{this.$55=25;}if(ss.isValue(bAutoFit)){this.$54=bAutoFit;}else{this.$54=false;}if(!bHeaderAutoWidth){for(var $0=0;$0<lstHeaderWidth.length;$0++){var $1=this.$62(lstHeaderWidth[$0]);lstHeaderWidth[$0]=$1[2];}}this.$44=new Kepler.Engine.UI.Controls.GridHeader(new Kepler.Framework.UI.Point(0,0),this.$55,this.$51,lstHeaderWidth,lstHeaderContents,strHeaderCssClass,(ss.isValue(bResizable))?bResizable:true);this.$49=document.createElement('div');this.$49.style.height=this.$55.toString()+'px';this.$49.style.width=oSize.get_width().toString()+'px';this.$49.style.overflow='hidden';this.get_element().appendChild(this.$49);this.$47=document.createElement('div');this.$47.style.position='relative';this.$47.style.paddingTop='2px';this.$47.style.top='-2px';this.$47.style.height=(oSize.get_height()-20-this.$55).toString()+'px';this.$47.style.width=oSize.get_width().toString()+'px';this.$47.style.overflow='hidden';this.get_element().appendChild(this.$47);this.$48=document.createElement('div');this.$47.appendChild(this.$48);if(ss.isValue(oPosition)){this.set_position(oPosition);}if(ss.isValue(oSize)){this.set_size(oSize);}this.$45=new Kepler.Engine.UI.Controls.HScrollBar(new Kepler.Framework.UI.Point(1,oSize.get_height()-19),new Kepler.Framework.UI.Size(oSize.get_width()-19,17));this.$45.set_mfcBehaviour(false);this.$45.get_elementStyle().position='absolute';this.$45.show(false);this.$45.set_focusable(false);this.$46=new Kepler.Engine.UI.Controls.VScrollBar(new Kepler.Framework.UI.Point(oSize.get_width()-16,1),new Kepler.Framework.UI.Size(17,oSize.get_height()-20));this.$46.set_mfcBehaviour(false);this.$46.get_elementStyle().position='absolute';this.$46.show(false);this.$46.set_focusable(false);this.get_elementStyle().overflow='hidden';this.$56=this.get_controls().length;}
Kepler.Engine.UI.Controls.GridList.prototype={$44:null,get_header:function(){return this.$44;},$45:null,$46:null,$47:null,$48:null,get_scrollableContainer:function(){return this.$47;},$49:null,$4A:null,get_listGridRows:function(){return this.$4A;},set_listGridRows:function(value){this.$4A=value;return value;},$4B:0,$4D:0,get_selectedRow:function(){return this.$4D;},set_selectedRow:function(value){this.$4D=value;return value;},$4E:0,$4F:0,$50:false,$51:false,$52:0,$53:false,$54:false,$55:0,get_hheight:function(){return this.$55;},$56:0,$57:false,get_doNotHandleTab:function(){return this.$57;},set_doNotHandleTab:function(value){this.$57=value;return value;},onLoad:function(){this.$59();Kepler.Engine.UI.Controls.GridList.callBaseMethod(this, 'onLoad');this.$56=this.get_controls().length;this.add(this.$44,this.$49);this.add(this.$45);this.add(this.$46);this.$60();},onFocus:function(oFocusedPrevControl){if(!this.$58()){Kepler.Engine.UI.Controls.GridList.callBaseMethod(this, 'onFocus',[oFocusedPrevControl]);}},getFocusRect:function(){return null;},processTabOnControl:function(keyEvent,oCtrl){if(this.$57){return this.get_parent().processTabOnControl(keyEvent,this);}var $0=this.get_controls().indexOf(oCtrl);var $1=keyEvent.get_shiftKey();if(Type.getInstanceType(oCtrl)===Kepler.Engine.UI.Controls.GridHeader){if($1){return this.get_parent().processTabOnControl(keyEvent,this);}if(!this.$4A.length){return this.get_parent().processTabOnControl(keyEvent,this);}if(this.$4D===-1){this.$4D=0;}this.$4A[this.$4D].setFocus();this.$4A[this.$4D].setSelection(true);}else{if(this.$4D===-1){this.$4D=0;}if($1){this.$4A[this.$4D].setSelection(true,null,false);this.$44.setFocus();return true;}this.$4A[this.$4D].setSelection(true,null,false);return this.get_parent().processTabOnControl(keyEvent,this);}return true;},$58:function(){if(this.$4D>=0){this.$4A[this.$4D].setFocus();return true;}else{return false;}},$59:function(){this.attachMessage('grid_header_width_changed',ss.Delegate.create(this,this.$64));this.attachMessage('msg_row_height_changed',ss.Delegate.create(this,this.$65));this.attachMessage('SelectionChanging',ss.Delegate.create(this,this.$66));this.attachMessage('SelectionChanged',ss.Delegate.create(this,this.$67));this.attachMessage('grid_row_click',ss.Delegate.create(this,this.$68));this.attachMessage('ScrollPosChanged',ss.Delegate.create(this,this.$69));this.attachMessage('ScrollPosChanging',ss.Delegate.create(this,this.$6A));this.attachMessage('msg_command',ss.Delegate.create(this,this.$6B));},isMsgFromSlaveControl:function(oCtrl){var $0=false;$0=this.$4A[this.$52].isMsgFromSlaveControl(oCtrl);return $0;},addRow:function(row,iIndex){if(!row.get_rowH()){row.set_rowH(this.$4B);}if(ss.isValue(iIndex)){this.$4A.insert(iIndex,row);if(this.$4D>=iIndex){this.$4D++;}this.$5A();this.setRowSelection(iIndex);}else{this.$4A.add(row);row.set_rowIndex(this.$4A.length-1);}this.$4F+=row.get_rowH();if(ss.isValue(iIndex)){this.insert(iIndex,row,this.$48);this.$4C.insert(iIndex,row.get_rowH());}else{this.add(row,this.$48);this.$4C.add(row.get_rowH());}if(this.$50){this.$50=false;if(this.$4E!==row.lstGridCells.length){this.$4E=row.lstGridCells.length;}}if(this.$51){this.$5B();}else{this.$5D();}this.syncScrollBars();if(this.$46.get_visible()&&this.$54){for(var $0=0;$0<this.$4A.length;$0++){for(var $1=0;$1<this.$4E;$1++){if($1===this.$4E-1&&this.$46.get_visible()){this.$4A[$0].lstGridCells[$1].get_element().style.width=(parseInt(this.$4A[$0].lstGridCells[$1].get_element().style.width)-17).toString()+'px';}}}}},removeRow:function(iIndex){if(ss.isValue(iIndex)){if(iIndex<this.$4C.length&&iIndex>=0){this.$4F-=this.$4C[iIndex];this.$4C.removeAt(iIndex);}this.removeAt(iIndex+3);this.$4A.removeAt(iIndex);this.$5A();if(this.$4D>this.$4A.length-1){this.setRowSelection(this.$4D-1);}else{this.setRowSelection(this.$4D);}}this.syncScrollBars();this.$60();},removeRowObj:function(oRow){if(ss.isValue(oRow)){var $0=this.$4A.indexOf(oRow);if($0>=0){this.removeRow($0);}}},removeAllRows:function(){for(var $0=this.$4A.length;$0>=0;$0--){this.removeRowObj(this.$4A[$0]);}},enableGestureScroll:function(bGestureScroll){this.$53=bGestureScroll;if(this.$53){var $0=new Kepler.Framework.UI.Scroller.ScrollStruct();$0.scrollElement=this.get_scrollableContainer();$0.bHandleEvents=true;this.setScrollable($0);this.$46.set_enable(false);this.$46.show(false);this.$54=true;this.$60();}},scrollToSelectedRow:function(){if(this.$53){var $0=0;for(var $2=0;$2<this.$4D;$2++){$0+=this.$4C[$2];}var $1=this.get_scroller().getScrollView(this.get_scrollableContainer());if(ss.isValue($1)){$1.scrollToY(-$0,0,false);}}else{while(this.performKeyScroll()){}}},$5A:function(){for(var $0=0;$0<this.$4A.length;$0++){this.$4A[$0].set_rowIndex($0);}},insert:function(iIndex,control,oParentElement){var $0=false;if(this.get_loaded()){if(iIndex>=this.$56){iIndex+=3;}else{$0=true;}}var $1=Kepler.Engine.UI.Controls.GridList.callBaseMethod(this, 'insert',[iIndex,control,oParentElement]);if($1&&$0){this.$56++;}return $1;},$5B:function(){var $0=[];for(var $1=0;$1<this.$4E;$1++){$0.add(0);}for(var $2=0;$2<this.$4A.length;$2++){for(var $3=0;$3<this.$4E;$3++){var $4=Kepler.Engine.UI.Helper.HtmlCssHelper.getComputedWidth(this.$4A[$2].lstGridCells[$3].get_element());if($0[$3]<$4){$0[$3]=$4;}}}for(var $5=0;$5<this.$4A.length;$5++){for(var $6=0;$6<this.$4E;$6++){this.$4A[$5].lstGridCells[$6].get_element().style.paddingLeft=(6+1).toString()+'px';this.$4A[$5].lstGridCells[$6].get_element().style.paddingRight=(5).toString()+'px';this.$4A[$5].lstGridCells[$6].get_element().style.width=$0[$6].toString()+'px';}}for(var $7=0;$7<this.$4E;$7++){this.$44.get_element().childNodes[$7].style.paddingLeft=(6).toString()+'px';this.$44.get_element().childNodes[$7].style.paddingRight=(5).toString()+'px';this.$44.get_element().childNodes[$7].style.width=$0[$7].toString()+'px';}this.$44.storeWidth();this.$5C();},$5C:function(){var $0=this.$44.getHeaderTotalWidth();for(var $1=0;$1<this.$4A.length;$1++){if(this.$4A[$1].get_isDummy()){continue;}this.$4A[$1].get_elementStyle().width=($0+5)+'px';}this.$44.get_elementStyle().width=($0+7)+'px';},$5D:function(){for(var $0=0;$0<this.$4E;$0++){var $1=this.$44.get_listHeaderWidth()[$0];var $2=this.$62($1);for(var $3=0;$3<this.$4A.length;$3++){if(this.$4A[$3].get_isDummy()){continue;}this.$4A[$3].lstGridCells[$0].get_element().style.paddingLeft=($2[0]+1).toString()+'px';this.$4A[$3].lstGridCells[$0].get_element().style.paddingRight=$2[1].toString()+'px';this.$4A[$3].lstGridCells[$0].get_element().style.width=$2[2].toString()+'px';}}this.$5C();},refreshScroll:function(){if(!this.$53){if(this.$46.get_enable()&&this.$46.get_visible()){this.$47.scrollTop=this.$46.get_curPos();}if(this.$45.get_enable()&&this.$45.get_visible()){this.$47.scrollLeft=this.$45.get_curPos();this.$49.scrollLeft=this.$45.get_curPos();}}},syncScrollBars:function(){var $0=this.$44.getHeaderTotalWidth();this.$5F($0);this.$5E();var $1=new Kepler.Engine.UI.Controls.ScrollBarParams();$1._iMinPos=0;$1._iMaxPos=$0-parseInt(this.$47.style.width);$1._iPageStep=parseInt(this.$47.style.width);this.$45.updateScrollbarParams($1);this.$47.scrollLeft=this.$45.get_curPos();this.$49.scrollLeft=this.$45.get_curPos();$1._iMinPos=0;$1._iMaxPos=this.$4F-parseInt(this.$47.style.height);$1._iPageStep=parseInt(this.$47.style.height);this.$46.updateScrollbarParams($1);this.$47.scrollTop=this.$46.get_curPos();},$5E:function(){if(this.$45.get_visible()){if(this.$46.get_visible()){this.$45.set_size(new Kepler.Framework.UI.Size(this.get_size().get_width()-19,17));this.$46.set_size(new Kepler.Framework.UI.Size(17,this.get_size().get_height()-20));}else{this.$45.set_size(new Kepler.Framework.UI.Size(this.get_size().get_width()-1,17));}}else if(this.$46.get_visible()){this.$46.set_size(new Kepler.Framework.UI.Size(17,this.get_size().get_height()-1));}},$5F:function($p0){var $0;if(ss.isValue($p0)){$0=$p0;}else{$0=this.$44.getHeaderTotalWidth();}var $1=parseInt(this.$47.style.height);if($0>this.get_size().get_width()){this.$45.show(true);this.$47.style.height=(this.get_size().get_height()-20-parseInt(this.$44.get_element().style.height)).toString()+'px';}else{this.$45.show(false);this.$47.style.height=(this.get_size().get_height()-parseInt(this.$44.get_element().style.height)).toString()+'px';}if(this.$4F>$1&&!this.$53){this.$46.show(true);this.$49.style.width=(this.get_size().get_width()-17).toString()+'px';this.$47.style.width=(this.get_size().get_width()-17).toString()+'px';}else{this.$46.show(false);this.$49.style.width=this.get_size().get_width().toString()+'px';this.$47.style.width=this.get_size().get_width().toString()+'px';}},$60:function(){if(this.$54){var $0=this.$44.getHeaderTotalWidth();if(this.$46.get_visible()){this.$49.style.width=(this.get_size().get_width()-17).toString()+'px';this.$47.style.width=(this.get_size().get_width()-17).toString()+'px';}else{this.$47.style.width=this.get_size().get_width().toString()+'px';this.$49.style.width=this.get_size().get_width().toString()+'px';}this.$44.storeAndInitializeWidth();var $1=parseInt(this.$47.style.width);if($0<$1){this.$44.modifiyHeaderWidth($1-$0,this.$4E-1);}}},$61:function($p0,$p1){var $0=new Kepler.Framework.UI.Controls.OnCommandStruct();$0.setData($p0,2);var $1=this.sendMessageToParent('msg_command',$0,this);if(!$1){var $2='SelectionChanged';if(ss.isValue($p1)){if($p1){$2='grid_row_click';}}this.sendMessageToParent($2,$p0,this);}},setRowSelection:function(iSelectionIndex){this.$66(iSelectionIndex,null);this.$67(null,null);},setRowObjSelection:function(oRow){if(ss.isValue(oRow)){var $0=this.$4A.indexOf(oRow);if($0>=0){this.setRowSelection($0);}}},$62:function($p0){var $0=[];if($p0>=(5+6)){$0.add(6);$0.add(5);$0.add($p0-6-5);}else if($p0>=6){$0.add(6);$0.add($p0-6);$0.add(0);}else if($p0<6){$0.add($p0);$0.add(0);$0.add(0);}else if($p0<=0){$0.add(0);$0.add(0);$0.add(0);}return $0;},performKeyScroll:function(){var $0=false;var $1=0;for(var $3=0;$3<=this.$4D;$3++){$1+=this.$4C[$3];}var $2=$1-this.$46.get_curPos();if($2<=0){this.$63(this.$4B);$0=true;}else if($2>0&&$2<this.$4B){this.$63($2%this.$4B);$0=true;}else{if($2>parseInt(this.$47.style.height)){this.$63(-this.$4B);$0=true;}}return $0;},$63:function($p0){if($p0>0){if(this.$46.get_curPos()<$p0){$p0=this.$46.get_curPos();}}else{if((this.$46.get_curPos()-$p0)>this.$46.get_maxPos()){$p0=(this.$46.get_curPos()-this.$46.get_maxPos());}}this.$46.performScroll((-1)*$p0);},drawVisualHint:function(oHintData){var $0=oHintData.iIndex;this.$4A[$0].addCssClass(' class_visual_hint');this.$52=$0;},eraseVisualHint:function(){if(this.$52!==-1){this.$4A[this.$52].removeCssClass(' class_visual_hint');}this.$52=-1;},getIndexElement:function(iTabIndex){if(iTabIndex>-1&&iTabIndex<this.$4A.length){return this.$4A[iTabIndex].get_element();}else{return null;}},$64:function($p0,$p1){var $0=($p0)[0];var $1=($p0)[1];var $2=this.$62($1);if(ss.isValue($2)){for(var $3=0;$3<this.$4A.length;$3++){if(this.$4A[$3].get_isDummy()){continue;}this.$4A[$3].lstGridCells[$0].get_element().style.paddingLeft=$2[0].toString()+'px';this.$4A[$3].lstGridCells[$0].get_element().style.paddingRight=$2[1].toString()+'px';this.$4A[$3].lstGridCells[$0].get_element().style.width=$2[2].toString()+'px';}}this.syncScrollBars();this.$5C();return null;},$65:function($p0,$p1){var $0=$p1;this.$4C[$0.get_rowIndex()]=$p0;this.$4F=0;for(var $1=0;$1<this.$4C.length;$1++){this.$4F+=this.$4C[$1];}return null;},$66:function($p0,$p1){var $0=$p0;var $1=$p1;if($0<this.$4A.length&&$0>=0){if(this.$4D!==-1&&this.$4D<this.$4A.length){this.$4A[this.$4D].setSelection(false,$1);}this.$4D=$0;this.$4A[$0].setSelection(true,$1);}if(!this.$4A.length){this.$4D=-1;}return null;},$67:function($p0,$p1){this.$61(this.$4D);return null;},$68:function($p0,$p1){this.$61(this.$4D,true);return null;},$69:function($p0,$p1){var $0=$p0;var $1=$p1;if($1===this.$45){this.$47.scrollLeft=$0;this.$49.scrollLeft=$0;}else if($1===this.$46){this.$47.scrollTop=$0;}return null;},$6A:function($p0,$p1){var $0=$p0;var $1=$p1;if($1===this.$45){this.$47.scrollLeft=$0;this.$49.scrollLeft=$0;}else if($1===this.$46){this.$47.scrollTop=$0;}return null;},$6B:function($p0,$p1){var $0=$p1;var $1=$p0;if(ss.isNullOrUndefined($1)){return false;}var $2=false;return $2;},onPretranslateEvent:function(sender,eventArgs){if(eventArgs.get_type()===4096){var $0=eventArgs;if(!this.$53){var $1=false;var $2=this.get_selectedRow();var $3=1;if($0.get_key()===40){$1=true;$3=1;}else if($0.get_key()===38){$1=true;$3=-1;}if($1){while(true){$2=$2+$3;if(ss.isValue(this.$4A[$2])&&(!this.$4A[$2].isRowEnabled()||this.$4A[$2].get_isDummy())){continue;}else{break;}}this.setRowSelection($2);this.performKeyScroll();}}}else if(eventArgs.get_type()===128){var $4=eventArgs;var $5=$4.get_delta();this.$63($5*3);}return Kepler.Engine.UI.Controls.GridList.callBaseMethod(this, 'onPretranslateEvent',[sender,eventArgs]);},getNextFocusableControlIndex:function(bShift,iCurIndex){if(bShift){if(!this.$4A.length){return 0;}if(this.$4D===-1){this.$4D=0;}this.$4A[this.$4D].setSelection(true,null,true);return this.get_controls().indexOf(this.$4A[this.$4D]);}else{return 0;}}}
Kepler.Engine.UI.Controls.GridRow=function(strCssClass,strId){Kepler.Engine.UI.Controls.GridRow.initializeBase(this,['div',(ss.isValue(strCssClass))?strCssClass+'_normal':'grid_row'+'_normal',strId]);if(ss.isNullOrUndefined(strCssClass)){this._strCssClass='grid_row';}else{this._strCssClass=strCssClass;}this.lstGridCells=[];this.$43=true;this.$44=false;this.set_focusChildCtrlsOnTab(false);this.set_dblClickEventNeeded(true);this.init();}
Kepler.Engine.UI.Controls.GridRow.prototype={lstGridCells:null,$41:0,get_rowIndex:function(){return this.$41;},set_rowIndex:function(value){this.$41=value;return value;},$42:false,get_bSelected:function(){return this.$42;},set_bSelected:function(value){this.$42=value;return value;},_strCssClass:null,$43:false,$44:false,get_isDummy:function(){return this.$44;},set_isDummy:function(value){this.$44=value;return value;},$46:0,get_rowH:function(){return this.$46;},set_rowH:function(value){this.$46=value;this.set_height(this.$46);return value;},get_ariaSpeech:function(){var $0=false;var $enum1=ss.IEnumerator.getEnumerator(this.lstGridCells);while($enum1.moveNext()){var $2=$enum1.current;if($2!=null){var $enum2=ss.IEnumerator.getEnumerator($2.get_controls());while($enum2.moveNext()){var $3=$enum2.current;if($3!=null&&$3.get_focusable()){$0=true;break;}}if($0){break;}}}var $1=' To move the items use the arrow keys ';if($0){var $4='';if(this.lstGridCells.length>0){$4=this.lstGridCells[0].get_text();}return $4+$1;}return (this.get_text()+$1);},set_ariaSpeech:function(value){Kepler.Engine.UI.Controls.GridRow.callBaseMethod(this, 'set_ariaSpeech',[value]);return value;},onLoad:function(){this.$47();Kepler.Engine.UI.Controls.GridRow.callBaseMethod(this, 'onLoad');},$47:function(){this.attachMessage('msg_command',ss.Delegate.create(this,this.onMsgCommand));},onAttach:function(){this.addEvents(2|8|64|1|4096|16384|128|256|512|1024|2048);Kepler.Engine.UI.Controls.GridRow.callBaseMethod(this, 'onAttach');},onDetach:function(){Kepler.Engine.UI.Controls.GridRow.callBaseMethod(this, 'onDetach');},isMsgFromSlaveControl:function(oCtrl){return false;},getFocusRect:function(){return null;},addCell:function(cell){this.lstGridCells.add(cell);cell.set_cellIndex(this.lstGridCells.length-1);this.add(cell);},isFocusAndSelectionSame:function(oTarget){return true;},setSelection:function(bSelection,oTarget,bRowFocusAndSelectionStateSame){this.$42=bSelection;if(ss.isNullOrUndefined(bRowFocusAndSelectionStateSame)){bRowFocusAndSelectionStateSame=this.isFocusAndSelectionSame(oTarget);}if(bSelection){if(bRowFocusAndSelectionStateSame){Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(this.get_element(),this._strCssClass+'_normal');Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(this.get_element(),this._strCssClass+'_pressed_not_focused');Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this.get_element(),this._strCssClass+'_pressed_focused');}else{Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(this.get_element(),this._strCssClass+'_normal');Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(this.get_element(),this._strCssClass+'_pressed_focused');Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this.get_element(),this._strCssClass+'_pressed_not_focused');}}else{Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(this.get_element(),this._strCssClass+'_pressed_not_focused');Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(this.get_element(),this._strCssClass+'_pressed_focused');Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this.get_element(),this._strCssClass+'_normal');}if(this.$42&&bRowFocusAndSelectionStateSame){this.setCorrectFocus();}},setCorrectFocus:function(){this.setFocus();},onFocus:function(oFocusedPrevControl){Kepler.Engine.UI.Controls.GridRow.callBaseMethod(this, 'onFocus',[oFocusedPrevControl]);},onLostFocus:function(oFocusedNewControl){Kepler.Engine.UI.Controls.GridRow.callBaseMethod(this, 'onLostFocus',[oFocusedNewControl]);},sendRowClickMsgToParent:function(oTarget,iIndex){var $0;var $1=new Kepler.Framework.UI.Controls.OnCommandStruct();if(ss.isValue(iIndex)){$0=iIndex;}else{$0=this.$41;}$1.setData($0,1);var $2=this.sendMessageToParent('msg_command',$1,(ss.isValue(oTarget))?oTarget:this);if(!$2){this.sendMessageToParent('SelectionChanging',$0,(ss.isValue(oTarget))?oTarget:this);}},sendRowClickedMsgToParent:function(iIndex){var $0;var $1=new Kepler.Framework.UI.Controls.OnCommandStruct();if(ss.isValue(iIndex)){$0=iIndex;}else{$0=this.$41;}$1.setData($0,2);var $2=this.sendMessageToParent('msg_command',$1,this);if(!$2){this.sendMessageToParent('SelectionChanged',$0,this);}},$48:function($p0){var $0;var $1=new Kepler.Framework.UI.Controls.OnCommandStruct();if(ss.isValue($p0)){$0=$p0;}else{$0=this.$41;}$1.setData($0,2);var $2=this.sendMessageToParent('msg_command',$1,this);if(!$2){this.sendMessageToParent('grid_row_click',$0,this);}},onPretranslateEvent:function(sender,eventArgs){var $0=Kepler.Engine.UI.Controls.GridRow.callBaseMethod(this, 'onPretranslateEvent',[sender,eventArgs]);if($0){return $0;}if(this.$43&&!this.$44){var $1=false;if(eventArgs.get_type()===2||eventArgs.get_type()===256){if(eventArgs.get_type()===256){if(Kepler.Engine.UI.Controls.Control.get_gestureManager().get_doubleClickTimer().get_isRunning()){if(!Math.abs(Kepler.Engine.UI.Controls.GridRow.$45-this.$41)){$1=true;}}else{Kepler.Engine.UI.Controls.GridRow.$45=this.$41;}}this.sendRowClickMsgToParent(sender);}else if(eventArgs.get_type()===8||eventArgs.get_type()===1024){this.sendRowClickedMsgToParent();}if(eventArgs.get_type()===64){if(!(eventArgs).get_button()){$1=true;}}if($1){this.$48();}}return $0;},enableRow:function(bEnable){this.$43=bEnable;if(this.$43){this.get_element().style.opacity='1';}else{this.get_element().style.opacity='0.5';}},isRowEnabled:function(){return this.$43;},setRowHeight:function(iHeight){this.set_rowH(iHeight);this.sendMessageToParent('msg_row_height_changed',iHeight,this);}}
Kepler.Engine.UI.Controls.ListCtrl=function(ptPosition,oCtrlSize,iCommonItemHeight,oCommonImgSize,ptCommonImgPos,strCommonImgSrc,oCommonFont,strId){Kepler.Engine.UI.Controls.ListCtrl.initializeBase(this,['div','position_absolute content_align_center ListCtrl_div',strId,null]);Kepler.Engine.UI.Helper.HtmlCssHelper.addElementAttribute(this.get_element(),'name',(Kepler.Engine.UI.Controls.ListCtrl).get_name());this.set_focusChildCtrlsOnTab(false);if(ss.isValue(ptPosition)){this.set_position(ptPosition);}this._iCommonItemHeight=(ss.isNullOrUndefined(iCommonItemHeight)||iCommonItemHeight===-1)?13:iCommonItemHeight;this._oCommonImgSize=oCommonImgSize;this._ptCommonImgPos=ptCommonImgPos;this._strCommonImgSrc=strCommonImgSrc;this._sCssRow=Kepler.Engine.UI.Controls.ListCtrl.csS_ROW;if(ss.isValue(oCommonFont)){this.get_elementStyle().font=oCommonFont.toString();}if(ss.isNullOrUndefined(oCtrlSize)){return;}this._iSelectedIdx=-1;this._iHoverIdx=-1;this._iTopIndex=-1;var $0=document.createElement('Div');this.get_element().appendChild($0);this.$42=1;this._sbVertical=new Kepler.Engine.UI.Controls.VScrollBar(new Kepler.Framework.UI.Point(oCtrlSize.get_width()-15-1,1),new Kepler.Framework.UI.Size(15,oCtrlSize.get_height()-2));this._sbVertical.set_mfcBehaviour(false);this._sbVertical.set_singleStepTimerInterval(100);this._elemTable=document.createElement('table');this._elemTable.className='table_style content_align_center';this._elemTable.style.width='100%';$0.appendChild(this._elemTable);this._lstItemText=[];this._strSearch='';this._timer=new Kepler.Framework.Core.Timers.Timer(ss.Delegate.create(this,this.clearString),500);this._timer.stop();this.$44=new Kepler.Framework.Core.Timers.Timer(ss.Delegate.create(this,this.$48),50);this.$44.stop();this.$46();this.set_size(oCtrlSize);this._iVisualHintIndex=-1;this.$43=true;this.set_dblClickEventNeeded(true);this.set_alwaysSpeechOnSetFocus(true);this._bIsSelectedFromKey=false;}
Kepler.Engine.UI.Controls.ListCtrl.prototype={csS_TEXT:'ListCtrl_text',_sCssRow:null,get_cssClassRow:function(){return this._sCssRow;},_iSelectedIdx:0,_bSort:false,get_sort:function(){return this._bSort;},set_sort:function(value){this._bSort=value;return value;},_iHoverIdx:0,get_hoverIndex:function(){return this._iHoverIdx;},_oCommonImgSize:null,_ptCommonImgPos:null,_strCommonImgSrc:null,_iCommonItemHeight:0,get_commonItemHeight:function(){return this._iCommonItemHeight;},_elemTable:null,_lstItemText:null,get_listItemText:function(){return this._lstItemText;},_strSearch:null,_timer:null,get_count:function(){return this._lstItemText.length;},_sbVertical:null,get_verticalScrollbar:function(){return this._sbVertical;},_iVisualHintIndex:0,$42:0,get_scrollbarMode:function(){return this.$42;},set_scrollbarMode:function(value){this.$42=value;this.updateScrollBar();return value;},$43:false,$44:null,_iTopIndex:0,get_topIndex:function(){return this._iTopIndex;},set_topIndex:function(value){this._iTopIndex=value;return value;},$45:false,get_ariaSpeech:function(){var $0=this._strAriaSpeech+' List box ';var $1='';var $2=-1;if(this._bIsSelectedFromKey&&this._iSelectedIdx!==-1){$1=this._lstItemText[this._iSelectedIdx];$2=this._iSelectedIdx;}else if(this._iHoverIdx!==-1){$1=this._lstItemText[this._iHoverIdx];$2=this._iHoverIdx;}else if(this._iSelectedIdx!==-1){$1=this._lstItemText[this._iSelectedIdx];$2=this._iSelectedIdx;}else{$1=Kepler.Engine.UI.Controls.ListCtrl.callBaseMethod(this, 'get_text');$2=0;}if(!this.get_ariaSpeechFromOnFocus()){return $1;}var $3=' To move an item use the arrow keys ';if(!String.isNullOrEmpty(this.get_altChar().trim())){$3+='or pressed '+this.get_altChar();}$0+=($1+' '+($2+1)+' of '+this.get_count()+$3);return $0;},set_ariaSpeech:function(value){Kepler.Engine.UI.Controls.ListCtrl.callBaseMethod(this, 'set_ariaSpeech',[value]);return value;},_bIsSelectedFromKey:false,$46:function(){this.attachMessage('ScrollPosChanged',ss.Delegate.create(this,this.$4A));this.attachMessage('ScrollPosChanging',ss.Delegate.create(this,this.$4B));},$47:function(){this.addEvents(2|256|32|128|8|64|4|4096|1024);},addItemToList:function(strText,ptImgPos,oImgSize,iItemHeight,oItemFont,bOnlyText,strImgCssClass){if(ss.isNullOrUndefined(this.$45)){this.$45=false;}var $0=Kepler.Framework.Core.Globals.invaliD_VALUE;var $1=this._elemTable;var $2=false;if(ss.isValue(bOnlyText)){$2=bOnlyText;}var $3=0;var $4=$1.rows.length;var $5=$4;var $6=0;if(!this.$45){if(this._bSort){var $8=parseInt(strText);if($8.toString()==='NaN'){this._lstItemText.add(strText);this.sortData(this._lstItemText);$5=this.getIndexFromString(strText,true);}else{var $9=parseFloat(strText);$6=this._lstItemText.length;for(var $A=0;$A<$6;$A++){var $B=parseFloat(this._lstItemText[$A]);if($B>$9){$5=$A;break;}}this._lstItemText.insert($5,strText);}$0=$5;}else{$0=this._lstItemText.length;this._lstItemText.add(strText);}}var $7=$1.insertRow($5);$7.setAttribute('name','listCtrl_Row');$7.className=this._sCssRow;iItemHeight=(ss.isNullOrUndefined(iItemHeight)||iItemHeight===-1)?this._iCommonItemHeight:iItemHeight;$7.style.height=iItemHeight+'px';if(this.$45){$7.style.marginLeft='1px';$7.style.marginTop='1px';$7.style.marginBottom='1px';}this._iCommonItemHeight=iItemHeight;if((!String.isNullOrEmpty(strImgCssClass)||!String.isNullOrEmpty(this._strCommonImgSrc))&&!$2){var $C=$7.insertCell($7.cells.length);var $D=document.createElement('div');$D.className+=' class_ribbon_left_margin_2';if(!String.isNullOrEmpty(strImgCssClass)){$D.className+=' '+strImgCssClass.trim();}else{ptImgPos=(ss.isNullOrUndefined(ptImgPos))?this._ptCommonImgPos:ptImgPos;if(ss.isValue(ptImgPos)){var $E=-ptImgPos.get_x()+'px '+-ptImgPos.get_y()+'px';var $F="url('"+this._strCommonImgSrc+"')";$D.style.backgroundPosition=$E;$D.style.backgroundImage=$F;$D.style.backgroundRepeat='no-repeat';}}oImgSize=(ss.isNullOrUndefined(oImgSize))?this._oCommonImgSize:oImgSize;if(ss.isValue(oImgSize)){var $10=' img-'+oImgSize.get_width()+'x'+oImgSize.get_height();$D.className+=$10;$C.style.width=oImgSize.get_width()+5+'px';}$C.appendChild($D);$3++;}if(!String.isNullOrEmpty(strText)||this.$45){var $11=$7.insertCell($7.cells.length);if(bOnlyText){$11.colSpan=2;}var $12=document.createElement('div');$12.className=this.csS_TEXT;$12.innerHTML=strText;if(ss.isValue(oItemFont)){$11.style.font=oItemFont.toString();}$11.appendChild($12);$3++;}return $0;},sortData:function(lstItemText){lstItemText.sort();},addItemsFromArray:function(arrItems){if(ss.isValue(arrItems)){for(var $0=0;$0<arrItems.length;$0++){this.addItemToList(arrItems[$0]);}this.updateScrollBar();}},removeItem:function(iIndex){var $0=this._elemTable;$0.deleteRow(iIndex);this._lstItemText.removeAt(iIndex);},getSelectedIndex:function(){return this._iSelectedIdx;},getSelectedIndexText:function(){var $0='';if(this._iSelectedIdx!==-1){$0=this._lstItemText[this._iSelectedIdx];}return $0;},setSelectedIndex:function(iRowIdx){if(iRowIdx!==this._iSelectedIdx){this.setScrollToIndex(iRowIdx);this._iSelectedIdx=iRowIdx;this.drawItem(this._elemTable.rows[this._iSelectedIdx],0,true);this.sendMsgToParent(2);}},setCssClasses:function(sTextClass,sRowClass,bPreSelectionNotNeeded){this.csS_TEXT=sTextClass;this._sCssRow=sRowClass;this.$43=bPreSelectionNotNeeded;},getRowIdx:function(elemRow){var $0=-1;var $1=this._elemTable.rows;for(var $2=0;$2<$1.length;$2++){if($1[$2]===elemRow){$0=$2;break;}}return $0;},drawItem:function(element,eState,bSelected,bDrawFocusRect){var $0=element;if(ss.isNullOrUndefined(element)){return;}var $1=this._sCssRow,$2='';if(bSelected){$2+='_selected';}switch(eState){case 0:break;case 1:$2+='_hover';break;case 2:$2+='_pressed';break;case 3:$2+='_pressed_hover';break;case 4:break;case 5:break;default:break;}if(this.getFocus()===this&&(bSelected||bDrawFocusRect)){element.className=$1+' '+$1+$2+this._sCssRow+'_focused';}else{element.className=$1+' '+$1+$2;}},setScrollToIndex:function(iRowIdx){if(iRowIdx!==this._iSelectedIdx&&this._iSelectedIdx!==-1){this.drawItem(this._elemTable.rows[this._iSelectedIdx],0,false);}var $0=this._elemTable.rows[iRowIdx];var $1=this.get_size().get_height()/this._iCommonItemHeight;var $2=(iRowIdx>(this._iTopIndex+$1-1)||iRowIdx<this._iTopIndex)?true:false;var $3=0;if($2){var $4=(iRowIdx<this._iTopIndex)?true:false;if(!$4){$3=(iRowIdx+1)*this._iCommonItemHeight-this.get_size().get_height();}else{$3=iRowIdx*this._iCommonItemHeight;}this.set_topIndex($3/this._iCommonItemHeight);this._elemTable.parentNode.scrollTop=$3;this._sbVertical.set_curPos(this._elemTable.parentNode.scrollTop/this._iCommonItemHeight);}},setHoverIndex:function(iRowIdx,bSelected,eState){if(this.getCapture()===this||this._iHoverIdx!==iRowIdx){if(this._iHoverIdx!==-1){if(!Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){this.drawItem(this._elemTable.rows[this._iHoverIdx],0,(this._iSelectedIdx===this._iHoverIdx));}}this._iHoverIdx=iRowIdx;if(this._iHoverIdx>-1){this.drawItem(this._elemTable.rows[this._iHoverIdx],eState,(this._iSelectedIdx===iRowIdx),bSelected);}}else if(iRowIdx===-1&&this._iHoverIdx!==-1){if(!Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){this.drawItem(this._elemTable.rows[this._iHoverIdx],0,(this._iSelectedIdx===this._iHoverIdx));}this._iHoverIdx=-1;}if(this._iSelectedIdx===-1&&this._lstItemText.length>0){this.drawItem(this._elemTable.rows[0],4,false,true);}},onEventSetSelection:function(iRowIdx){var $0=new Kepler.Framework.UI.Events.EventArgsNs.CustomEventArgs('SelectionChanging');$0.set_data(iRowIdx);if(!this.onPretranslateEvent(this,$0)){var $1=(iRowIdx!==this._iSelectedIdx)?true:false;this.setSelectedIndex(iRowIdx);if(Kepler.Framework.Accessibility.AccessibilitySupport.get_instance().get_isAccessibilityOn()&&this._bIsSelectedFromKey&&Kepler.Engine.UI.Controls.Control.get_$8()===this&&$1){this.setAriaAttributes();this._bIsSelectedFromKey=false;}}},getIndexFromString:function(strItem,bCaseSensitive){var $0=-1;if(!bCaseSensitive){var $enum1=ss.IEnumerator.getEnumerator(this._lstItemText);while($enum1.moveNext()){var $1=$enum1.current;if(!strItem.compareTo($1,true)){$0=this._lstItemText.indexOf($1);break;}}}else{$0=this._lstItemText.indexOf(strItem);}return $0;},getStringFromIndex:function(iIndex){if(iIndex!==-1){return this._lstItemText[iIndex];}else{return null;}},setTopIndex:function(iIndex){this._iTopIndex=iIndex-1;if(iIndex<this._sbVertical.get_maxPos()){this._sbVertical.set_curPos(iIndex);this._elemTable.parentNode.scrollTop=(this._sbVertical.get_curPos()*this._iCommonItemHeight);}else if(iIndex>=this._sbVertical.get_maxPos()){this._sbVertical.set_curPos(this._sbVertical.get_maxPos());this._elemTable.parentNode.scrollTop=(this._sbVertical.get_curPos()*this._iCommonItemHeight);}},resetList:function(){this._lstItemText.clear();this._iSelectedIdx=-1;this._iHoverIdx=-1;var $0=this._elemTable.rows.length;for(var $1=0;$1<$0;$1++){this._elemTable.deleteRow(0);}},updateScrollBar:function(iVisibleHeight,iScrollableHeight){if(ss.isNullOrUndefined(iVisibleHeight)){iVisibleHeight=this.get_height();}if(ss.isNullOrUndefined(iScrollableHeight)){iScrollableHeight=this.get_count()*this._iCommonItemHeight;}var $0=0;var $1=(iScrollableHeight-iVisibleHeight)/this._iCommonItemHeight;var $2=true;if($1<=$0){$1=$0;$2=false;}else{$2=true;}if(this.get_scrollbarMode()===2){this._sbVertical.show(false);}else if(!this.get_scrollbarMode()){this._sbVertical.show($2);if(iScrollableHeight>iVisibleHeight){this._sbVertical.set_enable($2);}}else if(this.get_scrollbarMode()===1){this._sbVertical.show(true);this._sbVertical.set_enable($2);}var $3=new Kepler.Engine.UI.Controls.ScrollBarParams();$3._iMinPos=$0;$3._iMaxPos=$1;$3._iPageStep=iVisibleHeight/this._iCommonItemHeight;$3._iCurPos=0;this._sbVertical.updateScrollbarParams($3);},eraseVisualHint:function(){this._elemTable.style.zIndex=0;if(this._iVisualHintIndex!==-1){var $0=this._elemTable.rows[this._iVisualHintIndex];Kepler.Engine.UI.Helper.HtmlCssHelper.setStyleProperty($0,'box-shadow','');this._iVisualHintIndex=-1;}},drawVisualHint:function(oHintData){var $0=oHintData.iIndex;if($0!==-1&&$0<this._lstItemText.length){this._iVisualHintIndex=$0;var $1=this._elemTable.rows[this._iVisualHintIndex];Kepler.Engine.UI.Helper.HtmlCssHelper.setStyleProperty($1,'box-shadow','inset 0px 0px 0px 2px red');}},setItemText:function(iItemIndex,strItemText){if(iItemIndex>-1&&iItemIndex<this._lstItemText.length){this._lstItemText[iItemIndex]=strItemText;var $0=this._elemTable.rows[iItemIndex];var $1;var $2=($0.cells.length===1)?0:1;$1=$0.cells[$2].firstChild;if(ss.isValue($1)){Kepler.Engine.UI.Helper.HtmlCssHelper.setElementInnerText($1,strItemText);}}},sendMsgToParent:function(eNotificationCode){var $0=new Kepler.Framework.UI.Controls.OnCommandStruct(this._iSelectedIdx,eNotificationCode);var $1=this.sendMessageToParent('msg_command',$0,this);if(!$1&&eNotificationCode===2){this.sendMessageToParent('SelectionChanged',this._iSelectedIdx,this);}},getIndexElement:function(iIndex){if(iIndex>-1&&iIndex<this._elemTable.rows.length){return this._elemTable.rows[iIndex];}return null;},setFocusRectParams:function(){var $0;var $1=0;var $2=(this._iSelectedIdx!==-1);var $3=false;if(this._iSelectedIdx!==-1){$0=this._elemTable.rows[this._iSelectedIdx];}else{$0=this._elemTable.rows[0];}if(!this._lstItemText.length){if(ss.isValue(this._elemTable.rows[0])){$0=this._elemTable.rows[0];$1=4;$2=false;$3=true;}}else if(this._iSelectedIdx===-1){$1=4;$3=true;}if($3){this.drawItem($0,$1,$2,true);}else{this.drawItem($0,$1,$2);}},resetFocusParams:function(){var $0;if(this._iSelectedIdx!==-1){$0=this._elemTable.rows[this._iSelectedIdx];}else{$0=this._elemTable.rows[0];}this.drawItem($0,0,false);},onLoad:function(){Kepler.Engine.UI.Controls.ListCtrl.callBaseMethod(this, 'onLoad');if(this.get_scrollbarMode()!==2){this.add(this._sbVertical);}this.$47();this.onSize();},onSize:function(){Kepler.Engine.UI.Controls.ListCtrl.callBaseMethod(this, 'onSize');if(this.get_scrollbarMode()!==2){this._sbVertical.set_left(this.get_width()-15-1);this._sbVertical.set_height(this.get_height()-2);this.updateScrollBar();if(this._sbVertical.get_visible()){this._elemTable.parentNode.style.pixelWidth=this.get_width()-15-1;}else{this._elemTable.parentNode.style.pixelWidth=this.get_width()-1;}}else{this._elemTable.parentNode.style.pixelWidth=this.get_width();this._elemTable.style.pixelWidth=this.get_width()-1;this._sbVertical.set_left(this.get_width()-15-1);this._sbVertical.set_height(this.get_height()-2);this.updateScrollBar();}},onFocus:function(oFocusedPrevControl){if(!this._lstItemText.length){this.$45=true;this.addItemToList('');this.$45=false;this.drawItem(this._elemTable.rows[0],4,false,true);}Kepler.Engine.UI.Controls.ListCtrl.callBaseMethod(this, 'onFocus',[oFocusedPrevControl]);},onLButtonDown:function(mouseEventArgs){Kepler.Engine.UI.Controls.ListCtrl.callBaseMethod(this, 'onLButtonDown',[mouseEventArgs]);if(!this._lstItemText.length){return;}var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getParentElementByName(mouseEventArgs.get_target(),'listCtrl_Row');var $1=this.getRowIdx($0);if($1!==-1){if(Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){var $2=mouseEventArgs;if($2.get_touches().length>1){return;}if(this._iHoverIdx!==-1&&this._iHoverIdx!==$1){this.drawItem(this._elemTable.rows[this._iHoverIdx],0,false);}}this.setCapture();this.$44.stop();if(this.$43){this.setScrollToIndex($1);}this.setHoverIndex($1,true,2);}},onLButtonUp:function(mouseEventArgs){if(Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){var $2=mouseEventArgs;if($2.get_touches().length>1){return;}}Kepler.Engine.UI.Controls.ListCtrl.callBaseMethod(this, 'onLButtonUp',[mouseEventArgs]);this.releaseCapture();this.$44.stop();var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getParentElementByName(mouseEventArgs.get_target(),'listCtrl_Row');var $1=this.getRowIdx($0);if($1!==-1){this.onEventSetSelection($1);}},onMouseMove:function(mouseEventArgs){if(!this._lstItemText.length){return;}var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getParentElementByName(mouseEventArgs.get_target(),'listCtrl_Row');var $1=this.getRowIdx($0);if(this.getCapture()===this){if(this.$43){if($1===-1){var $2=true;var $3=this.getOffsetPointFromEventArgs(mouseEventArgs,false);if($3.get_y()>this.get_height()){$2=false;}this.$44.start($2);}else{this.$44.stop();this.setScrollToIndex($1);this.setHoverIndex($1,true,2);}}}else{var $4=false;if(this._iSelectedIdx===$1){$4=true;}this.setHoverIndex($1,$4,1);}},onKeyDown:function(keyboardEventArgs){var $0=this.get_stopEventProcessing();Kepler.Engine.UI.Controls.ListCtrl.callBaseMethod(this, 'onKeyDown',[keyboardEventArgs]);if($0||keyboardEventArgs.get_altKey()){return;}keyboardEventArgs.set_defaultPrevented(true);this._bIsSelectedFromKey=true;switch(keyboardEventArgs.get_key()){case 37:case 38:var $1=this._iSelectedIdx;$1--;$1=($1<0)?0:$1;this.onEventSetSelection($1);break;case 39:case 40:var $2=this._iSelectedIdx;$2++;$2=($2>(this._elemTable.rows.length-1))?(this._elemTable.rows.length-1):$2;this.onEventSetSelection($2);break;case 34:var $3=this._elemTable.rows.length-1;this.onEventSetSelection($3);break;case 33:var $4=0;this.onEventSetSelection($4);break;default:var $5=this.autoSelectFromList(keyboardEventArgs.get_key());this.onEventSetSelection($5);break;}},onMouseDblClick:function(evt){Kepler.Engine.UI.Controls.ListCtrl.callBaseMethod(this, 'onMouseDblClick',[evt]);if(!this._lstItemText.length){return;}var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getParentElementByName(evt.get_target(),'listCtrl_Row');var $1=this.getRowIdx($0);if($1!==-1&&$1!==this._iSelectedIdx){this.setScrollToIndex($1);this._iSelectedIdx=$1;this.drawItem(this._elemTable.rows[this._iSelectedIdx],0,true);}this.sendMsgToParent(8);},onMouseOut:function(evt){Kepler.Engine.UI.Controls.ListCtrl.callBaseMethod(this, 'onMouseOut',[evt]);this.setHoverIndex(-1,false,0);},onMouseWheel:function(mouseWheelEventArgs){var $0=this._sbVertical.get_curPos();if(mouseWheelEventArgs.get_deltaY()>0){$0--;}else{$0++;}this._sbVertical.set_curPos($0);this.$49(this._sbVertical);},onLostFocus:function(oFocusedNewControl){Kepler.Engine.UI.Controls.ListCtrl.callBaseMethod(this, 'onLostFocus',[oFocusedNewControl]);var $0=this._elemTable.rows[this._iSelectedIdx];this.drawItem($0,0,true);if(!this._lstItemText.length){if(ss.isValue(this._elemTable.rows[0])){this._elemTable.tBodies[0].removeChild(this._elemTable.rows[0]);}}},autoSelectFromList:function(iKeyCode){if(Kepler.Framework.Core.StringUtils.isAlpha(iKeyCode)||Kepler.Framework.Core.StringUtils.isNum(iKeyCode)){var $0=String.fromCharCode([iKeyCode]).toLowerCase();var $1=this._strSearch+$0;this._timer.stop();this._timer.start();var $2=0,$3=this._lstItemText.length;var $4=this._iSelectedIdx;$1=$1.trim();if($1.length>0){$2=$4+1;while($2!==this._iSelectedIdx){if($2===$3){if(this._iSelectedIdx===-1){break;}$2=0;}$4=$2;var $5=this._lstItemText[$4].toLowerCase();if($5.startsWith($1)){this._strSearch=$1;return $4;}$2=(!this._iSelectedIdx&&!$2)?0:$2+1;}if(($0===this._strSearch||!this._strSearch.length)){$4=-1;for($2=0;$2<this._lstItemText.length;$2++){$4=($2+this._iHoverIdx+1)%this._lstItemText.length;var $6=this._lstItemText[$4].toLowerCase();if($6.startsWith($0)){this._strSearch=$0;return $4;}}}}}return this._iSelectedIdx;},clearString:function(customData){this._timer.stop();this._strSearch='';},$48:function($p0){var $0=-1;var $1=$p0;if($1){$0=this._iHoverIdx-1;}else{$0=this._iHoverIdx+1;}if($0>-1&&$0<this.get_count()){this.setScrollToIndex($0);this.setHoverIndex($0,true,2);}},$49:function($p0){if($p0===this._sbVertical){this._elemTable.parentNode.scrollTop=(this._sbVertical.get_curPos()*this._iCommonItemHeight);this.set_topIndex(this._sbVertical.get_curPos());}},dispose:function(){Kepler.Engine.UI.Controls.ListCtrl.callBaseMethod(this, 'dispose');this._sbVertical=null;},$4A:function($p0,$p1){var $0=($p1);this.$49($0);return null;},$4B:function($p0,$p1){var $0=($p1);this.$49($0);return null;}}
Kepler.Engine.UI.Controls.MultiColListCtrl=function(oPosition,oSize,iRows,iCols,iPaddingTopBottom,iPaddingLeftRt,iColSpacing,iRowSpacing,strNormalCls,strSelCls,strPressedClass,strHoveredClass,strSelHoverCls,bDropDown,strId,bIsVscroll){Kepler.Engine.UI.Controls.MultiColListCtrl.initializeBase(this,['div','multicol_list_div',strId]);this.set_focusChildCtrlsOnTab(false);var $0=document.createElement('Div');$0.style.position='relative';this.get_element().appendChild($0);this._eleContainerTable=document.createElement('table');Kepler.Engine.UI.Helper.HtmlCssHelper.setElementClassName(this._eleContainerTable,'table_style');$0.appendChild(this._eleContainerTable);if(ss.isValue(iPaddingTopBottom)&&ss.isValue(iPaddingLeftRt)){this._eleContainerTable.style.margin=iPaddingTopBottom.toString()+'px '+iPaddingLeftRt.toString()+'px '+iPaddingTopBottom.toString()+'px '+iPaddingLeftRt.toString()+'px';this._iPaddingTopBottom=iPaddingTopBottom;}if(ss.isValue(oPosition)){this.set_position(oPosition);}if(ss.isValue(iRows)){this._iRows=iRows;}if(ss.isValue(iCols)){this._iCols=iCols;}if(ss.isValue(bIsVscroll)){this.$46=bIsVscroll;if(this.$46){this.$48=1;this.$47=new Kepler.Engine.UI.Controls.VScrollBar(new Kepler.Framework.UI.Point(this.get_width()-16-2,1),new Kepler.Framework.UI.Size(16,this.get_height()-4));this.$47.set_mfcBehaviour(false);this.$47.set_singleStepTimerInterval(100);}else{this.$48=2;}}else{this.$48=2;}if(ss.isValue(oSize)){this.set_size(oSize);}this._strHoveredCls=strHoveredClass;this._strNormalCls=strNormalCls;this._strPressedCls=strPressedClass;this._strSelClass=strSelCls;this._strSelhoverCls=strSelHoverCls;if(ss.isValue(iColSpacing)){this.$43=iColSpacing;}if(ss.isValue(iRowSpacing)){this.$44=iRowSpacing;}this._iSelectedIndex=-1;this._iHoverIndex=-1;this._clrBgColor=new Kepler.Framework.UI.Color(0,0,0);this._eleContainerTable.style.cssText='margin:  '+iPaddingTopBottom.toString()+'px '+iPaddingLeftRt.toString()+'px '+iPaddingTopBottom.toString()+'px '+iPaddingLeftRt.toString()+'px; border-spacing: 0px';if(ss.isValue(bDropDown)){this._bUsedAsDropDown=bDropDown;if(this._bUsedAsDropDown){this.$45=ss.Delegate.create(this,this.mouseHookProc);}}if(this.$48!==2){this.$4C();}this._iVisualHintIndex=-1;this._bFocusRectOnItemDiv=false;this._oFocusElement=document.createElement('span');this._oFocusElement.id='MultiColFocus';this._oFocusElement.style.position='absolute';this._oFocusElement.style['pointer-events']='none';this._lstItemInfo=[];this._iListSelectedIndex=[];this.$4B=false;this.$4A=false;this.set_dblClickEventNeeded(true);this.set_alwaysSpeechOnSetFocus(true);}
Kepler.Engine.UI.Controls.MultiColListCtrl.prototype={_iRows:0,_iCols:0,_iNoOfRowsCreated:0,_iNoOfColsCreated:0,$43:0,$44:0,_iPaddingTopBottom:0,_eleContainerTable:null,_strSelClass:null,_strPressedCls:null,_strHoveredCls:null,_strSelhoverCls:null,_strNormalCls:null,_iSelectedIndex:0,_iListSelectedIndex:null,_iHoverIndex:0,_clrBgColor:null,_iNumImages:0,get_noOfItems:function(){return this._iNumImages;},_iVisualHintIndex:0,_bUsedAsDropDown:false,$45:null,$46:false,$47:null,$48:0,_iCommonItemHeight:0,get_scrollbarMode:function(){return this.$48;},set_scrollbarMode:function(value){this.$48=value;return value;},_oFocusElement:null,_bFocusRectOnItemDiv:false,_lstItemInfo:null,$49:false,get_multipleSelection:function(){return this.$49;},set_multipleSelection:function(value){this.$49=value;return value;},$4A:false,get_shiftPressed:function(){return this.$4A;},set_shiftPressed:function(value){this.$4A=value;return value;},$4B:false,get_ctrlPressed:function(){return this.$4B;},set_ctrlPressed:function(value){this.$4B=value;return value;},get_ariaSpeech:function(){var $0=Kepler.Engine.UI.Controls.MultiColListCtrl.callBaseMethod(this, 'get_ariaSpeech')+' ListBox ';var $1='';var $2=-1;if(this._iHoverIndex!==-1){$1=this._lstItemInfo[this._iHoverIndex];$2=this._iHoverIndex;}else if(this._iSelectedIndex!==-1){$1=this._lstItemInfo[this._iSelectedIndex];$2=this._iSelectedIndex;}else{$1=Kepler.Engine.UI.Controls.MultiColListCtrl.callBaseMethod(this, 'get_text');$2=0;}if(!this.get_ariaSpeechFromOnFocus()){return $1;}var $3=' To move an item use the arrow keys ';if(!String.isNullOrEmpty(this.get_altChar().trim())){$3+='or pressed '+this.get_altChar();}$0+=($1+($2+1)+' of '+this.get_noOfItems()+$3);return $0;},set_ariaSpeech:function(value){Kepler.Engine.UI.Controls.MultiColListCtrl.callBaseMethod(this, 'set_ariaSpeech',[value]);return value;},$4C:function(){this.attachMessage('ScrollPosChanged',ss.Delegate.create(this,this.$51));this.attachMessage('ScrollPosChanging',ss.Delegate.create(this,this.$52));},addItemToList:function(ele){var $0;if(!this._iNoOfRowsCreated||this._iNoOfColsCreated===this._iCols){$0=this._eleContainerTable.insertRow(this._eleContainerTable.rows.length);this._iNoOfRowsCreated++;this._iNoOfColsCreated=0;}else{$0=this._eleContainerTable.rows[this._iNoOfRowsCreated-1];}var $1=$0.insertCell($0.cells.length);$1.setAttribute('name','MultiColList_Cell');if($0.cells.length>1){ele.style.marginLeft=this.$43+'px';}ele.style.marginTop=(this.$44/2)+'px';ele.style.marginBottom=(this.$44/2)+'px';this._iNoOfColsCreated++;$1.appendChild(ele);},addItemsToTheList:function(strImgSrc,iImgItemWidth,iImgItemHeight,iImgConItemWidth,iImgConItemHeight,iImgWidth,iImgStartPos,divSize,lstToolTips,bIsBackColorReq,iImageCount){this._iNumImages=iImgWidth/iImgItemWidth;if(this._iNumImages>this._iRows*this._iCols){this._iNumImages=this._iRows*this._iCols;}var $0=iImgStartPos;this._iCommonItemHeight=iImgItemHeight;if(ss.isValue(iImageCount)){this._iNumImages=iImageCount;}if(ss.isValue(lstToolTips)){this._lstItemInfo=lstToolTips.clone();}for(var $1=this._eleContainerTable.rows.length;$1<this._iNumImages;$1++){var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div',null,null,null,null,divSize.get_width(),divSize.get_height(),null,null);var $3=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div',null,null,null,null,iImgItemWidth,iImgItemHeight,null,null);var $4=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div',null,null,null,null,iImgConItemWidth,iImgConItemHeight,null,null);Kepler.Engine.UI.Helper.HtmlCssHelper.setElementClassName($2,'multicol_list_innerdiv');if(ss.isValue(this._lstItemInfo[$1])&&this._bUsedAsDropDown){Kepler.Engine.UI.Helper.HtmlCssHelper.addElementAttribute($2,'title',this._lstItemInfo[$1]);}$3.style.background="url('"+strImgSrc+"') "+'no-repeat';$3.style.backgroundPosition='-'+$0.get_x()+'px -'+$0.get_y()+'px';var $5=(divSize.get_height()-iImgConItemHeight)/2;var $6=(divSize.get_width()-iImgConItemWidth)/2;$4.style.position='relative';$4.style.overflow='hidden';$0.set_x($0.get_x()+iImgItemWidth);$4.appendChild($3);$2.appendChild($4);if(ss.isNullOrUndefined(bIsBackColorReq)||(ss.isValue(bIsBackColorReq)&&bIsBackColorReq)){$4.style.backgroundColor=this._clrBgColor.toString();$4.style.margin=$5+'px '+$6+'px '+$5+'px '+$6+'px';}else{$3.style.margin=$5+'px '+$6+'px '+$5+'px '+$6+'px';}this.addItemToList($2);}},addItemsToListByCss:function(lstImgClassName){this._iNumImages=lstImgClassName.length;if(this._iNumImages>this._iRows*this._iCols){this._iNumImages=this._iRows*this._iCols;}for(var $0=this._eleContainerTable.rows.length;$0<this._iNumImages;$0++){var $1=document.createElement('Span');var $2=document.createElement('Div');Kepler.Engine.UI.Helper.HtmlCssHelper.setElementClassName($1,this._strNormalCls);$1.style.display='block';$1.style.overflow='hidden';$2.className=lstImgClassName[$0];$1.appendChild($2);this.addItemToList($1);}if(this.$46){this.updateScrollBar(this.get_height(),this._eleContainerTable.clientHeight);}},addIconTextToTheList:function(strImgSrc,iImgItemWidth,iImgItemHeight,iImgStartPos,divSize,strContent,iItemcount){this._iNumImages=iItemcount;var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div',null,null,null,null,divSize.get_width(),divSize.get_height(),null,null);Kepler.Engine.UI.Helper.HtmlCssHelper.setElementClassName($0,'multicol_list_innerdiv');for(var $1=0;$1<iItemcount;$1++){var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div',null,null,null,null,null,null,null,null);var $3=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div',null,null,null,null,iImgItemWidth,iImgItemHeight,null,null);Kepler.Engine.UI.Helper.HtmlCssHelper.setElementDisplay($3,'inline-block');$3.style.background="url('"+strImgSrc+"') "+'no-repeat';$2.appendChild($3);var $4=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('span',null,null,null,null,null,null,null,null);$4.innerHTML=strContent[$1]+'<br/>';$4.style.top='-5px';$4.style.position='relative';$2.appendChild($4);$0.appendChild($2);}this.addItemToList($0);},onLoad:function(){Kepler.Engine.UI.Controls.MultiColListCtrl.callBaseMethod(this, 'onLoad');if(this.get_scrollbarMode()!==2){this.add(this.$47);this.onSize();}this.addEvents(2|256|64|128|8|4|4096|1024|32);},onSize:function(){Kepler.Engine.UI.Controls.MultiColListCtrl.callBaseMethod(this, 'onSize');if(this.get_scrollbarMode()!==2){this._eleContainerTable.parentNode.style.pixelWidth=this.get_width()-16-1;this.$47.set_left(this.get_width()-16-3);this.$47.set_height(this.get_height()-4);var $0=this.get_height()-4;var $1=this._iNumImages*(this._iCommonItemHeight+(this._iPaddingTopBottom*2)+1);this.updateScrollBar($0,$1);}},onAttach:function(){Kepler.Engine.UI.Controls.MultiColListCtrl.callBaseMethod(this, 'onAttach');if(this._bUsedAsDropDown){Kepler.Framework.UI.Events.Hooks.MouseHook.register(this.$45);Kepler.Framework.UI.Events.Hooks.TouchHook.register(this.$45);}this.addEvents(2|256|128|8|4096);},onDetach:function(){Kepler.Engine.UI.Controls.MultiColListCtrl.callBaseMethod(this, 'onDetach');Kepler.Framework.UI.Events.Hooks.MouseHook.unRegister(this.$45);Kepler.Framework.UI.Events.Hooks.TouchHook.unRegister(this.$45);},drawItem:function(element,eState){switch(eState){case 1:if(this._iSelectedIndex!==-1&&this._iSelectedIndex===this.getIndexFromCellElement(element)){if(!String.isNullOrEmpty(this._strSelhoverCls)){Kepler.Engine.UI.Helper.HtmlCssHelper.setElementClassName(element.firstChild,this._strSelhoverCls);}}else if(!String.isNullOrEmpty(this._strHoveredCls)){Kepler.Engine.UI.Helper.HtmlCssHelper.setElementClassName(element.firstChild,this._strHoveredCls);}break;case 0:if(this._iSelectedIndex!==-1&&this._iSelectedIndex===this.getIndexFromCellElement(element)){if(!String.isNullOrEmpty(this._strSelClass)&&this._iVisualHintIndex!==this._iSelectedIndex){Kepler.Engine.UI.Helper.HtmlCssHelper.setElementClassName(element.firstChild,this._strSelClass);}}else if(!String.isNullOrEmpty(this._strSelClass)){Kepler.Engine.UI.Helper.HtmlCssHelper.setElementClassName(element.firstChild,this._strNormalCls);}break;case 2:if(!String.isNullOrEmpty(this._strPressedCls)){Kepler.Engine.UI.Helper.HtmlCssHelper.setElementClassName(element.firstChild,this._strPressedCls);}break;case 3:if(!String.isNullOrEmpty(this._strSelhoverCls)){Kepler.Engine.UI.Helper.HtmlCssHelper.setElementClassName(element.firstChild,this._strSelhoverCls);}break;}if(this.getFocus()===this&&this._iSelectedIndex===this.getIndexFromCellElement(element)){var $0=element.firstChild;var $1=element.offsetLeft+parseInt(this._eleContainerTable.style.marginLeft)+1;var $2=element.offsetTop+parseInt(this._eleContainerTable.style.marginTop)+1;if(!this._bFocusRectOnItemDiv){$1-=2;$2-=2;}this._oFocusElement.style.left=$1+$0.offsetLeft+'px';this._oFocusElement.style.top=$2+$0.offsetTop+'px';}},setCheckedState:function(ele,iIdx,bIsSendMsgToParent){if(this._iSelectedIndex!==-1&&this._iVisualHintIndex!==this._iSelectedIndex){if(!this.$49){var $0=this.getCellElementFromIndex(this._iSelectedIndex);this._iSelectedIndex=-1;this.drawItem($0,0);}else if(!this.$4B&&!this.$4A){if(iIdx!==-1){var $1=this._iListSelectedIndex[this._iListSelectedIndex.length-1];for(var $2=0;$2<this._iListSelectedIndex.length;$2++){var $3=this.getCellElementFromIndex(this._iListSelectedIndex[$2]);this._iSelectedIndex=-1;this.drawItem($3,0);}this._iListSelectedIndex.clear();this._iListSelectedIndex.add($1);this.drawItem(ele,2);}else{for(var $4=0;$4<this._iListSelectedIndex.length;$4++){var $5=this.getCellElementFromIndex(this._iListSelectedIndex[$4]);this._iSelectedIndex=-1;this.drawItem($5,0);}this._iListSelectedIndex.clear();}}}this._iSelectedIndex=iIdx;if(ss.isValue(ele)){this.drawItem(ele,0);}if(ss.isNullOrUndefined(bIsSendMsgToParent)||(ss.isValue(bIsSendMsgToParent)&&bIsSendMsgToParent)){this.sendMsgToParent(2);}},getIndexFromCellElement:function(elementCell){var $0=this._eleContainerTable.rows;for(var $1=0;$1<$0.length;$1++){var $2=($0[$1]).cells;for(var $3=0;$3<$2.length;$3++){if(elementCell===$2[$3]){return (($1*this._iCols)+$3);}}}return -1;},getCellElementFromIndex:function(iIndex){if(iIndex>=0){var $0=0,$1=-1,$2=-1;for(var $4=1;$4<=this._iRows;$4++){$0=$4*this._iCols;if($0>=(iIndex+1)){$1=$4-1;$2=iIndex-(($4-1)*this._iCols);break;}}var $3=(this._eleContainerTable.rows[$1]).cells[$2];return $3;}return null;},getSelectedElementDiv:function(){if(this._iSelectedIndex!==-1){var $0=this.getCellElementFromIndex(this._iSelectedIndex).cloneNode(true);var $1=$0.firstChild.firstChild;return $1;}return null;},updateColor:function(oColor){this._clrBgColor=oColor;for(var $0=0;$0<this._iRows;$0++){if(this._eleContainerTable.rows[$0]!=null){for(var $1=0;$1<this._iCols;$1++){var $2=(this._eleContainerTable.rows[$0]).cells[$1];if($2!=null){var $3=$2.firstChild.firstChild;if($3!=null){$3.style.backgroundColor=this._clrBgColor.toString();}}}}}},getSelectedIndex:function(){return this._iSelectedIndex;},setSelectedIndex:function(iSelIndex,bIsSendMsgToParent){this.setCheckedState(this.getCellElementFromIndex(iSelIndex),iSelIndex,bIsSendMsgToParent);},getSelectedRowCol:function(iIndex){var $0=new Kepler.Engine.UI.Controls.cellInfo();var $1=0;for(var $2=1;$2<=this._iRows;$2++){$1=$2*this._iCols;if($1>=(iIndex+1)){$0.iRowNo=$2-1;$0.iColNo=iIndex-(($2-1)*this._iCols);break;}}if($0.iRowNo===-1){$0.iRowNo=this._iRows;$0.iColNo=this._iCols;}return $0;},$4D:function($p0){if(this._bUsedAsDropDown){if(this._iHoverIndex!==-1){$p0=this._iHoverIndex;}}var $0=this.getSelectedRowCol($p0);$0.iRowNo--;if(this.get_scrollbarMode()!==2){if($0.iRowNo<=0){$0.iRowNo=0;}this.setHoverIndex($0.iRowNo);}else{if($0.iRowNo<0&&$0.iColNo>0){$0.iColNo--;$0.iRowNo=this._iRows-1;}else if($0.iRowNo<0&&$0.iColNo<=0&&this._bUsedAsDropDown){$0.iColNo=0;$0.iRowNo=0;}else if($0.iRowNo<0&&$0.iColNo<=0){$0.iColNo=this._iCols-1;$0.iRowNo=this._iRows-1;}}$p0=($0.iRowNo*this._iCols)+$0.iColNo;if(this._bUsedAsDropDown){this.setHoverIndex($p0);}else{}},$4E:function($p0){if(this._bUsedAsDropDown){if(this._iHoverIndex!==-1){$p0=this._iHoverIndex;}}var $0=this.getSelectedRowCol($p0);$0.iRowNo++;if(this.get_scrollbarMode()!==2){if($0.iRowNo>=this._iNumImages){$0.iRowNo=this._iNumImages-1;}this.setHoverIndex($0.iRowNo);}else{if($0.iRowNo===this._iRows&&$0.iColNo<this._iCols-1){$0.iColNo++;$0.iRowNo=0;}else if($0.iRowNo===this._eleContainerTable.rows.length&&$0.iColNo===this._iCols-1&&this._bUsedAsDropDown){$0.iRowNo=this._eleContainerTable.rows.length-1;}else if($0.iRowNo===this._iRows&&$0.iColNo===this._iCols-1){$0.iColNo=$0.iRowNo=0;}}$p0=($0.iRowNo*this._iCols)+$0.iColNo;if(this._bUsedAsDropDown){this.setHoverIndex($p0);}else{this.setCheckedState(this.getCellElementFromIndex($p0),$p0);}},$4F:function($p0){var $0=this._eleContainerTable.rows[$p0];var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientRect($0);var $2=this.get_clientRect();if($1!=null){if(!$2.isRectInRect($1)){var $3=($1.get_top()<$2.get_top())?true:false;if(!$3){this._eleContainerTable.parentNode.scrollTop=(($p0+1)*(this._iCommonItemHeight+(this._iPaddingTopBottom*2))-(this.get_height()-4))+$p0;}else{this._eleContainerTable.parentNode.scrollTop=($p0*(this._iCommonItemHeight+(this._iPaddingTopBottom*2)))-(this._iNoOfRowsCreated-$p0);}this.$47.set_curPos(this._eleContainerTable.parentNode.scrollTop/(this._iCommonItemHeight+(this._iPaddingTopBottom*2)));}}},setHoverIndex:function(iHoverIdx,bIsScroll){if(this._iHoverIndex!==-1){var $1=this.getCellElementFromIndex(this._iHoverIndex);if($1!=null){this.drawItem($1,0);}}var $0=this.getCellElementFromIndex(iHoverIdx);if($0!=null){if(this.getCapture()===this){this.drawItem($0,2);}else{this.drawItem($0,1);}}this._iHoverIndex=iHoverIdx;if(ss.isNullOrUndefined(bIsScroll)||(ss.isValue(bIsScroll)&&bIsScroll)){if(this.get_scrollbarMode()!==2){this.$4F(this._iHoverIndex);}}},getSelectedIndexName:function(){if(this._iSelectedIndex!==-1){if(this._lstItemInfo.length>0&&ss.isValue(this._lstItemInfo[this._iSelectedIndex])){return this._lstItemInfo[this._iSelectedIndex];}else{return this._iSelectedIndex.toString();}}else{return '';}},eraseVisualHint:function(){this._eleContainerTable.style.zIndex=0;var $0=this.getCellElementFromIndex(this._iVisualHintIndex);if(this._iVisualHintIndex!==-1){var $1=$($0.firstChild);$0.firstChild.style.border='';this.drawItem($0,0);this.removeCssClass(' class_visual_hint');this._iVisualHintIndex=-1;}},drawVisualHint:function(oHintData){var $0=oHintData.iIndex;if($0!==-1&&$0<(this._iRows*this._iCols)){this._iVisualHintIndex=$0;var $1=this.getCellElementFromIndex($0);$1.firstChild.style.border='2px solid red';}if(!this._bUsedAsDropDown){this.addCssClass(' class_visual_hint');}},getIndexElement:function(iIndex){var $0=null;if(iIndex!==-1&&iIndex<(this._iRows*this._iCols)){$0=this.getCellElementFromIndex(iIndex);}return $0;},setTopIndex:function(iIndex){if(this.get_scrollbarMode()!==2){this.$4F(iIndex);}},resetList:function(){this.updateColor(new Kepler.Framework.UI.Color(0,0,0));},removeList:function(){var $0=this._eleContainerTable.rows.length;if(this._eleContainerTable!=null){for(var $1=$0-1;$1>=0;$1--){this._eleContainerTable.deleteRow($1);}this._iNoOfRowsCreated=-1;this._iSelectedIndex=-1;this._iHoverIndex=-1;this._iListSelectedIndex.clear();}},updateScrollBar:function(iVisibleHeight,iScrollableHeight){var $0=new Kepler.Engine.UI.Controls.ScrollBarParams();var $1=0;var $2=(iScrollableHeight-iVisibleHeight)/(this._iCommonItemHeight+(this._iPaddingTopBottom*2));var $3=true;if($2<=$1){$2=$1;$3=false;}else{$3=true;}if(this.get_scrollbarMode()===2){this.$47.show(false);}else if(!this.get_scrollbarMode()){this.$47.show($3);}else if(this.get_scrollbarMode()===1){this.$47.set_enable($3);}var $4=new Kepler.Engine.UI.Controls.ScrollBarParams();$4._iMinPos=$1;$4._iMaxPos=$2-1;$4._iPageStep=iVisibleHeight/(this._iCommonItemHeight+(this._iPaddingTopBottom*2));$4._iCurPos=0;this.$47.updateScrollbarParams($4);},$50:function($p0){if(this.get_scrollbarMode()!==2){if($p0>0){if(this.$47.get_curPos()<$p0){$p0=this.$47.get_curPos();}}else{if((this.$47.get_curPos()-$p0)>this.$47.get_maxPos()){$p0=(this.$47.get_curPos()-this.$47.get_maxPos());}}this.$47.performScroll((-1)*$p0);}},setCssClass:function(strNormalClass,strSelClass,strPressedClass,strHoveredClass,strSelHoverClass){this._strNormalCls=strNormalClass;this._strSelClass=strSelClass;this._strPressedCls=strPressedClass;this._strHoveredCls=strHoveredClass;this._strSelhoverCls=strSelHoverClass;},sendMsgToParent:function(eNotificationCode){var $0=new Kepler.Framework.UI.Controls.OnCommandStruct(this._iSelectedIndex,eNotificationCode);var $1=this.sendMessageToParent('msg_command',$0,this);if(!$1&&eNotificationCode===2){this.sendMessageToParent('SelectionChanged',this._iSelectedIndex,this);}},onMouseMove:function(mouseEventArgs){Kepler.Engine.UI.Controls.MultiColListCtrl.callBaseMethod(this, 'onMouseMove',[mouseEventArgs]);var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getParentElementByName(mouseEventArgs.get_target(),'MultiColList_Cell');if(ss.isValue($0)){var $1=this.getIndexFromCellElement($0);if(!this.get_multipleSelection()||(this.get_multipleSelection()&&!this.get_ctrlPressed()&&!this.get_shiftPressed())){if($1!==-1){if(this.getCapture()===this){this.setHoverIndex(this.getIndexFromCellElement($0),true);}else{this.setHoverIndex(this.getIndexFromCellElement($0),false);}}}}},onLButtonDown:function(mouseEventArgs){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getParentElementByName(mouseEventArgs.get_target(),'MultiColList_Cell');var $1=this.getIndexFromCellElement($0);if($1!==-1){this.setCapture();this.drawItem($0,2);}Kepler.Engine.UI.Controls.MultiColListCtrl.callBaseMethod(this, 'onLButtonDown',[mouseEventArgs]);},onLButtonUp:function(mouseEventArgs){Kepler.Engine.UI.Controls.MultiColListCtrl.callBaseMethod(this, 'onLButtonUp',[mouseEventArgs]);this.releaseCapture();var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getParentElementByName(mouseEventArgs.get_target(),'MultiColList_Cell');var $1=this.getIndexFromCellElement($0);if($1!==-1){this.setCheckedState($0,$1);}this.sendMessageToParent('hide_child_ctrl',null,this);},onMouseWheel:function(mouseWheelEventArgs){Kepler.Engine.UI.Controls.MultiColListCtrl.callBaseMethod(this, 'onMouseWheel',[mouseWheelEventArgs]);var $0=mouseWheelEventArgs.get_deltaY();this.$50($0);},onMouseDblClick:function(evt){Kepler.Engine.UI.Controls.MultiColListCtrl.callBaseMethod(this, 'onMouseDblClick',[evt]);var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getParentElementByName(evt.get_target(),'MultiColList_Cell');var $1=this.getIndexFromCellElement($0);if($1!==-1&&$1!==this._iSelectedIndex){this.$4F($1);this._iSelectedIndex=$1;this.drawItem(this._eleContainerTable.rows[this._iSelectedIndex],0);}this.sendMsgToParent(8);},onKeyDown:function(keyboardEventArgs){var $0=this.get_stopEventProcessing();var $1=false;Kepler.Engine.UI.Controls.MultiColListCtrl.callBaseMethod(this, 'onKeyDown',[keyboardEventArgs]);if($0){return;}keyboardEventArgs.set_defaultPrevented(true);var $2=this._iSelectedIndex;switch(keyboardEventArgs.get_key()){case 37:if(this._bUsedAsDropDown){$2=this._iHoverIndex;var $3=this.getSelectedRowCol($2);$3.iColNo--;if($3.iRowNo>0&&$3.iColNo<0){$3.iColNo=this._iCols-1;$3.iRowNo--;}else if($3.iRowNo<=0&&$3.iColNo<0){$3.iColNo=this._iCols-1;$3.iRowNo=this._iRows-1;}$2=($3.iRowNo*this._iCols)+$3.iColNo;this.setHoverIndex($2);}else{this.$4D($2);}$1=true;break;case 38:this.$4D($2);$1=true;break;case 39:if(this._bUsedAsDropDown){$2=this._iHoverIndex;var $4=this.getSelectedRowCol($2);$4.iColNo++;if($4.iRowNo<this._iRows-1&&$4.iColNo===this._iCols){$4.iColNo=0;$4.iRowNo++;}else if($4.iRowNo===this._iRows-1&&$4.iColNo===this._iCols){$4.iColNo=$4.iRowNo=0;}$2=($4.iRowNo*this._iCols)+$4.iColNo;this.setHoverIndex($2);}else{this.$4E($2);}$1=true;break;case 40:this.$4E($2);$1=true;break;case 34:var $5=this._eleContainerTable.rows.length-1;this.setCheckedState(this.getCellElementFromIndex($5),$5);$1=true;break;case 33:var $6=0;this.setCheckedState(this.getCellElementFromIndex($6),$6);$1=true;break;case 13:if(this._bUsedAsDropDown){this.setCheckedState(this.getCellElementFromIndex(this._iHoverIndex),this._iHoverIndex);this.sendMessageToParent('hide_child_ctrl',null,this);}break;case 27:if(this._bUsedAsDropDown){this.sendMessageToParent('hide_child_ctrl',null,this);}break;case 17:this.$4B=true;break;case 16:this.$4A=true;break;case 32:this.setCheckedState(this.getCellElementFromIndex(this._iSelectedIndex),this._iSelectedIndex);break;default:break;}if(Kepler.Framework.Accessibility.AccessibilitySupport.get_instance().get_isAccessibilityOn()&&$1){this.setAriaAttributes();}},onKeyUp:function(evt){Kepler.Engine.UI.Controls.MultiColListCtrl.callBaseMethod(this, 'onKeyUp',[evt]);switch(evt.get_key()){case 17:this.$4B=false;break;case 16:this.$4A=false;break;}},onMouseOut:function(evt){Kepler.Engine.UI.Controls.MultiColListCtrl.callBaseMethod(this, 'onMouseOut',[evt]);var $0=this.getOffsetPointFromEventArgs(evt,true);if(this.getCapture()===this){if(this.$48===1){var $1=this.getSelectedRowCol(this._iHoverIndex);if(this._iHoverIndex<=0){this.setHoverIndex(0);}else if(this._iHoverIndex===this._iNumImages-1){this.setHoverIndex(this._iHoverIndex);}else{if($0.get_y()<=0){this.setHoverIndex(this._iHoverIndex-1);}else if($0.get_y()>=this.get_height()){this.setHoverIndex(this._iHoverIndex+1);}}}}else{this.setHoverIndex(-1);}},onLostFocus:function(oFocusedNewControl){Kepler.Engine.UI.Controls.MultiColListCtrl.callBaseMethod(this, 'onLostFocus',[oFocusedNewControl]);this.sendMessageToParent('hide_child_ctrl',false,this);},mouseHookProc:function(evt){var $0=evt.get_type();var $1=evt.get_target();var $2=false;switch($0){case 256:case 2:var $3=(Kepler.Engine.UI.Dialog).get_name();var $4=(Kepler.Engine.UI.Controls.MultiColListCtrl).get_name();var $5=(Kepler.Engine.UI.Controls.ComboCtrl).get_name();if(ss.isValue(Kepler.Engine.UI.Helper.HtmlCssHelper.getParentElementByName($1,$3))&&ss.isNullOrUndefined(Kepler.Engine.UI.Helper.HtmlCssHelper.getParentElementByName($1,$4))){this.sendMessageToParent('hide_child_ctrl',null,this);$2=true;}break;case 1024:case 8:break;case 512:case 4:break;default:break;}return $2;},$51:function($p0,$p1){var $0=$p0;var $1=($p1);if($1===this.$47){this._eleContainerTable.parentNode.scrollTop=(this.$47.get_curPos()*(this._iCommonItemHeight+(this._iPaddingTopBottom*2)));}return null;},$52:function($p0,$p1){var $0=$p0;var $1=($p1);if($1===this.$47){this._eleContainerTable.parentNode.scrollTop=(this.$47.get_curPos()*(this._iCommonItemHeight+(this._iPaddingTopBottom*2)));}return null;},setFocusCssClass:function(sCssClassName,bFocusRectOnItemDiv){this._oFocusElement.className=sCssClassName;this._bFocusRectOnItemDiv=bFocusRectOnItemDiv;},setFocusRectParams:function(){var $0,$1;if(this._iSelectedIndex!==-1){$0=this.getCellElementFromIndex(this._iSelectedIndex);if(ss.isValue($0)){$1=$0.firstChild;var $2=new Kepler.Framework.UI.Rect(0,0,0,0);$2.set_top(parseInt(this._eleContainerTable.style.marginTop)+1);$2.set_left(parseInt(this._eleContainerTable.style.marginLeft)+1);$2.set_height(parseInt($1.style.height));$2.set_width(parseInt($1.style.width));if(!this._bFocusRectOnItemDiv){$2.set_left($2.get_left()-2);$2.set_top($2.get_top()-2);$2.set_height($2.get_height()+2);$2.set_width($2.get_width()+2);}this._oFocusElement.style.left=($0.offsetLeft+$1.offsetLeft+$2.get_left())+'px';this._oFocusElement.style.top=($0.offsetTop+$1.offsetTop+$2.get_top())+'px';this._oFocusElement.style.height=$2.get_height()+'px';this._oFocusElement.style.width=$2.get_width()+'px';this._eleContainerTable.parentNode.appendChild(this._oFocusElement);}}},resetFocusParams:function(){var $0=this._oFocusElement.parentNode;if(ss.isValue($0)){$0.removeChild(this._oFocusElement);}},getFocusElement:function(){return this._oFocusElement;}}
Kepler.Engine.UI.Controls.cellInfo=function(){this.iRowNo=-1;this.iColNo=-1;}
Kepler.Engine.UI.Controls.cellInfo.prototype={iRowNo:0,iColNo:0}
Kepler.Engine.UI.Controls.HScrollBar=function(oPosition,oSize,strId,strClassNamePrefix){Kepler.Engine.UI.Controls.HScrollBar.initializeBase(this,['div',oPosition,oSize,((!String.isNullOrEmpty(strClassNamePrefix))?strClassNamePrefix:' h_scrollbar'),strId,null]);this.setOrientation(1);this.setThumbGripImageSize(7,8);}
Kepler.Engine.UI.Controls.HScrollBar.prototype={$44:0,show:function(bShow){if(bShow){this.get_element().style.opacity='1';Kepler.Engine.UI.Controls.HScrollBar.callBaseMethod(this, 'show',[bShow]);}else{this.get_element().style.opacity='0';window.clearTimeout(this.$44);this.$44=window.setTimeout(ss.Delegate.create(this,function(){
Kepler.Engine.UI.Controls.HScrollBar.callBaseMethod(this, 'show',[bShow]);}),300);}}}
Kepler.Engine.UI.Controls.ScrollBarBase=function(strTagName,oPosition,oSize,strCssClassNamePrefix,strId,element){Kepler.Engine.UI.Controls.ScrollBarBase.initializeBase(this,[strTagName,strCssClassNamePrefix+'_base',strId,element]);this._eScrollBarType=1;this._bScrollBarTypeIsDefault=true;this._bOnLoaded=false;this._strCssPrefix=strCssClassNamePrefix;this._rcArrowReduce=new Kepler.Framework.UI.Rect(0,0,0,0);this._rcThumb=new Kepler.Framework.UI.Rect(0,0,0,0);this._rcArrowIncrease=new Kepler.Framework.UI.Rect(0,0,0,0);this._szArrowReduceOuter=new Kepler.Framework.UI.Size(0,0);this._szThumbOuter=new Kepler.Framework.UI.Size(0,0);this._szThumbGripImage=new Kepler.Framework.UI.Size(0,0);this._szArrowIncreaseOuter=new Kepler.Framework.UI.Size(0,0);this._iSingleStep=1;this._iPageStep=1;this._dZoomFactor=1;this._iMinThumbTopLeftMargin=0;this._iMaxThumbTopLeftMargin=0;this.ptThumbMoveStart=new Kepler.Framework.UI.Point(0,0);this.ptMouseMoveCur=new Kepler.Framework.UI.Point(0,0);this._iMinThumbSize=10;this._iReduceButtonSize=-1;this._iIncreaseButtonSize=-1;this.createChildElements();this.insertChildElements();if(ss.isValue(oPosition)){this.set_position(oPosition);}if(ss.isValue(oSize)){this.set_size(oSize);if(oSize.get_width()>oSize.get_height()){this.setBounds(0,oSize.get_width());}else{this.setBounds(0,oSize.get_height());}}this._iSingleStepTimerInterval=10;this._iPageStepTimerInterval=100;this._tmrReduceIncrease=new Kepler.Framework.Core.Timers.Timer(ss.Delegate.create(this,this.onTimerReduceIncrease),this._iSingleStepTimerInterval);this.set_rightClickEventNeeded(true);this.set_donotHandleFocusOnLButtonDown(true);}
Kepler.Engine.UI.Controls.ScrollBarBase.get_themE_WIN8=function(){return Kepler.Engine.UI.Controls.ScrollBarBase.$3D;}
Kepler.Engine.UI.Controls.ScrollBarBase.set_themE_WIN8=function(value){if(Kepler.Engine.UI.Controls.ScrollBarBase.$3D!==value){Kepler.Engine.UI.Controls.ScrollBarBase.$3D=value;}return value;}
Kepler.Engine.UI.Controls.ScrollBarBase.prototype={$3B:0,$3C:0,_strCssPrefix:null,_eScrollBarType:0,_bScrollBarTypeIsDefault:false,_bOnLoaded:false,_elmBtnReduce:null,_elmArrowReduce:null,_elmThumb:null,get_thumbElement:function(){return this._elmThumb;},_elmThumbGrip:null,_elmBtnIncrease:null,_elmArrowIncrease:null,_iMinPos:0,_iMaxPos:0,_iCurPos:0,_iSingleStep:0,_iPageStep:0,_dPixelPerUnitPos:0,get_pixelPerUnit:function(){return this._dPixelPerUnitPos;},_dZoomFactor:0,_iSingleStepTimerInterval:0,_iPageStepTimerInterval:0,_rcArrowReduce:null,_rcThumb:null,_iMinThumbTopLeft:0,_iMinThumbTopLeftMargin:0,_iMaxThumbTopLeft:0,_iMaxThumbTopLeftMargin:0,_rcArrowIncrease:null,_szArrowReduceOuter:null,_szThumbOuter:null,_szThumbGripImage:null,_szArrowIncreaseOuter:null,ptThumbMoveStart:null,ptMouseMoveStart:null,ptMouseMoveCur:null,_tmrReduceIncrease:null,_eTimerMode:0,_elmCapture:null,_elmMouse:null,_imsgParent:null,_bMfcBehaviour:true,_iMinThumbSize:0,_iReduceButtonSize:0,_iIncreaseButtonSize:0,get_minPos:function(){return this._iMinPos;},get_maxPos:function(){return this._iMaxPos;},get_curPos:function(){return this._iCurPos;},set_curPos:function(value){if(value<this._iMinPos){this._iCurPos=this._iMinPos;}else if(value>this._iMaxPos){this._iCurPos=this._iMaxPos;}else{this._iCurPos=value;}if(this.get_isLoaded()){this.updateThumpTopLeftFromPos(this._iCurPos);}return value;},get_singleStep:function(){return this._iSingleStep;},set_singleStep:function(value){this._iSingleStep=value;return value;},get_pageStep:function(){return this._iPageStep;},set_pageStep:function(value){this._iPageStep=value;if(this.get_isLoaded()){this.updateThumb();}return value;},get_singleStepTimerInterval:function(){return this._iSingleStepTimerInterval;},set_singleStepTimerInterval:function(value){this._iSingleStepTimerInterval=value;return value;},get_pageStepTimerInterval:function(){return this._iPageStepTimerInterval;},set_pageStepTimerInterval:function(value){this._iPageStepTimerInterval=value;return value;},get_cssPrefix:function(){return this._strCssPrefix;},set_cssPrefix:function(value){this._strCssPrefix=value;return value;},get_thumbTop:function(){return this._rcThumb.get_top();},set_thumbTop:function(value){this._rcThumb.set_top(value);Kepler.Engine.UI.Helper.HtmlCssHelper.setElementTransformOrigin(this._elmThumb,'0px 0px');Kepler.Engine.UI.Helper.HtmlCssHelper.setElementTransform(this._elmThumb,'translate(0px, '+this._rcThumb.get_top()+'px) scale(1) translateZ(0px)');return value;},get_thumbLeft:function(){return this._rcThumb.get_left();},set_thumbLeft:function(value){this._rcThumb.set_left(value);Kepler.Engine.UI.Helper.HtmlCssHelper.setElementLeft(this._elmThumb,this._rcThumb.get_left().toString());return value;},get_isLoaded:function(){return this._bOnLoaded;},get_minThumbTop:function(){return this._iMinThumbTopLeft;},set_minThumbTop:function(value){this._iMinThumbTopLeft=value;return value;},get_maxThumbTop:function(){return this._iMaxThumbTopLeft;},set_maxThumbTop:function(value){this._iMaxThumbTopLeft=value;return value;},get_minThumbLeft:function(){return this._iMinThumbTopLeft;},set_minThumbLeft:function(value){this._iMinThumbTopLeft=value;return value;},get_maxThumbLeft:function(){return this._iMaxThumbTopLeft;},set_maxThumbLeft:function(value){this._iMaxThumbTopLeft=value;return value;},get_minThumbTopLeft:function(){return this._iMinThumbTopLeft;},set_minThumbTopLeft:function(value){this._iMinThumbTopLeft=value;return value;},get_maxThumbTopLeft:function(){return this._iMaxThumbTopLeft;},set_maxThumbTopLeft:function(value){this._iMaxThumbTopLeft=value;return value;},get_iSendMsgParent:function(){return this._imsgParent;},set_iSendMsgParent:function(value){this._imsgParent=value;return value;},get_mfcBehaviour:function(){return this._bMfcBehaviour;},set_mfcBehaviour:function(value){this._bMfcBehaviour=value;return value;},get_minThumbSize:function(){return this._iMinThumbSize;},set_minThumbSize:function(value){this._iMinThumbSize=value;return value;},get_reduceIncreaseButtonSize:function(){return this._iReduceButtonSize;},set_reduceIncreaseButtonSize:function(value){this._iReduceButtonSize=value;this._iIncreaseButtonSize=value;return value;},get_enable:function(){return Kepler.Engine.UI.Controls.ScrollBarBase.callBaseMethod(this, 'get_enable');},set_enable:function(value){if(Kepler.Engine.UI.Controls.ScrollBarBase.callBaseMethod(this, 'get_enable')!==value){Kepler.Engine.UI.Controls.ScrollBarBase.callBaseMethod(this, 'set_enable',[value]);this.drawItem(0);}return value;},get_scrollBarType:function(){return this._eScrollBarType;},set_scrollBarType:function(value){if(this._bScrollBarTypeIsDefault||this._eScrollBarType!==value){this._eScrollBarType=value;this.updateScrollBarType();}this._bScrollBarTypeIsDefault=false;return value;},createChildElements:function(){this._elmBtnReduce=document.createElement('div');this._elmArrowReduce=document.createElement('div');this._elmThumb=document.createElement('div');this._elmThumbGrip=document.createElement('div');this._elmThumb.appendChild(this._elmThumbGrip);this._elmBtnIncrease=document.createElement('div');this._elmArrowIncrease=document.createElement('div');this.drawItem(0);},insertChildElements:function(){this._elmBtnReduce.appendChild(this._elmArrowReduce);this.get_element().appendChild(this._elmBtnReduce);this.get_element().appendChild(this._elmThumb);this._elmBtnIncrease.appendChild(this._elmArrowIncrease);this.get_element().appendChild(this._elmBtnIncrease);},onLoad:function(){if(this._bScrollBarTypeIsDefault){if((Kepler.Engine.UI.Dialog).isInstanceOfType(this.get_parentWnd())){this.set_scrollBarType(2);}else{this.set_scrollBarType(1);}}Kepler.Engine.UI.Controls.ScrollBarBase.callBaseMethod(this, 'onLoad');if(this._bOnLoaded){return;}this.$3E();this.arrangeChildren();this._bOnLoaded=true;},onLoadFromNonControlParent:function(){if(this._bOnLoaded){return;}this.$3E();this.arrangeChildren();this._bOnLoaded=true;},onSize:function(){Kepler.Engine.UI.Controls.ScrollBarBase.callBaseMethod(this, 'onSize');if(this.get_isLoaded()){this.adjustMainElementOnSize();this.arrangeChildren();}},$3E:function(){this.addEvents(2|4|8|16|32|64);this.addEvents(256|512|1024);},adjustMainElementOnSize:function(){var $0=$(this.get_element());var $1=new Kepler.Framework.UI.Size(0,0);var $2=new Kepler.Framework.UI.Size(0,0);$1.set_width($1.set_height(0));var $3=3;while($3>0){var $4=new Kepler.Framework.UI.Size($0.width(),$0.height());$2.set_width($0.outerWidth());$2.set_height($0.outerHeight());var $5=new Kepler.Framework.UI.Size($2.get_width()-$4.get_width(),$2.get_height()-$4.get_height());var $6=null;$6=new Kepler.Framework.UI.Size(this.get_width()-$5.get_width(),this.get_height()-$5.get_height());if($4.equals($6)){break;}$0.width($6.get_width()+$1.get_width());$0.height($6.get_height()+$1.get_height());$1.set_width($1.get_width()+1)-1;$1.set_height($1.get_height()+1)-1;$3--;}},arrangeChildren:function(){var $0=$(this.get_element());var $1=new Kepler.Framework.UI.Size($0.width(),$0.height());this.arrangeButtons($1,0);this.arrangeButtons($1,2);this.updateThumb();},updateThumb:function(){this.updateThumbSize();this.updatePixelPerUnitPos();this.updateThumpTopLeftFromPos(this.get_curPos());},arrangeButtons:function(szThis,eBtnType){var $0=3;var $1=null;var $2=null;var $3=null;var $4=null;var $5=null;var $6=new Kepler.Framework.UI.Size(0,0);var $7=new Kepler.Framework.UI.Size(10,10);var $8=new Kepler.Framework.UI.PointF(0,0);var $9=-1;if(Kepler.Engine.UI.Controls.ScrollBarBase.get_themE_WIN8()||this._eScrollBarType===1){if(!this.$3C){$7.set_width(7);$7.set_height(5);}else{$7.set_width(5);$7.set_height(7);}$8.set_x($7.get_width()/2);$8.set_y($7.get_height()/2);}else{if(!this.$3C){$8.set_x($7.get_width()/2);}else{$8.set_y($7.get_height()/2);}}switch(eBtnType){case 0:$1=this._elmBtnReduce;$3=this._elmArrowReduce;$4=this._rcArrowReduce;$5=this._szArrowReduceOuter;$9=this._iReduceButtonSize;if(!Kepler.Engine.UI.Controls.ScrollBarBase.get_themE_WIN8()&&this._eScrollBarType!==1){if(!this.$3C){$8.set_y($7.get_height()*(3/4));}else{$8.set_x($7.get_width()*(3/4));}}break;case 1:$1=this._elmThumb;$4=this._rcThumb;$5=this._szThumbOuter;break;case 2:$1=this._elmBtnIncrease;$3=this._elmArrowIncrease;$4=this._rcArrowIncrease;$5=this._szArrowIncreaseOuter;$9=this._iIncreaseButtonSize;if(!Kepler.Engine.UI.Controls.ScrollBarBase.get_themE_WIN8()&&this._eScrollBarType!==1){if(!this.$3C){$8.set_y($7.get_height()/4);}else{$8.set_x($7.get_width()/4);}}break;default:throw new Error('Invalid Argument Exception : '+'[nBtnType]');}$2=$($1);$6.set_width($6.set_height(0));$0=3;while($0>0){var $A=new Kepler.Framework.UI.Rect(Kepler.Engine.UI.Helper.HtmlCssHelper.getElementLeft($1),Kepler.Engine.UI.Helper.HtmlCssHelper.getElementTop($1),$2.width(),$2.height());$5.set_width($2.outerWidth());$5.set_height($2.outerHeight());var $B=new Kepler.Framework.UI.Size($5.get_width()-$A.get_width(),$5.get_height()-$A.get_height());var $C=null;if(!this.$3C){var $D=szThis.get_width()-$B.get_width();var $E=($9!==-1)?$9:$D;var $F=szThis.get_height()-$B.get_height();var $10=($F-this._iMinThumbSize-$B.get_height())/2;if($E>$10){$E=$10;}$C=new Kepler.Framework.UI.Rect(0,0,$D,$E);}else{var $11=szThis.get_height()-$B.get_height();var $12=($9!==-1)?$9:$11;var $13=szThis.get_width()-$B.get_width();var $14=($13-this._iMinThumbSize-$B.get_width())/2;if($12>$14){$12=$14;}$C=new Kepler.Framework.UI.Rect(0,0,$12,$11);}if(eBtnType===2){if(!this.$3C){$C.set_top(szThis.get_height()-$B.get_height()-$C.get_height());}else{$C.set_left(szThis.get_width()-$B.get_width()-$C.get_width());}}if($A.equals($C)){break;}$4.set_left($C.get_left());$4.set_top($C.get_top());$4.set_width($C.get_width()+$6.get_width());$4.set_height($C.get_height()+$6.get_height());Kepler.Engine.UI.Helper.HtmlCssHelper.setElementLeft($1,$4.get_left().toString());Kepler.Engine.UI.Helper.HtmlCssHelper.setElementTop($1,$4.get_top().toString());$2.width($4.get_width());$2.height($4.get_height());$6.set_width($6.get_width()+1)-1;$6.set_height($6.get_height()+1)-1;$0--;}if($3!=null){$3.style.marginTop=(($4.get_height()/2)-$8.get_y()).toString()+'px';if(Kepler.Engine.UI.Controls.ScrollBarBase.get_themE_WIN8()||this._eScrollBarType===1){$3.style.marginLeft='0px';}else{$3.style.marginLeft=(($4.get_width()/2)-$8.get_x()).toString()+'px';}}},updateThumbSize:function(){var $0=3;var $1=null;var $2=null;var $3=new Kepler.Framework.UI.Size(0,0);var $4=0;var $5=0;$1=$(this._elmThumb);$2=$(this._elmThumbGrip);var $6=$(this.get_element());var $7=new Kepler.Framework.UI.Size($6.width(),$6.height());if(!this.$3C){$4=this._rcArrowIncrease.get_top()-(this._rcArrowReduce.get_top()+this._szArrowReduceOuter.get_height());}else{$4=this._rcArrowIncrease.get_left()-(this._rcArrowReduce.get_left()+this._szArrowReduceOuter.get_width());}$5=$4/(((this._iMaxPos-this._iMinPos)/this._iPageStep)+1);$3.set_width($3.set_height(0));$0=3;while($0>0){var $8=new Kepler.Framework.UI.Size($1.width(),$1.height());this._szThumbOuter.set_width($1.outerWidth());this._szThumbOuter.set_height($1.outerHeight());var $9=new Kepler.Framework.UI.Size(this._szThumbOuter.get_width()-$8.get_width(),this._szThumbOuter.get_height()-$8.get_height());var $A=null;if(!this.$3C){$A=new Kepler.Framework.UI.Size($7.get_width()-$9.get_width(),parseInt($5)-$9.get_height());if($A.get_height()<this._iMinThumbSize){$A.set_height(this._iMinThumbSize);}}else{$A=new Kepler.Framework.UI.Size(parseInt($5)-$9.get_width(),$7.get_height()-$9.get_height());if($A.get_width()<this._iMinThumbSize){$A.set_width(this._iMinThumbSize);}}if($8.get_width()===$A.get_width()&&$8.get_height()===$A.get_height()){break;}this._rcThumb.set_left(0);this._rcThumb.set_top(0);this._rcThumb.set_width($A.get_width()+$3.get_width());this._rcThumb.set_height($A.get_height()+$3.get_height());Kepler.Engine.UI.Helper.HtmlCssHelper.setElementLeft(this._elmThumb,this._rcThumb.get_left().toString());this.set_thumbTop(this._rcThumb.get_top());$1.width(this._rcThumb.get_width());$1.height(this._rcThumb.get_height());$3.set_width($3.get_width()+1)-1;$3.set_height($3.get_height()+1)-1;$0--;}this.updateThumbGripImagePosition();this.computeMinMaxForThumbTopLeft();},updateThumbGripImagePosition:function(){var $0=$(this._elmThumb);var $1=$(this._elmThumbGrip);var $2=new Kepler.Framework.UI.Size($0.width(),$0.height());var $3=new Kepler.Framework.UI.Size($1.width(),$1.height());if(!this.$3C){if($2.get_height()>(this._szThumbGripImage.get_height()*2)){this._elmThumbGrip.style.visibility='inherit';Kepler.Engine.UI.Helper.HtmlCssHelper.setElementTop(this._elmThumbGrip,(($2.get_height()-this._szThumbGripImage.get_height())/2).toString());Kepler.Engine.UI.Helper.HtmlCssHelper.setElementLeft(this._elmThumbGrip,(($2.get_width()-this._szThumbGripImage.get_width())/2).toString());}else{this._elmThumbGrip.style.visibility='hidden';}}else{if($2.get_width()>(this._szThumbGripImage.get_width()*2)){this._elmThumbGrip.style.visibility='inherit';Kepler.Engine.UI.Helper.HtmlCssHelper.setElementTop(this._elmThumbGrip,(($2.get_height()-this._szThumbGripImage.get_height())/2).toString());Kepler.Engine.UI.Helper.HtmlCssHelper.setElementLeft(this._elmThumbGrip,(($2.get_width()-this._szThumbGripImage.get_width())/2).toString());}else{this._elmThumbGrip.style.visibility='hidden';}}},computeMinMaxForThumbTopLeft:function(){if(!this.$3C){this.set_minThumbTop(this._rcArrowReduce.get_top()+this._szArrowReduceOuter.get_height()+this._iMinThumbTopLeftMargin);this.set_maxThumbTop(this._rcArrowIncrease.get_top()-this._szThumbOuter.get_height()-this._iMaxThumbTopLeftMargin);}else{this.set_minThumbLeft(this._rcArrowReduce.get_left()+this._szArrowReduceOuter.get_width()+this._iMinThumbTopLeftMargin);this.set_maxThumbLeft(this._rcArrowIncrease.get_left()-this._szThumbOuter.get_width()-this._iMaxThumbTopLeftMargin);}if(this.get_maxThumbTopLeft()<this.get_minThumbTopLeft()){this.set_maxThumbTopLeft(this.get_minThumbTopLeft());}},updatePixelPerUnitPos:function(){if(!!(this._iMaxPos-this._iMinPos)&&!!(this.get_maxThumbTopLeft()-this.get_minThumbTopLeft())){this._dPixelPerUnitPos=(this.get_maxThumbTopLeft()-this.get_minThumbTopLeft())/(this._iMaxPos-this._iMinPos);}else{this._dPixelPerUnitPos=1/100000;}},updateThumpTopLeftFromPos:function(iPos){if(!this.$3C){this.set_thumbTop(((iPos-this._iMinPos)*this._dPixelPerUnitPos)+this.get_minThumbTopLeft());}else{this.set_thumbLeft(((iPos-this._iMinPos)*this._dPixelPerUnitPos)+this.get_minThumbTopLeft());}},updatePosFromThumpTopLeft:function(iThumbTopLeft){if(!this._dPixelPerUnitPos){this._iCurPos=this._iMinPos;}else{this._iCurPos=parseInt(((iThumbTopLeft-this.get_minThumbTopLeft())/this._dPixelPerUnitPos))+this._iMinPos;}},changeState:function(eState){if(this.$3B===eState){return;}this.$3B=eState;this.drawItem(this.$3B);},updateScrollbarParams:function(sbParams,bRefreshUi){if(ss.isNullOrUndefined(bRefreshUi)){bRefreshUi=true;}var $0=false;if((sbParams._iMinPos!==-1&&sbParams._iMinPos!==this._iMinPos)||(sbParams._iMaxPos!==-1&&sbParams._iMaxPos!==this._iMaxPos)){if(sbParams._iMinPos===-1){sbParams._iMinPos=this._iMinPos;}if(sbParams._iMaxPos===-1){sbParams._iMaxPos=this._iMaxPos;}if(sbParams._iMinPos>sbParams._iMaxPos){this._iMinPos=sbParams._iMaxPos;this._iMaxPos=sbParams._iMinPos;}else{this._iMinPos=sbParams._iMinPos;this._iMaxPos=sbParams._iMaxPos;}if(this._iCurPos>this._iMaxPos){this._iCurPos=this._iMaxPos;}else if(this._iCurPos<this._iMinPos){this._iCurPos=this._iMinPos;}if(!$0){$0=true;}}if(sbParams._iSingleStep!==-1&&sbParams._iSingleStep!==this._iSingleStep){this._iSingleStep=sbParams._iSingleStep;}if(sbParams._iPageStep!==-1&&sbParams._iPageStep!==this._iPageStep){this._iPageStep=sbParams._iPageStep;if(!$0){$0=true;}}if(sbParams._iSingleStepTimerInterval!==-1&&sbParams._iSingleStepTimerInterval!==this._iSingleStepTimerInterval){this._iSingleStepTimerInterval=sbParams._iSingleStepTimerInterval;}if(sbParams._iPageStepTimerInterval!==-1&&sbParams._iPageStepTimerInterval!==this._iSingleStepTimerInterval){this._iSingleStepTimerInterval=sbParams._iPageStepTimerInterval;}if(bRefreshUi&&$0&&this.get_isLoaded()){this.updateThumb();}},setBounds:function(iMinPos,iMaxPos){if(iMinPos>iMaxPos){this._iMinPos=iMaxPos;this._iMaxPos=iMinPos;}else{this._iMinPos=iMinPos;this._iMaxPos=iMaxPos;}if(this.get_isLoaded()){this.updateThumb();}if(this._iCurPos>this._iMaxPos){this._iCurPos=this._iMaxPos;}else if(this._iCurPos<this._iMinPos){this._iCurPos=this._iMinPos;}},setThumbGripImageSize:function(iWidht,iHeight){this._szThumbGripImage.set_width(iWidht);this._szThumbGripImage.set_height(iHeight);this._elmThumbGrip.style.pixelWidth=iWidht;this._elmThumbGrip.style.pixelHeight=iHeight;if(this.get_isLoaded()){this.updateThumbGripImagePosition();}},setOrientation:function(eOrientation){this.$3C=eOrientation;},drawItem:function(eState){var $0=this.get_cssPrefix();if(!this.get_enable()){$0=this.get_cssPrefix()+'_reduce_increase'+'_disable';this._elmBtnReduce.className=$0;this._elmBtnIncrease.className=$0;$0=this.get_cssPrefix()+'_reduce'+'_disable';this._elmArrowReduce.className=$0;$0=this.get_cssPrefix()+'_thumb'+'_disable';this._elmThumb.className=$0;$0=this.get_cssPrefix()+'_thumb_center_image'+'_disable';this._elmThumbGrip.className=$0;$0=this.get_cssPrefix()+'_increase'+'_disable';this._elmArrowIncrease.className=$0;return;}switch(eState){case 0:$0=this.get_cssPrefix()+'_reduce_increase';this._elmBtnReduce.className=$0;this._elmBtnIncrease.className=$0;$0=this.get_cssPrefix()+'_reduce';this._elmArrowReduce.className=$0;$0=this.get_cssPrefix()+'_thumb';this._elmThumb.className=$0;$0=this.get_cssPrefix()+'_thumb_center_image';this._elmThumbGrip.className=$0;$0=this.get_cssPrefix()+'_increase';this._elmArrowIncrease.className=$0;break;case 1:if(this._elmCapture===this._elmThumb){}else if(this._elmMouse===this._elmBtnReduce){$0=this.get_cssPrefix()+'_reduce_increase';this._elmBtnReduce.className=$0+'_hover';$0=this.get_cssPrefix()+'_reduce';this._elmArrowReduce.className=$0+'_hover';}else if(this._elmMouse===this._elmThumb){$0+='_thumb';this._elmThumb.className=$0+'_hover';$0=this.get_cssPrefix()+'_thumb_center_image';this._elmThumbGrip.className=$0+'_hover';}else if(this._elmMouse===this._elmBtnIncrease){$0=this.get_cssPrefix()+'_reduce_increase';this._elmBtnIncrease.className=$0+'_hover';$0=this.get_cssPrefix()+'_increase';this._elmArrowIncrease.className=$0+'_hover';}break;case 2:if(this._elmCapture===this._elmBtnReduce){var $1='_pressed';$0=this.get_cssPrefix()+'_reduce_increase';this._elmBtnReduce.className=$0+$1;$0=this.get_cssPrefix()+'_reduce';this._elmArrowReduce.className=$0+$1;}else if(this._elmCapture===this._elmThumb){$0+='_thumb';this._elmThumb.className=$0+'_pressed';}else if(this._elmCapture===this._elmBtnIncrease){var $2='_pressed';$0=this.get_cssPrefix()+'_reduce_increase';this._elmBtnIncrease.className=$0+$2;$0=this.get_cssPrefix()+'_increase';this._elmArrowIncrease.className=$0+$2;}break;}},invalidate:function(){this.drawItem(this.$3B);},updateScrollBarType:function(){switch(this._eScrollBarType){case 2:if(this._strCssPrefix.endsWith('_app')){this._strCssPrefix=this._strCssPrefix.replaceAll('_app','');}break;case 1:default:if(!this._strCssPrefix.endsWith('_app')){this._strCssPrefix=this._strCssPrefix+'_app';}this._iMinThumbTopLeftMargin=1;this._iMaxThumbTopLeftMargin=1;break;}this.get_element().className=this._strCssPrefix+'_base';this.invalidate();},checkIfPtInPageReduceRegion:function(pt){if(!this.$3C){if(pt.get_y()>this.get_minThumbTop()&&pt.get_y()<this.get_maxThumbTop()+this._szThumbOuter.get_height()){if(pt.get_y()<this.get_thumbTop()){return true;}}}else{if(pt.get_x()>this.get_minThumbLeft()&&pt.get_x()<this.get_maxThumbLeft()+this._szThumbOuter.get_width()){if(pt.get_x()<this.get_thumbLeft()){return true;}}}return false;},checkIfPtInPageIncreaseRegion:function(pt){if(!this.$3C){if(pt.get_y()>this.get_minThumbTop()&&pt.get_y()<this.get_maxThumbTop()+this._szThumbOuter.get_height()){if(pt.get_y()>this.get_thumbTop()+this._rcThumb.get_height()){return true;}}}else{if(pt.get_x()>this.get_minThumbLeft()&&pt.get_x()<this.get_maxThumbLeft()+this._szThumbOuter.get_width()){if(pt.get_x()>this.get_thumbLeft()+this._rcThumb.get_width()){return true;}}}return false;},processThumbCapturedMouseMove:function(){var $0=0;if(!this.$3C){this.ptMouseMoveCur.set_y(parseInt((this.ptMouseMoveCur.get_y()/this._dZoomFactor)));$0=this.ptThumbMoveStart.get_y()+this.ptMouseMoveCur.get_y()-this.ptMouseMoveStart.get_y();}else{this.ptMouseMoveCur.set_x(parseInt((this.ptMouseMoveCur.get_x()/this._dZoomFactor)));$0=this.ptThumbMoveStart.get_x()+this.ptMouseMoveCur.get_x()-this.ptMouseMoveStart.get_x();}if($0>this.get_minThumbTopLeft()&&$0<this.get_maxThumbTopLeft()){}else if($0<this.get_minThumbTopLeft()){$0=this.get_minThumbTopLeft();}else if($0>this.get_maxThumbTopLeft()){$0=this.get_maxThumbTopLeft();}if(!this.$3C){this.set_thumbTop($0);this.updatePosFromThumpTopLeft(this.get_thumbTop());}else{this.set_thumbLeft($0);this.updatePosFromThumpTopLeft(this.get_thumbLeft());}},processSingleStepReduce:function(){if(this._iCurPos-this._iSingleStep>=this._iMinPos){this._iCurPos=this._iCurPos-this._iSingleStep;}else{this._iCurPos=this._iMinPos;}this.updateThumpTopLeftFromPos(this._iCurPos);},processSingleStepIncrease:function(){if(this._iCurPos+this._iSingleStep<=this._iMaxPos){this._iCurPos=this._iCurPos+this._iSingleStep;}else{this._iCurPos=this._iMaxPos;}this.updateThumpTopLeftFromPos(this._iCurPos);},processPageStepReduce:function(){if(this._iCurPos-this._iPageStep>=this._iMinPos){this._iCurPos=this._iCurPos-this._iPageStep;}else{this._iCurPos=this._iMinPos;}this.updateThumpTopLeftFromPos(this._iCurPos);},processPageStepIncrease:function(){if(this._iCurPos+this._iPageStep<=this._iMaxPos){this._iCurPos=this._iCurPos+this._iPageStep;}else{this._iCurPos=this._iMaxPos;}this.updateThumpTopLeftFromPos(this._iCurPos);},onTimerReduceIncrease:function(customData){var $0=false;switch(this._eTimerMode){case 0:case 1:if(this._tmrReduceIncrease.get_interval()!==this._iSingleStepTimerInterval){this._tmrReduceIncrease.set_interval(this._iSingleStepTimerInterval);$0=true;}break;case 2:case 3:if(this._tmrReduceIncrease.get_interval()!==this._iPageStepTimerInterval){this._tmrReduceIncrease.set_interval(this._iPageStepTimerInterval);$0=true;}break;}if($0){this._tmrReduceIncrease.start();}switch(this._eTimerMode){case 3:if(!this.$3C){this.ptMouseMoveCur.set_y(parseInt((this.ptMouseMoveCur.get_y()/this._dZoomFactor)));if(this.get_thumbTop()>this.ptMouseMoveCur.get_y()){this.stopTimer();return;}}else{this.ptMouseMoveCur.set_x(parseInt((this.ptMouseMoveCur.get_x()/this._dZoomFactor)));if(this.get_thumbLeft()>this.ptMouseMoveCur.get_x()){this.stopTimer();return;}}break;case 2:if(!this.$3C){this.ptMouseMoveCur.set_y(parseInt((this.ptMouseMoveCur.get_y()/this._dZoomFactor)));if(this.get_thumbTop()<this.ptMouseMoveCur.get_y()){this.stopTimer();return;}}else{this.ptMouseMoveCur.set_x(parseInt((this.ptMouseMoveCur.get_x()/this._dZoomFactor)));if(this.get_thumbLeft()<this.ptMouseMoveCur.get_x()){this.stopTimer();return;}}break;}if(this._bMfcBehaviour){var $1='';switch(this._eTimerMode){case 0:$1='ScrollLineUp';break;case 1:$1='ScrollLineDown';break;case 2:$1='ScrollPageUp';break;case 3:$1='ScrollPageDown';break;}this.sendMessageToParent($1,this._iCurPos);}else{switch(this._eTimerMode){case 0:this.processSingleStepReduce();break;case 1:this.processSingleStepIncrease();break;case 2:this.processPageStepReduce();break;case 3:this.processPageStepIncrease();break;}this.sendMessageToParent('ScrollPosChanged',this._iCurPos);}},startTimer:function(){if(!this._tmrReduceIncrease.get_isRunning()){this.onTimerReduceIncrease(null);switch(this._eTimerMode){case 0:case 1:this._tmrReduceIncrease.set_interval(500);break;case 2:case 3:this._tmrReduceIncrease.set_interval(500);break;}this._tmrReduceIncrease.start();}},stopTimer:function(){if(this._tmrReduceIncrease.get_isRunning()){this._tmrReduceIncrease.stop();}},sendMessageToParent:function(strMsg,wParam){var $0=this.get_parent();if(!ss.isNullOrUndefined($0)){$0.sendMessage(strMsg,wParam,this);}if(!ss.isNullOrUndefined(this._imsgParent)){this._imsgParent.sendMessage(strMsg,wParam,this);}},$3F:function($p0){this._elmCapture=null;if(this.$41($p0.get_target())){this._elmCapture=this._elmBtnReduce;this._eTimerMode=0;}else if(this.$42($p0.get_target())){this._elmCapture=this._elmBtnIncrease;this._eTimerMode=1;}else if(this.$43($p0.get_target())){this._elmCapture=this._elmThumb;}else if($p0.get_target()===this.get_element()){this._elmCapture=this.get_element();var $0=this.getOffsetPointFromEventArgs($p0,false);this.ptMouseMoveCur.copy($0);if(this.checkIfPtInPageReduceRegion($0)){this._eTimerMode=2;}else if(this.checkIfPtInPageIncreaseRegion($0)){this._eTimerMode=3;}}if(this._elmCapture===this._elmThumb){this.ptThumbMoveStart.set_x(Kepler.Engine.UI.Helper.HtmlCssHelper.getElementLeft(this._elmThumb));this.ptThumbMoveStart.set_y(this.get_thumbTop());}if(this._elmCapture!=null){this.ptMouseMoveStart=Kepler.Engine.UI.Controls.Control.getClientPointFromEventArgs($p0);this.ptMouseMoveStart.set_x(parseInt((this.ptMouseMoveStart.get_x()/this._dZoomFactor)));this.ptMouseMoveStart.set_y(parseInt((this.ptMouseMoveStart.get_y()/this._dZoomFactor)));this.setCapture();if(this._elmCapture!==this._elmThumb){this.startTimer();}}this.changeState(2);},$40:function($p0){if(this.getCapture()===this){if(this._elmCapture===this._elmThumb){this.sendMessageToParent('ScrollPosChanged',this._iCurPos);}this._elmCapture=null;this.releaseCapture();this.stopTimer();}else{if(this._tmrReduceIncrease.get_isRunning()){this.stopTimer();}}this.changeState(0);},performScroll:function(iAmount){var $0=this._iCurPos;var $1=this._iCurPos+iAmount;this.set_curPos($1);if($0!==this._iCurPos||$1!==this._iCurPos){this.sendMessageToParent('ScrollPosChanged',this.get_curPos());}},performScrollTo:function(iPos){var $0=this._iCurPos;this.set_curPos(iPos);if($0!==this._iCurPos||iPos!==this._iCurPos){this.sendMessageToParent('ScrollPosChanged',this.get_curPos());}},$41:function($p0){return ($p0===this._elmBtnReduce||$p0===this._elmArrowReduce);},$42:function($p0){return ($p0===this._elmBtnIncrease||$p0===this._elmArrowIncrease);},$43:function($p0){return ($p0===this._elmThumb||$p0===this._elmThumbGrip);},onLButtonDown:function(mouseEventArgs){Kepler.Engine.UI.Controls.ScrollBarBase.callBaseMethod(this, 'onLButtonDown',[mouseEventArgs]);this.$3F(mouseEventArgs);},onLButtonUp:function(mouseEventArgs){Kepler.Engine.UI.Controls.ScrollBarBase.callBaseMethod(this, 'onLButtonUp',[mouseEventArgs]);this.$40(mouseEventArgs);},onRButtonDown:function(mouseEventArgs){Kepler.Engine.UI.Controls.ScrollBarBase.callBaseMethod(this, 'onRButtonDown',[mouseEventArgs]);if(Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){this.$3F(mouseEventArgs);}},onRButtonUp:function(mouseEventArgs){Kepler.Engine.UI.Controls.ScrollBarBase.callBaseMethod(this, 'onRButtonUp',[mouseEventArgs]);if(Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){this.$40(mouseEventArgs);}},onMouseMove:function(mouseEventArgs){if(!this.get_enable()){return;}this._elmMouse=null;if(this.$41(mouseEventArgs.get_target())){this._elmMouse=this._elmBtnReduce;}else if(this.$42(mouseEventArgs.get_target())){this._elmMouse=this._elmBtnIncrease;}else if(this.$43(mouseEventArgs.get_target())){this._elmMouse=this._elmThumb;}else if(mouseEventArgs.get_target()===this.get_element()){this._elmMouse=this.get_element();}if(this.getCapture()===this){var $0=false;var $1=false;if(this._elmCapture===this._elmBtnReduce&&this._elmMouse===this._elmBtnReduce){$0=true;}else if(this._elmCapture===this._elmBtnIncrease&&this._elmMouse===this._elmBtnIncrease){$0=true;}else if(this._elmCapture===this._elmThumb){this.ptMouseMoveCur=this.convertForiegnClientPtToNative(mouseEventArgs);this.processThumbCapturedMouseMove();this.sendMessageToParent('ScrollPosChanging',this._iCurPos);}else if(this._elmCapture===this.get_element()&&this._elmMouse===this.get_element()){this.ptMouseMoveCur=this.getOffsetPointFromEventArgs(mouseEventArgs,true);if(this._eTimerMode===2&&this.checkIfPtInPageReduceRegion(this.ptMouseMoveCur)){$0=true;}else if(this._eTimerMode===3&&this.checkIfPtInPageIncreaseRegion(this.ptMouseMoveCur)){$0=true;}else{$1=true;}}else{$1=true;}if($0){this.startTimer();this.changeState(2);}if($1){this.stopTimer();this.changeState(1);}}else{if(this.isMouseEventInElementRect(mouseEventArgs)){this.changeState(1);}else{this.changeState(0);}}},convertForiegnClientPtToNative:function(evt){var $0=1;var $1=new Kepler.Framework.UI.Point(0,0);if(evt.get_categoryType()===2){var $2=evt;var $3=$2.get_touches();if(!$3.length){$3=$2.get_changedTouches();}$1.set_x(Math.round($0*$3[0].get_clientX()));$1.set_y(Math.round($0*$3[0].get_clientY()));}else{$1.set_x(Math.round($0*evt.get_clientX()));$1.set_y(Math.round($0*evt.get_clientY()));}if(evt.get_target().ownerDocument!==this.get_element().ownerDocument){var $4=evt.get_target().ownerDocument.defaultView;var $5=(ss.isValue($4))?$4.frameElement:null;var $6=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientRect($5);if(ss.isValue($6)){$1.set_x($1.get_x()+$6.get_left());$1.set_y($1.get_y()+$6.get_top());}}return $1;},onMouseOver:function(mouseEventArgs){if(!this.get_enable()){return;}this._elmMouse=null;if(this.$41(mouseEventArgs.get_target())){this._elmMouse=this._elmBtnReduce;}else if(this.$42(mouseEventArgs.get_target())){this._elmMouse=this._elmBtnIncrease;}else if(this.$43(mouseEventArgs.get_target())){this._elmMouse=this._elmThumb;}else if(mouseEventArgs.get_target()===this.get_element()){this._elmMouse=this.get_element();}if(Kepler.Engine.UI.Controls.ScrollBarBase.get_themE_WIN8()&&this._eScrollBarType===2){this._elmThumb.className=this.get_cssPrefix()+'_thumb_active';}this.changeState(1);},onMouseOut:function(mouseEventArgs){if(!this.get_enable()){return;}if(this.getCapture()!==this){this.changeState(0);}}}
Kepler.Engine.UI.Controls.ScrollBarParams=function(){this.reset();}
Kepler.Engine.UI.Controls.ScrollBarParams.prototype={_iMinPos:0,_iMaxPos:0,_iCurPos:0,_iSingleStep:0,_iPageStep:0,_iSingleStepTimerInterval:0,_iPageStepTimerInterval:0,reset:function(){this._iMinPos=-1;this._iMaxPos=-1;this._iCurPos=-1;this._iSingleStep=-1;this._iPageStep=-1;this._iSingleStepTimerInterval=-1;this._iPageStepTimerInterval=-1;},setBounds:function(iMIn,iMax){this._iMinPos=iMIn;this._iMaxPos=iMax;},setSteps:function(iSingle,iPage){this._iSingleStep=iSingle;this._iPageStep=iPage;},setTimerInterval:function(iSingleStep,iPageStep){this._iSingleStepTimerInterval=iSingleStep;this._iPageStepTimerInterval=iPageStep;}}
Kepler.Engine.UI.Controls.VScrollBar=function(oPosition,oSize,strId,strClassNamePrefix){Kepler.Engine.UI.Controls.VScrollBar.initializeBase(this,['div',oPosition,oSize,((!String.isNullOrEmpty(strClassNamePrefix))?strClassNamePrefix:' v_scrollbar'),strId,null]);this.setOrientation(0);this.setThumbGripImageSize(8,7);}
Kepler.Engine.UI.Controls.Span=function(strCssClassName,strId,element){Kepler.Engine.UI.Controls.Span.initializeBase(this,['span',strCssClassName,strId,element]);}
Kepler.Engine.UI.Controls.TabBaseControl=function(strCssClassName,strId){Kepler.Engine.UI.Controls.TabBaseControl.initializeBase(this,['div',strCssClassName,strId]);this._lstTab=[];this._oTabPageContainer=new Kepler.Engine.UI.Controls.TabPageContainer();}
Kepler.Engine.UI.Controls.TabBaseControl.prototype={_oTabPageContainer:null,get_pageContainer:function(){return this._oTabPageContainer;},_oTabNavigator:null,_lstTab:null,_oActiveTab:null,get_activeTab:function(){return this._oActiveTab;},get_activeTabIndex:function(){return this._lstTab.indexOf(this._oActiveTab);},_bRefreshDom:false,get_refreshDom:function(){return this._bRefreshDom;},set_refreshDom:function(value){this._bRefreshDom=value;return value;},drawVisualHint:function(oHintData){this._oTabNavigator.drawVisualHint(oHintData);},eraseVisualHint:function(){this._oTabNavigator.eraseVisualHint();},getIndexElement:function(iTabIndex){return this._oTabNavigator.getIndexElement(iTabIndex);},onLoad:function(){Kepler.Engine.UI.Controls.TabBaseControl.callBaseMethod(this, 'onLoad');this.attachMessage('msg_enable_disable_tabpage',ss.Delegate.create(this,this.$41));this.add(this._oTabNavigator);this.add(this._oTabPageContainer);},addTab:function(oTabPage){if(oTabPage==null){throw new Error('Null Reference Exception : '+'oTabPage');}if(this._lstTab.contains(oTabPage)){return;}this._lstTab.add(oTabPage);this._oTabNavigator.addItem(oTabPage.get_name());this._oTabPageContainer.addTabPage(oTabPage);if(this._lstTab.length===1){this.setActiveTabIndex(0);}},removeTab:function(oTabPage){var $0;if(oTabPage!=null&&(($0=this._lstTab.indexOf(oTabPage))!==-1)){this._oTabPageContainer.$42($0);this._oTabNavigator.removeItem($0);this._lstTab.removeAt($0);if(this._oActiveTab===oTabPage){if($0<this._lstTab.length){this.setActiveTabIndex($0);}else{this._oActiveTab=null;}}}},setTitleWidth:function(iTabNo,iWidth){(this._oTabNavigator).$50(iTabNo,iWidth);},setActiveTab:function(oTabPage){var $0;if(oTabPage!=null&&(($0=this._lstTab.indexOf(oTabPage))!==-1)){this.setActiveTabIndex($0);}},setActiveTabIndex:function(iTabIndex){var $0=this.get_activeTabIndex();if(iTabIndex>=0&&iTabIndex<this._lstTab.length&&$0!==iTabIndex&&this._lstTab[iTabIndex].get_enable()){this._oActiveTab=this._lstTab[iTabIndex];this._oTabNavigator.setActiveItemIndex(iTabIndex);this._oTabPageContainer.$43(iTabIndex,$0);var $1=new Kepler.Framework.UI.Controls.OnCommandStruct();$1.setData(iTabIndex,2);var $2=this.sendMessageToParent('msg_command',$1,this);if(!$2){this.sendMessageToParent('SelectionChanged',iTabIndex,this);}}},findIndexOfItemDiscardingNullItems:function(iTabIndex){var $0=-1;for(var $1=0;$1<=iTabIndex;$1++){if(ss.isNull(this._lstTab[$1])){continue;}$0++;}return $0;},onEventProcessSelection:function(iTabIndex){var $0=new Kepler.Framework.UI.Events.EventArgsNs.CustomEventArgs('SelectionChanging',iTabIndex);if(!this.onPretranslateEvent(this,$0)&&!Kepler.Engine.UI.Controls.Control.get_isShowMe()){this.setActiveTabIndex(iTabIndex);}},getTabItemRect:function(iItemIndex){return this._oTabNavigator.getItemRect(iItemIndex);},updateTabName:function(iTabIndex,sTabName){if(iTabIndex>-1&&!String.isNullOrEmpty(sTabName)){this._lstTab[iTabIndex].set_name(sTabName);this._oTabNavigator.updateItem(iTabIndex,sTabName);}},setFocus:function(){return this._oTabNavigator.setFocus();},dispose:function(){Kepler.Engine.UI.Controls.TabBaseControl.callBaseMethod(this, 'dispose');this._oTabNavigator=null;this._oTabPageContainer=null;this._oActiveTab=null;this._lstTab=null;},performTabNavigation:function(oKeyEvents){var $0=true;if((oKeyEvents.get_key()===9&&oKeyEvents.get_shiftKey())||oKeyEvents.get_key()===33){(this._oTabNavigator).moveLeft(this.get_activeTabIndex());this._oTabNavigator.setFocus();}else if(oKeyEvents.get_key()===9||oKeyEvents.get_key()===34){(this._oTabNavigator).moveRight(this.get_activeTabIndex());this._oTabNavigator.setFocus();}else{$0=false;}return $0;},$41:function($p0,$p1){var $0=$p1;var $1=$p0;if($0){(this._oTabNavigator).$53($1);}else{(this._oTabNavigator).$52($1);}return null;}}
Kepler.Engine.UI.Controls.TabControl=function(strId,typeTabNavigator){Kepler.Engine.UI.Controls.TabControl.initializeBase(this,[' tabcontrol'+' position_absolute',strId]);if(ss.isValue(typeTabNavigator)){this._oTabNavigator=new typeTabNavigator();}else{this._oTabNavigator=new Kepler.Engine.UI.Controls.TabNavigator();}}
Kepler.Engine.UI.Controls.TabControl.prototype={onLoad:function(){Kepler.Engine.UI.Controls.TabControl.callBaseMethod(this, 'onLoad');this.$43();},$43:function(){this._oTabPageContainer.set_top(this._oTabNavigator.get_element().offsetHeight-3);},$44:function(){if(this._bRefreshDom&&!Kepler.Framework.Core.Browser.BrowserCapabilities.get_name()){Kepler.Engine.UI.Helper.HtmlCssHelper.refreshDOM();}var $0=this._oTabNavigator.get_element().offsetHeight;if($0>0){this._oTabPageContainer.set_size(new Kepler.Framework.UI.Size(this.get_width(),this.get_height()-this._oTabNavigator.get_element().offsetHeight));this.$43();}},onSize:function(){this._oTabNavigator.set_width(this.get_width());this.$44();},addTab:function(oTabPage){Kepler.Engine.UI.Controls.TabControl.callBaseMethod(this, 'addTab',[oTabPage]);this.$44();}}
Kepler.Engine.UI.Controls.TabNavigator=function(){Kepler.Engine.UI.Controls.TabNavigator.initializeBase(this,['div',' tab_navigator'+' position_absolute']);this.$4A=[];this.$4B=[];this.$4C=[];this.$4E=false;this.set_alwaysSpeechOnSetFocus(true);}
Kepler.Engine.UI.Controls.TabNavigator.prototype={$49:null,$4A:null,$4B:null,$4C:null,$4D:0,$4E:false,$4F:0,get_ariaSpeech:function(){var $0='';if(this.get_setFocusUsingTab()||this.get_ariaSpeechFromOnFocus()){$0=' To switch pages use the arrow keys';}return ('Selected '+this.$49.textContent+' Tab '+$0);},set_ariaSpeech:function(value){Kepler.Engine.UI.Controls.TabNavigator.callBaseMethod(this, 'set_ariaSpeech',[value]);return value;},addItem:function(strText){var $0=document.createElement('span');if($0.className!==' tab_item_disable'){$0.className=' tab_item';}$0.innerHTML=strText;this.$4A.add($0);var $1=this.$51(strText);this.$4B.add($1);this.get_element().appendChild($0);if(this.$49!=null&&this.$49.nextSibling===$0){if($0.className!==' tab_item_disable'){$0.className=' tab_item'+' tab_item_active_next';}}},$50:function($p0,$p1){if($p0<this.$4A.length&&this.$4A[$p0]!=null){this.$4A[$p0].style.width=$p1+'px';}},$51:function($p0){var $0=-1;var $1=$p0.indexOf('<u>');if($1>-1){var $2=$p0.remove($1,3);$0=$2.substr($1,1).toUpperCase().charCodeAt(0);}return $0;},$52:function($p0){if($p0>=0&&$p0<this.$4A.length){this.$4A[$p0].className=' tab_item_disable';this.$54($p0,false);}},$53:function($p0){if($p0>=0&&$p0<this.$4A.length){this.$4A[$p0].className=' tab_item';this.$54($p0,true);}},$54:function($p0,$p1){var $0=this.$4A[$p0].innerHTML;if($p1){var $1=String.fromCharCode(this.$4B[$p0]);var $2=$0.toLowerCase().indexOf($1.toLowerCase());$0=$0.insert($2,'<u>');$0=$0.insert($2+4,'</u>');}else{$0=$0.remove($0.indexOf('<u>'),3);$0=$0.remove($0.indexOf('</u>'),4);}this.$4A[$p0].innerHTML=$0;},removeItem:function(iItemIndex){var $0=this.$4A[iItemIndex];if(this.$49===$0){this.$49=null;}this.get_element().removeChild($0);this.$4A.removeAt(iItemIndex);this.$4B.removeAt(iItemIndex);},updateItem:function(iIndex,sText){var $0=this.$4A[iIndex];if(ss.isValue($0)){$0.innerHTML=sText;}},onLoad:function(){Kepler.Engine.UI.Controls.TabNavigator.callBaseMethod(this, 'onLoad');this.$55();},onSize:function(){Kepler.Engine.UI.Controls.TabNavigator.callBaseMethod(this, 'onSize');var $0=0;for(var $1=0;$1<this.$4A.length;$1++){$0+=this.$4A[$1].clientWidth;if($0<this.get_width()){this.$4C.add(0);}else{this.$4C.add(1);this.$4E=true;}}if(this.$4E){(this.get_parent()).setActiveTabIndex(0);}},$55:function(){this.addEvents(2|256|4096|1024);},setActiveItemIndex:function(iItemIndex){if(!this.$4C[iItemIndex]&&this.$4E){this.$56(0,1);}this.$4F=iItemIndex;this.$57(this.$4A[iItemIndex]);},$56:function($p0,$p1){for(var $5=0;$5<this.get_element().children.length;$5++){this.get_element().removeChild(this.get_element().children[0]);}var $0=0;var $1=0;var $2=this.$4C.length;for(var $6=0;$6<$2;$6++){if(this.$4C[$6]===$p0){this.$4C[$6]=$p1;$1++;$0=$6;}else if(this.$4C[$6]===$p1){this.$4C[$6]=$p0;}}var $3=($0+1)%this.$4A.length;var $4=this.$4A.length-$1;for(var $7=$3;$7<$3+$4;$7++){this.get_element().appendChild(this.$4A[$7]);}if($3+$4===this.$4A.length){for(var $8=0;$8<$1;$8++){this.get_element().appendChild(this.$4A[$8]);}}else{for(var $9=$3+$4;$9<this.$4A.length;$9++){this.get_element().appendChild(this.$4A[$9]);}}},getItemRect:function(iItemIndex){var $0=this.get_element().childNodes[iItemIndex];return Kepler.Engine.UI.Helper.HtmlCssHelper.getElementRect($0);},$57:function($p0){if(this.$49!=null){if(this.$49.className!==' tab_item_disable'){this.$49.style.width=(parseInt(this.$49.style.width)-5)+'px';this.$49.className=' tab_item';}}if($p0!=null){if($p0.className!==' tab_item_disable'){$p0.className=' tab_item'+' tab_item_active';this.$49=$p0;}}this.$49.style.width=(parseInt(this.$49.style.width)+5)+'px';},drawVisualHint:function(oHintData){this.$4D=oHintData.iIndex;if(this.$4D>-1){var $0=this.$4A[this.$4D];if(ss.isValue($0)){var $1=$($0);if(!this.$4D){$1.addClass(' tab_item_hint_first');}else{if(this.$4F===this.$4D-1){$1.addClass(' tab_item_hint');}else{$1.addClass(' tab_item_hint_first');}}}}},eraseVisualHint:function(){var $0=this.$4A[this.$4D];if(ss.isValue($0)){var $1=$($0);if(!this.$4D){$1.removeClass(' tab_item_hint_first');}else{if(this.$4F===this.$4D-1){$1.removeClass(' tab_item_hint');}else{$1.removeClass(' tab_item_hint_first');}}}this.$4D=-1;},getIndexElement:function(iIndex){if(iIndex>-1){return this.$4A[iIndex];}return null;},getFocusRect:function(){var $0=new Kepler.Framework.UI.Rect(0,0,0,0);if(this.$49.offsetHeight<=0||this.$49.offsetWidth<=0){$0=null;}else{$0.set_top(this.$49.offsetTop+4);$0.set_height(this.$49.offsetHeight-8);$0.set_left(this.$49.offsetLeft+4);$0.set_width(this.$49.offsetWidth-10);}return $0;},onLButtonDown:function(mouseEventArgs){var $0=this.get_element();var $1=mouseEventArgs.get_target();var $2=null;while($1!==$0){$2=$1;$1=$1.parentNode;}if($2!=null&&$2.className!==' tab_item_disable'){if($2!==this.$49){var $3=this.$4A.length;for(var $4=0;$4<$3;$4++){if(this.$4A[$4]===$2){(this.get_parent()).onEventProcessSelection($4);break;}}}Kepler.Engine.UI.Controls.TabNavigator.callBaseMethod(this, 'onLButtonDown',[mouseEventArgs]);}Kepler.Engine.UI.Helper.HtmlCssHelper.refreshDOM();},onPretranslateEvent:function(sender,eventArgs){if(eventArgs.get_type()===4096){var $0=(eventArgs);if(($0.get_ctrlKey()||$0.get_shiftKey())||$0.get_key()===9){$0.set_defaultPrevented(true);}}return Kepler.Engine.UI.Controls.TabNavigator.callBaseMethod(this, 'onPretranslateEvent',[sender,eventArgs]);},onKeyDown:function(keyboardEventArgs){var $0=this.$4A.indexOf(this.$49);var $1=false;switch(keyboardEventArgs.get_key()){case 38:this.$58($0);$1=true;break;case 40:this.$58($0);$1=true;break;case 37:this.moveLeft($0);$1=true;break;case 39:this.moveRight($0);$1=true;break;case 9:if(keyboardEventArgs.get_ctrlKey()){keyboardEventArgs.set_defaultPrevented(true);if(keyboardEventArgs.get_shiftKey()){this.moveLeft($0);}else{this.moveRight($0);}$1=true;}else{Kepler.Engine.UI.Controls.TabNavigator.callBaseMethod(this, 'onKeyDown',[keyboardEventArgs]);}break;default:var $2=this.$4B.indexOf(keyboardEventArgs.get_key());if($2>-1){(this.get_parent()).setActiveTabIndex($2);this.setFocusRectParams();$1=true;}else{Kepler.Engine.UI.Controls.TabNavigator.callBaseMethod(this, 'onKeyDown',[keyboardEventArgs]);}break;}if($1&&Kepler.Framework.Accessibility.AccessibilitySupport.get_instance().get_isAccessibilityOn()){this.setAriaAttributes();}},$58:function($p0){if(this.$4E){var $0=this.$4C[$p0];var $1=0;var $2=0;for(var $5=0;$5<this.$4C.length;$5++){if(this.$4C[$5]===$0){$1++;$2=$5;}}var $3=Math.ceil($1/2);var $4=$2+1-$1;if($p0<$3+$4){for(var $6=0;$6<this.$4C.length;$6++){if(this.$4C[$6]!==$0){$p0=$6;break;}}}else{for(var $7=this.$4C.length-1;$7>=0;$7--){if(this.$4C[$7]!==$0){$p0=$7;break;}}}}if(ss.isValue(this.get_parent())){(this.get_parent()).setActiveTabIndex($p0);this.setFocusRectParams();}},moveLeft:function(iCurIndex){iCurIndex--;if(!this.$4E){if(iCurIndex<0){iCurIndex=this.$4A.length-1;}if(ss.isValue(this.get_parent())){(this.get_parent()).setActiveTabIndex(iCurIndex);this.setFocusRectParams();}}else{var $0=this.$4C[iCurIndex+1];if(iCurIndex<0||this.$4C[iCurIndex]!==$0){for(var $1=0;$1<this.$4C.length;$1++){if(this.$4C[$1]===$0){iCurIndex=$1;}}}if(ss.isValue(this.get_parent())){(this.get_parent()).setActiveTabIndex(iCurIndex);this.setFocusRectParams();}}},moveRight:function(iCurIndex){iCurIndex++;if(!this.$4E){if(iCurIndex>this.$4A.length-1){iCurIndex=0;}if(ss.isValue(this.get_parent())){(this.get_parent()).setActiveTabIndex(iCurIndex);this.setFocusRectParams();}}else{var $0=this.$4C[iCurIndex-1];if(iCurIndex>this.$4A.length-1||this.$4C[iCurIndex]!==$0){for(var $1=this.$4C.length;$1>=0;$1--){if(this.$4C[$1]===$0){iCurIndex=$1;}}}if(ss.isValue(this.get_parent())){(this.get_parent()).setActiveTabIndex(iCurIndex);this.setFocusRectParams();}}}}
Kepler.Engine.UI.Controls.TabNavigatorBase=function(strTagName,strCssClassName,strId){Kepler.Engine.UI.Controls.TabNavigatorBase.initializeBase(this,[strTagName,strCssClassName,strId]);}
Kepler.Engine.UI.Controls.TabNavigatorBase.prototype={updateItem:function(iIndex,sText){}}
Kepler.Engine.UI.Controls.TabPage=function(strName){Kepler.Engine.UI.Controls.TabPage.initializeBase(this,['div']);this.$41=strName;}
Kepler.Engine.UI.Controls.TabPage.prototype={$41:null,get_name:function(){return this.$41;},set_name:function(value){this.$41=value;return value;},get_enable:function(){return Kepler.Engine.UI.Controls.TabPage.callBaseMethod(this, 'get_enable');},set_enable:function(value){if(this.get_enable()!==value){Kepler.Engine.UI.Controls.TabPage.callBaseMethod(this, 'set_enable',[value]);this.get_parent().sendMessage('msg_enable_disable_tabpage',this,value);}return value;},getParentSheet:function(){var $0=this.get_parent();var $1=null;while(ss.isValue($0)&&Type.getInstanceType($0)!==Kepler.Engine.UI.DialogContainer){if(Type.getInstanceType($0).get_baseType()===Kepler.Engine.UI.DialogTabClient||Type.getInstanceType($0).get_baseType().get_baseType()===Kepler.Engine.UI.DialogTabClient){$1=$0;break;}$0=$0.get_parent();}return $1;},getParentDialog:function(){var $0=this.get_parent();var $1=null;while(ss.isValue($0)&&Type.getInstanceType($0)!==Kepler.Engine.UI.DialogContainer){if(Type.getInstanceType($0).get_baseType()===Kepler.Engine.UI.Dialog||Type.getInstanceType($0).get_baseType()===Kepler.Engine.UI.Dialog||Type.getInstanceType($0).get_baseType().get_baseType()===Kepler.Engine.UI.Dialog){$1=$0;break;}$0=$0.get_parent();}return $1;},drawVisualHint:function(oHintData){var $0;$0=this.get_parent();while(ss.isValue($0)){if((Kepler.Engine.UI.Controls.TabBaseControl).isAssignableFrom(Type.getInstanceType($0))){($0).drawVisualHint(oHintData);break;}$0=$0.get_parent();}},eraseVisualHint:function(){var $0;$0=this.get_parent();while(ss.isValue($0)){if((Kepler.Engine.UI.Controls.TabBaseControl).isAssignableFrom(Type.getInstanceType($0))){($0).eraseVisualHint();break;}$0=$0.get_parent();}},getIndexElement:function(iTabIndex){var $0=this.get_parent();while(ss.isValue($0)){if((Kepler.Engine.UI.Controls.TabBaseControl).isAssignableFrom(Type.getInstanceType($0))){return ($0).getIndexElement(iTabIndex);}$0=$0.get_parent();}return null;},getShowMeEventType:function(){return 0;},isControlFocused:function(){return this.getFocus()===this;},getPreShowMeEventType:function(){return -1;},getTargetElement:function(oData){return this.getIndexElement(oData);},fillShowMeEventData:function(lstEventData){},fillDynamicShowMeEventData:function(){return null;}}
Kepler.Engine.UI.Controls.TabPageContainer=function(){Kepler.Engine.UI.Controls.TabPageContainer.initializeBase(this,['div',' tab_page_container'+' position_absolute']);this.set_donotHandleFocusOnLButtonDown(true);}
Kepler.Engine.UI.Controls.TabPageContainer.prototype={onLoad:function(){Kepler.Engine.UI.Controls.TabPageContainer.callBaseMethod(this, 'onLoad');this.attachMessage('msg_enable_disable_tabpage',ss.Delegate.create(this,this.$44));this.addEvents(2);this.addEvents(256);},addTabPage:function(oTabPage){this.add(oTabPage);if(this.get_controls().length>1){oTabPage.show(false);}},$42:function($p0){this.removeAt($p0);},$43:function($p0,$p1){var $0=this.get_controls();$0[$p0].show(true);if($p1!==-1){$0[$p1].show(false);}},hideTab:function(bHide,iTabIndex){if(Type.getInstanceType(this.get_controls()[iTabIndex])===Kepler.Engine.UI.Controls.TabPage){this.get_controls()[iTabIndex].get_elementStyle().display=(bHide)?'none':'block';}},onSize:function(){var $0=this.get_size();for(var $1=0;$1<this.get_controls().length;$1++){this.get_controls()[$1].set_size(new Kepler.Framework.UI.Size($0.get_width(),$0.get_height()));}Kepler.Engine.UI.Controls.TabPageContainer.callBaseMethod(this, 'onSize');},$44:function($p0,$p1){var $0=$p0;var $1=this.get_controls().indexOf($0);if($1!==-1){this.get_parent().sendMessage('msg_enable_disable_tabpage',$1,$p1);}return null;}}
Kepler.Engine.UI.Controls.WizardTabBaseControl=function(strCssClassName,strId){Kepler.Engine.UI.Controls.WizardTabBaseControl.initializeBase(this,[strCssClassName+' position_absolute',strId]);Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(this._oTabPageContainer.get_element(),' tab_page_container');}
Kepler.Engine.UI.Controls.WizardTabBaseControl.prototype={onLoad:function(){this.add(this._oTabPageContainer);},onSize:function(){Kepler.Engine.UI.Controls.WizardTabBaseControl.callBaseMethod(this, 'onSize');this.$43();},$43:function(){this._oTabPageContainer.set_size(new Kepler.Framework.UI.Size(this.get_width(),this.get_height()-47));},addTab:function(oTabPage){if(oTabPage==null){throw new Error('Null Reference Exception : '+'oTabPage');}if(this._lstTab.contains(oTabPage)){return;}this._lstTab.add(oTabPage);this._oTabPageContainer.addTabPage(oTabPage);if(this._lstTab.length===1){this.setActiveTabIndex(0);}this.$43();},removeTab:function(oTabPage){var $0;if(oTabPage!=null&&(($0=this._lstTab.indexOf(oTabPage))!==-1)){this._oTabPageContainer.$42($0);this._lstTab.removeAt($0);if(this._oActiveTab===oTabPage){if($0<this._lstTab.length){this.setActiveTabIndex($0);}else{this._oActiveTab=null;}}}},setActiveTabIndex:function(iTabIndex){var $0=this.get_activeTabIndex();if(iTabIndex>=0&&iTabIndex<this._lstTab.length&&$0!==iTabIndex&&this._lstTab[iTabIndex].get_enable()){this._oActiveTab=this._lstTab[iTabIndex];this._oTabPageContainer.$43(iTabIndex,$0);}if(!iTabIndex){this.$44(false,true);}else if(iTabIndex===this._lstTab.length-1){this.$44(true,false);}else{this.$44(true,true);}},$44:function($p0,$p1){(this.get_parent()).get_btN_BACK().set_enable($p0);(this.get_parent()).get_btN_NEXT().set_enable($p1);},setFocus:function(){return this._oActiveTab.setFocus();},performTabNavigation:function(oKeyEvents){return true;},getIndexElement:function(iTabIndex){if(this._lstTab[iTabIndex]!=null){return this._lstTab[iTabIndex].get_element();}return null;}}
Kepler.Engine.UI.Controls.WizardTabPage=function(strName){Kepler.Engine.UI.Controls.WizardTabPage.initializeBase(this,[strName]);}
Kepler.Engine.UI.Controls.WizardTabPage.prototype={getWizardSheet:function(){var $0=this.get_parent();var $1=null;while(ss.isValue($0)&&Type.getInstanceType($0)!==Kepler.Engine.UI.DialogWizardTabClient){if(Type.getInstanceType($0).get_baseType()===Kepler.Engine.UI.DialogWizardTabClient||Type.getInstanceType($0).get_baseType().get_baseType()===Kepler.Engine.UI.DialogWizardTabClient){$1=$0;break;}$0=$0.get_parent();}return $1;}}
Kepler.Engine.UI.Controls.RichTextBox=function(strText,oPosition,oSize,strCssClassName,strId,oCharProp){Kepler.Engine.UI.Controls.RichTextBox.initializeBase(this,[(ss.isValue(strText))?strText:'',oPosition,oSize,strCssClassName,strId,oCharProp]);this.set_rightClickEventNeeded(true);this.get_elementStyle().backgroundColor='#FFFFFF';this.get_elementStyle().border='1px solid #ABADB3';this.get_elementStyle().overflow='';this.set_alwaysSpeechOnSetFocus(true);}
Kepler.Engine.UI.Controls.RichTextBox.prototype={get_enable:function(){return Kepler.Engine.UI.Controls.RichTextBox.callBaseMethod(this, 'get_enable');},set_enable:function(value){Kepler.Engine.UI.Controls.RichTextBox.callBaseMethod(this, 'set_enable',[value]);this.$58(value);return value;},get_ariaSpeech:function(){if(!this.get_ariaSpeechFromOnFocus()){return this.get_text();}return (Kepler.Engine.UI.Controls.RichTextBox.callBaseMethod(this, 'get_ariaSpeech')+' '+this.get_text());},set_ariaSpeech:function(value){Kepler.Engine.UI.Controls.RichTextBox.callBaseMethod(this, 'set_ariaSpeech',[value]);return value;},get_ariaRole:function(){return 'label';},set_ariaRole:function(value){Kepler.Engine.UI.Controls.RichTextBox.callBaseMethod(this, 'set_ariaRole',[value]);return value;},setHtml:function(strHtml){},getFocusRect:function(){return null;},onTouchStart:function(evt){if(evt.get_touches().length===1){this.onLButtonDown(evt.toMouseEventArgs());evt.set_eventHandled(true);}Kepler.Engine.UI.Controls.RichTextBox.callBaseMethod(this, 'onTouchStart',[evt]);},$58:function($p0){if(this.get_loaded()){if($p0){this.drawItem(0);}else{this.drawItem(6);}}},drawItem:function(eState){switch(eState){case 0:this.get_elementStyle().backgroundColor='#FFFFFF';break;case 6:this.get_elementStyle().backgroundColor='#F0F0F0';break;default:throw new Error('Not Implemented Exception : '+'eState');}}}
Kepler.Engine.UI.Controls.SearchTextBox=function(strText,ptPosition,oSize,strCssClassName){Kepler.Engine.UI.Controls.SearchTextBox.initializeBase(this,[strText,ptPosition,oSize,strCssClassName]);}
Kepler.Engine.UI.Controls.SearchTextBox.prototype={onLostFocus:function(oFocusedNewControl){Kepler.Engine.UI.Controls.SearchTextBox.callBaseMethod(this, 'onLostFocus',[oFocusedNewControl]);(this.get_parent()).textBoxLostFocus(oFocusedNewControl);},onFocus:function(oFocusedPrevControl){Kepler.Engine.UI.Controls.SearchTextBox.callBaseMethod(this, 'onFocus',[oFocusedPrevControl]);(this.get_parent()).textBoxOnFocus(oFocusedPrevControl);}}
Kepler.Engine.UI.Controls.SearchTextControl=function(ptPosition,oCtrlSize,strId,strDefaultText,strCssClassName,strCssImageBtn,strCsstextClassName,strImagePath,imgSize,iRightPadding){this.$48=new Kepler.Framework.UI.Size(0,0);Kepler.Engine.UI.Controls.SearchTextControl.initializeBase(this,['div',((ss.isValue(strCssClassName))?strCssClassName:' SearchTextControl'),null]);Kepler.Engine.UI.Helper.HtmlCssHelper.addElementAttribute(this.get_element(),'name',(Kepler.Engine.UI.Controls.SearchTextControl).get_name());this.get_element().id=strId;this.set_id(parseInt(strId));oCtrlSize.set_width(oCtrlSize.get_width()-2);oCtrlSize.set_height(oCtrlSize.get_height()-2);this.set_size(oCtrlSize);this.set_position(ptPosition);this.$44=((ss.isValue(strCssClassName))?strCssClassName:' SearchTextControl');this._strCssTextClass=((ss.isValue(strCsstextClassName))?strCsstextClassName:' SearchTextBox');if(ss.isValue(strCssImageBtn)){this.$45=strCssImageBtn;}if(ss.isValue(strImagePath)){this.$46=strImagePath;}if(ss.isValue(iRightPadding)){this.$47=iRightPadding;}if(ss.isValue(imgSize)){this.$48=imgSize;this.$41=this.$48.get_width();}if(ss.isValue(strDefaultText)&&!!strDefaultText){this.$49=strDefaultText;}this.$4C();this.$4B();}
Kepler.Engine.UI.Controls.SearchTextControl.prototype={$41:16,$42:null,$43:null,_oSearchTextBox:null,get_searchTextBox:function(){return this._oSearchTextBox;},$44:null,$45:null,_strCssTextClass:null,$46:null,$47:0,_btnSearch:null,$49:'Search',get_defaultText:function(){return this.$49;},set_defaultText:function(value){this.$49=value;this.setDefaultState();return value;},get_text:function(){return this._oSearchTextBox.get_text();},$4A:null,$4B:function(){if(!ss.isValue(this.$45)){var $0='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAsCAYAAAAXb/p7AAAAAXNSR'+'0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2'+'My41LjEwMPRyoQAABaRJREFUWEftl0to3FUUxrt05cqF4KauRETJwoW4iivdiAURjAspiDSCYmk3rZuOIH0gxIAgBVsIpmp'+'f1kyptbGSxta+rDZN29ikaZOZSWYmM5N5/ufdmfm858yZ+4hTsfN3oeAPPu7cc06+++U/D7jr/hMAoOVR3vwboYBKTLlS7U'+'lipRG7nhGbNrRvl4FSudKTxEojdl1pNVpo3ROp190QG4NXLMOPxEYj5zhQmGKtheBCAUMzS6yJaAGtugradIOKjSHvleBHY'+'qORczQUbj7tYeB0GH0HrzkaVLW45zkhxcaQKxThR2KjkXM0xVoRg0evo3+vCqTW4HSUNfCl1E5c5yfZQWwMmZwHW16pjFq9'+'jkq1xgGoRivtqU59e15sNHIOQ0+PwvQPqyAqEIXlz6GSp57cwH4VUvXm4+Ypio0hnS3AVq1Wx0b1+IdPhfhbms17vNKe6tS'+'358VGw6cI9GUYGl9C/+5JBK9EOViH+/XExpDK5GGr5FEY9RkJTPLabW/Pi42GTxHaIWbQr/529OcuAY+3e38ZMJnOwdFqFu'+'lMDoExFWrbmLNSnfr2vNho+BSB3rap+Tj6t01iYOc5xNWXhX9ilOhtpTqJ6637BFxJZbFW0UQS6UQWgYOT6Bsc4ZX2VF87K'+'zYaPkXgIGEVcPOYVuDADKuzH52Y5bkOYmOIJ7OwlUznUcxXEBhR4V4fdlaqU9+eFxuNnOOGGxzDwI4TvNoa/d4NR4iNIZrI'+'qCdj5JVUuL1jWL8hwGt4KersqW/Pi42GDqFD+a3dOKL+uRFsGRrnb3Bcva0TV2aVovDk7V6L2BiW42nYKldq2LBZPbHhMaT'+'iGdy+s4hQKMx7qlPfnhcbTedz17dhGH0vBbBl15H2z4uq0+eMV3ndDbExRGKrsBVPryKVzyCpwoUiMYSjKV5pT3Xq2/Nio6'+'Fv49C+cax/bjO2bN+nw/1dxMZAAVwlsbi8gvBykl93arTnuq61JTYafkrqrRs9HHzgcITYGBaX1ME+JDYaOcf5zXsQxMawE'+'EnAj8RGI+f0jNgY7oRX4Edio5FzekZsDPOLcfiR2GjknJ4Rm//55wDuqAfbu8SGefKpp7Gy4yFfEisDGjPwI7FhKGDio4d9'+'SawMrepV+JHYMBQwuecRXxIrQ6t0EX4kNgwFTA095ktiZWgWJuFHYsNwwE8f9yWxMjQz43DkqVtWLYFmJYRG7jzXeFV7rqu'+'+PS82DAVc3fuEo8LENlQXfkR5egSZw69wjVbaU5369rxYGZqp47DVqsb0palZuotG5gyvnUsT9e15sWEoYHr/M45qoQlzCb'+'s5iuyx13jVlzDVt+fFytCIH4GtZu42X446l6Rue3tebBgKmPniWUeV6185f99tb8+LlaGxfAC2qrGTKKZudL00UZ369rzYM'+'BQw+/XzjjKnNiF782hXP6pz35oXK8O90H6slRf+BsXotHNpoj3V186KDUMBc0df+JNSPwwiN/2t40d7rq+ZFSvDvbufwVY9'+'cgiNlArX5dJEderb82LDcMDgi44KZ95BdfZYVz+qU9+eFytDfe4T2GpkrjqXpMTds86e+va82DAUMH/yZUfVhaDz97Frh5w'+'99e15sTLUf98NW83CnL40eeHLiKkP8dKCusvKpYn69rzYMBSwcPpVR/XEZe2Xu/UdIuf2IDI/pf2ob8+LlaF+40PYKkaC8F'+'Z/gxe6gOwt9aW5sYtX2lOd+va82DAU0Jt8w1Fu9nPkYj8hP3cKySsfI3/2rfaq9lSnvj0vVoba1AewVZkOoDi9E5VrAX7dq'+'dGe61LrSGwYClg8v9FR4aL6Ilx6H4ULg/y6U6M916XWkVgZar9uhR+JDUMBS79s8iWxMlQvvQs/EhuGA06950tiZaiefxt+'+'JDYMBSzf3OpLYmWonH0TfiQ2DAWszG33JbH6H5+sW/cHKItjEwyP4jQAAAAASUVORK5CYII=';this.$42=new Kepler.Engine.UI.Controls.ImageButton($0,new Kepler.Framework.UI.Point(22,2),new Kepler.Framework.UI.Point(this.get_width()-this.$41,0),new Kepler.Framework.UI.Size(16,16),null);this.$42.setBackgroundPosition(2,new Kepler.Framework.UI.Point(21,23));this.$42.setBackgroundPosition(6,new Kepler.Framework.UI.Point(22,2));this.$42.setBackgroundPosition(0,new Kepler.Framework.UI.Point(2,2));this.$42.setBackgroundPosition(1,new Kepler.Framework.UI.Point(2,23));this.$42.set_enable(false);this.add(this.$42);this.$42.set_sendClickMsgOnMouseDown(true);this._btnSearch=this.$42;}else{var $1=(this.get_height()-this.$48.get_height())/2;var $2=(this.get_width()-this.$48.get_width()-this.$47);this.$43=new Kepler.Engine.UI.Controls.CssImageButton(this.$46,new Kepler.Framework.UI.Point($2,$1),this.$48,this.$45);this.$43.get_elementStyle().position='absolute';this.add(this.$43);this.$43.set_sendClickMsgOnMouseDown(true);this.$43.set_enable(false);this._btnSearch=this.$43;}this._btnSearch.set_focusable(false);},$4C:function(){var $0=(this.get_size().get_width()-this.$41);var $1=this.get_size().get_height();this._oSearchTextBox=new Kepler.Engine.UI.Controls.SearchTextBox(this.$49,new Kepler.Framework.UI.Point(0,0),new Kepler.Framework.UI.Size($0,$1),this._strCssTextClass);this._oSearchTextBox.set_paddingTop(2);this._oSearchTextBox.set_paddingLeft(5);this.$4A=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div',null,null,0,0,$0,$1,' position_absolute',null);Kepler.Engine.UI.Helper.HtmlCssHelper.setElementOverflow(this.$4A,'hidden');this.get_element().appendChild(this.$4A);},textBoxOnFocus:function(oFocusedPrevControl){if(!this._btnSearch.get_enable()){this._oSearchTextBox.setText('');this._oSearchTextBox.get_element().className=this._strCssTextClass+'_style';}this._oSearchTextBox.setFocus();},textBoxLostFocus:function(oFocusedNewControl){this.$4F();},$4D:function(){this.attachMessage('TextChanged',ss.Delegate.create(this,this.onMsgTextChanged));this.attachMessage('ButtonClicked',ss.Delegate.create(this,this.onMsgButtonClicked));},$4E:function(){var $0=2|8|16|256|512|1024|4096|16384;this.addEvents($0);},setText:function(strText){this._oSearchTextBox.setText(strText);},setSelection:function(iStartIndex,iEndIndex){this._oSearchTextBox.setSelection(iStartIndex,iEndIndex);},setDefaultState:function(){this._btnSearch.set_enable(false);this.$4F();},$4F:function(){if(!this._btnSearch.get_enable()){this._oSearchTextBox.get_element().className=this._strCssTextClass;this._oSearchTextBox.setText(this.$49);}},onSize:function(){Kepler.Engine.UI.Controls.SearchTextControl.callBaseMethod(this, 'onSize');if(this._oSearchTextBox!=null){var $0=(this.get_width()-this.$41);var $1=this.get_height();this.$4A.style.width=$0+'px';this.$4A.style.height=$1+'px';this._oSearchTextBox.set_size(new Kepler.Framework.UI.Size($0,$1));}if(this._btnSearch!=null){var $2=(this.get_height()-this._btnSearch.get_height())/2;var $3=(this.get_width()-this.$41-this.$47);this._btnSearch.set_position(new Kepler.Framework.UI.Point($3,$2));}},onLoad:function(){Kepler.Engine.UI.Controls.SearchTextControl.callBaseMethod(this, 'onLoad');this.$4E();this.$4D();this.add(this._oSearchTextBox,this.$4A);},onFocus:function(oFocusedPrevControl){Kepler.Engine.UI.Controls.SearchTextControl.callBaseMethod(this, 'onFocus',[oFocusedPrevControl]);this.textBoxOnFocus(oFocusedPrevControl);},onLostFocus:function(oFocusedNewControl){Kepler.Engine.UI.Controls.SearchTextControl.callBaseMethod(this, 'onLostFocus',[oFocusedNewControl]);this.textBoxLostFocus(oFocusedNewControl);},onMsgTextChanged:function(wParam,lParam){var $0=lParam;if(ss.isValue($0)&&$0===this._oSearchTextBox){var $3=wParam;if(Kepler.Engine.UI.Controls.Control.get_$8()===this._oSearchTextBox){if(!$3){if(this._btnSearch.get_enable()){this._btnSearch.set_enable(false);}}else if($3!==this.$49){if(!this._btnSearch.get_enable()){this._btnSearch.set_enable(true);}}}else if(!$3){this._oSearchTextBox.setText(this.$49);}}var $1=new Kepler.Framework.UI.Controls.OnCommandStruct(this.get_text(),4);var $2=this.sendMessageToParent('msg_command',$1,this);if(!$2){return this.sendMessageToParent('TextChanged',this.get_text(),this);}return null;},onMsgButtonClicked:function(wParam,lParam){var $0=lParam;if(ss.isValue($0)&&$0===this._btnSearch){this._btnSearch.changeState(0);this._btnSearch.set_enable(false);this._oSearchTextBox.get_element().className=this._strCssTextClass+'_style';this._oSearchTextBox.setText('');this.releaseCapture();this._oSearchTextBox.setFocus();}var $1=wParam;var $2=new Kepler.Framework.UI.Controls.OnCommandStruct($1,0);var $3=this.sendMessageToParent('msg_command',$2,this);if(!$3){this.sendMessageToParent('ButtonClicked',$1,this);}return true;}}
Kepler.Engine.UI.Controls.TextBox=function(strText,ptPosition,oSize,strCssClassName,strId){Kepler.Engine.UI.Controls.TextBox.initializeBase(this,[strText,oSize,ptPosition,(ss.isValue(strCssClassName))?(' textbox'+' selection_enable'+strCssClassName):(' textbox'+' selection_enable'),strId]);this.$49='';this.$4A=null;this.get_elementStyle().overflow='';this.set_alwaysSpeechOnSetFocus(true);}
Kepler.Engine.UI.Controls.TextBox.prototype={$49:null,get_textOnFocus:function(){return this.$49;},$4A:null,get_ariaSpeech:function(){var $0=' Type a Text ';if(!String.isNullOrEmpty(this.get_altChar().trim())){$0+='or '+this.get_altChar();}if(this.get_ariaSpeechFromOnFocus()){return (Kepler.Engine.UI.Controls.TextBox.callBaseMethod(this, 'get_ariaSpeech')+' Edit '+' '+this.get_text()+$0);}var $1=parseInt(this.get_text(),10);if(!isNaN($1)){if($1<0){return 'minus '+Math.abs($1);}}return this.get_text();},set_ariaSpeech:function(value){Kepler.Engine.UI.Controls.TextBox.callBaseMethod(this, 'set_ariaSpeech',[value]);return value;},get_ariaRole:function(){return 'label';},set_ariaRole:function(value){Kepler.Engine.UI.Controls.TextBox.callBaseMethod(this, 'set_ariaRole',[value]);return value;},drawItem:function(eState){var $0=' textbox';if(this.$4A==null){this.$4A=this._oBaseTextBox.getCharProperties().getFontColor();}switch(eState){case 0:$0+=' textbox'+'_enable';this.setFontColor(this.$4A);this.setCursor('text');break;case 6:$0+=' textbox'+'_disable';this.setFontColor(new Kepler.Framework.UI.Color(109,109,109));this.setCursor('');break;default:break;}if($0.length>0){this.get_element().className=$0;}},setFocus:function(){this.$49=this.get_text();return Kepler.Engine.UI.Controls.TextBox.callBaseMethod(this, 'setFocus');},onLButtonUp:function(mouseEventArgs){Kepler.Engine.UI.Controls.TextBox.callBaseMethod(this, 'onLButtonUp',[mouseEventArgs]);var $0=new Kepler.Framework.UI.Controls.OnCommandStruct(mouseEventArgs,5);var $1=this.sendMessageToParent('msg_command',$0,this);if(!$1){this.sendMessageToParent('MouseClicked',mouseEventArgs,this);}},setFocusBool:function(bSetFocus){this._oBaseTextBox.setFocusBool(bSetFocus);},getFocusRect:function(){return null;}}
Kepler.Engine.UI.Controls.MultiLineTextControl=function(strText,ptPosition,oSize,strCssClassName,strId,oCharProp){Kepler.Engine.UI.Controls.MultiLineTextControl.initializeBase(this,['div',((ss.isValue(strCssClassName))?strCssClassName:'')+' position_absolute',strId]);if(ss.isNullOrUndefined(oCharProp)){oCharProp=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.CharProperties();oCharProp.set("'Segoe UI', HelveticaNeue, Arial",11,0,0,0,0,new Kepler.Framework.UI.Color(0,0,0,1),new Kepler.Framework.UI.Color(255,255,255,-1),0,0);}if(Kepler.Engine.UI.Controls.MultiLineTextControl._oCharPropCache==null){Kepler.Engine.UI.Controls.MultiLineTextControl._oCharPropCache=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.CharPropertyCache(oCharProp);}var $0=Kepler.Engine.UI.Controls.MultiLineTextControl._oCharPropCache.hasProperty(oCharProp);if($0===-1){Kepler.Engine.UI.Controls.MultiLineTextControl._oCharPropCache.addProperty(oCharProp);this._oCharProperties=oCharProp.cloneProperties();}else{this._oCharProperties=oCharProp.cloneProperties();}this._oRenderFactory=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.DefaultRenderFactory();this._oElementFactory=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.ElementFactory(Kepler.Engine.UI.Controls.MultiLineTextControl._oCharPropCache);this.get_elementStyle().overflow='hidden';this._oMainDoc=this._oElementFactory.createMainDoc(Kepler.Engine.UI.Controls.MultiLineTextControl._oCharPropCache.getProperty(0));this._oSelColor=new Kepler.Framework.UI.Color(50,151,253,0.4);this._oDocRenderer=this._oRenderFactory.createMainDocRenderer(0);this._oDocController=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.DocController(this._oElementFactory,this._oMainDoc,this._oDocRenderer,Kepler.Engine.UI.Controls.MultiLineTextControl._oCharPropCache,this._oSelColor);this.$4C=new Kepler.Engine.UI.Controls.VScrollBar();this.$4C.set_mfcBehaviour(false);this.$4C.set_width(17-2);this.$4C.set_right(0);this.$4C.get_elementStyle().top='0px';this.set_scrollbarMode(2);this._elmContainer=document.createElement('div');this._elmContainer.style.overflow='hidden';this._elmContainer.style.height='100%';this._elmContainer.style.cursor='text';this._eAutoResize=0;this._iHeightResizeValue=-1;this._iWidthResizeValue=-1;this.setText(strText,false);this._bEditable=true;this._bShowCursor=false;this._iSelectionMode=0;this.set_dblClickEventNeeded(true);this._bMultipleSelection=false;this._oAutoScrollTimer=new Kepler.Framework.Core.Timers.Timer(ss.Delegate.create(this,this.onAutoScrollTimer),100);this._oCursorTimer=new Kepler.Framework.Core.Timers.Timer(ss.Delegate.create(this,this.onCursorTimer),500);this._lstFilterKeyId=[];this._lstRestrictKeyId=[];this._lstRestrictKeyCode=[];this._bMouseMoved=false;this._ptMouseDown=new Kepler.Framework.UI.Point(0,0);this._oDocController.showHideCursor(false);if(ss.isValue(oSize)){this.set_size(oSize);}if(ss.isValue(ptPosition)){this.set_position(ptPosition);}this._eHorzAlignment=0;this.$45=0;}
Kepler.Engine.UI.Controls.MultiLineTextControl.get_uiManagerInstance=function(){return Kepler.Engine.UI.Controls.MultiLineTextControl.$4A;}
Kepler.Engine.UI.Controls.MultiLineTextControl.set_uiManagerInstance=function(value){Kepler.Engine.UI.Controls.MultiLineTextControl.$4A=value;return value;}
Kepler.Engine.UI.Controls.MultiLineTextControl.get_keyBoardInstance=function(){return Kepler.Engine.UI.Controls.MultiLineTextControl.$4B;}
Kepler.Engine.UI.Controls.MultiLineTextControl.set_keyBoardInstance=function(value){Kepler.Engine.UI.Controls.MultiLineTextControl.$4B=value;return value;}
Kepler.Engine.UI.Controls.MultiLineTextControl.prototype={_oCharProperties:null,_oRenderFactory:null,_oElementFactory:null,_oMainDoc:null,_oDocController:null,_oDocRenderer:null,_oSelColor:null,_bShowCursor:false,_bMouseMoved:false,_ptMouseDown:null,_oAutoScrollTimer:null,_oCursorTimer:null,_iSelectionMode:0,_eHorzAlignment:0,_iHeightResizeValue:0,get_heightResizeValue:function(){return this._iHeightResizeValue;},set_heightResizeValue:function(value){this._iHeightResizeValue=value;return value;},_iWidthResizeValue:0,get_widthResizeValue:function(){return this._iWidthResizeValue;},set_widthResizeValue:function(value){this._iWidthResizeValue=value;return value;},_eAutoResize:0,get_autoResizeControl:function(){return this._eAutoResize;},set_autoResizeControl:function(value){this._eAutoResize=value;return value;},$41:0,get_paddingTop:function(){return this.$41;},set_paddingTop:function(value){this.$41=value;this.get_elementStyle().paddingTop=value+'px';this.onSize();return value;},$42:0,get_paddingLeft:function(){return this.$42;},set_paddingLeft:function(value){this.$42=value;this.get_elementStyle().paddingLeft=value+'px';this.onSize();return value;},$43:0,get_paddingBottom:function(){return this.$43;},set_paddingBottom:function(value){this.$43=value;this.get_elementStyle().paddingBottom=value+'px';this.onSize();return value;},$44:0,get_paddingRight:function(){return this.$44;},set_paddingRight:function(value){this.$44=value;this.get_elementStyle().paddingRight=value+'px';this.onSize();return value;},get_padding:function(){if(this.$43===this.$42&&this.$42===this.$44&&this.$44===this.$41){return this.$43;}return 0;},set_padding:function(value){this.$42=this.$41=this.$44=this.$43=value;this.get_elementStyle().padding=value+'px';this.onSize();return value;},$45:0,get_rotationAngle:function(){return this.$45;},set_rotationAngle:function(value){this.$45=value;this.$4E();return value;},$46:0,get_borderLeft:function(){return this.$46;},set_borderLeft:function(value){this.$46=value;this.get_elementStyle().borderLeft=value+'px';this.onSize();return value;},$47:0,get_borderTop:function(){return this.$47;},set_borderTop:function(value){this.$47=value;this.get_elementStyle().borderTop=value+'px';this.onSize();return value;},$48:0,get_borderRight:function(){return this.$48;},set_borderRight:function(value){this.$48=value;this.get_elementStyle().borderRight=value+'px';this.onSize();return value;},$49:0,get_borderBottom:function(){return this.$49;},set_borderBottom:function(value){this.$49=value;this.get_elementStyle().borderBottom=value+'px';this.onSize();return value;},get_borderWidth:function(){if(this.$49===this.$46&&this.$46===this.$48&&this.$48===this.$47){return this.$47;}return 0;},_bEditable:false,get_editable:function(){return this._bEditable;},set_editable:function(value){this._bEditable=value;return value;},_lstFilterKeyId:null,_lstRestrictKeyId:null,_lstRestrictKeyCode:null,_bFilterKeys:false,_bRestrictKeys:false,_bRestricKeyCodes:false,_bMultipleSelection:false,get_multipleSelection:function(){return this._bMultipleSelection;},set_multipleSelection:function(value){this._bMultipleSelection=value;return value;},get_text:function(){return this.getText();},$4C:null,$4D:0,get_scrollbarMode:function(){return this.$4D;},set_scrollbarMode:function(value){if(this.$4D!==value){this.$4D=value;if(this.$4D===2){this.$4C.show(false);}else{if(this.$4D===1){this.$4C.show(true);this.onSize();}this.$53();}}return value;},_elmContainer:null,get_textElement:function(){return this._oDocRenderer.getDom();},$4E:function(){Kepler.Engine.UI.Helper.HtmlCssHelper.setElementRotation(this.get_element(),this.$45);Kepler.Engine.UI.Helper.HtmlCssHelper.setElementTransformOrigin(this.get_element(),'0 0');},startCursorTimer:function(){this._oCursorTimer.start();},endCursorTimer:function(){this._oCursorTimer.stop();},onCursorTimer:function(){this._bShowCursor=!this._bShowCursor;if(!this.isValidInsertionPos()){this._bShowCursor=false;}if(this._iSelectionMode===1){this._bShowCursor=true;}this._oDocController.showHideCursor(this._bShowCursor);},showCursor:function(bShow){if(bShow){this.startCursorTimer();}else{this.endCursorTimer();this._bShowCursor=false;}this._oDocController.showHideCursor(this._bShowCursor);},startAutoScrollTimer:function(oScrollData){if(!this._oAutoScrollTimer.get_isRunning()){this._oAutoScrollTimer.start(oScrollData);}else{this._oAutoScrollTimer.set_data(oScrollData);}},endAutoScrollTimer:function(){if(this._oAutoScrollTimer.get_isRunning()){this._oAutoScrollTimer.stop();}},onAutoScrollTimer:function(scrollData){var $0=scrollData;this.$4C.performScroll($0._iScrollValue);var $1=this.getCurrentScrollValue();this._oDocController.mouseMove($0._iX,$0._iY+$1);},getEffectiveHeight:function(){return this.get_height()-this.$41-this.$43-this.$47-this.$49;},getEffectiveWidth:function(){return this.get_width()-this.$42-this.$44-this.$46-this.$48-((this.$4C.get_visible())?17:0);},getEffectiveWidthWithoutScrollbar:function(){return this.get_width()-this.$42-this.$44-this.$46-this.$48;},getText:function(){return this._oDocController.getText();},getTextRange:function(iStartIndex,iEndIndex){return this.get_text().substring(iStartIndex,iEndIndex);},getSelectedText:function(){var $0=this.getSelection();return this.getTextRange($0.get_startIndex(),$0.get_endIndex());},fireShowHideKB:function(bShow){if(ss.isValue(Kepler.Engine.UI.Controls.MultiLineTextControl.$4A)){this.showCursor(bShow);if(bShow){Kepler.Engine.UI.Controls.MultiLineTextControl.$4A.sendMessage('msg_show_keyboard',null,null);}else{Kepler.Engine.UI.Controls.MultiLineTextControl.$4A.sendMessage('msg_hide_keyboard',null,null);}}},keyBoardAnimationComplete:function(strEvtName,rcKbGeometry){this.bringCursorToView();},deleteAll:function(){this._oDocController.selectAll();this._oDocController.pasteDoc(this._oElementFactory.createDoc(this._oMainDoc.getDefaultCharProperties()));this._oDocController.revalidate();this.$53();},setText:function(strText,bSendTextChandedMsg,bAppend){if(ss.isNullOrUndefined(bSendTextChandedMsg)){bSendTextChandedMsg=true;}this.insertText(strText,bAppend);this.revalidate();this.handleOverflow();this.$53();if(bSendTextChandedMsg){this.onTextChanged();}},insertText:function(strText,bAppend){this._oCharProperties=this._oDocController.getCharPropertiesForInsertion();var $0=this._oElementFactory.createDoc(this._oCharProperties);var $1=$0.getParagraph(0);strText=strText.replaceAll(' ',String.fromCharCode(160));var $2=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.TextElement(this._oCharProperties);$2.insertString(strText);var $3=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.CursorPos();$3.setMaxLevel(0);$1.insertElement($3,$2);if(!bAppend){this._oDocController.selectAll();}else{var $4=this._oDocController.getLastPos();this._oDocController.setSelection($4,$4,-1,this._oSelColor);}this._oDocController.pasteDoc($0);},revalidate:function(){this._oDocController.revalidate();},removeAllKeyFilters:function(){this._bFilterKeys=false;this._lstFilterKeyId.clear();},removeAllKeyRestriction:function(){this._bRestrictKeys=false;this._lstRestrictKeyId.clear();this._bRestricKeyCodes=false;this._lstRestrictKeyCode.clear();},addRestricKeyCode:function(eKey){this._bRestricKeyCodes=true;this._lstRestrictKeyCode.add(eKey);},addRestrictKeys:function(lstRestrict){this._bRestrictKeys=true;this._lstRestrictKeyId=lstRestrict;},addRestrictKey:function(strKeyId){this._bRestrictKeys=true;if(!this._lstRestrictKeyId.contains(strKeyId)){this._lstRestrictKeyId.add(strKeyId);}},addFilterKey:function(strKeyId){this._bFilterKeys=true;if(!this._lstFilterKeyId.contains(strKeyId)){this._lstFilterKeyId.add(strKeyId);}},addFilterKeys:function(lstFilter){this._bFilterKeys=true;this._lstFilterKeyId.clear();this._lstFilterKeyId=lstFilter;},fillterNumbers:function(bAllowDot,bAllowMinus){this._bFilterKeys=true;this._lstFilterKeyId.clear();for(var $0=48;$0<58;$0++){this._lstFilterKeyId.add(String.fromCharCode($0));}if(bAllowDot){this._lstFilterKeyId.add('.');}if(bAllowMinus){this._lstFilterKeyId.add('-');}},$4F:function($p0){if(this._lstFilterKeyId.contains($p0)){return true;}return false;},$50:function($p0){if(this._lstRestrictKeyId.contains($p0)){return false;}return true;},$51:function($p0){if(this._lstRestrictKeyCode.contains($p0)){return true;}return false;},bringCursorToView:function(){var $0=this.getCursorRect();if(!ss.isNullOrUndefined($0)){var $1=this.getCurrentScrollValue();if($1>=$0.get_top()){this.$4C.performScrollTo($0.get_top());}else if($1+this.get_height()<$0.get_top()+$0.get_height()){this.$4C.performScrollTo($0.get_top()+$0.get_height()-this.get_height());}}},getCursorRect:function(){return this._oDocController.getCursorRect();},removeSelection:function(){var $0=this._oDocController.getLastPos();this._oDocController.setSelection($0,$0,-1,this._oSelColor);},setSelectionParaProperty:function(paraProp){this._oDocController.setParaProperties(paraProp);this._oDocController.revalidate();},setSelectionBold:function(bBold){var $0=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.CharProperties();$0.setBold((bBold)?1:0);this._oDocController.setCharProperties($0);this._oDocController.revalidate();},setSelectionItalic:function(bItalic){var $0=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.CharProperties();$0.setItalic((bItalic)?1:0);this._oDocController.setCharProperties($0);this._oDocController.revalidate();},setSelectionUnderline:function(iUnderline){var $0=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.CharProperties();$0.setUnderline(iUnderline);this._oDocController.setCharProperties($0);this._oDocController.revalidate();},setSelectionFontColor:function(strColor){var $0=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.CharProperties();var $1=Kepler.Framework.UI.Color.parse(strColor);$0.setFontColor($1);this._oDocController.setCharProperties($0);this._oDocController.revalidate();},setSelectionBackgroundColor:function(strColor){var $0=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.CharProperties();var $1=Kepler.Framework.UI.Color.parse(strColor);if(strColor==='transparent'){$1=new Kepler.Framework.UI.Color(255,255,255,0);}else{$0.setBackgroundColor($1);}this._oDocController.setCharProperties($0);this._oDocController.revalidate();},setSelection:function(iStartIndex,iEndIndex){this._oDocController.setGlobalSelection(iStartIndex,iEndIndex);},getSelection:function(){return this._oDocController.getGlobalSelection();},isCursorInFirstLine:function(){return this._oDocController.isCursorInFirstLine();},isCursorInLastLine:function(){return this._oDocController.isCursorInLastLine();},isCursorAtFirstChar:function(){return this._oDocController.isCursorAtFirstChar();},isCursorAtLastChar:function(){return this._oDocController.isCursorAtLastChar();},replaceSelection:function(strText,bSendTextChandedMsg){this._oDocController.deleteSelection(true);strText=strText.replaceAll(' ',String.fromCharCode(160));for(var $0=0;$0<strText.length;$0++){this._oDocController.insertChar(strText.charAt($0));}this.revalidate();this.handleOverflow();this.$53();if(bSendTextChandedMsg){this.onTextChanged();}},setSelectionFontFamily:function(fontFamily){var $0=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.CharProperties();$0.setFontFamily(fontFamily);this._oDocController.setCharProperties($0);this._oDocController.revalidate();},setSelectionFontSize:function(fontSize){var $0=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.CharProperties();$0.setFontSize(fontSize);this._oDocController.setCharProperties($0);this._oDocController.revalidate();},setFontSize:function(iFontSize){var $0=this._oDocController.getCurSelection();this._oDocController.selectAll();var $1=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.CharProperties();$1.setFontSize(iFontSize);this._oDocController.setCharProperties($1);this._oDocController.setSelection($0.arrRange[0].from,$0.arrRange[$0.arrRange.length-1].to,-1,this._oSelColor);this._oDocController.revalidate();},setBold:function(bBold){var $0=this._oDocController.getCurSelection();this._oDocController.selectAll();var $1=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.CharProperties();$1.setBold((bBold)?1:0);this._oDocController.setCharProperties($1);this._oDocController.revalidate();this._oDocController.setSelection($0.arrRange[0].from,$0.arrRange[$0.arrRange.length-1].to,-1,this._oSelColor);},setItalic:function(bItalic){var $0=this._oDocController.getCurSelection();this._oDocController.selectAll();var $1=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.CharProperties();$1.setItalic((bItalic)?1:0);this._oDocController.setCharProperties($1);this._oDocController.revalidate();this._oDocController.setSelection($0.arrRange[0].from,$0.arrRange[$0.arrRange.length-1].to,-1,this._oSelColor);},setFontColor:function(strColor){var $0=this._oDocController.getCurSelection();this._oDocController.selectAll();var $1=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.CharProperties();var $2=Kepler.Framework.UI.Color.parse(strColor);$1.setFontColor($2);this._oDocController.setCharProperties($1);this._oDocController.revalidate();this._oDocController.setSelection($0.arrRange[0].from,$0.arrRange[$0.arrRange.length-1].to,-1,this._oSelColor);},setUnderline:function(iUnderline){var $0=this._oDocController.getCurSelection();this._oDocController.selectAll();var $1=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.CharProperties();$1.setUnderline(iUnderline);this._oDocController.setCharProperties($1);this._oDocController.revalidate();this._oDocController.setSelection($0.arrRange[0].from,$0.arrRange[$0.arrRange.length-1].to,-1,this._oSelColor);},setBorder:function(iBorderWidth,strBorderStyle,strBorderColor){if(ss.isValue(iBorderWidth)){this.$49=this.$46=this.$48=this.$47=iBorderWidth;this.get_elementStyle().borderWidth=iBorderWidth+'px';}if(ss.isValue(strBorderStyle)){this.get_elementStyle().borderStyle=strBorderStyle;}if(ss.isValue(strBorderColor)){this.get_elementStyle().borderColor=strBorderColor;}},setBackgroundColor:function(strColor){var $0=this._oDocController.getCurSelection();this._oDocController.selectAll();var $1=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.CharProperties();var $2=Kepler.Framework.UI.Color.parse(strColor);if(strColor==='transparent'){$2=new Kepler.Framework.UI.Color(255,255,255,0);}else{$1.setBackgroundColor($2);}this._oDocController.setCharProperties($1);this._oDocController.revalidate();this._oDocController.setSelection($0.arrRange[0].from,$0.arrRange[$0.arrRange.length-1].to,-1,this._oSelColor);},setFontFamily:function(fontFamily){var $0=this._oDocController.getCurSelection();this._oDocController.selectAll();var $1=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.CharProperties();$1.setFontFamily(fontFamily);this._oDocController.setCharProperties($1);this._oDocController.revalidate();this._oDocController.setSelection($0.arrRange[0].from,$0.arrRange[$0.arrRange.length-1].to,-1,this._oSelColor);},initFromTextData:function(strText,paraProp,charProp,bSendTextChandedMsg){strText=strText.replaceAll(' ',String.fromCharCode(160));if(ss.isNullOrUndefined(bSendTextChandedMsg)){bSendTextChandedMsg=true;}var $0=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.DocPos();if(charProp==null){charProp=this._oDocController.getCharPropertiesForInsertion();}if(paraProp==null){paraProp=this._oDocController.getParaProperties();}var $1=this._oElementFactory.createDoc(charProp);paraProp=paraProp.clone();var $2=$1.getParagraph(0);var $3=this.getCursorPosFromDocPos($0);$2.setParaPropWithoutPos(paraProp.clone());this.parseDocumentTextNode(strText,paraProp,charProp,$2,$1,$0);this._oDocController.selectAll();this._oDocController.pasteDoc($1);this._oDocController.revalidate();this.handleOverflow();this.$53();if(bSendTextChandedMsg){this.onTextChanged();}},getCursorPosFromDocPos:function(dPos){var $0=dPos.clone();var $1=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.CursorPos();$1.setMaxLevel(0);$1.setDoc($0.iDoc);$1.setPara($0.iPara);$1.setEl($0.elPos.iEl);$1.setCh($0.elPos.iCh);return $1;},parseDocumentTextNode:function(strText,paraProp,charProp,newPara,doc,docPos){var $0=strText.split('\n');this.insertTextNodeToPara($0[0],newPara,paraProp,charProp,docPos);for(var $1=1;$1<$0.length;$1++){var $2=newPara.getElement(newPara.getElementCount()-1);$2.insertString('\n');docPos.iPara++;docPos.elPos.iEl=0;docPos.elPos.iCh=0;var $3=this.getCursorPosFromDocPos(docPos);newPara=this._oElementFactory.createParagraph(charProp);newPara.setParaPropWithoutPos(paraProp.clone());doc.insertParagraph($3,newPara);this.insertTextNodeToPara($0[$1],newPara,paraProp,charProp,docPos);}return newPara;},insertTextNodeToPara:function(strMainString,para,paraProp,charProp,dPos){var $0=this.getCursorPosFromDocPos(dPos);var $1=0;var $2=false;var $3;do{if(!$2){$3=strMainString.indexOf('<i>',$1);}else{$3=strMainString.indexOf('</i>',$1);}if($3===-1){$3=strMainString.length;}var $4=$3-$1;var $5=strMainString.substr($1,$3-$1);if(!!$4){var $6=this._oElementFactory.createTextElement(charProp);$6.insertString($5);para.insertElement($0,$6);dPos.elPos.iEl++;$0.setEl(dPos.elPos.iEl);}$2=!$2;if($2){$1=$3+3;}else{$1=$3+4;}}while($1<strMainString.length);},getCharProperties:function(){return this._oDocController.getCharProperties();},isValidInsertionPos:function(){var $0=false;if(this._bEditable){$0=true;}return $0;},$52:function($p0){var $0=Kepler.Engine.UI.Controls.Control.getFrameClientPointFromEventArgs(this.get_element(),$p0);return Kepler.Engine.UI.Helper.HtmlCssHelper.getOffsetPointFromClientPoint(new Kepler.Framework.UI.Point($0.get_x(),$0.get_y()),this.get_element());},onTextChanged:function(){var $0=new Kepler.Framework.UI.Controls.OnCommandStruct(this.get_text(),4);var $1=this.sendMessageToParent('msg_command',$0,this);if(!$1){this.sendMessageToParent('TextChanged',this.get_text(),this);}},setHorizontalAlignment:function(eAlignment){this._oDocController.selectAll();var $0=this._oDocController.getParaProperties();this._eHorzAlignment=eAlignment;var $1=0;switch(eAlignment){case 0:$1=0;break;case 1:$1=1;break;case 2:$1=2;break;}$0.setAlign($1);this._oDocController.setParaProperties($0);this._oElementFactory.setHorizontalAlignment($1);},getHorizontalAlignment:function(){return this._eHorzAlignment;},setVerticalAlignment:function(eAlignment){this._oDocRenderer.setVerticalAlignment(eAlignment);},getVerticalAlignment:function(){return this._oDocRenderer.getVerticalAlignment();},handleOverflow:function(){var $0=this._oDocRenderer.isHorizontalOverflow();if($0){this._oDocRenderer.resetHorizontalOverflow();var $4=parseInt(this._oDocRenderer.getWidth());this.onHorizontalOverflow($4);this.resizeWidthAutomatic();}var $1=0;for(var $5=0;$5<this._oDocRenderer.getPageCount();$5++){$1+=this._oDocRenderer.getPage($5).getHeight();}var $2=($1-this.getEffectiveHeight())>1;var $3=this._oDocRenderer.getTotalLineCount();if($2){this.onVerticalOverflow($1);this.resizeHeightAutomatic();}},resizeWidthAutomatic:function(){if(this._eAutoResize===3||this._eAutoResize===1){if(this._iWidthResizeValue>=0){this.set_width(this.get_width()+this._iWidthResizeValue);this.onAutoResize();}}},resizeHeightAutomatic:function(){if(this._eAutoResize===3||this._eAutoResize===2){if(this._iHeightResizeValue<0){this.set_height(this._oDocRenderer.getHeight());}else{this.set_height(this.get_height()+this._iHeightResizeValue);}this.onAutoResize();}},setAutoRize:function(eAutoResize,iWidthResizeValue,iHeightResizeValue){this._eAutoResize=eAutoResize;this._iWidthResizeValue=iWidthResizeValue;this._iHeightResizeValue=iHeightResizeValue;},$53:function(){if(this.$4D===2){return;}var $0=this.getEffectiveHeight();var $1=this._oDocRenderer.getHeight();if($0<=0||$1<=0){return;}var $2=0;var $3=$1-$0;var $4=false;if($2<$3){$4=true;}else{$3=0;}var $5=new Kepler.Engine.UI.Controls.ScrollBarParams();$5.setBounds($2,$3);$5.setSteps(this._oDocController.getCursorRect().get_height(),$0);this.$4C.updateScrollbarParams($5);if(!this.$4D){if(this.$4C.get_visible()===$4){this.$4C.show($4);this.onSize();}}else if(this.$4D===1){this.$4C.set_enable($4);}},onAutoResize:function(){},getCharCount:function(){return this._oDocRenderer.getCharCount();},getCurrentScrollValue:function(){if(this.$4C!=null){return this.$4C.get_curPos();}return 0;},getCurrentCursourPositionRect:function(){var $0=(this._oDocController).getCaretElement();return Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientRect($0);},onLoad:function(){Kepler.Engine.UI.Controls.MultiLineTextControl.callBaseMethod(this, 'onLoad');this.$54();this.$55();this._oDocController.relayout();this._oDocController.render();this._elmContainer.appendChild(this._oDocRenderer.getDom());this.get_element().appendChild(this._elmContainer);if(this.$4D!==2){this.add(this.$4C);}},$54:function(){this.addEvents(2|4|8|64);this.addEvents(4096|8192);this.addEvents(256|512|1024|2048);this.addEvents(131072|262144|524288);},$55:function(){this.attachMessage('ScrollPosChanging',ss.Delegate.create(this,this.$56));this.attachMessage('ScrollPosChanged',ss.Delegate.create(this,this.$57));},getOffsetPointConsideringRotation:function(oMouseEventArgs){var $0=this.get_position().get_x()+this.get_parent().get_clientPosition().get_x();var $1=this.get_position().get_y()+this.get_parent().get_clientPosition().get_y();var $2=this.$52(oMouseEventArgs);$0=$2.get_x()+this.get_clientPosition().get_x()-$0;$1=$2.get_y()+this.get_clientPosition().get_y()-$1;var $3=this.$45*180/Math.PI;var $4=($0*Math.cos($3))-($1*Math.sin($3));var $5=($0*Math.sin($3))+($1*Math.cos($3));$2=new Kepler.Framework.UI.Point(parseInt($4),parseInt($5));return $2;},onCut:function(evt){Kepler.Engine.UI.Controls.MultiLineTextControl.callBaseMethod(this, 'onCut',[evt]);},onCopy:function(evt){Kepler.Engine.UI.Controls.MultiLineTextControl.callBaseMethod(this, 'onCopy',[evt]);evt.get_clipboardData().setData('text',this.getSelectedText());},onPaste:function(evt){Kepler.Engine.UI.Controls.MultiLineTextControl.callBaseMethod(this, 'onPaste',[evt]);var $0=evt.get_clipboardData().getData('text');if(!String.isNullOrEmpty($0)){var $1=this._oDocController.getGlobalSelection();if(ss.isValue($1)){var $2=$1.get_startIndex()+$0.length;$0=this.get_text().substring(0,$1.get_startIndex())+$0+this.get_text().substring($1.get_endIndex(),this.get_text().length);this.setText($0);this.setSelection($2,$2);}}},onFocus:function(oFocusedPrevControl){Kepler.Engine.UI.Controls.MultiLineTextControl.callBaseMethod(this, 'onFocus',[oFocusedPrevControl]);this.showCursor(true);this.fireShowHideKB(true);},onLostFocus:function(oFocusedNewControl){Kepler.Engine.UI.Controls.MultiLineTextControl.callBaseMethod(this, 'onLostFocus',[oFocusedNewControl]);this.showCursor(false);this._oDocController.mouseDown(0,0,false,false);this._oDocController.mouseUp(0,0);if(!(Type.canCast(oFocusedNewControl,Kepler.Engine.UI.Controls.SingleLineTextControl)||Type.canCast(oFocusedNewControl,Kepler.Engine.UI.Controls.MultiLineTextControl))){this.fireShowHideKB(false);}},onKeyDown:function(oKeyEventArgs){Kepler.Engine.UI.Controls.MultiLineTextControl.callBaseMethod(this, 'onKeyDown',[oKeyEventArgs]);this._iSelectionMode=0;var $0=false;if(oKeyEventArgs.get_key()===9||this._oDocController.isMouseDown()){return;}if(!this.isValidInsertionPos()&&(oKeyEventArgs.get_key()!==35)&&(oKeyEventArgs.get_key()!==36)&&(oKeyEventArgs.get_key()!==37)&&(oKeyEventArgs.get_key()!==38)&&(oKeyEventArgs.get_key()!==40)&&(oKeyEventArgs.get_key()!==39)&&(!!oKeyEventArgs.get_keyIdentifier().compareTo('hide'))){return;}if(this._bRestricKeyCodes&&this.$51(oKeyEventArgs.get_key())){return;}if(oKeyEventArgs.get_key()===46){this._oDocController.deleteKey();$0=true;}else if(oKeyEventArgs.get_key()===8){this._oDocController.backspaceKey();$0=true;}else if(oKeyEventArgs.get_key()===35){this._oDocController.endKey(oKeyEventArgs.get_shiftKey(),oKeyEventArgs.get_ctrlKey());}else if(oKeyEventArgs.get_key()===36){this._oDocController.homeKey(oKeyEventArgs.get_shiftKey(),oKeyEventArgs.get_ctrlKey());}else if(oKeyEventArgs.get_key()===37){this._oDocController.leftKey(oKeyEventArgs.get_shiftKey(),oKeyEventArgs.get_ctrlKey());}else if(oKeyEventArgs.get_key()===38){this._oDocController.upKey(oKeyEventArgs.get_shiftKey(),oKeyEventArgs.get_ctrlKey());}else if(oKeyEventArgs.get_key()===39){this._oDocController.rightKey(oKeyEventArgs.get_shiftKey(),oKeyEventArgs.get_ctrlKey());}else if(oKeyEventArgs.get_key()===40){this._oDocController.downKey(oKeyEventArgs.get_shiftKey(),oKeyEventArgs.get_ctrlKey());}else if(oKeyEventArgs.get_key()===13||oKeyEventArgs.get_key()===10||oKeyEventArgs.get_key()===13){this._oDocController.returnKey();$0=true;}else if(oKeyEventArgs.get_ctrlKey()&&!oKeyEventArgs.get_shiftKey()&&!oKeyEventArgs.get_altKey()&&oKeyEventArgs.get_key()===65){this._oDocController.selectAll();}else if(oKeyEventArgs.get_ctrlKey()||oKeyEventArgs.get_altKey()){return;}else if(Kepler.Framework.Core.StringUtils.isPrintable(oKeyEventArgs.get_key(),oKeyEventArgs.get_keyIdentifier())){oKeyEventArgs.set_defaultPrevented(false);oKeyEventArgs.set_propogationStopped(false);return;}this._oDocController.revalidate();this.$53();this.handleOverflow();this.bringCursorToView();this._oDocController.showHideCursor(true);if($0){this.onTextChanged();}},onKeyPress:function(oKeyEventArgs){Kepler.Engine.UI.Controls.MultiLineTextControl.callBaseMethod(this, 'onKeyPress',[oKeyEventArgs]);this._iSelectionMode=0;if(!this.isValidInsertionPos()){return;}if(this._bRestricKeyCodes&&this.$51(oKeyEventArgs.get_key())){return;}else if(this._bFilterKeys&&!this.$4F(oKeyEventArgs.get_keyIdentifier())){return;}else if(this._bRestrictKeys&&!this.$50(oKeyEventArgs.get_keyIdentifier())){return;}else if(oKeyEventArgs.get_key()===32||oKeyEventArgs.get_charCode()===32){this._oDocController.keyPress(String.fromCharCode(160).charAt(0),160);}else{var $1=String.fromCharCode(oKeyEventArgs.get_charCode()).charAt(0);this._oDocController.keyPress($1,oKeyEventArgs.get_charCode());}var $0=this._oDocRenderer.isDirty();this._oDocController.revalidate();this.$53();this.handleOverflow();this.bringCursorToView();this._oDocController.showHideCursor(true);if($0){this.onTextChanged();}},onKeyUp:function(oKeyEventArgs){Kepler.Engine.UI.Controls.MultiLineTextControl.callBaseMethod(this, 'onKeyUp',[oKeyEventArgs]);if(oKeyEventArgs.get_key()===1003){this.fireShowHideKB(false);}},onLButtonDown:function(oMouseEventArgs){Kepler.Engine.UI.Controls.MultiLineTextControl.callBaseMethod(this, 'onLButtonDown',[oMouseEventArgs]);this.setCapture();var $0=this.getOffsetPointConsideringRotation(oMouseEventArgs);var $1=this.getCurrentScrollValue();if(!$1&&this._oDocRenderer.getPageCount()>0){var $2=this._oDocRenderer.getPageYOffset(this._oDocRenderer.getPage(0));if($2>0){$0.set_y($0.get_y()-$2);}}this._oDocController.mouseDown($0.get_x(),$0.get_y()+$1,((!!this._bMultipleSelection)?oMouseEventArgs.get_ctrlKey():false),oMouseEventArgs.get_shiftKey());},onMouseMove:function(oMouseEventArgs){Kepler.Engine.UI.Controls.MultiLineTextControl.callBaseMethod(this, 'onMouseMove',[oMouseEventArgs]);if(this.getCapture()===this){var $0=this.getOffsetPointConsideringRotation(oMouseEventArgs);var $1=this.getCursorRect().get_height();if($0.get_y()<0){this.startAutoScrollTimer(new Kepler.Engine.UI.Controls.TextControl.ScrollData($0.get_x(),0,-$1));}else if($0.get_y()>this.getEffectiveHeight()){this.startAutoScrollTimer(new Kepler.Engine.UI.Controls.TextControl.ScrollData($0.get_x(),this.getEffectiveHeight()-$1,$1));}else{this.endAutoScrollTimer();var $2=this.getCurrentScrollValue();if(!$2&&this._oDocRenderer.getPageCount()>0){var $3=this._oDocRenderer.getPageYOffset(this._oDocRenderer.getPage(0));if($3>0){$0.set_y($0.get_y()-$3);}}this._oDocController.mouseMove($0.get_x(),$0.get_y()+$2);}}},onLButtonUp:function(oMouseEventArgs){Kepler.Engine.UI.Controls.MultiLineTextControl.callBaseMethod(this, 'onLButtonUp',[oMouseEventArgs]);if(this.getCapture()===this){this.endAutoScrollTimer();this.releaseCapture();var $0=this.getOffsetPointConsideringRotation(oMouseEventArgs);var $1=this.getCurrentScrollValue();if(!$1&&this._oDocRenderer.getPageCount()>0){var $2=this._oDocRenderer.getPageYOffset(this._oDocRenderer.getPage(0));if($2>0){$0.set_y($0.get_y()-$2);}}this._oDocController.mouseUp($0.get_x(),$0.get_y()+$1);}},onMouseDblClick:function(oMouseEventArgs){Kepler.Engine.UI.Controls.MultiLineTextControl.callBaseMethod(this, 'onMouseDblClick',[oMouseEventArgs]);var $0=this.getOffsetPointConsideringRotation(oMouseEventArgs);var $1=this.getCurrentScrollValue();this._oDocController.mouseDoubleClick($0.get_x(),$0.get_y()+$1);if(Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){this.fireShowHideKB(true);}},onSize:function(){Kepler.Engine.UI.Controls.MultiLineTextControl.callBaseMethod(this, 'onSize');this.get_elementStyle().width=this.getEffectiveWidthWithoutScrollbar()+'px';this.get_elementStyle().height=this.getEffectiveHeight()+'px';this._elmContainer.style.width=this.getEffectiveWidth()+'px';this.$4C.set_height(this.get_height()-2);this._oDocRenderer.setWidth(this.getEffectiveWidth());this._oDocRenderer.setMaxHeight(this.getEffectiveHeight());this._oDocController.invalidateCursorPos();this._oDocController.revalidate();this.handleOverflow();},onHorizontalOverflow:function(iWidth){},onVerticalOverflow:function(iHeight){},$56:function($p0,$p1){var $0=$p0;this._elmContainer.scrollTop=$0;return null;},$57:function($p0,$p1){var $0=$p0;this._elmContainer.scrollTop=$0;return null;},getShowMeEventType:function(){return 2;},isControlFocused:function(){return this.getFocus()===this;},getPreShowMeEventType:function(){var $0=this.getSelection();var $1=this.getCharCount();if(!$1&&this.getFocus()!==this){return 0;}if(!$0.get_startIndex()&&$0.get_endIndex()===$1){return -1;}return 3;},getTargetElement:function(oData){return this._oDocRenderer.getDom();},fillShowMeEventData:function(lstEventData){},fillDynamicShowMeEventData:function(){return null;}}
Kepler.Engine.UI.Controls.SingleLineTextControl=function(strText,oSize,ptPosition,strCssClassName,strID,oCharProperties){Kepler.Engine.UI.Controls.SingleLineTextControl.initializeBase(this,['div',((ss.isValue(strCssClassName))?strCssClassName:'')+' position_absolute',strID]);this._oBaseTextBox=new Kepler.Framework.UI.Controls.TextControl.BaseTextBox.BaseTextBox(strText,oSize,oCharProperties);this.get_element().appendChild(this._oBaseTextBox.getElement());this.get_elementStyle().overflow='hidden';this.set_dblClickEventNeeded(true);this._bAllowTypingModeLayout=true;if(ss.isValue(oSize)){this.set_size(oSize);}if(ss.isValue(ptPosition)){this.set_position(ptPosition);}}
Kepler.Engine.UI.Controls.SingleLineTextControl.get_uiManagerControl=function(){return Kepler.Engine.UI.Controls.SingleLineTextControl.$41;}
Kepler.Engine.UI.Controls.SingleLineTextControl.set_uiManagerControl=function(value){Kepler.Engine.UI.Controls.SingleLineTextControl.$41=value;return value;}
Kepler.Engine.UI.Controls.SingleLineTextControl.$43=function($p0,$p1){if($p0){}else{}}
Kepler.Engine.UI.Controls.SingleLineTextControl.$44=function($p0,$p1,$p2){if(Kepler.Engine.UI.Controls.SingleLineTextControl.$41!=null){Kepler.Engine.UI.Controls.SingleLineTextControl.$41.sendMessage($p0,$p1,$p2);}}
Kepler.Engine.UI.Controls.SingleLineTextControl.prototype={_oBaseTextBox:null,get_textElement:function(){return this._oBaseTextBox.get_textElement();},get_paddingTop:function(){return this._oBaseTextBox.get_paddingTop();},set_paddingTop:function(value){this._oBaseTextBox.set_paddingTop(value);this.get_elementStyle().paddingTop=value+'px';return value;},get_paddingLeft:function(){return this._oBaseTextBox.get_paddingLeft();},set_paddingLeft:function(value){this._oBaseTextBox.set_paddingLeft(value);this.get_elementStyle().paddingLeft=value+'px';return value;},get_paddingBottom:function(){return this._oBaseTextBox.get_paddingBottom();},set_paddingBottom:function(value){this._oBaseTextBox.set_paddingBottom(value);this.get_elementStyle().paddingBottom=value+'px';return value;},get_paddingRight:function(){return this._oBaseTextBox.get_paddingRight();},set_paddingRight:function(value){this._oBaseTextBox.set_paddingRight(value);this.get_elementStyle().paddingRight=value+'px';return value;},get_padding:function(){return this._oBaseTextBox.get_padding();},set_padding:function(value){this._oBaseTextBox.set_padding(value);this.get_elementStyle().padding=value+'px';return value;},get_borderLeft:function(){return this._oBaseTextBox.get_borderLeft();},set_borderLeft:function(value){this._oBaseTextBox.set_borderLeft(value);this.get_elementStyle().borderLeft=value+'px';return value;},get_borderTop:function(){return this._oBaseTextBox.get_borderTop();},set_borderTop:function(value){this._oBaseTextBox.set_borderTop(value);this.get_elementStyle().borderTop=value+'px';return value;},get_borderRight:function(){return this._oBaseTextBox.get_borderRight();},set_borderRight:function(value){this._oBaseTextBox.set_borderRight(value);this.get_elementStyle().borderRight=value+'px';return value;},get_borderBottom:function(){return this._oBaseTextBox.get_borderBottom();},set_borderBottom:function(value){this._oBaseTextBox.set_borderBottom(value);this.get_elementStyle().borderBottom=value+'px';return value;},get_borderWidth:function(){return this._oBaseTextBox.get_borderWidth();},get_text:function(){return this._oBaseTextBox.get_text();},get_size:function(){return Kepler.Engine.UI.Controls.SingleLineTextControl.callBaseMethod(this, 'get_size');},set_size:function(value){this._oBaseTextBox.setSize(value.get_width(),value.get_height());value.set_width(this._oBaseTextBox.getEffectiveWidth());value.set_height(this._oBaseTextBox.getEffectiveHeight());Kepler.Engine.UI.Controls.SingleLineTextControl.callBaseMethod(this, 'set_size',[value]);return value;},get_width:function(){return Kepler.Engine.UI.Controls.SingleLineTextControl.callBaseMethod(this, 'get_width');},set_width:function(value){this._oBaseTextBox.setSize(value,this.get_height());Kepler.Engine.UI.Controls.SingleLineTextControl.callBaseMethod(this, 'set_width',[this._oBaseTextBox.getEffectiveWidth()]);return value;},get_height:function(){return Kepler.Engine.UI.Controls.SingleLineTextControl.callBaseMethod(this, 'get_height');},set_height:function(value){this._oBaseTextBox.setSize(this.get_width(),value);Kepler.Engine.UI.Controls.SingleLineTextControl.callBaseMethod(this, 'set_height',[this._oBaseTextBox.getEffectiveHeight()]);return value;},_bAllowTypingModeLayout:false,get_allowTypingModeLayout:function(){return this._bAllowTypingModeLayout;},set_allowTypingModeLayout:function(value){this._bAllowTypingModeLayout=value;return value;},get_enable:function(){return Kepler.Engine.UI.Controls.SingleLineTextControl.callBaseMethod(this, 'get_enable');},set_enable:function(value){Kepler.Engine.UI.Controls.SingleLineTextControl.callBaseMethod(this, 'set_enable',[value]);this.onEnableChange(value);return value;},getChar:function(_iIndex){return this._oBaseTextBox.getChar(_iIndex);},getCharCount:function(){return this._oBaseTextBox.getCharCount();},getCharProperties:function(){return this._oBaseTextBox.getCharProperties();},getSelection:function(){return this._oBaseTextBox.getSelection();},getText:function(){return this._oBaseTextBox.getText();},getTextFromIndex:function(iFrom,iTo){return this._oBaseTextBox.getTextFromIndex(iFrom,iTo);},setBorder:function(iBorderWidth,strBorderStyle,strBorderColor){if(ss.isValue(iBorderWidth)){this._oBaseTextBox.setBorder(iBorderWidth);this.get_elementStyle().borderWidth=iBorderWidth+'px';}if(ss.isValue(strBorderStyle)){this.get_elementStyle().borderStyle=strBorderStyle;}if(ss.isValue(strBorderColor)){this.get_elementStyle().borderColor=strBorderColor;}},setMaxLength:function(iMaxLength){if(iMaxLength>=0){this._oBaseTextBox.setMaxLength(iMaxLength);}},setMode:function(iMode){this._oBaseTextBox.setMode(iMode);},setPasswordCharCode:function(iCharCode){this._oBaseTextBox.setPasswordCharCode(iCharCode);},setProperty:function(oCharProperties){oCharProperties.computeStyle();this._oBaseTextBox.setProperty(oCharProperties);},setSelectAllOnFocus:function(bSelectAllOnFocus){this._oBaseTextBox.setSelectAllOnFocus(bSelectAllOnFocus);},setSelection:function(iStartIndex,iEndIndex){this._oBaseTextBox.setSelection(iStartIndex,iEndIndex);},setSelectionBGColor:function(oSelectionBGColor){this._oBaseTextBox.setSelectionBGColor(oSelectionBGColor);},setText:function(strText,bSendMsg){if(this.get_text()!==strText){this._oBaseTextBox.setText(strText);if(ss.isNullOrUndefined(bSendMsg)||bSendMsg){this.sendTextChangedMsg();}}},setFontColor:function(oColor){this._oBaseTextBox.setFontColor(oColor);},setFontSize:function(iSize){this._oBaseTextBox.setFontSize(iSize);},setItalic:function(iItalic){this._oBaseTextBox.setItalic(iItalic);},setFontFamily:function(strFontFamily){this._oBaseTextBox.setFontFamily(strFontFamily);},setBackgroundColor:function(oColor){this.get_elementStyle().backgroundColor=oColor.toString();},setCursor:function(strCursorStyle){this._oBaseTextBox.setCursor(strCursorStyle);this.get_element().style.cursor=strCursorStyle;},addRestrictKeyCode:function(iKeyCode){this._oBaseTextBox.addRestrictKeyCode(iKeyCode);},addRestrictKeys:function(lstRestrict){this._oBaseTextBox.addRestrictKeys(lstRestrict);},addRestrictKey:function(strKeyId){this._oBaseTextBox.addRestrictKey(strKeyId);},removeAllKeyRestriction:function(){this._oBaseTextBox.removeAllKeyRestriction();},removeAllKeyFilters:function(){this._oBaseTextBox.removeAllKeyFilters();},addFilterKey:function(strKeyId){this._oBaseTextBox.addFilterKey(strKeyId);},addFilterKeys:function(lstFilter){this._oBaseTextBox.addFilterKeys(lstFilter);},filterNumbers:function(bAllowDot,bAllowMinus){this._oBaseTextBox.filterNumbers(bAllowDot,bAllowMinus);},$42:function($p0){if(ss.isValue(Kepler.Engine.UI.Controls.SingleLineTextControl.$41)){if($p0){Kepler.Engine.UI.Controls.SingleLineTextControl.$44('msg_show_keyboard',null,null);}else{Kepler.Engine.UI.Controls.SingleLineTextControl.$44('msg_hide_keyboard',null,null);}}},selectSingleWord:function(iOffsetX){this._oBaseTextBox.selectSingleWord(iOffsetX);},selectAll:function(){this._oBaseTextBox.selectAll();},setHorizontalAlignment:function(eHAlignment){this._oBaseTextBox.setHorizontalAlignment(eHAlignment);},insertChars:function(lstChar){this._oBaseTextBox.insertChars(lstChar);},insertChar:function(ch){return this._oBaseTextBox.insertChar(ch);},deleteChars:function(iIndex,nCount){this._oBaseTextBox.deleteChars(iIndex,nCount);},bringCursorToView:function(){this._oBaseTextBox.bringCursorToView();},sendTextChangedMsg:function(){this.onTextChanged(new Kepler.Framework.UI.Controls.TextControl.BaseTextBox.TextEventArgs(0,this._oBaseTextBox.get_text()));},replaceSelection:function(strText){this._oBaseTextBox.replaceSelection(strText);},onTextChanged:function(oTextBoxEventArgs){var $0=new Kepler.Framework.UI.Controls.OnCommandStruct(oTextBoxEventArgs.get_text(),4);var $1=this.sendMessageToParent('msg_command',$0,this);if(!$1){this.sendMessageToParent('TextChanged',oTextBoxEventArgs.get_text(),this);}},textChangedOnKey:function(oKeyEventArgs){},onEnableChange:function(bEnable){if(this.get_loaded()){if(bEnable){this.drawItem(0);}else{this.drawItem(6);}}},drawItem:function(eState){},$45:function(){return Kepler.Engine.UI.Controls.SingleLineTextControl.$41.sendMessage('msg_is_show_me_mode',null,null);},getCharIndexFromClientPoint:function(ptClientPoint){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getOffsetPointFromClientPoint(new Kepler.Framework.UI.Point(ptClientPoint.get_x(),ptClientPoint.get_y()),this.get_element());return this._oBaseTextBox.getCharIndexFromOffset($0.get_x());},onLoad:function(){Kepler.Engine.UI.Controls.SingleLineTextControl.callBaseMethod(this, 'onLoad');this.$46();this.onEnableChange(this.get_enable());},$46:function(){this.addEvents(4096|8192);this.addEvents(2|4|8|64);this.addEvents(256|512|1024);this._oBaseTextBox.addEventListener(0,ss.Delegate.create(this,this.onTextChanged));},onSize:function(){Kepler.Engine.UI.Controls.SingleLineTextControl.callBaseMethod(this, 'onSize');},onFocus:function(oFocusedPrevControl){Kepler.Engine.UI.Controls.SingleLineTextControl.callBaseMethod(this, 'onFocus',[oFocusedPrevControl]);this._oBaseTextBox.onFocus();this.$42(true);if(this._bAllowTypingModeLayout){Kepler.Engine.UI.Controls.SingleLineTextControl.$43(true,this.get_element());}},onLostFocus:function(oFocusedNewControl){Kepler.Engine.UI.Controls.SingleLineTextControl.callBaseMethod(this, 'onLostFocus',[oFocusedNewControl]);this._oBaseTextBox.onLostFocus();if(this._bAllowTypingModeLayout){Kepler.Engine.UI.Controls.SingleLineTextControl.$43(false,this.get_element());}if(!(Type.canCast(oFocusedNewControl,Kepler.Engine.UI.Controls.SingleLineTextControl)||Type.canCast(oFocusedNewControl,Kepler.Engine.UI.Controls.MultiLineTextControl))){this.$42(false);}},onKeyDown:function(oKeyEventArgs){Kepler.Engine.UI.Controls.SingleLineTextControl.callBaseMethod(this, 'onKeyDown',[oKeyEventArgs]);var $0=oKeyEventArgs.get_key();this._oBaseTextBox.onKeyDown(oKeyEventArgs);},onKeyPress:function(oKeyEventArgs){Kepler.Engine.UI.Controls.SingleLineTextControl.callBaseMethod(this, 'onKeyPress',[oKeyEventArgs]);this._oBaseTextBox.onKeyPress(oKeyEventArgs);},onKeyUp:function(oKeyEventArgs){Kepler.Engine.UI.Controls.SingleLineTextControl.callBaseMethod(this, 'onKeyUp',[oKeyEventArgs]);this._oBaseTextBox.onKeyUp(oKeyEventArgs);},onLButtonDown:function(oMouseEventArgs){Kepler.Engine.UI.Controls.SingleLineTextControl.callBaseMethod(this, 'onLButtonDown',[oMouseEventArgs]);this.setCapture();var $0=Kepler.Engine.UI.Controls.Control.getFrameClientPointFromEventArgs(this.get_element(),oMouseEventArgs);$0=Kepler.Engine.UI.Helper.HtmlCssHelper.getOffsetPointFromClientPoint(new Kepler.Framework.UI.Point($0.get_x(),$0.get_y()),this.get_element());this._oBaseTextBox.onLButtonDown($0.get_x());this.$42(true);},onMouseMove:function(oMouseEventArgs){Kepler.Engine.UI.Controls.SingleLineTextControl.callBaseMethod(this, 'onMouseMove',[oMouseEventArgs]);if(this.getCapture()===this){var $0=Kepler.Engine.UI.Controls.Control.getFrameClientPointFromEventArgs(this.get_element(),oMouseEventArgs);$0=Kepler.Engine.UI.Helper.HtmlCssHelper.getOffsetPointFromClientPoint(new Kepler.Framework.UI.Point($0.get_x(),$0.get_y()),this.get_element());this._oBaseTextBox.onMouseMove($0.get_x());}},onLButtonUp:function(oMouseEventArgs){Kepler.Engine.UI.Controls.SingleLineTextControl.callBaseMethod(this, 'onLButtonUp',[oMouseEventArgs]);if(this.getCapture()===this){var $0=Kepler.Engine.UI.Controls.Control.getFrameClientPointFromEventArgs(this.get_element(),oMouseEventArgs);$0=Kepler.Engine.UI.Helper.HtmlCssHelper.getOffsetPointFromClientPoint(new Kepler.Framework.UI.Point($0.get_x(),$0.get_y()),this.get_element());this._oBaseTextBox.onLButtonUp($0.get_x());this.releaseCapture();}},onMouseDblClick:function(oMouseEventArgs){Kepler.Engine.UI.Controls.SingleLineTextControl.callBaseMethod(this, 'onMouseDblClick',[oMouseEventArgs]);if(!oMouseEventArgs.get_button()){var $0=Kepler.Engine.UI.Controls.Control.getFrameClientPointFromEventArgs(this.get_element(),oMouseEventArgs);$0=Kepler.Engine.UI.Helper.HtmlCssHelper.getOffsetPointFromClientPoint(new Kepler.Framework.UI.Point($0.get_x(),$0.get_y()),this.get_element());this._oBaseTextBox.onMouseDblClick($0.get_x());}if(Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){this.$42(true);}},getShowMeEventType:function(){return 2;},isControlFocused:function(){return this.getFocus()===this;},getPreShowMeEventType:function(){var $0=this.getSelection();var $1=this.getCharCount();if(!$1&&this.getFocus()!==this){return 0;}if(!$0.get_startIndex()&&$0.get_endIndex()===$1){return -1;}return 3;},getTargetElement:function(oData){return this._oBaseTextBox.get_textElement();},fillShowMeEventData:function(lstEventData){},fillDynamicShowMeEventData:function(){return null;}}
Kepler.Engine.UI.Controls.ECButton=function(strHtml,oPosition,oSize,strId,strClassName){Kepler.Engine.UI.Controls.ECButton.initializeBase(this,[strHtml,oPosition,oSize,strId,strClassName]);}
Kepler.Engine.UI.Controls.ECButton.prototype={onMouseOver:function(oMouseEventArgs){Kepler.Engine.UI.Controls.ECButton.callBaseMethod(this, 'onMouseOver',[oMouseEventArgs]);if(ss.isValue(this.get_parent())){(this.get_parent()).onMouseOver(oMouseEventArgs);}},onMouseOut:function(oMouseEventArgs){Kepler.Engine.UI.Controls.ECButton.callBaseMethod(this, 'onMouseOut',[oMouseEventArgs]);if(ss.isValue(this.get_parent())){(this.get_parent()).onMouseOut(oMouseEventArgs);}}}
Kepler.Engine.UI.Controls.Node=function(eState,oParent,oPreNode,iNodeHeight,iCollapseExpandWidth,ptImagePosition,oImageSize,strImageClassName,bAddToggleBtnContainer,strCssClassName){Kepler.Engine.UI.Controls.Node.initializeBase(this,['div',(strCssClassName!=null)?strCssClassName:' tree_control_node']);if(strCssClassName!=null){this._strCssClassName=strCssClassName;}else{this._strCssClassName=' tree_control_node';}this.$52=eState;this.$49=oParent;this.$48=[];this.set_showHideProperty(1);this.$4A='';this.$4C=true;this.$4D=true;this.$4F=false;this.$50=false;this.$4B=0;this.set_focusable(false);this.$47=(ss.isValue(bAddToggleBtnContainer))?bAddToggleBtnContainer:true;this.$46=iCollapseExpandWidth;Kepler.Engine.UI.Helper.HtmlCssHelper.setElementHeight(this.get_element(),iNodeHeight+'px');var $0=this.getNodeLevel(oParent);var $1=this.$49;while($1!=null&&$1.get_sameLevelChild()){$0--;$1=$1.get_parentNode();}Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this.get_element(),' node_level_'+$0);for(var $2=0;$2<$0;$2++){var $3=document.createElement('div');$3.style.cssFloat='left';Kepler.Engine.UI.Helper.HtmlCssHelper.setElementWidth($3,this.$46+'px');Kepler.Engine.UI.Helper.HtmlCssHelper.setElementHeight($3,'100%');this.get_element().appendChild($3);}if(this.$47){this._elmBtnContainer=document.createElement('div');Kepler.Engine.UI.Helper.HtmlCssHelper.setElementClassName(this._elmBtnContainer,'toggle_button_container');Kepler.Engine.UI.Helper.HtmlCssHelper.setElementWidth(this._elmBtnContainer,iCollapseExpandWidth+'px');Kepler.Engine.UI.Helper.HtmlCssHelper.setElementHeight(this._elmBtnContainer,'100%');this.get_element().appendChild(this._elmBtnContainer);if(!String.isNullOrEmpty(strImageClassName)){this.$44=strImageClassName;var $4=(eState===1)?'_collapse':'_expand';this.$42=new Kepler.Engine.UI.Controls.ECButton('',ptImagePosition,oImageSize,'',strImageClassName+' '+strImageClassName+$4);}}this.$43=document.createElement('div');Kepler.Engine.UI.Helper.HtmlCssHelper.setElementClassName(this.$43,'content_container');this.get_element().appendChild(this.$43);}
Kepler.Engine.UI.Controls.Node.prototype={_strCssClassName:null,$42:null,get_toggleBtn:function(){return this.$42;},_elmBtnContainer:null,$43:null,$44:null,$45:' connector',$46:0,$47:false,$48:null,get_childNodes:function(){return this.$48;},$49:null,get_parentNode:function(){return this.$49;},$4A:null,get_nodeId:function(){return this.$4A;},set_nodeId:function(value){this.$4A=value;this.get_element().id=this._strCssClassName.trim()+'_'+this.$4A;return value;},$4B:0,get_highlight:function(){return this.$4B;},set_highlight:function(value){this.$4B=value;if(this.$4B===1){if((this.get_parent()).get_isCheckBoxSeperate()){Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass((this.get_nodeControl()).get_imageElement(),' node_highlight');}else{Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this.get_element(),' node_highlight');}}else if(!this.$4B){if((this.get_parent()).get_isCheckBoxSeperate()&&Type.canCast(this.get_nodeControl(),Kepler.Engine.UI.Controls.CheckBox)){Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass((this.get_nodeControl()).get_imageElement(),' node_highlight');}else{Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(this.get_element(),' node_highlight');}}return value;},$4C:false,get_expandCollapseButton:function(){return this.$4C;},set_expandCollapseButton:function(value){this.$4C=value;if(value){this.addExpandCollapseButton();}else{this.removeExpandCollapseButton();}return value;},$4D:false,get_expandCollapseOnDblClick:function(){return this.$4D;},set_expandCollapseOnDblClick:function(value){this.$4D=value;this.setExpandCollapseOnDblClick(value);return value;},$4E:null,get_nodeControl:function(){return this.$4E;},$4F:false,get_selectAll:function(){return this.$4F;},set_selectAll:function(value){this.$4F=value;if(value){this.set_expandCollapseButton(false);}return value;},$50:false,get_sameLevelChild:function(){return this.$50;},set_sameLevelChild:function(value){this.$50=value;return value;},$51:null,get_childContainer:function(){return this.$51;},set_childContainer:function(value){this.$51=value;return value;},$52:0,get_state:function(){return this.$52;},onLoad:function(){Kepler.Engine.UI.Controls.Node.callBaseMethod(this, 'onLoad');this.$53();this.attachMessage('SelectionChanged',ss.Delegate.create(this,this.$60));},$53:function(){this.addEvents(2|8|4|64|1);this.addEvents(256|1024);this.addEvents(4096|8192|16384);this.addEvents(16|32|128);},add:function(control,oParentElement,bAlreadyInDom){control.set_dblClickEventNeeded(this.$4D);this.$4E=control;if(ss.isNullOrUndefined(oParentElement)){oParentElement=this.$43;}control.addEventsForcefully(16|32|2|8|256|1024);return Kepler.Engine.UI.Controls.Node.callBaseMethod(this, 'add',[control,oParentElement,bAlreadyInDom]);},onPretranslateEvent:function(sender,eventArgs){if(eventArgs.get_categoryType()===1||eventArgs.get_categoryType()===2){var $0=eventArgs;var $1=(Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice())?true:!$0.get_button();var $2=(1===Kepler.Engine.UI.Controls.Node.apP_MODE);switch(eventArgs.get_type()){case 16:if(sender===this.$42){this.onMouseOver($0);}break;case 256:case 2:if(!this.$4B&&$2){return true;}if($1&&sender===this.$42){this.toggleState();return true;}break;case 1024:case 8:if(!this.$4B&&$2){return true;}this.get_parent().setFocus();if($1&&sender!==this.$42&&(sender===this||this.containsControl(sender))){this.releaseCapture();if(this.$56()){if((Kepler.Engine.UI.Controls.CheckBox).isInstanceOfType(sender)){if(!(this.get_parent()).get_isCheckBoxSeperate()||((this.get_parent()).get_isCheckBoxSeperate()&&(sender).get_checkBoxImage()===$0.get_target())){this.$58();}if(!(this.get_parent()).get_isCheckBoxSeperate()){this.sendSelectionChangedMsgToParent();}else{if(($2&&(sender).get_checkBoxImage()===$0.get_target())||!$2){this.sendSelectionChangedMsgToParent();}}}return true;}else{this.sendSelectionChangedMsgToParent();}}break;case 64:if(!this.$4B&&$2){return true;}if($1&&sender!==this.$42&&(sender===this||this.containsControl(sender))){if(this.$4C){this.toggleState();}if(!(this.get_parent()).get_isCheckBoxSeperate()){this.sendSelectionChangedMsgToParent();}else{if(($2&&(sender).get_textElement()!==$0.get_target())||!$2){this.sendSelectionChangedMsgToParent();}}return true;}break;case 128:break;default:break;}}return Kepler.Engine.UI.Controls.Node.callBaseMethod(this, 'onPretranslateEvent',[sender,eventArgs]);},show:function(bShow){if(bShow){bShow=(this.$49.get_state()===1&&this.$49.get_visible());}Kepler.Engine.UI.Controls.Node.callBaseMethod(this, 'show',[bShow]);var $enum1=ss.IEnumerator.getEnumerator(this.$48);while($enum1.moveNext()){var $0=$enum1.current;$0.show(bShow);}},toggleState:function(bIsSendMsgToParent){this.$52=(this.$52===1)?0:1;if(this.$52===1){this.$42.changeClassName(this.$44+this.$44+'_collapse');}else{this.$42.changeClassName(this.$44+this.$44+'_expand');}var $0=this.sendMessageToParent('GetSelectedNode',null,this);if(this!==$0&&this.$55($0)){this.drawNodeState(0);var $1=this.$57($0);if(ss.isValue($1)){$1.drawNodeState(32);}}var $enum1=ss.IEnumerator.getEnumerator(this.$48);while($enum1.moveNext()){var $2=$enum1.current;$2.show(this.$52===1);}if(ss.isNullOrUndefined(bIsSendMsgToParent)||(ss.isValue(bIsSendMsgToParent)&&bIsSendMsgToParent)){this.sendMessageToParent('ToggleState',this,null);}},removeExpandCollapseButton:function(){if(ss.isValue(this.$42)){this.remove(this.$42);}},addExpandCollapseButton:function(){if(ss.isValue(this.$42)){Kepler.Engine.UI.Controls.Node.callBaseMethod(this, 'add',[this.$42,this._elmBtnContainer]);}},setConnectorClass:function(strClassName){Kepler.Engine.UI.Helper.HtmlCssHelper.replaceCssClass(this._elmBtnContainer,this.$45,strClassName);this.$45=strClassName;},$54:function(){this.drawNodeState(32);},sendSelectionChangedMsgToParent:function(){if(this.$49!=null){this.$49.sendMessage('SelectionChanged',null,this);}else{this.sendMessageToParent('SelectionChanged',null,this);}},setChildNodesState:function(eState){var $enum1=ss.IEnumerator.getEnumerator(this.get_childNodes());while($enum1.moveNext()){var $0=$enum1.current;if(Type.canCast($0.get_nodeControl(),Kepler.Engine.UI.Controls.CheckBox)){($0.get_nodeControl()).set_state(eState);$0.setChildNodesState(eState);}}},$55:function($p0){var $enum1=ss.IEnumerator.getEnumerator(this.get_childNodes());while($enum1.moveNext()){var $0=$enum1.current;if($p0===$0){return true;}else if($0.$55($p0)){return true;}}return false;},$56:function(){var $enum1=ss.IEnumerator.getEnumerator(this.get_controls());while($enum1.moveNext()){var $0=$enum1.current;if((Kepler.Engine.UI.Controls.CheckBox).isInstanceOfType($0)){return true;}}return false;},$57:function($p0){if(this.$52===1){var $enum1=ss.IEnumerator.getEnumerator(this.get_childNodes());while($enum1.moveNext()){var $0=$enum1.current;if($0===$p0){return $p0;}else if($0.$55($p0)){if($0.get_state()===1){return $0.$57($p0);}return $0;}}}else if(this.$55($p0)){return this;}return null;},setExpandCollapseOnDblClick:function(bDblClickNeeded){var $enum1=ss.IEnumerator.getEnumerator(this.get_controls());while($enum1.moveNext()){var $0=$enum1.current;$0.set_dblClickEventNeeded(bDblClickNeeded);}},updateConnectors:function(){if(ss.isValue(this.get_parent())){if(!(this.get_parent()).get_connecter()){return;}}var $0=this.get_childNodes().length;for(var $1=0;$1<$0;$1++){var $2=this.get_childNodes()[$1];if($1<$0-1){$2.setConnectorClass(' connector'+' connector'+'_middle_child');}else if($1===$0-1){$2.setConnectorClass(' connector'+' connector'+'_last_child');}if(!$2.isLastChild()){var $enum1=ss.IEnumerator.getEnumerator($2.get_childNodes());while($enum1.moveNext()){var $3=$enum1.current;$3.setBranchConnector(0);}}}},isLastChild:function(){if(this.$49==null){var $0=(this.get_parent()).get_parentNodes();return ($0[$0.length-1]===this);}else{return (this.$49.get_childNodes()[this.$49.get_childNodes().length-1]===this);}},setBranchConnector:function(iLevel){var $0=$(this.get_element());var $1=$0.children();Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass($1[$1.length-3-iLevel],' connector'+' connector'+'_branch');var $enum1=ss.IEnumerator.getEnumerator(this.$48);while($enum1.moveNext()){var $2=$enum1.current;$2.setBranchConnector(iLevel+1);}},addChildContainer:function(){if(ss.isNullOrUndefined(this.$51)){this.$51=document.createElement('div');if(!this.$50){}else{var $1=parseInt(this.$4A);if(!$1){this.setConnectorClass(' connector'+' connector'+'_first_child');}else{this.setConnectorClass(' connector'+' connector'+'_middle_child');}}var $0=$(this.$51);$0.insertAfter(this.get_element());if(ss.isValue(this.$49)){this.$49.updateConnectors();}else{this.get_parent().sendMessage('UpdateParentConnector',null,null);}}},removeChildContainer:function(){if(ss.isValue(this.$51)){this.get_element().parentNode.removeChild(this.get_element().nextSibling);this.$51=null;}},calculateNodeHeight:function(iNodeHeight){var $0=iNodeHeight;if(this.$52===1){var $enum1=ss.IEnumerator.getEnumerator(this.get_childNodes());while($enum1.moveNext()){var $1=$enum1.current;$0+=$1.calculateNodeHeight(iNodeHeight);}}return $0;},drawNodeState:function(eEventType){var $0=this.getNodeLevel(this.$49);var $1=this._strCssClassName+' node_level_'+$0+((this.$4B>0)?' node_highlight':'');var $2=this._strCssClassName+'_hover';var $3=this._strCssClassName+'_selected';var $4=this._strCssClassName+'_selected_unfocus';var $5=this._strCssClassName+'_selected_hover';var $6=this._strCssClassName+'_selected_unfocus_hover';this.removeCssClass($2);this.removeCssClass($3);this.removeCssClass($5);this.removeCssClass($4);this.removeCssClass($6);var $7=this.sendMessageToParent('GetSelectedNode',null,this);switch(eEventType){case 16:if(this!==$7){this.addCssClass($2);}else{if(Kepler.Engine.UI.Controls.Control.get_$8()===this.get_parent()){this.addCssClass($5);}else{this.addCssClass($6);}}break;case 32:if($7===this||(!this.$52&&this.$55($7))){if(Kepler.Engine.UI.Controls.Control.get_$8()===this.get_parent()){this.addCssClass($3);}else{this.addCssClass($4);}}break;}},getNodeLevel:function(oNode){var $0=0;if(ss.isValue(oNode)){$0+=1+oNode.getNodeLevel(oNode.get_parentNode());}return $0;},$58:function(){if(ss.isValue(this.$4E)&&(Kepler.Engine.UI.Controls.CheckBox).isInstanceOfType(this.$4E)){var $0=this.$4E;if($0.get_threeState()){$0.set_threeState(false);}var $1=$0.get_state();$1=$1-1;if($1<0){$1=1;}$0.set_state($1);this.setChildNodesState($1);}},$59:function(){var $0=null;if(this.get_childNodes().length>0){$0=this.get_childNodes()[0];}return $0;},$5A:function(){var $0=null;if(this.get_childNodes().length>0){$0=this.get_childNodes()[this.get_childNodes().length-1];}return $0;},$5B:function($p0){var $0=null;var $1=this.get_childNodes().indexOf($p0);if($1>-1&&$1<(this.get_childNodes().length-1)){$0=this.get_childNodes()[$1+1];}return $0;},$5C:function($p0){var $0=null;var $1=this.get_childNodes().indexOf($p0);if($1>0&&$1<=(this.get_childNodes().length-1)){$0=this.get_childNodes()[$1-1];}return $0;},$5D:function(){var $0=false;if(this.get_childNodes().length>0){$0=true;}return $0;},$5E:function($p0){if(Type.canCast(this.$4E,Kepler.Engine.UI.Controls.CheckBox)){this.$4E.get_element().firstChild.style.display=($p0)?'table-cell':'none';}var $enum1=ss.IEnumerator.getEnumerator(this.$48);while($enum1.moveNext()){var $0=$enum1.current;$0.$5E($p0);}},$5F:function($p0){if(Type.canCast(this.$4E,Kepler.Engine.UI.Controls.CheckBox)&&(this.$4E).get_state()===1){$p0.add(this.$4A);}var $enum1=ss.IEnumerator.getEnumerator(this.$48);while($enum1.moveNext()){var $0=$enum1.current;$0.$5F($p0);}},$60:function($p0,$p1){if(ss.isValue(this.$4E)&&(Kepler.Engine.UI.Controls.CheckBox).isInstanceOfType(this.$4E)){var $0=this.$4E;if(Type.canCast(this.$48[0].get_nodeControl(),Kepler.Engine.UI.Controls.CheckBox)){var $1=(this.$48[0].get_nodeControl()).get_state();var $enum1=ss.IEnumerator.getEnumerator(this.$48);while($enum1.moveNext()){var $2=$enum1.current;if(Type.canCast($2.get_nodeControl(),Kepler.Engine.UI.Controls.CheckBox)&&$1!==($2.get_nodeControl()).get_state()){$1=2;break;}}if($1===2&&!$0.get_threeState()){$0.set_threeState(true);}$0.set_state($1);}}if(this.$49==null){this.sendMessageToParent('SelectionChanged',$p0,$p1);}else{this.$49.sendMessage('SelectionChanged',$p0,$p1);}return null;},onMouseOver:function(evt){Kepler.Engine.UI.Controls.Node.callBaseMethod(this, 'onMouseOver',[evt]);this.drawNodeState(evt.get_type());},onMouseOut:function(evt){Kepler.Engine.UI.Controls.Node.callBaseMethod(this, 'onMouseOut',[evt]);this.drawNodeState(evt.get_type());},removeEvent:function(evt){this.removeEvents(evt);}}
Kepler.Engine.UI.Controls.TreeControl=function(ptPosition,oSize,iNodeHeight,strId,iCollapseExpandWidth,ptImagePosition,oImageSize,strImageClassName,strCssClass){Kepler.Engine.UI.Controls.TreeControl.initializeBase(this,['div',((String.isNullOrEmpty(strCssClass))?'tree_control':strCssClass),strId]);this._lstParentNode=[];this.$44=[];this.$43=true;this._iNodeHeight=iNodeHeight;this._iCollapseExpandWidth=iCollapseExpandWidth;this.set_focusChildCtrlsOnTab(false);this.$45=false;this._oSelectAllNode=null;this.$41=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div','','relative',null,null,null,null,'tree_container',null);this.get_element().appendChild(this.$41);this._elmNodeContainer=document.createElement('div');Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this._elmNodeContainer,'node_container');this.$41.appendChild(this._elmNodeContainer);this.createScrollbar();if(ss.isValue(ptPosition)){this.set_position(ptPosition);}if(ss.isValue(oSize)){this.set_size(oSize);}if(ss.isValue(ptImagePosition)){this._ptImagePosition=ptImagePosition;}else{this._ptImagePosition=null;}if(ss.isValue(oImageSize)){this._oImageSize=oImageSize;}else{this._oImageSize=null;}if(!String.isNullOrEmpty(strImageClassName)){this._strImageClassName=strImageClassName;}else{this._strImageClassName='';}this.$46=false;}
Kepler.Engine.UI.Controls.TreeControl.prototype={_lstParentNode:null,get_parentNodes:function(){return this._lstParentNode;},_bAddToggleBtnContainer:true,get_addToggleBtnContainer:function(){return this._bAddToggleBtnContainer;},set_addToggleBtnContainer:function(value){this._bAddToggleBtnContainer=value;return value;},_ptImagePosition:null,_oImageSize:null,_strImageClassName:null,$41:null,_oVScrollBar:null,_iNodeHeight:0,get_nodeHeight:function(){return this._iNodeHeight;},set_nodeHeight:function(value){this._iNodeHeight=value;return value;},_iCollapseExpandWidth:0,$42:0,$43:false,get_connecter:function(){return this.$43;},set_connecter:function(value){this.$43=value;return value;},_oSelectedNode:null,get_selectedNode:function(){return this._oSelectedNode;},_elmNodeContainer:null,get_nodeContainer:function(){return this._elmNodeContainer;},$44:null,get_highlightedNodes:function(){return this.$44;},$45:false,get_offsetHeightScrollUpdate:function(){return this.$45;},set_offsetHeightScrollUpdate:function(value){this.$45=value;return value;},$46:false,get_isCheckBoxSeperate:function(){return this.$46;},set_isCheckBoxSeperate:function(value){this.$46=value;return value;},$47:'(Select All)',get_selectAll:function(){return this.$47;},set_selectAll:function(value){this.$47=value;return value;},_oSelectAllNode:null,get_selectAllNode:function(){return this._oSelectAllNode;},$48:0,get_leftPosNodeContainer:function(){return this.$48;},set_leftPosNodeContainer:function(value){this.$48=value;this._elmNodeContainer.style.left=value+'px';return value;},createScrollbar:function(){this._oVScrollBar=new Kepler.Engine.UI.Controls.VScrollBar(null,new Kepler.Framework.UI.Size(18,this.get_height()-2));this._oVScrollBar.set_top(1);this._oVScrollBar.set_top(0);this._oVScrollBar.set_right(0);this._oVScrollBar.set_mfcBehaviour(false);this._oVScrollBar.set_singleStep(this._iNodeHeight);this._oVScrollBar.set_singleStepTimerInterval(100);this._oVScrollBar.set_scrollBarType(2);},onLoad:function(){Kepler.Engine.UI.Controls.TreeControl.callBaseMethod(this, 'onLoad');this.$49();this.$4A();this.$4B();this.$4C();},$49:function(){this.add(this._oVScrollBar);},$4A:function(){this.attachMessage('ToggleState',ss.Delegate.create(this,this.onMsgToggleState));this.attachMessage('GetSelectedNode',ss.Delegate.create(this,this.$53));this.attachMessage('SelectionChanged',ss.Delegate.create(this,this.onMsgSelectionChanged));this.attachMessage('ScrollPosChanging',ss.Delegate.create(this,this.onMsgScrollPosChanging));this.attachMessage('ScrollPosChanged',ss.Delegate.create(this,this.onMsgScrollPosChanged));this.attachMessage('UpdateParentConnector',ss.Delegate.create(this,this.$54));},$4B:function(){this.addEvents(2|256|4096|128|16);},$4C:function(){var $enum1=ss.IEnumerator.getEnumerator(this._lstParentNode);while($enum1.moveNext()){var $0=$enum1.current;if($0.get_state()===1){var $enum2=ss.IEnumerator.getEnumerator($0.get_childNodes());while($enum2.moveNext()){var $1=$enum2.current;$1.show(true);}}}},onAttach:function(){Kepler.Engine.UI.Controls.TreeControl.callBaseMethod(this, 'onAttach');this.$4F();this.$50();},onSize:function(){Kepler.Engine.UI.Controls.TreeControl.callBaseMethod(this, 'onSize');this._oVScrollBar.set_height(this.get_height()-2);this.$50();},getIntArray:function(strIdx){var $0='.';var $1=strIdx.split($0);var $2=new Array($1.length);for(var $3=0;$3<$1.length;$3++){$2[$3]=parseInt($1[$3],10);}return $2;},getParentFromIndex:function(intArr){if(intArr.length===1){return null;}var $0=this._lstParentNode[intArr[0]];for(var $1=1;$1<intArr.length-1;$1++){$0=$0.get_childNodes()[intArr[$1]];}return $0;},insertNode:function(eState,oParentNode,nInsertAfter,bUpdateScrollbar,strCssClassName){var $0=new Kepler.Engine.UI.Controls.Node(eState,oParentNode,nInsertAfter,this._iNodeHeight,this._iCollapseExpandWidth,this._ptImagePosition,this._oImageSize,this._strImageClassName,this._bAddToggleBtnContainer,strCssClassName);if(oParentNode==null){if(nInsertAfter==null){this._lstParentNode.add($0);}else{var $1=this._lstParentNode.indexOf(nInsertAfter);this._lstParentNode.insert($1+1,$0);}this.addNodeToTreeControl($0,this._elmNodeContainer,bUpdateScrollbar);this.updateParentConnector();}else{if(nInsertAfter==null){oParentNode.get_childNodes().add($0);}else{var $2=oParentNode.get_childNodes().indexOf(nInsertAfter);oParentNode.get_childNodes().insert($2+1,$0);}if(oParentNode.get_childNodes().length===1){if(oParentNode.get_expandCollapseButton()){oParentNode.addExpandCollapseButton();}oParentNode.addChildContainer();}this.addNodeToTreeControl($0,oParentNode.get_childContainer(),bUpdateScrollbar);$0.show(oParentNode.get_state()===1);oParentNode.updateConnectors();}return $0;},insertNodeAt:function(eState,strIdx,bUpdateScrollbar,strCssClassName){if(ss.isNullOrUndefined(bUpdateScrollbar)){bUpdateScrollbar=true;}var $0=this.getIntArray(strIdx);var $1=$0.length;var $2=this.getParentFromIndex($0);var $3=null,$4;if(!!$0[$1-1]){if($2==null){$3=this._lstParentNode[$0[$1-1]-1];}else{$3=$2.get_childNodes()[$0[$1-1]-1];}}$4=new Kepler.Engine.UI.Controls.Node(eState,$2,$3,this._iNodeHeight,this._iCollapseExpandWidth,this._ptImagePosition,this._oImageSize,this._strImageClassName,this._bAddToggleBtnContainer,strCssClassName);if($2==null){this._lstParentNode.insert($0[$1-1],$4);this.addNodeToTreeControl($4,this._elmNodeContainer,bUpdateScrollbar);this.updateParentConnector();}else{$2.get_childNodes().insert($0[$1-1],$4);if($2.get_childNodes().length===1){if($2.get_expandCollapseButton()){$2.addExpandCollapseButton();}$2.addChildContainer();}var $enum1=ss.IEnumerator.getEnumerator($2.get_childNodes());while($enum1.moveNext()){var $5=$enum1.current;$5.show($2.get_state()===1);}this.addNodeToTreeControl($4,$2.get_childContainer(),bUpdateScrollbar);$2.updateConnectors();}return $4;},addNodeToTreeControl:function(oNode,oParentElement,bUpdateScrollbar){this.add(oNode,oParentElement);this.$4E(this._lstParentNode);if(bUpdateScrollbar){this.$50();}},deleteAt:function(strIndex){var $0=this.getIntArray(strIndex);var $1=$0[$0.length-1];var $2=this.getParentFromIndex($0);if(ss.isValue($2)){var $3=$2.get_childNodes()[$1];if(ss.isValue($3)){if(this._oSelectedNode===$3){this._oSelectedNode=null;}this.deleteAll($3.get_childNodes(),false);$3.removeChildContainer();this.removeAt(this.indexOfControl($3));$2.get_childNodes().remove($3);if(!$2.get_childNodes().length){$2.removeExpandCollapseButton();$2.removeChildContainer();}}}else{var $4=this._lstParentNode[$1];this.deleteAll($4.get_childNodes(),false);$4.removeChildContainer();this.removeAt(this.indexOfControl($4));this._lstParentNode.remove($4);}this.$4E(this._lstParentNode);this.$50();},deleteAll:function(lstNodes,bUpdateScrollBar){this.$4D(lstNodes);if(bUpdateScrollBar){this.$50();}},$4D:function($p0){this._oSelectedNode=null;var $0=null;while(ss.isValue($0=$p0[0])){if(!!$0.get_childNodes().length){this.$4D($0.get_childNodes());}$0.removeChildContainer();if(ss.isValue($0.get_parentNode())){this.removeAt(this.indexOfControl($0));}else{this.removeAt(this.indexOfControl($0));}$p0.remove($0);}},$4E:function($p0){for(var $0=0;$0<$p0.length;$0++){if($p0[$0].get_parentNode()!=null){$p0[$0].set_nodeId($p0[$0].get_parentNode().get_nodeId()+'.'+$0);}else{$p0[$0].set_nodeId($0.toString());}this.$4E($p0[$0].get_childNodes());}},getTopMostIndex:function(oNode){var $0=0;var $1=null;while(oNode!=null){if(this._lstParentNode.contains(oNode)){$0+=(this._lstParentNode.indexOf(oNode)+1);break;}else{$1=oNode.get_parentNode();$0+=($1.get_childNodes().indexOf(oNode)+1);oNode=$1;}}return $0;},$4F:function(){if(this._lstParentNode.length>0&&ss.isValue(this._lstParentNode[0].get_nodeControl())&&(Kepler.Engine.UI.Controls.CheckBox).isInstanceOfType(this._lstParentNode[0].get_nodeControl())){var $0=true;var $enum1=ss.IEnumerator.getEnumerator(this._lstParentNode);while($enum1.moveNext()){var $1=$enum1.current;if(!!($1.get_nodeControl()).get_state()){$0=false;break;}}this.sendMessageToParent('NoneSelected',$0,this);}},setSelectedNodeByIndex:function(strIndex){this.setSelectedNode(this.getNodeFromIndex(strIndex));},setSelectedNode:function(oNode){if(this._oSelectedNode!==oNode){if(ss.isValue(this._oSelectedNode)){if(this._oSelectedNode.get_visible()){this._oSelectedNode.drawNodeState(0);}else{this.setSelectedNodeState(0);}}this._oSelectedNode=oNode;if(ss.isValue(oNode)){this.$51(oNode);oNode.$54();}var $0=new Kepler.Framework.UI.Controls.OnCommandStruct(oNode,2);var $1=this.sendMessageToParent('msg_command',$0,this);if(!$1){this.sendMessageToParent('SelectionChanged',oNode,this);}}else{if(Type.canCast(oNode.get_nodeControl(),Kepler.Engine.UI.Controls.CheckBox)){var $2=new Kepler.Framework.UI.Controls.OnCommandStruct(oNode,2);var $3=this.sendMessageToParent('msg_command',$2,this);if(!$3){this.sendMessageToParent('SelectionChanged',oNode,this);}}}},$50:function(){if(ss.isValue(this._iNodeHeight)){var $0=0;if(this.$45){$0=this._elmNodeContainer.offsetHeight;}else{var $enum1=ss.IEnumerator.getEnumerator(this._lstParentNode);while($enum1.moveNext()){var $1=$enum1.current;$0+=$1.calculateNodeHeight(this._iNodeHeight);}}this.updateScrollBar(this.get_size().get_height(),$0);}},updateScrollBar:function(iVisibleHeight,iScrollableHeight){if(ss.isNullOrUndefined(iVisibleHeight)){iVisibleHeight=this.get_height();}if(ss.isNullOrUndefined(iScrollableHeight)){iScrollableHeight=this._elmNodeContainer.offsetHeight;}var $0=0;var $1=(iScrollableHeight-iVisibleHeight);this.updateScrollbarState(iVisibleHeight,iScrollableHeight);if($1<=$0){$1=$0;}var $2=new Kepler.Engine.UI.Controls.ScrollBarParams();$2._iMinPos=$0;$2._iMaxPos=$1;$2._iPageStep=iVisibleHeight;$2._iCurPos=0;this._oVScrollBar.updateScrollbarParams($2);},updateScrollbarState:function(iVisibleHeight,iScrollableHeight){var $0=0;var $1=(iScrollableHeight-iVisibleHeight);var $2=true;if($1<=$0){$1=$0;$2=false;this._elmNodeContainer.scrollTop=0;if(ss.isValue(this._elmNodeContainer)){Kepler.Engine.UI.Helper.HtmlCssHelper.setElementWidth(this._elmNodeContainer,this.get_width()-this.$48-2+'px');}}else{$2=true;if(ss.isValue(this._elmNodeContainer)){Kepler.Engine.UI.Helper.HtmlCssHelper.setElementWidth(this._elmNodeContainer,this.get_width()-this.$48-18-3+'px');}}this._oVScrollBar.show($2);},updateParentConnector:function(){if(this._lstParentNode.length>1&&this.$43){var $0=this._lstParentNode.length;for(var $1=0;$1<$0;$1++){var $2=this._lstParentNode[$1];if(!$1){$2.setConnectorClass(' connector'+' connector'+'_first_child');$2.updateConnectors();}else if($1<$0-1){$2.setConnectorClass(' connector'+' connector'+'_middle_child');$2.updateConnectors();}else if($1===$0-1){$2.setConnectorClass(' connector'+' connector'+'_last_child');if($2.get_childNodes().length>0){Kepler.Engine.UI.Helper.HtmlCssHelper.removeAllCssClasses($2.get_element().nextSibling.firstChild);}}}}},setData:function(strData){this.$44.clear();Kepler.Engine.UI.Controls.Node.apP_MODE=this.sendMessageToParent('eONDetectMode',null,null);var $0=strData.split('\u2020');if(ss.isValue($0)&&$0.length>0){var $1;this.deleteAll(this._lstParentNode,false);var $enum1=ss.IEnumerator.getEnumerator($0);while($enum1.moveNext()){var $2=$enum1.current;try{$1=$2.split('*');if(ss.isValue($1)&&$1.length>0){var $3=parseInt($1[0],10);var $4=$1[1];var $5=parseInt($1[2],10);var $6=$1[3];var $7=parseInt($1[4],10);var $8=parseInt($1[5],10);var $9=parseInt($1[6],10);var $A=parseInt($1[7],10)===1;var $B=this.insertNodeAt($7,$4+'.'+$3,$0.indexOf($2)===$0.length-1);if($A){$B.$54();}if($B.set_selectAll((!$6.compareTo(this.$47,false)))){this._oSelectAllNode=$B;$B.set_sameLevelChild(true);}var $C=null;if($5===1){$C=new Kepler.Engine.UI.Controls.CheckBox($6);var $D=$C;$D.get_elementStyle().position='relative';$D.set_height(12);$D.set_state($8);}else if($5===3){$C=new Kepler.Engine.UI.Controls.Label($6);$C.get_elementStyle().position='relative';$C.set_height(12);}$B.add($C);$B.set_highlight($9);if($9===1){this.$44.add($B);}}this.$4F();}catch($E){}}}},getCheckedItemText:function(lstItems){var $0=null;var $enum1=ss.IEnumerator.getEnumerator(this.get_controls());while($enum1.moveNext()){var $1=$enum1.current;if((Type.canCast($1,Kepler.Engine.UI.Controls.Node))&&ss.isValue(($1).get_nodeControl())&&Type.canCast(($1).get_nodeControl(),Kepler.Engine.UI.Controls.CheckBox)){$0=($1).get_nodeControl();if($0.get_state()===1){lstItems.add($0.get_text());}}}},isCorrectAction:function(strCtrlAction){var $0=true;var $1=strCtrlAction.split('*');var $2=0;if(ss.isValue($1)&&$1.length>0){$2=1;var $3=null;var $enum1=ss.IEnumerator.getEnumerator(this.get_controls());while($enum1.moveNext()){var $4=$enum1.current;if(Type.getInstanceType($4)===Kepler.Engine.UI.Controls.Node&&ss.isValue(($4).get_nodeControl())&&(Kepler.Engine.UI.Controls.CheckBox).isInstanceOfType(($4).get_nodeControl())){$3=($4).get_nodeControl();var $5=$3.get_state()===parseInt($1[$2],10);$0=($0&$5)===1;$2++;if($2>=$1.length){break;}}}}return $0;},setSelectedNodeState:function(eEventType){if(ss.isValue(this._oSelectedNode)){if(this._oSelectedNode.get_visible()){this._oSelectedNode.drawNodeState(eEventType);}else{var $0=null;var $enum1=ss.IEnumerator.getEnumerator(this._lstParentNode);while($enum1.moveNext()){var $1=$enum1.current;if($1.$55(this._oSelectedNode)){$0=$1.$57(this._oSelectedNode);break;}}if(ss.isValue($0)){$0.drawNodeState(eEventType);}}}},setFocusRectParams:function(){},$51:function($p0){if(ss.isNullOrUndefined($p0)){return;}var $0=[];$p0=$p0.get_parentNode();while(ss.isValue($p0)&&!$p0.get_state()){$0.add($p0);$p0=$p0.get_parentNode();}var $enum1=ss.IEnumerator.getEnumerator($0);while($enum1.moveNext()){var $1=$enum1.current;$1.toggleState();}},resetControl:function(){this.deleteAll(this._lstParentNode,true);},getNodeFromIndex:function(strIndex){var $0=this.getIntArray(strIndex);if($0.length===1){return this._lstParentNode[$0[0]];}else{var $1=this.getParentFromIndex($0);if(ss.isValue($1)){return $1.get_childNodes()[$0[$0.length-1]];}return null;}},setHighlightNode:function(strIndex,iHightlight){var $0=this.getNodeFromIndex(strIndex);if(ss.isValue($0)){$0.set_highlight(iHightlight);}},scrollToNode:function(strIndex){var $0=this.getNodeFromIndex(strIndex);if(ss.isValue($0)){var $1=$0.get_element().offsetTop;var $2=this._oVScrollBar.get_curPos();if($1+this._iNodeHeight>$2+this.get_height()){if($1>this.$42){$1=this.$42;}this._oVScrollBar.performScrollTo($1);}else if($1<$2){if($1<0){$1=0;}this._oVScrollBar.performScrollTo($1);}}},refreshScrollParameter:function(){this.$42=this._elmNodeContainer.offsetHeight-this.$41.offsetHeight;},getNextSiblingNode:function(){var $0=false;var $1=null;if(this._oSelectedNode.$5D()){$0=(this._oSelectedNode.get_state()===1)?true:false;}if($0){$1=this._oSelectedNode.$59();}else{var $2=this._oSelectedNode.get_parentNode();var $3=this._oSelectedNode;while(!ss.isNullOrUndefined($2)&&$1==null){$1=$2.$5B($3);$3=$3.get_parentNode();$2=$2.get_parentNode();}if($1==null){$1=this.$52($3,true);}}return $1;},getPreviousSiblingNode:function(){var $0=null;var $1=this._oSelectedNode.get_parentNode();var $2=false;if(!ss.isNullOrUndefined($1)){$0=$1.$5C(this._oSelectedNode);$2=true;if($0==null){$0=$1;$2=false;}}else{$0=this.$52(this._oSelectedNode,false);$2=true;}if($2){while(!ss.isNullOrUndefined($0)&&$0.$5D()){if($0.get_state()===1){$0=$0.$5A();}else{break;}}}return $0;},$52:function($p0,$p1){var $0=null;var $1=this._lstParentNode.indexOf($p0);$1=($p1)?$1+1:$1-1;if($1>-1&&$1<this._lstParentNode.length){$0=this._lstParentNode[$1];}return $0;},showHideCheckBox:function(bShow){var $enum1=ss.IEnumerator.getEnumerator(this._lstParentNode);while($enum1.moveNext()){var $0=$enum1.current;$0.$5E(bShow);}},getCheckedNodeIndexes:function(lstCheckedNodeIndexes){var $enum1=ss.IEnumerator.getEnumerator(this._lstParentNode);while($enum1.moveNext()){var $0=$enum1.current;$0.$5F(lstCheckedNodeIndexes);}},onMsgSelectionChanged:function(wParam,lParam){this.setSelectedNode(lParam);this.$4F();return null;},onMsgToggleState:function(wParam,lParam){if(this.get_focusable()&&this.get_visible()&&this.get_enable()&&Kepler.Engine.UI.Controls.Control.get_$8()!==this){this.setFocus();}this.$50();var $0=new Kepler.Framework.UI.Controls.OnCommandStruct(wParam,11);var $1=this.sendMessageToParent('msg_command',$0,this);if(!$1){this.sendMessageToParent('ToggleState',wParam,this);}return null;},onMsgScrollPosChanging:function(wParam,lParam){var $0=lParam;if($0===this._oVScrollBar){var $1=$(this._elmNodeContainer);var $2=$1.parent();$2[0].scrollTop=this._oVScrollBar.get_curPos();}return null;},onMsgScrollPosChanged:function(wParam,lParam){var $0=lParam;if($0===this._oVScrollBar){var $1=$(this._elmNodeContainer);var $2=$1.parent();$2[0].scrollTop=this._oVScrollBar.get_curPos();}return null;},$53:function($p0,$p1){return this._oSelectedNode;},$54:function($p0,$p1){this.updateParentConnector();return null;},onPretranslateEvent:function(sender,eventArgs){if(eventArgs.get_type()===4096){var $0=eventArgs;var $1=this.getIntArray(this._oSelectedNode.get_nodeId());switch($0.get_key()){case 38:var $2=this.getPreviousSiblingNode();if($2!=null){this.setSelectedNode($2);var $3=$2.get_element().offsetTop;var $4=this._oVScrollBar.get_curPos();if($3<=$4+this.get_height()){this.refreshScrollParameter();this.scrollToNode($2.get_nodeId());}this.onMsgSelectionChanged(null,$2);}break;case 40:var $5=this.getNextSiblingNode();if($5!=null){this.setSelectedNode($5);var $6=$5.get_element().offsetTop;var $7=this._oVScrollBar.get_curPos();if($6+this._iNodeHeight>$7+this.get_height()){this.refreshScrollParameter();this.scrollToNode($5.get_nodeId());}this.onMsgSelectionChanged(null,$5);}break;case 39:if(this._oSelectedNode.$5D()){var $8=(this._oSelectedNode.get_state()===1)?true:false;if($8){var $9=this._oSelectedNode.get_childNodes()[0];if($9!=null){this.setSelectedNode($9);var $A=$9.get_element().offsetTop;var $B=this._oVScrollBar.get_curPos();if($A+this._iNodeHeight>$B+this.get_height()){this.refreshScrollParameter();this.scrollToNode($9.get_nodeId());}this.onMsgSelectionChanged(null,$9);}}else{this._oSelectedNode.toggleState();this.$50();}}break;case 37:var $C=false;if(this._oSelectedNode.$5D()){$C=(this._oSelectedNode.get_state()===1)?true:false;}if($C){this._oSelectedNode.toggleState();this.$50();}else{var $D=this._oSelectedNode.get_parentNode();if($D!=null){this.setSelectedNode($D);var $E=$D.get_element().offsetTop;var $F=this._oVScrollBar.get_curPos();if($E+this._iNodeHeight>$F+this.get_height()){this.refreshScrollParameter();this.scrollToNode($D.get_nodeId());}this.onMsgSelectionChanged(null,$D);}}break;case 36:case 33:var $10=0;var $11=this._lstParentNode[$10];while($11!=null&&!(Type.canCast($11.get_nodeControl(),Kepler.Engine.UI.Controls.CheckBox))){$10++;$11=this._lstParentNode[$10];}if($11!=null){this.setSelectedNode($11);this.refreshScrollParameter();this.scrollToNode($11.get_nodeId());this.onMsgSelectionChanged(null,$11);}break;case 34:case 35:var $12=this._lstParentNode.length-1;var $13=this._lstParentNode[$12];while($13!=null&&!(Type.canCast($13.get_nodeControl(),Kepler.Engine.UI.Controls.CheckBox))){$12--;$13=this._lstParentNode[$12];}if($13!=null){this.setSelectedNode($13);this.refreshScrollParameter();this.scrollToNode($13.get_nodeId());this.onMsgSelectionChanged(null,$13);}break;default:break;}}else if(eventArgs.get_type()===128){var $14=(eventArgs).get_deltaY();if($14>0){$14+=45;if(this._oVScrollBar.get_curPos()<$14){$14=this._oVScrollBar.get_curPos();}}else{$14-=45;if((this._oVScrollBar.get_curPos()-$14)>this._oVScrollBar.get_maxPos()){$14=(this._oVScrollBar.get_curPos()-this._oVScrollBar.get_maxPos());}}this._oVScrollBar.performScroll((-1)*$14);}return Kepler.Engine.UI.Controls.TreeControl.callBaseMethod(this, 'onPretranslateEvent',[sender,eventArgs]);},onKeyUp:function(evt){Kepler.Engine.UI.Controls.TreeControl.callBaseMethod(this, 'onKeyUp',[evt]);if(evt.get_key()===32){if(Type.canCast(this._oSelectedNode.get_nodeControl(),Kepler.Engine.UI.Controls.CheckBox)){this._oSelectedNode.get_nodeControl().onKeyUp(evt);}}},onFocus:function(oFocusedPrevControl){Kepler.Engine.UI.Controls.TreeControl.callBaseMethod(this, 'onFocus',[oFocusedPrevControl]);this.setSelectedNodeState(32);},onLostFocus:function(oFocusedNewControl){Kepler.Engine.UI.Controls.TreeControl.callBaseMethod(this, 'onLostFocus',[oFocusedNewControl]);this.setSelectedNodeState(32);}}
Kepler.Engine.UI.Controls.Wnd=function(strCssClassName,strId,element,strTagName){Kepler.Engine.UI.Controls.Wnd.initializeBase(this,[(ss.isValue(strTagName))?strTagName:'div',strCssClassName,strId,element]);this.set_fireOnFocusOnChildElementClick(false);}
Kepler.Engine.UI.Controls.Wnd.prototype={moveWindow:function(iLeft,iTop,iWidth,iHeight){this.set_left(iLeft);this.set_top(iTop);if(ss.isValue(iWidth)){this.set_width(iWidth);}if(ss.isValue(iHeight)){this.set_height(iHeight);}},moveWindowToRect:function(rcWindow){this.set_left(rcWindow.get_left());this.set_top(rcWindow.get_top());this.set_width(rcWindow.get_width());this.set_height(rcWindow.get_height());},initializeChildControlParentWnd:function(control){control.set_parentWnd(this);},onActivate:function(oPreviousWnd){},onDeactivate:function(oNewWnd){}}
Type.registerNamespace('Kepler.Framework.UI.Controls');Kepler.Framework.UI.Controls.EExpandCollapseState=function(){};Kepler.Framework.UI.Controls.EExpandCollapseState.prototype = {eExpand:0,eCollapse:1}
Kepler.Framework.UI.Controls.EExpandCollapseState.registerEnum('Kepler.Framework.UI.Controls.EExpandCollapseState',false);Kepler.Framework.UI.Controls.EItemState=function(){};Kepler.Framework.UI.Controls.EItemState.prototype = {eNormal:0,eHover:1,ePressed:2,ePressedHover:3,eFocus:4,eFocusHover:5,eDisabled:6,eDrag:7,eLostFocus:8}
Kepler.Framework.UI.Controls.EItemState.registerEnum('Kepler.Framework.UI.Controls.EItemState',false);Kepler.Framework.UI.Controls.FromAction=function(){};Kepler.Framework.UI.Controls.FromAction.prototype = {eFromIncorrectAction:0}
Kepler.Framework.UI.Controls.FromAction.registerEnum('Kepler.Framework.UI.Controls.FromAction',false);Kepler.Framework.UI.Controls.NotificationCode=function(){};Kepler.Framework.UI.Controls.NotificationCode.prototype = {buttoN_CLICK:0,selectioN_CHANGING:1,selectioN_CHANGED:2,spiN_CTRL_VAL_CHANGED:3,texT_CHANGED:4,mousE_CLICKED:5,menU_ITEM_CLICKED:6,dialoG_CLOSE:7,buttoN_DBLCLICK:8,griD_HEADER_WIDTH_CHANGED:9,thumB_POSITION_CHANGED:10,togglE_STATE:11,typinG_DONE:12,thumB_POSITION_CHANGING:13}
Kepler.Framework.UI.Controls.NotificationCode.registerEnum('Kepler.Framework.UI.Controls.NotificationCode',false);Kepler.Framework.UI.Controls.ZIndexConstants=function(){};Kepler.Framework.UI.Controls.ZIndexConstants.prototype = {view_Min:1,view_Max:2000,frame_Min:2001,frame_Ribbon:2002,frame_Max:5000,dialog_Min:5001,dialog_Max:5500,metroAppSplitBar:5501,textPaneCtrl:5502,player_Frame:5503,apP_DRAGGING_AREA_CONTAINER:5504,frame_Menu_Min:6001,frame_RtClkMenu:6501,frame_Menu_Max:6900,frame_AltMode:6905,winDesktop_PaneManager:6910,pane_Menu_Min:6920,pane_RtClkMenu:6940,pane_Menu_Max:6990,freezeApp:7002,dummyDlgLoader:7501,unDockedPlayer:7601,messageBox:7701,tooltip:8001,focusBorder:9001,showMeController:10001,keyBoardControl:11001,transitionMsg:12001}
Kepler.Framework.UI.Controls.ZIndexConstants.registerEnum('Kepler.Framework.UI.Controls.ZIndexConstants',false);Kepler.Framework.UI.Controls.ExpandCollapseBtn=function(oPosition,oSize,strId,strClassName,eState){Kepler.Framework.UI.Controls.ExpandCollapseBtn.initializeBase(this,['div',oPosition,oSize,strClassName,strId,null]);this.$47=eState;this._strClassName=strClassName;this.drawItem(0);}
Kepler.Framework.UI.Controls.ExpandCollapseBtn.prototype={$47:0,get_state:function(){return this.$47;},set_state:function(value){if(this.$47!==value){this.$47=value;this.invalidate();}return value;},_strClassName:null,drawItem:function(eState){var $0='';switch(eState){case 1:$0='_hover';break;case 0:$0='_normal';break;case 2:$0='_pressed';break;case 6:if(!this.get_visible()){$0='_disabled'+' display_none';}else{$0='_disabled';}break;default:throw new Error('Not Implemented Exception : '+'eState');}switch(this.$47){case 0:$0='_expand'+$0;break;case 1:$0='_collapse'+$0;break;}if($0.length>0){this.get_element().className=this._strClassName+' '+this._strClassName+$0;}},onEventProcessClick:function(mouseEventArgs){var $0=this.sendMessageToParent('msg_perform_engine_action_on_btn_click',mouseEventArgs,this);if(!$0){this.$47=(!this.$47)?1:0;}Kepler.Framework.UI.Controls.ExpandCollapseBtn.callBaseMethod(this, 'onEventProcessClick',[mouseEventArgs]);}}
Kepler.Framework.UI.Controls.OnCommandStruct=function(Data,eNotification){if(ss.isValue(Data)){this.$0=Data;}else{this.$0=null;}if(ss.isValue(eNotification)){this.$1=eNotification;}else{this.$1=0;}}
Kepler.Framework.UI.Controls.OnCommandStruct.prototype={$0:null,$1:0,get_data:function(){return this.$0;},get_notificationMsg:function(){return this.$1;},setData:function(Data,eNotification){this.$0=Data;if(ss.isValue(eNotification)){this.$1=eNotification;}}}
Kepler.Framework.UI.Controls.IconListCtrl=function(oPosition,oSize,iRows,iCols,iPaddingTopBottom,iPaddingLeftRt,iColSpacing,iRowSpacing,strNormalCls,strSelCls,strPressedClass,strHoveredClass,strSelHoveredClass,strFocusedHoverCls,strFocusedCls,strUnfocusedSelCls,bDropDown,strId,bIsVscroll){Kepler.Framework.UI.Controls.IconListCtrl.initializeBase(this,[oPosition,oSize,iRows,iCols,iPaddingTopBottom,iPaddingLeftRt,iColSpacing,iRowSpacing,strNormalCls,strSelCls,strPressedClass,strHoveredClass,strSelHoveredClass,bDropDown,strId,bIsVscroll]);this.$56=-1;this._iFocusIndex=0;this.$53=strFocusedHoverCls;this.$54=strFocusedCls;this.$55=strUnfocusedSelCls;this.$58=[];this.$57=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div','','relative',null,10,this.get_width(),null,'empty_list_text',null);this.$57.style.marginTop=-(2*iPaddingTopBottom)+'px';Kepler.Engine.UI.Helper.HtmlCssHelper.setElementTextAlign(this.$57,'center');this.$57.style.color='RGB(109,109,109)';this.$5A='';this.$60();this.$59=[];}
Kepler.Framework.UI.Controls.IconListCtrl.prototype={_iFocusIndex:0,$53:null,$54:null,$55:null,$56:0,$57:null,$58:null,get_itemsText:function(){return this.$5F(this.$58);},get_selectedItemText:function(){return this.getItemText(this._iSelectedIndex);},$59:null,get_selectedItemTextMultipleSelection:function(){if(this.get_multipleSelection()){this.$59.clear();for(var $0=0;$0<this._iListSelectedIndex.length;$0++){this.$59.add(this.getItemText(this._iListSelectedIndex[$0]));}}return this.$59;},$5A:null,get_emptyListText:function(){return this.$5A;},set_emptyListText:function(value){this.$5A=value;this.$57.innerHTML=value;return value;},get_itemCount:function(){return this._iNumImages;},onLoad:function(){this.addEvents(64);Kepler.Framework.UI.Controls.IconListCtrl.callBaseMethod(this, 'onLoad');},addIconTextToTheList:function(strImgSrc,iImgItemWidth,iImgItemHeight,divSize,strContent,iItemCount,strTooltip){if(ss.isNullOrUndefined(iItemCount)){iItemCount=1;}var $0=strContent.split('*');this.$58.addRange($0);var $1=null;if(!String.isNullOrEmpty(strTooltip)){$1=strTooltip.split('*');}for(var $2=0;$2<iItemCount;$2++){var $3=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div',new ss.StringBuilder(this.get_id().toString()).append((this._iNumImages+$2).toString()).toString(),null,null,null,divSize.get_width(),divSize.get_height(),null,null);$3.setAttribute('name','IconList_Item');Kepler.Engine.UI.Helper.HtmlCssHelper.setElementClassName($3,this._strNormalCls);Kepler.Engine.UI.Helper.HtmlCssHelper.setElementOverflow($3,'hidden');Kepler.Engine.UI.Helper.HtmlCssHelper.setElementTextAlign($3,'center');if(ss.isValue($1)&&$2<$1.length&&!String.isNullOrEmpty($1[$2])){Kepler.Engine.UI.Helper.HtmlCssHelper.addElementAttribute($3,'title',$1[$2]);}var $4=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('img',null,null,null,null,iImgItemWidth,iImgItemHeight,null,null);Kepler.Engine.UI.Helper.HtmlCssHelper.addElementAttribute($4,'src',strImgSrc);Kepler.Engine.UI.Helper.HtmlCssHelper.setElementDisplay($4,'inline-block');Kepler.Engine.UI.Helper.HtmlCssHelper.setElementMargin($4,'3px');Kepler.Engine.UI.Helper.HtmlCssHelper.setElementOverflow($4,'hidden');$3.appendChild($4);var $5=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('center',null,null,null,null,null,null,null,null);var $6=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('span',null,null,null,null,null,null,null,null);Kepler.Engine.UI.Helper.HtmlCssHelper.setElementPadding($6,'2px');Kepler.Engine.UI.Helper.HtmlCssHelper.setElementDisplay($6,'inline-block');Kepler.Engine.UI.Helper.HtmlCssHelper.setElementMargin($6,'1px');if(ss.isValue(strContent)){$6.innerHTML=$0[$2];}$5.appendChild($6);$3.appendChild($5);this.addItemToList($3);this.$60();}this._iNumImages+=iItemCount;},addItemToListFromCssClass:function(lstCssClass,iImgItemWidth,iImgItemHeight,divSize,strContent,iItemCount,strTooltip){var $0=strContent.split('*');this.$58.addRange($0);var $1=null;if(!String.isNullOrEmpty(strTooltip)){$1=strTooltip.split('*');}for(var $2=0;$2<iItemCount;$2++){var $3=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div',new ss.StringBuilder(this.get_id().toString()).append((this._iNumImages+$2).toString()).toString(),null,null,null,divSize.get_width(),divSize.get_height(),null,null);$3.setAttribute('name','IconList_Item');Kepler.Engine.UI.Helper.HtmlCssHelper.setElementClassName($3,this._strNormalCls);Kepler.Engine.UI.Helper.HtmlCssHelper.setElementOverflow($3,'hidden');Kepler.Engine.UI.Helper.HtmlCssHelper.setElementTextAlign($3,'center');if(ss.isValue($1)&&$2<$1.length&&!String.isNullOrEmpty($1[$2])){Kepler.Engine.UI.Helper.HtmlCssHelper.addElementAttribute($3,'title',$1[$2]);}var $4=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div',null,null,null,null,iImgItemWidth,iImgItemHeight,null,null);Kepler.Engine.UI.Helper.HtmlCssHelper.setElementClassName($4,lstCssClass[$2]);Kepler.Engine.UI.Helper.HtmlCssHelper.setElementDisplay($4,'inline-block');Kepler.Engine.UI.Helper.HtmlCssHelper.setElementMargin($4,'1px');Kepler.Engine.UI.Helper.HtmlCssHelper.setElementOverflow($4,'hidden');$3.appendChild($4);var $5=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('center',null,null,null,null,null,null,null,null);var $6=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('span',null,null,null,null,null,null,null,null);Kepler.Engine.UI.Helper.HtmlCssHelper.setElementPadding($6,'2px');Kepler.Engine.UI.Helper.HtmlCssHelper.setElementDisplay($6,'inline-block');Kepler.Engine.UI.Helper.HtmlCssHelper.setElementMargin($6,'1px');if(ss.isValue(strContent)){$6.innerHTML=$0[$2];}$5.appendChild($6);$3.appendChild($5);this.addItemToList($3);this.$60();}this._iNumImages+=iItemCount;},addItemToListFromSprite:function(strImgSpriteSrc,ptImgStartPos,iImgItemWidth,iImgItemHeight,divSize,strContent,iItemCount,bCommonImage){var $0=strContent.split('*');this.$58.addRange($0);for(var $1=0;$1<iItemCount;$1++){var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div',new ss.StringBuilder(this.get_id().toString()).append((this._iNumImages+$1).toString()).toString(),null,null,null,divSize.get_width(),divSize.get_height(),null,null);$2.setAttribute('name','IconList_Item');Kepler.Engine.UI.Helper.HtmlCssHelper.setElementClassName($2,this._strNormalCls);Kepler.Engine.UI.Helper.HtmlCssHelper.setElementOverflow($2,'hidden');Kepler.Engine.UI.Helper.HtmlCssHelper.setElementTextAlign($2,'center');var $3=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div',null,null,null,null,iImgItemWidth,iImgItemHeight,null,null);Kepler.Engine.UI.Helper.HtmlCssHelper.setElementBackground($3,"url('"+strImgSpriteSrc+"') "+'no-repeat');Kepler.Engine.UI.Helper.HtmlCssHelper.setElementBackgroundPosition($3,'-'+ptImgStartPos.get_x()+'px -'+ptImgStartPos.get_y()+'px');Kepler.Engine.UI.Helper.HtmlCssHelper.setElementDisplay($3,'inline-block');Kepler.Engine.UI.Helper.HtmlCssHelper.setElementMargin($3,'1px');Kepler.Engine.UI.Helper.HtmlCssHelper.setElementOverflow($3,'hidden');$2.appendChild($3);if(!bCommonImage){ptImgStartPos.set_x(ptImgStartPos.get_x()+iImgItemWidth);}var $4=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('center',null,null,null,null,null,null,null,null);var $5=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('span',null,null,null,null,null,null,null,null);Kepler.Engine.UI.Helper.HtmlCssHelper.setElementPadding($5,'2px');Kepler.Engine.UI.Helper.HtmlCssHelper.setElementDisplay($5,'inline-block');Kepler.Engine.UI.Helper.HtmlCssHelper.setElementMargin($5,'1px');if(ss.isValue(strContent)){$5.innerHTML=$0[$1];}$4.appendChild($5);$2.appendChild($4);this.addItemToList($2);this.$60();}this._iNumImages=iItemCount;},$5B:function(){var $0=this._iSelectedIndex;if($0<0||$0>=this._iNumImages){$0=this._iFocusIndex;}if($0>=this._iCols){$0-=this._iCols;this.setCheckedState(this.getCellElementFromIndex($0),$0);}},$5C:function(){var $0=this._iSelectedIndex;if($0<0||$0>=this._iNumImages){$0=this._iFocusIndex;}if(($0%this._iCols)+1<this._iCols){$0+=1;if($0>=this._iNumImages){$0-=this._iCols;}if(this.get_multipleSelection()){this._iListSelectedIndex.add($0);}this.setCheckedState(this.getCellElementFromIndex($0),$0);}},$5D:function(){var $0=this._iSelectedIndex;if($0<0||$0>=this._iNumImages){$0=this._iFocusIndex;}$0+=this._iCols;if($0<this._iNumImages){this.setCheckedState(this.getCellElementFromIndex($0),$0);}else if($0--===this._iNumImages){this.setCheckedState(this.getCellElementFromIndex($0),$0);}},$5E:function(){var $0=this._iSelectedIndex;if($0<0||$0>=this._iNumImages){$0=this._iFocusIndex;}if(($0%this._iCols)-1>=0){$0-=1;if(this.get_multipleSelection()){this._iListSelectedIndex.add($0);}this.setCheckedState(this.getCellElementFromIndex($0),$0);}},setCheckedState:function(element,iSelectionIndex){if(ss.isValue(element)&&iSelectionIndex>=0&&iSelectionIndex<this._iNumImages){if(this._iFocusIndex!==iSelectionIndex){var $0=this.getCellElementFromIndex(this._iFocusIndex);Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass($0.firstChild,this.$54);this._iFocusIndex=iSelectionIndex;}}Kepler.Framework.UI.Controls.IconListCtrl.callBaseMethod(this, 'setCheckedState',[element,iSelectionIndex]);},drawItmeOnShiftPress:function(){for(var $0=0;$0<this._iListSelectedIndex.length;$0++){var $1=this.getCellElementFromIndex(this._iListSelectedIndex[$0]);this.drawItem($1,2);}},clearAllDrawing:function(){for(var $0=0;$0<this._iListSelectedIndex.length;$0++){var $1=this.getCellElementFromIndex(this._iListSelectedIndex[$0]);this.drawItem($1,0);}},drawItem:function(element,eState){if(!eState&&ss.isValue(element)&&Kepler.Engine.UI.Controls.Control.get_$8()!==this&&this._iSelectedIndex===this.getIndexFromCellElement(element)&&!String.isNullOrEmpty(this.$55)){Kepler.Engine.UI.Helper.HtmlCssHelper.setElementClassName(element.firstChild,this.$55);}else if(eState===1&&ss.isValue(element)&&this._iFocusIndex!==this._iSelectedIndex&&this._iFocusIndex===this.getIndexFromCellElement(element)&&Kepler.Engine.UI.Controls.Control.get_$8()===this&&!String.isNullOrEmpty(this.$53)){Kepler.Engine.UI.Helper.HtmlCssHelper.setElementClassName(element.firstChild,this.$53);}else{Kepler.Framework.UI.Controls.IconListCtrl.callBaseMethod(this, 'drawItem',[element,eState]);if(ss.isValue(element)&&this.getFocus()===this&&this._iFocusIndex===this.getIndexFromCellElement(element)&&!String.isNullOrEmpty(this.$54)){if(this._iFocusIndex===this._iSelectedIndex){Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(element.firstChild,this.$54);return;}Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(element.firstChild,this.$54);}}},setFocusRectParams:function(){if(this._iNumImages>0){var $0=this.getCellElementFromIndex(this._iFocusIndex);if(ss.isValue($0)&&!String.isNullOrEmpty(this.$54)){Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass($0.firstChild,this.$54);}}},resetSelection:function(){this._iFocusIndex=0;this.setSelectedIndex(-1);this._iListSelectedIndex.clear();},resetControl:function(){this.setSelectedIndex(-1);this._iFocusIndex=0;var $0=this._eleContainerTable.rows.length;for(var $1=$0-1;$1>=0;$1--){this._eleContainerTable.deleteRow($1);}this._iNoOfColsCreated=this._iNoOfRowsCreated=this._iNumImages=0;this.$58.clear();this._iListSelectedIndex.clear();this.$59.clear();this.$60();},removeHoverEffect:function(){if(this._iHoverIndex!==-1){var $0=this.getCellElementFromIndex(this._iHoverIndex);this.drawItem($0,0);this._iHoverIndex=-1;}},$5F:function($p0){var $0=[];var $enum1=ss.IEnumerator.getEnumerator($p0);while($enum1.moveNext()){var $1=$enum1.current;$0.add($1.replaceAll('<br>',''));}return $0;},getItemText:function(iIndex){if(iIndex>=0&&iIndex<this.$58.length){return this.$58[iIndex].replaceAll('<br>','');}return '';},removeSelection:function(){if(this._iSelectedIndex!==-1){var $0=this.getCellElementFromIndex(this._iSelectedIndex);this._iSelectedIndex=-1;this.drawItem($0,0);}},drawVisualHint:function(oHintData){var $0=oHintData.iIndex;if($0!==-1&&$0<this._iNumImages){this.$56=$0;var $1=this.getCellElementFromIndex($0);if(!this._bUsedAsDropDown&&ss.isValue($1)){var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementsByName($1,'IconList_Item')[0];if(ss.isValue($2)){$2.style['outline']='2px solid red';}}}},eraseVisualHint:function(){if(this.$56!==-1&&this.$56<this._iNumImages){var $0=this.getCellElementFromIndex(this.$56);if(!this._bUsedAsDropDown&&ss.isValue($0)){var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementsByName($0,'IconList_Item')[0];if(ss.isValue($1)){$1.style['outline']='';}}}},$60:function(){if(!this._iNumImages&&!this.get_element().contains(this.$57)){this._eleContainerTable.parentNode.appendChild(this.$57);}else if(this.get_element().contains(this.$57)){this._eleContainerTable.parentNode.removeChild(this.$57);}},getIndexElement:function(iIndex){var $0=this.getCellElementFromIndex(iIndex);if(!this._bUsedAsDropDown&&ss.isValue($0)){return Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementsByName($0,'IconList_Item')[0];}return $0;},isIndexInRange:function(iIndex){return (iIndex>=0&&iIndex<this._iNumImages);},onKeyDown:function(keyboardEventArgs){var $0=this.get_stopEventProcessing();if($0){return;}keyboardEventArgs.set_defaultPrevented(true);switch(keyboardEventArgs.get_key()){case 38:if(this._iNumImages===1){this.setCheckedState(this.getCellElementFromIndex(0),0);}else{this.$5B();}break;case 39:if(this._iNumImages===1){this.setCheckedState(this.getCellElementFromIndex(0),0);}else{this.$5C();}break;case 40:if(this._iNumImages===1){this.setCheckedState(this.getCellElementFromIndex(0),0);}else{this.$5D();}break;case 37:if(this._iNumImages===1){this.setCheckedState(this.getCellElementFromIndex(0),0);}else{this.$5E();}break;case 34:var $1=this._iNumImages-1;this.setCheckedState(this.getCellElementFromIndex($1),$1);break;case 33:var $2=0;this.setCheckedState(this.getCellElementFromIndex($2),$2);break;case 32:if(this.isIndexInRange(this._iFocusIndex)&&!this.get_multipleSelection()){if(this._iFocusIndex===this._iSelectedIndex&&keyboardEventArgs.get_ctrlKey()){this.setSelectedIndex(-1);}else{this.setSelectedIndex(this._iFocusIndex);}}break;case 17:this.set_ctrlPressed(true);break;case 16:this.set_shiftPressed(true);break;default:Kepler.Framework.UI.Controls.IconListCtrl.callBaseMethod(this, 'onKeyDown',[keyboardEventArgs]);break;}},onKeyUp:function(evt){switch(evt.get_key()){case 17:this.set_ctrlPressed(false);break;case 16:this.set_shiftPressed(false);break;default:break;}Kepler.Framework.UI.Controls.IconListCtrl.callBaseMethod(this, 'onKeyUp',[evt]);},onLButtonDown:function(mouseEventArgs){if(this.get_focusable()&&this.get_visible()&&this.get_enable()&&Kepler.Engine.UI.Controls.Control.get_$8()!==this){this.setFocus();}var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getParentElementByName(mouseEventArgs.get_target(),'IconList_Item');if(ss.isValue($0)){$0=$0.parentNode;if(ss.isValue($0)){var $1=this.getIndexFromCellElement($0);if($1!==-1){this.setCapture();}if(this.get_multipleSelection()){if(this.get_shiftPressed()){this._iSelectedIndex=$1;this.clearAllDrawing();if(!ss.isValue(this._iListSelectedIndex[0])){this._iListSelectedIndex.add($1);}var $2=this._iListSelectedIndex[0];this._iListSelectedIndex.clear();if($2>$1){for(var $3=$2;$3>=$1;$3--){this._iListSelectedIndex.add($3);}}else{for(var $4=$2;$4<=$1;$4++){this._iListSelectedIndex.add($4);}}this.drawItmeOnShiftPress();}else{this._iListSelectedIndex.add($1);}}else{this._iListSelectedIndex.clear();this._iListSelectedIndex.add($1);}this.drawItem($0,2);this.setCheckedState($0,$1);}}else{this.setCheckedState(null,-1);}},onLButtonUp:function(mouseEventArgs){this.releaseCapture();},onRButtonDown:function(mouseEventArgs){Kepler.Framework.UI.Controls.IconListCtrl.callBaseMethod(this, 'onRButtonDown',[mouseEventArgs]);if(this.get_focusable()&&this.get_visible()&&this.get_enable()&&Kepler.Engine.UI.Controls.Control.get_$8()!==this){this.setFocus();}var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getParentElementByName(mouseEventArgs.get_target(),'IconList_Item');if(ss.isValue($0)){$0=$0.parentNode;if(ss.isValue($0)){var $1=this.getIndexFromCellElement($0);if($1!==-1){this.setCapture();}if($1!==this._iSelectedIndex){var $2=this._iFocusIndex;this._iSelectedIndex=this._iFocusIndex=$1;if($2>=0&&$2<this._iNumImages){this.drawItem(this.getCellElementFromIndex($2),0);}if($1>=0&&$1<this._iNumImages){var $3=this.getCellElementFromIndex(this._iFocusIndex);Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass($3.firstChild,this.$54);this._iFocusIndex=$1;}this.drawItem($0,2);}this.setCheckedState($0,$1);}}else{this.setCheckedState(null,-1);}if(this._iNumImages>0){this.sendMessageToParent('msg_r_button_down',this._iFocusIndex,this);}},onRButtonUp:function(evt){Kepler.Framework.UI.Controls.IconListCtrl.callBaseMethod(this, 'onRButtonUp',[evt]);if(this.getCapture()===this){this.releaseCapture();}},onMouseMove:function(mouseEventArgs){if(ss.isNullOrUndefined(this.getCapture())){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getParentElementByName(mouseEventArgs.get_target(),'IconList_Item');if(ss.isValue($0)){Kepler.Framework.UI.Controls.IconListCtrl.callBaseMethod(this, 'onMouseMove',[mouseEventArgs]);}else{this.removeHoverEffect();}}},onMouseOut:function(evt){this.removeHoverEffect();},onFocus:function(oFocusedPrevControl){Kepler.Framework.UI.Controls.IconListCtrl.callBaseMethod(this, 'onFocus',[oFocusedPrevControl]);if(this.isIndexInRange(this._iSelectedIndex)){var $0=this.getCellElementFromIndex(this._iSelectedIndex);if(ss.isValue($0)){this.drawItem($0,2);}}else if(this._iNumImages>0){var $1=this.getCellElementFromIndex(this._iFocusIndex);if(ss.isValue($1)&&!String.isNullOrEmpty(this.$54)){Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass($1.firstChild,this.$54);}}},onLostFocus:function(oFocusedNewControl){Kepler.Framework.UI.Controls.IconListCtrl.callBaseMethod(this, 'onLostFocus',[oFocusedNewControl]);if(this.isIndexInRange(this._iSelectedIndex)){var $0=this.getCellElementFromIndex(this._iSelectedIndex);if(ss.isValue($0)){Kepler.Engine.UI.Helper.HtmlCssHelper.setElementClassName($0.firstChild,this.$55);}}else if(this._iNumImages>0){var $1=this.getCellElementFromIndex(this._iFocusIndex);if(ss.isValue($1)&&!String.isNullOrEmpty(this.$54)){Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass($1.firstChild,this.$54);}}},onMouseDblClick:function(evt){if(Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){this.onLButtonDown(evt);this.onLButtonUp(evt);}if(this._iSelectedIndex>=0){var $0=new Kepler.Framework.UI.Controls.OnCommandStruct(this._iSelectedIndex,8);var $1=this.sendMessageToParent('msg_command',$0,this);if(!$1){this.sendMessageToParent('ButtonDoubleClicked',this._iSelectedIndex,this);}}}}
Kepler.Framework.UI.Controls.RadioButtonGroupCtrl=function(strId){this._iSelectedIdx=-1;Kepler.Framework.UI.Controls.RadioButtonGroupCtrl.initializeBase(this,['div',null,strId,null]);Kepler.Engine.UI.Helper.HtmlCssHelper.addElementAttribute(this.get_element(),'name',(Kepler.Framework.UI.Controls.RadioButtonGroupCtrl).get_name());this.set_focusChildCtrlsOnTab(false);this.$43();this.$41=[];this.set_alwaysSpeechOnSetFocus(true);}
Kepler.Framework.UI.Controls.RadioButtonGroupCtrl.prototype={get_selectionIndex:function(){return this._iSelectedIdx;},set_selectionIndex:function(value){this.$42(value);return value;},get_focusable:function(){if(Kepler.Framework.UI.Controls.RadioButtonGroupCtrl.callBaseMethod(this, 'get_focusable')){var $0=this.get_controls().length;for(var $1=0;$1<$0;$1++){if(this.get_controls()[$1].get_enable()){return true;}}}return false;},set_focusable:function(value){Kepler.Framework.UI.Controls.RadioButtonGroupCtrl.callBaseMethod(this, 'set_focusable',[value]);return value;},$41:null,get_ariaRole:function(){return 'radiogroup';},set_ariaRole:function(value){Kepler.Framework.UI.Controls.RadioButtonGroupCtrl.callBaseMethod(this, 'set_ariaRole',[value]);return value;},get_ariaSpeech:function(){return '';},set_ariaSpeech:function(value){Kepler.Framework.UI.Controls.RadioButtonGroupCtrl.callBaseMethod(this, 'set_ariaSpeech',[value]);return value;},$42:function($p0){if(this._iSelectedIdx!==$p0&&$p0<this.get_controls().length){if($p0===-1){(this.get_controls()[this._iSelectedIdx]).set_state(false);}else if($p0>=0){(this.get_controls()[$p0]).set_state(true);}if(this._iSelectedIdx>=0){(this.get_controls()[this._iSelectedIdx]).set_state(false);}this._iSelectedIdx=$p0;if($p0!==-1&&$p0<this.get_controls().length){var $0=new Kepler.Framework.UI.Controls.OnCommandStruct(null,0);var $1=this.sendMessageToParent('msg_command',$0,this.get_controls()[$p0]);if(!$1){this.sendMessageToParent('ButtonClicked',null,this.get_controls()[$p0]);}}}},$43:function(){this.attachMessage('ButtonClicked',ss.Delegate.create(this,this.$44));},addItemList:function(lstRadioButton){this.$41=lstRadioButton;},onLoad:function(){Kepler.Framework.UI.Controls.RadioButtonGroupCtrl.callBaseMethod(this, 'onLoad');var $0=this.$41.length;for(var $1=0;$1<$0;$1++){Kepler.Framework.UI.Controls.RadioButtonGroupCtrl.callBaseMethod(this, 'add',[this.$41[$1]]);}},add:function(control){if(this.get_loaded()){return Kepler.Framework.UI.Controls.RadioButtonGroupCtrl.callBaseMethod(this, 'add',[control]);}else{this.$41.add(control);}return true;},onFocus:function(oFocusedPrevControl){Kepler.Framework.UI.Controls.RadioButtonGroupCtrl.callBaseMethod(this, 'onFocus',[oFocusedPrevControl]);this.get_controls()[this._iSelectedIdx].setFocus();},setFocus:function(){return this.get_controls()[this._iSelectedIdx].setFocus();},getFocusRect:function(){return null;},onKeyDown:function(keyboardEventArgs){Kepler.Framework.UI.Controls.RadioButtonGroupCtrl.callBaseMethod(this, 'onKeyDown',[keyboardEventArgs]);if(keyboardEventArgs.get_altKey()){return;}switch(keyboardEventArgs.get_key()){case 37:case 38:var $0=this._iSelectedIdx;$0--;while($0>0&&!this.get_controls()[$0].get_enable()){$0--;}if($0>=0){this.set_selectionIndex($0);}else{$0=this.get_controls().length-1;while(!this.get_controls()[$0].get_enable()){$0--;}this.set_selectionIndex($0);}this.get_controls()[this._iSelectedIdx].setFocus();break;case 39:case 40:var $1=this._iSelectedIdx;$1++;while($1<this.get_controls().length&&!this.get_controls()[$1].get_enable()){if($1<this.get_controls().length-1){$1++;}else{$1=0;while(!this.get_controls()[$1].get_enable()){$1++;}}}if($1<this.get_controls().length){this.set_selectionIndex($1);}else{$1=0;while(!this.get_controls()[$1].get_enable()){$1++;}this.set_selectionIndex($1);}this.get_controls()[this._iSelectedIdx].setFocus();break;}},onMouseDblClick:function(evt){Kepler.Framework.UI.Controls.RadioButtonGroupCtrl.callBaseMethod(this, 'onMouseDblClick',[evt]);if(this.get_parent()!=null){var $0=new Kepler.Framework.UI.Controls.OnCommandStruct(null,8);var $1=this.sendMessageToParent('msg_command',$0,this.get_controls()[this.get_selectionIndex()]);if(!$1){this.sendMessageToParent('ButtonDoubleClicked',null,this.get_controls()[this.get_selectionIndex()]);}}},$44:function($p0,$p1){var $0=$p1;var $1=this.get_controls().length;for(var $2=0;$2<$1;$2++){if(this.get_controls()[$2]===$0){this.set_selectionIndex($2);break;}}return null;}}
Type.registerNamespace('Kepler.Framework.UI.Controls.Canvas');Kepler.Framework.UI.Controls.Canvas.CanvasControl=function(){Kepler.Framework.UI.Controls.Canvas.CanvasControl.initializeBase(this,['canvas']);}
Type.registerNamespace('Kepler.Framework.UI.Controls.Debugger');Kepler.Framework.UI.Controls.Debugger.DebugMsgType=function(){};Kepler.Framework.UI.Controls.Debugger.DebugMsgType.prototype = {debugWndMsgTextInfo:'debugWndMsgTextInfo',debugWndMsgTextException:'debugWndMsgTextException',debugWndMsgTextError:'debugWndMsgTextError'}
Kepler.Framework.UI.Controls.Debugger.DebugMsgType.registerEnum('Kepler.Framework.UI.Controls.Debugger.DebugMsgType',false);Kepler.Framework.UI.Controls.Debugger.DebugConsole=function(){Kepler.Framework.UI.Controls.Debugger.DebugConsole.initializeBase(this,['div','debugWnd','debugWnd']);this.$49=null;this.$4A=null;this.$58=null;this.set_position(new Kepler.Framework.UI.Point(0,0));this.set_size(new Kepler.Framework.UI.Size(400,200));this.$52=true;this.$55=new Array(2);this.$55['debugWndMsgTextInfo']=0;this.$55['debugWndMsgTextException']=0;this.$55['debugWndMsgTextError']=0;this.$56=new Kepler.Framework.Core.Timers.Timer(ss.Delegate.create(this,this.onTmrMove),25);this.$57=new Kepler.Framework.Core.Timers.Timer(ss.Delegate.create(this,this.onTmrResize),25);this.$59=false;this.$4F=new Kepler.Engine.UI.Controls.VScrollBar(new Kepler.Framework.UI.Point(0,0),new Kepler.Framework.UI.Size(17,200));this.$4F.set_mfcBehaviour(false);this.set_donotHandleFocusOnLButtonDown(true);var $0=window.location;Kepler.Framework.UI.Controls.Debugger.DebugConsole.$5C=$0.protocol+'//'+$0.hostname+$0.pathname;var $1=Kepler.Framework.UI.Controls.Debugger.DebugConsole.$5C.lastIndexOf('/');Kepler.Framework.UI.Controls.Debugger.DebugConsole.$5C=Kepler.Framework.UI.Controls.Debugger.DebugConsole.$5C.substr(0,$1);this.$5D=new Kepler.Framework.UI.Size(0,0);this.$5E=new Kepler.Framework.UI.Size(100,100);}
Kepler.Framework.UI.Controls.Debugger.DebugConsole.writeLine=function(strMsg,bTime,msgType){if(ss.isNullOrUndefined(bTime)){bTime=false;}if(Kepler.Framework.UI.Controls.Debugger.DebugConsole.$5B==null){Kepler.Framework.UI.Controls.Debugger.DebugConsole.$5B=new Kepler.Framework.UI.Controls.Debugger.DebugConsole();}if(bTime){var $0=Date.get_now();var $1=$0.format('HH:mm:ss.')+$0.getMilliseconds().toString().padLeft(3,'0');strMsg='['+$1+'] '+strMsg;}}
Kepler.Framework.UI.Controls.Debugger.DebugConsole.writeException=function(strMsg,bTime){}
Kepler.Framework.UI.Controls.Debugger.DebugConsole.writeExceptionObject=function(strMsg,ex,bTime){var $0=strMsg;$0+='<br>';if(ss.isValue(ex.message)&&(!String.isNullOrEmpty(ex.message))){$0+='['+ex.message.trim()+']';$0+='<br>';}$0+=Kepler.Framework.UI.Controls.Debugger.DebugConsole.callTrace(ex);}
Kepler.Framework.UI.Controls.Debugger.DebugConsole.writeError=function(strMsg,bTime){}
Kepler.Framework.UI.Controls.Debugger.DebugConsole.assert=function(bExpression,strMsg){if(!bExpression){if(ss.isNullOrUndefined(strMsg)||String.isNullOrEmpty(strMsg)){alert('Assert Failed: Expr<'+bExpression+'>');}else{alert('Assert Failed: '+strMsg);}debugger;throw new Error('Assert Exception : '+'Failed !');}}
Kepler.Framework.UI.Controls.Debugger.DebugConsole.callTrace=function(ex){var $0=null;var $1=false;if(ss.isValue(ex)){$0=Kepler.Framework.UI.Controls.Debugger.DebugConsole.$5F(ex);$1=ss.isValue($0);}else{try{var $2=null;$2.remove(0,1000);}catch($3){$0=Kepler.Framework.UI.Controls.Debugger.DebugConsole.$5F($3);$1=ss.isValue($0);}}if(!$1){$0=[];var $4=null;$4=arguments.callee.caller;while(ss.isValue($4)){var $5=$4.toString();var $6=$5.substring($5.indexOf('function')+8,$5.indexOf('('));if(String.isNullOrEmpty($6)){$6='anonymous';}$0.add($6);$4=$4.caller;}}if(ss.isValue($0)){for(var $7=0;$7<$0.length;$7++){var $8=$0[$7].trimStart();$8=$8.replaceAll(Kepler.Framework.UI.Controls.Debugger.DebugConsole.$5C,'');$0[$7]='&gt;&gt;'+$8;}return $0.join('<br>');}else{return '(Unable to obtain CallTrace)';}}
Kepler.Framework.UI.Controls.Debugger.DebugConsole.$5F=function($p0){if(('stack' in $p0)){var $0=[];var $1=$p0.stack;var $2=$1.split('\n');for(var $3=0,$4=$2.length;$3<$4;$3++){$0.add($2[$3]);}$0.removeAt(0);return $0;}else if(('opera' in window.self)&&(!String.isNullOrEmpty($p0.message))){var $5=[];var $6=$p0.message.split('\n');for(var $7=0,$8=$6.length;$7<$8;$7++){var $9=$6[$7].match(new RegExp('^\\s*[A-Za-z0-9\\-_\\$]+\\('));if(ss.isValue($9)){var $A=$6[$7];if(!String.isNullOrEmpty($6[$7+1])){$A+=' at '+$6[$7+1];$7++;}$5.add($A);}}$5.removeAt(0);return $5;}return null;}
Kepler.Framework.UI.Controls.Debugger.DebugConsole.getDebugConsoleControl=function(){if(Kepler.Framework.UI.Controls.Debugger.DebugConsole.$5B==null){Kepler.Framework.UI.Controls.Debugger.DebugConsole.$5B=new Kepler.Framework.UI.Controls.Debugger.DebugConsole();}return Kepler.Framework.UI.Controls.Debugger.DebugConsole.$5B;}
Kepler.Framework.UI.Controls.Debugger.DebugConsole.clear=function(){if(Kepler.Framework.UI.Controls.Debugger.DebugConsole.$5B!=null){Kepler.Framework.UI.Controls.Debugger.DebugConsole.$5B.$68();}}
Kepler.Framework.UI.Controls.Debugger.DebugConsole.writeLineInBrowserConsole=function(strMessage){console.log(strMessage);}
Kepler.Framework.UI.Controls.Debugger.DebugConsole.prototype={$45:null,$46:null,$47:null,$48:null,$49:null,$4A:null,$4B:null,$4C:null,$4D:null,$4E:null,$4F:null,$50:null,$51:null,$52:false,get_collapse:function(){return this.$52;},set_collapse:function(value){if(!!value){this.$65();}else if(!value){this.$64();}return value;},get_expand:function(){return !this.$52;},set_expand:function(value){if(!!value){this.$64();}else if(!value){this.$65();}return value;},$53:null,$54:null,$55:null,$56:null,$57:null,$58:null,$59:false,$5A:false,$5D:null,$5E:null,_WriteLine:function(strMsg,msgType){if(ss.isNullOrUndefined(msgType)){msgType='debugWndMsgTextInfo';}var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('span',null,null,null,null,null,null,msgType,null);$0.innerHTML=strMsg+'<br>';var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div',null,null,null,null,null,null,'debugWndMsgTextSeparator',null);this.$55[msgType]+=1;if(this.$49==null){if(this.$58==null){this.$58=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('span',null,null,null,null,null,null,null,null);}this.$58.appendChild($0);this.$58.appendChild($1);}else{this.$49.append($($0));this.$49.append($($1));this.$69();this.$67();this.$63('Debug Window');}},onLoad:function(){Kepler.Framework.UI.Controls.Debugger.DebugConsole.callBaseMethod(this, 'onLoad');this.$51=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div','debugWndCollapseExpand',null,null,null,null,null,'debugWndCollapseExpand',null);this.$53=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div','debugWndClearLog',null,null,null,null,null,'debugWndClearLog',null);this.$50=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div','debugWndTitleBar',null,null,null,null,null,'debugWndTitleBar',null);this.$63('Debug Window');this.$4C=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div','debugWndMsgAreaPanel',null,null,null,null,null,'debugWndMsgAreaPanel',null);this.$4D=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div','debugWndMsgAreaCont',null,null,null,null,null,'debugWndMsgAreaCont',null);Kepler.Engine.UI.Helper.HtmlCssHelper.addChild(this.$4C,this.$4D,null);this.$4E=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div','debugWndMsgArea',null,null,null,null,null,'debugWndMsgArea',null);Kepler.Engine.UI.Helper.HtmlCssHelper.addChild(this.$4D,this.$4E,null);Kepler.Engine.UI.Helper.HtmlCssHelper.addChild(this.get_element(),this.$51,null);Kepler.Engine.UI.Helper.HtmlCssHelper.addChild(this.get_element(),this.$53,null);Kepler.Engine.UI.Helper.HtmlCssHelper.addChild(this.get_element(),this.$50,null);Kepler.Engine.UI.Helper.HtmlCssHelper.addChild(this.get_element(),this.$4C,null);this.add(this.$4F,this.$4C);this.$54=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div','debugWndResize',null,0,0,17-4,20-4,'debugWndResize',null);Kepler.Engine.UI.Helper.HtmlCssHelper.addChild(this.$4C,this.$54,null);this.$4A=$(this.$50);this.$49=$(this.$4E);this.$4B=$(this.$4D);if(this.$58!=null){this.$49.append($(this.$58));}if(this.$52){this.$65();}this.$61();this.$62();this.$5D=this.get_parent().get_size();this.$60();},onSize:function(){Kepler.Framework.UI.Controls.Debugger.DebugConsole.callBaseMethod(this, 'onSize');this.$60();},$60:function(){if(this.get_loaded()){if(this.$52){Kepler.Engine.UI.Helper.HtmlCssHelper.setElementHeight(this.get_element(),(20+4)+'px');}var $0=this.get_height()-(20+4);var $1=$0;Kepler.Engine.UI.Helper.HtmlCssHelper.setElementHeight(this.$4C,$0.toString());Kepler.Engine.UI.Helper.HtmlCssHelper.setElementWidth(this.$4C,this.get_width().toString());Kepler.Engine.UI.Helper.HtmlCssHelper.setElementHeight(this.$4D,$1.toString());Kepler.Engine.UI.Helper.HtmlCssHelper.setElementWidth(this.$4D,(this.get_width()-this.$4F.get_width()).toString());this.$4F.set_left(this.get_width()-this.$4F.get_width());Kepler.Engine.UI.Helper.HtmlCssHelper.setElementTop(this.$4F.get_element(),'0');this.$4F.set_height($0-20);Kepler.Engine.UI.Helper.HtmlCssHelper.setElementLeft(this.$54,(this.get_width()-17)+'px');Kepler.Engine.UI.Helper.HtmlCssHelper.setElementTop(this.$54,($0-20)+'px');this.$69();}},onParentResized:function(szParent){Kepler.Framework.UI.Controls.Debugger.DebugConsole.callBaseMethod(this, 'onParentResized',[szParent]);this.$5D.set_width(szParent.get_width());this.$5D.set_height(szParent.get_height());this.$6A(this.get_position().get_x(),this.get_position().get_y());},$61:function(){this.addEvents(2);this.addEvents(4);this.addEvents(8);this.addEvents(256);this.addEvents(512);this.addEvents(1024);},$62:function(){this.attachMessage('ScrollPosChanged',ss.Delegate.create(this,this.$6B));this.attachMessage('ScrollPosChanging',ss.Delegate.create(this,this.$6C));},$63:function($p0){var $0='';if(this.$55['debugWndMsgTextInfo']>0){$0+='Info:'+this.$55['debugWndMsgTextInfo'];}if(this.$55['debugWndMsgTextException']>0){$0+=' Ex:'+this.$55['debugWndMsgTextException'];}if(this.$55['debugWndMsgTextError']>0){$0+=' Err:'+this.$55['debugWndMsgTextError'];}$0=$0.trim();if(!String.isNullOrEmpty($0)){$0=$p0+' ['+$0+']';}else{$0=$p0;}this.$50.innerText=$0;},$64:function(){this.$52=false;if(this.get_loaded()){this.$4C.style.display='';Kepler.Engine.UI.Helper.HtmlCssHelper.setElementHeight(this.get_element(),this.get_height().toString());this.$69();this.$67();}},$65:function(){this.$52=true;if(this.get_loaded()){Kepler.Engine.UI.Helper.HtmlCssHelper.setElementHeight(this.get_element(),(20+4)+'px');this.$4C.style.display='none';}},$66:function(){if(this.$52){this.$64();}else{this.$65();}},$67:function(){this.$4F.performScrollTo(this.$4F.get_maxPos());},$68:function(){this.$4E.innerHTML='';this.$69();this.$55['debugWndMsgTextInfo']=0;this.$55['debugWndMsgTextException']=0;this.$55['debugWndMsgTextError']=0;this.$63('Debug Window');},$69:function(){var $0=this.$4B.innerHeight();var $1=this.$49.outerHeight();if(!!this.$4C.style.display.compareTo('none',true)){var $2=new Kepler.Engine.UI.Controls.ScrollBarParams();if($1-this.get_height()>0){$2.setBounds(0,$1-$0);$2.setSteps(1,$0);this.$4F.updateScrollbarParams($2);if(!this.$4F.get_enable()){this.$4F.set_enable(true);}}else{if(this.$4F.get_enable()){this.$4F.set_enable(false);}}}},onLButtonDown:function(mouseEventArgs){Kepler.Framework.UI.Controls.Debugger.DebugConsole.callBaseMethod(this, 'onLButtonDown',[mouseEventArgs]);if(mouseEventArgs.get_target().id==='debugWndCollapseExpand'){this.$66();}if(mouseEventArgs.get_target().id==='debugWndClearLog'){this.$68();}else if(mouseEventArgs.get_target().id==='debugWndTitleBar'||mouseEventArgs.get_target().parentNode.id==='debugWndTitleBar'){this.$47=Kepler.Engine.UI.Controls.Control.getClientPointFromEventArgs(mouseEventArgs);this.$45=this.get_position();this.setCapture();this.$59=true;}else if(mouseEventArgs.get_target().id==='debugWndResize'||mouseEventArgs.get_target().parentNode.id==='debugResize'){this.$47=Kepler.Engine.UI.Controls.Control.getClientPointFromEventArgs(mouseEventArgs);this.$46=this.get_size();this.setCapture();this.$5A=true;}else{this.$59=false;this.$5A=false;}},onMouseMove:function(mouseEventArgs){if(this.getCapture()===this||this.$59||this.$5A){this.$48=Kepler.Engine.UI.Controls.Control.getClientPointFromEventArgs(mouseEventArgs);if(this.$59&&!this.$56.get_isRunning()){this.$56.start();}else if(this.$5A&&!this.$57.get_isRunning()){this.$57.start();}}Kepler.Framework.UI.Controls.Debugger.DebugConsole.callBaseMethod(this, 'onMouseMove',[mouseEventArgs]);},onLButtonUp:function(mouseEventArgs){Kepler.Framework.UI.Controls.Debugger.DebugConsole.callBaseMethod(this, 'onLButtonUp',[mouseEventArgs]);this.$59=false;this.$5A=false;if(this.getCapture()===this){this.releaseCapture();}},onTmrMove:function(){this.$56.stop();var $0=this.$45.get_x()+this.$48.get_x()-this.$47.get_x();var $1=this.$45.get_y()+this.$48.get_y()-this.$47.get_y();this.$6A($0,$1);},$6A:function($p0,$p1){$p0=($p0<0)?0:(($p0+this.get_width()>this.$5D.get_width())?this.$5D.get_width()-this.get_width():$p0);$p1=($p1<0)?0:(($p1+20>this.$5D.get_height())?this.$5D.get_height()-20:$p1);this.set_position(new Kepler.Framework.UI.Point($p0,$p1));},onTmrResize:function(){this.$57.stop();var $0=this.$46.get_width()+this.$48.get_x()-this.$47.get_x();var $1=this.$46.get_height()+this.$48.get_y()-this.$47.get_y();this.set_size(new Kepler.Framework.UI.Size(($0>this.$5E.get_width())?$0:this.$5E.get_width(),($1>this.$5E.get_height())?$1:this.$5E.get_height()));},$6B:function($p0,$p1){var $0=($p1);if($0===this.$4F){this.$4D.scrollTop=this.$4F.get_curPos();}return null;},$6C:function($p0,$p1){var $0=($p1);if($0===this.$4F){this.$4D.scrollTop=this.$4F.get_curPos();}return null;}}
Type.registerNamespace('Kepler.Framework.UI.Controls.ListBox');Kepler.Framework.UI.Controls.ListBox.BaseCustomList=function(ptPosition,oCtrlSize,iCommonItemHeight,oCommonCtrlSize,strId){Kepler.Framework.UI.Controls.ListBox.BaseCustomList.initializeBase(this,['div','position_absolute content_align_center_custom CustomListCtrl_div',strId,null]);Kepler.Engine.UI.Helper.HtmlCssHelper.addElementAttribute(this.get_element(),'name',(Kepler.Framework.UI.Controls.ListBox.BaseCustomList).get_name());if(ss.isValue(ptPosition)){this.set_position(ptPosition);}this._iCommonItemHeight=(ss.isNullOrUndefined(iCommonItemHeight)||iCommonItemHeight===-1)?56:iCommonItemHeight;this.$48=oCommonCtrlSize;if(ss.isNullOrUndefined(oCtrlSize)){return;}this._iSelectedIdx=-1;var $0=document.createElement('Div');this.get_element().appendChild($0);this.$49=0;this._sbVertical=new Kepler.Engine.UI.Controls.VScrollBar(new Kepler.Framework.UI.Point(-17+3,1),new Kepler.Framework.UI.Size(17,this.get_height()-2));this._sbVertical.set_mfcBehaviour(false);this._elemTable=document.createElement('table');this._elemTable.className='custom_table_style ';this._elemTable.style.width=(oCtrlSize.get_width()-17-1)+'px';$0.appendChild(this._elemTable);this._lstItemControl=[];this.set_size(oCtrlSize);this.$44=parseInt(this._elemTable.style.width)-this.$48.get_width();if(ss.isValue(strId)){this.$43=strId;}this.$47=false;this.set_focusChildCtrlsOnTab(false);this.$4A=[];this.$45=0;this._iVisualHintIndex=-1;}
Kepler.Framework.UI.Controls.ListBox.BaseCustomList.prototype={$43:null,$44:0,_iSelectedIdx:0,get_selectedIdx:function(){return this._iSelectedIdx;},set_selectedIdx:function(value){this._iSelectedIdx=value;return value;},$45:0,get_topIndex:function(){return this.$45;},set_topIndex:function(value){this.$45=value;return value;},$46:'',get_rowClassName:function(){return this.$46;},set_rowClassName:function(value){this.$46=value;return value;},$47:false,get_checkBoxChecked:function(){return this.$47;},_iCommonItemHeight:0,$48:null,_elemTable:null,_lstItemControl:null,get_listControls:function(){return this._lstItemControl;},get_count:function(){return this._lstItemControl.length;},_sbVertical:null,$49:0,get_scrollbarMode:function(){return this.$49;},set_scrollbarMode:function(value){this.$49=value;return value;},$4A:null,get_listOfChkBoxLabel:function(){return this.$4A;},_iVisualHintIndex:0,$4B:function(){this.attachMessage('ScrollPosChanged',ss.Delegate.create(this,this.onMsgScrollPosChanged));this.attachMessage('ScrollPosChanging',ss.Delegate.create(this,this.$4D));this.attachMessage('ButtonClicked',ss.Delegate.create(this,this.onMsgCheckBoxClicked));},$4C:function(){this.addEvents(2|256|8|4|32|4096|16384|1024|128);},addControls:function(oControl,strClassName){var $0=this._elemTable;var $1=0;var $2=$0.rows.length;var $3=$2;var $4=$0.insertRow($3);$4.id='CustomListCtrl_Row';$4.style.height=this._iCommonItemHeight+'px';if(!ss.isNullOrUndefined(strClassName)){this.$46=strClassName;$4.className=this.$46;}var $5=$4.insertCell($4.cells.length);$5.style.paddingTop='1px';$5.style.paddingLeft='2px';this.add(oControl,$5);this._lstItemControl.add(oControl);oControl.get_element().style.position='relative';$1++;var $6=this.get_height();var $7=this.get_count()*this._iCommonItemHeight;this.updateScrollBar($6,$7);},addControlsInSameRow:function(oControl,strLabel){this.$4A.add(strLabel);var $0=this._elemTable;var $1=0;var $2=$0.rows.length;var $3=$2;var $4=$0.insertRow($3);$4.id='CustomListCtrl_Row';$4.style.height=this._iCommonItemHeight+'px';var $5=$4.insertCell($4.cells.length);this.add(oControl,$5);this._lstItemControl.add(oControl);var $6=$4.insertCell($4.cells.length);$6.innerHTML=strLabel;$6.style.width=this.$44-3+'px';$6.style.textAlign='left';$6.style.paddingLeft='2px';$1++;var $7=this.get_height();var $8=this.get_count()*this._iCommonItemHeight;this.updateScrollBar($7,$8);oControl.get_element().style.position='relative';},updateScrollBar:function(iVisibleHeight,iScrollableHeight){var $0=0;var $1=(iScrollableHeight-iVisibleHeight)/this._iCommonItemHeight;var $2=true;if($1<=$0){$1=$0;$2=false;}else{$2=true;}if(this.get_scrollbarMode()===2){this._sbVertical.show(false);}else if(!this.get_scrollbarMode()){this._sbVertical.show($2);}else if(this.get_scrollbarMode()===1){this._sbVertical.show(true);this._sbVertical.set_enable($2);}this._sbVertical.setBounds($0,$1);this._sbVertical.set_pageStep(iVisibleHeight/this._iCommonItemHeight);this._sbVertical.set_singleStep(1);this._sbVertical.set_curPos(0);},resetList:function(){this._lstItemControl.clear();this.$4A.clear();var $0=this._elemTable.rows.length;for(var $1=0;$1<$0;$1++){this._elemTable.deleteRow(0);}this.updateScrollBar(this.get_height(),this.get_height());},onLoad:function(){Kepler.Framework.UI.Controls.ListBox.BaseCustomList.callBaseMethod(this, 'onLoad');this.add(this._sbVertical);this.$4C();this.$4B();this.onSize();},onSize:function(){Kepler.Framework.UI.Controls.ListBox.BaseCustomList.callBaseMethod(this, 'onSize');var $0=this.get_width()-17-1;this._elemTable.parentNode.style.pixelWidth=this.get_width()-1;this._elemTable.style.pixelWidth=$0;this._sbVertical.set_left(this.get_width()-17-1);this._sbVertical.set_height(this.get_height()-2);var $1=this.get_height();var $2=this.get_count()*this._iCommonItemHeight;this.updateScrollBar($1,$2);},onLButtonDown:function(mouseEventArgs){Kepler.Framework.UI.Controls.ListBox.BaseCustomList.callBaseMethod(this, 'onLButtonDown',[mouseEventArgs]);this.setCapture();var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getParentElementById(mouseEventArgs.get_target(),'CustomListCtrl_Row');var $1=this.getRowIndex($0);if($1!==-1){this.onEventSetSelection($1);this._lstItemControl[$1].setFocus();this.setFocusRectParams();for(var $2=0;$2<this._lstItemControl.length;$2++){var $3=this._elemTable.rows[$2];var $4=$3.cells[1];if($1!==$2){this.drawItem($4,0);}else{this.drawItem($4,2);}}}},onEventSetSelection:function(iRowIdx){var $0=new Kepler.Framework.UI.Events.EventArgsNs.CustomEventArgs('SelectionChanging');$0.set_data(iRowIdx);if(!this.onPretranslateEvent(this,$0)){this.setSelectedIndex(iRowIdx);}},setSelectedIndex:function(iRowIdx){if(iRowIdx!==this._iSelectedIdx){if(this._iSelectedIdx!==-1){var $2=this._elemTable.rows[this._iSelectedIdx];var $3=$2.cells[1];this.drawItem($3,0);}var $0=this._elemTable.rows[iRowIdx];var $1=$0.cells[1];this.drawItem($1,2);this._iSelectedIdx=iRowIdx;this.setFocusRectParams();}},drawItem:function(element,eState){var $0=element;if(ss.isNullOrUndefined($0)){return;}var $1=$($0);switch(eState){case 0:$1.removeClass('base_customlist_press');$0.className='base_customlist_normal';break;case 1:break;case 2:$0.className='base_customlist_press';break;case 3:break;case 4:break;case 5:break;default:break;}},onLButtonUp:function(mouseEventArgs){this.releaseCapture();Kepler.Framework.UI.Controls.ListBox.BaseCustomList.callBaseMethod(this, 'onLButtonUp',[mouseEventArgs]);},getRowIndex:function(elemRow){var $0=-1;var $1=this._elemTable.rows;for(var $2=0;$2<$1.length;$2++){if($1[$2]===elemRow){$0=$2;break;}}return $0;},setBackGround:function(oCheckBox){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getParentElementById(oCheckBox.get_element(),'CustomListCtrl_Row');var $1=$0.cells[1];this.drawItem($1,2);oCheckBox.setFocus();},setSelection:function(iRow){this.onEventSetSelection(iRow);},onMouseWheel:function(evt){Kepler.Framework.UI.Controls.ListBox.BaseCustomList.callBaseMethod(this, 'onMouseWheel',[evt]);var $0=evt.get_delta();this._sbVertical.performScroll(-$0);},onPretranslateEvent:function(sender,eventArgs){var $0=false;$0=Kepler.Framework.UI.Controls.ListBox.BaseCustomList.callBaseMethod(this, 'onPretranslateEvent',[sender,eventArgs]);if($0){return true;}if(eventArgs.get_type()===4096){var $1=eventArgs;if(eventArgs.get_type()===4096){if($1.get_key()===40){var $2=this._iSelectedIdx+1;if($2<this._lstItemControl.length){this.onEventSetSelection($2);this._lstItemControl[$2].setFocus();this.setFocusRectParams();for(var $3=0;$3<this._lstItemControl.length;$3++){var $4=this._elemTable.rows[$3];var $5=$4.cells[1];if($2!==$3){this.drawItem($5,0);}}$0=true;this.setScrollToIndex($2);}}else if($1.get_key()===38){var $6=this._iSelectedIdx-1;if($6>=0){this.onEventSetSelection($6);this._lstItemControl[$6].setFocus();this.setFocusRectParams();for(var $7=0;$7<this._lstItemControl.length;$7++){var $8=this._elemTable.rows[$7];var $9=$8.cells[1];if($6!==$7){this.drawItem($9,0);}}$0=true;this.setScrollToIndex($6);}}}}else if(eventArgs.get_type()===2){var $A=eventArgs;if((Kepler.Engine.UI.Controls.CheckBox).isInstanceOfType(sender)&&!$A.get_button()){this.setCapture();var $B=sender;if($B.get_state()===1){$B.set_state(0);}else{$B.set_state(1);}this.$4E(null,sender);$0=true;}}return $0;},getFocusRect:function(){var $0=parseInt((this.get_height()/this._iCommonItemHeight));if(this._iSelectedIdx>=this.$45&&this._iSelectedIdx<this.$45+$0){return new Kepler.Framework.UI.Rect(this.get_position().get_x(),this.get_position().get_y()+1+((this._iSelectedIdx-this.$45)*this._iCommonItemHeight),this._elemTable.offsetWidth,this._iCommonItemHeight-2);}else{return new Kepler.Framework.UI.Rect(this.get_position().get_x(),this.get_position().get_y()+1+((this._iSelectedIdx-this.$45)*this._iCommonItemHeight),0,0);}},drawVisualHint:function(oHintData){var $0=oHintData.iIndex;if($0!==-1&&$0<this._lstItemControl.length){this._iVisualHintIndex=$0;var $1=this._elemTable.rows[this._iVisualHintIndex];var $2=$1.cells[0];Kepler.Engine.UI.Helper.HtmlCssHelper.setStyleProperty($2,'border','1px solid red');}},eraseVisualHint:function(){this._elemTable.style.zIndex=0;if(this._iVisualHintIndex!==-1){if(this._elemTable.rows.length>0){var $0=this._elemTable.rows[this._iVisualHintIndex];var $1=$0.cells[0];Kepler.Engine.UI.Helper.HtmlCssHelper.setStyleProperty($1,'border','');}this._iVisualHintIndex=-1;}},getIndexElement:function(iIndex){if(iIndex>-1&&iIndex<this._elemTable.rows.length){var $0=this._elemTable.rows[iIndex];var $1=$0.cells[0];return $1;}return null;},setFocusRectParams:function(){Kepler.Framework.UI.Controls.ListBox.BaseCustomList.callBaseMethod(this, 'setFocusRectParams');this.setElementField(this.get_focusBorderElement(),this._lstItemControl[this._iSelectedIdx]);},onMsgScrollPosChanged:function(wParam,lParam){var $0=(lParam);if($0===this._sbVertical){this._elemTable.parentNode.scrollTop=(this._sbVertical.get_curPos()*this._iCommonItemHeight);}this.set_topIndex(this._sbVertical.get_curPos());this.setFocus();return null;},$4D:function($p0,$p1){var $0=($p1);if($0===this._sbVertical){this._elemTable.parentNode.scrollTop=(this._sbVertical.get_curPos()*this._iCommonItemHeight);}this.set_topIndex(this._sbVertical.get_curPos());this.setFocus();return null;},$4E:function($p0,$p1){var $0=$p1;var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getParentElementById($0.get_element(),'CustomListCtrl_Row');var $2=this.getRowIndex($1);this.onEventSetSelection($2);var $3=0;for(var $5=0;$5<this._lstItemControl.length;$5++){var $6=this._lstItemControl[$5];if($6.get_state()===1){this.$47=true;$3=$5;break;}else{this.$47=false;}}for(var $7=0;$7<this._lstItemControl.length;$7++){var $8=this._elemTable.rows[$7];var $9=$8.cells[1];if($2!==$7){this.drawItem($9,0);}}var $4=new Kepler.Framework.UI.Controls.OnCommandStruct(null,2);this.sendMessageToParent('SelectionChanged',$4,$p1);},onMsgCheckBoxClicked:function(wParam,lParam){this.$4E(wParam,lParam);return null;},setScrollToIndex:function(iRowIdx){if(iRowIdx!==this._iSelectedIdx&&this._iSelectedIdx!==-1){var $4=this._elemTable.rows[this._iSelectedIdx];var $5=$4.cells[1];this.drawItem($5,0);}var $0=this._elemTable.rows[iRowIdx];var $1=this.get_size().get_height()/this._iCommonItemHeight;var $2=(iRowIdx>(this.$45+$1-1)||iRowIdx<this.$45)?true:false;var $3=0;if($2){var $6=(iRowIdx<this.$45)?true:false;if(!$6){$3=(iRowIdx+1)*this._iCommonItemHeight-this.get_size().get_height();}else{$3=iRowIdx*this._iCommonItemHeight;}this.set_topIndex(($3/this._iCommonItemHeight));this._elemTable.parentNode.scrollTop=$3;this._sbVertical.set_curPos(this._elemTable.parentNode.scrollTop/this._iCommonItemHeight);}this._iSelectedIdx=iRowIdx;this.setFocusRectParams();}}
Type.registerNamespace('Kepler.Engine.UI.Controls.Ruler');Kepler.Engine.UI.Controls.Ruler.eTabControl=function(){};Kepler.Engine.UI.Controls.Ruler.eTabControl.prototype = {eRightTab:9,eLeftTab:7,eCenterTab:8,eFirstLineIndent:13,eLeftHangingIndent:12,eBarTab:11,eDecimalTab:10}
Kepler.Engine.UI.Controls.Ruler.eTabControl.registerEnum('Kepler.Engine.UI.Controls.Ruler.eTabControl',false);Kepler.Engine.UI.Controls.Ruler.eAction=function(){};Kepler.Engine.UI.Controls.Ruler.eAction.prototype = {eNone:0,eMovingLeftMargin:1,eMovingRightMargin:2,eMovingFirstLineIndent:4,eMovingFirstLineHangingIndent:5,eMovingRightIndent:6,eLeftTab:7,eCenterTab:8,eRightTab:9,eDecimalTab:10,eBarTab:11,eMovingTableColumn:12,eDoubleClickRuler:13,eMovingTableColumnThroughRuler:14,eCreatingTab:15,eMovingLeftHangingIndent:16,eMovingLeftIndent:17,eMovingHangingIndent:3,eClickOnExistingTab:18,eMovingTopMargin:30,eChangingTab:19,eDoubleClickFirstLineIndent:20,eDoubleClickHangingIndent:21,eDoubleClickLeftIndent:22,eDoubleClickRightIndent:23}
Kepler.Engine.UI.Controls.Ruler.eAction.registerEnum('Kepler.Engine.UI.Controls.Ruler.eAction',false);Kepler.Engine.UI.Controls.Ruler.eCurrentState=function(){};Kepler.Engine.UI.Controls.Ruler.eCurrentState.prototype = {eNone:0,eMouseDown:1,eMouseMove:2,eMouseUp:3,eMouseDblClick:4}
Kepler.Engine.UI.Controls.Ruler.eCurrentState.registerEnum('Kepler.Engine.UI.Controls.Ruler.eCurrentState',false);Kepler.Engine.UI.Controls.Ruler.eActionType=function(){};Kepler.Engine.UI.Controls.Ruler.eActionType.prototype = {eNone:0,eInsertion:1,eModification:2,eDeletion:3}
Kepler.Engine.UI.Controls.Ruler.eActionType.registerEnum('Kepler.Engine.UI.Controls.Ruler.eActionType',false);Kepler.Engine.UI.Controls.Ruler.eMarkerUnit=function(){};Kepler.Engine.UI.Controls.Ruler.eMarkerUnit.prototype = {eUnitLargeStartY:5,eUnitSmallStartY:7,eUnitLargeHeight:5,eUnitSmallHeight:2}
Kepler.Engine.UI.Controls.Ruler.eMarkerUnit.registerEnum('Kepler.Engine.UI.Controls.Ruler.eMarkerUnit',false);Kepler.Engine.UI.Controls.Ruler.VisualHintTargetType=function(){};Kepler.Engine.UI.Controls.Ruler.VisualHintTargetType.prototype = {tabChanger:0,leftIndent:1,hangingIndent:2,firstLineIndent:3,rightIndent:4,leftTab:5,rightTab:6,centerTab:7,decimalTab:8,barTab:9,newTab:10}
Kepler.Engine.UI.Controls.Ruler.VisualHintTargetType.registerEnum('Kepler.Engine.UI.Controls.Ruler.VisualHintTargetType',false);Kepler.Engine.UI.Controls.Ruler.RULER_CONSTANTS=function(){}
Kepler.Engine.UI.Controls.Ruler.RULER_CONSTANTS.get_positioN_CHECK_THRESHOLD=function(){if(Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){return 10;}else{return 8;}}
Kepler.Engine.UI.Controls.Ruler.RulerMode=function(){}
Kepler.Engine.UI.Controls.Ruler.RulerViewLayout=function(){}
Kepler.Engine.UI.Controls.Ruler.TOOLTIP=function(){}
Kepler.Engine.UI.Controls.Ruler.ActionSubtype=function(){}
Kepler.Engine.UI.Controls.Ruler.VisualHintData=function(){}
Kepler.Engine.UI.Controls.Ruler.VisualHintData.prototype={eTargetType:0,iTargetIndex:0,dPosition:0}
Kepler.Engine.UI.Controls.Ruler.ActionCheck=function(){this.set_inCorrectAction(true);this.set_actionData('');this.$0=true;}
Kepler.Engine.UI.Controls.Ruler.ActionCheck.prototype={$0:true,get_flashCorrectIncorrect:function(){return this.$0;},set_flashCorrectIncorrect:function(value){this.$0=value;return value;},$1:true,get_inCorrectAction:function(){return this.$1;},set_inCorrectAction:function(value){this.$1=value;return value;},$2:'',get_actionData:function(){return this.$2;},set_actionData:function(value){this.$2=value;return value;}}
Kepler.Engine.UI.Controls.Ruler.BaseHRuler=function(strId){this.lstTabControlResources=[];this.lstActionOverrideData=[];this.$4B=-1;this.$4C=-1;this._Tabs=new Kepler.Engine.UI.Controls.Ruler.RulerTabs();this._splitColumns=new Kepler.Engine.UI.Controls.Ruler.SplitColumns();this.$4E=new Kepler.Framework.UI.Point(0,0);this.$4F=new Kepler.Framework.UI.Point(0,0);this.$53=1;Kepler.Engine.UI.Controls.Ruler.BaseHRuler.initializeBase(this,[strId]);this.$55();}
Kepler.Engine.UI.Controls.Ruler.BaseHRuler.prototype={taB_START_POSITION:9,smalL_MARKER_PIXEL:12,get_largE_MARKER_PIXEL:function(){return this.smalL_MARKER_PIXEL*4;},_fMarginLeft:0.75,_fMarginRight:0.75,_fLeftHangingIndent:0,_fFirstLineIndent:0,_fRightIndent:0,_fLeftIndent:0,$46:false,get_movingHangingIndent:function(){return this.$46;},set_movingHangingIndent:function(value){this.$46=true;return value;},_iCurrentTabControlIndex:0,$47:0,$48:0,_divTabContainer:null,_divCurrentTabChanger:null,_divFirstLineIndent:null,_divRightIndent:null,_divLeftHangingIndent:null,$49:null,$4A:null,get_currentActionTabType:function(){return this.$4B;},set_currentActionTabType:function(value){this.$4B=value;return value;},get_currentDraggedBarIndex:function(){return this.$4C;},set_currentDraggedBarIndex:function(value){this.$4C=value;return value;},get_currentRulerAction:function(){return this.$4A;},set_currentRulerAction:function(value){this.$4A=value;return value;},_currentMovingColumn:null,_iDiffXInColumnMove:0,$4D:0,get_scrollLeft:function(){return this.$4D;},set_scrollLeft:function(value){this.$4D=value;return value;},get_currentMouseDownPoint:function(){return this.$4E;},set_currentMouseDownPoint:function(value){this.$4E=value;return value;},get_currentMousePoint:function(){return this.$4F;},set_currentMousePoint:function(value){this.$4F=value;return value;},$50:null,get_currentEvtArgs:function(){return this.$50;},set_currentEvtArgs:function(value){this.$50=value;return value;},$51:null,get_referencedElement:function(){return this.$51;},set_referencedElement:function(value){if(ss.isValue(value)){this.$51=value;}return value;},$52:false,get_useReferenceElementSize:function(){return this.$52;},set_useReferenceElementSize:function(value){this.$52=value;return value;},get_rulerLayout:function(){return this.$53;},set_rulerLayout:function(value){this.$53=value;return value;},get_sizE_TAB_CHANGER:function(){if(this.get_rulerLayout()===2){return 0;}else{return 23+6;}},get_sizE_TILL_LEFT_MARGIN:function(){return this.get_sizE_TAB_CHANGER()+this.get_iRulerStart()+this.getPixelfromInch(this._fMarginLeft);},setLeftOffset:function(iOffset){this._iParentLeftOffSet=iOffset;},get_iRulerStart:function(){return this.$47;},set_iRulerStart:function(value){this.$47=value;return value;},get_iRulerEnd:function(){return this.$48;},set_iRulerEnd:function(value){this.$48=value;return value;},$54:false,get_hideColumnOnEnd:function(){return this.$54;},set_hideColumnOnEnd:function(value){this.$54=value;return value;},initCanvas:function(){Kepler.Engine.UI.Controls.Ruler.BaseHRuler.callBaseMethod(this, 'initCanvas');this._rulerCanvas.set_size(new Kepler.Framework.UI.Size(this._iWidth,this._iHeight));this._mainCanvas.width=this._iWidth;this._mainCanvas.height=this._iHeight;return this._mainCanvas.getContext('2d');},$55:function(){this.lstTabControlResources.add(7);this.lstTabControlResources.add(8);this.lstTabControlResources.add(9);this.lstTabControlResources.add(10);this.lstTabControlResources.add(11);this.lstTabControlResources.add(13);this.lstTabControlResources.add(12);this._iCurrentTabControlIndex=0;this._Tabs.lstBarTabs=[];this._Tabs.lstCenterTabs=[];this._Tabs.lstDecimalTabs=[];this._Tabs.lstLeftTabs=[];this._Tabs.lstRightTabs=[];},setDefaultParameters:function(){Kepler.Engine.UI.Controls.Ruler.BaseHRuler.callBaseMethod(this, 'setDefaultParameters');this.$56();},$56:function(){this._fPageSize=8.5;this._fFirstLineIndent=3.5;this._fLeftHangingIndent=3.5;this._fRightIndent=5;this._fLeftIndent=0;this.set_currentAction(0);this.set_position(new Kepler.Framework.UI.Point(0,this._iRulerTopOffSet*2));this._splitColumns.setViewMode(true);this.set_currentRulerAction(new Kepler.Engine.UI.Controls.Ruler.CurrentAction());this.get_element().style.zIndex=2;this.$46=false;},$57:function(){this.hideToolTip();this.clearTimer();this.$46=false;},onLoad:function(){Kepler.Engine.UI.Controls.Ruler.BaseHRuler.callBaseMethod(this, 'onLoad');this._divTabContainer=document.createElement('div');this._divTabContainer.style.width=23+'px';this._divTabContainer.style.height=23+'px';this._divTabContainer.style.top=(-6)+'px';Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this._divTabContainer,'tab-changer');this._divCurrentTabChanger=document.createElement('div');this._divCurrentTabChanger.style['width']=(23-7)+'px';this._divCurrentTabChanger.style['height']=(23-7)+'px';this._divCurrentTabChanger.style['margin']=6+'px';Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this._divCurrentTabChanger,'current_tabchanger '+'ruler-left-tab');this._divTabContainer.appendChild(this._divCurrentTabChanger);this.get_element().appendChild(this._divTabContainer);this.$49=document.createElement('div');this.$49.style['width']='1px';this.$49.style['border-left']='1px dotted black';this.$49.style['position']='absolute';this.$49.style['top']=(this._iRulerTopOffSet*2)+this._iHeight+'px';this.showHidePreviewControl(false);this.$49.style['background-color']='transparent';Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this.$49,'position_preview');this._divFirstLineIndent=document.createElement('div');this._divFirstLineIndent.style['height']=8+'px';this._divFirstLineIndent.style['width']=10+'px';this._divFirstLineIndent.style['top']='-2px';Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this._divFirstLineIndent,'first_line_indent');this._divRightIndent=document.createElement('div');this._divRightIndent.style['height']=8+'px';this._divRightIndent.style['width']=10+'px';this._divRightIndent.style['bottom']='-3px';Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this._divRightIndent,'right_indent');this._divLeftHangingIndent=document.createElement('div');this._divLeftHangingIndent.style.height=14+'px';this._divLeftHangingIndent.style.width=10+'px';this._divLeftHangingIndent.style.bottom=Kepler.Engine.UI.Controls.Ruler.BaseHRuler.hanginG_INDENT_BOTTOM+'px';this._divLeftHangingIndent.style['background-repeat']='no-repeat';Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this._divLeftHangingIndent,'left_hanging_indent');this.get_element().appendChild(this._divFirstLineIndent);this.get_element().appendChild(this._divRightIndent);this.get_element().appendChild(this._divLeftHangingIndent);this.get_element().appendChild(this.$49);this.updateTabChanger();this.add(this._rulerCanvas);this.$58();this._iHeight=12;this._iWidth=this.getPixelfromInch(this._fPageSize);this.set_size(new Kepler.Framework.UI.Size(this._iWidth,this._iHeight));this._mainCanvas.width=this.get_size().get_width();this._mainCanvas.height=this.get_size().get_height();this.updateIndentPositions();},$58:function(){this.addEvents(2);this.addEvents(256|512|1024);this.addEvents(4|32);this.addEvents(8);this.addEvents(64);this.set_dblClickEventNeeded(true);},updateTabChanger:function(){if(ss.isNullOrUndefined(this._divCurrentTabChanger)){return;}Kepler.Engine.UI.Helper.HtmlCssHelper.removeAllCssClasses(this._divCurrentTabChanger);switch(this.lstTabControlResources[this._iCurrentTabControlIndex]){case 7:Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this._divCurrentTabChanger,'ruler-left-tab');break;case 9:Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this._divCurrentTabChanger,'ruler-right-tab');break;case 11:Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this._divCurrentTabChanger,'ruler-bar-tab');break;case 10:Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this._divCurrentTabChanger,'ruler-decimal-tab');break;case 8:Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this._divCurrentTabChanger,'ruler-center-tab');break;case 13:Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this._divCurrentTabChanger,'ruler-firstline-indent-tab');break;case 12:Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this._divCurrentTabChanger,'ruler-hanging-indent-tab');break;}Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this._divCurrentTabChanger,'current_tabchanger');this.$6B();},updateView:function(){this.$6A();this.setRulerBounds();this.updateIndentPositions();this.draw();this.$6B();},draw:function(){this.clearCanvas();this.drawMargin();this.drawSpacer();this.drawRuler();this.drawBorder();this.drawAllTabs();this.$6C();},drawStartEnd:function(){this._mainCtx.save();this._mainCtx.strokeStyle='red';this._mainCtx.lineWidth=2;this._mainCtx.beginPath();var $0=this.get_iRulerStart();this._mainCtx.moveTo($0,0);this._mainCtx.lineTo($0,this._iHeight);$0=this._iWidth-this.$48;this._mainCtx.moveTo($0,0);this._mainCtx.lineTo($0,this._iHeight);this._mainCtx.stroke();this._mainCtx.closePath();this._mainCtx.restore();var $1=this.getPixelfromInch(this._fPageSize);this._mainCtx.save();this._mainCtx.strokeStyle='red';this._mainCtx.lineWidth=2;this._mainCtx.beginPath();$0=this.get_iRulerStart();this._mainCtx.moveTo($0,0);this._mainCtx.lineTo($0+$1,0);this._mainCtx.stroke();this._mainCtx.closePath();this._mainCtx.restore();},drawSpacer:function(){var $0=this._iWidth-this.getPixelfromInch(this._fMarginLeft)-this.getPixelfromInch(this._fMarginRight)-this.get_iRulerEnd()-this.get_iRulerStart();this._mainCtx.save();this._mainCtx.fillStyle='white';this._mainCtx.fillRect(this.getPixelfromInch(this._fMarginLeft)+this.get_iRulerStart(),0,$0,this._iHeight);this._mainCtx.restore();},drawMargin:function(){var $0=this.getPixelfromInch(this._fMarginLeft);var $1=this.getPixelfromInch(this._fMarginRight);this._mainCtx.save();this._mainCtx.fillStyle='#DADADA';this._mainCtx.fillRect(this.get_iRulerStart(),0,$0,this._iHeight);this._mainCtx.fillRect(this._iWidth-this.get_iRulerEnd()-$1,0,$1,this._iHeight);this._mainCtx.restore();},createCurrentActionTab:function(currentPoint){var $0=-1;var $1=currentPoint.get_x()-this.get_sizE_TAB_CHANGER()-this.get_iRulerStart()-this.getPixelfromInch(this._fMarginLeft);switch(this.lstTabControlResources[this._iCurrentTabControlIndex]){case 7:this._Tabs.lstLeftTabs.add(this.getInchfromPixel($1));this.drawLeftTab(this.getInchfromPixel($1));this.set_currentAction(7);$0=this._Tabs.lstLeftTabs.length-1;break;case 9:this._Tabs.lstRightTabs.add(this.getInchfromPixel($1));this.drawRightTab(this.getInchfromPixel($1));this.set_currentAction(9);$0=this._Tabs.lstRightTabs.length-1;break;case 8:this._Tabs.lstCenterTabs.add(this.getInchfromPixel($1));this.drawCenterTab(this.getInchfromPixel($1));this.set_currentAction(8);$0=this._Tabs.lstCenterTabs.length-1;break;case 11:this._Tabs.lstBarTabs.add(this.getInchfromPixel($1));this.drawBarTab(this.getInchfromPixel($1));this.set_currentAction(11);$0=this._Tabs.lstBarTabs.length-1;break;case 10:this._Tabs.lstDecimalTabs.add(this.getInchfromPixel($1));this.drawDecimalTab(this.getInchfromPixel($1));this.set_currentAction(10);$0=this._Tabs.lstDecimalTabs.length-1;break;}return $0;},updateTabPositions:function(fDiffInMargins){for(var $0=0;$0<this._Tabs.lstLeftTabs.length;$0++){this._Tabs.lstLeftTabs[$0]=this._Tabs.lstLeftTabs[$0]+fDiffInMargins;}for(var $1=0;$1<this._Tabs.lstRightTabs.length;$1++){this._Tabs.lstRightTabs[$1]=this._Tabs.lstRightTabs[$1]+fDiffInMargins;}for(var $2=0;$2<this._Tabs.lstBarTabs.length;$2++){this._Tabs.lstBarTabs[$2]=this._Tabs.lstBarTabs[$2]+fDiffInMargins;}for(var $3=0;$3<this._Tabs.lstDecimalTabs.length;$3++){this._Tabs.lstDecimalTabs[$3]=this._Tabs.lstDecimalTabs[$3]+fDiffInMargins;}for(var $4=0;$4<this._Tabs.lstCenterTabs.length;$4++){this._Tabs.lstCenterTabs[$4]=this._Tabs.lstCenterTabs[$4]+fDiffInMargins;}},drawAllTabs:function(){for(var $0=0;$0<this._Tabs.lstLeftTabs.length;$0++){this.drawLeftTab(this._Tabs.lstLeftTabs[$0]);}for(var $1=0;$1<this._Tabs.lstRightTabs.length;$1++){this.drawRightTab(this._Tabs.lstRightTabs[$1]);}for(var $2=0;$2<this._Tabs.lstBarTabs.length;$2++){this.drawBarTab(this._Tabs.lstBarTabs[$2]);}for(var $3=0;$3<this._Tabs.lstDecimalTabs.length;$3++){this.drawDecimalTab(this._Tabs.lstDecimalTabs[$3]);}for(var $4=0;$4<this._Tabs.lstCenterTabs.length;$4++){this.drawCenterTab(this._Tabs.lstCenterTabs[$4]);}},drawLeftTab:function(fTabX){var $0=this.getPixelfromInch(fTabX);$0=$0+this.get_iRulerStart()+this.getPixelfromInch(this._fMarginLeft);this._mainCtx.save();this._mainCtx.lineWidth=2;this._mainCtx.lineCap='square';this._mainCtx.strokeStyle=this.get_uniT_STROKE_COLOR();this._mainCtx.beginPath();this._mainCtx.moveTo($0,this.taB_START_POSITION);this._mainCtx.lineTo($0,this.taB_START_POSITION+4);this._mainCtx.moveTo($0,this.taB_START_POSITION+4);this._mainCtx.lineTo($0+4,this.taB_START_POSITION+4);this._mainCtx.stroke();this._mainCtx.closePath();this._mainCtx.restore();},drawRightTab:function(fTabX){var $0=this.getPixelfromInch(fTabX);$0=$0+this.get_iRulerStart()+this.getPixelfromInch(this._fMarginLeft);this._mainCtx.save();this._mainCtx.lineCap='square';this._mainCtx.lineWidth=2;this._mainCtx.strokeStyle=this.get_uniT_STROKE_COLOR();this._mainCtx.beginPath();this._mainCtx.moveTo($0,this.taB_START_POSITION);this._mainCtx.lineTo($0,this.taB_START_POSITION+4);this._mainCtx.moveTo($0,this.taB_START_POSITION+4);this._mainCtx.lineTo($0-4,this.taB_START_POSITION+4);this._mainCtx.stroke();this._mainCtx.closePath();this._mainCtx.restore();},drawDecimalTab:function(fTabX){var $0=this.getPixelfromInch(fTabX);this.drawCenterTab(fTabX);var $1=$0+4/2;var $2=this.taB_START_POSITION+4/2;$1=$0+4/2;$2=this.taB_START_POSITION;this._mainCtx.save();this._mainCtx.fillStyle=this.get_uniT_STROKE_COLOR();this._mainCtx.fillRect($1,$2,2,2);this._mainCtx.restore();},drawCenterTab:function(fTabX){this.drawRightTab(fTabX);this.drawLeftTab(fTabX);},drawBarTab:function(fTabX){var $0=this.getPixelfromInch(fTabX)+this.get_iRulerStart()+this.getPixelfromInch(this._fMarginLeft);this._mainCtx.save();this._mainCtx.lineWidth=2;this._mainCtx.strokeStyle=this.get_uniT_STROKE_COLOR();this._mainCtx.beginPath();this._mainCtx.moveTo($0,this.taB_START_POSITION);this._mainCtx.lineTo($0,this.taB_START_POSITION+4+1);this._mainCtx.stroke();this._mainCtx.closePath();this._mainCtx.restore();},drawFirstLineIndent:function(fTabX){var $0=this.getPixelfromInch(fTabX);},drawLeftHangingIndent:function(fTabX){var $0=this.getPixelfromInch(fTabX);},getOffsetPointFromEventArgs:function(mouseEventArgs,bUseControlPosition){var $0=mouseEventArgs;var $1=Kepler.Engine.UI.Controls.Ruler.BaseHRuler.callBaseMethod(this, 'getOffsetPointFromEventArgs',[mouseEventArgs,bUseControlPosition]);$1.set_x($1.get_x()-this.get_scrollLeft());return $1;},onMouseMove:function(mouseEventArgs){this.set_currentEvtArgs(mouseEventArgs);if(!Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){this.$5C(mouseEventArgs);}var $0=this.getOffsetPointFromEventArgs(mouseEventArgs,true);if(mouseEventArgs.get_target()===this._mainCanvas){this.changeCursorStyle(mouseEventArgs);}if(this.get_currentAction()===0||this.get_currenT_MOUSE_STATE()===3){return;}this.set_currenT_MOUSE_STATE(2);this.set_currentMousePoint($0);var $1=$0.clone();$0.set_x($0.get_x()-this.get_sizE_TAB_CHANGER());var $2=false;switch(this.get_currentAction()){case 14:if(!ss.isNullOrUndefined(this._currentMovingColumn)){var $4=new Kepler.Framework.UI.Point(($1.get_x()-this._iDiffXInColumnMove),this._currentMovingColumn.get_position().get_y());this._currentMovingColumn.set_position($4);$2=true;}break;case 1:if(this.updateLeftMargin($0)){$2=true;this.draw();}this.get_currentRulerAction().set_clickStreamData('On the Ruler : '+'Moved Left Margin.');break;case 2:var $3=this._iWidth-this.$48;if($0.get_x()>=$3||!this.isPointBtnCanvas($0)){break;}this._fMarginRight=this.getInchfromPixel(this._iWidth-$0.get_x()-this.get_iRulerEnd());this.draw();this.get_currentRulerAction().set_clickStreamData('On the Ruler : '+'Moved Right Margin.');$2=true;break;case 4:if(this.isPointBtnCanvas($0)){this._fFirstLineIndent=this.getInchfromPixel($0.get_x()-this.$47-this.getPixelfromInch(this._fMarginLeft)-this.getPixelfromInch(this._fLeftHangingIndent));$2=true;this.get_currentRulerAction().set_currentPosition(this._fFirstLineIndent);}this.get_currentRulerAction().set_clickStreamData('On the Ruler : '+'Moved First Line Indent.');break;case 6:if(this.isPointBtnCanvas($0)){var $5=this.get_sizE_TAB_CHANGER()+this.$47+this.getPixelfromInch(this._fPageSize)-this.getPixelfromInch(this._fMarginRight);this._fRightIndent=this.getInchfromPixel($5-$0.get_x()-this.get_sizE_TAB_CHANGER());$2=true;this.get_currentRulerAction().set_currentPosition(this._fRightIndent);}this.get_currentRulerAction().set_clickStreamData('On the Ruler : '+'Moved First Right Indent.');break;case 17:case 3:if(this.isPointBtnCanvas($0)){this._fLeftHangingIndent=this.getInchfromPixel($0.get_x()-this.$47-this.getPixelfromInch(this._fMarginLeft));this.get_currentRulerAction().set_clickStreamData('On the Ruler : '+'Moved Hanging Indent.');if(!this.$46){this._fLeftIndent=this._fLeftHangingIndent;this.get_currentRulerAction().set_clickStreamData('On the Ruler : '+'Moved Left Indent.');}$2=true;this.get_currentRulerAction().set_currentPosition(this._fLeftHangingIndent);}break;case 7:case 9:case 11:case 8:case 10:if(!this.isPointBtnMargins($0)){return;}var $6=this.$6D(this.get_currentAction());if(ss.isNullOrUndefined($6)){break;}if(this.get_currentDraggedBarIndex()===-1){this.set_currentDraggedBarIndex($6.length-1);this.$6E($6,this.get_currentRulerAction()._fBackupValue);}var $7=this.get_currentDraggedBarIndex();var $8=$6[$7];var $9=this.getOffsetPointFromEventArgs(mouseEventArgs,true).get_x()-this.get_sizE_TILL_LEFT_MARGIN();if(this.isPointBtnCanvas(this.getOffsetPointFromEventArgs(mouseEventArgs,true),true)){$6[$7]=this.getInchfromPixel($9);}else{$6[$7]=Kepler.Engine.UI.Controls.Ruler.BaseHRuler.hiddeN_TAB_CONST;}this.draw();$2=true;this.get_currentRulerAction().set_currentPosition(this.getInchfromPixel($9));if($6[$7]<0){this.get_currentRulerAction().set_clickStreamData('On the Ruler : '+'Moved Tab Outside of ruler.');}else{this.get_currentRulerAction().set_clickStreamData('On the Ruler : '+'Moved '+this.getTabNameByTabPostion($8)+'.');}break;case 18:if(!this.isPointBtnMargins($0)){return;}var $A=this.$6D(this.get_currentActionTabType());if(ss.isNullOrUndefined($A)){break;}if(this.get_currentDraggedBarIndex()===-1){this.set_currentDraggedBarIndex(this.$6E($A,this.get_currentRulerAction()._fBackupValue));}var $B=this.get_currentDraggedBarIndex();var $C=$A[$B];var $D=this.getOffsetPointFromEventArgs(mouseEventArgs,true).get_x()-this.get_sizE_TILL_LEFT_MARGIN();if(this.isPointBtnCanvas(this.getOffsetPointFromEventArgs(mouseEventArgs,true),true)){$A[$B]=this.getInchfromPixel($D);}else{$A[$B]=Kepler.Engine.UI.Controls.Ruler.BaseHRuler.hiddeN_TAB_CONST;}this.draw();this.get_currentRulerAction().set_currentPosition(this.getInchfromPixel($D));$2=true;this.get_currentRulerAction().set_clickStreamData('On the Ruler : '+'Moved '+this.getTabNameByTabPostion($C)+'.');break;}this.updateIndentPositions();if($2){this.updatePreviewControl($0.get_x()+this.get_sizE_TAB_CHANGER());}},onMouseOut:function(evt){var $0=this.getOffsetPointFromEventArgs(evt,true);var $1=this.getInchfromPixel($0.get_x())-this.getInchfromPixel(this.get_sizE_TILL_LEFT_MARGIN());if(Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){return;}this.hideToolTip();this.$5A();},onParentResized:function(szParent){Kepler.Engine.UI.Controls.Ruler.BaseHRuler.callBaseMethod(this, 'onParentResized',[szParent]);this.$49.style.height=szParent.get_height()+'px';this.$49.style.top=this._iRulerTopOffSet+this._iHeight+'px';this.resizeRulerAndBounds(szParent);},resizeRulerAndBounds:function(szParent){var $0=0;if(this.get_useReferenceElementSize()&&ss.isValue(this.get_referencedElement())){$0=this.get_referencedElement().offsetWidth+parseInt(Kepler.Engine.UI.Helper.HtmlCssHelper.getCalculatedCSSProperty(this.get_referencedElement(),'margin-left').toString())+parseInt(Kepler.Engine.UI.Helper.HtmlCssHelper.getCalculatedCSSProperty(this.get_referencedElement(),'margin-right').toString())+this.get_sizE_TAB_CHANGER();this._fPageSize=this.getInchfromPixel($0);this.set_size(new Kepler.Framework.UI.Size($0,this.get_size().get_height()));}else{$0=this.getPixelfromInch(this._fPageSize)+this.get_sizE_TAB_CHANGER();if(szParent.get_width()<=$0){this.set_size(new Kepler.Framework.UI.Size($0,this.get_size().get_height()));}else{this.set_size(new Kepler.Framework.UI.Size(szParent.get_width(),this.get_size().get_height()));}}this._iWidth=this.get_size().get_width()-this.get_sizE_TAB_CHANGER()-this._iParentLeftOffSet;this._iHeight=this.get_size().get_height();this._mainCanvas.width=this._iWidth;this._mainCanvas.height=this._iHeight;this._mainCanvas.height=this._iHeight+10;this.setRulerBounds();this.updateIndentPositions();this.updateColumnPosition();this.draw();},updateColumnPosition:function(){var $0=this._splitColumns.listSplitColumns;for(var $1=0;$1<$0.length;$1++){var $2=$0[$1];var $3=23+this.$47+this.getPixelfromInch($2.get_pos())+this.get_scrollLeft();$0[$1].set_position(new Kepler.Framework.UI.Point($3,0));}},$59:function($p0){var $0=this._splitColumns.createSplitColumn($p0);this.get_element().appendChild($0);},setRulerBounds:function(){this._divCurrentTabChanger.parentNode.style.display='';var $0=this.getPixelfromInch(this._fPageSize);var $1;if(this.get_rulerLayout()===4){this.set_iRulerStart(0);this.set_iRulerEnd(this._iWidth-$0);}else if(this.get_rulerLayout()===2){this.set_iRulerStart(0);this.set_iRulerEnd(this._iWidth-$0);this._divCurrentTabChanger.parentNode.style.display='none';}else if($0>=this.get_size().get_width()){this.set_iRulerStart(0);this.set_iRulerEnd(0);}else{if(ss.isValue(this.get_referencedElement())){var $2=Kepler.Engine.UI.Controls.Control.getFrameClientPoint(this.get_element(),this.get_referencedElement());this.set_iRulerStart($2.get_x()-this.get_sizE_TAB_CHANGER()+1);this.set_iRulerEnd(this._iWidth-(this.$47+$0)-2);}else{$1=((this.get_size().get_width()-this.get_leftOffSet()-this.get_sizE_TAB_CHANGER())-$0)/2;this.set_iRulerStart($1-this.get_sizE_TAB_CHANGER()/2+1);this.set_iRulerEnd($1+this.get_sizE_TAB_CHANGER()/2-2);}}},shuffleToNextTabControl:function(){if(this._iCurrentTabControlIndex===this.lstTabControlResources.length-1){this._iCurrentTabControlIndex=0;}else{this._iCurrentTabControlIndex=this._iCurrentTabControlIndex+1;}this.updateTabChanger();},shuffleToPreivousTabControl:function(){if(this._iCurrentTabControlIndex<0){this._iCurrentTabControlIndex=this.lstTabControlResources.length-1;}else{this._iCurrentTabControlIndex=this._iCurrentTabControlIndex-1;}this.updateTabChanger();},addLeft:function(iStep){var $0=parseInt(this._mainCanvas.style.left);if(isNaN($0)){$0=0;}this.set_scrollLeft(this.get_scrollLeft()+iStep);this._mainCanvas.style.left=($0+iStep)+'px';this.updateIndentPositions();this.updateColumnPosition();},resetScrollLeft:function(){this.set_scrollLeft(0);this._mainCanvas.style.left='0px';this.updateIndentPositions();},isMouseDownNMoveSame:function(){if(ss.isValue(this.get_currentMouseDownPoint())&&ss.isValue(this.get_currentMousePoint())){if((Math.abs(this.get_currentMousePoint().get_x()-this.get_currentMouseDownPoint().get_x())<=Kepler.Engine.UI.Controls.Ruler.RULER_CONSTANTS.get_positioN_CHECK_THRESHOLD())&&(Math.abs(this.get_currentMousePoint().get_y()-this.get_currentMouseDownPoint().get_y())<=Kepler.Engine.UI.Controls.Ruler.RULER_CONSTANTS.get_positioN_CHECK_THRESHOLD())){return true;}else{return false;}}else{return false;}},getDblClickActionData:function(bCheckSubActionType){if(ss.isValue(this.get_currentRulerAction())){this.get_currentRulerAction().set_currentPosition(this.get_currentRulerAction()._fBackupValue);}if(ss.isNullOrUndefined(bCheckSubActionType)){bCheckSubActionType=false;}var $0=this.getActionList(13,bCheckSubActionType);return $0;},showHidePreviewControl:function(bShow){if(bShow){this.$49.style.display='block';}else{this.$49.style.display='none';}},clearTimer:function(){this._timerDblClkChecker.stop();},isTimerRunning:function(){if(this._timerDblClkChecker.get_isRunning()){return true;}else{return false;}},$5A:function(){if(ss.isValue(this._toolTipChecker)){this._toolTipChecker.stop();}},$5B:function($p0,$p1){if(Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){return;}if(ss.isValue(this._toolTipChecker)){this._toolTipChecker.start();if(ss.isValue($p0)&&ss.isValue($p1)){this._strToolTipText=$p1;this._toolTipPoint=$p0;}}},$5C:function($p0){this.hideToolTip();this.$5A();var $0=this.getOffsetPointFromEventArgs($p0,true).clone();if(this.isCursorOnMargin(this.getPixelfromInch(this._fMarginLeft)+this.get_iRulerStart(),$0)){this.$5B($0,'Left Margin');}else if(this.isCursorOnMargin(this._iWidth-this.getPixelfromInch(this._fMarginRight)-this.get_iRulerEnd(),$0)){this.$5B($0,'Right Margin');}else if($p0.get_target()===this._divFirstLineIndent){this.$5B($0,'First Line Indent');}else if($p0.get_target()===this._divRightIndent){this.$5B($0,'Right Indent');}else if($p0.get_target()===this._divLeftHangingIndent){var $1=this._iHeight+Kepler.Engine.UI.Controls.Ruler.BaseHRuler.hanginG_INDENT_BOTTOM;if($0.get_y()<=$1+14/2){this.$5B($0,'Hanging Indent');}else{this.$5B($0,'Left Indent');}}else if($p0.get_target()===this._divCurrentTabChanger){var $2=this.$5D(this._iCurrentTabControlIndex);this.$5B($0,$2);}else{var $3=this.getOffsetPointFromEventArgs($p0,true);var $4=this.getInchfromPixel($3.get_x())-this.getInchfromPixel(this.get_sizE_TILL_LEFT_MARGIN());var $5=this.getTabNameByTabPostion($4);if($5.length>0){this.$5B($0,$5);}}if(!this.isPointBtnMargins($0)){return;}if(this.$5E(this._Tabs.lstLeftTabs,$0)){this.$5B($0,'Left Bar');}else if(this.$5E(this._Tabs.lstRightTabs,$0)){this.$5B($0,'Right Bar');}else if(this.$5E(this._Tabs.lstBarTabs,$0)){this.$5B($0,'Bar Tab');}else if(this.$5E(this._Tabs.lstDecimalTabs,$0)){this.$5B($0,'Decimal Tab');}else if(this.$5E(this._Tabs.lstCenterTabs,$0)){this.$5B($0,'Center Tab');}},$5D:function($p0){if(this.lstTabControlResources[$p0]===7){return 'Left Tab';}else if(this.lstTabControlResources[$p0]===9){return 'Right Tab';}else if(this.lstTabControlResources[$p0]===11){return 'Bar Tab';}else if(this.lstTabControlResources[$p0]===10){return 'Decimal Tab';}else if(this.lstTabControlResources[$p0]===8){return 'Center Tab';}return 'Tab Changer';},$5E:function($p0,$p1){var $0;for(var $1=0;$1<$p0.length;$1++){$0=this.getPixelfromInch($p0[$1]);if($p1.get_x()>$0-4&&$p1.get_x()<$0+4){return true;}}return false;},isValInActionPositionList:function(action,fDiffFromLeftMargin){var $0=this.getInchfromPixel(Kepler.Engine.UI.Controls.Ruler.RULER_CONSTANTS.get_positioN_CHECK_THRESHOLD());if(ss.isNullOrUndefined(action)){return false;}if((fDiffFromLeftMargin>(action.fDestinationPosition-$0))&&(fDiffFromLeftMargin<action.fDestinationPosition+$0)){return true;}else{return false;}},updateLeftMargin:function(currentPoint){if(!this.$68(currentPoint)){return false;}if(this.get_currentAction()===0){}var $0=this._fMarginLeft;this._fMarginLeft=this.getInchfromPixel(currentPoint.get_x()-this.get_iRulerStart());this.updatePreviewControl(currentPoint.get_x()+this.get_sizE_TAB_CHANGER());this.updateTabPositions(this._fMarginLeft-$0);return true;},updatePreviewControl:function(currentPoint){this.showHidePreviewControl(true);this.$49.style.left=(currentPoint+this.get_scrollLeft())+'px';},reset:function(){this.clearTimer();this.$67();this.draw();this.updateIndentPositions();this.$5F();this.set_currentAction(0);},$5F:function(){this._splitColumns.reset();var $0=this._splitColumns.listSplitColumns;for(var $1=0;$1<$0.length;$1++){this.get_element().appendChild($0[$1].get_divColumn());}},getPosOfLeftMargin:function(){return this.get_iRulerStart()+this.getPixelfromInch(this._fMarginLeft);},getPosOfRightMargin:function(){return this._iWidth-this.get_iRulerEnd()-this.getPixelfromInch(this._fMarginRight);},isCursorOnMargin:function(iMargin,currentPoint){if(currentPoint.get_x()>=iMargin-4*2&&currentPoint.get_x()<=iMargin+4*2){return true;}return false;},isPointBtnMargins:function(currentPoint){if(currentPoint.get_x()>=this.get_iRulerStart()+this.getPixelfromInch(this._fMarginLeft)&&currentPoint.get_x()<=this._iWidth-this.get_iRulerEnd()-this.getPixelfromInch(this._fMarginRight)){return true;}return false;},isPointBtnCanvas:function(currentPoint,bCheckYAxis){var $0=true;if(ss.isValue(bCheckYAxis)){$0=this.isPointInCanvasVertically(currentPoint);}if($0&&(currentPoint.get_x()>=this.get_iRulerStart()&&currentPoint.get_x()<=this._iWidth-this.get_iRulerEnd())){return true;}return false;},isPointInCanvasVertically:function(currentPoint){var $0=currentPoint.get_y()+this.get_top();if($0>=this.get_top()&&$0<this.get_top()+this._iHeight+10){return true;}else{return false;}},changeCursorStyle:function(evtArgs){var $0=this.getOffsetPointFromEventArgs(evtArgs,true);if(evtArgs.get_target()===this._divCurrentTabChanger||evtArgs.get_target()===this._divFirstLineIndent||evtArgs.get_target()===this._divLeftHangingIndent||evtArgs.get_target()===this._divRightIndent){this.get_element().style['cursor']='default';}else if(this.isCursorOnMargin(this.getPixelfromInch(this._fMarginLeft)+this.get_iRulerStart()+this.get_sizE_TAB_CHANGER(),$0)){this.get_element().style['cursor']='e-resize';}else if(this.isCursorOnMargin(this._iWidth-this.getPixelfromInch(this._fMarginRight)-this.get_iRulerEnd()+this.get_sizE_TAB_CHANGER(),$0)){this.get_element().style['cursor']='e-resize';}else{this.get_element().style['cursor']='default';}},get_pos_Margin_Left:function(){return this.get_sizE_TAB_CHANGER()+this.$47+this.getPixelfromInch(this._fMarginLeft);},get_pos_Right_Indent:function(){return this._iWidth-this.$48-this.getPixelfromInch(this._fMarginRight)-10/2-this.getPixelfromInch(this._fRightIndent)+this.get_sizE_TAB_CHANGER();},updateIndentPositions:function(){var $0=0;$0=this.getPixelfromInch(this._fFirstLineIndent);if(this.$46){$0+=this.$47+this.get_sizE_TAB_CHANGER()+this.getPixelfromInch(this._fMarginLeft)+this.getPixelfromInch(this._fLeftIndent)-10/2;}else{$0+=this.$47+this.get_sizE_TAB_CHANGER()+this.getPixelfromInch(this._fMarginLeft)+this.getPixelfromInch(this._fLeftHangingIndent)-10/2;}this._divFirstLineIndent.style['left']=($0+this.get_scrollLeft())+'px';$0=0;this._divRightIndent.style['left']=(this.get_pos_Right_Indent()+this.get_scrollLeft())+'px';$0=this.getPixelfromInch(this._fLeftHangingIndent);$0+=this.get_pos_Margin_Left()-10/2;this._divLeftHangingIndent.style['left']=($0+this.get_scrollLeft())+'px';},setData:function(map,bDynamicUpdate){this.$57();this.set_currentAction(0);if(ss.isValue(map['hruler_default_tab_creation_data'])){var $1=parseInt(map['hruler_default_tab_creation_data'],10);for(var $2=0;$2<this.lstTabControlResources.length;$2++){if(this.lstTabControlResources[$2]===$1){this._iCurrentTabControlIndex=$2;break;}}}this.updateTabChanger();if(ss.isValue(map['horz_ruler_layout'])){this.set_rulerLayout(parseInt(map['horz_ruler_layout'],10));}if((ss.isValue(bDynamicUpdate)&&!bDynamicUpdate)&&!ss.isValue(map['horz_ruler_layout'])){this.set_rulerLayout(1);}if(ss.isValue(map['horz_ruler_override_data'])){var $3=map['horz_ruler_override_data'].split('\u00a6');this.$63($3);this.parseVisualHintData($3);}else{this.$66();this.get_visualHints().clear();}var $0=map['horz_ruler_action_data'];if(!ss.isNullOrUndefined($0)){var $4=$0.split('\u00a6');this.lstActionOverrideData.clear();for(var $5=0;$5<$4.length;$5++){var $6=$4[$5].split('\u2022');this.$62($6);}}else if(!bDynamicUpdate){this.lstActionOverrideData.clear();}if(ss.isValue(map['ruler_mode_para_sel'])&&map['ruler_mode_para_sel']===(2).toString()){this.set_currentRulerMode(2);}else{this.set_currentRulerMode(1);}if(ss.isValue(map['horz_ruler_override_column_data'])){this.$64(map['horz_ruler_override_column_data']);}else{this._splitColumns.resetTabs();}this.resizeRulerAndBounds(this.get_size());this.updateView();},$60:function(){this.lstActionOverrideData.clear();var $0=new Kepler.Engine.UI.Controls.Ruler.ActionData();$0.iActionType=13;$0.iIndex=-1;$0.fDestinationPosition=0;$0.iTargetFrame=201;$0.iActionSubType=Kepler.Engine.UI.Controls.Ruler.ActionSubtype.doublE_CLICK_RIGHT_INDENT;$0.strVerifyUserSelection='3';$0.fCurrentTabPosition=1;this.lstActionOverrideData.add($0);},getAction:function(iActionType,bCheckSubActionType){var $0=null;for(var $1=0;$1<this.lstActionOverrideData.length;$1++){$0=this.$61(iActionType,$1,bCheckSubActionType);if(ss.isValue($0)){return $0;}}return null;},$61:function($p0,$p1,$p2){var $0=this.lstActionOverrideData[$p1];if($0.iActionType===$p0){if($p2){if(!$0.iActionSubType&&$0.fCurrentTabPosition===this.get_currentRulerAction()._fBackupValue){return $0;}else if(($0.iActionSubType===Kepler.Engine.UI.Controls.Ruler.ActionSubtype.doublE_CLICK_FIRST_LINE_INDENT)&&(Math.abs($0.fDestinationPosition-this.get_currentRulerAction().get_currentPosition())<=this.getInchfromPixel(Kepler.Engine.UI.Controls.Ruler.RULER_CONSTANTS.get_positioN_CHECK_THRESHOLD())&&$0.iCurrentTabType===-1)){return $0;}else if(($0.iActionSubType===Kepler.Engine.UI.Controls.Ruler.ActionSubtype.doublE_CLICK_HANGING_INDENT)&&(Math.abs($0.fDestinationPosition-this.get_currentRulerAction().get_currentPosition())<=this.getInchfromPixel(Kepler.Engine.UI.Controls.Ruler.RULER_CONSTANTS.get_positioN_CHECK_THRESHOLD())&&$0.iCurrentTabType===-1)){return $0;}else if(($0.iActionSubType===Kepler.Engine.UI.Controls.Ruler.ActionSubtype.doublE_CLICK_LEFT_INDENT)&&(Math.abs($0.fDestinationPosition-this.get_currentRulerAction().get_currentPosition())<=this.getInchfromPixel(Kepler.Engine.UI.Controls.Ruler.RULER_CONSTANTS.get_positioN_CHECK_THRESHOLD())&&$0.iCurrentTabType===-1)){return $0;}else if(($0.iActionSubType===Kepler.Engine.UI.Controls.Ruler.ActionSubtype.doublE_CLICK_RIGHT_INDENT)&&(Math.abs($0.fDestinationPosition-this.get_currentRulerAction().get_currentPosition())<=this.getInchfromPixel(Kepler.Engine.UI.Controls.Ruler.RULER_CONSTANTS.get_positioN_CHECK_THRESHOLD())&&$0.iCurrentTabType===-1)){return $0;}else if($p0===14){return $0;}}else{if($0.iIndex>0){return $0;}else if($0.iActionSubType===-1&&Math.abs($0.fDestinationPosition-this.get_currentRulerAction().get_currentPosition())<=this.getInchfromPixel(Kepler.Engine.UI.Controls.Ruler.RULER_CONSTANTS.get_positioN_CHECK_THRESHOLD())&&$0.iCurrentTabType===-1){return $0;}else if($0.iActionSubType===-1&&Math.abs($0.fDestinationPosition-this.get_currentRulerAction().get_currentPosition())<=this.getInchfromPixel(Kepler.Engine.UI.Controls.Ruler.RULER_CONSTANTS.get_positioN_CHECK_THRESHOLD())&&$0.iCurrentTabType===this.lstTabControlResources[this._iCurrentTabControlIndex]){return $0;}}}return null;},getActionList:function(iActionType,bCheckSubActionType){var $0=[];for(var $1=0;$1<this.lstActionOverrideData.length;$1++){var $2=null;$2=this.$61(iActionType,$1,bCheckSubActionType);if(ss.isValue($2)){$0.add($2);}}return $0;},$62:function($p0){var $0=new Kepler.Engine.UI.Controls.Ruler.ActionData();$0.iActionType=parseInt($p0[0],10);$0.iIndex=parseInt($p0[1],10);if(ss.isValue($p0[2])&&$p0[2].length>0){$0.fDestinationPosition=parseFloat($p0[2]);}$0.iTargetFrame=parseInt($p0[3],10);$0.strVerifyUserSelection=$p0[4];if(ss.isValue($p0[5])&&$p0[5].length>0){$0.fCurrentTabPosition=parseFloat($p0[5]);}if(ss.isValue($p0[6])&&$p0[6].length>0){$0.iActionSubType=parseInt($p0[6],10);}if(ss.isValue($p0[7])&&$p0[7].length>0){$0.iCurrentTabType=parseInt($p0[7],10);}this.lstActionOverrideData.add($0);},$63:function($p0){this._iPixelsPerInch=parseInt($p0[0],10);this._fPageSize=parseFloat($p0[1]);this._fMarginLeft=parseFloat($p0[2]);this._fMarginRight=parseFloat($p0[3]);this._fLeftHangingIndent=parseFloat($p0[4]);this._fFirstLineIndent=parseFloat($p0[5]);this._fRightIndent=parseFloat($p0[6]);this._iMouseThreshold=6;this._Tabs.lstLeftTabs=this.$65($p0[7]);this._Tabs.lstRightTabs=this.$65($p0[8]);this._Tabs.lstCenterTabs=this.$65($p0[9]);this._Tabs.lstDecimalTabs=this.$65($p0[10]);this._Tabs.lstBarTabs=this.$65($p0[11]);this.set_useReferenceElementSize(false);if(this._fPageSize===-1){this.set_useReferenceElementSize(true);}},$64:function($p0){var $0=this._splitColumns.listSplitColumns;var $1=$p0.split('\u00a6');var $2=0;for(;$2<$1.length;$2++){var $3=parseFloat($1[$2]);if($0.length===$2){this.$59($3);}else{$0[$2].set_pos($3);}var $4=23+this.$47+this.getPixelfromInch($3)+this.get_scrollLeft();$0[$2].set_position(new Kepler.Framework.UI.Point($4,0));}},$65:function($p0){var $0=$p0.split('\u2022');var $1=[];if(!$p0.length){return $1;}for(var $2=0;$2<$0.length;$2++){$1.add(parseFloat($0[$2]));}return $1;},$66:function(){this._Tabs.resetTabs();this._fMarginLeft=1;this._fMarginRight=1;this._fLeftHangingIndent=0;this._fFirstLineIndent=0;this._fRightIndent=0;},$67:function(){switch(this.get_currentAction()){case 7:case 9:case 11:case 8:case 10:var $0=this.$6D(this.get_currentAction());if(ss.isValue($0)){$0.removeAt(this.get_currentRulerAction()._iModificationIndex);}break;case 18:var $1=this.$6D(this.get_currentActionTabType());if(ss.isValue($1)){$1[this.get_currentDraggedBarIndex()]=this.get_currentRulerAction()._fBackupValue;}break;case 4:this._fFirstLineIndent=this.get_currentRulerAction()._fBackupValue;break;case 3:case 17:if(this.$46){this._fLeftHangingIndent=this.get_currentRulerAction()._fBackupValue;}else{this._fLeftIndent=this.get_currentRulerAction()._fBackupValue;this._fLeftHangingIndent=this._fLeftIndent;}break;case 16:this._fLeftHangingIndent=this.get_currentRulerAction()._fBackupValue;break;case 6:this._fRightIndent=this.get_currentRulerAction()._fBackupValue;break;case 1:this._fMarginLeft=this.get_currentRulerAction()._fBackupValue;break;case 2:this._fMarginRight=this.get_currentRulerAction()._fBackupValue;break;case 19:break;}this.get_currentRulerAction().reset();},$68:function($p0){var $0=this.getPosOfRightMargin()-(23+$p0.get_x());if($0*100/this._iPixelsPerInch<62.5){return false;}if($p0.get_x()<=this.get_iRulerStart()){return false;}return true;},getTotalHeight:function(){return 14+8;},parseVisualHintData:function(arrTokenized){this.get_visualHints().clear();var $0=arrTokenized[4].split('\u2022')[1];if(ss.isValue($0)&&$0.length>0){if($0==='1'){this.$69('1',2,0,Kepler.Framework.Core.Globals.invaliD_VALUE);}else if($0==='2'){this.$69('1',1,0,Kepler.Framework.Core.Globals.invaliD_VALUE);}}this.$69(arrTokenized[5].split('\u2022')[1],3,0,Kepler.Framework.Core.Globals.invaliD_VALUE);this.$69(arrTokenized[6].split('\u2022')[1],4,0,Kepler.Framework.Core.Globals.invaliD_VALUE);var $1=5;for(var $2=7;$2<12;$2++){var $3=arrTokenized[$2].split('\u2022');for(var $4=0;$4<$3.length;$4++){this.$69($3[$4].split('\u00a7')[1],$1,$4,Kepler.Framework.Core.Globals.invaliD_VALUE);}$1+=1;}if(arrTokenized.length>12){this.$69(arrTokenized[12].split('\u2022')[1],0,0,Kepler.Framework.Core.Globals.invaliD_VALUE);}if(arrTokenized.length>13){var $5=arrTokenized[13].split('\u2022');for(var $6=0;$6<$5.length;$6++){this.$69('1',10,0,parseFloat($5[$6]));}}},$69:function($p0,$p1,$p2,$p3){if(ss.isValue($p0)&&$p0.length>0&&!!parseInt($p0,10)){var $0=new Kepler.Engine.UI.Controls.Ruler.VisualHintData();this.get_visualHints().add($0);$0.eTargetType=$p1;$0.iTargetIndex=$p2;$0.dPosition=$p3;}},$6A:function(){Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(this._divFirstLineIndent,'class_visual_hint_outline');Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(this._divCurrentTabChanger,'class_visual_hint_outline');Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(this._divRightIndent,'class_visual_hint_outline');Kepler.Engine.UI.Helper.HtmlCssHelper.setElementBackgroundPosition(this._divLeftHangingIndent,'');Kepler.Engine.UI.Helper.HtmlCssHelper.refreshDOM();},$6B:function(){var $0=this.get_visualHints();for(var $1=0;$1<$0.length;$1++){var $2=$0[$1];switch($2.eTargetType){case 3:Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this._divFirstLineIndent,'class_visual_hint_outline');break;case 2:case 1:if($2.eTargetType===2){Kepler.Engine.UI.Helper.HtmlCssHelper.setElementBackgroundPosition(this._divLeftHangingIndent,'-77px -2px');}else{Kepler.Engine.UI.Helper.HtmlCssHelper.setElementBackgroundPosition(this._divLeftHangingIndent,'-66px -2px');}break;case 4:Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this._divRightIndent,'class_visual_hint_outline');break;case 0:Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this._divCurrentTabChanger,'class_visual_hint_outline');break;}}},$6C:function(){var $0=this.get_iRulerStart()+this.getPixelfromInch(this._fMarginLeft);var $1=4;var $2;this._mainCtx.save();this._mainCtx.strokeStyle=Kepler.Framework.UI.Colors.RED.toString();this._mainCtx.lineWidth=2;this._mainCtx.beginPath();var $3=this.get_visualHints();for(var $4=0;$4<$3.length;$4++){var $5=$3[$4];switch($5.eTargetType){case 5:$2=$0+this.getPixelfromInch(this._Tabs.lstLeftTabs[$5.iTargetIndex]);this._mainCtx.rect($2-6,this.taB_START_POSITION-6,$1+10,4+10);this._mainCtx.stroke();break;case 6:$2=$0+this.getPixelfromInch(this._Tabs.lstRightTabs[$5.iTargetIndex]);this._mainCtx.rect($2-9,this.taB_START_POSITION-6,$1+10,4+10);this._mainCtx.stroke();break;case 7:$2=$0+this.getPixelfromInch(this._Tabs.lstCenterTabs[$5.iTargetIndex]);this._mainCtx.rect($2-8,this.taB_START_POSITION-6,$1+12,4+10);this._mainCtx.stroke();break;case 8:$2=$0+this.getPixelfromInch(this._Tabs.lstDecimalTabs[$5.iTargetIndex]);this._mainCtx.rect($2-8,this.taB_START_POSITION-6,$1+12,4+10);this._mainCtx.stroke();break;case 9:$2=$0+this.getPixelfromInch(this._Tabs.lstBarTabs[$5.iTargetIndex]);this._mainCtx.rect($2-6,this.taB_START_POSITION-6,$1+10,4+10);this._mainCtx.stroke();break;case 10:$2=Math.floor($0+this.getPixelfromInch($5.dPosition));var $6=this._mainCtx.lineWidth;this._mainCtx.lineWidth=2;this._mainCtx.moveTo($2-this._mainCtx.lineWidth/2,0);this._mainCtx.lineTo($2-this._mainCtx.lineWidth/2,this._iHeight+5);this._mainCtx.stroke();this._mainCtx.lineWidth=$6;break;}}this._mainCtx.closePath();this._mainCtx.restore();},$6D:function($p0){switch($p0){case 7:return this._Tabs.lstLeftTabs;case 9:return this._Tabs.lstRightTabs;case 10:return this._Tabs.lstDecimalTabs;case 11:return this._Tabs.lstBarTabs;case 8:return this._Tabs.lstCenterTabs;}return null;},$6E:function($p0,$p1){for(var $0=0;$0<$p0.length;$0++){if(Math.abs($p0[$0]-$p1)<=this.getInchfromPixel(5)){return $0;}}return -1;},getTabTypeByTabPostion:function(fPos){if(this._Tabs.isHit(this._Tabs.lstLeftTabs,fPos)){return 7;}else if(this._Tabs.isHit(this._Tabs.lstRightTabs,fPos)){return 9;}else if(this._Tabs.isHit(this._Tabs.lstBarTabs,fPos)){return 11;}else if(this._Tabs.isHit(this._Tabs.lstDecimalTabs,fPos)){return 10;}else if(this._Tabs.isHit(this._Tabs.lstCenterTabs,fPos)){return 8;}return -1;},getTabNameByTabPostion:function(fPos){if(this._Tabs.isHit(this._Tabs.lstLeftTabs,fPos,this.getInchfromPixel(Kepler.Engine.UI.Controls.Ruler.RULER_CONSTANTS.get_positioN_CHECK_THRESHOLD()))){return 'Left Tab';}else if(this._Tabs.isHit(this._Tabs.lstRightTabs,fPos,this.getInchfromPixel(Kepler.Engine.UI.Controls.Ruler.RULER_CONSTANTS.get_positioN_CHECK_THRESHOLD()))){return 'Right Tab';}else if(this._Tabs.isHit(this._Tabs.lstBarTabs,fPos,this.getInchfromPixel(Kepler.Engine.UI.Controls.Ruler.RULER_CONSTANTS.get_positioN_CHECK_THRESHOLD()))){return 'Bar Tab';}else if(this._Tabs.isHit(this._Tabs.lstDecimalTabs,fPos,this.getInchfromPixel(Kepler.Engine.UI.Controls.Ruler.RULER_CONSTANTS.get_positioN_CHECK_THRESHOLD()))){return 'Decimal Tab';}else if(this._Tabs.isHit(this._Tabs.lstCenterTabs,fPos,this.getInchfromPixel(Kepler.Engine.UI.Controls.Ruler.RULER_CONSTANTS.get_positioN_CHECK_THRESHOLD()))){return 'Center Tab';}return '';},isCreatingOrMovingTabs:function(iActionType){switch(iActionType){case 7:case 9:case 10:case 11:case 8:case 18:case 14:return true;}return false;},isClickOnExistingIndents:function(iActionType){switch(iActionType){case 4:case 3:case 17:case 6:return true;}return false;},$6F:function($p0){switch($p0){case 4:return 20;case 3:return 21;case 17:return 22;case 6:return 23;}return 0;},isHittingLeftHangingIndent:function(mouseEventArgs){var $0=this.getOffsetPointFromEventArgs(mouseEventArgs,true);var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getComputedRect(this._divLeftHangingIndent);$1.set_top(this._iHeight-($1.get_height()+parseInt(this._divLeftHangingIndent.style.bottom)));$1.set_bottom(this._iHeight+$1.get_height());if(!Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){if(mouseEventArgs.get_target()===this._divLeftHangingIndent){return true;}else{return false;}}else{if(Math.abs($0.get_x()-(this.get_sizE_TILL_LEFT_MARGIN()+this.getPixelfromInch(this._fLeftHangingIndent)))<=Kepler.Engine.UI.Controls.Ruler.RULER_CONSTANTS.get_positioN_CHECK_THRESHOLD()+10&&($0.get_y()>=$1.get_top()&&$0.get_y()<=$1.get_bottom())){return true;}else{return false;}}},isHittingFirstLineIndent:function(mouseEventArgs){var $0=this.getOffsetPointFromEventArgs(mouseEventArgs,true);var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getComputedRect(this._divFirstLineIndent);if(!Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){if(mouseEventArgs.get_target()===this._divFirstLineIndent){return true;}else{return false;}}else{if(Math.abs($0.get_x()-(this.get_sizE_TILL_LEFT_MARGIN()+this.getPixelfromInch(this._fFirstLineIndent)))<=Kepler.Engine.UI.Controls.Ruler.RULER_CONSTANTS.get_positioN_CHECK_THRESHOLD()+10&&($0.get_y()>=$1.get_top()&&$0.get_y()<=$1.get_bottom())){return true;}else{return false;}}},isHittingRightIndent:function(mouseEventArgs){var $0=this.getOffsetPointFromEventArgs(mouseEventArgs,true);var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getComputedRect(this._divRightIndent);$1.set_top(this._iHeight-($1.get_height()+parseInt(this._divRightIndent.style.bottom)));$1.set_bottom(this._iHeight+$1.get_height());if(!Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){if(mouseEventArgs.get_target()===this._divRightIndent){return true;}else{return false;}}else{if(Math.abs($0.get_x()-this.get_pos_Right_Indent())<=Kepler.Engine.UI.Controls.Ruler.RULER_CONSTANTS.get_positioN_CHECK_THRESHOLD()+10*2&&($0.get_y()>=$1.get_top()&&$0.get_y()<=$1.get_bottom())){return true;}else{return false;}}},startColumnResize:function(iColumnIndex,strColumnOverride){if(!this._splitColumns.listSplitColumns.length){this.$64(strColumnOverride);this.$54=true;}var $0=Framework.UI.Events.EventDispatcher.getEventArgs(2);var $1=this._splitColumns.listSplitColumns[iColumnIndex].get_divColumn();$0.initDomEventArgs($1,$0.get_event());var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientRect($1);var $3=$2.get_centerPoint().get_x();var $4=$2.get_centerPoint().get_y();$0.initMouseEventArgs($3,$4,$3,$4,$3,$4,$3,$4,0);this.onLButtonDown($0);return true;}}
Kepler.Engine.UI.Controls.Ruler.BaseRuler=function(strId){this.$41=1;this._iCurrentMouseState=0;this.currentPt=new Kepler.Framework.UI.Point(0,0);this.$44=[];Kepler.Engine.UI.Controls.Ruler.BaseRuler.initializeBase(this,['div',' position_absolute',strId]);this.initContorls();this.setDefaultParameters();}
Kepler.Engine.UI.Controls.Ruler.BaseRuler.toFloat=function(fValue,nPrecision){if(ss.isNullOrUndefined(nPrecision)){nPrecision=0;}var $0=parseInt((fValue*Math.pow(10,nPrecision)));return $0/Math.pow(10,nPrecision);}
Kepler.Engine.UI.Controls.Ruler.BaseRuler.prototype={get_currentRulerMode:function(){return this.$41;},set_currentRulerMode:function(value){this.$41=value;return value;},get_uniT_STROKE_COLOR:function(){if(this.get_currentRulerMode()===1){return '#464646';}else{return '#C7C7C7';}},_iPixelsPerInch:96,_bIsDblClickActionDone:false,_bIsTimerSetOnce:false,_fPageSize:0,_iWidth:0,_iHeight:0,_iLineWidth:1,_iRulerWidth:1,_rulerContext:null,_mainCanvas:null,_mainCtx:null,_rulerCanvas:null,get_rulerCanvas:function(){return this._rulerCanvas;},set_rulerCanvas:function(value){this._rulerCanvas=value;return value;},_timerDblClkChecker:null,_toolTipChecker:null,_iMouseThreshold:0,$42:null,_strToolTipText:null,_toolTipPoint:null,_iRulerTopOffSet:3,get_topOffSet:function(){return this._iRulerTopOffSet;},set_topOffSet:function(value){this._iRulerTopOffSet=value;return value;},_iParentLeftOffSet:500,get_leftOffSet:function(){return this._iParentLeftOffSet;},set_leftOffSet:function(value){this._iParentLeftOffSet=value;return value;},get_currenT_MOUSE_STATE:function(){return this._iCurrentMouseState;},set_currenT_MOUSE_STATE:function(value){this._iCurrentMouseState=value;return value;},$43:0,get_currentAction:function(){return this.$43;},set_currentAction:function(value){this.$43=value;return value;},get_visualHints:function(){return this.$44;},setDefaultParameters:function(){},initContorls:function(){this._rulerCanvas=new Kepler.Framework.UI.Controls.Canvas.CanvasControl();this._rulerCanvas.set_allowEventBubbling(true);this._mainCanvas=this._rulerCanvas.get_element();this._mainCtx=this.initCanvas();var $0=this.$45();if(ss.isValue($0)){this.get_element().appendChild($0);}},initCanvas:function(){this._rulerCanvas.set_size(new Kepler.Framework.UI.Size(this._iWidth,this._iHeight));var $0=this._rulerCanvas.get_element();$0.style['float']='left';$0.width=this._iWidth;$0.height=this._iHeight;Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this._rulerCanvas.get_element(),'ruler-canvas');return $0.getContext('2d');},drawRuler:function(){},drawMargin:function(){},drawBorder:function(){},drawSpacer:function(){},clearCanvas:function(){this._mainCanvas.width=this._mainCanvas.width;},addTop:function(iStep){var $0=parseInt(this.get_element().style.top);this.get_element().style.top=($0+iStep)+'px';},addLeft:function(iStep){var $0=parseInt(this.get_element().style.left);this.get_element().style.left=($0+iStep)+'px';},getPixelfromInch:function(inch){return parseInt((inch*this._iPixelsPerInch));},getInchfromPixel:function(pix){return ((pix*1)/this._iPixelsPerInch);},getContext:function(){return this._mainCanvas.getContext('2d');},$45:function(){this.$42=document.createElement('div');Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this.$42,'tooltip ruler-tooltip');return this.$42;},showToolTip:function(currMousePoint,strToolTipText){var $0=5;this.$42.style.display='block';this.$42.innerHTML=strToolTipText;this.$42.style.left=(currMousePoint.get_x()+$0)+'px';this.$42.style.top=(currMousePoint.get_y()+$0)+'px';this.$42.style.opacity='0';Kepler.Engine.UI.Helper.HtmlCssHelper.applyTransition(this.$42,'opacity',null);this.$42.style.opacity='1';},hideToolTip:function(){Kepler.Engine.UI.Helper.HtmlCssHelper.remvoeAllTransition(this.$42);this.$42.style.display='none';this.$42.style.opacity='1';},getFontStyle:function(){return 'normal 200 '+10+'px Arial';}}
Kepler.Engine.UI.Controls.Ruler.ActionData=function(){this.iActionType=-1;this.iIndex=-1;this.iTargetFrame=-1;this.iActionSubType=-1;this.fCurrentTabPosition=-1;this.strVerifyUserSelection='';this.iCurrentTabType=-1;}
Kepler.Engine.UI.Controls.Ruler.ActionData.prototype={iActionType:0,iIndex:0,fDestinationPosition:0,iTargetFrame:0,strVerifyUserSelection:null,iActionSubType:0,iCurrentTabType:0,fCurrentTabPosition:0}
Kepler.Engine.UI.Controls.Ruler.RulerTabs=function(){this.lstLeftTabs=[];this.lstRightTabs=[];this.lstCenterTabs=[];this.lstDecimalTabs=[];this.lstBarTabs=[];Kepler.Engine.UI.Controls.Ruler.RulerTabs.initializeBase(this);}
Kepler.Engine.UI.Controls.Ruler.RulerTabs.prototype={$1_0:0,isHittingTabs:function(fPos,fThreshold){this.$1_0=fThreshold;return this.isHit(this.lstLeftTabs,fPos)||this.isHit(this.lstRightTabs,fPos)||this.isHit(this.lstCenterTabs,fPos)||this.isHit(this.lstDecimalTabs,fPos)||this.isHit(this.lstBarTabs,fPos);},isHit:function(lstTabs,fPos,fThreshold){if(!ss.isValue(fThreshold)){fThreshold=this.$1_0;}var $0=0;for($0=0;$0<lstTabs.length;$0++){if((fPos>(lstTabs[$0]-fThreshold))&&(fPos<(lstTabs[$0]+fThreshold))){return true;}}return false;},$1_1:function($p0,$p1){var $0=0;for($0=0;$0<$p0.length;$0++){if(($p1>($p0[$0]-this.$1_0))&&($p1<($p0[$0]+this.$1_0))){return $p0[$0];}}return 0;},getHitTabValue:function(fPos){if(this.isHit(this.lstLeftTabs,fPos)){return this.$1_1(this.lstLeftTabs,fPos);}else if(this.isHit(this.lstBarTabs,fPos)){return this.$1_1(this.lstBarTabs,fPos);}else if(this.isHit(this.lstCenterTabs,fPos)){return this.$1_1(this.lstCenterTabs,fPos);}else if(this.isHit(this.lstDecimalTabs,fPos)){return this.$1_1(this.lstDecimalTabs,fPos);}else if(this.isHit(this.lstRightTabs,fPos)){return this.$1_1(this.lstRightTabs,fPos);}return 0;},get_count:function(){return this.lstBarTabs.length+this.lstRightTabs.length+this.lstCenterTabs.length+this.lstDecimalTabs.length+this.lstBarTabs.length;},resetTabs:function(){this.lstLeftTabs.clear();this.lstRightTabs.clear();this.lstCenterTabs.clear();this.lstDecimalTabs.clear();this.lstBarTabs.clear();}}
Kepler.Engine.UI.Controls.Ruler.Column=function(){Kepler.Engine.UI.Controls.Ruler.Column.initializeBase(this);}
Kepler.Engine.UI.Controls.Ruler.Column.prototype={$1_0:null,$1_1:null,$1_2:0,$1_3:0,$1_4:0,get_pos:function(){return this.$1_4;},set_pos:function(value){this.$1_4=value;return value;},get_position:function(){return this.$1_0;},set_position:function(value){this.$1_0=value;if(!ss.isNullOrUndefined(this.$1_1)){this.$1_1.style['top']=this.$1_0.get_y()+'px';this.$1_1.style['left']=this.$1_0.get_x()+'px';}return value;},get_divColumn:function(){return this.$1_1;},set_divColumn:function(value){this.$1_1=value;return value;},get_width:function(){return this.$1_2;},get_height:function(){return this.$1_3;},setViewMode:function(bIsHorizontall){if(bIsHorizontall){this.$1_2=17;this.$1_3=10;}else{this.$1_2=10;this.$1_3=7;}},isPointInDiv:function(currPoint){if((currPoint.get_x()>=this.get_position().get_x()&&currPoint.get_x()<=this.get_position().get_x()+this.get_width())&&(currPoint.get_y()>=this.get_position().get_y()&&currPoint.get_y()<=this.get_position().get_y()+this.get_height())){return true;}else{return false;}},createColumn:function(fPosInInch){this.$1_4=fPosInInch;this.$1_1=document.createElement('div');this.$1_1.style['width']=this.$1_2+'px';this.$1_1.style['height']=this.$1_3+'px';return this.$1_1;},clone:function(){var $0=new Kepler.Engine.UI.Controls.Ruler.Column();$0.set_position(this.get_position().clone());$0.$1_1=this.$1_1.cloneNode();$0.$1_2=this.$1_2;$0.$1_3=this.$1_3;$0.$1_4=this.$1_4;return $0;},destroyColumn:function(){var $0=this.$1_1.parentNode;if(!ss.isNullOrUndefined($0)){$0.removeChild(this.$1_1);this.$1_1=null;this.$1_0=null;}}}
Kepler.Engine.UI.Controls.Ruler.SplitColumns=function(){this.listSplitColumns=[];this.listOldSplitColumns=[];Kepler.Engine.UI.Controls.Ruler.SplitColumns.initializeBase(this);}
Kepler.Engine.UI.Controls.Ruler.SplitColumns.prototype={$1_0:false,get_count:function(){return this.listSplitColumns.length;},createBackup:function(){this.listOldSplitColumns=this.cloneOf(this.listSplitColumns);},setViewMode:function(bIsHorizontall){this.$1_0=bIsHorizontall;},createSplitColumn:function(fPosInInch){var $0=new Kepler.Engine.UI.Controls.Ruler.Column();$0.setViewMode(this.$1_0);$0.createColumn(fPosInInch);this.listSplitColumns.add($0);if(this.$1_0){$0.get_divColumn().className='hruler_table_column_tab';}else{$0.get_divColumn().className='vruler_table_column_tab';}return $0.get_divColumn();},clearTabs:function(){this.resetTabs();this.resetBackupTabs();},reset:function(){this.resetTabs();this.listSplitColumns=this.cloneOf(this.listOldSplitColumns);},cloneOf:function(listSrcTabs){var $0=[];for(var $1=0;$1<listSrcTabs.length;$1++){var $2=new Kepler.Engine.UI.Controls.Ruler.Column();$2=listSrcTabs[$1].clone();$0.add($2);}return $0;},isPointOnColumn:function(currPoint){for(var $0=0;$0<this.listSplitColumns.length;$0++){var $1=this.listSplitColumns[$0];if($1.isPointInDiv(currPoint)){return true;}}return false;},getColumnOnPoint:function(currPoint){for(var $0=0;$0<this.listSplitColumns.length;$0++){var $1=this.listSplitColumns[$0];if($1.isPointInDiv(currPoint)){return $1;}}return null;},resetBackupTabs:function(){this.listOldSplitColumns.clear();},resetTabs:function(){for(var $0=0;$0<this.listSplitColumns.length;$0++){this.listSplitColumns[$0].destroyColumn();}this.listSplitColumns.clear();}}
Kepler.Engine.UI.Controls.Ruler.CurrentAction=function(){this._iModificationIndex=-1;this.$0=-1;this._iModificationType=2;this.$1=-1;}
Kepler.Engine.UI.Controls.Ruler.CurrentAction.prototype={get_modificationIndex:function(){return this._iModificationIndex;},set_modificationIndex:function(value){this._iModificationIndex=value;return value;},get_currentPosition:function(){return this.$0;},set_currentPosition:function(value){this.$0=value;return value;},get_modificationType:function(){return this._iModificationType;},set_modificationType:function(value){this._iModificationType=value;return value;},_fBackupValue:0,get_backupValue:function(){return this._fBackupValue;},set_backupValue:function(value){this._fBackupValue=value;return value;},get_currentTabType:function(){return this.$1;},set_currentTabType:function(value){this.$1=value;return value;},$2:'',get_clickStreamData:function(){return this.$2;},set_clickStreamData:function(value){this.$2=value;return value;},clone:function(){var $0=new Kepler.Engine.UI.Controls.Ruler.CurrentAction();$0._fBackupValue=this._fBackupValue;$0._iModificationIndex=this._iModificationIndex;$0._iModificationType=this._iModificationType;$0.$0=this.$0;$0.$1=this.$1;$0.$2=this.$2;return $0;},reset:function(){this._fBackupValue=0;this._iModificationIndex=-1;this._iModificationType=2;}}
Kepler.Engine.UI.Controls.Ruler.BaseVRuler=function(strId){this.$4A=[];this.$4B=[];this._splitColumns=new Kepler.Engine.UI.Controls.Ruler.SplitColumns();this.$4E=-1;this.$4F=new Kepler.Framework.UI.Point(0,0);this.$50=new Kepler.Framework.UI.Point(0,0);Kepler.Engine.UI.Controls.Ruler.BaseVRuler.initializeBase(this,[strId]);this.set_leftOffSet(2);this.set_topOffSet(32);this._fPageSize=8;this._iCurrentAction=0;this.set_position(new Kepler.Framework.UI.Point(this.get_leftOffSet(),this.get_topOffSet()));this.set_iRulerStart(0);this.set_iRulerEnd(this._iHeight);this._iRulerWidth=12;this.set_size(new Kepler.Framework.UI.Size(12,1000));this._splitColumns.setViewMode(false);this.get_element().style.zIndex=1;}
Kepler.Engine.UI.Controls.Ruler.BaseVRuler.prototype={smalL_MARKER_PIXEL:12,get_largE_MARKER_PIXEL:function(){return 4*this.smalL_MARKER_PIXEL;},_fMarginTop:0.75,_fMarginBottom:0.75,_iCurrentAction:0,get_topOffSet:function(){return this._iRulerTopOffSet;},set_topOffSet:function(value){this._iRulerTopOffSet=value;this.get_element().style.top=this.get_topOffSet()+'px';return value;},$46:0,get_scrollTop:function(){return this.$46;},set_scrollTop:function(value){this.$46=value;return value;},$47:0,get_iRulerStart:function(){return this.$47;},set_iRulerStart:function(value){this.$47=value;return value;},$48:0,get_iRulerEnd:function(){return this.$48;},set_iRulerEnd:function(value){this.$48=value;return value;},get_sizE_TILL_TOP_MARGIN:function(){return this.get_iRulerStart()+this.getPixelfromInch(this._fMarginTop);},$49:false,get_hideColumnOnEnd:function(){return this.$49;},set_hideColumnOnEnd:function(value){this.$49=value;return value;},_currentMovingColumn:null,_iDiffYInColumnMove:0,$4C:null,$4D:null,get_currentEvtArgs:function(){return this.$4D;},set_currentEvtArgs:function(value){this.$4D=value;return value;},get_currentDraggedBarIndex:function(){return this.$4E;},set_currentDraggedBarIndex:function(value){this.$4E=value;return value;},get_currentMouseDownPoint:function(){return this.$4F;},set_currentMouseDownPoint:function(value){this.$4F=value;return value;},get_currentMousePoint:function(){return this.$50;},set_currentMousePoint:function(value){this.$50=value;return value;},$51:null,get_currentRulerAction:function(){return this.$51;},set_currentRulerAction:function(value){this.$51=value;return value;},initCanvas:function(){Kepler.Engine.UI.Controls.Ruler.BaseVRuler.callBaseMethod(this, 'initCanvas');this.$52(this._iWidth,this._iHeight);return this._mainCanvas.getContext('2d');},$52:function($p0,$p1){this._rulerCanvas.set_size(new Kepler.Framework.UI.Size($p0,$p1));this._mainCanvas.width=$p0;this._mainCanvas.height=$p1;},onLoad:function(){Kepler.Engine.UI.Controls.Ruler.BaseVRuler.callBaseMethod(this, 'onLoad');this.add(this._rulerCanvas);this.$53();this.$4C=document.createElement('div');this.$4C.style['height']='1px';this.$4C.style['border-top']='1px dotted black';this.$4C.style['position']='absolute';this.$4C.style['left']=6+this._iWidth+'px';this.showHidePreviewControl(false);this.$4C.style['background-color']='transparent';Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this.$4C,'position_preview');this.get_element().appendChild(this.$4C);},onParentResized:function(szParent){Kepler.Engine.UI.Controls.Ruler.BaseVRuler.callBaseMethod(this, 'onParentResized',[szParent]);this.$4C.style.width=szParent.get_width()+'px';this.$4C.style.left=3+this._iWidth+'px';},onSize:function(){Kepler.Engine.UI.Controls.Ruler.BaseVRuler.callBaseMethod(this, 'onSize');this._iWidth=this.get_size().get_width();this._iHeight=this.get_size().get_height();this.$52(this._iWidth,this._iHeight);},$53:function(){this.addEvents(2);this.addEvents(4);this.addEvents(8);this.addEvents(64);},draw:function(){this.clearCanvas();this.drawMargin();this.drawSpacer();this.drawRuler();this.drawBorder();},drawStartEnd:function(){this._mainCtx.save();this._mainCtx.strokeStyle='red';this._mainCtx.lineWidth=2;var $0=this.get_iRulerStart();this._mainCtx.beginPath();this._mainCtx.moveTo($0,0);this._mainCtx.lineTo($0,this._iHeight);$0=this._iWidth-this.$48;this._mainCtx.moveTo($0,0);this._mainCtx.lineTo($0,this._iHeight);this._mainCtx.stroke();this._mainCtx.closePath();this._mainCtx.restore();var $1=this.getPixelfromInch(this._fPageSize);this._mainCtx.save();this._mainCtx.strokeStyle='red';this._mainCtx.lineWidth=2;$0=this.get_iRulerStart();this._mainCtx.beginPath();this._mainCtx.moveTo($0,0);this._mainCtx.lineTo($0+$1,0);this._mainCtx.stroke();this._mainCtx.closePath();this._mainCtx.restore();},drawSpacer:function(){this._mainCtx.save();this._mainCtx.fillStyle='white';this._mainCtx.fillRect(this.$47,this.getPixelfromInch(this._fMarginTop),this._iWidth,this._iHeight-this.getPixelfromInch(this._fMarginBottom)-this.getPixelfromInch(this._fMarginTop));this._mainCtx.restore();},drawBorder:function(){this._mainCtx.save();this._mainCtx.beginPath();this._mainCtx.strokeStyle='#E2E2E2';this._mainCtx.lineCap='square';this._mainCtx.moveTo(this.get_iRulerStart()+0.5,0.5);this._mainCtx.lineTo(this.get_iRulerStart()+this._iWidth,0.5);this._mainCtx.moveTo(this.get_iRulerStart()+this._iWidth-0.5,0.5);this._mainCtx.lineTo(this.get_iRulerStart()+this._iWidth-0.5,this._iHeight);this._mainCtx.moveTo(this.get_iRulerStart()+this._iWidth-0.5,this._iHeight-0.5);this._mainCtx.lineTo(this.get_iRulerStart()+0.5,this._iHeight-0.5);this._mainCtx.moveTo(this.get_iRulerStart()+0.5,this._iHeight);this._mainCtx.lineTo(this.get_iRulerStart()+0.5,0);this._mainCtx.stroke();this._mainCtx.closePath();this._mainCtx.restore();},drawMargin:function(){var $0=this.getPixelfromInch(this._fMarginTop);var $1=this.getPixelfromInch(this._fMarginBottom);this._mainCtx.save();this._mainCtx.fillStyle='#DADADA';this._mainCtx.fillRect(0,0,this._iWidth,this.getPixelfromInch(this._fMarginTop));this._mainCtx.fillRect(this.$47,this._iHeight-this.getPixelfromInch(this._fMarginTop),this._iWidth,this.getPixelfromInch(this._fMarginBottom));this._mainCtx.restore();},onLButtonDown:function(mouseEventArgs){this.setCapture();var $0=new Kepler.Framework.UI.Point(this.getOffsetPointFromEventArgs(mouseEventArgs,true).get_x(),this.getOffsetPointFromEventArgs(mouseEventArgs,true).get_y());if(this.isCursorOnMargin(this.getPixelfromInch(this._fMarginTop)+this.get_iRulerStart(),$0)){this._iCurrentAction=30;}else if(this._splitColumns.isPointOnColumn($0)){this._iCurrentAction=14;this._currentMovingColumn=this._splitColumns.getColumnOnPoint($0);}},onMouseMove:function(mouseEventArgs){this.set_currentEvtArgs(mouseEventArgs);var $0=this.getOffsetPointFromEventArgs(mouseEventArgs,true);if(this.get_currentAction()===0||this.get_currenT_MOUSE_STATE()===3){return;}this.set_currenT_MOUSE_STATE(2);this.set_currentMousePoint($0);var $1=$0.clone();var $2=false;switch(this.get_currentAction()){case 14:if(!ss.isNullOrUndefined(this._currentMovingColumn)){var $3=new Kepler.Framework.UI.Point(this._currentMovingColumn.get_position().get_x(),($1.get_y()-this._iDiffYInColumnMove));this._currentMovingColumn.set_position($3);$2=true;}break;}if($2){this.updatePreviewControl($0.get_y());}},onLButtonUp:function(mouseEventArgs){this.releaseCapture();this._iCurrentAction=0;this._currentMovingColumn=null;},onMouseDblClick:function(mouseEventArgs){this._iCurrentAction=0;},updateTopMargin:function(currentPoint){if(this._iCurrentAction===0){this.changeCursorStyle(currentPoint);}var $0=this._fMarginTop;this._fMarginTop=this.getInchfromPixel(currentPoint.get_y()-this.get_iRulerStart());this.updatePreviewControl(currentPoint.get_y());return true;},changeCursorStyle:function(currentPoint){if(this.isCursorOnMargin(this.getPixelfromInch(this._fMarginTop)+this.get_iRulerStart(),currentPoint)){this.get_element().style['cursor']='n-resize';}else if(this.isCursorOnMargin(this._iWidth-this.getPixelfromInch(this._fMarginBottom)-this.get_iRulerEnd(),currentPoint)){this.get_element().style['cursor']='n-resize';}else{this.get_element().style['cursor']='default';}},startRowResize:function(iRowIndex,strRowOverride){if(!this._splitColumns.listSplitColumns.length){this.$55(strRowOverride);this.$49=true;}var $0=Framework.UI.Events.EventDispatcher.getEventArgs(2);var $1=this._splitColumns.listSplitColumns[iRowIndex].get_divColumn();$0.initDomEventArgs($1,$0.get_event());var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientRect($1);var $3=$2.get_centerPoint().get_x();var $4=$2.get_centerPoint().get_y();$0.initMouseEventArgs($3,$4,$3,$4,$3,$4,$3,$4,0);this.onLButtonDown($0);return true;},showHidePreviewControl:function(bShow){if(bShow){this.$4C.style.display='block';}else{this.$4C.style.display='none';}},updatePreviewControl:function(currentPoint){this.showHidePreviewControl(true);this.$4C.style.top=currentPoint+'px';},updateView:function(){this.draw();},setData:function(map){if(ss.isValue(map['vert_ruler_override_data'])){var $1=map['vert_ruler_override_data'].split('\u00a6');this.parseOverrideData($1);}var $0=map['vert_ruler_action_data'];if(!ss.isNullOrUndefined($0)){var $2=$0.split('\u00a6');this.$4B.clear();for(var $3=0;$3<$2.length;$3++){var $4=$2[$3].split('\u2022');this.$54($4);}}if(ss.isValue(map['vert_ruler_override_column_data'])){this.$55(map['vert_ruler_override_column_data']);}else{this._splitColumns.resetTabs();}this.updateView();},$54:function($p0){var $0=new Kepler.Engine.UI.Controls.Ruler.ActionData();$0.iActionType=parseInt($p0[0],10);$0.iIndex=parseInt($p0[1],10);if(ss.isValue($p0[2])&&$p0[2].length>0){$0.fDestinationPosition=parseFloat($p0[2]);}$0.iTargetFrame=parseInt($p0[3],10);$0.strVerifyUserSelection=$p0[4];this.$4B.add($0);},parseOverrideData:function(arrStrOverrideData){this._iPixelsPerInch=parseInt(arrStrOverrideData[0],10);this._fPageSize=parseFloat(arrStrOverrideData[1]);this._iMouseThreshold=Kepler.Engine.UI.Controls.Ruler.RULER_CONSTANTS.get_positioN_CHECK_THRESHOLD();},$55:function($p0){var $0=this._splitColumns.listSplitColumns;var $1=$p0.split('\u00a6');var $2=0;for(;$2<$1.length;$2++){var $3=parseFloat($1[$2]);if($0.length===$2){this.$58($3);}else{$0[$2].set_pos($3);}var $4=this.$47+this.getPixelfromInch($3)+this.get_scrollTop();$0[$2].set_position(new Kepler.Framework.UI.Point(0,$4));}},parseTabData:function(strTabData){var $0=strTabData.split('\u2022');var $1=[];if(!strTabData.length){return $1;}for(var $2=0;$2<$0.length;$2++){$1.add(parseFloat($0[$2]));}return $1;},getAction:function(iActionType){for(var $0=0;$0<this.$4B.length;$0++){var $1=this.$4B[$0];if($1.iActionType===iActionType){return $1;}}return null;},$56:function($p0,$p1,$p2){var $0=this.$4B[$p1];if($0.iActionType===$p0){if($p2){if($p0===14){return $0;}}}return null;},getActionList:function(iActionType,bCheckSubActionType){var $0=[];for(var $1=0;$1<this.$4B.length;$1++){var $2=null;$2=this.$56(iActionType,$1,bCheckSubActionType);if(ss.isValue($2)){$0.add($2);}}return $0;},resetRuler:function(){this.draw();},resetActions:function(){this.get_currentRulerAction().reset();this.set_currentAction(0);},reset:function(){this.clearTimer();this.resetRuler();this.resetActions();this.$57();},$57:function(){this._splitColumns.reset();var $0=this._splitColumns.listSplitColumns;for(var $1=0;$1<$0.length;$1++){this.get_element().appendChild($0[$1].get_divColumn());}},clearTimer:function(){this._timerDblClkChecker.stop();},isCreatingOrMovingTabs:function(iActionType){switch(iActionType){case 14:return true;}return false;},isPointBtnMargins:function(currentPoint){if(currentPoint.get_y()>=this.get_iRulerStart()+this.getPixelfromInch(this._fMarginTop)&&currentPoint.get_y()<=this._iHeight-this.get_iRulerEnd()-this.getPixelfromInch(this._fMarginBottom)){return true;}return false;},isPointInCanvasHorizontally:function(currentPoint){var $0=currentPoint.get_x()+this.get_left();if($0>=this.get_left()&&$0<this.get_left()+this._iWidth+10){return true;}else{return false;}},isCursorOnMargin:function(iMargin,currentPoint){if(currentPoint.get_y()>=iMargin-4&&currentPoint.get_y()<=iMargin+4){return true;}return false;},isCursorOnSplitColumn:function(currentPoint){return this._splitColumns.isPointOnColumn(currentPoint);},isMouseDownNMoveSame:function(){if(ss.isValue(this.get_currentMouseDownPoint())&&ss.isValue(this.get_currentMousePoint())){if((Math.abs(this.get_currentMousePoint().get_x()-this.get_currentMouseDownPoint().get_x())<=Kepler.Engine.UI.Controls.Ruler.RULER_CONSTANTS.get_positioN_CHECK_THRESHOLD())&&(Math.abs(this.get_currentMousePoint().get_y()-this.get_currentMouseDownPoint().get_y())<=Kepler.Engine.UI.Controls.Ruler.RULER_CONSTANTS.get_positioN_CHECK_THRESHOLD())){return true;}else{return false;}}else{return false;}},isTimerRunning:function(){if(this._timerDblClkChecker.get_isRunning()){return true;}else{return false;}},$58:function($p0){var $0=this._splitColumns.createSplitColumn($p0);this.get_element().appendChild($0);},addTop:function(iStep){var $0=parseInt(this._mainCanvas.style.top);if(isNaN($0)){$0=0;}this.set_scrollTop(this.get_scrollTop()+iStep);this._mainCanvas.style.top=($0+iStep)+'px';this.updateColumnPosition();},updateColumnPosition:function(){var $0=this._splitColumns.listSplitColumns;for(var $1=0;$1<$0.length;$1++){var $2=$0[$1];var $3=this.$47+this.getPixelfromInch($2.get_pos())+this.get_scrollTop();$2.set_position(new Kepler.Framework.UI.Point(0,$3));}},setRulerBounds:function(arrPageHeaderRect,arrPageFooterRect){var $0;if(ss.isNullOrUndefined(arrPageHeaderRect[0])||ss.isNullOrUndefined(arrPageFooterRect[0])||arrPageHeaderRect.length<1||arrPageFooterRect.length<1){$0=1000;}else{$0=arrPageHeaderRect[0].get_top()+arrPageFooterRect[0].get_bottom();}this.setRulerBoundHeight($0);},setRulerBoundHeight:function(iPageH){this.set_size(new Kepler.Framework.UI.Size(this.get_size().get_width(),iPageH));this.draw();}}
Type.registerNamespace('Kepler.Framework.UI.Scroller');Kepler.Framework.UI.Scroller.ScrollStruct=function(){}
Kepler.Framework.UI.Scroller.ScrollStruct.prototype={hScroll:false,vScroll:true,hScrollbar:false,vScrollbar:true,bounce:true,bounceLock:false,bHandleEvents:false,zoom:false,scrollbarClass:'',scrollElement:null,hideScrollbar:true,momentum:true,onScrollMove:null,onScrollEnd:null}
Kepler.Framework.UI.Scroller.ScrollHandler=function(){this.$0=[];}
Kepler.Framework.UI.Scroller.ScrollHandler.getParentElement=function(element,elemToCheck){while(element!=null){if(element===elemToCheck){return element;}element=element.parentNode;}return null;}
Kepler.Framework.UI.Scroller.ScrollHandler.prototype={$0:null,addScroller:function(scrollStruct){var $0=new Kepler.Framework.UI.Scroller.ScrollView(scrollStruct);this.$0.add($0);return $0;},removeScroller:function(elemToRemoveScroll){var $0=0;for(;$0<this.$0.length;$0++){if(this.$0[$0].get_scrollElem()===elemToRemoveScroll){this.$0[$0].destroyScroller();this.$0.removeAt($0);}}},initScroller:function(){var $0=0;for(;$0<this.$0.length;$0++){if(!this.$0[$0].get_initialized()){this.$0[$0].initializeScroller();}}},refresh:function(){var $0=0;for(;$0<this.$0.length;$0++){this.$0[$0].refresh();}},getScrollView:function(elem){if(ss.isNullOrUndefined(elem)){return null;}var $0=0;for(;$0<this.$0.length;$0++){if(elem===this.$0[$0].get_scrollElem()){return this.$0[$0];}}return null;}}
Kepler.Framework.UI.Scroller.ScrollView=function(scrollStruct){this.$2=scrollStruct;if(ss.isValue(this.$2.scrollElement)){this.set_scrollElem(this.$2.scrollElement);}this.$7=0;this.$8=false;this.$5=0;this.$9=new Kepler.Framework.UI.Point(0,0);this.set_animationTime(6000);}
Kepler.Framework.UI.Scroller.ScrollView.prototype={$0:false,$1:false,$2:null,get_initialized:function(){return this.$1;},set_initialized:function(value){this.$1=value;return value;},get_allowAppendScrollElem:function(){return this.$0;},set_allowAppendScrollElem:function(value){this.$0=value;return value;},$3:null,get_scrollElem:function(){return this.$3;},set_scrollElem:function(value){this.$3=value;return value;},$4:0,get_animationTime:function(){return this.$4;},set_animationTime:function(value){this.$4=value;return value;},$5:0,get_scrollerCountNeedCreation:function(){return this.$5;},set_scrollerCountNeedCreation:function(value){this.$5=value;return value;},$6:null,get_scroller:function(){return this.$6;},set_scroller:function(value){this.$6=value;return value;},$7:0,$8:false,get_isScrolling:function(){return this.$8;},set_isScrolling:function(value){this.$8=value;return value;},get_y:function(){return this.get_scroller().y;},get_x:function(){return this.get_scroller().x;},get_maxScrollX:function(){return this.get_scroller().maxScrollX;},get_maxScrollY:function(){return this.get_scroller().maxScrollY;},get_minScrollY:function(){return this.get_scroller().minScrollY;},$9:null,setOptions:function(bVertSbRequired,bMomentum,bBounce,bBounceLock,iThreshold,bPlayerScrolling,bHardReset){if(ss.isValue(this.get_scroller())){var $0=this.get_scroller().options;$0.vScrollbar=bVertSbRequired;$0.momentum=bMomentum;$0.bounce=bBounce;$0.bounceLock=bBounceLock;if(ss.isValue(bPlayerScrolling)){$0.playerScrolling=bPlayerScrolling;}if(ss.isValue(bHardReset)){$0.hardReset=bHardReset;}this.$7=iThreshold;}},$A:function(){var $0=document.createElement('div');$0.style.display='block';$0.style.position='absolute';$0.style.height='100%';$0.style.width='100%';var $1=this.get_scrollElem().parentNode;$0.appendChild(this.get_scrollElem());$1.appendChild($0);},initializeScroller:function(){var $0=Type.getType('customScroller');if(ss.isValue($0)&&(typeof($0.initScroller)==='function')){this.set_scroller($0.initScroller(this.$2));}else{throw new Error('Not Supported Exception : '+" Please add 'iScroll.js'.");}this.set_initialized(true);},initScroller:function(){var $0=Type.getType('customScroller');if(ss.isValue($0)&&(typeof($0.createScroller)==='function')){this.set_scroller($0.initScroller(this.$2));}else{throw new Error('Not Supported Exception : '+" Please add 'iScroll.js'.");}this.set_initialized(true);},destroyScroller:function(){if(ss.isValue(this.get_scroller())&&(typeof(this.get_scroller().destroy)==='function')){this.set_scroller(this.get_scroller().destroy(null));}},scrollStart:function(evtArgs){this.$8=false;if(ss.isValue(this.get_scroller())){var $0=evtArgs;this.get_scroller().ProcessTouchStart($0.get_event());this.$9=Kepler.Engine.UI.Controls.Control.getClientPointFromEventArgs($0);}},scroll:function(evtArgs){this.$8=false;if(ss.isValue(this.get_scroller())){var $0=evtArgs;this.get_scroller().ProcessTouchMove($0.get_event());var $1=Kepler.Engine.UI.Controls.Control.getClientPointFromEventArgs($0);var $2=new Kepler.Framework.UI.Rect(this.$9.get_x()-this.$7,this.$9.get_y()-this.$7,this.$7*2,this.$7*2);if(!this.$8&&!$2.isPtInRect($1.get_x(),$1.get_y())){this.$8=true;}}},scrollEnd:function(evtArgs){this.$8=false;if(ss.isValue(this.get_scroller())){var $0=evtArgs;this.get_scroller().ProcessTouchEnd($0.get_event());}},scrollToX:function(iX,iAnimationTime,bRelative){if(!ss.isValue(iAnimationTime)){iAnimationTime=this.get_animationTime();}var $0=[];$0.add(iX.toString());$0.add(this.get_y().toString());$0.add(iAnimationTime.toString());$0.add('true');if(ss.isValue(this.get_scroller())){this.get_scroller().scrollTo(iX,this.get_y(),iAnimationTime,(ss.isNullOrUndefined(bRelative))?true:bRelative);}},scrollToY:function(iY,iAnimationTime,bRelative){if(!ss.isValue(iAnimationTime)){iAnimationTime=this.get_animationTime();}if(ss.isValue(this.get_scroller())){this.get_scroller().scrollTo(this.get_x(),iY,iAnimationTime,(ss.isNullOrUndefined(bRelative))?true:bRelative);}},scrollToXY:function(iX,iY,iAnimationTime){if(!ss.isValue(iAnimationTime)){iAnimationTime=this.get_animationTime();}var $0=[];$0.add(iX.toString());$0.add(iY.toString());$0.add(iAnimationTime.toString());$0.add('true');if(ss.isValue(this.get_scroller())){this.get_scroller().scrollTo(iX,iY,iAnimationTime,true);}},scrollXWithStep:function(iStepValue,iAnimationTime){if(!ss.isValue(iAnimationTime)){iAnimationTime=this.get_animationTime();}var $0=[];$0.add((this.get_x()+iStepValue).toString());$0.add(this.get_y().toString());$0.add(iAnimationTime.toString());$0.add('true');if(ss.isValue(this.get_scroller())){this.get_scroller().scrollTo($0);}},scrollYWithStep:function(iStepValue,iAnimationTime){if(!ss.isValue(iAnimationTime)){iAnimationTime=this.get_animationTime();}var $0=[];$0.add(this.get_x().toString());$0.add((this.get_y()+iStepValue).toString());$0.add(iAnimationTime.toString());$0.add('true');if(ss.isValue(this.get_scroller())){this.get_scroller().scrollTo($0);}},scrollToEnd:function(iAnimationTime){var $0=this.get_maxScrollY()-this.get_y();if($0<=0){this.scrollToY(Math.abs($0),(ss.isNullOrUndefined(iAnimationTime))?800:iAnimationTime);}},scrollToStart:function(iAnimationTime){this.scrollToY(this.get_y(),(ss.isNullOrUndefined(iAnimationTime))?800:iAnimationTime);},refresh:function(){if(ss.isValue(this.get_scroller())){this.get_scroller().refresh(null);}},destroy:function(){if(ss.isValue(this.get_scroller())){this.get_scroller().destroy(null);}},enable:function(){if(ss.isValue(this.get_scroller())){this.get_scroller().enable(null);}},disable:function(){if(ss.isValue(this.get_scroller())){this.get_scroller().disable(null);}},stop:function(){if(ss.isValue(this.get_scroller())){this.get_scroller().stop(null);}},zoom:function(iX,iY,dScale,strTime){var $0=[];$0.add(iX.toString());$0.add(iY.toString());$0.add(dScale.toString());$0.add(strTime);if(ss.isValue(this.get_scroller())){this.get_scroller().zoom($0);}},scrollToElement:function(element,time){var $0=[];$0.add(element);$0.add(time.toString());if(ss.isValue(this.get_scroller())){this.get_scroller().scrollToElement(element,time,true);}}}
Type.registerNamespace('Kepler.Framework.UI.Controls.TextControl.BaseTextBox');Kepler.Framework.UI.Controls.TextControl.BaseTextBox.eMode=function(){};Kepler.Framework.UI.Controls.TextControl.BaseTextBox.eMode.prototype = {eNormal:0,ePassword:1,eDecimal:2}
Kepler.Framework.UI.Controls.TextControl.BaseTextBox.eMode.registerEnum('Kepler.Framework.UI.Controls.TextControl.BaseTextBox.eMode',false);Kepler.Framework.UI.Controls.TextControl.BaseTextBox.TextBoxEventType=function(){};Kepler.Framework.UI.Controls.TextControl.BaseTextBox.TextBoxEventType.prototype = {textChanged:0}
Kepler.Framework.UI.Controls.TextControl.BaseTextBox.TextBoxEventType.registerEnum('Kepler.Framework.UI.Controls.TextControl.BaseTextBox.TextBoxEventType',false);Kepler.Framework.UI.Controls.TextControl.BaseTextBox.BaseTextBox=function(strText,oSize,oCharProperties){this._iMaxLength=-1;this._oSelectionBGColor=new Kepler.Framework.UI.Color(50,151,253,0.4);this._strText='';if(ss.isNullOrUndefined(oCharProperties)){this._oCharProperties=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.CharProperties();this._oCharProperties.set("'Segoe UI', HelveticaNeue, Arial",11,0,0,0,0,new Kepler.Framework.UI.Color(0,0,0,1),new Kepler.Framework.UI.Color(255,255,255,-1),0,0);}else{this._oCharProperties=oCharProperties;}this._oCharProperties.computeStyle();this.$0=document.createElement('div');this.$0.style.position='absolute';this.$0.style.overflow='hidden';this.$0.style.whiteSpace='nowrap';this.$0.style.paddingRight='1px';var $0=this._oCharProperties.getAscent()+this._oCharProperties.getDescent();this.$2=document.createElement('div');this.$2.setAttribute('style',this._oCharProperties.getStyle());this.$2.style.position='absolute';this.$2.style.paddingRight='1px';this.$1=document.createElement('div');this.$1.style.position='absolute';this.$1.style.top='0px';this.$1.style.height=$0+'px';this._oSelection=new Kepler.Engine.UI.Controls.TextControl.SelectionArgs();this.$0.appendChild(this.$2);this.$0.appendChild(this.$1);this._bShowCursor=false;this._oAutoScrollTimer=new Kepler.Framework.Core.Timers.Timer(ss.Delegate.create(this,this.onAutoScrollTimer),100);this._oCursorTimer=new Kepler.Framework.Core.Timers.Timer(ss.Delegate.create(this,this.onCursorTimer),500);this._bMouseMoved=false;this._bIsTouchDevice=Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice();this._lstFilterKeyId=[];this._lstRestrictKeyId=[];this._lstRestrictKeyCode=[];this._bFilterKeys=false;this._bRestrictKeys=false;this._bRestricKeyCodes=false;this._bIsMouseDown=false;this._eMode=0;this._iCharCodeForPassword=8226;this._bSelectAllOnFocus=false;this.$F=0;if(ss.isValue(oSize)){this.$D=oSize.get_width();this.$E=oSize.get_height();}this.setText(strText);}
Kepler.Framework.UI.Controls.TextControl.BaseTextBox.BaseTextBox.prototype={_strText:null,_oCharProperties:null,_oSelection:null,_eMode:0,_iScrollPos:0,_iStringWidth:0,get_stringWidth:function(){return this._iStringWidth;},_iCursorXOff:0,_bShowCursor:false,_bFocused:false,_bIsMouseDown:false,_oAutoScrollTimer:null,_oCursorTimer:null,_bMouseMoved:false,_bSelectAllOnFocus:false,_bIsTouchDevice:false,$0:null,$1:null,$2:null,get_textElement:function(){return this.$2;},_lstFilterKeyId:null,_lstRestrictKeyId:null,_lstRestrictKeyCode:null,_iCharCodeForPassword:0,_bFilterKeys:false,_bRestrictKeys:false,_bRestricKeyCodes:false,_strPasswordText:'',$3:0,get_paddingTop:function(){return this.$3;},set_paddingTop:function(value){this.$3=value;this.$10();return value;},$4:0,get_paddingLeft:function(){return this.$4;},set_paddingLeft:function(value){this.$4=value;this.$10();return value;},$5:0,get_paddingBottom:function(){return this.$5;},set_paddingBottom:function(value){this.$5=value;this.$10();return value;},$6:0,get_paddingRight:function(){return this.$6;},set_paddingRight:function(value){this.$6=value;this.$10();return value;},get_padding:function(){if(this.$5===this.$4&&this.$4===this.$6&&this.$6===this.$3){return this.$5;}return 0;},set_padding:function(value){this.$4=this.$3=this.$6=this.$5=value;this.$10();return value;},$7:0,get_borderLeft:function(){return this.$7;},set_borderLeft:function(value){this.$7=value;this.$10();return value;},$8:0,get_borderTop:function(){return this.$8;},set_borderTop:function(value){this.$8=value;this.$10();return value;},$9:0,get_borderRight:function(){return this.$9;},set_borderRight:function(value){this.$9=value;this.$10();return value;},$A:0,get_borderBottom:function(){return this.$A;},set_borderBottom:function(value){this.$A=value;this.$10();return value;},get_borderWidth:function(){if(this.$A===this.$7&&this.$7===this.$9&&this.$9===this.$8){return this.$8;}return 0;},get_text:function(){return this.getText();},add_$B:function($p0){this.$C=ss.Delegate.combine(this.$C,$p0);},remove_$B:function($p0){this.$C=ss.Delegate.remove(this.$C,$p0);},$C:null,$D:0,$E:0,$F:0,addEventListener:function(eEventType,oEventListener){switch(eEventType){case 0:this.add_$B(oEventListener);break;}},onCursorTimer:function(){this._bShowCursor=!this._bShowCursor;this.displayCursor();},startCursorTimer:function(){this._oCursorTimer.start();},endCursorTimer:function(){this._oCursorTimer.stop();},onAutoScrollTimer:function(oData){this.scrollToPoint(Type.safeCast(oData,Kepler.Engine.UI.Controls.TextControl.ScrollData));},startAutoScrollTimer:function(oData){this._oAutoScrollTimer.set_data(oData);if(!this._oAutoScrollTimer.get_isRunning()){this._oAutoScrollTimer.start(oData);}},endAutoScrollTimer:function(){this._oAutoScrollTimer.stop();},renderText:function(){this._iStringWidth=this.getTextWidth(this.getCharCount());this.$2.innerText=this._strText;this.$2.textContent=this._strText;},$10:function(){var $0=this.getEffectiveWidth();var $1=this.getEffectiveHeight();this.$0.style.width=$0+'px';this.$0.style.height=$1+'px';var $2=this._oCharProperties.getAscent()+this._oCharProperties.getDescent();var $3=($1-$2)/2;if($3>0){this.$2.style.top=$3+'px';this.$1.style.top=$3+'px';}else{this.$2.style.top='';this.$1.style.top='';}this.$2.style.paddingTop='1px';},renderSelection:function(){this._iCursorXOff=this.getCursorXOffsetFromCharIndex(this._oSelection.get_endIndex());this.bringCursorToView();if(this._oSelection.get_startIndex()===this._oSelection.get_endIndex()){var $0=(this._iStringWidth>0)?1:0;this.$1.style.width='1px';this.$1.style.backgroundColor='black';this.$1.style.left=this._iCursorXOff-this._iScrollPos+'px';}else{var $1=this.getCursorXOffsetFromCharIndex(this._oSelection.get_startIndex());var $2=this._iCursorXOff;this.$1.style.width=Math.abs($2-$1)+'px';this.$1.style.backgroundColor=this._oSelectionBGColor.toString();this.$1.style.left=(($1<$2)?$1:$2)-this._iScrollPos+'px';}this.displayCursor();},revalidate:function(){this.renderText();this.renderSelection();},getElement:function(){return this.$0;},getChar:function(index){return this._strText.charAt(index);},getCharArrayFromString:function(strText){var $0=[];for(var $1=0;$1<strText.length;$1++){$0.add(strText.charAt($1));}return $0;},getCharCount:function(){return this._strText.length;},getCharIndexFromXOffSet:function(iXOffSet){iXOffSet-=this.$18();iXOffSet+=this._iScrollPos;var $0;var $1=this.getCharCount();var $2='';var $3=0;var $4=0;for($0=0;$0<$1;$0++){$2+=this.getChar($0);$4=this._oCharProperties.getStringWidth($2);if(iXOffSet<$3+(($4-$3)/2)){break;}$3=$4;}return $0;},getCursorXOffsetFromCharIndex:function(iCharIndex){var $0=0;$0=this.getTextWidth(iCharIndex);$0+=this.$18();return $0;},getCharProperties:function(){return this._oCharProperties;},getDescent:function(){return this._oCharProperties.getDescent();},getEffectiveHeight:function(){return this.$E-this.$3-this.$5-this.$8-this.$A;},getEffectiveWidth:function(){return this.$D-this.$4-this.$6-this.$7-this.$9;},getSelection:function(){if(this._oSelection!=null){return this._oSelection.clone();}return null;},getStyle:function(){return this._oCharProperties.getStyle();},getText:function(){if(this._eMode===1){return this._strPasswordText.replaceAll(String.fromCharCode(160),' ');}else{return this._strText.replaceAll(String.fromCharCode(160),' ');}},getTextFromIndex:function(iFrom,iTo){if(1===this._eMode){return this._strPasswordText.substring(iFrom,iTo);}else{return this._strText.substring(iFrom,iTo);}},getTextWidth:function(iPosition){var $0=0;if(iPosition<this._strText.length){$0=this._oCharProperties.getStringWidth(this._strText.substring(0,iPosition));}else{$0=this._oCharProperties.getStringWidth(this._strText);}return Math.ceil($0);},setBorder:function(iBorderWidth){if(ss.isValue(iBorderWidth)){this.$A=this.$7=this.$9=this.$8=iBorderWidth;this.$10();}},setMaxLength:function(iMaxLength){if(iMaxLength>=0){this._iMaxLength=iMaxLength;}},setMode:function(iMode){this._strText='';this._strPasswordText='';this._eMode=iMode;},setPasswordCharCode:function(iCharCode){this._iCharCodeForPassword=iCharCode;},setProperty:function(prop){if(prop!=null){this._oCharProperties=prop;}this.$2.setAttribute('style',this._oCharProperties.getStyle());this.$2.style.position='Absolute';this.$1.style.height=this._oCharProperties.getAscent()+this._oCharProperties.getDescent()+'px';this.$10();},setSelectAllOnFocus:function(bSelectAllOnFocus){this._bSelectAllOnFocus=bSelectAllOnFocus;},setSelection:function(iStartIndex,iEndIndex){if(iEndIndex>this.getCharCount()){iEndIndex=this.getCharCount();}if(iStartIndex>this.getCharCount()){iStartIndex=this.getCharCount();}if(iStartIndex<0){iStartIndex=0;}if(iEndIndex<0){iEndIndex=this.getCharCount();}this._oSelection.set_startIndex(iStartIndex);this._oSelection.set_endIndex(iEndIndex);this.renderSelection();},setSelectionBGColor:function(selectionBGColor){if(!selectionBGColor.dAlpha){selectionBGColor.dAlpha=0.4;}this._oSelectionBGColor=selectionBGColor;},setText:function(strText){if(strText==null){return;}this._oSelection.set_startIndex(0);this._oSelection.set_endIndex(this.getCharCount());strText=strText.replaceAll(' ',String.fromCharCode(160));this.insertChars(this.getCharArrayFromString(strText));this.renderText();this.setSelection(0,0);this.renderSelection();},replaceSelection:function(strText){if(strText==null){return;}strText=strText.replaceAll(' ',String.fromCharCode(160));this.insertChars(this.getCharArrayFromString(strText));this.renderText();var $0=this._oSelection.get_startIndex()+strText.length;this.setSelection($0,$0);this.renderSelection();this.sendTextChangedMsg();},setFontColor:function(oColor){if(ss.isValue(oColor)){this._oCharProperties.setFontColor(oColor);this.$2.style.color=oColor.toString();}},setFontSize:function(iSize){if(ss.isValue(iSize)){this._oCharProperties.setFontSize(iSize);this._oCharProperties.computeStyle();this.$2.style.fontSize=iSize+'px';this.$1.style.height=this._oCharProperties.getAscent()+this._oCharProperties.getDescent()+'px';}},setFontFamily:function(strFontFamily){if(!String.isNullOrEmpty(strFontFamily)){this._oCharProperties.setFontFamily(strFontFamily);this._oCharProperties.computeStyle();this.$2.style.fontFamily=strFontFamily;this.$1.style.height=this._oCharProperties.getAscent()+this._oCharProperties.getDescent()+'px';}},setCursor:function(strCursorStyle){this.$0.style.cursor=strCursorStyle;},setItalic:function(iItalic){this._oCharProperties.setItalic(iItalic);this._oCharProperties.computeStyle();this.$2.style.fontStyle=(iItalic===1)?'italic':'';},addRestrictKeyCode:function(iKeyCode){this._bRestricKeyCodes=true;this._lstRestrictKeyCode.add(iKeyCode);},addRestrictKeys:function(lstRestrict){this._bRestrictKeys=true;this._lstRestrictKeyId=lstRestrict;},addRestrictKey:function(strKeyId){this._bRestrictKeys=true;if(!this._lstRestrictKeyId.contains(strKeyId)){this._lstRestrictKeyId.add(strKeyId);}},$11:function($p0){if(this._lstRestrictKeyId.contains($p0)){return false;}return true;},$12:function($p0){if(this._lstRestrictKeyCode.contains($p0)){return true;}return false;},removeAllKeyRestriction:function(){this._bRestrictKeys=false;this._lstRestrictKeyId.clear();this._bRestricKeyCodes=false;this._lstRestrictKeyCode.clear();this.$13();},$13:function(){this.addRestrictKeyCode(13);this.addRestrictKeyCode(13);this.addRestrictKeyCode(10);this.addRestrictKey('\n');},removeAllKeyFilters:function(){this._bFilterKeys=false;this._lstFilterKeyId.clear();},addFilterKey:function(strKeyId){this._bFilterKeys=true;if(!this._lstFilterKeyId.contains(strKeyId)){this._lstFilterKeyId.add(strKeyId);}},addFilterKeys:function(lstFilter){this._bFilterKeys=true;this._lstFilterKeyId.clear();this._lstFilterKeyId=lstFilter;},filterNumbers:function(bAllowDot,bAllowMinus){this._bFilterKeys=true;this._lstFilterKeyId.clear();for(var $0=48;$0<58;$0++){this._lstFilterKeyId.add(String.fromCharCode($0));}if(bAllowDot){this._lstFilterKeyId.add('.');}if(bAllowMinus){this._lstFilterKeyId.add('-');}},$14:function($p0){if(this._lstFilterKeyId.contains($p0)){return true;}return false;},$15:function($p0){if($p0){this.showCursor($p0);}else{this.showCursor($p0);}},keyPress:function(c,KeyCode){this.insertChar(c);this.revalidate();},deleteKeyPressed:function(){if(this._oSelection.get_startIndex()!==this._oSelection.get_endIndex()){this.deleteSelection();this.revalidate();}else if(this._oSelection.get_startIndex()!==this.getCharCount()){this.deleteChars(this._oSelection.get_startIndex(),1);this.revalidate();}},backSpacePressed:function(){if(this._oSelection.get_startIndex()!==this._oSelection.get_endIndex()){this.deleteSelection();this.revalidate();}else if(!!this._oSelection.get_startIndex()){this.deleteChars(this._oSelection.get_startIndex()-1,1);this.revalidate();}},rightArrowKey:function(bCtrl,bShift){if(this._oSelection.get_endIndex()===this.getCharCount()){if(!bShift&&this._oSelection.get_startIndex()!==this._oSelection.get_endIndex()){this._oSelection.set_startIndex(this._oSelection.get_endIndex());}return;}var $0=this._oSelection.get_endIndex()+1;if(bCtrl){$0=this.$17($0);}if(bShift){this._oSelection.set_endIndex($0);}else if(this._oSelection.get_endIndex()!==this._oSelection.get_startIndex()){this._oSelection.normalize();this._oSelection.set_startIndex(this._oSelection.get_endIndex());}else{this._oSelection.set_startIndex(this._oSelection.set_endIndex($0));}this.renderSelection();},leftArrowKey:function(bCtrl,bShift){if(!this._oSelection.get_endIndex()){if(!bShift&&this._oSelection.get_startIndex()!==this._oSelection.get_endIndex()){this._oSelection.set_startIndex(this._oSelection.get_endIndex());}return;}var $0=this._oSelection.get_endIndex()-1;if(bCtrl){$0=this.$16(this._oSelection.get_endIndex());}if(bShift){this._oSelection.set_endIndex($0);}else if(this._oSelection.get_endIndex()!==this._oSelection.get_startIndex()){this._oSelection.normalize();this._oSelection.set_endIndex(this._oSelection.get_startIndex());}else{this._oSelection.set_startIndex(this._oSelection.set_endIndex($0));}this.renderSelection();},homeKeyPress:function(bShift){if(bShift){this._oSelection.set_endIndex(0);}else{this._oSelection.set_endIndex(0);this._oSelection.set_startIndex(0);}this.renderSelection();},endKeyPress:function(bShift){if(bShift){this._oSelection.set_endIndex(this.getCharCount());}else{this._oSelection.set_endIndex(this.getCharCount());this._oSelection.set_startIndex(this.getCharCount());}this.renderSelection();},deleteSelection:function(){this._oSelection.normalize();this.deleteChars(this._oSelection.get_startIndex(),this._oSelection.get_endIndex()-this._oSelection.get_startIndex());},selectSingleWord:function(XPos){var $0=this.getCharIndexFromXOffSet(XPos);var $1=$0;while($0-1>=0&&!this.isSpace($0-1)){$0--;}this._oSelection.set_startIndex($0);while($1<=this.getCharCount()&&!this.isSpace($1)){$1++;}this._oSelection.set_endIndex($1);this.setSelection(this._oSelection.get_startIndex(),this._oSelection.get_endIndex());},selectAll:function(){this._oSelection.set_startIndex(0);this._oSelection.set_endIndex(this.getCharCount());this.setSelection(this._oSelection.get_startIndex(),this._oSelection.get_endIndex());},$16:function($p0){while($p0-1>=0&&this.isSpace($p0-1)){$p0--;}while($p0-1>=0&&!this.isSpace($p0-1)){$p0--;}return $p0;},$17:function($p0){while($p0<=this.getCharCount()&&!this.isSpace($p0)){$p0++;}while($p0<=this.getCharCount()&&this.isSpace($p0)){$p0++;}return $p0;},setHorizontalAlignment:function(eHAlignment){if(this.$F!==eHAlignment){this.$F=eHAlignment;switch(this.$F){case 0:this.$2.style.textAlign='left';this.$2.style.width='';break;case 1:this.$2.style.textAlign='center';this.$2.style.width='100%';break;case 2:this.$2.style.textAlign='right';this.$2.style.width='100%';break;}}},$18:function(){var $0=this.getEffectiveWidth()-this._iStringWidth;switch(this.$F){case 0:$0=0;break;case 1:$0/=2;break;}if($0<0){$0=0;}return $0;},showCursor:function(bShow){if(bShow){this.startCursorTimer();this._bShowCursor=true;}else{this.endCursorTimer();this._bShowCursor=false;}this.renderSelection();},insertChars:function(lstChar){this.deleteSelection();if(lstChar!=null){if(this._iMaxLength!==-1&&this.getCharCount()+lstChar.length>this._iMaxLength){lstChar.removeRange(this._iMaxLength-this.getCharCount(),lstChar.length-(this._iMaxLength-this.getCharCount()));}if(this._eMode===1){var $0=String.fromCharCode(this._iCharCodeForPassword);var $1='';for(var $2=0;$2<lstChar.length;$2++){$1+=$0;}this._strText=this._strText.insert(this._oSelection.get_startIndex(),$1);this._strPasswordText=this._strPasswordText.insert(this._oSelection.get_startIndex(),lstChar.join(''));}else if(this._eMode===2){for(var $3=0;$3<lstChar.length;$3++){if(!this.isNumber(lstChar[$3])){return;}}this._strText=this._strText.insert(this._oSelection.get_startIndex(),lstChar.join(''));}else{this._strText=this._strText.insert(this._oSelection.get_startIndex(),lstChar.join(''));}this._oSelection.set_startIndex(this._oSelection.get_startIndex()+lstChar.length);this._oSelection.set_endIndex(this._oSelection.get_startIndex());}},insertChar:function(ch){this.deleteSelection();if(ss.isValue(ch)&&(this._iMaxLength===-1||this.getCharCount()+1<=this._iMaxLength)){if(this._eMode===1){var $0=String.fromCharCode(this._iCharCodeForPassword);this._strText=this._strText.insert(this._oSelection.get_startIndex(),$0);this._strPasswordText=this._strPasswordText.insert(this._oSelection.get_startIndex(),ch.toString());}else if(this._eMode===2){if(this.isNumber(ch)){this._strText=this._strText.insert(this._oSelection.get_startIndex(),ch.toString());}else{return 0;}}else{this._strText=this._strText.insert(this._oSelection.get_startIndex(),ch.toString());}this._oSelection.set_startIndex(this._oSelection.get_startIndex()+1)-1;this._oSelection.set_endIndex(this._oSelection.get_startIndex());return 1;}return 0;},deleteChars:function(iIndex,nCount){if(!!nCount){this._strText=this._strText.remove(iIndex,nCount);this._strPasswordText=this._strPasswordText.remove(iIndex,nCount);}this._oSelection.set_startIndex(iIndex);this._oSelection.set_endIndex(iIndex);},isSpace:function(iIndex){if(this.getChar(iIndex)===String.fromCharCode(160)||this.getChar(iIndex)==='\n'){return true;}return false;},isHyphen:function(iIndex){if(Kepler.Framework.Core.Browser.BrowserCapabilities.get_deviceType()===5||Kepler.Framework.Core.Browser.BrowserCapabilities.get_deviceType()===6||Kepler.Framework.Core.Browser.BrowserCapabilities.get_deviceType()===2){if(Kepler.Framework.Core.Browser.BrowserCapabilities.get_version()<5){if(this.getChar(iIndex)==='-'){return true;}}}else if(Kepler.Framework.Core.Browser.BrowserCapabilities.get_name()===1){if(this.getChar(iIndex)==='-'){return true;}}return false;},isNumber:function(ch){var $0=ch.charCodeAt(0);if(($0>=48&&$0<=57)){return true;}else{return false;}},bringCursorToView:function(){var $0=this.getEffectiveWidth();if(this._iStringWidth<=$0){this._iScrollPos=(this.$F===2)?1:0;}else if(this._iStringWidth-this._iScrollPos<$0){this._iScrollPos=this._iStringWidth-$0;}if(this._iCursorXOff-this._iScrollPos<0){this._iScrollPos=this._iCursorXOff;}else if(this._iCursorXOff-this._iScrollPos>$0){this._iScrollPos=this._iCursorXOff-$0;}this.$2.style.left=-this._iScrollPos+'px';},displayCursor:function(){this.$1.style.display=(this._bFocused&&(this._bShowCursor||this._oSelection.get_startIndex()!==this._oSelection.get_endIndex()))?'block':'none';},ceil:function(nWidth){if(Kepler.Framework.Core.Browser.BrowserCapabilities.get_deviceType()===5||Kepler.Framework.Core.Browser.BrowserCapabilities.get_deviceType()===6||Kepler.Framework.Core.Browser.BrowserCapabilities.get_deviceType()===2){if(Kepler.Framework.Core.Browser.BrowserCapabilities.get_version()<5){return Math.ceil(nWidth);}}else if(Kepler.Framework.Core.Browser.BrowserCapabilities.get_name()===1){return Math.ceil(nWidth);}return nWidth;},scrollToPoint:function(oScrollData){this._iScrollPos+=oScrollData._iScrollValue;var $0=this.getEffectiveWidth()-1;if(this._iScrollPos<=0||this._iStringWidth<$0){this._iScrollPos=0;}else if(this._iStringWidth-this._iScrollPos<$0){this._iScrollPos=this._iStringWidth-$0;}var $1=this.getCharIndexFromXOffSet(oScrollData._iX);this._oSelection.set_endIndex($1);this.renderSelection();},sendTextChangedMsg:function(){if(this.$C!=null){this.$C(new Kepler.Framework.UI.Controls.TextControl.BaseTextBox.TextEventArgs(0,this.getText()));}},setSize:function(iWidth,iHeight){this.$D=iWidth;this.$E=iHeight;this.$10();this.renderSelection();},setFocusBool:function(bSetFocus){this._bFocused=bSetFocus;this.showCursor(true);},getCharIndexFromOffset:function(iOffsetX){iOffsetX-=this.$4;return this.getCharIndexFromXOffSet(iOffsetX);},onFocus:function(){if(!this._bFocused){this._bFocused=true;this.showCursor(true);this.$15(true);if(this._bSelectAllOnFocus){this.setSelection(0,this.getCharCount());}}},onLostFocus:function(){if(this._bFocused){this._bFocused=false;var $0=this.getEffectiveWidth()-1;if($0<this._iStringWidth){this._oSelection.set_startIndex(0);this._oSelection.set_endIndex(0);}this.showCursor(false);this.$15(false);}},onKeyDown:function(oKeyEventArgs){if(oKeyEventArgs.get_ctrlKey()||oKeyEventArgs.get_altKey()||oKeyEventArgs.get_key()===9||this._bIsMouseDown){return;}var $0=(this._eMode===1)?this._strPasswordText:this._strText;var $1=oKeyEventArgs.get_key();if($1===1003){this.showCursor(false);return;}if(this._bRestricKeyCodes&&this.$12($1)){return;}if($1===9||$1===13||$1===13||$1===10){return;}else if($1===46){this.deleteKeyPressed();}else if($1===8){this.backSpacePressed();}else if($1===35||$1===40){this.endKeyPress(oKeyEventArgs.get_shiftKey());}else if($1===36||$1===38){this.homeKeyPress(oKeyEventArgs.get_shiftKey());}else if($1===37){this.leftArrowKey(oKeyEventArgs.get_ctrlKey(),oKeyEventArgs.get_shiftKey());}else if($1===39){this.rightArrowKey(oKeyEventArgs.get_ctrlKey(),oKeyEventArgs.get_shiftKey());}else if(oKeyEventArgs.get_ctrlKey()&&!oKeyEventArgs.get_shiftKey()&&!oKeyEventArgs.get_altKey()&&$1===65){this.selectAll();}else if(Kepler.Framework.Core.StringUtils.isPrintable($1,oKeyEventArgs.get_keyIdentifier())){oKeyEventArgs.set_defaultPrevented(false);oKeyEventArgs.set_propogationStopped(false);return;}this.revalidate();this.bringCursorToView();this.showCursor(true);if(!!$0.compareTo((this._eMode===1)?this._strPasswordText:this._strText)){this.sendTextChangedMsg();}},onKeyPress:function(oKeyEventArgs){var $0=(this._eMode===1)?this._strPasswordText:this._strText;if(this._bFilterKeys&&!this.$14(oKeyEventArgs.get_keyIdentifier())){return;}else if(this._bRestrictKeys&&!this.$11(oKeyEventArgs.get_keyIdentifier())){return;}else if(oKeyEventArgs.get_key()===32||oKeyEventArgs.get_charCode()===32){this.keyPress(String.fromCharCode(160).charAt(0),160);}else{var $1=String.fromCharCode(oKeyEventArgs.get_charCode()).charAt(0);this.keyPress($1,oKeyEventArgs.get_key());}this.revalidate();this.bringCursorToView();this.showCursor(true);if(!!$0.compareTo((this._eMode===1)?this._strPasswordText:this._strText)){this.sendTextChangedMsg();}},onKeyUp:function(oKeyEventArgs){if(oKeyEventArgs.get_key()===1003){this.showCursor(false);}},onLButtonDown:function(iOffsetX){this._bIsMouseDown=true;iOffsetX-=this.$4;var $0=this.getCharIndexFromXOffSet(iOffsetX);this._oSelection.set_startIndex($0);this._oSelection.set_endIndex($0);this.$15(true);},onMouseMove:function(iOffsetX){if(this._bIsMouseDown){this._bMouseMoved=true;iOffsetX-=this.$4;var $0=0;var $1=this.getEffectiveWidth()-1;if(iOffsetX<0){$0=iOffsetX;}else if(iOffsetX>$1){$0=iOffsetX-$1;}var $2=new Kepler.Engine.UI.Controls.TextControl.ScrollData(iOffsetX,0,$0);if(!!$0){this.startAutoScrollTimer($2);return;}else{this.endAutoScrollTimer();}this.scrollToPoint($2);}},onLButtonUp:function(iOffsetX){if(this._bIsMouseDown){if(this._bMouseMoved){this.onMouseMove(iOffsetX);this.endAutoScrollTimer();this._bMouseMoved=false;}this._bIsMouseDown=false;}},onMouseDblClick:function(iOffsetX){this.selectSingleWord(iOffsetX);}}
Kepler.Framework.UI.Controls.TextControl.BaseTextBox.TextEventArgs=function(eEventType,strText){this.$0=eEventType;this.$1=strText;}
Kepler.Framework.UI.Controls.TextControl.BaseTextBox.TextEventArgs.prototype={$0:0,get_eventType:function(){return this.$0;},$1:null,get_text:function(){return this.$1;}}
Type.registerNamespace('Kepler.Engine.UI.Controls.TextControl');Kepler.Engine.UI.Controls.TextControl.ScrollData=function(iX,iY,iScrollValue){this._iX=iX;this._iY=iY;this._iScrollValue=iScrollValue;}
Kepler.Engine.UI.Controls.TextControl.ScrollData.prototype={_iX:0,_iY:0,_iScrollValue:0}
Kepler.Engine.UI.Controls.TextControl.SelectionArgs=function(iStartIndex,iEndIndex){if(ss.isNullOrUndefined(iStartIndex)){iStartIndex=0;}if(ss.isNullOrUndefined(iEndIndex)){iEndIndex=0;}this.$0=iStartIndex;this.$1=iEndIndex;}
Kepler.Engine.UI.Controls.TextControl.SelectionArgs.prototype={$0:0,get_startIndex:function(){return this.$0;},set_startIndex:function(value){this.$0=value;return value;},$1:0,get_endIndex:function(){return this.$1;},set_endIndex:function(value){this.$1=value;return value;},isEqual:function(oSelArgs){var $0=false;if(ss.isValue(oSelArgs)){$0=(this.$0===oSelArgs.get_startIndex()&&this.$1===oSelArgs.get_endIndex());}return $0;},clone:function(){var $0=new Kepler.Engine.UI.Controls.TextControl.SelectionArgs();$0.set_startIndex(this.$0);$0.set_endIndex(this.$1);return $0;},normalize:function(){if(this.$0>this.$1){var $0=this.$0;this.$0=this.$1;this.$1=$0;}}}
Type.registerNamespace('Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl');Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.IDocController=function(){};Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.IDocController.registerInterface('Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.IDocController');Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.IElementFactory=function(){};Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.IElementFactory.registerInterface('Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.IElementFactory');Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.BulletType=function(){};Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.BulletType.prototype = {eUndefined:-1,eNone:0,eAlphabet:1,eNumber:2,eRoman:3,eChar:4,ePicture:5}
Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.BulletType.registerEnum('Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.BulletType',false);Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.AutoBulletCase=function(){};Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.AutoBulletCase.prototype = {eUndefined:-1,eLower:0,eUpper:1}
Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.AutoBulletCase.registerEnum('Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.AutoBulletCase',false);Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.AutoBulletParen=function(){};Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.AutoBulletParen.prototype = {eUndefined:-1,eNone:0,eDot:1,eRight:2,eBoth:3}
Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.AutoBulletParen.registerEnum('Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.AutoBulletParen',false);Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.eAlign=function(){};Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.eAlign.prototype = {eUndefined:-1,eLeft:0,eCenter:1,eRight:2,eJustify:3}
Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.eAlign.registerEnum('Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.eAlign',false);Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.IDocumentRenderer=function(){};Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.IDocumentRenderer.registerInterface('Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.IDocumentRenderer');Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.IElementRenderer=function(){};Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.IElementRenderer.registerInterface('Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.IElementRenderer');Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.IParagraphRenderer=function(){};Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.IParagraphRenderer.registerInterface('Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.IParagraphRenderer');Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.IRenderFactory=function(){};Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.IRenderFactory.registerInterface('Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.IRenderFactory');Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.KeyType=function(){};Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.KeyType.prototype = {eNone:-1,eLeft:0,eRight:1,eUp:2,eDown:3}
Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.KeyType.registerEnum('Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.KeyType',false);Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.SelectionType=function(){};Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.SelectionType.prototype = {eText:0}
Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.SelectionType.registerEnum('Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.SelectionType',false);Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.AnchorObject=function(){}
Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.AnchorObject.prototype={rect:null}
Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.DocController=function(elFactory,doc,renderer,propCache,selColor){this.$1=doc;this.$2=renderer;this.$1.registerRenderer(renderer);this.$2.setDocument(doc);this.$4=selColor;this.$8=true;this.$3=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.Selection(doc,renderer);var $0=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.CursorPos();var $1=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.CursorPos();$0.setMaxLevel(0);$1.setMaxLevel(0);this.$3.setSelection(0,$0,$1,-1,selColor);this.$0=[];this.$0.add(this.$3);this.$1.registerDocController(this);this.$7=propCache;selColor=new Kepler.Framework.UI.Color(159,196,231,0.5);this.$B=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.RenderObject();this.$C=elFactory;this.$5=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.HitTest();this.$5.pos=$0.clone();this.$6=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.HitTest();this.$6.pos=$0.clone();}
Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.DocController.prototype={$0:null,$1:null,$2:null,$3:null,$4:null,$5:null,$6:null,$7:null,$8:false,$9:false,$A:null,$B:null,$C:null,clearDoc:function(){var $0=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.CursorPos();$0.setMaxLevel(0);this.$1.deleteAllParagraphs($0);this.$3.setSelection(0,$0,$0,-1,this.$4);if(this.$6!=null){this.$6.iLine=-1;}},getTextDecorationFromPt:function(x,y,outPos){var $0=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.HitTest();$0.pos=outPos;this.$2.hitTest(x,y,$0);var $1=$0.pos;while($1.getMaxLevel()>=0){var $2=$1.getDocPos($1.getMaxLevel()).clone();$2.setDoc(0);var $3=this.$3.getDocRendererFromPos($1);if($3!=null&&$3.getDocument().getTextDecorationCount()>0){var $4=$3.getDocument();var $5=$4.getTextDecorationCount();for(var $6=$5-1;$6>=0;$6--){var $7=$4.getTextDecorationAt($6);if($7.getFromDocPos().isLessEqual($2)&&$7.getToDocPos().isGreater($2)){return $7;}}}$1.setMaxLevel($1.getMaxLevel()-1);}return null;},mouseDown:function(x,y,bControl,bShift){this.$9=true;this.$A=null;if(bShift){this.$6=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.HitTest();this.$2.hitTest(x,y,this.$6);this.addSelection(this.$5.pos,this.$6.pos,-1,this.$4);}else{this.$5=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.HitTest();this.$2.hitTest(x,y,this.$5);this.$6=this.$5.clone();if(bControl){this.addSelection(this.$5.pos,this.$5.pos,-1,this.$4);}else{this.setSelection(this.$5.pos,this.$5.pos,-1,this.$4);}}},mouseMove:function(x,y){if(this.$9){this.$6=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.HitTest();this.$6.bSelection=true;this.$2.hitTest(x,y,this.$6);this.addSelection(this.$5.pos,this.$6.pos,-1,this.$4);}},mouseDoubleClick:function(x,y){this.$5=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.HitTest();this.$5.bSelection=true;this.$2.hitTest(x,y,this.$5);this.$6=this.$5.clone();this.$3.mouseDoubleClick(this.$5,this.$6);this.addSelection(this.$5.pos,this.$6.pos,-1,this.$4);},getLastPos:function(){var $0=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.CursorPos();$0.setMaxLevel(0);$0.setPara(this.$1.getParagraphCount()-1);$0.setEl(this.$1.getParagraph($0.getParaIndex()).getElementCount()-1);return $0;},getCurSelection:function(){return this.$3.clone();},mouseUp:function(x,y){this.mouseMove(x,y);this.$9=false;},keyPress:function(c,keyCode){var $0=c.toString();if(keyCode===13||!$0.compareTo('\n')){this.insertParaBreak();}else{this.insertChar(c);}var $1=this.$0[0].arrRange[0].from;this.$6.pos=$1.clone();this.$5.pos=$1.clone();},changeCaretPosition:function(){if(this.$8&&this.$0.length===1&&this.$0[0].arrRange[0].from.isEqual(this.$0[0].arrRange[0].to)){var $0=this.$0[0].arrRange[0].from;var $1=this.$3.getParaRendererFromPos($0);if(this.$6.iLine===-1){this.$6.iLine=$1.getLineFromCursorPos($0.getLastDocPos());this.$6.xOffset=$1.getXOffsetOfLineFromElPos(this.$6.iLine,$0.getLastDocPos().getPos());}$1.setCaretAt($0,this.$6.iLine,this.$B);}else{this.$B.getDom().style.display='none';}},getCaretElement:function(){return this.$B.getDom();},showHideCursor:function(bShow){this.$8=bShow;this.changeCaretPosition();},returnKey:function(){this.keyPress('\n',13);},backspaceKey:function(){if(this.$0.length===1&&this.$3.arrRange[0].from.isEqual(this.$3.arrRange[0].to)){this.$3.backspaceKey();}this.deleteSelection(false);this.$6.iLine=-1;var $0=this.$0[0].arrRange[0].from;this.$6.pos=$0.clone();this.$5.pos=$0.clone();this.$A=null;},deleteKey:function(){if(this.$0.length===1&&this.$3.arrRange[0].from.isEqual(this.$3.arrRange[0].to)){this.$3.deleteKey();}this.deleteSelection(true);this.$6.iLine=-1;var $0=this.$0[0].arrRange[0].from;this.$6.pos=$0.clone();this.$5.pos=$0.clone();},endKey:function(bShift,bControl){this.$A=null;this.$6.bSet=false;this.$6.bChanged=false;this.$6.bSelection=false;if(bShift&&bControl){this.$6.bSelection=true;this.$3.endKey(bShift,bControl,this.$6,this.$6.pos.clone());this.addSelection(this.$5.pos,this.$6.pos,0,this.$4);}else if(bShift){this.$6.bSelection=true;this.$3.endKey(bShift,bControl,this.$6,this.$6.pos.clone());this.addSelection(this.$5.pos,this.$6.pos,0,this.$4);}else if(bControl){this.$3.endKey(bShift,bControl,this.$6,this.$6.pos.clone());this.$5=this.$6.clone();this.setSelection(this.$5.pos,this.$6.pos,0,this.$4);}else{var $0=this.$3.arrRange[0].from;var $1=this.$3.arrRange[0].to;this.$6.pos=$0.clone();this.$3.endKey(bShift,bControl,this.$6,this.$6.pos.clone());this.$5=this.$6.clone();this.setSelection(this.$5.pos,this.$6.pos,0,this.$4);}},homeKey:function(bShift,bControl){this.$A=null;this.$6.bSet=false;this.$6.bChanged=false;this.$6.bSelection=false;if(bShift&&bControl){this.$6.bSelection=true;this.$3.homeKey(bShift,bControl,this.$6,this.$6.pos.clone());this.addSelection(this.$5.pos,this.$6.pos,0,this.$4);}else if(bShift){this.$6.bSelection=true;this.$3.homeKey(bShift,bControl,this.$6,this.$6.pos.clone());this.addSelection(this.$5.pos,this.$6.pos,0,this.$4);}else if(bControl){this.$3.homeKey(bShift,bControl,this.$6,this.$6.pos.clone());this.$5=this.$6.clone();this.setSelection(this.$5.pos,this.$6.pos,0,this.$4);}else{var $0=this.$3.arrRange[0].from;var $1=this.$3.arrRange[0].to;this.$6.pos=$0.clone();this.$3.homeKey(bShift,bControl,this.$6,this.$6.pos.clone());this.$5=this.$6.clone();this.setSelection(this.$5.pos,this.$6.pos,0,this.$4);}},leftKey:function(bShift,bControl){this.$A=null;this.$6.bSet=false;this.$6.bChanged=false;this.$6.iLine=-1;this.$6.bSelection=false;if(bShift&&bControl){this.$6.bSelection=true;this.$3.leftKey(bShift,bControl,this.$6,this.$6.pos.clone());this.addSelection(this.$5.pos,this.$6.pos,0,this.$4);}else if(bShift){this.$6.bSelection=true;this.$3.leftKey(bShift,bControl,this.$6,this.$6.pos.clone());this.addSelection(this.$5.pos,this.$6.pos,0,this.$4);}else if(bControl){this.$3.leftKey(bShift,bControl,this.$6,this.$6.pos.clone());this.$5=this.$6.clone();this.setSelection(this.$5.pos,this.$6.pos,0,this.$4);}else{var $0=this.$3.arrRange[0].from;var $1=this.$3.arrRange[0].to;if($0.isEqual($1)){this.$6.pos=$0.clone();this.$3.leftKey(bShift,bControl,this.$6,this.$6.pos.clone());this.$5=this.$6.clone();this.setSelection(this.$5.pos,this.$6.pos,0,this.$4);}else{this.$5.pos=$0.clone();this.$6.pos=$0.clone();this.setSelection(this.$5.pos,this.$6.pos,0,this.$4);}}},rightKey:function(bShift,bControl){this.$A=null;this.$6.bSet=false;this.$6.bChanged=false;this.$6.iLine=-1;this.$6.bSelection=false;if(bShift&&bControl){this.$6.bSelection=true;this.$3.rightKey(bShift,bControl,this.$6,this.$6.pos.clone());this.addSelection(this.$5.pos,this.$6.pos,1,this.$4);}else if(bShift){this.$6.bSelection=true;this.$3.rightKey(bShift,bControl,this.$6,this.$6.pos.clone());this.addSelection(this.$5.pos,this.$6.pos,1,this.$4);}else if(bControl){this.$3.rightKey(bShift,bControl,this.$6,this.$6.pos.clone());this.$5=this.$6.clone();this.setSelection(this.$5.pos,this.$6.pos,1,this.$4);}else{var $0=this.$3.arrRange[0].from;var $1=this.$3.arrRange[0].to;if($0.isEqual($1)){this.$6.pos=$0.clone();this.$3.rightKey(bShift,bControl,this.$6,this.$6.pos.clone());this.$5=this.$6.clone();this.setSelection(this.$5.pos,this.$6.pos,1,this.$4);}else{this.$5.pos=$1.clone();this.$6.pos=$1.clone();this.setSelection(this.$5.pos,this.$6.pos,1,this.$4);}}},upKey:function(bShift,bControl){this.$A=null;this.$6.bSet=false;this.$6.bChanged=false;this.$6.bSelection=false;if(bShift&&bControl){this.$6.bSelection=true;this.$3.upKey(bShift,bControl,this.$6,this.$6.pos.clone());this.addSelection(this.$5.pos,this.$6.pos,2,this.$4);}else if(bShift){this.$6.bSelection=true;this.$3.upKey(bShift,bControl,this.$6,this.$6.pos.clone());this.addSelection(this.$5.pos,this.$6.pos,2,this.$4);}else if(bControl){this.$3.upKey(bShift,bControl,this.$6,this.$6.pos.clone());this.$5=this.$6.clone();this.setSelection(this.$5.pos,this.$6.pos,2,this.$4);}else{this.$3.upKey(bShift,bControl,this.$6,this.$6.pos.clone());this.$5=this.$6.clone();this.setSelection(this.$5.pos,this.$6.pos,2,this.$4);}},downKey:function(bShift,bControl){this.$A=null;this.$6.bSet=false;this.$6.bChanged=false;this.$6.bSelection=false;if(bShift&&bControl){this.$6.bSelection=true;this.$3.downKey(bShift,bControl,this.$6,this.$6.pos.clone());this.addSelection(this.$5.pos,this.$6.pos,3,this.$4);}else if(bShift){this.$6.bSelection=true;this.$3.downKey(bShift,bControl,this.$6,this.$6.pos.clone());this.addSelection(this.$5.pos,this.$6.pos,3,this.$4);}else if(bControl){this.$3.downKey(bShift,bControl,this.$6,this.$6.pos.clone());this.$5=this.$6.clone();this.setSelection(this.$5.pos,this.$6.pos,3,this.$4);}else{this.$3.downKey(bShift,bControl,this.$6,this.$6.pos.clone());this.$5=this.$6.clone();this.setSelection(this.$5.pos,this.$6.pos,3,this.$4);}},invalidateCursorPos:function(){this.$6.iLine=-1;this.$5.iLine=-1;},relayoutFixedLayout:function(){this.$2.relayoutFixedLayout();},relayout:function(){this.$2.layout();},render:function(){this.$2.render(null);},renderSelection:function(){this.$2.renderSelection(this.$0);this.changeCaretPosition();},renderBgDecoration:function(){this.$2.renderBgDecoration();},getCharPropertiesForInsertion:function(){if(this.$A==null){this.$A=this.$3.getCharPropertiesForInsertion();}return this.$A;},sortSelection:function(arrSel){if(arrSel.length>1){arrSel.sort(function($p1_0,$p1_1){
return ($p1_0.arrRange[0].from.isGreater($p1_1.arrRange[0].from))?1:0;});}},reSetSelection:function(){this.$0.removeRange(0,this.$0.length);var $0=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.Selection(this.$1,this.$2);var $1=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.CursorPos();$1.setMaxLevel(0);$0.setSelection(0,$1,$1,-1,this.$4);this.$0.add($0);},addSelection:function(start,end,key,bgColor){start=start.clone();end=end.clone();var $0=this.expandSelection(start,end,key,bgColor);for(var $1=0;$1<this.$0.length;){if(this.$0[$1].intersects($0)){this.$0[$1].clear();this.$0.removeAt($1);}else{$1++;}}this.$0.add($0);this.sortSelection(this.$0);this.$3=$0;this.$3.notify();this.$2.renderSelection(this.$0);},expandSelection:function(start,end,Key,bgColor){return this.$3.expandSelection(start,end,Key,bgColor);},setSelection:function(start,end,key,bgColor){this.$A=null;start=start.clone();end=end.clone();for(var $0=0;$0<this.$0.length;++$0){this.$0[$0].clear();}this.$0.clear();this.$0.add(this.expandSelection(start,end,key,bgColor));this.$3=this.$0[0];this.$3.notify();this.$2.renderSelection(this.$0);},setGlobalSelection:function(iStartIndex,iEndIndex){var $0=this.$2.getCursorPosFromGlobalPos(iStartIndex);var $1=this.$2.getCursorPosFromGlobalPos(iEndIndex);this.setSelection($0,$1,-1,this.$4);},getGlobalSelection:function(){var $0=this.getCurSelection().arrRange[0];var $1=0;var $2=0;if(ss.isValue($0)){$1=this.$2.getGlobalPosFromCursorPos($0.from);$2=this.$2.getGlobalPosFromCursorPos($0.to);}return new Kepler.Engine.UI.Controls.TextControl.SelectionArgs($1,$2);},isCursorInFirstLine:function(){var $0=this.getCurSelection().arrRange[0];if(ss.isValue($0)){return this.$2.$2($0);}return false;},isCursorInLastLine:function(){var $0=this.getCurSelection().arrRange[0];if(ss.isValue($0)){return this.$2.$3($0);}return false;},isCursorAtFirstChar:function(){var $0=this.getCurSelection().arrRange[0];if(ss.isValue($0)){return this.$2.$4($0);}return false;},isCursorAtLastChar:function(){var $0=this.getCurSelection().arrRange[0];if(ss.isValue($0)){return this.$2.$5($0);}return false;},deleteSelection:function(bDeleteAllSelected){if(bDeleteAllSelected){for(var $0=this.$0.length-1;$0>=0;$0--){this.$0[$0].deleteSelection();}}else{this.$3=this.$3.clone();for(var $1=this.$0.length-1;$1>=0;$1--){this.$0[$1].deleteSelection();}this.$3.deleteSelection();}if(this.$6!=null){this.$6.iLine=-1;}},insertElements:function(el){this.$3=this.$3.clone();for(var $0=0;$0<this.$0.length;++$0){this.$0.clear();}this.$0.add(this.$3);this.$3.insertElements(this.$C,el,this.getCharPropertiesForInsertion());this.$6.iLine=-1;},insertChar:function(c){this.$3=this.$3.clone();for(var $1=0;$1<this.$0.length;++$1){this.$0.clear();}var $0=this.getCharPropertiesForInsertion();this.$3.insertChar(this.$C,c,$0);this.$0.add(this.$3);this.$6.iLine=-1;},insertParaBreak:function(){this.$3=this.$3.clone();for(var $1=0;$1<this.$0.length;++$1){this.$0.clear();}this.$0.add(this.$3);var $0=this.getCharPropertiesForInsertion();this.$3.insertParaBreak(this.$C,$0);this.$6.iLine=-1;},setParaProperties:function(prop){for(var $0=0;$0<this.$0.length;$0++){this.$0[$0].setParaProperties(prop);}if(this.$6!=null){this.$6.iLine=-1;}},setScale:function(scale){var $0=this.getAllPropInSelection();var $1=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.UpdateCharProperty(this.$7.scaleFont(scale,$0));if(this.$0.length!==1||!this.setCharPropForInsertion($1,this.$0[0])){for(var $2=0;$2<this.$0.length;$2++){this.$0[$2].setCharProperties($1,this.$C);}}if(this.$6!=null){this.$6.iLine=-1;}},getMaxFontSize:function(){var $0=0;var $1=this.getCurSelection();this.selectAll();var $2=this.getAllPropInSelection();if($2.length>0){$0=$2[0].getFontSize();}for(var $3=1;$3<$2.length;$3++){if($2[$3].getFontSize()>$0){$0=$2[$3].getFontSize();}}this.setSelection($1.arrRange[0].from,$1.arrRange[$1.arrRange.length-1].to,-1,this.$4);return $0;},getMinFontSize:function(){var $0=0;var $1=this.getCurSelection();this.selectAll();var $2=this.getAllPropInSelection();if($2.length>0){$0=$2[0].getFontSize();}for(var $3=1;$3<$2.length;$3++){if($2[$3].getFontSize()<$0){$0=$2[$3].getFontSize();}}this.setSelection($1.arrRange[0].from,$1.arrRange[$1.arrRange.length-1].to,-1,this.$4);return $0;},setCharProperties:function(prop){var $0=this.getAllPropInSelection();var $1=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.UpdateCharProperty(this.$7.applyNewProperties(prop,$0));if(this.$0.length!==1||!this.setCharPropForInsertion($1,this.$0[0])){for(var $2=0;$2<this.$0.length;$2++){this.$0[$2].setCharProperties($1,this.$C);}}if(this.$6!=null){this.$6.iLine=-1;}},setCharPropForInsertion:function(updateCharProp,sel){var $0=false;this.$A=null;if(sel.arrRange.length===1){var $1=sel.arrRange[0].from.clone();var $2=sel.arrRange[0].to.clone();var $3=$1.getElIndex();var $4=$1.getChIndex();var $5=$2.getElIndex();var $6=$2.getChIndex();if(0===sel.selType){if($1.isEqual($2)){var $7=sel.getDocFromPos($1);var $8=$7.getParagraph($1.getParaIndex());var $9=$8.getElement($1.getElIndex());if(!!$1.getChIndex()||(!$1.getChIndex()&&!$1.getElIndex())){this.$A=updateCharProp.getNewProperty($9.getCharProperties());$0=true;}if(this.$A==null){for(var $A=$1.getElIndex()-1;$A>=0;--$A){var $B=$8.getElement($A);if($B.isText()){this.$A=updateCharProp.getNewProperty($B.getCharProperties());$0=true;break;}}}$9=$8.getElement($1.getElIndex());if(this.$A==null){this.$A=updateCharProp.getNewProperty($9.getCharProperties());$0=true;}if(this.$A==null){var $C=$8.getElementCount();for(var $D=$1.getElIndex()+1;$D<$C;++$D){if($9.isText()){$9=$8.getElement($D);this.$A=updateCharProp.getNewProperty($9.getCharProperties());$0=true;break;}}}}}}return $0;},getAllPropInSelection:function(){var $0=[];var $1={};if(this.$0.length===1&&!this.$0[0].selType&&this.$0[0].arrRange[0].from.isEqual(this.$0[0].arrRange[0].to)){var $3=this.getCharPropertiesForInsertion();$1[$3.getCacheIndex().toString()]=$3.getCacheIndex();}else{for(var $4=0;$4<this.$0.length;$4++){this.$0[$4].appendAllPropInSelection($1);}}var $2=Object.getKeyCount($1);for(var $5=0;$5<$2;++$5){$0.add(this.$7.getProperty($1[Object.keys($1)[$5]]));}return $0;},insertTextDecoration:function(txtDecoration){if(this.$0.length===1&&!this.$0[0].selType&&!this.$0[0].arrRange[0].from.isEqual(this.$0[0].arrRange[0].to)){var $0=this.$0[0].arrRange[0].from.getLastDocPos().clone();var $1=this.$0[0].arrRange[0].to.getLastDocPos().clone();$0.setDoc(0);$1.setDoc(0);txtDecoration.setFromDocPos($0);txtDecoration.setToDocPos($1);var $2=this.$0[0].getDocFromPos(this.$0[0].arrRange[0].from);$2.insertTextDecoration(this.$0[0].arrRange[0].from,txtDecoration);this.renderBgDecoration();}},deleteTextDecoration:function(pos,txtDecoration){var $0=this.$3.getDocRendererFromPos(pos);if($0!=null){$0.getDocument().deleteTextDecoration(pos,txtDecoration);}this.$2.renderBgDecoration();},getCharProperties:function(){var $0=this.$0.length;if($0<=0){return null;}var $1=null;for(var $2=0;$2<$0;$2++){var $3=this.$0[$2].getCharProperties();if($3!=null){if($1==null){$1=$3.cloneProperties();}else{$1=$1.getCommonProperties($3);}}}return $1;},getParaProperties:function(){var $0=this.$0.length;if($0<=0){return null;}var $1=null;for(var $2=0;$2<$0;$2++){var $3=this.$0[$2].getParaProperties();if($3!=null){if($1==null){$1=$3.clone();}else{$1=$1.getCommonProperties($3);}}}return $1;},getDocumentProperties:function(){var $0=this.$0.length;if($0<=0){return null;}var $1=null;for(var $2=0;$2<$0;$2++){var $3=this.$0[$2].getDocumentProperties();if($3!=null){if($1==null){$1=$3.clone();}else{$1=$1.getCommonProperties($3);}}}return $1;},pasteDoc:function(doc){this.$A=null;this.$3=this.$3.clone();for(var $1=0;$1<this.$0.length;++$1){this.$0.clear();}var $0=this.getCharPropertiesForInsertion();this.$3.pasteDoc(this.$C,doc,$0);this.$0.add(this.$3);if(this.$6!=null){this.$6.iLine=-1;}},selectAll:function(){this.$A=null;for(var $0=0;$0<this.$0.length;++$0){this.$0.clear();}this.$3=this.$3.selectAll(this.$4);this.$0.add(this.$3);this.$3.notify();},getCursorRectFromPos:function(pos,iLine){var $0=new Kepler.Framework.UI.Rect(0,0,2,0);var $1=new Kepler.Framework.UI.PointF(0,0);var $2=pos.getMaxLevel();var $3=this.$3.getParaRendererFromPos(pos);if(iLine===-1){iLine=$3.getLineFromCursorPos(pos.getLastDocPos());}$0.set_height($3.getLineHeight(iLine));while($2>=0){pos.setMaxLevel($2);$1.set_x($1.get_x()+$3.getXOffsetOfLineFromElPos(iLine,pos.getLastDocPos().getPos()));var $4=$3.addLineOffset($1,iLine);var $5=$3.getParentRenderer();var $6=$5.getParentRenderer();var $7=$5.addParaPageOffset($1,pos.getParaIndex(),$4);if(iLine===-1){iLine=$3.getLineFromCursorPos(pos.getLastDocPos());}iLine=-1;if($6==null){$5.addPageOffset($1,$7);}else{$6.addDocPageOffset($1,pos.getDocIndex(),$7);$3=$6.getParentRenderer();if(iLine===-1){iLine=$3.getLineFromCursorPos(pos.getDocPos($2-1));}$1.set_y($1.get_y()+$3.getLineAscent(iLine)-$6.getAscent());}$2--;}$0.set_left(parseInt($1.get_x()));$0.set_top(parseInt($1.get_y()));return $0;},getCursorRect:function(){var $0;var $1=this.$6.iLine;$0=this.$3.arrRange[0].from.clone();if(!this.$3.selType){$0=this.$3.arrRange[0].to.clone();if(!this.$3.arrRange[0].from.isEqual(this.$3.arrRange[0].to)){if(this.$6.pos.isLess(this.$5.pos)){$0=this.$3.arrRange[0].from.clone();}if(!this.$6.pos.isEqual($0)){$1=-1;}}}else{if(this.$6.pos.isLess(this.$5.pos)){$0=this.$3.arrRange[this.$3.arrRange.length-1].to.clone();}}return this.getCursorRectFromPos($0,$1);},setFocusInChildDoc:function(){var $0=this.$3.arrRange[0].from.clone();$0.setEl($0.getElIndex()-1);$0.setCh(0);$0.setMaxLevel($0.getMaxLevel()+1);this.setSelection($0,$0,-1,this.$4);this.$6.iLine=-1;},validate:function(){this.relayout();},revalidate:function(){this.relayout();this.render();this.renderSelection();this.renderBgDecoration();},getText:function(){var $0='';var $1=this.$1.getParagraphCount();for(var $2=0;$2<$1;$2++){var $3=this.$1.getParagraph($2);for(var $4=0;$4<$3.getElementCount();$4++){var $5=$3.getElement($4);$0+=$5.getText();}if($2+1!==$1&&$0.substr($0.length-1,1)!=='\n'){$0+='\n';}}return $0.replaceAll(String.fromCharCode(160),' ');},isMouseDown:function(){return this.$9;}}
Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.Document=function(parent,para){this.parent=parent;this.arrPara=[];this.arrDR=[];this.arrTextDecoration=[];if(para!=null){this.arrPara.add(para);para.setParent(this);}}
Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.Document.prototype={parent:null,arrPara:null,arrDR:null,arrTextDecoration:null,prop:null,clone:function(elFactory){var $0=elFactory.createDocWithoutPara();$0.setParent(this.parent);for(var $1=0;$1<this.arrPara.length;$1++){var $2=this.arrPara[$1].clone(elFactory);$2.setParent($0);$0.arrPara.add($2);}if(this.prop!=null){$0.prop=this.prop.clone();}return $0;},getParent:function(){return this.parent;},setParent:function(parent){this.parent=parent;},getParagraph:function(index){return this.arrPara[index];},getProp:function(){return this.prop;},getParagraphCount:function(){return this.arrPara.length;},insertParagraph:function(pos,para){var $0=[];$0.add(para);this.insertParagraphs(pos,$0);},insertParagraphs:function(pos,arrPara){var $0=pos.getParaIndex();for(var $3=0;$3<arrPara.length;++$3){arrPara[$3].setParent(this);this.arrPara.insert($0+$3,arrPara[$3]);}var $1=this.getMainDoc();var $2=this.arrDR.length;for(var $4=0;$4<$2;++$4){this.arrDR[$4].paragraphsInserted(pos,pos.getMaxLevel(),arrPara);}this.paragraphsInserted(pos,arrPara.length);},deleteAllParagraphs:function(pos){var $0=this.getParagraphCount();var $1=$0-1;if($1>0){this.deleteParagraphs(pos,$1);}this.getParagraph(0).deleteAllElements(pos);},deleteParagraphs:function(pos,iCount){var $0=pos.getParaIndex();var $1=this.getParagraphCount()-1;if($0+iCount>$1){iCount=$0-$1;}if(iCount<=0){return;}this.arrPara.removeRange($0,iCount);var $2=this.getMainDoc();var $3=this.arrDR.length;for(var $4=0;$4<$3;++$4){this.arrDR[$4].paragraphsDeleted(pos,pos.getMaxLevel(),iCount);}this.paragraphsDeleted(pos,iCount);},splitParagraph:function(pos,newPara){var $0=pos.getParaIndex();var $1=this.arrPara[$0];newPara.setParent(this);this.arrPara.insert($0+1,newPara);$1.split(pos.getElIndex(),newPara);var $2=$1.getParaProp().clone();$2.setBuStartNumber(0);newPara.setParaPropWithoutPos($2);var $3=this.getMainDoc();var $4=this.arrDR.length;for(var $5=0;$5<$4;++$5){this.arrDR[$5].paragraphSplit(pos,pos.getMaxLevel());}this.paragraphSplit(pos);},mergeParagraph:function(pos){var $0=pos.getParaIndex();var $1=this.arrPara[$0];var $2=this.arrPara[$0+1];$1.merge($2);this.arrPara.removeAt($0+1);var $3=this.getMainDoc();var $4=this.arrDR.length;for(var $5=0;$5<$4;++$5){this.arrDR[$5].paragraphMerged(pos,pos.getMaxLevel());}this.paragraphMerged(pos);},insertTextDecoration:function(from,textDecoration){this.arrTextDecoration.add(textDecoration);var $0=this.arrDR.length;for(var $1=0;$1<$0;++$1){this.arrDR[$1].textDecorationInserted(from,textDecoration);}},deleteTextDecoration:function(from,textDecoration){var $0=this.arrTextDecoration.indexOf(textDecoration);if($0!==-1){this.arrTextDecoration.removeAt($0);var $1=this.arrDR.length;for(var $2=0;$2<$1;++$2){this.arrDR[$2].textDecorationDeleted(from,textDecoration);}}},registerRenderer:function(renderer){if(!this.arrDR.contains(renderer)){this.arrDR.add(renderer);}},unregisterRenderer:function(renderer){if(this.arrDR.contains(renderer)){this.arrDR.remove(renderer);}},getMainDoc:function(){if(this.parent!=null){return this.parent.getMainDoc();}return null;},appendParaWithoutPos:function(para){this.arrPara.add(para);},getElementsByType:function(iType,arrElement,arrPos,pos){var $0=this.getParagraphCount();for(var $1=0;$1<$0;$1++){var $2=this.getParagraph($1);var $3=$2.getElementCount();pos.setPara($1);for(var $4=0;$4<$3;$4++){var $5=$2.getElement($4);pos.setEl($4);if($5.getElementType()===iType){arrElement.add($5);arrPos.add(pos.clone());}if(!!$5.getDocCount()){pos.setMaxLevel(pos.getMaxLevel()+1);for(var $6=0;$6<$5.getDocCount();++$6){pos.setDoc($6);$5.getChildDoc($6).getElementsByType(iType,arrElement,arrPos,pos);}pos.setMaxLevel(pos.getMaxLevel()-1);}}}},updateDocPosParagraphInserted:function(txtDecPos,pos,iCount,bIncreaseIfEqual){var $0=txtDecPos.iPara;var $1=txtDecPos.getPos().getElIndex();var $2=txtDecPos.getPos().getChIndex();if($0===pos.iPara&&!$2&&$1>0&&$1-1===pos.getPos().getElIndex()){var $3=this.getParagraph(txtDecPos.iPara);var $4=$3.getElement(txtDecPos.getPos().iEl-1);if($4.isText()){if($4.getCharCount()===pos.getPos().getChIndex()){$1--;$2=pos.getPos().getChIndex();}}}if($0>pos.iPara||$0===pos.iPara){if($1>pos.elPos.iEl||($1===pos.elPos.iEl&&($2>pos.elPos.iCh||(bIncreaseIfEqual&&pos.elPos.iCh===$2)))){txtDecPos.iPara+=iCount;}}},updateDocPosParagraphDeleted:function(txtDecPos,pos,iCount){if(txtDecPos.iPara>=pos.iPara+iCount){txtDecPos.iPara-=iCount;}else if(txtDecPos.iPara>=pos.iPara){txtDecPos.iPara=pos.iPara;txtDecPos.elPos.iEl=0;txtDecPos.elPos.iCh=0;}},updateDocPosParagraphSplit:function(txtDecPos,pos,bIncreaseIfEqual){if(txtDecPos.iPara>pos.iPara){txtDecPos.iPara+=1;}else if(txtDecPos.iPara===pos.iPara){var $0=txtDecPos.iPara;var $1=txtDecPos.getPos().getElIndex();var $2=txtDecPos.getPos().getChIndex();if(!!$2&&bIncreaseIfEqual){var $3=this.getParagraph($0);var $4=$3.getElement($1);if($4.isText()){if($4.getCharCount()===$2){$1++;$2=0;txtDecPos.setEl($1);txtDecPos.setCh($2);}}}if($1>pos.elPos.iEl||($1===pos.elPos.iEl&&($2>pos.elPos.iCh||(bIncreaseIfEqual&&pos.elPos.iCh===$2)))){txtDecPos.iPara+=1;txtDecPos.elPos.iEl-=pos.elPos.iEl;}}},updateDocPosParagraphMerged:function(txtDecPos,pos){if(txtDecPos.iPara>pos.iPara+1){txtDecPos.iPara-=1;}else if(txtDecPos.iPara===pos.iPara+1){txtDecPos.iPara-=1;txtDecPos.elPos.iEl+=pos.elPos.iEl;if(!!pos.elPos.iCh){txtDecPos.elPos.iEl+=1;}}},paragraphsInserted:function(pos,iCount){var $0=pos.getLastDocPos().clone();for(var $1=0;$1<this.arrTextDecoration.length;){var $2=this.arrTextDecoration[$1].getFromDocPos();var $3=this.arrTextDecoration[$1].getToDocPos();if(!$2.isEqual($3)){this.updateDocPosParagraphInserted($2,$0,iCount,true);this.updateDocPosParagraphInserted($3,$0,iCount,false);$1++;}else{this.arrTextDecoration.removeAt($1);}}},paragraphsDeleted:function(pos,iCount){var $0=pos.getLastDocPos();for(var $1=0;$1<this.arrTextDecoration.length;){var $2=this.arrTextDecoration[$1].getFromDocPos();var $3=this.arrTextDecoration[$1].getToDocPos();if(!$2.isEqual($3)){this.updateDocPosParagraphDeleted($2,$0,iCount);this.updateDocPosParagraphDeleted($3,$0,iCount);$1++;}else{this.arrTextDecoration.removeAt($1);}}},paragraphSplit:function(pos){var $0=pos.getLastDocPos();for(var $1=0;$1<this.arrTextDecoration.length;){var $2=this.arrTextDecoration[$1].getFromDocPos();var $3=this.arrTextDecoration[$1].getToDocPos();if(!$2.isEqual($3)){this.updateDocPosParagraphSplit($2,$0,true);this.updateDocPosParagraphSplit($3,$0,false);$1++;}else{this.arrTextDecoration.removeAt($1);}}},paragraphMerged:function(pos){var $0=pos.getLastDocPos();for(var $1=0;$1<this.arrTextDecoration.length;){var $2=this.arrTextDecoration[$1].getFromDocPos();var $3=this.arrTextDecoration[$1].getToDocPos();if(!$2.isEqual($3)){this.updateDocPosParagraphMerged($2,$0);this.updateDocPosParagraphMerged($3,$0);$1++;}else{this.arrTextDecoration.removeAt($1);}}},updateDocPosElementInserted:function(txtDecPos,pos,iCount,bIncreaseIfEqual){if(txtDecPos.iPara===pos.iPara){var $0=txtDecPos.iPara;var $1=txtDecPos.getPos().getElIndex();var $2=txtDecPos.getPos().getChIndex();if(!$2&&$1>0&&$1-1===pos.getPos().getElIndex()&&!bIncreaseIfEqual){var $3=this.getParagraph(txtDecPos.iPara);var $4=$3.getElement(txtDecPos.getPos().iEl-1);if($4.isText()){if($4.getCharCount()===pos.getPos().getChIndex()){$1--;$2=pos.getPos().getChIndex();txtDecPos.setEl($1);txtDecPos.setCh($2);}}}if($1>pos.elPos.iEl||($1===pos.elPos.iEl&&($2>pos.elPos.iCh||(bIncreaseIfEqual&&pos.elPos.iCh===$2)))){txtDecPos.elPos.iEl+=iCount;}}},updateDocPosElementDeleted:function(txtDecPos,pos,iCount){if(txtDecPos.iPara===pos.iPara){if(txtDecPos.elPos.iEl>=pos.elPos.iEl+iCount){txtDecPos.elPos.iEl-=iCount;}else if(txtDecPos.elPos.iEl>=pos.elPos.iEl){txtDecPos.elPos.iEl=pos.elPos.iEl;txtDecPos.elPos.iCh=0;}}},updateDocPosElementSplit:function(txtDecPos,pos,bIncreaseIfEqual){if(txtDecPos.iPara===pos.iPara){var $0=txtDecPos.iPara;var $1=txtDecPos.getPos().getElIndex();var $2=txtDecPos.getPos().getChIndex();if($1>pos.elPos.iEl){txtDecPos.elPos.iEl+=1;}else if($1===pos.elPos.iEl){if($2>pos.elPos.iCh||($2===pos.elPos.iCh&&bIncreaseIfEqual)){txtDecPos.elPos.iEl+=1;txtDecPos.elPos.iCh-=pos.elPos.iCh;}}}},updateDocPosElementMerged:function(txtDecPos,pos){if(txtDecPos.iPara===pos.iPara){if(txtDecPos.elPos.iEl>pos.elPos.iEl+1){txtDecPos.elPos.iEl-=1;}else if(txtDecPos.elPos.iEl===pos.elPos.iEl+1){txtDecPos.elPos.iEl-=1;txtDecPos.elPos.iCh+=pos.elPos.iCh;}}},elementsInserted:function(pos,iCount){var $0=pos.getLastDocPos();for(var $1=0;$1<this.arrTextDecoration.length;){var $2=this.arrTextDecoration[$1].getFromDocPos();var $3=this.arrTextDecoration[$1].getToDocPos();if(!$2.isEqual($3)){this.updateDocPosElementInserted($2,$0,iCount,true);this.updateDocPosElementInserted($3,$0,iCount,false);$1++;}else{this.arrTextDecoration.removeAt($1);}}},elementsDeleted:function(pos,iCount){var $0=pos.getLastDocPos();for(var $1=0;$1<this.arrTextDecoration.length;){var $2=this.arrTextDecoration[$1].getFromDocPos();var $3=this.arrTextDecoration[$1].getToDocPos();if(!$2.isEqual($3)){this.updateDocPosElementDeleted($2,$0,iCount);this.updateDocPosElementDeleted($3,$0,iCount);$1++;}else{this.arrTextDecoration.removeAt($1);}}},elementMerged:function(pos){var $0=pos.getLastDocPos();for(var $1=0;$1<this.arrTextDecoration.length;){var $2=this.arrTextDecoration[$1].getFromDocPos();var $3=this.arrTextDecoration[$1].getToDocPos();if(!$2.isEqual($3)){this.updateDocPosElementMerged($2,$0);this.updateDocPosElementMerged($3,$0);$1++;}else{this.arrTextDecoration.removeAt($1);}}},elementSplit:function(pos){var $0=pos.getLastDocPos();for(var $1=0;$1<this.arrTextDecoration.length;){var $2=this.arrTextDecoration[$1].getFromDocPos();var $3=this.arrTextDecoration[$1].getToDocPos();if(!$2.isEqual($3)){this.updateDocPosElementSplit($2,$0,true);this.updateDocPosElementSplit($3,$0,false);$1++;}else{this.arrTextDecoration.removeAt($1);}}},updateDocPosCharacterInserted:function(txtDecPos,pos,iCount,bIncreaseIfEqual){if(txtDecPos.iPara===pos.iPara){var $0=txtDecPos.getPos().getElIndex();var $1=txtDecPos.getPos().getChIndex();if(!$1&&$0>0&&$0-1===pos.getPos().getElIndex()&&!bIncreaseIfEqual){var $2=this.getParagraph(txtDecPos.iPara);var $3=$2.getElement(txtDecPos.getPos().iEl-1);if($3.isText()){if($3.getCharCount()-iCount===pos.getPos().getChIndex()){$0--;$1=pos.getPos().getChIndex();txtDecPos.setEl($0);txtDecPos.setCh($1);}}}if($0===pos.elPos.iEl&&($1>pos.elPos.iCh||(bIncreaseIfEqual&&pos.elPos.iCh===$1))){txtDecPos.elPos.iCh+=iCount;}}},updateDocPosCharacterDeleted:function(txtDecPos,pos,iCount){if(txtDecPos.iPara===pos.iPara&&txtDecPos.elPos.iEl===pos.elPos.iEl&&txtDecPos.elPos.iCh>pos.elPos.iCh){if(txtDecPos.elPos.iCh>pos.elPos.iCh+iCount){txtDecPos.elPos.iCh-=iCount;}else{txtDecPos.elPos.iCh=pos.elPos.iCh;}}},charactersInserted:function(pos,iCount){var $0=pos.getLastDocPos();for(var $1=0;$1<this.arrTextDecoration.length;){var $2=this.arrTextDecoration[$1].getFromDocPos();var $3=this.arrTextDecoration[$1].getToDocPos();if(!$2.isEqual($3)){this.updateDocPosCharacterInserted($2,$0,iCount,true);this.updateDocPosCharacterInserted($3,$0,iCount,false);$1++;}else{this.arrTextDecoration.removeAt($1);}}},charactersDeleted:function(pos,iCount){var $0=pos.getLastDocPos();for(var $1=0;$1<this.arrTextDecoration.length;){var $2=this.arrTextDecoration[$1].getFromDocPos();var $3=this.arrTextDecoration[$1].getToDocPos();if(!$2.isEqual($3)){this.updateDocPosCharacterDeleted($2,$0,iCount);this.updateDocPosCharacterDeleted($3,$0,iCount);$1++;}else{this.arrTextDecoration.removeAt($1);}}},appendTextDecorationRanges:function(pos,arrRange){for(var $0=0;$0<this.arrTextDecoration.length;++$0){var $1=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.SelectionRange();$1.bgColor=this.arrTextDecoration[$0].getColor();$1.from=pos.clone();$1.to=pos.clone();var $2=this.arrTextDecoration[$0].getFromDocPos();$1.from.setPara($2.iPara);$1.from.setEl($2.getPos().getElIndex());$1.from.setCh($2.getPos().getChIndex());var $3=this.arrTextDecoration[$0].getToDocPos();$1.to.setPara($3.iPara);$1.to.setEl($3.getPos().getElIndex());$1.to.setCh($3.getPos().getChIndex());arrRange.add($1);}},appendChildTextDecorationRanges:function(pos,arrRange){var $0=this.getParagraphCount();for(var $1=0;$1<$0;$1++){var $2=this.getParagraph($1);var $3=$2.getElementCount();pos.setPara($1);for(var $4=0;$4<$3;$4++){var $5=$2.getElement($4);pos.setEl($4);if(!!$5.getDocCount()){pos.setMaxLevel(pos.getMaxLevel()+1);for(var $6=0;$6<$5.getDocCount();++$6){pos.setDoc($6);$5.getChildDoc($6).appendTextDecorationRanges(pos,arrRange);$5.getChildDoc($6).appendChildTextDecorationRanges(pos,arrRange);}pos.setMaxLevel(pos.getMaxLevel()-1);}}}},setTextDecorationAll:function(lstDecorations){this.arrTextDecoration=lstDecorations;},getTextDecorationCount:function(){return this.arrTextDecoration.length;},getTextDecorationAt:function(i){return this.arrTextDecoration[i];},sortTextDecorations:function(){for(var $0=0;$0<this.arrTextDecoration.length;$0++){var $1=this.arrTextDecoration[$0];for(var $2=$0+1;$2<this.arrTextDecoration.length;$2++){if($1.getFromDocPos().isGreater(this.arrTextDecoration[$2].getFromDocPos())){this.arrTextDecoration[$0]=this.arrTextDecoration[$2];this.arrTextDecoration[$2]=$1;$1=this.arrTextDecoration[$0];}}}},addTextDecoration:function(txtDcrtn){this.arrTextDecoration.add(txtDcrtn);},clearAllTextDecoration:function(){this.arrTextDecoration.clear();}}
Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.Element=function(){this.parent=null;}
Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.Element.prototype={parent:null,getChildDoc:function(iDoc){return null;},getElementType:function(){return 0;},getParent:function(){return this.parent;},setParent:function(parent){this.parent=parent;},getMainDoc:function(){if(this.parent!=null){return this.parent.getMainDoc();}return null;},getParentDoc:function(){if(this.parent!=null){return this.parent.getParentDoc();}return null;},isRecursiveAscent:function(){return false;},isText:function(){return false;},isBreak:function(){return false;},getWidth:function(){return 0;},getCharCount:function(){return 0;},insertChars:function(pos,arrChar){return;},insertChar:function(pos,ch){return;},getCharProperties:function(){return null;},getDocCount:function(){return 0;},clone:function(elFactory){return null;}}
Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.ElementFactory=function(propCache){this.$0=propCache;this.$1=0;}
Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.ElementFactory.prototype={$0:null,$1:0,createMainDoc:function(prop){return new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.MainDoc(prop,this.createParagraph(prop));},createDocWithoutPara:function(){return new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.Document(null,null);},createDocWithPara:function(para){return new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.Document(null,para);},createDoc:function(prop){return new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.Document(null,this.createParagraph(prop));},createEmptyPara:function(){return this.createParaWithElement(null);},createParaWithEnter:function(prop){var $0=this.createTextElement(prop);$0.insertString('\n');return this.createParaWithElement($0);},createParagraph:function(prop){return this.createParaWithElement(this.createTextElement(prop));},createParaWithElement:function(el){var $0=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.Paragraph(el);$0.getParaProp().setAlign(this.$1);return $0;},createTextElement:function(prop){return new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.TextElement(prop);},setHorizontalAlignment:function(eAlignment){this.$1=eAlignment;}}
Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.MainDoc=function(defProp,para){Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.MainDoc.initializeBase(this,[null,para]);this.arrDC=[];this.defProp=defProp;}
Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.MainDoc.prototype={arrDC:null,defProp:null,getDefaultCharProperties:function(){return this.defProp;},registerDocController:function(docCtrl){if(!this.arrDC.contains(docCtrl)){this.arrDC.add(docCtrl);}},unregisterDocController:function(docCtrl){if(this.arrDC.contains(docCtrl)){this.arrDC.remove(docCtrl);}},getMainDoc:function(){return this;},getTextDecorationRanges:function(){var $0=[];var $1=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.CursorPos();$1.setMaxLevel(0);this.appendTextDecorationRanges($1,$0);this.appendChildTextDecorationRanges($1,$0);return $0;},dcValidate:function(){for(var $0=0;$0<this.arrDC.length;++$0){this.arrDC[$0].validate();}}}
Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.Paragraph=function(el){this.parent=null;this.arrElement=[];this.arrRenderer=[];if(el!=null){this.arrElement.add(el);el.setParent(this);}this.prop=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.ParagraphProperties();this.prop.setAlign(0);}
Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.Paragraph.prototype={parent:null,arrElement:null,arrRenderer:null,arrAnchor:null,prop:null,clone:function(elFactory){var $0=elFactory.createEmptyPara();$0.setParaPropWithoutPos(this.prop.clone());for(var $1=0;$1<this.arrElement.length;$1++){var $2=this.arrElement[$1].clone(elFactory);$2.setParent($0);$0.arrElement.add($2);}return $0;},getParent:function(){return this.parent;},getMainDoc:function(){if(this.parent!=null){return this.parent.getMainDoc();}return null;},getParentDoc:function(){if(this.parent!=null){return this.parent;}return null;},getElementCount:function(){return this.arrElement.length;},getElement:function(index){return this.arrElement[index];},hasBreak:function(){return !!(this.arrElement[this.arrElement.length-1]).getCharCount();},getElementIndex:function(el){return this.arrElement.indexOf(el);},registerRenderer:function(renderer){if(!this.arrRenderer.contains(renderer)){this.arrRenderer.add(renderer);}},unregisterRenderer:function(renderer){if(this.arrRenderer.contains(renderer)){this.arrRenderer.remove(renderer);}},appendAnchorRects:function(arrRect,iYOffset){if(this.arrAnchor!=null&&!!this.arrAnchor.length){if(arrRect==null){arrRect=[];}for(var $0=0;$0<this.arrAnchor.length;++$0){if(this.arrAnchor[$0].rect.get_top()+iYOffset>0){var $1=new Kepler.Framework.UI.Rect(this.arrAnchor[$0].rect.get_left(),this.arrAnchor[$0].rect.get_top()+iYOffset,this.arrAnchor[$0].rect.get_width(),this.arrAnchor[$0].rect.get_height());arrRect.add($1);}}}return arrRect;},insertElements:function(pos,arrElement){var $0=pos.getElIndex();var $1=arrElement.length===1&&arrElement[0].isText()&&(arrElement[0]).getText()==='\n';if($0>this.arrElement.length-1&&!$1){return;}for(var $4=0;$4<arrElement.length;++$4){arrElement[$4].setParent(this);this.arrElement.insert($0+$4,arrElement[$4]);}var $2=this.getMainDoc();var $3=this.arrRenderer.length;for(var $5=0;$5<$3;++$5){this.arrRenderer[$5].elementsInserted(pos,pos.getMaxLevel(),arrElement);}if(this.parent!=null){this.parent.elementsInserted(pos,arrElement.length);}},insertElement:function(pos,el){var $0=[];$0.add(el);this.insertElements(pos,$0);},setParent:function(parent){this.parent=parent;},deleteAllElements:function(from){var $0=from.clone();this.deleteElements(from,this.getElementCount()-1);},deleteElements:function(from,iCount){var $0=from.getElIndex();var $1=this.arrElement.length;if($0+iCount>$1){iCount=$1;}if(iCount<=0){return;}this.arrElement.removeRange($0,iCount);var $2=this.getMainDoc();var $3=this.arrRenderer.length;for(var $4=0;$4<$3;++$4){this.arrRenderer[$4].elementsDeleted(from,from.getMaxLevel(),iCount);}if(this.parent!=null){this.parent.elementsDeleted(from,iCount);}},mergeElement:function(from){var $0=from.getElIndex();var $1=this.arrElement[$0];var $2=this.arrElement[$0+1];$1.merge($2);this.arrElement.removeAt($0+1);var $3=this.getMainDoc();var $4=this.arrRenderer.length;for(var $5=0;$5<$4;++$5){this.arrRenderer[$5].elementMerged(from,from.getMaxLevel());}if(this.parent!=null){this.parent.elementMerged(from);}},splitElement:function(from,newEl){var $0=from.getElIndex();var $1=this.arrElement[$0];$1.split(from,newEl);newEl.setProperty($1.getCharProperties());this.arrElement.insert($0+1,newEl);newEl.setParent(this);var $2=this.getMainDoc();var $3=this.arrRenderer.length;for(var $4=0;$4<$3;++$4){this.arrRenderer[$4].elementSplit(from,from.getMaxLevel());}if(this.parent!=null){this.parent.elementSplit(from);}},setParaPropWithoutPos:function(prop){this.prop.mergeProperties(prop);},setParaProp:function(pos,prop){this.prop.mergeProperties(prop);var $0=this.arrRenderer.length;for(var $1=0;$1<$0;++$1){this.arrRenderer[$1].propertyChanged(pos,pos.getMaxLevel(),prop);}},getParaProp:function(){return this.prop;},changeElementProperty:function(pos,iLevel,iCount,updateCharProp){var $0=pos.getElIndex();var $1=$0+iCount;for(var $3=$0;$3<$1;$3++){var $4=this.getElement($3);if($4.isText()){var $5=$4;$5.setProperty(updateCharProp.getNewProperty($5.getCharProperties()));}}var $2=this.arrRenderer.length;for(var $6=0;$6<$2;++$6){this.arrRenderer[$6].elementPropertyChanged(pos,iLevel,iCount);}},merge:function(para){var $0=para.getElementCount();if(this.getElementCount()<1){this.prop.mergeProperties(para.getParaProp());}for(var $1=0;$1<$0;++$1){para.arrElement[$1].setParent(this);this.arrElement.add(para.arrElement[$1]);}para.arrElement.removeRange(0,$0);},split:function(index,para){para.arrElement=this.arrElement.extract(index,this.arrElement.length-index);var $0=para.arrElement.length;for(var $1=0;$1<$0;++$1){para.arrElement[$1].setParent(para);}this.arrElement.removeRange(index,this.arrElement.length-index);},charsInserted:function(pos,nCount){var $0=this.arrRenderer.length;for(var $2=0;$2<$0;++$2){this.arrRenderer[$2].charsInserted(pos,pos.getMaxLevel(),nCount);}var $1=this.getMainDoc();if(this.parent!=null){this.parent.charactersInserted(pos,nCount);}},charsDeleted:function(pos,nCount){var $0=this.arrRenderer.length;for(var $2=0;$2<$0;++$2){this.arrRenderer[$2].charsDeleted(pos,pos.getMaxLevel(),nCount);}var $1=this.getMainDoc();if(this.parent!=null){this.parent.charactersDeleted(pos,nCount);}},appendElementWithoutPos:function(element){this.arrElement.insert(this.arrElement.length-1,element);}}
Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.CursorPos=function(){this.$0=[];}
Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.CursorPos.prototype={$0:null,getMaxLevel:function(){return this.$0.length-1;},clone:function(){var $0=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.CursorPos();$0.set(this.$0);return $0;},set:function(arrDocPos){this.$0=[];for(var $0=0;$0<arrDocPos.length;++$0){this.$0.add(arrDocPos[$0].clone());}},isGreater:function(pos){var $0=(this.$0.length<pos.$0.length)?this.$0.length:pos.$0.length;for(var $1=0;$1<$0;++$1){if(this.$0[$1].isGreater(pos.$0[$1])){return true;}else if(this.$0[$1].isEqual(pos.$0[$1])){continue;}return false;}if(this.$0.length>pos.$0.length){return true;}return false;},isLess:function(pos){var $0=(this.$0.length<pos.$0.length)?this.$0.length:pos.$0.length;for(var $1=0;$1<$0;++$1){if(this.$0[$1].isLess(pos.$0[$1])){return true;}else if(this.$0[$1].isEqual(pos.$0[$1])){continue;}return false;}if(this.$0.length<pos.$0.length){return true;}return false;},isGreaterEqual:function(pos){var $0=(this.$0.length<pos.$0.length)?this.$0.length:pos.$0.length;for(var $1=0;$1<$0;++$1){if(this.$0[$1].isGreater(pos.$0[$1])){return true;}else if(this.$0[$1].isLess(pos.$0[$1])){continue;}return false;}if(this.$0.length>=pos.$0.length){return true;}return false;},isLessEqual:function(pos){var $0=(this.$0.length<pos.$0.length)?this.$0.length:pos.$0.length;for(var $1=0;$1<$0;++$1){if(this.$0[$1].isLess(pos.$0[$1])){return true;}else if(this.$0[$1].isEqual(pos.$0[$1])){continue;}return false;}if(this.$0.length<=pos.$0.length){return true;}return false;},isEqual:function(pos){if(this.$0.length!==pos.$0.length){return false;}for(var $0=0;$0<this.$0.length;++$0){if(!this.$0[$0].isEqual(pos.$0[$0])){return false;}}return true;},isEqualTillDocLevel:function(pos,iLevel){if(this.$0.length<=iLevel||pos.$0.length<=iLevel){return false;}for(var $0=0;$0<iLevel;++$0){if(!this.$0[$0].isEqual(pos.$0[$0])){return false;}}if(this.$0[iLevel].iDoc!==pos.$0[iLevel].iDoc){return false;}return true;},isEqualTillParaLevel:function(pos,iLevel){if(this.$0.length<=iLevel||pos.$0.length<=iLevel){return false;}for(var $0=0;$0<iLevel;++$0){if(!this.$0[$0].isEqual(pos.$0[$0])){return false;}}if(this.$0[iLevel].iDoc!==pos.$0[iLevel].iDoc||this.$0[iLevel].iPara!==pos.$0[iLevel].iPara){return false;}return true;},isEqualTillElLevel:function(pos,iLevel){if(this.$0.length<=iLevel||pos.$0.length<=iLevel){return false;}for(var $0=0;$0<iLevel;++$0){if(!this.$0[$0].isEqual(pos.$0[$0])){return false;}}if(this.$0[iLevel].iDoc!==pos.$0[iLevel].iDoc||this.$0[iLevel].iPara!==pos.$0[iLevel].iPara||this.$0[iLevel].elPos.getElIndex()!==pos.$0[iLevel].elPos.getElIndex()){return false;}return true;},getDocIndex:function(){if(!!this.$0.length){var $0=this.$0[this.$0.length-1];return $0.iDoc;}return 0;},getParaIndex:function(){if(!!this.$0.length){var $0=this.$0[this.$0.length-1];return $0.iPara;}return 0;},getElIndex:function(){if(!!this.$0.length){var $0=this.$0[this.$0.length-1];return $0.elPos.getElIndex();}return 0;},getChIndex:function(){if(!!this.$0.length){var $0=this.$0[this.$0.length-1];return $0.elPos.getChIndex();}return 0;},getLastDocPos:function(){if(!!this.$0.length){return this.$0[this.$0.length-1];}return null;},getDocPos:function(iIndex){if(!!this.$0.length){return this.$0[iIndex];}return null;},setMaxLevel:function(index){if(this.$0.length<=index){while(this.$0.length<=index){this.$0.add(new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.DocPos());}}else if(this.$0.length>index+1){this.$0.removeRange(index+1,this.$0.length-index-1);}},setDoc:function(iDoc){this.getLastDocPos().setDoc(iDoc);},setPara:function(iPara){this.getLastDocPos().setPara(iPara);},setEl:function(iEl){this.getLastDocPos().setEl(iEl);},setCh:function(iCh){this.getLastDocPos().setCh(iCh);}}
Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.DocPos=function(){this.iType=0;this.iDoc=0;this.iPara=0;this.elPos=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.ElPos();}
Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.DocPos.prototype={iType:0,iDoc:0,iPara:0,elPos:null,bChangeIfEqual:false,clone:function(){var $0=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.DocPos();$0.set(this.iType,this.iDoc,this.iPara,this.elPos.getElIndex(),this.elPos.getChIndex());return $0;},set:function(iType,iDoc,iPara,iEl,iCh){this.iDoc=iDoc;this.iPara=iPara;this.elPos.set(iEl,iCh);},isGreater:function(pos){var $0=this.elPos.getElIndex();var $1=this.elPos.getChIndex();return (this.iDoc>pos.iDoc)||(this.iDoc===pos.iDoc&&((this.iPara>pos.iPara)||(this.iPara===pos.iPara&&(($0>pos.elPos.getElIndex())||($0===pos.elPos.getElIndex()&&$1>pos.elPos.getChIndex())))));},isLess:function(pos){var $0=this.elPos.getElIndex();var $1=this.elPos.getChIndex();return (this.iDoc<pos.iDoc)||(this.iDoc===pos.iDoc&&((this.iPara<pos.iPara)||(this.iPara===pos.iPara&&(($0<pos.elPos.getElIndex())||($0===pos.elPos.getElIndex()&&$1<pos.elPos.getChIndex())))));},isGreaterEqual:function(pos){var $0=this.elPos.getElIndex();var $1=this.elPos.getChIndex();return (this.iDoc>pos.iDoc)||(this.iDoc===pos.iDoc&&((this.iPara>pos.iPara)||(this.iPara===pos.iPara&&(($0>pos.elPos.getElIndex())||($0===pos.elPos.getElIndex()&&$1>=pos.elPos.getChIndex())))));},isLessEqual:function(pos){var $0=this.elPos.getElIndex();var $1=this.elPos.getChIndex();return (this.iDoc<pos.iDoc)||(this.iDoc===pos.iDoc&&((this.iPara<pos.iPara)||(this.iPara===pos.iPara&&(($0<pos.elPos.getElIndex())||($0===pos.elPos.getElIndex()&&$1<=pos.elPos.getChIndex())))));},isEqual:function(pos){return (this.iDoc===-1||pos.iDoc===-1||this.iDoc===pos.iDoc)&&(this.iPara===-1||pos.iPara===-1||this.iPara===pos.iPara)&&this.elPos.isEqual(pos.elPos);},getPos:function(){return this.elPos;},setDoc:function(iDoc){this.iDoc=iDoc;},setPara:function(iPara){this.iPara=iPara;},setCh:function(iCh){this.elPos.setChIndex(iCh);},setEl:function(iEl){this.elPos.setElIndex(iEl);}}
Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.ElPos=function(){this.iEl=0;this.iCh=0;}
Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.ElPos.prototype={iEl:0,iCh:0,clone:function(){var $0=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.ElPos();$0.set(this.iEl,this.iCh);return $0;},set:function(iEl,iCh){this.iEl=iEl;this.iCh=iCh;},setElIndex:function(iEl){this.iEl=iEl;},setChIndex:function(iCh){this.iCh=iCh;},getElIndex:function(){return this.iEl;},getChIndex:function(){return this.iCh;},elementsInserted:function(elPos,iCount){this.iEl+=iCount;},elementsDeleted:function(elPos,iCount){this.iEl-=iCount;},elementsMerged:function(elPos){this.iEl-=1;},elementsSplit:function(elPos){this.iEl+=1;},charsInserted:function(elPos,iCount){this.iCh+=iCount;},charsDeleted:function(elPos,iCount){this.iCh-=iCount;},isGreater:function(elPos){if(this.iEl>elPos.iEl){return true;}else if(this.iEl===elPos.iEl&&this.iCh>elPos.iCh){return true;}else{return false;}},isLess:function(elPos){if(this.iEl<elPos.iEl){return true;}else if(this.iEl===elPos.iEl&&this.iCh<elPos.iCh){return true;}else{return false;}},isGreaterEqual:function(elPos){if(this.iEl>elPos.iEl){return true;}else if(this.iEl===elPos.iEl&&this.iCh>=elPos.iCh){return true;}else{return false;}},isLessEqual:function(elPos){if(this.iEl<elPos.iEl){return true;}else if(this.iEl===elPos.iEl&&this.iCh<=elPos.iCh){return true;}else{return false;}},isEqual:function(elPos){if(this.iEl===-1){return true;}else if(this.iEl===elPos.iEl&&(this.iCh===elPos.iCh||this.iCh===-1)){return true;}else{return false;}}}
Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.CharProperties=function(){this.$10={};this.$11=[2,5,25,50,100,200];this.$1='none';this.$2=-1;this.$3=-1;this.$4=-1;this.$5=-1;this.$6=-1;this.$A=-1;this.$9=-1;this.$13='';this.$7=null;this.$8=null;this.$15=false;this.$B=-1;}
Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.CharProperties.prototype={$0:0,$1:null,$2:0,$3:0,$4:0,$5:0,$6:0,$7:null,$8:null,$9:0,$A:0,$B:0,$C:0,$D:0,$E:0,$F:0,$10:null,$11:null,$12:null,$13:null,$14:null,$15:false,cloneProperties:function(){var $0=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.CharProperties();$0.$1=this.$1;$0.$2=this.$2;$0.$3=this.$3;$0.$4=this.$4;$0.$5=this.$5;$0.$6=this.$6;$0.$A=this.$A;$0.$9=this.$9;$0.$7=this.$7;$0.$8=this.$8;$0.$B=this.$B;return $0;},getCacheIndex:function(){return this.$0;},setCacheIndex:function(iIndex){this.$0=iIndex;},isEqual:function(p){if(p.$1===this.$1&&p.$2===this.$2&&p.$3===this.$3&&p.$4===this.$4&&p.$5===this.$5&&p.$6===this.$6&&!ss.isNullOrUndefined(p.$7)&&p.$7.equals(this.$7)&&!ss.isNullOrUndefined(p.$8)&&p.$8.equals(this.$8)&&p.$9===this.$9&&p.$A===this.$A&&p.$B===this.$B){return true;}return false;},getActualAscent:function(){return this.$E;},getActualDescent:function(){return this.$F;},getStringWidth:function(str){str=str.replaceAll(' ',String.fromCharCode(160));Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.CharProperties.$18.font=this.getCanvasFont();if(Kepler.Framework.Core.Browser.BrowserCapabilities.get_name()===3){str+=str;return Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.CharProperties.$18.measureText(str).width/2;}else{return Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.CharProperties.$18.measureText(str).width;}},dispose:function(){document.body.removeChild(this.$12);},setFontFamily:function(strFontFamily){if(strFontFamily!=='none'){this.$1=strFontFamily;}},getFontFamily:function(){return this.$1;},setFontSize:function(iFontSize){if(iFontSize!==-1){this.$2=iFontSize;}},getFontSize:function(){return this.$2;},setItalic:function(iItalic){if(iItalic!==-1){this.$3=iItalic;}},getItalic:function(){return this.$3;},setBold:function(iBold){if(iBold!==-1){this.$4=iBold;}},getBold:function(){return this.$4;},setUnderline:function(iUnderline){if(iUnderline!==-1){this.$5=iUnderline;}},getUnderline:function(){return this.$5;},setStrikeOut:function(iStrikeOut){if(iStrikeOut!==-1){this.$6=iStrikeOut;}},getStrikeOut:function(){return this.$6;},setFontColor:function(fontColor){if(fontColor!=null){this.$7=fontColor;}},getFontColor:function(){return this.$7;},setBackgroundColor:function(backgroundColor){if(backgroundColor!=null){this.$8=backgroundColor;}},getBackgroundColor:function(){return this.$8;},setSuperScript:function(iSuperScript){if(iSuperScript!==-1){this.$9=iSuperScript;}},getRecursiveSuperSub:function(){return this.$B;},setRecursiveSuperSub:function(iRecursiveSuperSub){if(iRecursiveSuperSub!==-1){this.$B=iRecursiveSuperSub;}},getSuperScript:function(){return this.$9;},setSubScript:function(iSubScript){if(iSubScript!==-1){this.$A=iSubScript;}},getSubScript:function(){return this.$A;},getAscent:function(){return this.$C;},setAscent:function(iAscent){if(iAscent!==-1){this.$C=iAscent;}},getDescent:function(){return this.$D;},setDescent:function(iDescent){if(iDescent!==-1){this.$D=iDescent;}},getStyle:function(){return this.$13;},getCanvasFont:function(){return this.$14;},computeCanvasFont:function(){var $0='';$0+=(this.getItalic()===1)?'italic ':'';$0+=(this.getBold()===1)?'bold ':'';var $1=this.getFontSize();if(this.getRecursiveSuperSub()===1){if($1*2/3>=8){$1=Math.floor(2/3*$1);}else{$1=8;}}if(this.getSuperScript()===1||this.getSubScript()===1){$0+=(Math.floor($1*2/3))+'px ';}else{$0+=$1+'px ';}$0+=this.getFontFamily()+' ';this.$14=$0;},computeStyle:function(){if(this.$1==='none'&&this.$2===-1||this.$3===-1||this.$4===-1||this.$5===-1||this.$6===-1||this.$A===-1||this.$9===-1||this.$7==null||this.$B===-1){return;}var $0='white-space: nowrap;';$0+='font-family:'+this.getFontFamily()+';';$0+='font-size:';var $1=this.getFontSize();if(this.getRecursiveSuperSub()===1){if($1*2/3>=8){$1=Math.floor(2/3*$1);}else{$1=8;}}if(this.getSuperScript()===1||this.getSubScript()===1){$0+=(Math.floor($1*2/3))+'px;';}else{$0+=$1+'px;';}$0+=(this.getBold()===1)?'font-weight:bold;':'';$0+=(this.getItalic()===1)?'font-style:italic;':'';if(this.getStrikeOut()===1||this.getUnderline()===1){$0+='text-decoration : ';$0+=(this.getUnderline()===1)?'underline ':'';$0+=(this.getStrikeOut()===1)?'line-through;':'';$0+=';';}if(this.getUnderline()===2){$0+='border-bottom: 3px double;';}var $2=this.getFontColor();$0+='color:'+$2.toString()+';';$2=this.getBackgroundColor();if(!!$2.dAlpha){$0+='background-color:'+$2.toString()+';';}if(Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.CharProperties.$16==null){Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.CharProperties.$16=document.createElement('div');Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.CharProperties.$16.style.position='absolute';Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.CharProperties.$16.style.left=0+'px';Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.CharProperties.$16.style.top=0+'px';Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.CharProperties.$16.style.width=0+'px';Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.CharProperties.$16.style.height=0+'px';Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.CharProperties.$16.style.overflow='hidden';document.body.appendChild(Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.CharProperties.$16);}if(Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.CharProperties.$17==null){Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.CharProperties.$17=document.createElement('canvas');Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.CharProperties.$16.appendChild(Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.CharProperties.$17);Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.CharProperties.$18=Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.CharProperties.$17.getContext('2d');}this.$13=$0;$0='position : absolute;display:inline-block; top : -1000px; left:-1000px;line-height:normal;'+$0;if(ss.isNullOrUndefined(this.$12)){this.$12=document.createElement('div');this.$12.setAttribute('style',$0+';font-size:'+$1+'px');}if(!ss.isNullOrUndefined(document.body)){Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.CharProperties.$16.appendChild(this.$12);}if(!Kepler.Framework.Core.Browser.BrowserCapabilities.get_name()){Kepler.Engine.UI.Helper.HtmlCssHelper.refreshDOM();}this.$12.setAttribute('style',$0+';font-size:'+$1+'px');this.$12.innerHTML='g';var $3=this.$12.offsetHeight;this.$12.innerHTML+='<div style="display:inline-block;width:100px;height:200px"/>';if(!Kepler.Framework.Core.Browser.BrowserCapabilities.get_name()){Kepler.Engine.UI.Helper.HtmlCssHelper.refreshDOM();}this.$D=this.$12.offsetHeight-200+1;this.$C=$3-this.$D;this.$12.setAttribute('style',$0);this.$12.innerHTML='g';$3=this.$12.offsetHeight;this.$12.innerHTML+='<div style="display:inline-block;width:100px;height:200px"/>';if(!Kepler.Framework.Core.Browser.BrowserCapabilities.get_name()){Kepler.Engine.UI.Helper.HtmlCssHelper.refreshDOM();}this.$F=this.$12.offsetHeight-200+1;this.$E=$3-this.$F;if(this.getSuperScript()===1){this.$C+=this.$D-this.$F;this.$D-=this.$D-this.$F;}else if(this.getSubScript()===1){this.$C-=this.$D+this.$F*3/2;this.$D+=this.$D+this.$F*3/2;}Object.clearKeys(this.$10);this.computeCanvasFont();this.$15=true;Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.CharProperties.$16.removeChild(this.$12);},getDom:function(){return this.$12;},setDom:function(dom){this.$12=dom;},set:function(strFontFamily,iFontSize,iItalic,iBold,iUnderline,iStrikeOut,fontColor,backgroundColor,iSuperScript,iSubScript){this.setFontFamily(strFontFamily);this.setFontSize(iFontSize);this.setItalic(iItalic);this.setBold(iBold);this.setUnderline(iUnderline);this.setStrikeOut(iStrikeOut);this.setFontColor(fontColor);this.setBackgroundColor(backgroundColor);this.setSuperScript(iSuperScript);this.setSubScript(iSubScript);this.setRecursiveSuperSub(0);},mergeProperties:function(prop){this.setFontFamily(prop.getFontFamily());this.setFontSize(prop.getFontSize());this.setItalic(prop.getItalic());this.setBold(prop.getBold());this.setUnderline(prop.getUnderline());this.setStrikeOut(prop.getStrikeOut());this.setFontColor(prop.getFontColor());this.setBackgroundColor(prop.getBackgroundColor());this.setSubScript(prop.getSubScript());this.setSuperScript(prop.getSuperScript());this.setRecursiveSuperSub(prop.getRecursiveSuperSub());},isInitalized:function(){return this.$15;},getCommonProperties:function(p){if(p==null){return this.cloneProperties();}var $0=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.CharProperties();if(this.$1===p.$1){$0.$1=this.$1;}else{$0.$1='none';}if(this.$2===p.$2){$0.$2=this.$2;}else{$0.setFontSize(-1);}if(this.$3===p.$3){$0.$3=this.$3;}else{$0.$3=-1;}if(this.$4===p.$4){$0.$4=this.$4;}else{$0.$4=-1;}if(this.$5===p.$5){$0.$5=this.$5;}else{$0.$5=-1;}if(this.$6===p.$6){$0.$6=this.$6;}else{$0.$6=-1;}if(this.$7!=null&&this.$7.equals(p.$7)){$0.$7=this.$7.clone();}else{$0.$7=null;}if(this.$8!=null&&this.$8.equals(p.$8)){$0.$8=this.$8.clone();}else{$0.$8=null;}if(this.$9===p.$9){$0.$9=this.$9;}else{$0.$9=-1;}if(this.$A===p.$A){$0.$A=this.$A;}else{$0.$A=-1;}if(this.$B===p.$B){$0.$B=this.$B;}else{$0.$B=-1;}return $0;}}
Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.CharPropertyCache=function(prop){this.$0=[];prop.computeStyle();this.$0.add(prop);prop.setCacheIndex(0);}
Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.CharPropertyCache.prototype={$0:null,getPropertyCount:function(){return this.$0.length;},addPropertyMerged:function(prop){var $0=this.hasProperty(prop);if($0===-1){$0=this.$0.length;this.$0.add(prop);this.$0[$0].computeStyle();this.$0[$0].setCacheIndex($0);}return $0;},addProperty:function(prop){var $0=this.getDefaultCharProperties().cloneProperties();$0.mergeProperties(prop);return this.addPropertyMerged($0);},scaleFont:function(scale,lstProp){var $0=[];var $1={};for(var $2=0;$2<lstProp.length;$2++){$0.add(lstProp[$2].cloneProperties());$0[$2].setFontSize(Math.round($0[$2].getFontSize()*scale));}for(var $3=0;$3<$0.length;$3++){$1[lstProp[$3].getCacheIndex().toString()]=this.getProperty(this.addPropertyMerged($0[$3]));}return $1;},applyNewProperties:function(prop,lstProp){var $0=[];var $1={};for(var $2=0;$2<lstProp.length;$2++){$0.add(lstProp[$2].cloneProperties());}for(var $3=0;$3<$0.length;$3++){$0[$3].mergeProperties(prop);$1[lstProp[$3].getCacheIndex().toString()]=this.getProperty(this.addPropertyMerged($0[$3]));}return $1;},getProperty:function(iIndex){return this.$0[iIndex];},getDefaultCharProperties:function(){return this.$0[0];},hasProperty:function(prop){for(var $0=0;$0<this.$0.length;++$0){if(this.$0[$0].isEqual(prop)){return $0;}}return -1;}}
Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.DocumentProperties=function(bPaged,nPageWidth,nPageHeight){this.bPaged=bPaged;this.nPageHeight=nPageHeight;this.nPageWidth=nPageWidth;}
Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.DocumentProperties.prototype={bPaged:false,nPageWidth:0,nPageHeight:0,clone:function(){var $0=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.DocumentProperties(this.bPaged,this.nPageWidth,this.nPageHeight);return $0;},getCommonProperties:function(p){return null;}}
Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.ParagraphProperties=function(){this.$0=-1;this.$1=-1;this.$2=-1;this.$3=null;this.$4='none';this.$5=-2;this.$6=-1;this.$7=-1;this.$8=-1;this.$9=-1;this.$A=-1;}
Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.ParagraphProperties.prototype={$0:0,$1:0,$2:0,$3:null,$4:null,$5:0,$6:0,$7:0,$8:0,$9:0,$A:0,isBulletApplied:function(){return (this.$0!==-1&&!!this.$0);},getBulletType:function(){return this.$0;},setBulletType:function(type){if(type!==-1){this.$0=type;}},getBulletCase:function(){return this.$1;},setBulletCase:function(newBulletCase){if(newBulletCase!==-1){this.$1=newBulletCase;}},getBulletParen:function(){return this.$2;},setBulletParen:function(newBuParen){if(newBuParen!==-1){this.$2=newBuParen;}},getBulletCharProp:function(){return this.$3;},setBulletCharProp:function(charProp){if(charProp!=null){this.$3=charProp;}},getBuChar:function(){if(this.$4==='none'){return '';}return this.$4;},setBuChar:function(bulletChar){if(bulletChar!=='none'){this.$4=bulletChar;}},getStartNumber:function(){return this.$5;},setBuStartNumber:function(startNum){if(startNum!==-2){this.$5=startNum;}},getLevel:function(){return this.$6;},setLevel:function(level){if(level!==-1){this.$6=level;}},getAlign:function(){return this.$7;},setAlign:function(paraAlign){if(paraAlign!==-1){this.$7=paraAlign;}},getIndent:function(){return this.$8;},setIndent:function(paraIndent){if(paraIndent!==-1){this.$8=paraIndent;}},getHangingIndent:function(){return this.$9;},setHangingIndent:function(hangIndent){if(hangIndent!==-1){this.$9=hangIndent;}},getLineSpacing:function(){return this.$A;},setLineSpacing:function(lineSpacing){if(lineSpacing!==-1){this.$A=lineSpacing;}},getCommonProperties:function(p){var $0=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.ParagraphProperties();if(p.$0===this.$0){$0.$0=this.$0;}if(p.$1===this.$1){$0.$1=this.$1;}if(p.$2===this.$2){$0.$2=this.$2;}if(p.$3===this.$3){$0.$3=this.$3;}if(p.$4===this.$4){$0.$4=this.$4;}if(p.$6===this.$6){$0.$6=this.$6;}if(p.$5===this.$5){$0.$5=this.$5;}if(p.$7===this.$7){$0.$7=this.$7;}if(p.$8===this.$8){$0.$8=this.$8;}if(p.$9===this.$9){$0.$9=this.$9;}if(p.$A===this.$A){$0.$A=this.$A;}return $0;},clone:function(){var $0=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.ParagraphProperties();$0.$0=this.$0;$0.$1=this.$1;$0.$2=this.$2;$0.$3=this.$3;$0.$4=this.$4;$0.$5=this.$5;$0.$6=this.$6;$0.$7=this.$7;$0.$8=this.$8;$0.$9=this.$9;return $0;},mergeProperties:function(prop){this.setBulletType(prop.$0);this.setBulletCase(prop.$1);this.setBulletParen(prop.$2);this.setBulletCharProp(prop.$3);this.setBuChar(prop.$4);this.setBuStartNumber(prop.$5);this.setLevel(prop.$6);this.setAlign(prop.$7);this.setIndent(prop.$8);this.setHangingIndent(prop.$9);},isEqual:function(prop){var $0=true;if(this.$0!==prop.$0){$0=false;}if(this.$7!==prop.$7){$0=false;}if(this.$1!==prop.$1){$0=false;}return $0;},getBulletHeight:function(){return (this.$3.getAscent()+this.$3.getDescent());},getBulletWidth:function(){var $0=this.getBulletStr();var $1=this.$3.getStringWidth($0);$1+=5;if($1<Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.ParagraphProperties.bulleT_INDENT){$1=Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.ParagraphProperties.bulleT_INDENT;}return $1;},getBulletStr:function(){var $0='';if(this.$5!==-1){switch(this.$0){case 4:$0=this.$4;break;case 2:$0=(this.$5+1).toString()+'.';break;case 1:if(!this.$1){$0=this.getBuCharAlphabet(this.$5).toLowerCase()+'.';}else{$0=this.getBuCharAlphabet(this.$5)+'.';}break;case 3:if(!this.$1){$0=this.toRoman(this.$5+1).toLowerCase()+'.';}else{$0=this.toRoman(this.$5+1)+'.';}break;}}return $0;},getBuCharAlphabet:function(number){var $0='';if(!number){$0=String.fromCharCode(65+number);return $0;}while(true){$0=$0.insert(0,String.fromCharCode(65+number%26));number=Math.floor(number/26);if(!number){break;}number-=1;}return $0;},toRoman:function(number){var $0=[1000,900,500,400,100,90,50,40,10,9,5,4,1];var $1=['M','CM','D','CD','C','XC','L','XL','X','IX','V','IV','I'];var $2='';for(var $3=0;$3<$0.length&&!!number;$3++){while(number>=$0[$3]){number-=$0[$3];$2+=$1[$3];}}return $2;}}
Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.UpdateCharProperty=function(mapProp){this.$0=mapProp;}
Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.UpdateCharProperty.prototype={$0:null,getNewProperty:function(prop){return this.$0[prop.getCacheIndex().toString()];}}
Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.BaseElementRenderer=function(factory,parent){this.factory=factory;this.parent=parent;this.arrDR=[];this.arrLine=[];this.arrLine.add(new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.PagedLine());}
Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.BaseElementRenderer.prototype={arrDR:null,factory:null,parent:null,arrLine:null,setParent:function(pr){this.parent=pr;},getParentRenderer:function(){return this.parent;},getPageLineCount:function(){return this.arrLine.length;},getDocRenderer:function(index){if(index<this.arrDR.length){return this.arrDR[index];}else{return null;}},setLayout:function(layout){var $0=layout['arrdoc'];for(var $1=0;$1<$0.length;++$1){var $2=$0[$1];this.arrDR[$1].setLayout($2);}},getLayout:function(){var $0={};var $1=[];for(var $2=0;$2<$1.length;++$2){$1.add(this.arrDR[$2].getLayout());}$0['arrdoc']=$1;return $0;},documentsAdded:function(pos,nLevel,arrDoc){},documentsDeleted:function(pos,nLevel,nCount){},renderPagedLine:function(iLine,bLastTableRow,args){return null;},renderPagedLineOnCanvas:function(canvas,iLine,bLastTableRow,arrRangeSel,arrRangeBG,nLevel,x,y,rcClip){},renderOnCanvas:function(canvas,arrRangeSel,arrRangeBG,nLevel,x,y,iAscent,iDescent,rcClip){},documentModified:function(pos,iLevel,iRender,nCount){for(var $0=iRender;$0<iRender+nCount;++$0){this.arrLine[$0].layoutInvalidate();}if(this.parent!=null){this.parent.elementModified(pos,iLevel,iRender,nCount);}},invalidatePagedLine:function(iLine){this.arrLine[iLine].layoutInvalidate();},childSelectionInvalidated:function(pos,iLevel,iRender,iCount,bSel){if(bSel){this.arrLine[iRender].selInvalidate();}else{this.arrLine[iRender].bgInvalidate();}if(this.parent!=null){this.parent.childSelectionInvalidated(pos,iLevel,iRender,iCount,bSel);}},invalidateRecursive:function(){for(var $0=0;$0<this.arrDR.length;$0++){this.arrDR[$0].invalidateRecursive();}for(var $1=0;$1<this.arrLine.length;$1++){this.arrLine[$1].layoutInvalidate();}}}
Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.DefaultRenderFactory=function(){}
Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.DefaultRenderFactory.prototype={createMainDocRenderer:function(pageWidth){return new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.MainDocRenderer(this,pageWidth);},createMainDocPagedRenderer:function(pageHeight,pageWidth,marginLeft,marginTop,marginRight,marginBottom,interPageGap){return new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.MainDocRendererPaged(this,pageHeight,pageWidth,marginLeft,marginTop,marginRight,marginBottom,interPageGap);},createParagraphRenderer:function(parent){return new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.ParagraphRenderer(this,parent);},createDocumentRenderer:function(parent){return new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.DocumentRenderer(this,parent);},createElementRenderer:function(parent,type){return null;}}
Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.DocumentRenderer=function(factory,parent){this.factory=factory;this.parent=parent;this.arrPR=[];this.arrPage=[];this.arrPage.add(new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.Page());this.bDirty=true;this.iHeight=0;this.nWidth=0;this._eVerticalAlignment=0;}
Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.DocumentRenderer.prototype={_eVerticalAlignment:0,parent:null,factory:null,arrPR:null,doc:null,arrPage:null,bDirty:false,iHeight:0,nWidth:0,_iMaxHeight:0,dispose:function(){for(var $0=0;$0<this.arrPage.length;++$0){this.arrPage[$0].dispose();}},getParaCount:function(){if(this.doc!=null){return this.doc.getParagraphCount();}return 0;},invalidateSelectionRange:function(range,bSel){var $0=range.from.clone();if(range.from.getDocIndex()!==range.to.getDocIndex()){$0.setMaxLevel($0.getMaxLevel()-1);}var $1=$0.getParaIndex();var $2=range.to.getDocPos($0.getMaxLevel()).iPara;$0.setEl(0);$0.setCh(0);for(;$1<=$2;++$1){$0.setPara($1);this.arrPR[$1].invalidateSelectionRange($0,range,bSel);}},getParagraphRenderer:function(index){return this.arrPR[index];},invalidateRecursive:function(){for(var $0=0;$0<this.arrPage.length;$0++){this.arrPage[$0].layoutInvalidate();}for(var $1=0;$1<this.arrPR.length;$1++){this.arrPR[$1].invalidateRecursive();}this.$0();},getParagraphRendererCount:function(){return this.arrPR.length;},getPageCount:function(){return this.arrPage.length;},getPage:function(index){return Type.safeCast(this.arrPage[index],Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.Page);},setLayout:function(layout){this.setPages(layout['arrpage']);this.setParagraphsLayout(layout['arrpara']);},getLayout:function(){var $0={};var $1=[];var $2=[];this.appendPages($1);this.appendParaLayout($2);$0['arrpage']=$1;$0['arrpara']=$2;return $0;},appendPages:function(pages){for(var $0=0;$0<this.arrPage.length;++$0){var $1={};$1['para']=this.arrPage[$0].getPara();$1['parapage']=this.arrPage[$0].getParaPage();pages.add($1);}},appendParaLayout:function(arrParaLayout){for(var $0=0;$0<this.arrPR.length;++$0){arrParaLayout.add(this.arrPR[$0].getLayout());}},setPages:function(pages){var $0=this.arrPage.length;for(var $2=0;$2<pages.length;++$2){if(this.arrPage.length<=$2){this.arrPage.add(new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.Page());}var $3=pages[$2];var $4=$3['para'];var $5=$3['parapage'];var $6=this.arrPage[$2];$6.set($4,$5,-1);$6.layoutInvalidate();}var $1=pages.length;if($1<$0){for(var $7=$1;$7<$0;++$7){this.arrPage[$7].dispose();}this.arrPage.removeRange($1,$0-$1);}},setParagraphsLayout:function(arrParaLayout){for(var $0=0;$0<arrParaLayout.length;++$0){this.arrPR[$0].setLayout(arrParaLayout[$0]);}},initialize:function(parent){this.parent=parent;},getParentRenderer:function(){return this.parent;},unregisterDoc:function(){if(this.doc!=null){this.doc.unregisterRenderer(this);var $0=this.arrPR.length;for(var $1=0;$1<$0;++$1){this.arrPR[$1].unregisterParagraph();}this.arrPR.removeRange(0,this.arrPR.length);}},getDocument:function(){return this.doc;},setDocument:function(doc){if(doc===this.doc){return;}this.unregisterDoc();if(doc!=null){doc.registerRenderer(this);var $0=doc.getParagraphCount();for(var $1=0;$1<$0;++$1){var $2=doc.getParagraph($1);var $3=this.factory.createParagraphRenderer(this);$3.setParagraph($2);this.arrPR.add($3);}}this.doc=doc;this.$0();},$0:function(){this.bDirty=true;},isDirty:function(){return this.bDirty;},$1:function(){this.bDirty=false;},getFirstRowHeight:function(nMaxWidth,iYOffset){return this.arrPR[0].getFirstLineHeightWithPadding(nMaxWidth,iYOffset);},computeHeight:function(){this.iHeight=0;for(var $0=0;$0<this.arrPage.length;++$0){this.iHeight+=this.arrPage[$0].getHeight();}},computeWidth:function(){this.nWidth=0;for(var $0=0;$0<this.arrPR.length;++$0){var $1=this.arrPR[$0].getWidth();if($1>this.nWidth){this.nWidth=$1;}if(this.nWidth>=this.arrPage[0].getWidth()){break;}}},getHeight:function(){return this.iHeight;},getWidth:function(){return this.nWidth;},setMaxHeight:function(iHeight){this._iMaxHeight=iHeight;},addParaPageOffset:function(pt,iPara,iParaPage){var $0=this.getPageIndexFromParaPage(iPara,iParaPage);var $1=iPara;var $2=this.arrPage[$0].getPara();var $3=this.arrPage[$0].getParaPage();if(!iParaPage){for(;$2<$1;++$2){var $4=this.arrPR[$2].getParaPageCount();for(;$3<$4;++$3){pt.set_y(pt.get_y()+this.arrPR[$2].getParaPageHeight($3));}$3=0;}}return $0;},addPageOffset:function(pt,iPage){},hitTest:function(x,y,hittest){if(hittest.iPage>this.arrPage.length-1){hittest.iPage=this.arrPage.length-1;y+=this.arrPage[hittest.iPage].getHeight();}var $0=this.arrPage[hittest.iPage];var $1=0;var $2=$0.iPara;var $3=this.arrPR.length-1;if(hittest.iPage<this.arrPage.length-1){$3=this.arrPage[hittest.iPage+1].iPara;if(!this.arrPage[hittest.iPage+1].iParaPage){$3--;}}var $4=$0.iParaPage;for(;$2<$3;++$2){var $5=this.arrPR[$2];var $6=$5.getParaPageHeight($4);if(y<$1+$6){break;}$1+=$6;$4=0;}hittest.iPage=$4;hittest.pos.setPara($2);this.arrPR[$2].hitTest(x,y-$1,hittest);return true;},invalidateDocPage:function(iPage){if(iPage>=0&&iPage<this.arrPage.length){this.arrPage[iPage].layoutInvalidate();var $0=this.arrPR[this.arrPage[iPage].getPara()];$0.invalidateParaPage(this.arrPage[iPage].getParaPage());}},getPageIndexFromParaPage:function(iPara,iRender){var $0=0;var $1=this.arrPage.length-1;if($0>$1){return 0;}while($0!==$1){var $2=parseInt((($0+$1)/2));var $3=this.arrPage[$2].getPara();var $4=this.arrPage[$2].getParaPage();if(iPara<$3||(iPara===$3&&iRender<$4)){if($2===$1){break;}$1=$2;}else{if($2===$0){if(iPara>this.arrPage[$2+1].getPara()||iPara===this.arrPage[$2+1].getPara()&&iRender>=this.arrPage[$2+1].getParaPage()){$2+=1;$0=$2;}break;}$0=$2;}}return $0;},getPageIndexFromPos:function(pos){var $0=pos.iPara;var $1=this.getPageIndexFromParaPage($0,0);return $1;},paragraphsInserted:function(pos,nLevel,arrParagraphs){var $0=this.getPageIndexFromPos(pos.getDocPos(nLevel));this.arrPage[$0].layoutInvalidate();var $1=1;if(!!$0){$1++;this.arrPage[$0-1].layoutInvalidate();}if(this.parent!=null){this.parent.documentModified(pos,nLevel-1,$0,$1);}var $2=pos.getParaIndex();var $3=arrParagraphs.length;for(var $4=$0+1;$4<this.arrPage.length;++$4){this.arrPage[$4].set(this.arrPage[$4].getPara()+$3,this.arrPage[$4].getParaPage(),this.arrPage[$4].getWidth());}for(var $5=0;$5<$3;++$5){var $6=arrParagraphs[$5];var $7=this.factory.createParagraphRenderer(this);$7.setParagraph($6);this.arrPR.insert($2+$5,$7);}this.$0();},paragraphsDeleted:function(pos,nLevel,nCount){var $0=pos.getDocPos(nLevel).clone();var $1=$0.iPara;var $2=$1+nCount;var $3=this.getPageIndexFromPos($0);var $4=this.arrPage.length-1;$0.iPara+=nCount;if($0.iPara<this.arrPR.length){$4=this.getPageIndexFromPos($0);}if(!!$3){$3--;}for(var $5=$3;$5<this.arrPage.length;++$5){if($5<=$4){this.arrPage[$5].layoutInvalidate();}var $6=this.arrPage[$5].getPara();if($6>=$1){if($6<$2){this.arrPage[$5].set($1,0,this.arrPage[$5].getWidth());}else{this.arrPage[$5].set($6-nCount,this.arrPage[$5].getParaPage(),this.arrPage[$5].getWidth());}}}if(this.parent!=null){this.parent.documentModified(pos,nLevel-1,$3,$4-$3+1);}for(var $7=$1;$7<$2;++$7){this.arrPR[$7].unregisterParagraph();this.arrPR[$7].dispose();}this.arrPR.removeRange($1,nCount);this.$0();},paragraphSplit:function(pos,nLevel){var $0=this.getPageIndexFromPos(pos.getDocPos(nLevel));if($0<this.arrPage.length){this.arrPage[$0].layoutInvalidate();}var $1=1;if(!!$0){$1++;$0--;this.arrPage[$0].layoutInvalidate();}if(this.parent!=null){this.parent.documentModified(pos,nLevel-1,$0,$1);}var $2=pos.getParaIndex();var $3=1;var $4=this.factory.createParagraphRenderer(this);this.arrPR.insert($2+1,$4);this.arrPR[$2].split(pos,$4,this.doc.getParagraph($2+1));$2++;for(var $5=$0;$5<this.arrPage.length;++$5){var $6=this.arrPage[$5].getPara();if($6>=$2){this.arrPage[$5].set($6+$3,this.arrPage[$5].getParaPage(),this.arrPage[$5].getWidth());}}this.$0();},paragraphMerged:function(pos,nLevel){var $0=pos.getLastDocPos().clone();var $1=this.getPageIndexFromPos(pos.getDocPos(nLevel));var $2=pos.getParaIndex()+1;var $3=$2+1;var $4=this.arrPage.length-1;$0.iPara=$3;$0.setEl(0);$0.setCh(0);if($0.iPara<this.arrPR.length){$4=this.getPageIndexFromPos($0);}for(var $5=$1;$5<this.arrPage.length;++$5){var $6=this.arrPage[$5].getPara();if($6>=$2){if($6<$3){this.arrPage[$5].set($2,0,this.arrPage[$5].getWidth());this.arrPage[$5].layoutInvalidate();}else{this.arrPage[$5].set($6-1,this.arrPage[$5].getParaPage(),this.arrPage[$5].getWidth());}}}if(this.parent!=null){this.parent.documentModified(pos,nLevel-1,$1,$4-$1+1);}this.arrPR[pos.getParaIndex()].merge(pos,this.arrPR[$2]);for(var $7=$2;$7<$2+1&&$7<this.arrPR.length;++$7){this.arrPR[$7].unregisterParagraph();this.arrPR[$7].dispose();}this.arrPR.removeRange($2,1);this.$0();},paragraphModified:function(pos,nLevel,iRender,nCount){var $0=pos.getDocPos(nLevel);var $1=this.getPageIndexFromParaPage($0.iPara,iRender);var $2=this.getPageIndexFromParaPage($0.iPara,iRender+nCount);if($1<this.arrPage.length){for(var $3=$1;$3<=$2;++$3){this.arrPage[$3].layoutInvalidate();}}if(this.parent!=null){this.parent.documentModified(pos,nLevel-1,$1,$2-$1+1);}this.$0();},getFirstInvalidPage:function(){for(var $0=0;$0<this.arrPage.length;++$0){if(!this.arrPage[$0].layoutValid()){return $0;}}return -1;},getFreshPage:function(iPage){if(iPage===this.arrPage.length){this.arrPage.add(new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.Page());}return this.arrPage[iPage];},relayout:function(nAvailableHeight,nMaxWidth,nMaxHeight,args){var $0;if(args!=null){$0=args.clone();}else{$0=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.LayoutArgs();}if(!this.bDirty){return this.arrPage;}var $1=0;if($1===this.arrPage.length){this.arrPage.add(new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.Page());}for(;$1<this.arrPage.length;++$1){if(!this.arrPage[$1].layoutValid()){break;}}if($1===this.arrPage.length){this.$1();return this.arrPage;}var $2=this.arrPage[$1];var $3=$2.getPara();var $4=$2.getParaPage();$2.set($3,$4,nMaxWidth);var $5=this.arrPR.length;var $6=0;var $7=this.arrPage.length;var $8=this.arrPage[this.arrPage.length-1].getHeight();do{$0.setLastRow();var $9=this.arrPR[$3].relayout(nAvailableHeight-$6,nMaxWidth,nMaxHeight,$0);var $A=$9.length;var $B=$9[$A-1].isModified();for(;$4<$A;$4++){if($9[$4].isModified()){$9[$4].clearModified();}if($6+$9[$4].getHeight()>nAvailableHeight&&nMaxHeight!==-1){if(!$6){nAvailableHeight=nMaxHeight;}else{$2.layoutValidate();$2.setHeight($6);$6=0;nAvailableHeight=nMaxHeight;$1++;$2=this.getFreshPage($1);if($B||$2.getPara()!==$3||$4!==$2.getParaPage()){$2.layoutInvalidate();$2.setModified();}$2.set($3,$4,nMaxWidth);}}$6+=$9[$4].getHeight();}$3++;$4=0;if($2.layoutValid()){break;}if($3<$5){this.arrPR[$3].invalidateParaPage(0);}}while($3<$5);if($3!==$5){return this.arrPage;}else{$2.layoutValidate();$2.setHeight($6);$6=0;$1++;}this.computeHeight();this.computeWidth();if($1<$7){for(var $C=$1;$C<$7;++$C){this.arrPage[$C].dispose();}this.arrPage.removeRange($1,$7-$1);}return this.arrPage;},relayoutFixedLayout:function(){var $0=0;var $1=this.arrPage[$0];var $2=0;var $3=(($0+1)<this.arrPage.length)?this.arrPage[$0+1].iPara:this.arrPR.length;var $4=(($0+1)<this.arrPage.length)?this.arrPage[$0+1].iParaPage:0;for(var $5=0;$5<this.arrPR.length;++$5){var $6=this.arrPR[$5].relayoutFixedLayout();var $7=$6.length;for(var $8=0;$8<$7;$8++){if($1.iPara>$3||($1.iPara===$3&&$1.iParaPage===$8)){$1.layoutValidate();$1.setHeight($2);$0++;$1=this.arrPage[$0];$2=0;$3=(($0+1)<this.arrPage.length)?this.arrPage[$0+1].iPara:this.arrPR.length;$4=(($0+1)<this.arrPage.length)?this.arrPage[$0+1].iParaPage:0;}$2+=$6[$8].getHeight();}}$1.layoutValidate();$1.setHeight($2);this.$1();this.computeHeight();this.computeWidth();return this.arrPage;},getPageYOffset:function(oPage){var $0=oPage.getHeight();var $1=0;switch(this._eVerticalAlignment){case 1:$1=(this._iMaxHeight-$0)/2;break;case 2:$1=this._iMaxHeight-$0;break;}return $1;},renderPage:function(iPage,args){if(iPage>=this.arrPage.length){return null;}var $0=this.arrPage[iPage];if($0.fgValid()){return $0.getRender();}var $1=$0.getRender();var $2=$1.getDom();var $3=this.getPageYOffset($0);var $4='width : '+this.getWidth()+'px; '+'height : '+$0.getHeight()+'px;'+(($3>0)?'top:'+$3+'px;':'')+'position:relative;';$2.setAttribute('style',$4);var $5=$0.getPara();var $6=$0.getParaPage();var $7=(iPage+1<this.arrPage.length)?this.arrPage[iPage+1].getPara():this.arrPR.length-1;var $8=(iPage+1<this.arrPage.length)?this.arrPage[iPage+1].getParaPage():this.arrPR[this.arrPR.length-1].getParaPageCount();var $9=null;var $A=this.arrPR[$7];if(!$8){$7--;$A=this.arrPR[$7];$8=$A.getParaPageCount();}$9=$A.renderParaPage($8-1,false,args);$1.append($9);$8--;for(var $B=$7;$B>=$5;$B--){$A=this.arrPR[$B];if($B!==$7){$8=$A.getParaPageCount()-1;}var $C=(($B===$5)?$6:0);for(;$8>=$C;$8--){var $D=$A.renderParaPage($8,false,args);$1.getDom().insertBefore($D.getDom(),$9.getDom());$9=$D;}}return $1;},renderPageSelection:function(iPage,arrRange,nLevel,bSel){if(iPage>=this.arrPage.length){return;}var $0=this.arrPage[iPage];if(bSel&&$0.selValid()){return;}else if(!bSel&&$0.bgValid()){return;}if(bSel){$0.selValidate();}else{$0.bgValidate();}var $1=(arrRange==null)?0:arrRange.length;var $2=$0.getPara();var $3=$0.getParaPage();var $4=this.arrPR.length-1;if(iPage<this.arrPage.length-1){$4=this.arrPage[iPage+1].iPara;var $7=this.arrPage[iPage+1].iParaPage;if(!$7){$4--;}}var $5;var $6=[];for(;$2<=$4;$2++){$5=this.arrPR[$2];$6.clear();for(var $8=0;$8<$1;$8++){var $9=arrRange[$8].from.clone();var $A=arrRange[$8].to.clone();var $B=arrRange[$8].bgColor.clone();var $C=$9.getDocPos(nLevel).iPara;var $D=$A.getDocPos(nLevel).iPara;var $E=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.SelectionRange();if($9.getMaxLevel()===nLevel){if($C<$2&&$D>$2){$9.setPara($2);$9.setEl(0);$9.setCh(0);$A.setPara($2);$A.setEl($5.getElementRendererCount());$A.setCh(0);$E.set($9,$A,$B);$6.add($E);}else if($C===$2&&$D===$2){$E.set($9,$A,$B);$6.add($E);}else if($C===$2&&$D>$2){$A.setPara($2);$A.setEl($5.getElementRendererCount());$A.setCh(0);$E.set($9,$A,$B);$6.add($E);}else if($C<$2&&$D===$2){$9.setPara($2);$9.setEl(0);$9.setCh(0);$E.set($9,$A,$B);$6.add($E);}}else{if($C===$2){$E.set($9,$A,$B);$6.add($E);}}}$5.renderParaPageSelection($3,$6,nLevel,bSel);$3=0;}},childSelectionInvalidated:function(pos,iLevel,iRender,iCount,bSel){var $0=this.getPageIndexFromParaPage(pos.getDocPos(iLevel).iPara,iRender);var $1=this.getPageIndexFromParaPage(pos.getDocPos(iLevel).iPara,iRender+iCount);if($0<this.arrPage.length){for(var $2=$0;$2<=$1;$2++){if(bSel){this.arrPage[$2].selInvalidate();}else{this.arrPage[$2].bgInvalidate();}}}if(this.parent!=null){this.parent.childSelectionInvalidated(pos,iLevel-1,0,$1-$0+1,bSel);}},textDecorationInserted:function(pos,textDecoration){this.invalidateTextDecoration(pos,textDecoration);},textDecorationDeleted:function(pos,textDecoration){this.invalidateTextDecoration(pos,textDecoration);},invalidateTextDecoration:function(pos,textDecoration){var $0=textDecoration.getFromDocPos();var $1=textDecoration.getToDocPos();var $2=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.SelectionRange();$2.from=pos.clone();$2.to=pos.clone();$2.from.setPara($0.iPara);$2.from.setEl($0.getPos().getElIndex());$2.from.setCh($0.getPos().getChIndex());$2.to.setPara($1.iPara);$2.to.setEl($1.getPos().getElIndex());$2.to.setCh($1.getPos().getChIndex());this.invalidateSelectionRange($2,false);},invalidatePagesLayout:function(iFromPage,iCount){if(iFromPage+iCount>this.arrPage.length){return;}for(var $0=0;$0<iCount;$0++){this.arrPage[iFromPage+$0].layoutInvalidate();}},invalidatePagesFG:function(iFromPage,iCount){if(iFromPage+iCount>this.arrPage.length){return;}for(var $0=0;$0<iCount;$0++){this.arrPage[iFromPage+$0].fgInvalidate();}},invalidatePagesBG:function(iFromPage,iCount){if(iFromPage+iCount>this.arrPage.length){return;}for(var $0=0;$0<iCount;$0++){this.arrPage[iFromPage+$0].bgInvalidate();}},invalidatePagesSel:function(iFromPage,iCount){if(iFromPage+iCount>this.arrPage.length){return;}for(var $0=0;$0<iCount;$0++){this.arrPage[iFromPage+$0].selInvalidate();}},homeKey:function(bShift,bControl,hittest,from,iLevel){var $0=hittest.pos.getDocPos(iLevel).iPara;this.arrPR[$0].homeKey(bShift,bControl,hittest,from,iLevel,false);},endKey:function(bShift,bControl,hittest,from,iLevel){var $0=hittest.pos.getDocPos(iLevel).iPara;this.arrPR[$0].endKey(bShift,bControl,hittest,from,iLevel,false);},rightKey:function(bShift,bControl,hittest,from,iLevel){var $0=hittest.pos.getDocPos(iLevel);var $1=$0.iPara;var $2=this.arrPR.length;if(hittest.bChanged){$1++;if($1<this.arrPR.length){$0.setPara($1);$0.setEl(-1);this.arrPR[$1].rightKey(bShift,bControl,hittest,from,iLevel,false);if(hittest.bSet){return;}}}else{for(;$1<$2;$1++){$0.setPara($1);this.arrPR[$1].rightKey(bShift,bControl,hittest,from,iLevel,false);if(hittest.bSet){return;}$0.setCh(0);if($1+1<$2){$0.setEl(-1);}}}if(!hittest.bSet){var $3=this.getParentRenderer();if($3!=null){$3.rightKey(bShift,bControl,hittest,from,iLevel-1,true);}}},leftKey:function(bShift,bControl,hittest,from,iLevel){var $0=hittest.pos.getDocPos(iLevel);var $1=$0.iPara;var $2=this.arrPR.length;if(hittest.bChanged){$1--;if($1>=0){$0.setPara($1);$0.setEl(this.arrPR[$1].getElementRendererCount());this.arrPR[$1].leftKey(bShift,bControl,hittest,from,iLevel,false);if(hittest.bSet){return;}}}else{for(;$1>=0;$1--){$0.setPara($1);this.arrPR[$1].leftKey(bShift,bControl,hittest,from,iLevel,false);if(hittest.bSet){return;}}}if(!hittest.bSet){var $3=this.getParentRenderer();if($3!=null){$3.leftKey(bShift,bControl,hittest,from,iLevel-1,true);}}},upKey:function(bShift,bControl,hittest,from,iLevel){if(bControl){var $0=hittest.pos.getElIndex();var $1=hittest.pos.getChIndex();var $2=hittest.pos.getParaIndex();if(!$0&&!$1){if($2-1>=0){hittest.pos.setPara($2-1);}}else{hittest.pos.setEl(0);hittest.pos.setCh(0);}hittest.bSet=true;}else{hittest.pos.setMaxLevel(iLevel);var $3=hittest.pos.getLastDocPos().iPara;var $4=this.arrPR.length;if(hittest.bChanged){$3--;if($3>=0){hittest.pos.setMaxLevel(iLevel);hittest.pos.setPara($3);hittest.pos.setEl(this.arrPR[$3].getElementRendererCount()-1);hittest.pos.setCh(0);this.arrPR[$3].upKey(bShift,bControl,hittest,from,iLevel,false);if(hittest.bSet){return;}}else if(this.getParentRenderer()==null){hittest.pos.setMaxLevel(iLevel);hittest.pos.setPara(0);hittest.pos.setEl(0);hittest.pos.setCh(0);hittest.bSet=true;return;}}else{for(;$3>=0;$3--){hittest.pos.setPara($3);this.arrPR[$3].upKey(bShift,bControl,hittest,from,iLevel,false);if(hittest.bSet){break;}}hittest.bChanged=true;}}if(!hittest.bSet){var $5=this.getParentRenderer();if($5!=null){$5.upKey(bShift,bControl,hittest,from,iLevel-1,true);}else{hittest.pos.setMaxLevel(iLevel);hittest.pos.setPara(0);hittest.pos.setEl(0);hittest.pos.setCh(0);hittest.bSet=true;}}},downKey:function(bShift,bControl,hittest,from,iLevel){hittest.pos.setMaxLevel(iLevel);var $0=hittest.pos;var $1=$0.getLastDocPos();if(bControl){var $2=$1.getPos().getElIndex();var $3=$1.getPos().getChIndex();var $4=$1.iPara;if($2===this.arrPR[$4].getElementRendererCount()){if($4+1<=this.arrPR.length-1){$4++;hittest.pos.setPara($4);hittest.pos.setEl(this.arrPR[$4].getElementRendererCount());hittest.pos.setCh(0);}}else{hittest.pos.setEl(this.arrPR[$4].getElementRendererCount());hittest.pos.setCh(0);}hittest.bSet=true;}else{var $5=$1.iPara;var $6=this.arrPR.length;if(hittest.bChanged){$5++;if($5<this.arrPR.length){hittest.pos.setMaxLevel(iLevel);hittest.pos.setPara($5);hittest.pos.setEl(0);hittest.pos.setCh(0);this.arrPR[$5].downKey(bShift,bControl,hittest,from,iLevel,false);if(hittest.bSet){return;}}}else{for(;$5<$6;$5++){hittest.pos.setPara($5);this.arrPR[$5].downKey(bShift,bControl,hittest,from,iLevel,false);if(hittest.bSet){return;}}hittest.bChanged=true;}if(!hittest.bSet){var $7=this.getParentRenderer();if($7!=null){$7.downKey(bShift,bControl,hittest,from,iLevel-1,true);}else{hittest.pos=from;hittest.bSet=true;}}}},mouseDoubleClick:function(hittestFrom,hittestTo){var $0=hittestFrom.pos.getLastDocPos().iPara;this.arrPR[$0].mouseDoubleClick(hittestFrom,hittestTo);},isHorizontalOverflow:function(){var $enum1=ss.IEnumerator.getEnumerator(this.arrPR);while($enum1.moveNext()){var $0=$enum1.current;if($0.isHorizontalOverflow()){return true;}}return false;},resetHorizontalOverflow:function(){var $enum1=ss.IEnumerator.getEnumerator(this.arrPR);while($enum1.moveNext()){var $0=$enum1.current;$0.setHorizontalOverflow(false);}},getTotalLineCount:function(){var $0=0;var $enum1=ss.IEnumerator.getEnumerator(this.arrPR);while($enum1.moveNext()){var $1=$enum1.current;$0+=$1.getLineCount();}return $0;},setVerticalAlignment:function(eAlignment){this._eVerticalAlignment=eAlignment;},getVerticalAlignment:function(){return this._eVerticalAlignment;},$2:function($p0){if($p0!=null){var $0=($p0.from.isLess($p0.to))?$p0.from:$p0.to;var $1=this.getParagraphRenderer($0.getParaIndex());if($1==null||!!$0.getParaIndex()){return false;}return $1.isCursorInFirstLine($0);}return false;},$3:function($p0){if($p0!=null){var $0=($p0.from.isLess($p0.to))?$p0.to:$p0.from;var $1=this.getParagraphRenderer($0.getParaIndex());if($1==null||$0.getParaIndex()!==this.getParagraphRendererCount()-1){return false;}return $1.isCursorInLastLine($0);}return false;},$4:function($p0){if($p0!=null){var $0=($p0.from.isLess($p0.to))?$p0.from:$p0.to;var $1=this.getParagraphRenderer($0.getParaIndex());if($1==null||!!$0.getParaIndex()){return false;}return $1.isCursorAtFirstChar($0);}return false;},$5:function($p0){if($p0!=null){var $0=($p0.from.isLess($p0.to))?$p0.to:$p0.from;var $1=this.getParagraphRenderer($0.getParaIndex());if($1==null||$0.getParaIndex()!==this.getParagraphRendererCount()-1){return false;}return $1.isCursorAtLastChar($0);}return false;},getCharCount:function(){var $0=0;for(var $1=0;$1<this.getParagraphRendererCount();$1++){$0+=this.arrPR[$1].getCharCount();}return $0;}}
Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.HitTest=function(){this.pos=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.CursorPos();this.pos.setMaxLevel(0);this.bSet=false;this.bKeyboard=false;this.bSelection=false;this.iLine=-1;this.iPage=0;this.xOffset=0;this.yOffset=0;this.pControl=null;this.bChanged=false;}
Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.HitTest.prototype={bKeyboard:false,bSelection:false,iPage:0,bSet:false,iLine:0,xOffset:0,yOffset:0,iLineHeight:0,iAscent:0,bChanged:false,pos:null,pControl:null,clone:function(){var $0=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.HitTest();$0.pos=this.pos.clone();$0.bSet=this.bSet;$0.bKeyboard=this.bKeyboard;$0.bSelection=this.bSelection;$0.iLine=this.iLine;$0.iPage=this.iPage;$0.xOffset=this.xOffset;$0.yOffset=this.yOffset;$0.iLineHeight=this.iLineHeight;$0.iAscent=this.iAscent;$0.pControl=this.pControl;$0.bChanged=this.bChanged;return $0;}}
Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.LayoutArgs=function(){this.$0=null;this.$1=false;this.$2=0;this.$3=0;}
Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.LayoutArgs.prototype={$0:null,$1:false,$2:0,$3:0,getPrevAscent:function(){return this.$2;},getPrevDescent:function(){return this.$3;},setPrevAscent:function(iAscent){this.$2=iAscent;},setPrevDescent:function(iDescent){this.$3=iDescent;},getFloatingRects:function(){return this.$0;},setLastRow:function(){this.$1=true;},resetLastRow:function(){this.$1=false;},getLastRow:function(){return this.$1;},setRects:function(arrRects){this.$0=arrRects;},cloneWithoutRects:function(){var $0=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.LayoutArgs();return $0;},clone:function(){var $0=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.LayoutArgs();$0.$0=Kepler.Framework.UI.Rect.cloneRectList(this.$0);$0.$1=this.$1;return $0;}}
Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.Line=function(){Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.Line.initializeBase(this);this.$0=[];this.$1=0;this.$2=0;this.$3=0;}
Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.Line.prototype={$0:null,$1:0,$2:0,$3:0,clearSection:function(nWidth){this.$0=[];this.$0.add(new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.LineSection(nWidth,0));},getHeight:function(){return this.getAscent()+this.getDescent();},getContentWidth:function(){var $0=0;for(var $1=0;$1<this.$0.length;++$1){$0+=this.$0[$1].getWidth();}$0+=2;return $0;},setAscent:function(iAscent){this.$2=iAscent;},setDescent:function(iDescent){this.$3=iDescent;},getAscent:function(){var $0=this.$2;for(var $1=0;$1<this.$0.length;++$1){var $2=this.$0[$1].getAscent();if($2>$0){$0=$2;}}return $0;},getDescent:function(){var $0=this.$3;for(var $1=0;$1<this.$0.length;++$1){var $2=this.$0[$1].getDescent();if($2>$0){$0=$2;}}return $0;},split:function(yOffset,arrRect){var $0=new Kepler.Framework.UI.Rect(0,yOffset+this.getPadding(),parseInt(this.getWidth()),this.getHeight());var $1=$0.get_left();var $2=0;this.$0.clear();var $3=arrRect.length;for(var $4=0;$4<$3;$4++){var $5=arrRect[$4];if(!$0.isRectIntersects($5)){continue;}else{if($1<$0.get_topRight().get_x()){if($1>=$5.get_left()&&$1>=$5.get_topRight().get_x()){continue;}else{if(!($1>=$5.get_left()&&$1<=$5.get_topRight().get_x())){this.$0.add(new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.LineSection(($5.get_left()-$1),$2));}$2+=$5.get_topRight().get_x()-$1;$1=$5.get_topRight().get_x();}}else{return;}}}if($1<$0.get_topRight().get_x()){this.$0.add(new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.LineSection(($0.get_topRight().get_x()-$1),$2));}},getSectionCount:function(){return this.$0.length;},getSection:function(iSection){return this.$0[iSection];},setElPos:function(iEl,iCh){if(!!this.$0.length){this.$0[0].setPos(iEl,iCh);}Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.Line.callBaseMethod(this, 'setElPos',[iEl,iCh]);},getElIndex:function(){return this.$0[0].getElIndex();},getChIndex:function(){return this.$0[0].getChIndex();},getPadding:function(){return this.$1;},setPadding:function(iPaddding){this.$1=iPaddding;},isRectsIntersects:function(arrRect){return false;},addPadding:function(iPadding){this.$1+=iPadding;}}
Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.LineSection=function(nMaxWidth,iXOffset){this.$0=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.ElPos();this.$1=0;this.$2=0;this.$3=nMaxWidth;this.$5=iXOffset;}
Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.LineSection.prototype={$0:null,$1:0,$2:0,$3:0,$4:0,$5:0,getMaxWidth:function(){return this.$3;},getAscent:function(){return this.$1;},getDescent:function(){return this.$2;},getHeight:function(){return this.$1+this.$2;},setWidth:function(nWidth){this.$4=nWidth;},getWidth:function(){return this.$4;},getElIndex:function(){return this.$0.getElIndex();},getChIndex:function(){return this.$0.getChIndex();},setPos:function(iEl,iCh){this.$0.set(iEl,iCh);},getPos:function(){return this.$0;},setAscent:function(iAscent){this.$1=iAscent;},setDescent:function(iDescent){this.$2=iDescent;},getXOffset:function(){return this.$5;},setMaxWidth:function(nMaxWidth){},dispose:function(){}}
Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.MainDocRenderer=function(factory,nMaxWidth){Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.MainDocRenderer.initializeBase(this,[factory,null]);this.iPageWidth=parseInt(nMaxWidth);}
Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.MainDocRenderer.prototype={iPageWidth:0,getMainDoc:function(){return this.doc.getMainDoc();},layout:function(){var $0=this;$0.relayout(-1,this.iPageWidth,-1,new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.LayoutArgs());},render:function(args){for(var $0=0;$0<this.arrPage.length;$0++){this.renderPage($0,args);}},setWidth:function(nWidth){if(this.iPageWidth!==nWidth){this.iPageWidth=nWidth;this.invalidateRecursive();}},renderSelection:function(arrSel){var $0=[];for(var $2=0;$2<arrSel.length;$2++){for(var $3=0;$3<arrSel[$2].arrRange.length;$3++){$0.add(arrSel[$2].arrRange[$3]);}}var $1=this.arrPage.length;for(var $4=0;$4<$1;$4++){this.renderPageSelection($4,$0,0,true);}},renderBgDecoration:function(){var $0=this.getMainDoc().getTextDecorationRanges();var $1=this.arrPage.length;for(var $2=0;$2<$1;$2++){this.renderPageSelection($2,$0,0,false);}},getDom:function(){var $0=this;var $1=$0.getPage(0);if($1==null){return null;}return $1.getRender().getDom();},getTotalHeight:function(){var $0=this;return $0.getHeight();},getCursorPosFromGlobalPos:function(iGlobalIndex){var $0=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.CursorPos();$0.setMaxLevel(0);$0.setDoc(0);$0.setCh(iGlobalIndex);for(var $1=0;$1<this.arrPR.length;$1++){if(this.arrPR[$1].correctCursorPos($0)){$0.setPara($1);break;}}return $0;},getGlobalPosFromCursorPos:function(oCurPos){var $0=0;for(var $1=0;$1<oCurPos.getParaIndex();$1++){$0+=this.arrPR[$1].getCharCount();}$0+=this.arrPR[oCurPos.getParaIndex()].getCharCountFromCurPos(oCurPos);return $0;},getTotalWidth:function(){var $0=this;return $0.getWidth();},invalidateSelection:function(sel){var $0=sel.arrRange;for(var $1=0;$1<$0.length;++$1){this.invalidateSelectionRange($0[$1].clone(),true);}},addPageOffset:function(pt,iPage){}}
Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.MainDocRendererPaged=function(factory,pageHeight,pageWidth,marginLeft,marginTop,marginRight,marginBottom,interPageGap){Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.MainDocRendererPaged.initializeBase(this,[factory,pageWidth]);this.factory=factory;this.$6=pageHeight;this.iPageWidth=pageWidth;this.$A=marginLeft;this.$7=marginTop;this.$9=marginRight;this.$8=marginBottom;this.$B=interPageGap;this.$C=document.createElement('table');this.$C.setAttribute('cellspacing',this.$B+'px');this.$D=[];}
Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.MainDocRendererPaged.prototype={$6:0,$7:0,$8:0,$9:0,$A:0,$B:0,$C:null,$D:null,getDom:function(){return this.$C;},appendPage:function(){var $0=document.createElement('tr');var $1=document.createElement('td');$1.style.backgroundColor='#ffffff';$1.style.paddingLeft=this.$A+'px';$1.style.paddingRight=this.$9+'px';$1.style.paddingTop=this.$7+'px';$1.style.paddingBottom=this.$8+'px';$1.style.verticalAlign='top';$1.style.height=this.$6+'px';$1.style.textAlign='left';$1.style.width=this.iPageWidth+'px';$0.appendChild($1);this.$C.appendChild($0);this.$D.add($1);},disposePage:function(iPage){var $0=this.$D[iPage].parentNode;this.$C.removeChild($0);},layout:function(){var $0=this;$0.relayout(this.$6,this.iPageWidth,this.$6,new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.LayoutArgs());},render:function(args){var $0=0;var $1=0;if(this.$D.length===$1){this.appendPage();}for(var $2=0;$2<this.arrPage.length;++$2){if(this.$D.length===$2){this.appendPage();}var $3=this.$D[$2];this.renderPage($2,new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.RenderArgs());$3.appendChild(this.arrPage[$2].getRender().getDom());if($0+this.arrPage[$2].getHeight()>this.$6&&!!$0){$1++;$0=0;if(this.$D.length===$1){this.appendPage();}}$0+=this.arrPage[$2].getHeight();}if($1+1<this.$D.length){$1++;for(var $4=$1;$4<this.$D.length;++$4){this.disposePage($4);}this.$D.removeRange($1,this.$D.length-$1);}},hitTest:function(x,y,hittest){var $0=false;var $1=this.getPageIndexFromPoint(x,y);if($1>=0){var $2=x-this.$A-this.$B-parseInt(Kepler.Engine.UI.Helper.HtmlCssHelper.getCSSProperty(this.$C,'margin-left').toString());var $3=y-this.$7-this.$B-($1*this.getCalPageHeight());hittest.iPage=$1;$0=Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.MainDocRendererPaged.callBaseMethod(this, 'hitTest',[x,y,hittest]);}return $0;},addPageOffset:function(pt,iPage){pt.set_y(pt.get_y()+iPage*this.getCalPageHeight()+this.$7+this.$A);},getPageIndexFromPoint:function(x,y){var $0=this.getCalPageWidth();var $1=this.getCalPageHeight();var $2=0;if(y>-1){$2=parseInt((y/$1));if($2>=this.$D.length){$2=this.$D.length-1;}}return $2;},getCalPageHeight:function(){var $0=this.$6+this.$7+this.$8+this.$B;return $0;},getCalPageWidth:function(){var $0=this.iPageWidth+this.$A+this.$9;return $0;},rightKey:function(bShift,bControl,hittest,from,iLevel){Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.MainDocRendererPaged.callBaseMethod(this, 'rightKey',[bShift,bControl,hittest,from,iLevel]);},leftKey:function(bShift,bControl,hittest,from,iLevel){Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.MainDocRendererPaged.callBaseMethod(this, 'leftKey',[bShift,bControl,hittest,from,iLevel]);},upKey:function(bShift,bControl,hittest,from,iLevel){Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.MainDocRendererPaged.callBaseMethod(this, 'upKey',[bShift,bControl,hittest,from,iLevel]);},downKey:function(bShift,bControl,hittest,from,iLevel){Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.MainDocRendererPaged.callBaseMethod(this, 'downKey',[bShift,bControl,hittest,from,iLevel]);}}
Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.Page=function(){this.iPara=0;this.iParaPage=0;this.iHeight=0;this.nWidth=0;this.bLayout=false;this.bFG=false;this.bBG=false;this.bSel=false;this.bModified=true;}
Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.Page.prototype={iPara:0,iParaPage:0,iHeight:0,arrObj:null,bLayout:false,bFG:false,bBG:false,bSel:false,bModified:false,$0:null,nWidth:0,getRender:function(){if(this.$0==null){this.$0=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.RenderObject();}return this.$0;},layoutInvalidate:function(){this.bLayout=false;this.bFG=false;this.bBG=false;this.bSel=false;},layoutValidate:function(){this.bLayout=true;},layoutValid:function(){return this.bLayout;},fgInvalidate:function(){this.bFG=false;this.bBG=false;this.bSel=false;},fgValidate:function(){this.bFG=true;},fgValid:function(){return this.bFG;},bgInvalidate:function(){this.bBG=false;},bgValidate:function(){this.bBG=true;},bgValid:function(){return this.bBG;},selInvalidate:function(){this.bSel=false;},selValidate:function(){this.bSel=true;},selValid:function(){return this.bSel;},getHeight:function(){return this.iHeight;},getAscent:function(){return 0;},getDescent:function(){return 0;},set:function(iPara,iParaPage,nWidth){this.iPara=iPara;this.iParaPage=iParaPage;this.nWidth=nWidth;},getWidth:function(){return this.nWidth;},getPara:function(){return this.iPara;},getParaPage:function(){return this.iParaPage;},setModified:function(){this.bModified=true;},isModified:function(){return this.bModified;},clearModified:function(){this.bModified=false;},setHeight:function(iHeight){this.iHeight=iHeight;},dispose:function(){if(this.$0!=null){var $0=this.$0.getDom();var $1=$0.parentNode;if($1!=null){$1.removeChild($0);}}},addAnchorObject:function(anchor){},removeAnchorObject:function(anchor){}}
Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.PagedLine=function(){this.pos=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.ElPos();this.bLayout=false;this.bFG=false;this.bBG=false;this.bSel=false;this.arrSelection=[];this.arrBG=[];}
Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.PagedLine.prototype={pos:null,nWidth:0,iHeight:0,bTextLine:false,render:null,arrSelection:null,arrBG:null,bLayout:false,bFG:false,bBG:false,bSel:false,bModified:false,hasRender:function(){return this.render!=null;},getRender:function(){if(this.render==null){this.render=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.RenderObject();}return this.render;},layoutInvalidate:function(){this.bLayout=false;this.bFG=false;this.bBG=false;this.bSel=false;},layoutValidate:function(){this.bLayout=true;},layoutValid:function(){return this.bLayout;},fgInvalidate:function(){this.bFG=false;this.bBG=false;this.bSel=false;},fgValidate:function(){this.bFG=true;},fgValid:function(){return this.bFG;},bgInvalidate:function(){this.bBG=false;},bgValidate:function(){this.bBG=true;},bgValid:function(){return this.bBG;},selInvalidate:function(){this.bSel=false;},selValidate:function(){this.bSel=true;},selValid:function(){return this.bSel;},setModified:function(){this.bModified=true;},isModified:function(){return this.bModified;},clearModified:function(){this.bModified=false;},getElIndex:function(){return this.pos.getElIndex();},getChIndex:function(){return this.pos.getChIndex();},getElPos:function(){return this.pos;},setElPos:function(iEl,iCh){this.pos.set(iEl,iCh);},getHeight:function(){return this.iHeight;},setWidth:function(nWidth){this.nWidth=nWidth;},getWidth:function(){return this.nWidth;},setHeight:function(iHeight){this.iHeight=iHeight;},isTextLine:function(){return this.bTextLine;},dispose:function(){if(this.render!=null){var $0=this.render.getDom();var $1=$0.parentNode;for(var $2=0;$2<this.arrSelection.length;$2++){if(this.arrSelection[$2].getDom()!=null&&this.arrSelection[$2].getDom().parentNode!=null){this.arrSelection[$2].getDom().parentNode.removeChild(this.arrSelection[$2].getDom());}}if($1!=null){$1.removeChild($0);}}},addSelection:function(r){this.arrSelection.add(r);},getSelection:function(){return this.arrSelection;},addBG:function(r){this.arrBG.add(r);},getBG:function(){return this.arrBG;},clearSelection:function(){var $0=this.arrSelection.length;for(var $1=0;$1<$0;$1++){this.render.remove(this.arrSelection[$1]);}this.arrSelection.clear();},clearBG:function(){var $0=this.arrBG.length;for(var $1=0;$1<$0;$1++){this.render.remove(this.arrBG[$1]);}this.arrBG.clear();}}
Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.WrapState=function(){this.iElAscent=0;this.iElDescent=0;this.nWordWidth=0;this.iWordAscent=0;this.iWordDescent=0;this.iAscent=0;this.iDescent=0;this.nLineWidth=0;}
Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.WrapState.prototype={nWordWidth:0,iWordAscent:0,iWordDescent:0,iAscent:0,iDescent:0,nLineWidth:0,iElAscent:0,iElDescent:0,strWord:null}
Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.ParagraphRenderer=function(factory,parent){this.$0=factory;this.$1=parent;this.$3=[];this.$4=[];this.$5=[];this.$4.add(new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.Line());this.$3.add(new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.ParaPage());}
Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.ParagraphRenderer.prototype={$0:null,$1:null,bDirty:false,_bHorizontalOverflow:false,$2:null,$3:null,$4:null,$5:null,getLineCount:function(){return this.$4.length;},isHorizontalOverflow:function(){return this._bHorizontalOverflow;},setHorizontalOverflow:function(bOverflow){this._bHorizontalOverflow=bOverflow;},setDirty:function(bDirty){this.bDirty=bDirty;},isDirty:function(){return this.bDirty;},validate:function(){this.bDirty=false;},unregisterParagraph:function(){if(this.$2!=null){this.$2.unregisterRenderer(this);var $0=this.$5.length;for(var $1=0;$1<$0;++$1){if(this.$5[$1]!=null){this.$5[$1].unregisterElement();}}}},setParagraph:function(para){if(para===this.$2){return;}this.unregisterParagraph();if(para!=null){para.registerRenderer(this);var $0=para.getElementCount();for(var $1=0;$1<$0;++$1){var $2=para.getElement($1);var $3=this.$0.createElementRenderer(this,$2.getElementType());if($3!=null){$3.setElement($2);}this.$5.add($3);}}this.$2=para;this.bDirty=true;},getParentRenderer:function(){return this.$1;},dispose:function(){for(var $0=0;$0<this.$3.length;++$0){this.$3[$0].dispose();}},getElementRendererCount:function(){return this.$5.length;},getElementRenderer:function(iIndex){return this.$5[iIndex];},merge:function(pos,renderer){if(!!this.$4.length){var $2=this.getLineFromCursorPos(pos.getLastDocPos());this.$4[$2].layoutInvalidate();if(!!$2){this.$4[$2-1].layoutInvalidate();}var $3=this.getParaPageFromLine($2);this.invalidateParaPage($3);var $4=1;if(!!$3){$4++;this.invalidateParaPage($3-1);}if(this.$1!=null){this.$1.paragraphModified(pos,pos.getMaxLevel(),$3,$4);}}var $0=renderer;var $1=$0.$5.length;for(var $5=0;$5<$1;++$5){this.$5.add($0.$5[$5]);if($0.$5[$5]!=null){$0.$5[$5].setParent(this);}}$0.$5.removeRange(0,$0.$5.length);$0.unregisterParagraph();this.bDirty=true;},split:function(pos,renderer,para){if(!!this.$4.length){var $2=this.getLineFromCursorPos(pos.getLastDocPos());this.$4[$2].layoutInvalidate();if(!!$2){this.$4[$2-1].layoutInvalidate();}var $3=this.getParaPageFromLine($2);this.invalidateParaPage($3);var $4=1;if(!!$3){$4++;this.invalidateParaPage($3-1);}if(this.$1!=null){this.$1.paragraphModified(pos,pos.getMaxLevel(),$3,$4);}}if(!pos.getElIndex()){for(var $5=0;$5<this.$3.length;++$5){this.$3[$5].dispose();}this.$4=[];this.$4.add(new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.Line());this.$3.clear();this.$3.add(new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.ParaPage());}var $0=renderer;var $1=pos.getElIndex();$0.$2=para;para.registerRenderer($0);for(var $6=$1;$6<this.$5.length;++$6){$0.$5.add(this.$5[$6]);if(this.$5[$6]!=null){this.$5[$6].setParent($0);}}this.$5.removeRange($1,this.$5.length-$1);},$6:function($p0,$p1){$p0.nLineWidth+=$p1.getWidth();if($p0.iAscent<$p1.getAscent()){$p0.iAscent=$p1.getAscent();}if($p0.iDescent<$p1.getDescent()){$p0.iDescent=$p1.getDescent();}},$7:function($p0){if($p0.iAscent<$p0.iWordAscent){$p0.iAscent=$p0.iWordAscent;}if($p0.iDescent<$p0.iWordDescent){$p0.iDescent=$p0.iWordDescent;}$p0.iWordDescent=$p0.iWordAscent=0;$p0.nLineWidth+=$p0.nWordWidth;$p0.nWordWidth=0;},ceil:function(nWidth){if(Kepler.Framework.Core.Browser.BrowserCapabilities.get_deviceType()===5||Kepler.Framework.Core.Browser.BrowserCapabilities.get_deviceType()===6||Kepler.Framework.Core.Browser.BrowserCapabilities.get_deviceType()===2){if(Kepler.Framework.Core.Browser.BrowserCapabilities.get_version()<5){return Math.ceil(nWidth);}}else if(Kepler.Framework.Core.Browser.BrowserCapabilities.get_name()===1){return Math.ceil(nWidth);}return nWidth;},wrapLineSection:function(from,section,nMaxWidth){var $0=from.getElIndex();var $1=from.getChIndex();var $2=$0;var $3=$1;var $4=$1;var $5=this.$2.getElementCount()-1;var $6=section.getMaxWidth();var $7=false;var $8=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.LayoutArgs();var $9=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.WrapState();for(;$0<=$5;$0++){var $B=this.$2.getElement($0);var $C=this.$5[$0];if($B.isText()){var $D=$B;$9.iElAscent=$D.getAscent();$9.iElDescent=$D.getDescent();if($9.iElAscent>$9.iWordAscent){$9.iWordAscent=$9.iElAscent;}if($9.iElDescent>$9.iWordDescent){$9.iWordDescent=$9.iElDescent;}var $E=$D.getCharCount();var $F=$D.getCharProperties();var $10=0;for(;$1<$E||(!$1&&$0===$5);++$1){var $11=0;if($0===$5){$11=$F.getStringWidth(String.fromCharCode(160));if(!$E){$11=0;}}else{$11=$F.getStringWidth($D.getText().substr($4,$1-$4+1));}if($9.nWordWidth+($11-$10)+$9.nLineWidth>$6){this._bHorizontalOverflow=true;if(!$9.nLineWidth&&$6===nMaxWidth){if(!$9.nWordWidth){$9.nWordWidth=this.ceil($11);this.$7($9);$10=0;$11=0;$1=$1+1;if($1>$E){$1=0;$0=$0+1;}}else{this.$7($9);$10=0;$11=0;}$7=true;break;}else{$0=$2;$1=$3;$7=true;break;}}else{if($0===$5||$D.isSpace($1)||$D.isHyphen($1)){$9.nWordWidth+=($11-$10);$9.nWordWidth=this.ceil($9.nWordWidth);this.$7($9);$10=0;$11=0;$2=$0;$3=$1+1;if($3>$E){$3=0;$2=$2+1;}$4=$3;}else{$9.nWordWidth+=($11-$10);}}$10=$11;}}else{if($B.isRecursiveAscent()){if(!$0){$8.setPrevAscent(15);$8.setPrevDescent(5);}else{var $13=this.$2.getElement($0-1);var $14=this.$5[$0-1];if($13.isText()){$8.setPrevAscent(($13).getAscent());$8.setPrevDescent(($13).getDescent());}else{$8.setPrevAscent($14.getAscent());$8.setPrevDescent($14.getDescent());}}}var $12=$C.relayout(-1,nMaxWidth,-1,$8)[0];if($9.nWordWidth+$9.nLineWidth+$C.getWidth()>$6){$9.nWordWidth=Math.ceil($9.nWordWidth);this.$7($9);if(!$9.nLineWidth&&$6===nMaxWidth){$0=$0+1;$1=0;this.$6($9,$C);}$7=true;}else{$9.nWordWidth=Math.ceil($9.nWordWidth);this.$7($9);this.$6($9,$C);$2=$0+1;$3=0;}}if($7){break;}$1=$4=0;}if($0===$5+1){$0=$5;$1=0;}section.setPos(from.getElIndex(),from.getChIndex());section.setAscent($9.iAscent);section.setDescent($9.iDescent);section.setWidth(Math.ceil($9.nLineWidth));var $A=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.ElPos();$A.set($0,$1);return $A;},invalidateRecursive:function(){for(var $0=0;$0<this.$3.length;$0++){this.$3[$0].layoutInvalidate();}for(var $1=0;$1<this.$4.length;$1++){this.$4[$1].layoutInvalidate();}for(var $2=0;$2<this.$5.length;$2++){if(this.$5[$2]!=null){this.$5[$2].invalidateRecursive();}}this.setDirty(true);},invalidateRecursiveElements:function(pos,iLevel){var $0=pos.getElIndex();var $1=this.getLineFromCursorPos(pos.getDocPos(iLevel));var $2=this.getParaPageFromLine($1);var $3=$2;var $4=this.$2.getElementCount();while($0<$4&&$1<this.$4.length&&$3<this.$3.length){if(!this.$2.getElement($0).isRecursiveAscent()){break;}this.$5[$0].invalidatePagedLine(0);this.$4[$1].layoutInvalidate();this.$3[$3].layoutInvalidate();if(this.$4[$1].getElIndex()<=$0&&$1<this.$4.length-1){$1++;this.$4[$1].layoutInvalidate();if(this.$3[$3].getLine()<=$1&&$3<this.$3.length-1){$3++;this.$3[$3].layoutInvalidate();}}$0++;}if($2!==$3){this.$1.paragraphModified(pos,iLevel,0,$3-$2+1);}},wrapLine:function(from,line,nWidth){var $0=line.getSectionCount();var $1=from.clone();if(!$0){line.clearSection(nWidth);}for(var $2=0;$2<$0;$2++){$1=this.wrapLineSection($1,line.getSection($2),nWidth);}line.setElPos(from.getElIndex(),from.getChIndex());line.setWidth(nWidth);return $1;},getLineFromCursorPos:function(pos){var $0=this.$4.length;if(!$0){return 0;}var $1=pos.elPos.getElIndex();var $2=pos.elPos.getChIndex();var $3=0;var $4=this.$4.length-1;if($4<$3){return 0;}while($3!==$4){var $5=parseInt((($3+$4)/2));var $6=this.$4[$5].getElPos();if($1<$6.getElIndex()||($1===$6.getElIndex()&&$2<=$6.getChIndex())){$4=$5;}else{if($5===$3){$6=this.$4[$4].getElPos();if($6.isEqual(this.$4[$3].getElPos())||$1<$6.getElIndex()||($1===$6.getElIndex()&&$2<$6.getChIndex())){$4=$3;}else{$3=$4;}}else{$3=$5;}}}return $3;},addLineOffset:function(pt,iLine){var $0=this.getParaPageFromLine(iLine);var $1=this.$3[$0].getLine();for(;$1<iLine;++$1){var $2=this.$4[$1];pt.set_y(pt.get_y()+$2.getHeight()+$2.getPadding());}return $0;},getLineAscent:function(iLine){return (this.$4[iLine]).getAscent();},getLineHeight:function(iLine){return this.$4[iLine].getHeight();},getParaPageFromLine:function(iLine){if(!this.$3.length){return 0;}var $0=0;var $1=this.getParaPageCount()-1;if($0>$1){return 0;}while($0!==$1){var $2=parseInt((($0+$1)/2));var $3=this.$3[$2].getLine();if(iLine===$3){return $2;}else if(iLine<$2){if($2===$1){break;}$1=$2;}else{if($2===$0){if(iLine>=this.$3[$0+1].getLine()){$0+=1;}break;}$0=$2;}}return $0;},getParaPage:function(iPage){return this.$3[iPage];},getPagedLine:function(iLine){return this.$4[iLine];},getLine:function(iLine){return this.$4[iLine];},$8:function($p0,$p1){},getParaPageFromCursorPos:function(pos,iLevel){var $0=this.getLineFromCursorPos(pos.getDocPos(iLevel));var $1=this.$3.length;var $2=0;for(;$2<$1;$2++){if($0<this.$3[$2].getLine()){break;}}return ($2-1);},getFirstLineHeightWithPadding:function(nMaxWidth,iYOffset){return this.getFirstLineHeightTextRow(nMaxWidth,iYOffset);},getFirstLineHeightTextRow:function(nMaxWidth,iYOffset){var $0=0;if($0===this.$4.length){this.$4.add(new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.Line());}var $1=this.$4[$0].getElPos().clone();var $2=this.$2.appendAnchorRects(null,iYOffset);var $3=this.$4[$0];if($3.layoutValid()&&$3.getElPos()===$1){if(!!$3.getSectionCount()&&$3.getSection(0).getMaxWidth()!==nMaxWidth){$3.clearSection(nMaxWidth);$3.layoutInvalidate();}else{$3.clearSection(nMaxWidth);$3.layoutInvalidate();}}if(!$3.layoutValid()){$3.setPadding(0);this.wrapLine($1,$3,nMaxWidth);}var $4=$3.getHeight();var $5=new Kepler.Framework.UI.Rect(0,iYOffset,Math.floor(nMaxWidth),$3.getHeight());while($2!=null&&$5.isRectsIntersects($2)){$3.split(iYOffset,$2);var $6=this.wrapLine($1,$3,nMaxWidth);if(!$6.isEqual($1)){break;}$3.addPadding($4);$5=new Kepler.Framework.UI.Rect(0,iYOffset+$3.getPadding(),parseInt($3.getWidth()),$4);}return $3.getHeight()+$3.getPadding();},renderParaPage:function(iIndex,bLastTableRow,args){if(iIndex>=this.$3.length){return null;}var $0=this.$3[iIndex];if($0.fgValid()){return $0.getRender();}var $1=$0.getRender();$1.clear();var $2=$1.getDom();var $3='height : '+$0.getHeight()+'px; position : relative;';$2.setAttribute('style',$3);var $4=$0.getLine();var $5=(iIndex+1<this.$3.length)?this.$3[iIndex+1].getLine():this.$4.length;$1.append(this.renderTextLine($5-1,args));for(var $6=$5-2;$6>=$4;$6--){$1.getDom().insertBefore(this.renderTextLine($6,args).getDom(),this.$4[$6+1].getRender().getDom());}$0.fgValidate();return $1;},getLayout:function(){var $0={};var $1=[];var $2=[];var $3=[];this.appendParaPages($1);this.appendLines($2);this.appendElementLayout($3);$0['arrpage']=$1;$0['arrline']=$2;$0['arrel']=$3;return $0;},appendParaPages:function(arrpage){for(var $0=0;$0<this.$3.length;++$0){var $1={};$1['line']=this.$3[$0].getLine();arrpage.add($1);}},appendLines:function(arrline){for(var $0=0;$0<this.$4.length;++$0){var $1={};$1['el']=this.$4[$0].getElIndex();$1['ch']=this.$4[$0].getChIndex();arrline.add($1);}},appendElementLayout:function(arrel){for(var $0=0;$0<this.$5.length;++$0){if(this.$5[$0]!=null){var $1=this.$5[$0].getLayout();$1['index']=$0;arrel.add($1);}}},setLayout:function(layout){this.setParaPages(layout['arrpage']);this.setLines(layout['arrline']);this.setElementsLayout(layout['arrel']);},setParaPages:function(pages){for(var $0=0;$0<pages.length;++$0){if(this.$3.length<=$0){this.$3.add(new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.ParaPage());}var $1=pages[$0];var $2=$1['line'];var $3=this.$3[$0];$3.setLine($2);$3.layoutInvalidate();}if(this.$3.length>pages.length){var $4=pages.length;for(var $5=$4;$5<this.$3.length;$5++){this.$3[$5].dispose();}this.$3.removeRange($4,this.$3.length-$4);}},setLines:function(lines){for(var $0=0;$0<lines.length;++$0){if(this.$4.length<=$0){this.$4.add(new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.Line());}var $1=lines[$0];var $2=$1['el'];var $3=$1['ch'];var $4=this.$4[$0];$4.setElPos($2,$3);$4.layoutInvalidate();}if(this.$4.length>lines.length){var $5=lines.length;for(var $6=$5;$6<this.$4.length;$6++){this.$4[$6].dispose();}this.$4.removeRange($5,this.$4.length-$5);}},setElementsLayout:function(elements){for(var $0=0;$0<elements.length;++$0){var $1=elements[$0];var $2=$1['index'];this.$5[$2].setLayout($1);}},renderPagedLine:function(iLine,bLastRow,args){var $0=this.$4[iLine];return this.$5[0].renderPagedLine(iLine,bLastRow,args);},renderTextLine:function(iLine,args){if(iLine>=this.$4.length){return null;}var $0=this.$4[iLine];if($0.fgValid()){return $0.getRender();}var $1=$0.getRender();$0.clearSelection();$0.clearBG();$1.clear();var $2=0;if(this.$4.length===1&&$0.getSectionCount()===1){$2=$0.getContentWidth();}else{$2=$0.getWidth();}var $3=$0.getWidth();if(this.$4.length===1){$3=$0.getContentWidth();}if(!$3){$3=2;}var $4=this.$2.getParaProp();var $5=0;var $6=0;if($4!=null){if($4.isBulletApplied()){$6=$4.getBulletWidth();}switch($4.getAlign()){case 2:$5=$0.getWidth()-$0.getContentWidth();break;case 1:$5=($0.getWidth()-$0.getContentWidth())/2;break;case 0:break;case 3:break;}if($4.isBulletApplied()&&!iLine){var $A=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.RenderObject();var $B=$A.getDom();$A.setStyle('overflow : hidden;position : absolute; left : 0px;top:'+($0.getAscent()-$4.getBulletCharProp().getAscent())+'px; width : '+$6+'px; '+'height : '+$0.getHeight()+'px;');$B.innerText=$4.getBulletStr();$B.textContent=$4.getBulletStr();$1.append($A);}}var $7=$3+$5+$6;var $8='position : relative; left : '+Math.round($5)+'px; width : '+$7+'px; '+'height : '+$0.getHeight()+'px;';$1.setStyle($8);var $9=$0.getSectionCount();for(var $C=0;$C<$9;$C++){var $D=null;if($C+1<$9){$D=$0.getSection($C+1).getPos();}else{$D=(iLine+1<this.$4.length)?this.$4[iLine+1].getElPos():this.getLastPos();}$1.append(this.renderLineSection($0.getSection($C),$D,$0.getAscent(),$0.getDescent(),args,$6));}$0.fgValidate();return $1;},renderLineSection:function(lineSection,toPos,iAscent,iDescent,args,buOffset){var $0=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.RenderObject();var $1='position : absolute;z-index:2;display : inline-block; left : '+lineSection.getXOffset()+buOffset+'px; '+'height : '+(iAscent+iDescent)+'px; width : '+lineSection.getWidth()+'px; white-space : nowrap';$0.setStyle($1);var $2=lineSection.getPos();var $3=$2.getElIndex();var $4=toPos.getElIndex();var $5='';var $6=$3;var $7=$2.getChIndex();var $8;for(;$6<$4;$6++){$8=this.$2.getElement($6);if($8.isText()){var $9=this.$2.getElement($6);var $A=$9.getCharCount();$5=$9.getTextFromIndex($7,$A);var $B=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.RenderObject();var $C=$B.getDom();var $D=$9.getCharProperties();if($D.getSubScript()===1){$1='display: inline; vertical-align:top; '+$9.getStyle()+';position : relative; top : '+(iAscent-$D.getActualAscent()+$D.getDescent()-$D.getActualDescent())+'px;';}else{$1='display: inline; vertical-align:top; '+$9.getStyle()+';position : relative; top : '+(iAscent-$9.getAscent())+'px;';}$C.innerText=$5;$C.textContent=$5;$B.setStyle($1);$0.append($B);$5='';}else{var $E=this.$5[$6].render(iAscent,iDescent,args);$0.append($E);}$7=0;}$8=this.$2.getElement($6);if($8.isText()){var $F=this.$2.getElement($6);if($F.getCharCount()>0&&$6!==this.$2.getElementCount()-1){var $10=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.RenderObject();var $11=toPos.getChIndex();$5=$F.getTextFromIndex($7,$11);var $12=$F.getCharProperties();var $13=$10.getDom();if($12.getSubScript()===1){$1='display: inline; vertical-align:top; '+$F.getStyle()+';position : relative; top : '+(iAscent-$12.getActualAscent()+$12.getDescent()-$12.getActualDescent())+'px;';}else{$1='display: inline; vertical-align:top; '+$F.getStyle()+';position : relative; top : '+(iAscent-$F.getAscent())+'px;';}$13.innerText=$5;$13.textContent=$5;$10.setStyle($1);$0.append($10);$5='';}}return $0;},renderPagedLineSelection:function(iIndex,arrSelRange,nLevel,bSel){this.$5[0].renderPagedLineSelection(iIndex,arrSelRange,nLevel,bSel);if(iIndex<this.$3.length){if(bSel){this.$3[iIndex].selValidate();}else{this.$3[iIndex].bgValid();}}},renderParaPageSelection:function(iIndex,arrSelRange,nLevel,bSel){if(iIndex>=this.$3.length){return;}var $0=this.$3[iIndex];if((bSel&&$0.selValid())||(!bSel&&$0.bgValid())){return;}if(bSel){$0.selValidate();}else{$0.bgValid();}var $1=$0.getLine();var $2=(iIndex+1<this.$3.length)?this.$3[iIndex+1].getLine():this.$4.length;var $3=(arrSelRange==null)?0:arrSelRange.length;var $4=this.$4.length;for(;$1<$2;$1++){var $5={};var $6=this.$4[$1];if((bSel&&$6.selValid())||(!bSel&&$6.bgValid())){continue;}if(bSel){$6.clearSelection();$6.selValidate();}else{$6.clearBG();$6.bgValidate();}var $7=$6.getElPos();var $8=($1+1<$4)?this.$4[$1+1].getElPos():this.getLastPos();for(var $A=0;$A<$3;$A++){if(arrSelRange[$A].from.getMaxLevel()===nLevel){var $B=arrSelRange[$A].from.getLastDocPos().getPos();var $C=arrSelRange[$A].to.getLastDocPos().getPos();var $D=arrSelRange[$A].bgColor.clone();if($B.isLessEqual($7)&&$C.isGreaterEqual($8)){this.renderLineSelectionFull($1,bSel,$D,(this.$2.hasBreak()&&$1===this.$4.length-1&&$C.isGreater($8)));}else if(($B.isGreaterEqual($7)&&$B.isLess($8))&&($C.isGreater($7)&&$C.isLessEqual($8))){this.renderLineSelectionPartial($1,$B.clone(),$C.clone(),bSel,$D);}else if($B.isLess($7)&&($C.isGreater($7)&&$C.isLessEqual($8))){this.renderLineSelectionPartial($1,$7.clone(),$C.clone(),bSel,$D);}else if(($B.isGreaterEqual($7)&&$B.isLess($8))&&$C.isGreater($8)){this.renderLineSelectionPartial($1,$B.clone(),$C.clone(),bSel,$D);}else if(($B.isGreaterEqual($7)&&$B.isLessEqual(this.getLastPos()))&&$C.isGreater($8)){this.renderLineSelectionPartial($1,$B.clone(),$C.clone(),bSel,$D);}}else{var $E=arrSelRange[$A].from.getDocPos(nLevel).elPos.getElIndex();if($7.getElIndex()<=$E&&$E<$8.getElIndex()){var $F=$5[$E];if($F==null){$F=[];$5[$E]=$F;}$F.add(arrSelRange[$A]);}}}var $9=Object.keys($5);for(var $10=$7.getElIndex();$10<$8.getElIndex();$10++){if(!this.$2.getElement($10).isText()){var $11=$5[$10];this.$5[$10].renderPagedLineSelection(0,$11,nLevel,bSel);}}}},renderLineSelectionFull:function(iLine,bSel,bgColor,bLastPos){var $0=this.$4[iLine];var $1=$0.getRender();var $2=$0.getSectionCount();for(var $3=0;$3<$2;$3++){var $4=$0.getSection($3);var $5=$4.getPos();var $6=($3+1<$2)?$0.getSection($3+1).getPos():((iLine+1<this.$4.length)?this.$4[iLine+1].getElPos():this.getLastPos());$1.append(this.renderLineSectionSelectionFull($4,$0,bSel,bgColor,bLastPos));}},renderLineSelectionPartial:function(iLine,from,to,bSel,bgColor){var $0=this.$4[iLine];var $1=$0.getRender();var $2=$0.getSectionCount();var $3=this.getLastPos();for(var $4=0;$4<$2;$4++){var $5=$0.getSection($4);var $6=this.$2.hasBreak()&&to.isGreater(this.getLastPos())&&iLine===this.$4.length-1&&$2-1===$4;var $7=$5.getPos();var $8=($4+1<$2)?$0.getSection($4+1).getPos():((iLine+1<this.$4.length)?this.$4[iLine+1].getElPos():$3);if(from.isLessEqual($7)&&to.isGreaterEqual($8)){$1.append(this.renderLineSectionSelectionFull($5,$0,bSel,bgColor,$6));}else if((from.isGreaterEqual($7)&&from.isLess($8))&&(to.isGreater($7)&&to.isLessEqual($8))){$1.append(this.renderLineSectionSelectionPartial($5,$0,from.clone(),to.clone(),bSel,bgColor,$6));}else if(from.isLess($7)&&(to.isGreater($7)&&to.isLessEqual($8))){$1.append(this.renderLineSectionSelectionPartial($5,$0,$7.clone(),to.clone(),bSel,bgColor,$6));}else if((from.isGreaterEqual($7)&&from.isLess($8))&&to.isGreater($8)){$1.append(this.renderLineSectionSelectionPartial($5,$0,from.clone(),$8.clone(),bSel,bgColor,$6));}else if((from.isGreaterEqual($7)&&from.isLessEqual(this.getLastPos()))&&to.isGreater($8)){$1.append(this.renderLineSectionSelectionPartial($5,$0,from.clone(),$8.clone(),bSel,bgColor,$6));}}},renderLineSectionSelectionFull:function(lineSection,line,bSel,bgColor,bLastSection){var $0=this.$2.getParaProp();var $1=0;if($0!=null&&$0.isBulletApplied()){$1=$0.getBulletWidth();}var $2=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.RenderObject();var $3=lineSection.getWidth()+((bLastSection)?10:0);var $4='position: absolute; display:inline ;height:'+line.getHeight()+'px;'+'background-color:'+bgColor.toString()+';'+'left:'+(lineSection.getXOffset()+$1)+'px; top:0px; width:'+$3+'px;';if(bSel){$4+='z-index:3;';}else{$4+='z-index:1;';}$2.setStyle($4);if(bSel){line.addSelection($2);}else{line.addBG($2);}return $2;},renderLineSectionSelectionPartial:function(lineSection,line,from,to,bSel,bgColor,bLastSection){var $0=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.RenderObject();var $1=this.getXOffsetFromElPos(from,lineSection);var $2=this.getXOffsetFromElPos(to,lineSection);var $3=(bLastSection)?10:0;var $4='position: absolute; display: inline;height:'+line.getHeight()+'px;'+'background-color:'+bgColor.toString()+';'+'left:'+($1+lineSection.getXOffset())+'px; top:0px; width:'+($2-$1+$3)+'px;';if(bSel){$4+='z-index:3;';}else{$4+='z-index:1;';}$0.setStyle($4);if(bSel){line.addSelection($0);}else{line.addBG($0);}return $0;},getParaPageHeight:function(iIndex){if(iIndex<this.$3.length&&iIndex>=0){return this.$3[iIndex].getHeight();}else{return 0;}},getParaPageCount:function(){return this.$3.length;},invalidateParaPage:function(iParaPage){if(iParaPage<this.$3.length&&iParaPage>=0){this.$3[iParaPage].layoutInvalidate();}},relayout:function(iAvailableHeight,nMaxWidth,iMaxHeight,args){return this.relayoutTextPara(iAvailableHeight,nMaxWidth,iMaxHeight,args);},relayoutFixedLayout:function(){return this.relayoutTextParaFixedLayout();},relayoutTextParaFixedLayout:function(){for(var $0=0;$0<this.$3.length;++$0){var $1=0;var $2=this.$3[$0].getLine();var $3=($0===this.$3.length-1)?this.$4.length:this.$3[$0+1].getLine();for(var $4=$2;$4<$3;++$4){var $5=($4<this.$4.length-1)?this.$4[$4+1].getElPos():null;if($5==null){$5=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.ElPos();$5.set(this.$5.length-1,this.$2.getElement(this.$5.length-1).getCharCount());}var $6=this.$4[$4];$6.setPadding(0);this.wrapLineFixedLayout($6,$5);$1+=$6.getHeight();$6.layoutValidate();}this.$3[$0].setHeight($1);this.$3[$0].layoutValidate();}return this.$3;},wrapLineFixedLayout:function(line,to){var $0=line.getElPos().clone();line.clearSection(0);var $1=this.wrapLineSectionFixedLayout(line.getSection(0),$0,to);return $1;},wrapLineSectionFixedLayout:function(section,from,to){var $0=from.getElIndex();var $1=from.getChIndex();var $2=to.getElIndex();var $3=this.$5.length-1;var $4=0;var $5=0;var $6=0;var $7=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.LayoutArgs();for(;$0<=$2;$0++){var $8=this.$2.getElement($0);var $9=this.$5[$0];if($8.isText()){var $A=$8;var $B=$A.getAscent();var $C=$A.getDescent();if($0!==$2||!!to.getChIndex()){if($5<$B){$5=$B;}if($6<$C){$6=$C;}}var $D=$A.getCharCount();if($0===$3){$D=to.getChIndex();}var $E=$A.getCharProperties();var $F=0;var $10;if($0===$3){$10=String.fromCharCode(160);$F=$E.getStringWidth($10);if(!$D){$F=0;}}else{$10=$A.getText().substr($1,$D-$1);$F=$E.getStringWidth($10);}$4+=$F;}else{if($8.isRecursiveAscent()){if(!$0){$7.setPrevAscent(15);$7.setPrevDescent(5);}else{var $12=this.$2.getElement($0-1);var $13=this.$5[$0-1];if($12.isText()){$7.setPrevAscent(($12).getAscent());$7.setPrevDescent(($12).getDescent());}else{$7.setPrevAscent($13.getAscent());$7.setPrevDescent($13.getDescent());}}}var $11=$9.relayoutFixedLayout($7)[0];if($5<$9.getAscent()){$5=$9.getAscent();}if($6<$9.getDescent()){$6=$9.getDescent();}$4=Math.ceil($4);$4=$9.getWidth();}$1=0;}section.setPos(from.getElIndex(),from.getChIndex());section.setAscent($5);section.setDescent($6);section.setWidth(Math.ceil($4));return Math.ceil($4);},relayoutTextPara:function(iAvailableHeight,nMaxWidth,iMaxHeight,args){this._bHorizontalOverflow=false;var $0=this.$2.getParaProp();var $1=this.$4.length;if($0!=null&&$0.isBulletApplied()){nMaxWidth-=$0.getBulletWidth();if(nMaxWidth<0){nMaxWidth=0;}}var $2=0;var $3=0;var $4=null;var $5=iMaxHeight-iAvailableHeight;if($2===this.$3.length){this.$3.add(new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.ParaPage());}for(;$2<this.$3.length;$2++){if(!this.$3[$2].layoutValid()){break;}$3+=this.$3[$2].getHeight();iAvailableHeight=iMaxHeight;$5=0;}var $6=$2;var $7=$6;for(;$6<this.$3.length;$6++){if(!this.$3[$6].layoutValid()){$7=$6;}}if($2===this.$3.length){return this.$3;}if(!$2){$4=Kepler.Framework.UI.Rect.cloneRectList(args.getFloatingRects());}var $8=this.getLastPos();var $9=this.$3[$2].getLine();if(!this.$4.length){this.$4.add(new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.Line());}var $A=this.$4[$9].getElPos().clone();var $B=$5-$3;$4=this.$2.appendAnchorRects($4,$B);var $C=0;do{if(this.$3[$2].layoutValid()){if($2<$7){$3+=this.$3[$2].getHeight();$C=0;$4=this.$2.appendAnchorRects(null,-$3);$2++;iAvailableHeight=iMaxHeight;if($2<this.$3.length){$9=this.$3[$2].getLine();$A=this.$4[$9].getElPos().clone();}continue;}else{break;}}if(!this.$3[$2].compareClipRects($4)){var $D=this.$4.length;if($2!==this.$3.length-1){$D=this.$3[$2].getLine();}for(var $E=$9;$E<$D;++$E){this.$4[$E].layoutInvalidate();}}$C=0;do{if($9===this.$4.length){this.$4.add(new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.Line());}var $F=this.$4[$9];var $10=$F.getElPos().clone();$F.setElPos($A.iEl,$A.iCh);var $11=$10;if($F.layoutValid()&&$10.isEqual($A)){if(!!$F.getSectionCount()&&$F.getSection(0).getMaxWidth()!==nMaxWidth){$F.clearSection(nMaxWidth);$F.layoutInvalidate();}}else{$F.clearSection(nMaxWidth);$F.layoutInvalidate();}if($F.layoutValid()){$11=$8;if($9<this.$4.length-1){$11=this.$4[$9+1].getElPos().clone();}}else{if($0!=null&&$0.getBulletCharProp()!=null&&$0.isBulletApplied()&&!$9){$F.setAscent($0.getBulletCharProp().getAscent());$F.setDescent($0.getBulletCharProp().getDescent());}else{$F.setAscent(0);$F.setDescent(0);}$F.setPadding(0);$11=this.wrapLine($A,$F,nMaxWidth);}var $12=$F.getHeight();var $13=new Kepler.Framework.UI.Rect(0,$5+$C,Math.floor(nMaxWidth),$F.getHeight());while($4!=null&&!!$4.length&&$13.isRectsIntersects($4)){if($0!=null&&$0.getBulletCharProp()!=null&&$0.isBulletApplied()&&!$9){$F.setAscent($0.getBulletCharProp().getAscent());$F.setDescent($0.getBulletCharProp().getDescent());}else{$F.setAscent(0);$F.setDescent(0);}$F.split($5+$C,$4);$11=this.wrapLine($A,$F,nMaxWidth);if(!$11.isEqual($A)){break;}$F.addPadding($12);$13=new Kepler.Framework.UI.Rect(0,$5+$C+$F.getPadding(),parseInt($F.getWidth()),$12);}if($C+$F.getHeight()+$F.getPadding()>iAvailableHeight&&iMaxHeight!==-1){if(!!$C){var $14=this.$3[$2].getHeight()!==$C;this.$3[$2].layoutValidate();this.$3[$2].setHeight($C);if($14){this.$3[$2].setModified();}else{this.$3[$2].clearModified();}$3+=$C;$C=0;$4=this.$2.appendAnchorRects(null,-$3);$2++;iAvailableHeight=iMaxHeight;if($2===this.$3.length){this.$3.add(new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.ParaPage());}if(this.$3[$2].getLine()!==$9){this.$3[$2].setLine($9);this.$3[$2].layoutInvalidate();this.$3[$2].setModified();}else if($11!==$10){this.$3[$2].layoutInvalidate();this.$3[$2].setModified();}break;}else{iAvailableHeight=iMaxHeight;}}$C+=$F.getHeight();$A=$11;$F.layoutValidate();$9+=1;}while(!$A.isEqual($8));}while(!$A.isEqual($8));if($A.isEqual($8)){var $15=this.$3[$2].getHeight()!==$C;this.$3[$2].layoutValidate();this.$3[$2].setHeight($C);if($15){this.$3[$2].setModified();}else{this.$3[$2].clearModified();}if($9<this.$4.length){for(var $16=$9;$16<this.$4.length;$16++){this.$4[$16].dispose();}this.$4.removeRange($9,this.$4.length-$9);}if($2+1<this.$3.length){for(var $17=$2+1;$17<this.$3.length;$17++){this.$3[$17].dispose();}this.$3.removeRange($2+1,this.$3.length-$2-1);}}for(;$2<this.$3.length;++$2){$3+=this.$3[$2].getHeight();}if(this.$3.length===1){args.setRects(this.$2.appendAnchorRects(args.getFloatingRects(),$3-$5));}else{args.setRects(this.$2.appendAnchorRects(null,$3));}return this.$3;},hitTest:function(x,y,hittest){var $0=false;$0=this.hitTestTextPara(x,y,hittest);return $0;},hitTestTextPara:function(x,y,hittest){var $0=0;var $1=hittest.xOffset;if(!this.$5.length){hittest.iLine=0;return true;}var $2=this.$3[hittest.iPage];var $3=$2.getLine();var $4=this.$4.length-1;if(hittest.iPage<this.$3.length-1){$4=this.$3[hittest.iPage+1].getLine()-1;}for(;$3<$4;++$3){if(y<$0+this.$4[$3].getHeight()){break;}$0+=this.$4[$3].getHeight();}y-=$0;var $5=0;var $6=0;var $7=this.$4[$3];hittest.iLine=$3;hittest.iLineHeight=$7.getHeight();hittest.iAscent=$7.getAscent();var $8=this.$2.getParaProp();if($8!=null){if($8.isBulletApplied()){$6=$8.getBulletWidth();}switch($8.getAlign()){case 2:$5=$7.getWidth()-$7.getContentWidth()+$6;break;case 1:$5=($7.getWidth()-$7.getContentWidth())/2+$6;break;case 0:$5=$6;break;case 3:break;}}var $9=$7.getElIndex();var $A=$7.getChIndex();var $B=this.$5.length-1;var $C=this.$2.getElement($B).getCharCount();if($3<this.$4.length-1){$B=this.$4[$3+1].getElIndex();$C=this.$4[$3+1].getChIndex();if(!$C){$B--;$C=(this.$2.getElement($B)).getCharCount();}}for(;$9<=$B;++$9){if(this.$5[$9]==null){var $D=this.$2.getElement($9);var $E=$D.getCharCount();if($9===$B){$E=$C;}var $F=$D.getCharProperties();var $10=0;var $11=0;var $12='';for(;$A<$E;++$A){$12+=$D.getText().charAt($A);$11=$F.getStringWidth($12);if(x<=$5+$10+($11-$10)/2){hittest.xOffset=$5;break;}$10=$11;}$5+=$11;if($A!==$E){break;}}else{$5=Math.ceil($5);if(x<=$5+this.$5[$9].getWidth()){hittest.xOffset=$5;var $13=y-hittest.iAscent+this.$5[$9].getAscent();hittest.pos.setEl($9);hittest.pos.setCh(0);this.$5[$9].hitTest(x-$5,y-hittest.iAscent+this.$5[$9].getAscent(),hittest);if(!hittest.bSet){if(hittest.pControl!=null){hittest.xOffset=$5;hittest.pos.setEl($9);hittest.pos.setCh(0);}else{hittest.pos.setCh(0);if(x<=$5+this.$5[$9].getWidth()/2){hittest.pos.setEl($9);hittest.xOffset=$5;}else{hittest.pos.setEl($9+1);hittest.xOffset=$5+this.$5[$9].getWidth();}}hittest.bSet=true;}break;}$5+=parseInt(this.$5[$9].getWidth());}$A=0;}if($9>$B){if(this.$2.getElement($B).isText()){$9=$B;$A=$C;}}if(!hittest.bSet){hittest.pos.setEl($9);hittest.pos.setCh($A);hittest.bSet=true;hittest.xOffset=$5;}return true;},getHeight:function(){var $0=0;for(var $2=0;$2<this.$3.length;++$2){$0+=this.$3[$2].getHeight();}var $1=this.$2.getParaProp();if($1!=null&&$1.isBulletApplied()){if($0<$1.getBulletHeight()){$0=$1.getBulletHeight();}}return $0;},getWidth:function(){if(this.$4.length===1&&(!this.$2.getParaProp().getAlign())){return (this.$4[0]).getContentWidth()+((this.$2.getParaProp().isBulletApplied())?this.$2.getParaProp().getBulletWidth():0);}else{return this.$4[0].getWidth()+((this.$2.getParaProp().isBulletApplied())?this.$2.getParaProp().getBulletWidth():0);}},getFirstLineAscent:function(){return (this.$4[0]).getAscent();},getFirstLineDescent:function(){return (this.$4[0]).getAscent();},getLastPos:function(){var $0=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.ElPos();$0.set(this.$2.getElementCount()-1,0);return $0;},getXOffsetFromElPos:function(pos,sec){var $0=0;var $1=this.$2.getParaProp();if($1!=null&&$1.isBulletApplied()){$0+=$1.getBulletWidth();}var $2=sec.getElIndex();var $3=sec.getChIndex();var $4=pos.getElIndex();var $5=pos.getChIndex();for(;$2<=$4;$2++){var $6=this.$2.getElement($2);if($6.isText()){var $7=$6;var $8=$7.getCharProperties();var $9=$7.getCharCount();if($2===$4){$9=$5;}var $A=$7.getText().substr($3,$9-$3);$0+=$8.getStringWidth($A);}else{if($2!==$4){$0+=this.$5[$2].getWidth();}}$3=0;}return $0;},elementsInserted:function(pos,iLevel,arrElements){this.setDirty(true);var $0=arrElements.length;var $1=pos.getElIndex();if(!this.$4.length){if(this.$1!=null){this.$1.paragraphModified(pos,iLevel,0,1);}}else{var $2=this.$4.length;var $3=this.getLineFromCursorPos(pos.getDocPos(iLevel));var $4=$3;this.$4[$4].layoutInvalidate();if($4>0){this.$4[$4-1].layoutInvalidate();}$4++;for(;$4<$2;$4++){this.$4[$4].setElPos(this.$4[$4].getElPos().iEl+$0,0);}var $5=this.getParaPageFromLine($3);var $6=1;this.$3[$5].layoutInvalidate();if(!!$5){$5--;$6++;this.$3[$5].layoutInvalidate();}if(this.$1!=null){this.$1.paragraphModified(pos,iLevel,$5,$6);}}for(var $7=0;$7<$0;$7++){var $8=arrElements[$7];var $9=this.$0.createElementRenderer(this,$8.getElementType());if($9!=null){$9.setElement($8);}this.$5.insert($1,$9);$1++;}},elementsDeleted:function(pos,iLevel,iCount){this.setDirty(true);var $0=this.$4.length;var $1=pos.getElIndex();var $2=this.getLineFromCursorPos(pos.getDocPos(iLevel));if(!$2&&this.$2.getElementCount()<=1){for(var $5=0;$5<this.$4.length;$5++){this.$4[$5].dispose();}this.$4.clear();var $4=this.$3.length;for(var $6=0;$6<$4;$6++){this.$3[$6].dispose();}this.$3.clear();if(this.$1!=null){this.$1.paragraphModified(pos,iLevel,0,$4);}}else{var $7=$2;this.$4[$7].layoutInvalidate();if($7>0){this.$4[$7-1].layoutInvalidate();}$1+=iCount;$7++;for(;$7<$0;++$7){if(this.$4[$7].getElIndex()<$1){this.$4[$7].setElPos(pos.getElIndex(),0);this.$4[$7].layoutInvalidate();}else{break;}}var $8=$7;for(;$7<$0;$7++){this.$4[$7].setElPos(this.$4[$7].getElIndex()-iCount,0);}var $9=this.getParaPageFromLine($2);var $A=this.getParaPageFromLine($8);for($7=$9;$7<=$A&&$7<this.$3.length;$7++){this.$3[$7].layoutInvalidate();}if(this.$1!=null){this.$1.paragraphModified(pos,iLevel,$9,$A-$9+1);}}this.$5.removeRange(pos.getElIndex(),iCount);var $3=pos.clone();$3.setEl(pos.getElIndex());this.invalidateRecursiveElements(pos,iLevel);},elementSplit:function(pos,iLevel){this.setDirty(true);var $0=pos.getElIndex();var $1=this.$4.length;var $2=this.getLineFromCursorPos(pos.getDocPos(iLevel));var $3=$2;if(!!$1){this.$4[$2].layoutInvalidate();if($2>0){this.$4[$2-1].layoutInvalidate();}$3++;for(;$3<$1;++$3){if(this.$4[$3].getElIndex()===$0){this.$4[$3].setElPos(this.$4[$3].getElIndex(),0);}else{break;}}for(;$3<$1;$3++){this.$4[$3].setElPos(this.$4[$3].getElIndex()+1,0);}var $4=this.getParaPageFromLine($2);var $5=1;this.$3[$4].layoutInvalidate();if(!!$4){$4--;$5++;this.$3[$4].layoutInvalidate();}if(this.$1!=null){this.$1.paragraphModified(pos,iLevel,$4,$5);}}this.$5.insert(pos.getElIndex()+1,null);},elementMerged:function(pos,iLevel){this.setDirty(true);var $0=pos.getElIndex();var $1=this.$4.length;var $2=this.getLineFromCursorPos(pos.getDocPos(iLevel));var $3=$2;if(!!this.$4.length){this.$4[$3].layoutInvalidate();if($3>0){this.$4[$3-1].layoutInvalidate();}$3++;$0++;for(;$3<$1;++$3){if(this.$4[$3].getElIndex()===$0){this.$4[$3].setElPos($0-1,0);}else{break;}}for(;$3<$1;$3++){this.$4[$3].setElPos(this.$4[$3].getElIndex()-1,0);}var $4=this.getParaPageFromLine($2);this.$3[$4].layoutInvalidate();var $5=1;if(!!$4){$4--;$5++;this.$3[$4].layoutInvalidate();}if(this.$1!=null){this.$1.paragraphModified(pos,iLevel,$4,$5);}}this.$5.removeAt(pos.getElIndex()+1);},charsInserted:function(pos,iLevel,iCount){this.setDirty(true);var $0=pos.getElIndex();var $1=pos.getChIndex();var $2=this.$4.length;if(!!$2){var $3=this.getLineFromCursorPos(pos.getDocPos(iLevel));var $4=$3;this.$4[$3].layoutInvalidate();if($3>0){this.$4[$3-1].layoutInvalidate();}$4++;for(;$4<$2;$4++){var $7=this.$4[$4].getElIndex();if($7===$0){var $8=this.$4[$4].getChIndex();if($8>=$1){this.$4[$4].setElPos($7,$8+iCount);}}else{break;}}var $5=this.getParaPageFromLine($3);this.$3[$5].layoutInvalidate();var $6=1;if(!!$5){$5--;$6++;this.$3[$5].layoutInvalidate();}if(this.$1!=null){this.$1.paragraphModified(pos,iLevel,$5,$6);}}},charsDeleted:function(pos,iLevel,iCount){this.setDirty(true);var $0=pos.getElIndex();var $1=pos.getChIndex();var $2=this.$4.length;if(!!$2){var $3=this.getLineFromCursorPos(pos.getDocPos(iLevel));var $4=$3;this.$4[$3].layoutInvalidate();if($3>0){this.$4[$3-1].layoutInvalidate();}$4++;var $5=$4;for(;$4<$2;$4++){var $8=this.$4[$4].getElIndex();if($8===$0){var $9=this.$4[$4].getChIndex();if($9<$1){this.$4[$4].setElPos($8,$1);$5=$4;}}else{break;}}var $6=this.getParaPageFromLine(($3>0)?$3-1:$3);var $7=this.getParaPageFromLine($5);for($4=$6;$4<=$7&&$4<this.$3.length;$4++){this.$3[$4].layoutInvalidate();}if(this.$1!=null){this.$1.paragraphModified(pos,iLevel,$6,$7-$6+1);}}},propertyChanged:function(pos,nLevel,prop){for(var $0=0;$0<this.$3.length;$0++){this.$3[$0].layoutInvalidate();}for(var $1=0;$1<this.$4.length;$1++){this.$4[$1].layoutInvalidate();}if(this.$1!=null){this.$1.paragraphModified(pos,nLevel,0,this.$3.length);}},elementPropertyChanged:function(pos,iLevel,iCount){var $0=pos.getDocPos(iLevel).clone();var $1=this.getLineFromCursorPos($0);$0.elPos.setElIndex($0.elPos.getElIndex()+iCount);var $2=this.getLineFromCursorPos($0);if(!!this.$4.length){this.$4[$1].layoutInvalidate();if($1>0){this.$4[$1-1].layoutInvalidate();}for(var $6=$1;$6<=$2;++$6){this.$4[$6].layoutInvalidate();}var $4=this.getParaPageFromLine(($1>0)?$1-1:$1);var $5=this.getParaPageFromLine($2);for(var $7=$4;$7<=$5&&$7<this.$3.length;$7++){this.$3[$7].layoutInvalidate();}if(this.$1!=null){this.$1.paragraphModified(pos,iLevel,$4,$5-$4+1);}}var $3=pos.clone();$3.setEl(pos.getElIndex()+iCount);this.invalidateRecursiveElements($3,iLevel);},elementModified:function(pos,iLevel,iRender,iCount){this.setDirty(true);if(!!this.$4.length){var $1=pos.getDocPos(iLevel).clone();var $2=this.getLineFromCursorPos($1);$1.elPos.setElIndex($1.elPos.getElIndex()+iCount);var $3=this.getLineFromCursorPos($1);if($2>0){this.$4[$2-1].layoutInvalidate();}for(var $6=$2;$6<=$3;++$6){this.$4[$6].layoutInvalidate();}var $4=this.getParaPageFromLine(($2>0)?$2-1:$2);var $5=this.getParaPageFromLine($3);for(var $7=$4;$7<=$5&&$7<this.$3.length;$7++){this.$3[$7].layoutInvalidate();}if(this.$1!=null){this.$1.paragraphModified(pos,iLevel,$4,$5-$4+1);}}var $0=pos.clone();$0.setEl(pos.getElIndex()+iCount);this.invalidateRecursiveElements($0,iLevel);},invalidateSelectionRange:function(pos,range,bSel){pos.setEl(0);pos.setCh(0);var $0=pos.getMaxLevel();var $1=0;var $2=0;if(range.from.getLastDocPos().iPara===pos.getParaIndex()){$1=this.getLineFromCursorPos(range.from.getLastDocPos());$2=this.getParaPageFromLine($1);}var $3=this.$4.length-1;var $4=this.$3.length-1;if(range.to.getLastDocPos().iPara===pos.getParaIndex()){$3=this.getLineFromCursorPos(range.to.getLastDocPos());$4=this.getParaPageFromLine($3);}for(var $5=$1;$5<=$3&&$5<this.$4.length;++$5){if(bSel){this.$4[$5].selInvalidate();}else{this.$4[$5].bgInvalidate();}}for(var $6=$2;$6<=$4&&$6<this.$3.length;$6++){if(bSel){this.$3[$6].selInvalidate();}else{this.$3[$6].bgInvalidate();}}if(this.$1!=null){this.$1.childSelectionInvalidated(pos,$0,$2,$4-$2+1,bSel);}},childSelectionInvalidated:function(pos,iLevel,iRender,iCount,bSel){var $0=this.getParaPageFromCursorPos(pos,iLevel);var $1=this.getParaPageFromCursorPos(pos,iLevel);if($0<this.$3.length){for(var $4=$0;$4<=$1;++$4){if(bSel){this.$3[$4].selInvalidate();}else{this.$3[$4].bgInvalidate();}}}var $2=this.getLineFromCursorPos(pos.getDocPos(iLevel));var $3=this.getLineFromCursorPos(pos.getDocPos(iLevel));if($2<this.$4.length){for(var $5=$2;$5<=$3;$5++){if(bSel){this.$4[$5].selInvalidate();}else{this.$4[$5].bgInvalidate();}}}if(this.$1!=null){this.$1.childSelectionInvalidated(pos,iLevel,$0,$1-$0+1,bSel);}},invalidatePagesLayout:function(iFromPage,iCount){if(iFromPage+iCount>this.$3.length){return;}for(var $0=0;$0<iCount;$0++){this.$3[iFromPage+$0].layoutInvalidate();}},invalidatePagesFG:function(iFromPage,iCount){if(iFromPage+iCount>this.$3.length){return;}for(var $0=0;$0<iCount;$0++){this.$3[iFromPage+$0].fgInvalidate();}},invalidatePagesBG:function(iFromPage,iCount){if(iFromPage+iCount>this.$3.length){return;}for(var $0=0;$0<iCount;$0++){this.$3[iFromPage+$0].bgInvalidate();}},invalidatePagesSel:function(iFromPage,iCount){if(iFromPage+iCount>this.$3.length){return;}for(var $0=0;$0<iCount;$0++){this.$3[iFromPage+$0].selInvalidate();}},invalidateLinesLayout:function(iFromLine,iCount){if(iFromLine+iCount>this.$4.length){return;}for(var $0=0;$0<iCount;$0++){this.$4[iFromLine+$0].layoutInvalidate();}},invalidateLinesFG:function(iFromLine,iCount){if(iFromLine+iCount>this.$4.length){return;}for(var $0=0;$0<iCount;$0++){this.$4[iFromLine+$0].fgInvalidate();}},invalidateLinesBG:function(iFromLine,iCount){if(iFromLine+iCount>this.$4.length){return;}for(var $0=0;$0<iCount;$0++){this.$4[iFromLine+$0].bgInvalidate();}},invalidateLinesSel:function(iFromLine,iCount){if(iFromLine+iCount>this.$4.length){return;}for(var $0=0;$0<iCount;$0++){this.$4[iFromLine+$0].selInvalidate();}},rightKey:function(bShift,bControl,hittest,from,iLevel,bFromChild){this.rightKeyTextPara(bShift,bControl,hittest,from,iLevel,bFromChild);},rightKeyTextPara:function(bShift,bControl,hittest,from,iLevel,bFromChild){if(bControl){hittest.pos.setMaxLevel(iLevel);if(hittest.bChanged){hittest.pos.setEl(hittest.pos.getElIndex()+1);}var $0=this.$9(hittest.pos.getLastDocPos().getPos());if($0!=null){hittest.pos.setEl($0.getElIndex());hittest.pos.setCh($0.getChIndex());hittest.iLine=this.getLineFromCursorPos(hittest.pos.getLastDocPos());hittest.xOffset=parseInt(this.getXOffsetOfLineFromElPos(hittest.iLine,hittest.pos.getLastDocPos().getPos()));hittest.bSet=true;}else if($0==null&&!hittest.pos.getLastDocPos().getPos().isEqual(this.getLastPos())){hittest.pos.setEl(this.$2.getElementCount()-1);hittest.pos.setCh(0);hittest.iLine=this.getLineFromCursorPos(hittest.pos.getLastDocPos());hittest.xOffset=parseInt(this.getXOffsetOfLineFromElPos(hittest.iLine,hittest.pos.getLastDocPos().getPos()));hittest.bSet=true;}else{hittest.bChanged=true;}}else{if(hittest.bChanged){hittest.pos.setMaxLevel(iLevel);var $1=hittest.pos.getElIndex();if(!bFromChild){$1++;if($1<this.$5.length){hittest.pos.setEl($1);var $2=this.$2.getElement($1);if($2.isText()||!$2.getDocCount()){hittest.pos.setCh(0);hittest.bSet=true;hittest.iLine=this.getLineFromCursorPos(hittest.pos.getLastDocPos());hittest.xOffset=parseInt(this.getXOffsetOfLineFromElPos(hittest.iLine,hittest.pos.getLastDocPos().getPos()));return;}else{hittest.pos.setCh(0);this.$5[$1].rightKey(bShift,bControl,hittest,from,iLevel,false);if(hittest.bSet){return;}}}}else{hittest.pos.setEl($1+1);hittest.pos.setCh(0);hittest.bSet=true;hittest.iLine=this.getLineFromCursorPos(hittest.pos.getLastDocPos());hittest.xOffset=parseInt(this.getXOffsetOfLineFromElPos(hittest.iLine,hittest.pos.getLastDocPos().getPos()));return;}}else{var $3=hittest.pos.getDocPos(iLevel);var $4=$3.getPos().getElIndex();var $5=$3.getPos().getChIndex();var $6=0;hittest.bChanged=true;$6=this.$2.getElementCount()-1;while($4<$6){var $7=this.$2.getElement($4);if($7.isText()){var $8=$7;var $9=$8.getCharCount();if($5<$9){$5++;if($5===$8.getCharCount()){$5=0;$4++;}if($4>=this.$2.getElementCount()){$4=this.$2.getElementCount()-1;$5=this.$2.getElement($4).getCharCount();}hittest.pos.setMaxLevel(iLevel);hittest.pos.setEl($4);hittest.pos.setCh($5);hittest.iLine=this.getLineFromCursorPos(hittest.pos.getLastDocPos());hittest.xOffset=parseInt(this.getXOffsetOfLineFromElPos(hittest.iLine,hittest.pos.getLastDocPos().getPos()));hittest.bSet=true;return;}}else{if(!bShift&&!!$7.getDocCount()){hittest.pos.setMaxLevel(iLevel);hittest.xOffset-=parseInt(this.getXOffsetOfLineFromElPos(this.getLineFromCursorPos(hittest.pos.getLastDocPos()),hittest.pos.getLastDocPos().getPos()));hittest.pos.setEl($4);hittest.pos.setCh(0);hittest.bChanged=true;this.$5[$4].rightKey(bShift,bControl,hittest,from,iLevel,false);return;}}$4++;$5=0;if($4<this.$5.length){hittest.pos.setMaxLevel(iLevel);hittest.pos.setEl($4);hittest.pos.setCh($5);hittest.iLine=this.getLineFromCursorPos(hittest.pos.getLastDocPos());hittest.xOffset=parseInt(this.getXOffsetOfLineFromElPos(hittest.iLine,hittest.pos.getLastDocPos().getPos()));hittest.bSet=true;return;}}}}},getXOffsetOfLineFromElPos:function(iLine,pos){var $0=0;var $1=this.$2.getParaProp();if($1!=null&&$1.isBulletApplied()){$0+=$1.getBulletWidth();}var $2=this.$4[iLine];var $3=$2.getElIndex();var $4=$2.getChIndex();var $5=pos.getElIndex();var $6=pos.getChIndex();for(;$3<=$5;$3++){var $7=this.$2.getElement($3);if($7.isText()){var $8=$7;var $9=$8.getCharProperties();var $A=$8.getCharCount();if($3===$5){$A=$6;}var $B=$8.getText().substr($4,$A-$4);$0+=$9.getStringWidth($B);}else{if($3!==$5){$0+=this.$5[$3].getWidth();}}$4=0;}return $0;},$9:function($p0){var $0=$p0.getElIndex();var $1=$p0.getChIndex();var $2=this.$2.getElementCount();for(;$0<$2;$0++){var $3=this.$2.getElement($0);var $4=$3.getCharCount();for(;$1<$4;$1++){if($3.isSpace($1)){var $5=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.ElPos();$5.setElIndex($0);$5.setChIndex($1+1);return $5;}}$1=0;}return null;},$A:function($p0){var $0=$p0.getElIndex();var $1=$p0.getChIndex();if($0<0||(!$0&&$1<=0)){return null;}if((this.$2.getElement($0)).isSpace($1-1)){$1-=2;}for(;$0>=0;$0--){var $2=this.$2.getElement($0);if($1<0){$1=$2.getCharCount();}for(;$1>=0;$1--){if($2.isSpace($1)){var $3=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.ElPos();$3.setElIndex($0);$3.setChIndex($1+1);return $3;}}}if($0<0||(!$0&&$1<=0)){var $4=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.ElPos();$4.setElIndex(0);$4.setChIndex(0);return $4;}return null;},homeKey:function(bShift,bControl,hittest,from,iLevel,bFromChild){var $0=this.$4[hittest.iLine];hittest.pos.setEl($0.getElIndex());hittest.pos.setCh($0.getChIndex());},endKey:function(bShift,bControl,hittest,from,iLevel,bFromChild){if(this.$4.length-1>hittest.iLine){var $0=this.$4[hittest.iLine+1];var $1=$0.getChIndex();var $2=$0.getElIndex();if(!!$1){hittest.pos.setEl($2);hittest.pos.setCh($1-1);}else{$2-=1;$1=0;var $3=this.$2.getElement($2-1);if($3.isText()){var $4=$3;var $5=$4.getText().length;if($5>0){$1=$5-1;}}hittest.pos.setEl($2);hittest.pos.setCh($1);}}else{var $6=this.$2.getElementCount()-1;var $7=0;var $8=this.$2.getElement(this.$2.getElementCount()-1);if($8.isText()){var $9=$8;var $A=$9.getText().length;if($A>0){$7=$A-1;}}hittest.pos.setEl($6);hittest.pos.setCh($7);}},leftKey:function(bShift,bControl,hittest,from,iLevel,bFromChild){this.leftKeyTextPara(bShift,bControl,hittest,from,iLevel,bFromChild);},leftKeyTextPara:function(bShift,bControl,hittest,from,iLevel,bFromChild){if(bControl){hittest.pos.setMaxLevel(iLevel);if(hittest.bChanged){hittest.pos.setEl(hittest.pos.getElIndex()-1);}var $0=this.$A(hittest.pos.getLastDocPos().getPos());if($0!=null){hittest.pos.setEl($0.getElIndex());hittest.pos.setCh($0.getChIndex());hittest.iLine=this.getLineFromCursorPos(hittest.pos.getLastDocPos());hittest.xOffset=parseInt(this.getXOffsetOfLineFromElPos(hittest.iLine,hittest.pos.getLastDocPos().getPos()));hittest.bSet=true;}else if($0==null&&(!!hittest.pos.getElIndex()||(!hittest.pos.getElIndex()&&!!hittest.pos.getChIndex()))){hittest.pos.setEl(0);hittest.pos.setCh(0);hittest.iLine=this.getLineFromCursorPos(hittest.pos.getLastDocPos());hittest.xOffset=parseInt(this.getXOffsetOfLineFromElPos(hittest.iLine,hittest.pos.getLastDocPos().getPos()));hittest.bSet=true;}else{hittest.bChanged=true;}}else{if(hittest.bChanged){hittest.pos.setMaxLevel(iLevel);var $1=hittest.pos.getElIndex();var $2=0;if(!bFromChild){$1--;}hittest.pos.setEl($1);var $3=this.$2.getElement($1);if($3.isText()&&!!$3.getCharCount()){$2=$3.getCharCount()-1;}hittest.pos.setCh($2);hittest.iLine=this.getLineFromCursorPos(hittest.pos.getLastDocPos());hittest.xOffset=parseInt(this.getXOffsetOfLineFromElPos(hittest.iLine,hittest.pos.getLastDocPos().getPos()));hittest.bSet=true;}else{var $4=hittest.pos.getDocPos(iLevel);var $5=$4.getPos().getElIndex();var $6=$4.getPos().getChIndex();var $7=false;if($6>0){$6--;hittest.bSet=true;}else{$5--;if($5>=0){var $8=this.$2.getElement($5);if($8.isText()){$6=$8.getCharCount()-1;}else if(!$8.getDocCount()){$6=0;}else{hittest.pos.setEl($5);hittest.pos.setCh($6);if(!bShift){hittest.bChanged=true;this.$5[$5].leftKey(bShift,bControl,hittest,from,iLevel,false);$7=true;}}hittest.bSet=true;}}if(hittest.bSet&&!$7){hittest.pos.setMaxLevel(iLevel);hittest.pos.setEl($5);hittest.pos.setCh($6);hittest.iLine=this.getLineFromCursorPos($4);hittest.xOffset=parseInt(this.getXOffsetOfLineFromElPos(hittest.iLine,$4.getPos()));}}}if(!hittest.bSet){var $9=this.getParentRenderer();hittest.bChanged=true;if($9!=null){$9.leftKey(bShift,bControl,hittest,from,iLevel);}}},upKey:function(bShift,bControl,hittest,from,iLevel,bFromChild){this.upKeyTextPara(bShift,bControl,hittest,from,iLevel,bFromChild);},upKeyTextPara:function(bShift,bControl,hittest,from,iLevel,bFromChild){var $0=hittest.iLine;if(hittest.bChanged){$0=-1;}if($0===-1){$0=this.getLineFromCursorPos(hittest.pos.getDocPos(iLevel));}var $1=hittest.xOffset;if(hittest.bChanged){if(bFromChild){hittest.xOffset+=this.getXOffsetOfLineFromElPos($0,hittest.pos.getDocPos(iLevel).getPos());}if($0!==this.$4.length-1||bFromChild){$0=$0-1;}hittest.pos.setMaxLevel(iLevel);if($0>=0){var $2=this.$B($0,hittest.xOffset);if($2.getElIndex()>=this.$5.length){$2.setElIndex(this.$5.length-1);$2.setChIndex((hittest.bSelection)?this.$2.getElement(this.$5.length-1).getCharCount():0);}hittest.pos.setEl($2.getElIndex());hittest.pos.setCh($2.getChIndex());var $3=this.$2.getElement($2.getElIndex());if($3.isText()||!$3.getDocCount()){hittest.iLine=$0;hittest.bSet=true;}else{if(($0+1<this.$4.length&&this.$4[$0+1].getElIndex()!==$2.getElIndex())||$0===this.$4.length-1){hittest.bChanged=true;var $4=this.getXOffsetOfLineFromElPos($0,$2);hittest.xOffset-=$4;hittest.iLine=-1;this.$5[$2.getElIndex()].upKey(bShift,bControl,hittest,from,iLevel,false);}else{hittest.bSet=true;hittest.iLine=$0;}if(hittest.bSet){return;}}}}else{$0--;if($0>=0){var $5=this.$B($0,hittest.xOffset);if($5.getElIndex()>=this.$5.length){$5.setElIndex(this.$5.length-1);$5.setChIndex((hittest.bSelection)?this.$2.getElement(this.$5.length-1).getCharCount():0);}hittest.pos.setMaxLevel(iLevel);hittest.pos.setEl($5.getElIndex());hittest.pos.setCh($5.getChIndex());var $6=this.$2.getElement($5.getElIndex());if($6.isText()||!$6.getDocCount()){hittest.iLine=$0;hittest.bSet=true;}else{if(($0+1<this.$4.length&&this.$4[$0+1].getElIndex()!==$5.getElIndex())||$0===this.$4.length-1){var $7=this.getXOffsetOfLineFromElPos($0,$5);hittest.xOffset-=$7;hittest.bChanged=true;this.$5[$5.getElIndex()].upKey(bShift,bControl,hittest,from,iLevel,false);}else{hittest.bSet=true;hittest.iLine=$0;}if(hittest.bSet){return;}}}hittest.bChanged=true;}if(!hittest.bSet){var $8=this.getParentRenderer();if($8!=null){$8.upKey(bShift,bControl,hittest,from,iLevel);}}},downKey:function(bShift,bControl,hittest,from,iLevel,bFromChild){this.downKeyTextPara(bShift,bControl,hittest,from,iLevel,bFromChild);},downKeyTextPara:function(bShift,bControl,hittest,from,iLevel,bFromChild){hittest.pos.setMaxLevel(iLevel);var $0=hittest.iLine;if(hittest.bChanged){$0=-1;}if($0===-1){$0=this.getLineFromCursorPos(hittest.pos.getDocPos(iLevel));}if(hittest.bChanged){if(bFromChild){hittest.xOffset+=this.getXOffsetOfLineFromElPos($0,hittest.pos.getDocPos(iLevel).getPos());}if(!!$0||bFromChild){$0=$0+1;}if($0<this.$4.length){var $1=this.$B($0,hittest.xOffset);if($1.getElIndex()>=this.$5.length){$1.setElIndex(this.$5.length-1);$1.setChIndex((hittest.bSelection)?this.$2.getElement(this.$5.length-1).getCharCount():0);}hittest.pos.setEl($1.getElIndex());hittest.pos.setCh($1.getChIndex());var $2=this.$2.getElement($1.getElIndex());if($2.isText()||!$2.getDocCount()){hittest.iLine=$0;hittest.bSet=true;}else{if(($0+1<this.$4.length&&this.$4[$0+1].getElIndex()!==$1.getElIndex())||$0===this.$4.length-1){hittest.bChanged=true;var $3=this.getXOffsetOfLineFromElPos($0,$1);hittest.xOffset-=$3;hittest.iLine=-1;this.$5[$1.getElIndex()].downKey(bShift,bControl,hittest,from,iLevel,false);}else{hittest.bSet=true;hittest.iLine=$0;}if(hittest.bSet){return;}}}}else{if($0+1<this.$4.length){$0++;var $4=this.$B($0,hittest.xOffset);if($4.getElIndex()>=this.$5.length){$4.setElIndex(this.$5.length-1);$4.setChIndex((hittest.bSelection)?this.$2.getElement(this.$5.length-1).getCharCount():0);}hittest.pos.setEl($4.getElIndex());hittest.pos.setCh($4.getChIndex());var $5=this.$2.getElement($4.getElIndex());if($5.isText()||!$5.getDocCount()){hittest.iLine=$0;hittest.bSet=true;}else{if(($0+1<this.$4.length&&this.$4[$0+1].getElIndex()!==$4.getElIndex())||$0===this.$4.length-1){hittest.bChanged=true;var $6=this.getXOffsetOfLineFromElPos($0,$4);hittest.xOffset-=$6;hittest.iLine=-1;this.$5[$4.getElIndex()].downKey(bShift,bControl,hittest,from,iLevel,false);}else{hittest.bSet=true;hittest.iLine=$0;}}if(hittest.bSet){return;}}hittest.bChanged=true;}if(!hittest.bSet){var $7=this.getParentRenderer();if($7!=null){$7.downKey(bShift,bControl,hittest,from,iLevel);}}},mouseDoubleClick:function(hittestfrom,hittestTo){var $0=hittestfrom.iLine;var $1=this.$B($0,hittestfrom.xOffset);var $2=this.$2.getElement($1.getElIndex());var $3=$1.getChIndex();var $4=$3;if($2.isSpace($3)){$3--;$4--;}while($3>0){if($2.isSpace($3-1)){break;}$3--;}hittestfrom.pos.setCh($3);while($4<$2.getCharCount()){if($2.isSpace($4)){break;}$4++;}hittestTo.pos.setCh($4);},$B:function($p0,$p1){var $0=this.$4[$p0];var $1=0;var $2=(($p0+1)<this.$4.length)?this.$4[$p0+1].getElPos():this.getLastPos();var $3=$0.getElIndex();var $4=$0.getChIndex();var $5=$2.getElIndex();var $6=$2.getChIndex();var $7=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.ElPos();var $8=this.$2.getParaProp();if($8!=null){var $9=0;if($8.isBulletApplied()){$9=$8.getBulletWidth();}switch($8.getAlign()){case 2:$1=$0.getWidth()-$0.getContentWidth()+$9;break;case 1:$1=($0.getWidth()-$0.getContentWidth())/2+$9;break;case 0:$1=$9;break;case 3:break;}}for(;$3<=$5;$3++){var $A=this.$2.getElement($3);if($A.isText()){var $B=$A;var $C=$B.getCharProperties();var $D=$B.getCharCount();if($3===$5){$D=$6;}var $E='';var $F=0;var $10=0;for(;$4<$D;$4++){$E+=$B.getChar($4);$F=$C.getStringWidth($E);if($1+$F>$p1){$7.setElIndex($3);$7.setChIndex($4);return $7;}$10=$F;}$1+=$F;}else{var $11=this.$5[$3].getWidth();if($1+$11<$p1){$1+=parseInt($11);}else{$7.setElIndex($3);$7.setChIndex(0);return $7;}}$4=0;}$7.setElIndex($5);$7.setChIndex($6);return $7;},setCaretAt:function(pos,iLine,ren){if(iLine===-1){iLine=this.getLineFromCursorPos(pos.getLastDocPos());if(iLine<this.$4.length-1){if(this.$4[iLine+iLine].getElPos().isEqual(pos.getLastDocPos().getPos())){iLine++;}}}var $0=Math.floor(this.getXOffsetOfLineFromElPos(iLine,pos.getLastDocPos().getPos()));var $1='position : absolute;'+'width : 1px; height : '+this.$4[iLine].getHeight()+'px;'+'background-color : black; top:0px; left :'+$0+'px;z-index:2;';ren.setStyle($1);this.$4[iLine].getRender().append(ren);},correctCursorPos:function(oCurPos){for(var $0=0;$0<this.$2.getElementCount();$0++){var $1=oCurPos.getChIndex();var $2=this.$2.getElement($0);var $3=$2.getCharCount();if($1<=$3){oCurPos.setEl($0);return true;}else{oCurPos.setCh($1-$3);}}return false;},getCharCount:function(){var $0=0;for(var $1=0;$1<this.$2.getElementCount();$1++){$0+=this.$2.getElement($1).getCharCount();}return $0;},getCharCountFromCurPos:function(oCurPos){var $0=0;for(var $1=0;$1<oCurPos.getElIndex();$1++){$0+=this.$2.getElement($1).getCharCount();}$0+=oCurPos.getChIndex();return $0;},isCursorInFirstLine:function(oCurPos){if(this.$4.length===1){return true;}var $0=this.$4[0].getElIndex();var $1=this.$4[1].getChIndex();return oCurPos.getElIndex()===$0&&oCurPos.getChIndex()<$1;},isCursorInLastLine:function(oCurPos){if(this.$4.length===1){return true;}var $0=this.$4.length;var $1=this.$4[$0-1].getElIndex();var $2=this.$4[$0-1].getChIndex();if($1<oCurPos.getElIndex()){return true;}return oCurPos.getElIndex()===$1&&oCurPos.getChIndex()>=$2;},isCursorAtFirstChar:function(oCurPos){if(this.isCursorInFirstLine(oCurPos)){var $0=this.$4[0].getElIndex();if($0<oCurPos.getElIndex()){return !this.$2.getElement(0).getCharCount();}return !oCurPos.getChIndex();}return false;},isCursorAtLastChar:function(oCurPos){var $0=this.$4[this.$4.length-1].getElIndex();if($0<oCurPos.getElIndex()){return true;}return this.isCursorInLastLine(oCurPos)&&oCurPos.getChIndex()===this.$2.getElement($0).getCharCount();}}
Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.ParaPage=function(){this.$3=0;this.$1=0;this.$2=true;this.$4=null;this.bLayout=false;this.bFG=false;this.bBG=false;this.bSel=false;this.$4=[];}
Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.ParaPage.prototype={$0:0,$1:0,$2:false,$3:0,$4:null,$5:null,bLayout:false,bFG:false,bBG:false,bSel:false,getRender:function(){if(this.$5==null){this.$5=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.RenderObject();}return this.$5;},compareClipRects:function(arrRect){return true;},getLine:function(){return this.$3;},setModified:function(){this.$2=true;},isModified:function(){return this.$2;},clearModified:function(){this.$2=false;},layoutInvalidate:function(){this.bLayout=false;this.bFG=false;this.bBG=false;this.bSel=false;},layoutValidate:function(){this.bLayout=true;},layoutValid:function(){return this.bLayout;},fgInvalidate:function(){this.bFG=false;this.bBG=false;this.bSel=false;},fgValidate:function(){this.bFG=true;},fgValid:function(){return this.bFG;},bgInvalidate:function(){this.bBG=false;},bgValidate:function(){this.bBG=true;},bgValid:function(){return this.bBG;},selInvalidate:function(){this.bSel=false;},selValidate:function(){this.bSel=true;},selValid:function(){return this.bSel;},setHeight:function(iHeight){this.$0=iHeight;},getHeight:function(){return this.$0;},getWidth:function(){return this.$1;},setLine:function(iLine){this.$3=iLine;},dispose:function(){if(this.$5!=null){var $0=this.$5.getDom();var $1=$0.parentNode;if($1!=null){$1.removeChild($0);}}}}
Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.RenderArgs=function(){this.$0=[];this.$1=[];}
Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.RenderArgs.prototype={$0:null,$1:null,getSelection:function(){return this.$1;},appendSelection:function(sel){this.$1.add(sel);},clearSelection:function(){this.$1.clear();},removeSelectionRange:function(iIndex,iCount){this.$1.removeRange(iIndex,iCount);}}
Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.RenderObject=function(){this.$0=document.createElement('div');this.$0.style['-webkit-box-sizing']='content-box';this.$0.style['-moz-box-sizing']='content-box';this.$0.style['box-sizing']='content-box';}
Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.RenderObject.prototype={$0:null,setDom:function(dom){this.dispose();dom.style['-webkit-box-sizing']='content-box';dom.style['-moz-box-sizing']='content-box';dom.style['box-sizing']='content-box';this.$0=dom;},getDom:function(){return this.$0;},append:function(r){this.$0.appendChild(r.getDom());},clear:function(){while(this.$0.childNodes!=null&&!!this.$0.childNodes.length){this.$0.removeChild(this.$0.childNodes[0]);}},remove:function(r){r.removeFromParent();},dispose:function(){if(this.$0.parentNode!=null){this.$0.parentNode.removeChild(this.$0);}},setStyle:function(strStyle){this.$0.setAttribute('style',strStyle);},removeFromParent:function(){if(this.$0.parentNode!=null){this.$0.parentNode.removeChild(this.$0);}}}
Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.Selection=function(mainDoc,renderer){this.mainDoc=mainDoc;this.mainRenderer=renderer;this.arrRange=[];}
Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.Selection.prototype={selType:0,arrRange:null,mainDoc:null,mainRenderer:null,clone:function(){var $0=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.Selection(this.mainDoc,this.mainRenderer);$0.set(this.selType,this.arrRange);return $0;},set:function(selType,arrRange){this.selType=selType;this.arrRange=arrRange;},getCharPropertiesForInsertion:function(){var $0=this.arrRange[0].from.clone();var $1=null;var $2=this.getElementFromPos($0);var $3=$2.getParent();var $4=$3.getParent();if($2.isText()&&!!$0.getChIndex()){$1=($2).getCharProperties();}if($1==null){for(var $5=$0.getElIndex()-1;$5>=0;--$5){$2=$3.getElement($5);if($2.isText()){$1=($2).getCharProperties();break;}}}$2=$3.getElement($0.getElIndex());if($1==null&&$2.isText()){$1=($2).getCharProperties();}if($1==null){var $6=$3.getElementCount();for(var $7=$0.getElIndex()+1;$7<$6;++$7){$2=$3.getElement($7);if($2.isText()){$1=($2).getCharProperties();break;}}}return $1;},appendAllPropInSelection:function(mapProps){for(var $0=0;$0<this.arrRange.length;$0++){var $1=this.arrRange[$0];if(0===this.selType){var $2=this.arrRange[$0].from.clone();var $3=this.arrRange[$0].to.clone();var $4=this.getDocFromPos($2);if(!!$3.getChIndex()){$3.setEl($3.getElIndex()+1);$3.setCh(0);}if(!$2.getChIndex()){if($2.getElIndex()>0){$2.setEl($2.getElIndex()-1);}}else{$2.setCh(0);}var $5=$4.getParagraph($2.getParaIndex());if($3.getParaIndex()===$2.getParaIndex()){this.appendPropertiesFromParagraph($5,mapProps,$2.getElIndex(),$3.getElIndex());}else{if(!!$2.getElIndex()){this.appendPropertiesFromParagraph($5,mapProps,$2.getElIndex(),$5.getElementCount());$2.setPara($2.getParaIndex()+1);$2.setEl(0);$2.setCh(0);}$5=$4.getParagraph($3.getParaIndex());if(!!$3.getElIndex()){this.appendPropertiesFromParagraph($5,mapProps,0,$3.getElIndex());}this.appendPropertiesFromDoc($4,mapProps,this.arrRange[$0].from.getParaIndex(),this.arrRange[$0].to.getParaIndex());}}else{var $6=this.arrRange[$0].from.getDocIndex();var $7=this.arrRange[$0].to.getDocIndex();this.appendPropertiesFromElement(this.getElementFromPos(this.arrRange[$0].from),mapProps,$6,$7);}}},appendPropertiesFromDoc:function(doc,mapProps,iFromPara,iToPara){var $0=iFromPara;for(;$0<iToPara;$0++){var $1=doc.getParagraph($0);this.appendPropertiesFromParagraph($1,mapProps,0,$1.getElementCount());}},appendPropertiesFromParagraph:function(para,mapProps,iFromEl,iToEl){var $0=iFromEl;var $1;if(!iFromEl&&iToEl===para.getElementCount()-1){$1=para.getElement(iToEl);if(!$1.getCharCount()){mapProps[$1.getCharProperties().getCacheIndex().toString()]=$1.getCharProperties().getCacheIndex();}}for(;$0<iToEl;$0++){$1=para.getElement($0);if(!!$1.getDocCount()){this.appendPropertiesFromElement($1,mapProps,0,$1.getDocCount());}else if($1.isText()){mapProps[$1.getCharProperties().getCacheIndex().toString()]=$1.getCharProperties().getCacheIndex();}}},appendPropertiesFromElement:function(el,mapProps,iFromDoc,iToDoc){var $0=iFromDoc;for(;$0<iToDoc;$0++){var $1=el.getChildDoc($0);this.appendPropertiesFromDoc($1,mapProps,0,$1.getParagraphCount());}},getDocFromPos:function(pos){var $0=pos.getMaxLevel();return this.getDocFromPosLevel(pos,$0);},getParaFromPos:function(pos){return this.getDocFromPos(pos).getParagraph(pos.getParaIndex());},getElementFromPos:function(pos){return this.getParaFromPos(pos).getElement(pos.getElIndex());},getDocFromPosLevel:function(pos,nLevel){var $0=this.mainDoc;for(var $1=1;$1<=nLevel;++$1){var $2=pos.getDocPos($1-1);var $3=pos.getDocPos($1);$0=$0.getParagraph($2.iPara).getElement($2.elPos.iEl).getChildDoc($3.iDoc);}return $0;},getParaFromPosFromLevel:function(pos,nLevel){return this.getDocFromPosLevel(pos,nLevel).getParagraph(pos.getDocPos(nLevel).iPara);},getElementFromPosFromLevel:function(pos,nLevel){return this.getParaFromPosFromLevel(pos,nLevel).getElement(pos.getDocPos(nLevel).getPos().iEl);},getDocRendererFromPos:function(pos){var $0=pos.getMaxLevel();var $1=this.mainRenderer;for(var $2=1;$2<=$0;++$2){var $3=pos.getDocPos($2-1);var $4=pos.getDocPos($2);$1=$1.getParagraphRenderer($3.iPara).getElementRenderer($3.elPos.iEl).getDocRenderer($4.iDoc);}return $1;},getParaRendererFromPos:function(pos){return this.getDocRendererFromPos(pos).getParagraphRenderer(pos.getParaIndex());},getElementRendererFromPos:function(pos){return this.getParaRendererFromPos(pos).getElementRenderer(pos.getElIndex());},deleteOnInsertion:function(){var $0=null;var $1=this.arrRange[0].bgColor;if(!this.selType){$0=this.arrRange[0].from.clone();this.deleteSelection();}return true;},insertElements:function(elFactory,el,prop){var $0=this.arrRange[0].bgColor;if(!this.deleteOnInsertion()){return;}this.insertNewLineForCtrlEle(elFactory,prop);var $1=this.arrRange[0].from.clone();var $2=this.getParaFromPos($1);var $3=$2.getParent();this.splitElement($1,$2,elFactory);$2.insertElement($1,el);$1.setEl($1.getElIndex()+1);this.setNewCursorPos($1,$0);},insertChar:function(elFactory,ch,prop){var $0=this.arrRange[0].bgColor;if(!this.deleteOnInsertion()){return;}this.insertNewLineForCtrlEle(elFactory,prop);var $1=this.arrRange[0].from;var $2=this.getParaFromPos($1);if(!$1.getChIndex()){var $3=$2.getElement($1.getElIndex());if(!$1.getElIndex()){if($3.isText()&&$1.getElIndex()<$2.getElementCount()-1&&$3.getCharProperties().isEqual(prop)){$3.insertChar($1,ch);$1.setCh(1);}else{var $4=elFactory.createTextElement(prop);$2.insertElement($1,$4);$4.insertChar($1,ch);$1.setCh(1);}}else{var $5=$2.getElement($1.getElIndex()-1);if($5.isText()&&$5.getCharProperties().isEqual(prop)){$1.setEl($1.getElIndex()-1);$1.setCh($5.getCharCount());$5.insertChar($1,ch);$1.setEl($1.getElIndex()+1);$1.setCh(0);}else if($3.isText()&&$1.getElIndex()<$2.getElementCount()-1&&$3.getCharProperties().isEqual(prop)){$3.insertChar($1,ch);$1.setCh(1);}else{var $6=elFactory.createTextElement(prop);$2.insertElement($1,$6);$6.insertChar($1,ch);$1.setCh(1);}}}else{var $7=$2.getElement($1.getElIndex());if($7.getCharProperties().isEqual(prop)){$7.insertChar($1,ch);$1.setCh($1.getChIndex()+1);if($1.getChIndex()===$7.getCharCount()){$1.setEl($1.getElIndex()+1);$1.setCh(0);}}else{this.splitElement($1,$2,elFactory);var $8=elFactory.createTextElement(prop);$2.insertElement($1,$8);$8.insertChar($1,ch);$1.setCh(1);}}this.setNewCursorPos($1,$0);},insertNewLineForCtrlEle:function(elFactory,prop){var $0=this.arrRange[0].from.clone();if($0.getElIndex()>0){$0.setEl($0.getElIndex()-1);}},insertNewLine:function(elFactory,prop){if(!this.selType){var $0=this.arrRange[0].from.clone();var $1=elFactory.createTextElement(prop);$1.insertString('\n');var $2=this.getDocFromPos($0);var $3=this.getParaFromPos($0);$2.splitParagraph($0,elFactory.createEmptyPara());$3.insertElement($0,$1);$0.setPara($0.getParaIndex()+1);$0.setEl(0);$0.setCh(0);this.setNewCursorPos($0,this.arrRange[0].bgColor);}},insertParaBreak:function(elFactory,prop){var $0=this.arrRange[0].from.clone();var $1=this.arrRange[0].bgColor;var $2=this.getDocFromPos($0);if(!this.selType){$0=this.arrRange[0].from.clone();var $3=this.getParaFromPos($0);if(this.isBeforeParaEnd($3,$0)){if(this.arrRange[0].from.isEqual(this.arrRange[0].to)){var $4=$3.getParaProp().clone();if($4.isBulletApplied()&&$3.getElementCount()===1){$4.setBuStartNumber(0);$4.setBulletType(0);$3.setParaProp($0,$4);}else{var $5=elFactory.createTextElement(prop);$5.insertString('\n');$2.splitParagraph($0,elFactory.createEmptyPara());$3.insertElement($0,$5);$0.setPara($0.getParaIndex()+1);$0.setEl(0);$0.setCh(0);}}else{this.arrRange[0].from.setPara($0.getParaIndex()+1);this.arrRange[0].from.setEl(0);this.arrRange[0].from.setCh(0);this.deleteRange(this.arrRange[0]);}}else{if(!$0.isEqual(this.arrRange[0].to)){this.deleteSelection();$0=this.arrRange[0].from.clone();}$3=this.getParaFromPos($0);this.splitElement($0,$3,elFactory);var $6=elFactory.createTextElement(prop);$6.insertString('\n');$2=$3.getParent();$2.splitParagraph($0,elFactory.createEmptyPara());$3.insertElement($0,$6);if($0.getMaxLevel()<this.arrRange[0].from.getMaxLevel()){$0.setPara($0.getParaIndex());}else{$0.setPara($0.getParaIndex()+1);}$0.setEl(0);$0.setCh(0);}}this.setNewCursorPos($0,$1);},pasteDoc:function(elFactory,doc,prop){var $0=this.arrRange[0].bgColor;var $1=this.arrRange[0].from.clone();if(!this.deleteOnInsertion()){return;}var $2=[];var $3=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.CursorPos();$3.setMaxLevel(0);for(var $7=doc.getParagraphCount()-1;$7>=0;--$7){$3.setPara($7);var $8=doc.getParagraph($7);$2.insert(0,$8);}var $4=this.getParaFromPos($1);var $5=$4.getParent();var $6=doc.getParagraph(0);this.splitElement($1,$4,elFactory);if($2[0].hasBreak()){$1.setEl($1.getElIndex());$1.setCh(0);var $9=$1.clone();$5.splitParagraph($1,elFactory.createEmptyPara());$1.setPara($1.getParaIndex()+1);$1.setEl(0);$1.setCh(0);$5.insertParagraphs($1,$2);$5.mergeParagraph($9);$1.setPara($9.getParaIndex()+$2.length-1);$4=$5.getParagraph($1.getParaIndex());$1.setEl($4.getElementCount()-1);$4.deleteElements($1,1);$5.mergeParagraph($1);}else{var $A=[];for(var $B=0;$B<$6.getElementCount()-1;++$B){$A.add($6.getElement($B));}$4.insertElements($1,$A);$1.setEl($1.getElIndex()+$A.length-1);$4.setParaPropWithoutPos($6.getParaProp());}$1=this.arrRange[0].from.clone();for(var $C=0;$C<doc.getTextDecorationCount();$C++){var $D=doc.getTextDecorationAt($C);var $E=$D.getFromDocPos();$E.setPara($E.iPara+$1.getParaIndex());$E.setEl($E.elPos.iEl+$1.getElIndex());var $F=$D.getToDocPos();$F.setPara($F.iPara+$1.getParaIndex());$F.setEl($F.elPos.iEl+$1.getElIndex());$5.addTextDecoration($D);}},$0:function($p0,$p1){var $0=$p0.getDocPos($p1);return !$0.iPara&&!$0.getPos().getElIndex()&&!$0.getPos().getChIndex();},isBeforeParaEnd:function(para,pos){if(para.getElementCount()-1===pos.getElIndex()){return true;}return false;},splitElement:function(from,para,elFactory){if(!!from.getChIndex()){var $0=para.getElement(from.getElIndex());if(from.getChIndex()===$0.getCharCount()){from.setEl(from.getElIndex()+1);from.setCh(0);}if(!!from.getChIndex()){para.splitElement(from,elFactory.createTextElement(null));from.setEl(from.getElIndex()+1);from.setCh(0);}}},setNewCursorPos:function(from,bgColor){this.arrRange.clear();var $0=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.SelectionRange();var $1=this.getElementFromPos(from);if(!!from.getChIndex()){if(from.getChIndex()>=$1.getCharCount()){from.setEl(from.getElIndex()+1);from.setCh(0);}}this.selType=0;$0.set(from,from.clone(),bgColor);this.arrRange.add($0);},notify:function(){if(this.mainRenderer!=null){for(var $0=this.arrRange.length-1;$0>=0;--$0){var $1=this.getDocRendererFromPos(this.arrRange[$0].from);if(this.arrRange[$0].from.getDocIndex()!==this.arrRange[$0].to.getDocIndex()){if($1.getParentRenderer()!=null){$1=$1.getParentRenderer().getParentRenderer().getParentRenderer();}}$1.invalidateSelectionRange(this.arrRange[$0],true);}}},clear:function(){this.notify();this.arrRange.clear();},deleteRange:function(range){var $0=false;var $1=range.from.clone();var $2=range.to.clone();var $3=this.getDocFromPos($1);var $4=$1.getParaIndex();var $5=$2.getParaIndex();var $6=$1.getElIndex();var $7=$2.getElIndex();var $8=$1.getChIndex();var $9=$2.getChIndex();if($4===$5&&$6===$7){if($8!==$9){var $A=$3.getParagraph($4).getElement($6);$A.deleteChars($1,$9-$8);}}else{var $B=$3.getParagraph($4);var $C=$3.getParagraph($5);if(!!$8){var $D=$B.getElement($6);$D.deleteChars($1,$D.getCharCount()-$8);$6++;$8=0;$1.setEl($6);$1.setCh(0);}if(!!$9){var $E=$C.getElement($7);$2.setCh(0);$E.deleteChars($2,$9);$9=0;$2.setCh(0);}if($B===$C){$1.setEl($6);$B.deleteElements($1,$7-$6);}else{if(!!$6){$1.setEl($6);$B.deleteElements($1,$B.getElementCount()-$6);$4++;}if(!!$7){$2.setEl(0);$C.deleteElements($2,$7);}$1.setPara($4);$3.deleteParagraphs($1,$5-$4);$1=range.from.clone();if(!!$6){$3.mergeParagraph($1);}}$1=range.from.clone();$B=$3.getParagraph($1.getParaIndex());$6=$1.getElIndex();$8=$1.getChIndex();if((!!$6||!!$8)&&$6<$B.getElementCount()-1){var $F=$B.getElement($6);if($F.isText()){var $10=null;if(!!$8){if($6+1<$B.getElementCount()-1){$10=$B.getElement($6+1);}}else{if(!!$6){$10=$B.getElement($6-1);$1.setEl($6-1);}}if($10!=null&&$10.isText()){if(($10).getCharProperties().isEqual(($F).getCharProperties())){var $11=$B.getElement($1.getElIndex()).getCharCount();$1.setCh($11);$B.mergeElement($1);$1.setCh($11);$0=true;}}}}}if($0){return $1;}else{return range.from.clone();}},deleteSelection:function(){var $0=this.arrRange[0].bgColor;if(!this.selType){var $1=this.arrRange[0].from.clone();var $2=this.arrRange[0].to.clone();if(!this.arrRange[0].from.isEqual(this.arrRange[0].to)){if($1.getElIndex()>0){$1.setEl($1.getElIndex()-1);}}$1=this.deleteRange(this.arrRange[0]);this.setNewCursorPos($1,$0);}},setParaProperties:function(prop){var $0=this.arrRange.length;for(var $1=0;$1<$0;$1++){if(!this.selType){var $2=this.arrRange[$1].from.clone();var $3=this.arrRange[$1].to.clone();var $4=this.getElementFromPos($2);var $5=0;while($4!=null){$4=$4.getParent().getParent().getParent();$5++;}if($4==null){$2.setMaxLevel(0);$3.setMaxLevel(0);}var $6=this.getDocFromPos($2);var $7=$2.getParaIndex();var $8=$3.getParaIndex();var $9=$6.getParagraph($7);$9.setParaProp($2,prop);$7++;if(!$3.getElIndex()&&!$3.getChIndex()){$8--;}for(var $A=$7;$A<=$8;++$A){$2.setPara($A);$9=$6.getParagraph($A);$9.setParaProp($2,prop);}}}},setCharProperties:function(updateCharProp,elFactory){for(var $0=0;$0<this.arrRange.length;$0++){var $1=this.arrRange[$0].from.clone();var $2=this.arrRange[$0].to.clone();var $3=$1.getElIndex();var $4=$1.getChIndex();var $5=$2.getElIndex();var $6=$2.getChIndex();if(0===this.selType){if($1.isEqual($2)){}else if($1.isEqualTillParaLevel($2,$1.getMaxLevel())){var $7=$1.getMaxLevel();var $8=$2.getMaxLevel();var $9=this.getDocFromPos($1);var $A=$9.getParagraph($1.getParaIndex());if(!!$1.getChIndex()){var $B=$A.getElement($1.getElIndex());if(!updateCharProp.getNewProperty($B.getCharProperties()).isEqual($B.getCharProperties())){$A.splitElement($1,elFactory.createTextElement(null));if($2.getElIndex()===$1.getElIndex()){$2.setEl($2.getElIndex()+1);$2.setCh($2.getChIndex()-$1.getChIndex());$5=$2.getElIndex();$6=$2.getChIndex();}else if($2.getElIndex()>$1.getElIndex()){$2.setEl($2.getElIndex()+1);$5=$2.getElIndex();}$3=$1.getElIndex()+1;$4=0;}$1.setEl($1.getElIndex()+1);$1.setCh(0);}if(!!$2.getChIndex()){var $C=$A.getElement($2.getElIndex());if(!updateCharProp.getNewProperty($C.getCharProperties()).isEqual($C.getCharProperties())){$A.splitElement($2,elFactory.createTextElement(null));$5=$2.getElIndex()+1;$6=0;}$2.setEl($2.getElIndex()+1);$2.setCh(0);}this.paraCharProperties($A,$1,$2.getElIndex(),updateCharProp);this.arrRange[$0].from.setEl($3);this.arrRange[$0].from.setCh($4);this.arrRange[$0].to.setEl($2.getElIndex());this.arrRange[$0].to.setCh($2.getChIndex());}else{var $D=$1.getMaxLevel();var $E=$2.getMaxLevel();var $F=this.getDocFromPos($1);var $10=$F.getParagraph($1.getParaIndex());if(!!$1.getChIndex()){var $13=$10.getElement($1.getElIndex());if(!updateCharProp.getNewProperty($13.getCharProperties()).isEqual($13.getCharProperties())){$10.splitElement($1,elFactory.createTextElement(null));$3=$1.getElIndex()+1;$4=0;}$1.setEl($1.getElIndex()+1);$1.setCh(0);}if(!!$1.getElIndex()){this.paraCharProperties($10,$1,$10.getElementCount(),updateCharProp);$1.setPara($1.getParaIndex()+1);$1.setEl(0);}$10=$F.getParagraph($2.getParaIndex());if(!!$2.getChIndex()){var $14=$10.getElement($2.getElIndex());if(!updateCharProp.getNewProperty($14.getCharProperties()).isEqual($14.getCharProperties())){$10.splitElement($2,elFactory.createTextElement(null));$5=$2.getElIndex()+1;$6=0;}$2.setEl($2.getElIndex()+1);$2.setCh(0);}var $11=$2.getParaIndex()-1;var $12=$2.getElIndex();if($12!==$10.getElementCount()-1){$2.setEl(0);this.paraCharProperties($10,$2,$12,updateCharProp);}else{$11++;}this.docCharProperties($F,$1,$11,updateCharProp);this.arrRange[$0].from.setEl($3);this.arrRange[$0].from.setCh($4);this.arrRange[$0].to.setEl($5);this.arrRange[$0].to.setCh($6);}}}},elementCharProperties:function(el,fromPos,iToDocIndex,updateCharProp){var $0=fromPos.clone();for(var $1=$0.getDocIndex();$1<iToDocIndex;++$1){$0.setDoc($1);var $2=el.getChildDoc($1);this.docCharProperties($2,$0,$2.getParagraphCount()-1,updateCharProp);}},docCharProperties:function(doc,fromPos,iToParaIndex,updateCharProp){var $0=fromPos.clone();var $1=$0.getParaIndex();for(var $2=$1;$2<=iToParaIndex;++$2){var $3=doc.getParagraph($2);$0.setPara($2);$0.setEl(0);this.paraCharProperties($3,$0,$3.getElementCount(),updateCharProp);}},paraCharProperties:function(para,pos,iToEl,updateCharProp){var $0=pos.getElIndex();var $1=$0;if(!$0&&iToEl===para.getElementCount()-1&&!para.getElement(iToEl).getCharCount()){pos.setEl(iToEl);para.changeElementProperty(pos,pos.getMaxLevel(),1,updateCharProp);pos.setEl($0);}for(;$1<iToEl;$1++){pos.setEl($1);var $2=this.getElementFromPos(pos);if(!!$2.getDocCount()){if(!!($1-$0)){pos.setEl($0);para.changeElementProperty(pos,pos.getMaxLevel(),$1-$0,updateCharProp);pos.setEl($1);}$0=$1+1;pos.setMaxLevel(pos.getMaxLevel()+1);this.elementCharProperties($2,pos,$2.getDocCount(),updateCharProp);pos.setMaxLevel(pos.getMaxLevel()-1);}}if(!!($1-$0)){pos.setEl($0);para.changeElementProperty(pos,pos.getMaxLevel(),$1-$0,updateCharProp);}},adjustPos:function(pos){var $0=this.getElementFromPos(pos);if(!!pos.getChIndex()&&$0.getParent().getElementCount()-1!==pos.getElIndex()){if(pos.getChIndex()>=$0.getCharCount()){pos.setEl(pos.getElIndex()+1);pos.setCh(0);}}},expandSelection:function(start,end,key,bgColor){start=start.clone();end=end.clone();var $0=start.getMaxLevel();if($0>end.getMaxLevel()){$0=end.getMaxLevel();}var $1=0;for(;$1<$0;++$1){if(!start.getDocPos($1).isEqual(end.getDocPos($1))){break;}}if(start.isGreater(end)){var $5=start;start=end;end=$5;}this.adjustPos(start);this.adjustPos(end);var $2=null;if(start.isEqual(end)){$2=this.getParaFromPos(start);if(start.getElIndex()===$2.getElementCount()-1&&start.getChIndex()===1){start.setCh(0);}$2=this.getParaFromPos(end);if(end.getElIndex()===$2.getElementCount()-1&&end.getChIndex()===1){end.setCh(0);}}else{if(start.getDocPos($1).iDoc!==end.getDocPos($1).iDoc){var $6=start.clone();$6.setMaxLevel($1-1);var $7=this.getElementFromPos($6);}else{var $8=start.clone();$8.setMaxLevel($1);}if(start.getDocPos($1).iDoc!==end.getDocPos($1).iDoc){var $9=start.clone();$9.setMaxLevel($1-1);var $A=this.getElementFromPos($9);}else{var $B=end.clone();$B.setMaxLevel($1);}$2=this.getParaFromPos(start);if(start.getElIndex()===$2.getElementCount()-1&&start.getChIndex()===1){start.setCh(0);}$2=this.getParaFromPos(end);if(end.getElIndex()===$2.getElementCount()-1&&end.getChIndex()===1){end.setPara(end.getParaIndex()+1);end.setEl(0);end.setCh(0);}}var $3=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.Selection(this.mainDoc,this.mainRenderer);var $4=[];if($1<=$0){if(start.getDocPos($1).iDoc!==end.getDocPos($1).iDoc){var $C=start.clone();$C.setMaxLevel($1-1);var $D=this.getElementFromPos($C);var $E=$C.clone();$E.setEl($E.getElIndex()+1);var $F=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.SelectionRange();$F.set($C,$E,bgColor);$4.add($F);$3.set(0,$4);}else{var $10=start.clone();$10.setMaxLevel($1);var $11=end.clone();$11.setMaxLevel($1);if($11.getMaxLevel()<end.getMaxLevel()){$11.setEl($11.getElIndex()+1);$11.setCh(0);}var $12=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.SelectionRange();$12.set($10,$11,bgColor);$4.add($12);$3.set(0,$4);}}else{var $13=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.SelectionRange();$13.set(start,end,bgColor);$4.add($13);$3.set(0,$4);}return $3;},selectAll:function(bgColor){var $0=[];var $1=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.SelectionRange();var $2=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.CursorPos();$2.setMaxLevel(0);var $3=$2.clone();$3.setPara(this.mainDoc.getParagraphCount()-1);$3.setEl(this.getParaFromPos($3).getElementCount()-1);$3.setCh(0);$1.set($2,$3,bgColor);$0.add($1);var $4=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.Selection(this.mainDoc,this.mainRenderer);$4.set(0,$0);return $4;},setSelection:function(selType,from,to,key,bgColor){from=from.clone();to=to.clone();if(!selType){var $0=this.expandSelection(from,to,key,bgColor);if(!!$0.arrRange.length){this.selType=selType;this.arrRange=$0.arrRange;}}},intersects:function(sel){var $0=false;for(var $1=0;$1<this.arrRange.length;++$1){for(var $2=0;$2<sel.arrRange.length;++$2){if(this.arrRange[$1].intersects(sel.arrRange[$2],sel.selType)){$0=true;}}}return $0;},getCharProperties:function(){var $0=this.arrRange.length;if($0<=0){return null;}var $1=null;for(var $2=0;$2<$0;$2++){var $3=this.arrRange[$2].from.clone();var $4=this.arrRange[$2].to.clone();if(0===this.selType){var $5=this.getDocFromPos($3);var $6=$3.getParaIndex();var $7=$4.getParaIndex();var $8=$3.getElIndex();var $9=$4.getElIndex();var $A=$5.getParagraph($6);$1=this.getParaCharProperties($A,$3,$1,$A.getElementCount());$3.setPara($6+1);$3.setEl(0);$3.setCh(0);$1=this.getDocCharProperties($5,$3,$1,$7);$A=$5.getParagraph($7);$1=this.getParaCharProperties($A,$4,$1,$9);}}return $1;},getElementCharProperties:function(el,from,current,iToDoc){var $0=from.clone();var $1=$0.getDocIndex();for(;$1<=iToDoc;$1++){var $2=el.getChildDoc($1);current=this.getDocCharProperties($2,$0,current,$2.getParagraphCount()-1);}return current;},getDocCharProperties:function(doc,from,current,iToPara){var $0=from.clone();var $1=$0.getParaIndex();for(;$1<=iToPara;$1++){var $2=doc.getParagraph($1);current=this.getParaCharProperties($2,$0,current,$2.getElementCount()-1);}return current;},getParaCharProperties:function(para,from,current,iToEl){var $0=from.clone();var $1=$0.getElIndex();for(;$1<iToEl;$1++){var $2=para.getElement($1);if($2.isText()){var $3=$2;var $4=$3.getCharProperties();current=this.$1(current,$4);}else{var $5=$2.getDocCount();$0.setDoc($0.getDocIndex()+1);current=this.getElementCharProperties($2,$0,current,$5-1);$0.setDoc($0.getDocIndex()-1);}}return current;},$1:function($p0,$p1){if($p1!=null){if($p0==null){$p0=$p1.cloneProperties();}else{$p0=$p0.getCommonProperties($p1);}}return $p0;},getParaProperties:function(){var $0=this.arrRange.length;if($0<=0){return null;}var $1=null;for(var $2=0;$2<$0;++$2){var $3=this.arrRange[$2].from.clone();var $4=this.arrRange[$2].to.clone();if(!this.selType){$3.setMaxLevel(0);$4.setMaxLevel(0);var $5=this.getDocFromPos($3);var $6=$4.getParaIndex();var $7=this.getDocParaProperties($5,$3,$6);$1=this.setCommonParaProperties($1,$7);}}return $1;},getElementParaProperties:function(el,from,iToDoc){var $0=from.clone();var $1=$0.getDocIndex();var $2=null;for(;$1<=iToDoc;$1++){var $3=el.getChildDoc($1);var $4=this.getDocParaProperties($3,$0,$3.getParagraphCount()-1);this.setCommonParaProperties($2,$4);}return $2;},getDocParaProperties:function(doc,from,iToPara){var $0=from.clone();var $1=$0.getParaIndex();var $2=null;for(;$1<=iToPara;$1++){var $3=doc.getParagraph($1);var $4=null;$4=$3.getParaProp();$2=this.setCommonParaProperties($2,$4);}return $2;},setCommonParaProperties:function(retnProp,prop){if(prop!=null){if(retnProp==null){retnProp=prop.clone();}else{retnProp.getCommonProperties(prop);}}return retnProp;},getDocumentProperties:function(){var $0=this.arrRange.length;if($0<=0){return null;}var $1=null;for(var $2=0;$2<$0;++$2){var $3=this.arrRange[$2].from;var $4=this.getDocFromPos($3);var $5=$4.getProp();if($5!=null){if($1==null){$1=$5.clone();}else{$1=$1.getCommonProperties($5);}}}return $1;},selectionFromPos:function(pos){var $0=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.Selection(this.mainDoc,this.mainRenderer);var $1=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.SelectionRange();$1.set(pos,pos,new Kepler.Framework.UI.Color(0,0,0,-1));var $2=[];$2.add($1);$0.set(0,$2);return $0;},paragraphsInserted:function(from,nCount){var $0=from.getMaxLevel();for(var $1=0;$1<this.arrRange.length;++$1){var $2=this.arrRange[$1].from;if($2.isGreater(from)){if($2.isEqualTillDocLevel(from,$0-1)){$2.getDocPos($0-1).iPara+=nCount;}}$2=this.arrRange[$1].to;if($2.isGreater(from)){if($2.isEqualTillDocLevel(from,$0-1)){$2.getDocPos($0-1).iPara+=nCount;}}}},paragraphsDeleted:function(from,nCount){var $0=from.clone();var $1=$0.getLastDocPos();$1.iPara+=nCount;var $2=from.getMaxLevel();for(var $3=0;$3<this.arrRange.length;++$3){var $4=this.arrRange[$3].from;if($4.isGreater(from)&&$4.isLessEqual($0)){this.arrRange[$3].from=from.clone();}else if($4.isGreater($0)){if($4.isEqualTillDocLevel(from,$2-1)){$4.getDocPos($2-1).iPara-=nCount;}}$4=this.arrRange[$3].to;if($4.isGreater(from)&&$4.isLessEqual($0)){this.arrRange[$3].from=from.clone();}else if($4.isGreater($0)){if($4.isEqualTillDocLevel(from,$2-1)){$4.getDocPos($2-1).iPara-=nCount;}}}},paragraphSplit:function(from){var $0=from.getMaxLevel();for(var $1=0;$1<this.arrRange.length;++$1){var $2=this.arrRange[$1].from;if($2.isGreater(from)){if($2.isEqualTillParaLevel(from,$0-1)){$2.getDocPos($0-1).iPara+=1;$2.getDocPos($0-1).elPos.iEl-=from.getDocPos($0-1).elPos.iEl;}else if($2.isEqualTillDocLevel(from,$0-1)){$2.getDocPos($0-1).iPara+=1;}}$2=this.arrRange[$1].to;if($2.isGreater(from)){if($2.isEqualTillParaLevel(from,$0-1)){$2.getDocPos($0-1).iPara+=1;$2.getDocPos($0-1).elPos.iEl-=from.getDocPos($0-1).elPos.iEl;}else if($2.isEqualTillDocLevel(from,$0-1)){$2.getDocPos($0-1).iPara+=1;}}}},paragraphMerged:function(from){var $0=from.clone();var $1=$0.getLastDocPos();$1.iPara+=1;$1.elPos.iEl=0;var $2=from.getMaxLevel();for(var $3=0;$3<this.arrRange.length;++$3){var $4=this.arrRange[$3].from;if($4.isGreaterEqual($0)){if($4.isEqualTillParaLevel(from,$2-1)){$4.getDocPos($2-1).iPara-=1;$4.getDocPos($2-1).elPos.iEl+=from.getDocPos($2-1).elPos.iEl;}else if($4.isEqualTillDocLevel(from,$2-1)){$4.getDocPos($2-1).iPara-=1;}}$4=this.arrRange[$3].to;if($4.isGreaterEqual($0)){if($4.isEqualTillParaLevel(from,$2-1)){$4.getDocPos($2-1).iPara-=1;$4.getDocPos($2-1).elPos.iEl+=from.getDocPos($2-1).elPos.iEl;}else if($4.isEqualTillDocLevel(from,$2-1)){$4.getDocPos($2-1).iPara-=1;}}}},elementsInserted:function(from,nCount){var $0=from.getMaxLevel();for(var $1=0;$1<this.arrRange.length;++$1){var $2=this.arrRange[$1].from;if($2.isGreater(from)){if($2.isEqualTillParaLevel(from,$0-1)){$2.getDocPos($0-1).elPos.iEl+=nCount;}}$2=this.arrRange[$1].to;if($2.isGreater(from)){if($2.isEqualTillParaLevel(from,$0-1)){$2.getDocPos($0-1).elPos.iEl+=nCount;}}}},elementsDeleted:function(from,nCount){var $0=from.clone();var $1=$0.getLastDocPos();$1.elPos.iEl+=nCount;var $2=from.getMaxLevel();for(var $3=0;$3<this.arrRange.length;++$3){var $4=this.arrRange[$3].from;if($4.isGreater(from)&&$4.isLessEqual($0)){this.arrRange[$3].from=from.clone();}else if($4.isGreater($0)){if($4.isEqualTillParaLevel(from,$2-1)){$4.getDocPos($2-1).elPos.iEl-=nCount;}}$4=this.arrRange[$3].to;if($4.isGreater(from)&&$4.isLessEqual($0)){this.arrRange[$3].from=from.clone();}else if($4.isGreater($0)){if($4.isEqualTillParaLevel(from,$2-1)){$4.getDocPos($2-1).elPos.iEl-=nCount;}}}},elementMerged:function(from){var $0=from.clone();var $1=$0.getLastDocPos();$1.elPos.iEl+=1;$1.elPos.iCh=0;var $2=from.getMaxLevel();for(var $3=0;$3<this.arrRange.length;++$3){var $4=this.arrRange[$3].from;if($4.isGreaterEqual($0)){if($4.isEqualTillElLevel(from,$2-1)){$4.getDocPos($2-1).elPos.iEl-=1;$4.getDocPos($2-1).elPos.iCh+=from.getDocPos($2-1).elPos.iCh;}else if($4.isEqualTillParaLevel(from,$2-1)){$4.getDocPos($2-1).elPos.iEl-=1;}}$4=this.arrRange[$3].to;if($4.isGreaterEqual($0)){if($4.isEqualTillElLevel(from,$2-1)){$4.getDocPos($2-1).elPos.iEl-=1;$4.getDocPos($2-1).elPos.iCh+=from.getDocPos($2-1).elPos.iCh;}else if($4.isEqualTillParaLevel(from,$2-1)){$4.getDocPos($2-1).elPos.iEl-=1;}}}},elementSplit:function(from){var $0=from.getMaxLevel();for(var $1=0;$1<this.arrRange.length;++$1){var $2=this.arrRange[$1].from;if($2.isGreaterEqual(from)){if($2.isEqualTillElLevel(from,$0-1)){$2.getDocPos($0-1).elPos.iEl+=1;$2.getDocPos($0-1).elPos.iCh-=from.getDocPos($0-1).elPos.iCh;}else if($2.isEqualTillParaLevel(from,$0-1)){$2.getDocPos($0-1).elPos.iEl+=1;}}$2=this.arrRange[$1].to;if($2.isGreaterEqual(from)){if($2.isEqualTillElLevel(from,$0-1)){$2.getDocPos($0-1).elPos.iEl+=1;$2.getDocPos($0-1).elPos.iCh-=from.getDocPos($0-1).elPos.iCh;}else if($2.isEqualTillParaLevel(from,$0-1)){$2.getDocPos($0-1).elPos.iEl+=1;}}}},charactersInserted:function(from,nCount){var $0=from.getMaxLevel();for(var $1=0;$1<this.arrRange.length;++$1){var $2=this.arrRange[$1].from;if($2.isGreater(from)){if($2.isEqualTillElLevel(from,$0-1)){$2.getDocPos($0-1).elPos.iCh+=nCount;}}$2=this.arrRange[$1].to;if($2.isGreater(from)){if($2.isEqualTillElLevel(from,$0-1)){$2.getDocPos($0-1).elPos.iCh+=nCount;}}}},charactersDeleted:function(from,nCount){var $0=from.clone();var $1=$0.getLastDocPos();$1.elPos.iCh+=nCount;var $2=from.getMaxLevel();for(var $3=0;$3<this.arrRange.length;++$3){var $4=this.arrRange[$3].from;if($4.isGreater(from)&&$4.isLessEqual($0)){this.arrRange[$3].from=from.clone();}else if($4.isGreater($0)){if($4.isEqualTillElLevel(from,$2-1)){$4.getDocPos($2-1).elPos.iCh-=nCount;}}$4=this.arrRange[$3].to;if($4.isGreater(from)&&$4.isLessEqual($0)){this.arrRange[$3].from=from.clone();}else if($4.isGreater($0)){if($4.isEqualTillElLevel(from,$2-1)){$4.getDocPos($2-1).elPos.iCh-=nCount;}}}},backspaceKey:function(){var $0=this.arrRange[0].from.clone();var $1=this.getElementFromPos($0);var $2=$1.getParent();var $3=$2.getParent();var $4=null;if($0.getParaIndex()>0){$4=$3.getParagraph($0.getParaIndex()-1);}if(!$0.getChIndex()&&!$0.getElIndex()){var $5=$2.getParaProp();if($5!=null&&$5.isBulletApplied()&&($5.getStartNumber()!==-1||($5.getStartNumber()===-1&&($2.getElementCount()===1||$4==null)))){if($5.getStartNumber()===-1){$5.setBuStartNumber(0);$5.setBulletType(0);$2.setParaProp($0,$5);}else{$5.setBuStartNumber(-1);$2.setParaProp($0,$5);}}else if($4!=null){var $6=$4.getElementCount();var $7=1;$0.setPara($0.getParaIndex()-1);$0.setEl($4.getElementCount()-$7);$0.setCh(0);$4.deleteElements($0,$7);$3.mergeParagraph($0);}}else if(!!$0.getChIndex()){$0.setCh($0.getChIndex()-1);var $8=$1;$8.deleteChars($0,1);}else{$0.setEl($0.getElIndex()-1);var $9=$2.getElement($0.getElIndex());if($9.isText()){$0.setCh($9.getCharCount()-1);var $A=$9;$A.deleteChars($0,1);if(!$A.getCharCount()){$2.deleteElements($0,1);}}else{$0.setCh(0);$2.deleteElements($0,1);}}this.setNewCursorPos($0,this.arrRange[0].bgColor);},deleteKey:function(){var $0=this.arrRange[0].from.clone();var $1=this.getElementFromPos($0);var $2=$1.getParent();var $3=$2.getParent();var $4=null;if($0.getParaIndex()<$3.getParagraphCount()-1){$4=$3.getParagraph($0.getParaIndex()+1);}if($1.isText()){if(!$1.getCharCount()){return;}if($0.getElIndex()===$2.getElementCount()-1){if(!$0.getElIndex()){$3.deleteParagraphs($0,1);}else{if($4!=null){if($0.getElIndex()>0){var $5=$0.clone();$5.setEl($5.getElIndex()-1);$5.setCh(0);}$2.deleteElements($0,1);$3.mergeParagraph($0);}else{$2.deleteElements($0,1);$3.mergeParagraph($0);}}}else{var $6=$1;$6.deleteChars($0,1);if(!$6.getCharCount()){$2.deleteElements($0,1);}}}else{$2.deleteElements($0,1);}this.setNewCursorPos($0,this.arrRange[0].bgColor);},homeKey:function(bShift,bControl,hittest,from){var $0=hittest.pos.clone();var $1=$0.getMaxLevel();hittest.pos=$0;var $2=this.getDocRendererFromPos($0);$2.homeKey(bShift,bControl,hittest,$0.clone(),$1);},endKey:function(bShift,bControl,hittest,from){var $0=hittest.pos.clone();var $1=$0.getMaxLevel();hittest.pos=$0;var $2=this.getDocRendererFromPos($0);$2.endKey(bShift,bControl,hittest,$0.clone(),$1);},rightKey:function(bShift,bControl,hittest,from){var $0=hittest.pos.clone();var $1=$0.getMaxLevel();if(bShift){if(!this.selType){while(!from.isEqualTillDocLevel(hittest.pos,$1)){$1--;}}}$0.setMaxLevel($1);hittest.pos=$0;var $2=this.getDocRendererFromPos($0);$2.rightKey(bShift,bControl,hittest,$0.clone(),$1);if(hittest.bSet){return;}},leftKey:function(bShift,bControl,hittest,from){var $0=hittest.pos.clone();var $1=$0.getMaxLevel();if(bShift){while(!from.isEqualTillDocLevel(hittest.pos,$1)){$1--;}}$0.setMaxLevel($1);hittest.pos=$0;var $2=this.getDocRendererFromPos($0);$2.leftKey(bShift,bControl,hittest,$0.clone(),$1);if(hittest.bSet){return;}},upKey:function(bShift,bControl,hittest,from){var $0=hittest.pos.clone();var $1=$0.getMaxLevel();if(bShift){if(!this.selType){while(!from.isEqualTillDocLevel(hittest.pos,$1)){$1--;$0.setMaxLevel($1);var $3=this.getParaRendererFromPos($0);var $4=$3.getLineFromCursorPos($0.getLastDocPos());hittest.xOffset+=$3.getXOffsetOfLineFromElPos($4,$0.getLastDocPos().getPos());hittest.bChanged=true;}}}$0.setMaxLevel($1);hittest.pos=$0;var $2=this.getDocRendererFromPos($0);$2.upKey(bShift,bControl,hittest,$0.clone(),$1);if(hittest.bSet){return;}},downKey:function(bShift,bControl,hittest,from){var $0=hittest.pos.clone();var $1=$0.getMaxLevel();if(bShift){if(!this.selType){while(!from.isEqualTillDocLevel(hittest.pos,$1)){$1--;$0.setMaxLevel($1);var $3=this.getParaRendererFromPos($0);var $4=$3.getLineFromCursorPos($0.getLastDocPos());hittest.xOffset+=$3.getXOffsetOfLineFromElPos($4,$0.getLastDocPos().getPos());hittest.bChanged=true;}}}$0.setMaxLevel($1);hittest.pos=$0;var $2=this.getDocRendererFromPos($0);$2.downKey(bShift,bControl,hittest,$0.clone(),$1);if(hittest.bSet){return;}},mouseDoubleClick:function(hittestFrom,hittestTo){var $0=this.getDocRendererFromPos(hittestFrom.pos);$0.mouseDoubleClick(hittestFrom,hittestTo);},$2:function(){var $0=this.arrRange[0].from;var $1=this.getParaRendererFromPos($0);return $1.getLineFromCursorPos($0.getLastDocPos());}}
Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.SelectionRange=function(){this.from=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.CursorPos();this.to=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.CursorPos();this.bgColor=new Kepler.Framework.UI.Color(255,255,255,-1);}
Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.SelectionRange.prototype={from:null,to:null,bgColor:null,clone:function(){var $0=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.SelectionRange();$0.set(this.from.clone(),this.to.clone(),this.bgColor.clone());return $0;},set:function(from,to,bgColor){this.from=from;this.to=to;this.bgColor=bgColor;},intersects:function(selRange,selType){var $0=this.from;var $1=this.to;if($0.isGreater($1)){$1=$0;$0=this.to;}var $2=selRange.from;var $3=selRange.to;if($2.isGreater($3)){$3=$2;$2=this.to;}if($0.isGreater($3)){if($0.getMaxLevel()!==$3.getMaxLevel()){var $4=($0.getMaxLevel()<$3.getMaxLevel())?$0.getMaxLevel():$3.getMaxLevel();if($0.getDocPos($4).isEqual($3.getDocPos($4))){return true;}}else if($0.getMaxLevel()===$3.getMaxLevel()){var $5=$0.getMaxLevel();if($0.getLastDocPos().iDoc===$3.getLastDocPos().iDoc){return true;}}return false;}else if($2.isGreater($1)){if($2.getMaxLevel()!==$1.getMaxLevel()){var $6=($2.getMaxLevel()<$1.getMaxLevel())?$2.getMaxLevel():$1.getMaxLevel();if($2.getDocPos($6).isEqual($1.getDocPos($6))){return true;}}return false;}return true;}}
Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.TextDecoration=function(color){this.color=color;this.iIndex=0;}
Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.TextDecoration.prototype={fromDocPos:null,toDocPos:null,iType:0,color:null,iIndex:0,getColor:function(){return this.color;},getTextDecorationType:function(){return this.iType;},getFromDocPos:function(){return this.fromDocPos;},getToDocPos:function(){return this.toDocPos;},setTextDecorationType:function(iType){this.iType=iType;},setFromDocPos:function(dPos){this.fromDocPos=dPos;},setToDocPos:function(dPos){this.toDocPos=dPos;},setIndex:function(iIndex){this.iIndex=iIndex;},getIndex:function(){return this.iIndex;},serializeStartTag:function(arrResources,index){return null;},serializeEndTag:function(arrResources,index){return null;}}
Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.TextElement=function(prop){Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.TextElement.initializeBase(this);this.strText='';this.prop=prop;}
Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.TextElement.prototype={strText:null,prop:null,clone:function(elFactory){var $0=elFactory.createTextElement(this.prop);$0.insertString(this.strText);return $0;},getElementType:function(){return 0;},isText:function(){return true;},insertChars:function(pos,arrChar){this.strText=this.strText.insert(pos.getChIndex(),arrChar.join(''));if(this.parent!=null){this.parent.charsInserted(pos,arrChar.length);}},insertChar:function(pos,ch){this.strText=this.strText.insert(pos.getChIndex(),ch.toString());if(this.parent!=null){this.parent.charsInserted(pos,1);}},deleteChars:function(pos,nCount){this.strText=this.strText.remove(pos.getChIndex(),nCount);if(this.parent!=null){this.parent.charsDeleted(pos,nCount);}},merge:function(element){var $0=element;this.strText+=$0.strText;$0.strText.remove(0,$0.strText.length);},split:function(pos,el){el.strText=this.strText.substr(pos.getChIndex());this.strText=this.strText.remove(pos.getChIndex());},isBreak:function(){return ((this.getChar(0)==='\n')?true:false);},getCharCount:function(){return this.strText.length;},getChar:function(index){return this.strText.charAt(index);},getCharProperties:function(){return this.prop;},isSpace:function(iIndex){if(this.getChar(iIndex).toString()===String.fromCharCode(160)||this.getChar(iIndex).toString()==='\n'){return true;}return false;},isHyphen:function(iIndex){if(Kepler.Framework.Core.Browser.BrowserCapabilities.get_deviceType()===5||Kepler.Framework.Core.Browser.BrowserCapabilities.get_deviceType()===6||Kepler.Framework.Core.Browser.BrowserCapabilities.get_deviceType()===2){if(Kepler.Framework.Core.Browser.BrowserCapabilities.get_version()<5){if(this.getChar(iIndex).toString()==='-'){return true;}}}else if(Kepler.Framework.Core.Browser.BrowserCapabilities.get_name()===1){if(this.getChar(iIndex).toString()==='-'){return true;}}return false;},getText:function(){return this.strText;},getTextFromIndex:function(iFrom,iTo){return this.strText.substring(iFrom,iTo);},getStyle:function(){return this.prop.getStyle();},getAscent:function(){return this.prop.getAscent();},getDescent:function(){return this.prop.getDescent();},setProperty:function(prop){if(prop!=null){this.prop=prop;}},insertString:function(strText){this.strText=strText;}}
Type.registerNamespace('Kepler.Engine.UI.Controls.Tooltip');Kepler.Engine.UI.Controls.Tooltip.ETooltipTypes=function(){};Kepler.Engine.UI.Controls.Tooltip.ETooltipTypes.prototype = {INVALID:-1,simplE_DESCR:0,heaD_DESCR:1,heaD_DESCR_HELP:2,heaD_DESCR_IMAGE:3,heaD_DESCR_IMAGE_HELP:4,simplE_DESCR_MULTILINE:5,griD_TOOLTIP:12,simplE_DESCR_DIALOG_FRAME:14,heaD_DESCR_POWERVIEW:15,heaD_DESCR_POWERPIVOT:16,actionablE_IMG:17,actionablE_SCALE:18,qaT_CHARTS:19,datA_ANALYSIS:20,metrO_SIMPLE_DESCR:21,simplE_DESCR_AUTO_WRAP_MULTILINE:22}
Kepler.Engine.UI.Controls.Tooltip.ETooltipTypes.registerEnum('Kepler.Engine.UI.Controls.Tooltip.ETooltipTypes',false);Kepler.Engine.UI.Controls.Tooltip.Tooltip_Params=function(eType,strTextualData,strImageCls,iHighlight){this._eType=eType;this._strTextualData=strTextualData;this._strImageCls=strImageCls;this._elemScalable=null;this._fScaleFactor=1;this._iHighlight=(ss.isValue(iHighlight))?iHighlight:0;}
Kepler.Engine.UI.Controls.Tooltip.Tooltip_Params.prototype={_strTextualData:null,_strImageCls:null,_eType:0,_elemScalable:null,_fScaleFactor:0,_iHighlight:0,clone:function(){return new Kepler.Engine.UI.Controls.Tooltip.Tooltip_Params(this._eType,this._strTextualData,this._strImageCls);}}
Kepler.Engine.UI.Controls.Tooltip.TooltipLaunch_Params=function(tooltipParams,bShowImmediate,point,bAutoHide,iId,oLaunchFrom,bIsSetAriaAttribute){this.$0=tooltipParams;this._bShowImmediate=bShowImmediate;this._ptLaunch=point;this._bAutoHide=(ss.isNullOrUndefined(bAutoHide))?false:bAutoHide;this._iId=(ss.isNullOrUndefined(iId))?-1:iId;this._oLaunchFrom=(ss.isNullOrUndefined(oLaunchFrom))?null:oLaunchFrom;this.$1=(ss.isNullOrUndefined(bIsSetAriaAttribute))?false:bIsSetAriaAttribute;}
Kepler.Engine.UI.Controls.Tooltip.TooltipLaunch_Params.prototype={$0:null,get_ttParams:function(){return this.$0;},_bShowImmediate:false,_ptLaunch:null,_bAutoHide:false,_iId:0,_oLaunchFrom:null,$1:false,get_isSetAriaAttribute:function(){return this.$1;},set_isSetAriaAttribute:function(value){this.$1=value;return value;}}
Kepler.Engine.UI.Controls.Tooltip.Tooltip=function(strHtml){this.$61=new Kepler.Framework.UI.Color(148,154,165);this.$62=new Kepler.Framework.UI.Color(76,76,76);this.$63=new Kepler.Framework.UI.Color(175,175,175);this.$67=new RegExp('\\<[^\\>]*\\>');Kepler.Engine.UI.Controls.Tooltip.Tooltip.initializeBase(this,['span',' tooltip '+' position_absolute']);this.setHtml(strHtml);this.set_zIndex(8001);this.set_position(new Kepler.Framework.UI.Point(0,0));this.$64=new Kepler.Framework.Core.Timers.Timer(ss.Delegate.create(this,this.onTimerTooltip),1000);}
Kepler.Engine.UI.Controls.Tooltip.Tooltip.prototype={$64:null,$65:null,get_tooltipLaunchParams:function(){return this.$65;},$66:null,get_ariaSpeech:function(){if(ss.isValue(this.$65)){var $0=this.$65.get_ttParams()._strTextualData;if(!String.isNullOrEmpty($0)){$0=$0.replaceAll('\u017d',' ');$0=$0.replaceAll('(','');$0=$0.replaceAll(')','');while($0.search(this.$67)!==-1){$0=$0.replace(this.$67,'');}return $0;}}return Kepler.Engine.UI.Controls.Tooltip.Tooltip.callBaseMethod(this, 'get_ariaSpeech');},set_ariaSpeech:function(value){Kepler.Engine.UI.Controls.Tooltip.Tooltip.callBaseMethod(this, 'set_ariaSpeech',[value]);return value;},get_ariaRole:function(){return 'tooltip';},set_ariaRole:function(value){Kepler.Engine.UI.Controls.Tooltip.Tooltip.callBaseMethod(this, 'set_ariaRole',[value]);return value;},onLoad:function(){Kepler.Engine.UI.Controls.Tooltip.Tooltip.callBaseMethod(this, 'onLoad');this.$69();this.$68();},$68:function(){this.addEvents(2|8|4|128|1|64);},$69:function(){this.attachMessage('SetText',ss.Delegate.create(this,this.$6A));},$6A:function($p0,$p1){var $0=this.get_element().firstChild;if(ss.isValue($0)){$0.innerHTML=$p0;}return null;},$6B:function($p0){this.$65=$p0;var $0=this.$65.get_ttParams();if(!this.$65._bShowImmediate){this.$64.start();}else{this.$6C();}},$6C:function(){this.removeCssClass(' display_none');Kepler.Engine.UI.Helper.HtmlCssHelper.refreshDOM();var $0=this.$65._ptLaunch;if(ss.isNullOrUndefined($0)){var $5=Framework.UI.Events.EventDispatcher.getEventArgs(4);$0=new Kepler.Framework.UI.Point($5.get_clientX(),$5.get_clientY()+20);}var $1=this.$65.get_ttParams()._eType;var $2=this.$65.get_ttParams()._strTextualData;var $3=this.$65.get_ttParams()._strImageCls;var $4=null;switch($1){case -1:break;case 12:this.$74();$0.set_y($0.get_y()-(15+4));$4=$0;this.set_height(15);this.get_elementStyle().width='';var $6=document.createElement('span');$6.className='tooltip_normal_text '+'tooltip_singleline_desc '+'tooltip_grid';$6.innerHTML=$2;$6.style.height=15+'px';this.get_element().appendChild($6);break;case 1:case 2:this.$74();this.set_width(234);var $7=this.$65.get_ttParams()._strTextualData.split('\u017d');var $8=$7[0];var $9=$7[1];var $A=0;$A=this.$6D($A+8,$8);$A=this.$6E($A+11,$9);if($1===2){$A=this.$6F($A+6);this.$72(11,$A+7,'tooltip_help_icon ');$A=this.$70($A+7,'Tell me more');}$A+=5;this.set_height($A);var $B=Kepler.Engine.UI.Helper.CalcHelper.getSuggestedLaunchRect(new Kepler.Engine.UI.Helper.LaunchParams(null,new Kepler.Framework.UI.Rect($0.get_x(),$0.get_y(),1,1),null,this.get_size()));$4=new Kepler.Framework.UI.Point($B.get_left(),$B.get_top());break;case 3:case 4:this.$74();this.set_width(321);var $C=this.$65.get_ttParams()._strTextualData.split('\u017d');var $D=$C[0];var $E=$C[1];var $F=0;$F=this.$6D($F+8,$D);var $10=this.$6E($F+Kepler.Engine.UI.Controls.Tooltip.Tooltip.$57,$E,119);var $11=this.$73(10,$F+7,$3);$F=Math.max($10,$11);if($1===4){$F=this.$6F($F+6);this.$72(11,$F+7,'tooltip_help_icon ');$F=this.$70($F+7,'Tell me more');}$F+=5+3;this.set_height($F);var $12=Kepler.Engine.UI.Helper.CalcHelper.getSuggestedLaunchRect(new Kepler.Engine.UI.Helper.LaunchParams(null,new Kepler.Framework.UI.Rect($0.get_x(),$0.get_y(),1,1),null,this.get_size()));$4=new Kepler.Framework.UI.Point($12.get_left(),$12.get_top());break;case 0:case 14:case 5:this.$74();var $13=document.createElement('span');$13.innerHTML=$2;$13.style.left=4+'px';$13.style.whiteSpace='nowrap';var $14='tooltip_normal_text ';if($1===14){$14+='tooltip_dialog_frame_buttons ';}$13.className=$14;this.get_element().appendChild($13);this.set_width(Kepler.Engine.UI.Helper.HtmlCssHelper.getComputedWidth($13)+(4*2));this.set_height(Kepler.Engine.UI.Helper.HtmlCssHelper.getComputedHeight($13));var $15=Kepler.Engine.UI.Helper.CalcHelper.getSuggestedLaunchRect(new Kepler.Engine.UI.Helper.LaunchParams(null,new Kepler.Framework.UI.Rect($0.get_x(),$0.get_y(),1,1),null,this.get_size()));$4=new Kepler.Framework.UI.Point($15.get_left(),$15.get_top());break;case 21:this.$74();var $16=document.createElement('span');$16.innerHTML=$2;$16.style.whiteSpace='nowrap';$16.className='tooltip_metro_normal_text';this.get_element().appendChild($16);this.set_width(Kepler.Engine.UI.Helper.HtmlCssHelper.getComputedWidth($16)+(4*2)+13);this.set_height(27);this.get_elementStyle().border='2px solid #808080';this.get_elementStyle().display='table';var $17=Framework.UI.Events.EventDispatcher.getEventArgs(4);$0=new Kepler.Framework.UI.Point($17.get_clientX(),$17.get_clientY());var $18=$0.get_x()-(this.get_width()/2);var $19=$0.get_y()-40;$4=new Kepler.Framework.UI.Point($18,$19);break;case 22:this.$74();var $1A=document.createElement('span');$1A.innerHTML=$2;$1A.style.left=4+'px';$1A.style.maxWidth=Kepler.Framework.Core.Modules.FrameworkModule.get_instance().get_uiManager().get_clientRect().get_width()-20+'px';$1A.style.height='auto';$1A.style.wordWrap='break-word';var $1B='tooltip_normal_text ';$1A.className=$1B;this.get_element().appendChild($1A);this.set_width(Kepler.Engine.UI.Helper.HtmlCssHelper.getComputedWidth($1A)+(4*2));this.set_height(Kepler.Engine.UI.Helper.HtmlCssHelper.getComputedHeight($1A));var $1C=Kepler.Engine.UI.Helper.CalcHelper.getSuggestedLaunchRect(new Kepler.Engine.UI.Helper.LaunchParams(null,new Kepler.Framework.UI.Rect($0.get_x(),$0.get_y(),1,1),null,this.get_size()));$4=new Kepler.Framework.UI.Point($1C.get_left(),$1C.get_top());break;case 15:case 16:case 20:this.$74();this.set_width(234);var $1D=this.$65.get_ttParams()._strTextualData.split('\u017d');var $1E=$1D[0];var $1F=$1D[1];var $20=0;$20=this.$6D($20+8,$1E);$20=this.$6E($20+11,$1F);$20=this.$6F($20+6);this.$72(11,$20+7,'tooltip_powerview_help_icon ');var $21='';switch($1){case 15:$21='Power View';break;case 16:$21='Microsoft Office PowerPivot For Excel 2013';break;case 20:$21='FUNCRES';break;}$20=this.$70($20+7,$21);$20=this.$71($20+8,'Tell me more');$20+=5;this.set_height($20);var $22=Kepler.Engine.UI.Helper.CalcHelper.getSuggestedLaunchRect(new Kepler.Engine.UI.Helper.LaunchParams(null,new Kepler.Framework.UI.Rect($0.get_x(),$0.get_y(),1,1),null,this.get_size()));$4=new Kepler.Framework.UI.Point($22.get_left(),$22.get_top());break;case 17:this.$74();this.$66=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientRect(this.$65.get_ttParams()._elemScalable);var $23=document.createElement('span');$23.style.position='absolute';$23.className=this.$65.get_ttParams()._strImageCls;this.get_element().appendChild($23);var $24=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientRect($23);var $25=$24.get_width()+2;var $26=$24.get_height()+2;var $27=(($25-this.$66.get_width())/2);var $28=(($26-this.$66.get_height())/2);this.set_width($25);this.set_height($26);$0=new Kepler.Framework.UI.Point(this.$66.get_left()-$27,this.$66.get_top()-$28);var $29=Kepler.Engine.UI.Helper.CalcHelper.getSuggestedLaunchRect(new Kepler.Engine.UI.Helper.LaunchParams(null,new Kepler.Framework.UI.Rect($0.get_x(),$0.get_y(),1,1),null,this.get_size()));$4=new Kepler.Framework.UI.Point($29.get_left(),$29.get_top());break;case 18:this.$74();var $2A=this.$65.get_ttParams()._fScaleFactor;var $2B=this.$65.get_ttParams()._elemScalable;this.$66=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientRect($2B);var $2C=parseInt((this.$66.get_width()*$2A).toString(),10);var $2D=parseInt((this.$66.get_height()*$2A).toString(),10);var $2E=(($2C-this.$66.get_width())/2);var $2F=(($2D-this.$66.get_height())/2);$0=new Kepler.Framework.UI.Point(this.$66.get_left()-$2E,this.$66.get_top()-$2F);$2B=$2B.cloneNode(true);$2B.style['-webkit-transform']='scale('+$2A+')';$2B.style.left=$2E+'px';$2B.style.top=$2F+'px';this.get_element().appendChild($2B);this.set_width($2C);this.set_height($2D);var $30=Kepler.Engine.UI.Helper.CalcHelper.getSuggestedLaunchRect(new Kepler.Engine.UI.Helper.LaunchParams(null,new Kepler.Framework.UI.Rect($0.get_x(),$0.get_y(),1,1),null,this.get_size()));$4=new Kepler.Framework.UI.Point($30.get_left(),$30.get_top());break;case 19:this.$74();this.$66=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientRect(this.$65.get_ttParams()._elemScalable);var $31=15;this.$66.set_width(this.$66.get_width()+2);this.$66.set_height(this.$66.get_height()+2);this.$66.set_top(this.$66.get_top()-($31/2));this.$66.set_height(this.$66.get_height()+$31);var $32=document.createElement('span');$32.style.position='absolute';$32.className=this.$65.get_ttParams()._strImageCls;this.get_element().appendChild($32);this.get_elementStyle().borderColor=Kepler.Framework.UI.ThemeDetails.get_currentTheme().get_colorNormal();this.get_elementStyle().padding='12px';var $33=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientRect($32);this.set_width($33.get_width()+2);this.set_height($33.get_height()+2);$33=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientRect(this.get_element());var $34=new Kepler.Framework.UI.Size($33.get_width(),$33.get_height());var $35=new Kepler.Engine.UI.Helper.LaunchParams(null,this.$66,null,$34);$35.clearPositioningOrder();$35.setPositioningOrder(10);var $36=Kepler.Engine.UI.Helper.CalcHelper.getSuggestedLaunchRect($35);$4=new Kepler.Framework.UI.Point($36.get_left(),$36.get_top());break;default:break;}this.set_position($4);if(this.$65.get_ttParams()._iHighlight>0){this.addCssClass('tooltip_visual_hint ');}else{this.removeCssClass('tooltip_visual_hint ');}if(this.$65.get_isSetAriaAttribute()&&Kepler.Framework.Accessibility.AccessibilitySupport.get_instance().get_isAccessibilityOn()){this.setAriaAttributes();}this.displayTooltip(true);},$6D:function($p0,$p1){var $0=document.createElement('span');$0.style.position='absolute';$0.style.top=$p0+'px';$0.style.left=11+'px';$0.style.whiteSpace='nowrap';$0.className='tooltip_bold_text';$0.innerHTML=$p1;this.get_element().appendChild($0);var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getComputedWidth($0);if($1>=(this.get_width()-(2*11))){this.set_width($1+(2*11));}$p0+=Kepler.Engine.UI.Helper.HtmlCssHelper.getComputedHeight($0);return $p0;},$6E:function($p0,$p1,$p2){$p2=(ss.isValue($p2))?$p2:11;var $0=document.createElement('span');$0.style.position='absolute';$0.style.top=$p0+'px';$0.style.left=$p2+'px';$0.style.right=11+'px';$0.className='tooltip_normal_text ';$0.innerHTML=$p1;this.get_element().appendChild($0);$p0+=Kepler.Engine.UI.Helper.HtmlCssHelper.getComputedHeight($0);return $p0;},$6F:function($p0){var $0=document.createElement('span');$0.style.left=4+'px';$0.style.top=$p0+'px';$0.style.right=4+'px';$0.style.height=1+'px';$0.className='tooltip_help_seperator ';this.get_element().appendChild($0);$p0+=1;return $p0;},$70:function($p0,$p1){var $0=document.createElement('span');$0.style.left=33+'px';$0.style.top=$p0+'px';$0.style.right=4+'px';$0.style.lineHeight=15+'px';$0.className='tooltip_help_text ';$0.innerHTML=$p1;this.get_element().appendChild($0);$p0+=Kepler.Engine.UI.Helper.HtmlCssHelper.getComputedHeight($0);return $p0;},$71:function($p0,$p1){var $0=document.createElement('span');$0.style.left=33+'px';$0.style.top=$p0+'px';$0.style.right=4+'px';$0.style.fontWeight='normal';$0.className='tooltip_help_text ';$0.innerHTML=$p1;this.get_element().appendChild($0);$p0+=Kepler.Engine.UI.Helper.HtmlCssHelper.getComputedHeight($0);return $p0;},$72:function($p0,$p1,$p2){var $0=document.createElement('span');$0.style.left=$p0+'px';$0.style.top=$p1+'px';$0.style.width='16px';$0.style.height='16px';$0.className=$p2+'class_ImgPath_Arrow '+' position_absolute';this.get_element().appendChild($0);},$73:function($p0,$p1,$p2){var $0=document.createElement('span');$0.style.left=$p0+'px';$0.style.top=$p1+'px';$0.className=$p2+' position_absolute';this.get_element().appendChild($0);$p1+=Kepler.Engine.UI.Helper.HtmlCssHelper.getComputedHeight($0);return $p1;},$74:function(){Kepler.Engine.UI.Helper.HtmlCssHelper.flushElement(this.get_element());this.$66=null;},displayTooltip:function(bShow){if(!bShow){this.$75();}this.show(bShow);this.$64.stop();},$75:function(){this.addCssClass(' display_none');this.removeCssClass('tooltip_visual_hint ');this.set_width(0);this.set_height(0);if(ss.isNullOrUndefined(this.$65)||ss.isNullOrUndefined(this.$65.get_ttParams())){return;}switch(this.$65.get_ttParams()._eType){case 19:this.get_elementStyle().borderColor='';this.get_elementStyle().padding='';break;case 21:this.get_elementStyle().display='';this.get_elementStyle().border='';break;default:break;}},onTimerTooltip:function(){this.$6C();},onMouseMove:function(evt){if(Kepler.Engine.UI.Controls.Tooltip.TooltipManager.isActionableTooltip()){if(!this.$66.isPtInRect(evt.get_clientX(),evt.get_clientY())){(this.get_parent()).hideTooltip();}}},onLButtonDown:function(evt){if(Kepler.Engine.UI.Controls.Tooltip.TooltipManager.isActionableTooltip()){evt.initDomEventArgs(this.$65.get_ttParams()._elemScalable,evt.get_event());Framework.UI.Events.EventDispatcher.processMouseEvent(evt);}},onLButtonUp:function(evt){if(Kepler.Engine.UI.Controls.Tooltip.TooltipManager.isActionableTooltip()){evt.initDomEventArgs(this.$65.get_ttParams()._elemScalable,evt.get_event());Framework.UI.Events.EventDispatcher.processMouseEvent(evt);}},onMouseWheel:function(evt){if(Kepler.Engine.UI.Controls.Tooltip.TooltipManager.isActionableTooltip()){(this.get_parent()).hideTooltip();evt.initDomEventArgs(this.$65.get_ttParams()._elemScalable,evt.get_event());Framework.UI.Events.EventDispatcher.processMouseEvent(evt);}},onRButtonDown:function(evt){if(Kepler.Engine.UI.Controls.Tooltip.TooltipManager.isActionableTooltip()){(this.get_parent()).hideTooltip();evt.initDomEventArgs(this.$65.get_ttParams()._elemScalable,evt.get_event());Framework.UI.Events.EventDispatcher.processMouseEvent(evt);}},onRButtonUp:function(evt){if(Kepler.Engine.UI.Controls.Tooltip.TooltipManager.isActionableTooltip()){(this.get_parent()).hideTooltip();evt.initDomEventArgs(this.$65.get_ttParams()._elemScalable,evt.get_event());Framework.UI.Events.EventDispatcher.processMouseEvent(evt);}},onMouseClick:function(evt){if(Kepler.Engine.UI.Controls.Tooltip.TooltipManager.isActionableTooltip()){(this.get_parent()).hideTooltip();evt.initDomEventArgs(this.$65.get_ttParams()._elemScalable,evt.get_event());Framework.UI.Events.EventDispatcher.processMouseEvent(evt);}},onMouseDblClick:function(evt){if(Kepler.Engine.UI.Controls.Tooltip.TooltipManager.isActionableTooltip()){(this.get_parent()).hideTooltip();evt.initDomEventArgs(this.$65.get_ttParams()._elemScalable,evt.get_event());Framework.UI.Events.EventDispatcher.processMouseEvent(evt);}}}
Kepler.Engine.UI.Controls.Tooltip.TooltipManager=function(){Kepler.Engine.UI.Controls.Tooltip.TooltipManager.initializeBase(this,[' position_absolute'+' tool_tip_pointer_event','TOOLTIP_LAYER']);this.$41=new Kepler.Engine.UI.Controls.Tooltip.Tooltip('');this.hideTooltip();}
Kepler.Engine.UI.Controls.Tooltip.TooltipManager.get_instance=function(){if(Kepler.Engine.UI.Controls.Tooltip.TooltipManager.$42==null){Kepler.Engine.UI.Controls.Tooltip.TooltipManager.$42=new Kepler.Engine.UI.Controls.Tooltip.TooltipManager();}return Kepler.Engine.UI.Controls.Tooltip.TooltipManager.$42;}
Kepler.Engine.UI.Controls.Tooltip.TooltipManager.isActionableTooltip=function(eType){if(ss.isNullOrUndefined(eType)){var $1=Kepler.Engine.UI.Controls.Tooltip.TooltipManager.get_instance().get_tooltipControl();if(ss.isValue($1)&&ss.isValue($1.get_tooltipLaunchParams())){eType=$1.get_tooltipLaunchParams().get_ttParams()._eType;}}var $0=(eType===17||eType===18);return $0;}
Kepler.Engine.UI.Controls.Tooltip.TooltipManager.prototype={$41:null,get_tooltipControl:function(){return this.$41;},hideTooltip:function(){this.$41.displayTooltip(false);},showTooltip:function(oTtLaunchingParams){this.hideTooltip();if(ss.isNullOrUndefined(oTtLaunchingParams)||ss.isNullOrUndefined(oTtLaunchingParams.get_ttParams())){return;}this.$41.$6B(oTtLaunchingParams);},onLoad:function(){Kepler.Engine.UI.Controls.Tooltip.TooltipManager.callBaseMethod(this, 'onLoad');this.add(this.$41);}}
Type.registerNamespace('Kepler.Framework.UI.CustomSelection.Comments');Kepler.Framework.UI.CustomSelection.Comments.SelInteractionEvtType=function(){};Kepler.Framework.UI.CustomSelection.Comments.SelInteractionEvtType.prototype = {invalid:0,hoverIn:1,hoverOut:2,focusIn:3,focusOut:4}
Kepler.Framework.UI.CustomSelection.Comments.SelInteractionEvtType.registerEnum('Kepler.Framework.UI.CustomSelection.Comments.SelInteractionEvtType',false);Kepler.Framework.UI.CustomSelection.Comments.InteractableArea=function(){this.$0=null;this.$2=false;this.$4=false;this.$1={};}
Kepler.Framework.UI.CustomSelection.Comments.InteractableArea.prototype={$0:null,get_domElement:function(){return this.$0;},set_domElement:function(value){this.$0=value;return value;},$1:null,$2:false,$3:function($p0,$p1){if(this.$2!==$p0){this.$2=$p0;if(this.$2){if(!this.$10($p1)&&ss.isValue(this.$7)){this.$7(this,new Kepler.Framework.UI.CustomSelection.Comments.SelInteractionEvtArgs(1,$p1));}}else{if(!this.$11($p1)&&ss.isValue(this.$7)){this.$7(this,new Kepler.Framework.UI.CustomSelection.Comments.SelInteractionEvtArgs(2,$p1));}}}},$4:false,$5:function($p0,$p1){if(this.$4!==$p0){this.$4=$p0;if(this.$4){if(!this.$12($p1)&&ss.isValue(this.$7)){this.$7(this,new Kepler.Framework.UI.CustomSelection.Comments.SelInteractionEvtArgs(3,$p1));}}else{if(!this.$13($p1)&&ss.isValue(this.$7)){this.$7(this,new Kepler.Framework.UI.CustomSelection.Comments.SelInteractionEvtArgs(4,$p1));}}}},add_$6:function($p0){this.$7=ss.Delegate.combine(this.$7,$p0);},remove_$6:function($p0){this.$7=ss.Delegate.remove(this.$7,$p0);},$7:null,getAttribute:function(strAttr){var $0=this.$1[strAttr];if(!ss.isValue($0)){$0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString(this.$0,strAttr);this.$1[strAttr]=$0;}return $0;},addInteractionEvtHandler:function(oHandler){this.add_$6(oHandler);},$8:function($p0,$p1){this.$3(true,$p1);return false;},$9:function($p0,$p1){this.$3(false,$p1);return false;},$A:function($p0,$p1){return false;},$B:function($p0,$p1){return false;},$C:function($p0,$p1){return false;},$D:function($p0,$p1){return false;},$E:function($p0){this.$5(true,$p0);return false;},$F:function($p0){this.$5(false,$p0);return false;},$10:function($p0){return false;},$11:function($p0){return false;},$12:function($p0){return false;},$13:function($p0){return false;},notifyMouseOver:function(ptClick,oData){return this.$8(ptClick,oData);},notifyMouseOut:function(ptClick,oData){return this.$9(ptClick,oData);},notifyLButtonDown:function(ptClick,oData){return this.$A(ptClick,oData);},notifyLButtonUp:function(ptClick,oData){return this.$B(ptClick,oData);},notifyRButtonDown:function(ptClick,oData){return this.$C(ptClick,oData);},notifyRButtonUp:function(ptClick,oData){return this.$D(ptClick,oData);},notifySelRngIn:function(oRng){return this.$E(oRng);},notifySelRngOut:function(oRng){return this.$F(oRng);}}
Kepler.Framework.UI.CustomSelection.Comments.SelInteractionEvtArgs=function(eType,oData){this.evtType=eType;this.oData=oData;}
Kepler.Framework.UI.CustomSelection.Comments.SelInteractionEvtArgs.prototype={evtType:0,oData:null}
Kepler.Framework.UI.CustomSelection.Comments.Comment=function(elmDom,oMainDoc){Kepler.Framework.UI.CustomSelection.Comments.Comment.initializeBase(this);this.set_domElement(elmDom);this.$1D=oMainDoc;}
Kepler.Framework.UI.CustomSelection.Comments.Comment.prototype={$1C:null,get_parentGroup:function(){return this.$1C;},set_parentGroup:function(value){this.$1C=value;return value;},$1D:null,get_mainDoc:function(){return this.$1D;},$1E:function($p0){var $0=false;var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementById(this.get_domElement(),'contextmenu');if(ss.isValue($1)){var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($1,'menuno',-1);var $3=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($1,'oldmenuno',$2);var $4=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($1,'usericonmenuno',$3);var $5=$3;var $6=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($1,'minibar_id',-1);var $7=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($1,'oldminibar_id',$6);var $8=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($1,'usericon_minibar_id',$7);var $9=$7;var $A=Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementByAttr(this.get_domElement(),"[name='"+'usericon'+"']");var $B=(ss.isValue($A))?Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientRect($A):null;if(($B!=null)&&$B.isPtInRect($p0.get_x(),$p0.get_y())){$5=$4;$9=$8;}if($2!==$5){Kepler.Engine.UI.Helper.HtmlCssHelper.addElementAttribute($1,'menuno',String.format('{0}',$5));}if($6!==$9){Kepler.Engine.UI.Helper.HtmlCssHelper.addElementAttribute($1,'minibar_id',String.format('{0}',$9));}$0=true;}return $0;},$8:function($p0,$p1){return Kepler.Framework.UI.CustomSelection.Comments.Comment.callBaseMethod(this, '$8',[$p0,$p1]);},$9:function($p0,$p1){return Kepler.Framework.UI.CustomSelection.Comments.Comment.callBaseMethod(this, '$9',[$p0,$p1]);},$A:function($p0,$p1){return Kepler.Framework.UI.CustomSelection.Comments.Comment.callBaseMethod(this, '$A',[$p0,$p1]);},$B:function($p0,$p1){return Kepler.Framework.UI.CustomSelection.Comments.Comment.callBaseMethod(this, '$B',[$p0,$p1]);},$D:function($p0,$p1){var $0=$p1.args;if(ss.isValue($0)&&($0.get_categoryType()===1)){this.$1E(new Kepler.Framework.UI.Point($0.get_clientX(),$0.get_clientY()));}return Kepler.Framework.UI.CustomSelection.Comments.Comment.callBaseMethod(this, '$D',[$p0,$p1]);}}
Kepler.Framework.UI.CustomSelection.Comments.CommentGroup=function(){Kepler.Framework.UI.CustomSelection.Comments.CommentGroup.initializeBase(this);this._arrChildrens=[];this.$1F=null;this.$20=null;}
Kepler.Framework.UI.CustomSelection.Comments.CommentGroup.get_commentReviewMode=function(){return Kepler.Framework.UI.CustomSelection.Comments.CommentGroup._bCommentReviewMode;}
Kepler.Framework.UI.CustomSelection.Comments.CommentGroup.set_commentReviewMode=function(value){Kepler.Framework.UI.CustomSelection.Comments.CommentGroup._bCommentReviewMode=value;return value;}
Kepler.Framework.UI.CustomSelection.Comments.CommentGroup.prototype={get_domElement:function(){return Kepler.Framework.UI.CustomSelection.Comments.CommentGroup.callBaseMethod(this, 'get_domElement');},set_domElement:function(value){Kepler.Framework.UI.CustomSelection.Comments.CommentGroup.callBaseMethod(this, 'set_domElement',[value]);this.parseHtmlForCommentGroup(Kepler.Framework.UI.CustomSelection.Comments.CommentGroup.callBaseMethod(this, 'get_domElement'));return value;},_arrChildrens:null,$1F:null,$20:null,$21:null,$22:null,addComment:function(oComment){this._arrChildrens.add(oComment);oComment.set_parentGroup(this);oComment.addInteractionEvtHandler(ss.Delegate.create(this,this.onChildInteraction));},parseHtmlForCommentGroup:function(elmCommentGroup){Kepler.Engine.UI.Helper.HtmlCssHelper.addElementAttribute(elmCommentGroup,'hoverstate','hoverout');Kepler.Engine.UI.Helper.HtmlCssHelper.addElementAttribute(elmCommentGroup,'focusstate','focusout');this.$1F=Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementsByAttr(elmCommentGroup,'['+'visibleonhover'+']');this.$23(this.$1F);this.$20=Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementsByAttr(elmCommentGroup,'['+'hiddenonhover'+']');this.$23(this.$20);this.$21=Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementsByAttr(elmCommentGroup,'['+'visibleonfocus'+']');this.$23(this.$21);this.$22=Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementsByAttr(elmCommentGroup,'['+'hiddenonfocus'+']');this.$23(this.$22);},$23:function($p0){this.$26($p0,'hoverstate','hoverout');this.$26($p0,'focusstate','focusout');},$24:function($p0){this.$26(this.$1F,'hoverstate',$p0);this.$26(this.$20,'hoverstate',$p0);this.$26(this.$21,'hoverstate',$p0);this.$26(this.$22,'hoverstate',$p0);},$25:function($p0){this.$26(this.$1F,'focusstate',$p0);this.$26(this.$20,'focusstate',$p0);this.$26(this.$21,'focusstate',$p0);this.$26(this.$22,'focusstate',$p0);},$26:function($p0,$p1,$p2){if(ss.isValue($p0)){for(var $0=0;$0<$p0.length;$0++){Kepler.Engine.UI.Helper.HtmlCssHelper.addElementAttribute($p0[$0],$p1,$p2);}}},$27:function($p0,$p1){if(ss.isValue($p0)){for(var $0=0;$0<$p0.length;$0++){$p0[$0].style.visibility=($p1)?'visible':'hidden';}}},onChildInteraction:function(oSender,evtArgs){var $0=false;var $1=evtArgs.evtType;switch($1){case 1:$0=this.$28(oSender);this.$24('hoverin');this.$3(true,null);break;case 2:$0=this.$29(oSender);this.$24('hoverout');this.$3(false,null);break;case 3:$0=this.$2A(oSender);this.$25('focusin');this.$5(true,null);break;case 4:$0=this.$2B(oSender);this.$25('focusout');this.$5(false,null);break;}return $0;},$28:function($p0){Kepler.Engine.UI.Helper.HtmlCssHelper.addElementAttribute(this.get_domElement(),'hoverstate','hoverin');return false;},$29:function($p0){Kepler.Engine.UI.Helper.HtmlCssHelper.addElementAttribute(this.get_domElement(),'hoverstate','hoverout');return false;},$2A:function($p0){Kepler.Engine.UI.Helper.HtmlCssHelper.addElementAttribute(this.get_domElement(),'focusstate','focusin');return false;},$2B:function($p0){Kepler.Engine.UI.Helper.HtmlCssHelper.addElementAttribute(this.get_domElement(),'focusstate','focusout');return false;}}
Type.registerNamespace('Kepler.Framework.UI.CustomSelection');Kepler.Framework.UI.CustomSelection.SelectionUpdateBtnState=function(){};Kepler.Framework.UI.CustomSelection.SelectionUpdateBtnState.prototype = {invalid:0,btnDown:1,btnUp:2}
Kepler.Framework.UI.CustomSelection.SelectionUpdateBtnState.registerEnum('Kepler.Framework.UI.CustomSelection.SelectionUpdateBtnState',false);Kepler.Framework.UI.CustomSelection.SelectionChangeType=function(){};Kepler.Framework.UI.CustomSelection.SelectionChangeType.prototype = {unknown:0,userInteracted:1,programInteracted:2}
Kepler.Framework.UI.CustomSelection.SelectionChangeType.registerEnum('Kepler.Framework.UI.CustomSelection.SelectionChangeType',false);Kepler.Framework.UI.CustomSelection.CursorMode=function(){};Kepler.Framework.UI.CustomSelection.CursorMode.prototype = {normal:0,drag:1}
Kepler.Framework.UI.CustomSelection.CursorMode.registerEnum('Kepler.Framework.UI.CustomSelection.CursorMode',false);Kepler.Framework.UI.CustomSelection.KeyBrdNavType=function(){};Kepler.Framework.UI.CustomSelection.KeyBrdNavType.prototype = {unknown:-1,leftArrow:0,rightArrow:1,upArrow:2,downArrow:3}
Kepler.Framework.UI.CustomSelection.KeyBrdNavType.registerEnum('Kepler.Framework.UI.CustomSelection.KeyBrdNavType',false);Kepler.Framework.UI.CustomSelection.SelMode=function(){};Kepler.Framework.UI.CustomSelection.SelMode.prototype = {none:0,charSel:1,wordSel:2,paraSel:3}
Kepler.Framework.UI.CustomSelection.SelMode.registerEnum('Kepler.Framework.UI.CustomSelection.SelMode',false);Kepler.Framework.UI.CustomSelection.DragMode=function(){};Kepler.Framework.UI.CustomSelection.DragMode.prototype = {dragEnded:0,draggable:1,dragStarted:3}
Kepler.Framework.UI.CustomSelection.DragMode.registerEnum('Kepler.Framework.UI.CustomSelection.DragMode',false);Kepler.Framework.UI.CustomSelection.SelDragEvtType=function(){};Kepler.Framework.UI.CustomSelection.SelDragEvtType.prototype = {selDragStart:0,selDrag:1,selDragEnd:2}
Kepler.Framework.UI.CustomSelection.SelDragEvtType.registerEnum('Kepler.Framework.UI.CustomSelection.SelDragEvtType',false);Kepler.Framework.UI.CustomSelection.SelectableType=function(){};Kepler.Framework.UI.CustomSelection.SelectableType.prototype = {none:0,doc:1,para:2,row:3,selElement:4,page:5,column:6}
Kepler.Framework.UI.CustomSelection.SelectableType.registerEnum('Kepler.Framework.UI.CustomSelection.SelectableType',false);Kepler.Framework.UI.CustomSelection.SelElementType=function(){};Kepler.Framework.UI.CustomSelection.SelElementType.prototype = {textElement:0,imgElement:1,tableRow:2,textCitation:3}
Kepler.Framework.UI.CustomSelection.SelElementType.registerEnum('Kepler.Framework.UI.CustomSelection.SelElementType',false);Kepler.Framework.UI.CustomSelection.ParaType=function(){};Kepler.Framework.UI.CustomSelection.ParaType.prototype = {none:0,tablePara:1,outlinePara:2}
Kepler.Framework.UI.CustomSelection.ParaType.registerEnum('Kepler.Framework.UI.CustomSelection.ParaType',false);Kepler.Framework.UI.CustomSelection.SelElementState=function(){};Kepler.Framework.UI.CustomSelection.SelElementState.prototype = {def:0,hover:1,focus:2}
Kepler.Framework.UI.CustomSelection.SelElementState.registerEnum('Kepler.Framework.UI.CustomSelection.SelElementState',false);Kepler.Framework.UI.CustomSelection.SelVerificationType=function(){};Kepler.Framework.UI.CustomSelection.SelVerificationType.prototype = {none:0,verifyStart:1,verifyEnd:2,verifyStrict:3,verifyWithin:4,matchString:5,matchStringTrimWhiteSpace:6,verifyStartInRange:7,verifyEndInRange:8,verifyCollapsed:9}
Kepler.Framework.UI.CustomSelection.SelVerificationType.registerEnum('Kepler.Framework.UI.CustomSelection.SelVerificationType',false);Kepler.Framework.UI.CustomSelection.ICustomSelectable=function(){};Kepler.Framework.UI.CustomSelection.ICustomSelectable.registerInterface('Kepler.Framework.UI.CustomSelection.ICustomSelectable');Kepler.Framework.UI.CustomSelection.ISelHandlerCommunicator=function(){};Kepler.Framework.UI.CustomSelection.ISelHandlerCommunicator.registerInterface('Kepler.Framework.UI.CustomSelection.ISelHandlerCommunicator');Kepler.Framework.UI.CustomSelection.SelHandlerNotification=function(){};Kepler.Framework.UI.CustomSelection.SelHandlerNotification.prototype = {eColumnResize:0,eRowResize:1,eActableActionPerformed:2,eShowMenu:3,eSelect:4,eCommentNotification:5,eUpdateRectForSelection:6,eUpdateRowParaSelectionBack:7,eUpdateRowWrap:8}
Kepler.Framework.UI.CustomSelection.SelHandlerNotification.registerEnum('Kepler.Framework.UI.CustomSelection.SelHandlerNotification',false);Kepler.Framework.UI.CustomSelection.ContainerCtrlNotificationType=function(){};Kepler.Framework.UI.CustomSelection.ContainerCtrlNotificationType.prototype = {eOnChar:0,eUpdateScrollBar:1,eUpdateOutlinePreview:2,eShouldNotRemoveHighlightElem:3}
Kepler.Framework.UI.CustomSelection.ContainerCtrlNotificationType.registerEnum('Kepler.Framework.UI.CustomSelection.ContainerCtrlNotificationType',false);Kepler.Framework.UI.CustomSelection.OutLineUpdateType=function(){};Kepler.Framework.UI.CustomSelection.OutLineUpdateType.prototype = {eNone:0,eVertical:1,eHorizontal:2}
Kepler.Framework.UI.CustomSelection.OutLineUpdateType.registerEnum('Kepler.Framework.UI.CustomSelection.OutLineUpdateType',false);Kepler.Framework.UI.CustomSelection.SelAreaNotification=function(){};Kepler.Framework.UI.CustomSelection.SelAreaNotification.prototype = {eDraging:0,eDrop:1,eDragStart:2}
Kepler.Framework.UI.CustomSelection.SelAreaNotification.registerEnum('Kepler.Framework.UI.CustomSelection.SelAreaNotification',false);Kepler.Framework.UI.CustomSelection.ActType=function(){};Kepler.Framework.UI.CustomSelection.ActType.prototype = {no_Action:0,mouseLBtnClicked:1,mouseDblClicked:2,verDrop:3,horDrop:4}
Kepler.Framework.UI.CustomSelection.ActType.registerEnum('Kepler.Framework.UI.CustomSelection.ActType',false);Kepler.Framework.UI.CustomSelection.CustomSelHelper=function(){}
Kepler.Framework.UI.CustomSelection.CustomSelHelper.getRangeFrmElement=function(elm){var $0=new Kepler.Framework.UI.CustomSelection.SelRange();$0.setStartFromCurPos(Kepler.Framework.UI.CustomSelection.CustomSelHelper.getCurPosFrmElement(elm,true));$0.setEndFromCurPos(Kepler.Framework.UI.CustomSelection.CustomSelHelper.getCurPosFrmElement(elm,false));return $0;}
Kepler.Framework.UI.CustomSelection.CustomSelHelper.getRangeBtwn=function(elmStart,elmEnd){var $0=new Kepler.Framework.UI.CustomSelection.SelRange();$0.setStartFromCurPos(Kepler.Framework.UI.CustomSelection.CustomSelHelper.getCurPosFrmElement(elmStart,true));$0.setEndFromCurPos(Kepler.Framework.UI.CustomSelection.CustomSelHelper.getCurPosFrmElement(elmEnd,false));return $0;}
Kepler.Framework.UI.CustomSelection.CustomSelHelper.getCurPosFrmElement=function(oElm,bStart){var $0=null;var $1=oElm.selectablearea;var $2=(ss.isValue($1))?$1.getRange():null;if($2!=null){$0=(bStart)?$2.get_startCurPos():$2.get_endCurPos();}else{var $3=Kepler.Engine.UI.Helper.HtmlCssHelper.getParentElementByAttr(oElm,'selectablearea');if(ss.isValue($3)){$1=$3.selectablearea;return $1.getCurPosForChildElm(oElm,bStart);}}return $0;}
Kepler.Framework.UI.CustomSelection.SelectionHandler=function(){this.$49=[];this.$4D();this.$46=new Kepler.Framework.Core.Timers.Timer(ss.Delegate.create(this,this.$5B),500);this.$7B();}
Kepler.Framework.UI.CustomSelection.SelectionHandler.prototype={_arrCommentGroups:null,$1:function(){this._arrCommentGroups=[];},$2:function(){this._arrCommentGroups.clear();},$3:function($p0){var $0=false;var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getParentElementByAttr($p0.get_domElement(),'interactablearea');if(ss.isValue($1)){var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($1,'name');if(!$2.compareTo('comment')){$0=this.$4($p0,$1);}}return $0;},$4:function($p0,$p1){var $0=false;var $1=$p1.parentNode;var $2=(ss.isValue($1))?Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($1,'name'):'';if(!$2.compareTo('commentgroup')){var $3=this.getCommentGroup($1);var $4=new Kepler.Framework.UI.CustomSelection.Comments.Comment($p1,$p0);$3.addComment($4);$p0.addAssocInteractable($4);}return $0;},getCommentGroup:function(elmCommentGroup){var $0=null;for(var $1=0;$1<this._arrCommentGroups.length;$1++){var $2=this._arrCommentGroups[$1];if($2.get_domElement()===elmCommentGroup){$0=$2;break;}}if($0==null){$0=Kepler.Framework.FrameworkObjectFactory.getCommentGroupObject();$0.set_domElement(elmCommentGroup);$0.addInteractionEvtHandler(ss.Delegate.create(this,this.onCommentGroupInteraction));this._arrCommentGroups[this._arrCommentGroups.length]=$0;}return $0;},onCommentGroupInteraction:function(oSender,evtArgs){var $0=false;var $1=false;var $2=evtArgs.evtType;var $3={};switch($2){case 1:$3['interaction']='hoverin';$1=true;break;case 2:$3['interaction']='hoverout';$1=true;break;case 3:$3['interaction']='focusin';$1=true;break;case 4:$3['interaction']='focusout';$1=true;break;}if($1){$3['highlightableindex']=oSender.getAttribute('commentindex');$3['highlightablename']=oSender.getAttribute('commentgroupanchor');this.handleNotification(5,null,$3);}return $0;},processView:function(elmRefCntnr){this.processViewForSel(elmRefCntnr);return true;},getActiveDoc:function(){return this.get_activeDoc();},processForCustomSelection:function(hSelectableCtrl){var $0=false;if(ss.isValue(hSelectableCtrl)){var $1=hSelectableCtrl.getContainerElement();if(ss.isValue($1)){this.processViewForSel($1,hSelectableCtrl);$0=true;}}return $0;},applyClearForSelectableCtrl:function(hSelectableCtrl){var $0=false;if(ss.isValue(hSelectableCtrl)){var $1=hSelectableCtrl.getContainerElement();this.deactivateDoc(hSelectableCtrl);$0=this.$60($1);}return $0;},applyActiveDocFocus:function(hSelectableCtrl){if(ss.isValue(hSelectableCtrl)&&ss.isValue(this.get_activeDoc())&&this.get_activeDoc().get_controlHandle()===hSelectableCtrl){this.$4F(this.get_activeDoc(),true);return true;}return false;},removeActiveDocFocus:function(hSelectableCtrl){if(ss.isValue(hSelectableCtrl)&&ss.isValue(this.get_activeDoc())&&this.get_activeDoc().get_controlHandle()===hSelectableCtrl){this.$4F(this.get_activeDoc(),false);return true;}return false;},deactivateDoc:function(hSelectableCtrl){if(ss.isValue(hSelectableCtrl)&&ss.isValue(this.get_activeDoc())&&this.get_activeDoc().get_controlHandle()===hSelectableCtrl){this.$4F(this.get_activeDoc(),false);var $0=(this.get_curRange()!=null)?this.$6E(this.get_curRange()):null;if($0!=null){$0.onDocLostFocus(this.get_curRange());}this.$4F(null,false);return true;}return false;},activateDocFromPoint:function(ptClick){var $0=this.determineMainDocFromClickPoint(ptClick);this.$4F($0,true);return true;},activateDocFromElement:function(elmChild,bApplyFocus,bSelectRng,bCollapseToStart){var $0=false;var $1=elmChild;while(ss.isValue($1)){$1=Kepler.Engine.UI.Helper.HtmlCssHelper.getParentElementByName($1,'document');$0=ss.isValue($1)&&this.setActiveDocElem($1,(ss.isValue(bApplyFocus))?bApplyFocus:false);$1=($0)?null:$1.parentNode;}if($0&&ss.isValue(bSelectRng)&&bSelectRng){var $2=(this.get_activeDoc()!=null)?this.get_activeDoc().getRange():null;if($2!=null){$2.collapse((ss.isValue(bCollapseToStart))?bCollapseToStart:false);this.applySelUpdation($2,true,true,true,false,true,2);}}return $0;},updateSelForPoint:function(oSelUpdateData){var $0=false;if(ss.isValue(oSelUpdateData)&&this.get_activeDoc()!=null){var $1=(!oSelUpdateData.btnState&&!this.$32)?null:this.$51(this.get_activeDoc(),oSelUpdateData.clickPoint,new Kepler.Framework.UI.CustomSelection.CurPos());var $2=(this.get_curRange()!=null&&$1!=null&&(!this.get_curRange().isCollapsed()))?this.get_curRange().containsPos($1):false;if($2&&oSelUpdateData.mouseBtn===2){return false;}if(!!oSelUpdateData.btnState){if(oSelUpdateData.btnState===1){var $3=this.determineSelectionMode(oSelUpdateData.clientPoint,oSelUpdateData.btnState);this.set_considerHighlightText((!oSelUpdateData.mouseBtn));this.setBtnDown($2,$3);}else if(oSelUpdateData.btnState===2){if($2&&this.$32===1){if(this.$33!==3){this.setBtnDown(false);}this.updateSel($1,oSelUpdateData.args,false);}this.setBtnUp();}}else if(!!this.$32){if(this.get_dragState()===1){this.setDragStart();}}if(this.get_dragState()!==1){this.updateSel($1,oSelUpdateData.args,oSelUpdateData.shiftPressed);}}return $0;},notifyLayoutResize:function(elmCntnr,dZoomFactor){var $0=false;try{if(this.get_frameReady()){this.updateForLayoutResize(elmCntnr,dZoomFactor);}}catch($1){}return $0;},processPreselection:function(){return true;},queryCstmSelVisibility:function(){return this.get_selVisibility();},applyCursorNav:function(oActedKey){var $0=this.get_curRange().clone();this.set_lastSelRange($0.clone());this.set_prevActedKey(oActedKey);var $1=$0.getStartCurPos();var $2=$0.getEndCurPos();var $3=false;var $4=false;var $5=true;if(!$0.isCollapsed()&&!oActedKey.shift&&!oActedKey.ctrl){switch(oActedKey.key){case 37:if($0.get_topDown()){$2=$1.clone();}else{$1=$2.clone();}var $6=this.$6C($0);if($6.get_isSelCollapsible()){$3=true;$4=true;}break;case 39:if($0.get_topDown()){$1=$2.clone();}else{$2=$1.clone();}var $7=this.$6C($0);if($7.get_isSelCollapsible()){$3=true;$4=true;}break;}}if(!$3){var $8=this.$6C($0);var $9=$2.clone();$9.set_level($8.get_level());var $A=$8.getSelectableFromCurPos($9,4);if(!$A.get_isSelCollapsible()){var $C=$A.getRange();if(oActedKey.key===37){$2=$C.get_startCurPos().clone();}else if(oActedKey.key===39){$2=$C.get_endCurPos().clone();}}if(!ss.isValue(this.$40)){this.$40=$A.getOffsetFromCurPos($2);}var $B=new Kepler.Framework.UI.CustomSelection.HitTest($1,$2,oActedKey.shift,oActedKey.ctrl,this.$40,false,this.get_curRange().get_topDown());switch(oActedKey.key){case 37:$4=$A.handleLeftKey($B);if($4){this.$40=null;}$3=true;break;case 39:$4=$A.handleRightKey($B);if($4){this.$40=null;}$3=true;break;case 38:$4=$A.handleUpKey($B);if($4){this.$40=$B.get_xOffset();}$3=true;break;case 40:$4=$A.handleDownKey($B);if($4){this.$40=$B.get_xOffset();}$3=true;break;case 65:if(oActedKey.ctrl&&!oActedKey.alt&&!oActedKey.shift){$4=$A.handleCtrlA($B);$5=false;$3=true;}break;case 35:$4=$A.handleEndKey($B);$3=true;break;case 36:$4=$A.handleHomeKey($B);$3=true;break;case 34:if(ss.isValue(this.get_activeDoc())){}$3=true;break;case 33:$3=true;break;}}if($4){if(oActedKey.key!==65&&!oActedKey.shift){this.$54($2,true);$1=$2.clone();}if($1.isEqual($2)){var $D=this.getSelectableFromCurPos($2,2);if(!$D.get_isSelCollapsible()){var $E=$D.getRange();$1=$E.get_startCurPos();$2=$E.get_endCurPos();}}$0.setStartFromCurPos($1);$0.setEndFromCurPos($2);this.applySelUpdation($0,true,true,true,$5,true,1);}return $3;},handlePrintableKey:function(oActedKey){if(oActedKey.key===27&&oActedKey.isForKeyPress){return true;}var $0=this.get_curRange().clone();var $1=this.get_activeDoc().handlePrintableKey($0.get_startCurPos(),$0.get_endCurPos(),oActedKey);this.applySelUpdation($0,true,true,true,true,true,1);return $1;},handleEnterKey:function(oActedKey){if(this.get_curRange().isCollapsed()){var $0=this.get_curRange().getEndCurPos();var $1=this.getSelectableFromCurPos($0,3);var $2=this.getSelectableFromCurPos($0,2);var $3=Kepler.Framework.FrameworkObjectFactory.getParaObject($2.get_level());var $4=document.createElement('span');$4.id='para';var $5=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($2.get_domElement(),'halignment');var $6=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($2.get_domElement(),'propclass');Kepler.Engine.UI.Helper.HtmlCssHelper.addElementAttribute($4,'name','para');Kepler.Engine.UI.Helper.HtmlCssHelper.addElementAttribute($4,'halignment',$5);Kepler.Engine.UI.Helper.HtmlCssHelper.addElementAttribute($4,'propclass',$6);$2.get_domElement().parentNode.insertBefore($4,$2.get_domElement().nextSibling);var $7=$1.createNewRowAndAppendToPara($1,$4);this.get_activeDoc().$21($3,$4);var $8=$2.get_index()+1;for(var $C=Object.getKeyCount(this.$28.get_children())-1;$C>$8;$C--){this.$28.get_children()[$C]=this.$28.get_children()[$C-1];this.$28.get_children()[$C].set_index($C);(this.$28.get_children()[$C]).setRangeRecalProperty();}this.$28.get_children()[$8]=$3;$3.set_index($8);Object.clearKeys($3.get_children());$3.parseChild();$7=$3.get_children()[0];var $9=$1.get_children()[this.get_curRange().get_startCurPos().get_elIndex()];$9.applyTransitionToHighlightElm(this.get_curRange().get_startCurPos(),this.get_curRange().get_endCurPos());$1.transferContentToRow($7,this.get_curRange().get_startCurPos());$2.transferChildrenToPara($3,this.get_curRange().get_startCurPos());if($7.isRowEmpty()){$9=$7.get_children()[0];if(ss.isValue($9)){$9.set_text(String.fromCharCode(160));}else{$7.setSpaceInEmptyRow();}$7.removeEmptyTextElems(!$7.get_index());}$3.removeEmptyTextNodesInPara();Object.clearKeys($3.get_children());$3.parseChild();$3.wrapParaBackwards(0);if($1.isRowEmpty()){$9=$1.get_children()[0];if(ss.isValue($9)){$9.set_text(String.fromCharCode(160));}else{$7.setSpaceInEmptyRow();}$1.removeEmptyTextElems(!$1.get_index());Object.clearKeys($1.get_children());$1.parseChild();}$2.get_parent().setRangeRecalProperty();var $A=new Kepler.Framework.UI.CustomSelection.SelRange();var $B=new Kepler.Framework.UI.CustomSelection.CurPos();$B.set_chIndex(0);$B.set_elIndex(0);$B.set_rowIndex(0);$B.set_paraIndex($3.get_index());$B.set_docIndex(this.$28.get_index());$A.setStartFromCurPos($B);$A.setEndFromCurPos($B);($2.get_parent()).set_isForceRecal(true);this.handleNotification(6,$7,$A);$1.setEmptyContentAttribute();($2.get_parent()).set_isForceRecal(false);}else{var $D=new Kepler.Framework.UI.CustomSelection.ActedKey(46,false,false,false,' ',true);this.handlePrintableKey($D);}return true;},updateConsiderHighlight:function(bConsider){this.set_considerHighlightText(bConsider);},applyModifierKeys:function(oActedKey){if(oActedKey.key===17||oActedKey.key===18||oActedKey.key===16){this.$66(oActedKey);return true;}return false;},onMouseInteraction:function(oData){var $0=false;var $1=oData.clickPoint.clone();var $2=oData.mouseBtn;var $3=oData.evtType;var $4=oData.args;var $5=this.determineMainDocFromClickPoint($1);if($5!=null){var $6=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientPosition($5.get_referenceParent());$1.set_x($1.get_x()-($5.get_offsetRect().get_left()+$6.get_x()));$1.set_y($1.get_y()-($5.get_offsetRect().get_top()+$6.get_y()));if($3===2){switch($2){case 0:$0=$5.onLButtonDown($1,oData);break;case 2:$0=$5.onRButtonDown($1,oData);break;}}else if($3===8){switch($2){case 0:$0=$5.onLButtonUp($1,oData);break;case 2:$0=$5.onRButtonUp($1,oData);break;}}else if($3===4){$0=this.$8E(oData,null);}}return $0;},insertStringIn:function(elm,str){var $0=Kepler.Framework.UI.CustomSelection.CustomSelHelper.getRangeFrmElement(elm);var $1=this.$6E($0);var $2=$1.insertString($0.get_startCurPos(),$0.get_endCurPos(),str);return $2;},isFrameReady:function(){return this.$2B;},getCurrentSelection:function(bWordIfCollapsed){var $0=this.getCurrentRange();return this.getRangeText($0,bWordIfCollapsed);},getTypingElm:function(){var $0=null;if(ss.isValue(this.get_curRange())){var $1=this.$6E(this.get_curRange());$0=$1.get_typingElement();}return $0;},getTypingCurText:function(oCurrRange){if(!ss.isValue(oCurrRange)){oCurrRange=this.get_curRange();}var $0=this.$6E(oCurrRange);if(ss.isValue($0)){var $1=$0.get_typingElement();if(ss.isValue($1)){return $1.textContent;}}return '';},getTypingElmAttr:function(strAttr,oRange){if(!ss.isValue(oRange)){oRange=this.get_curRange();}var $0=this.$6E(oRange);return $0.getTypingElmAttr(strAttr);},shouldBlockEditing:function(){var $0=this.getDocFromRange(this.get_curRange());return $0.get_isEditingBlocked();},shouldAllowTyping:function(iChar){var $0=false;if((Kepler.Framework.Core.StringUtils.isPrintable(iChar,'')&&iChar!==13&&iChar!==9)||iChar===8||iChar===46||(iChar>=97&&iChar<=122)){var $1=this.get_curRange();var $2=this.getBoundingTypingRange($1);if(ss.isValue($2)){var $3=$1.get_startCurPos();var $4=$1.get_endCurPos();var $5=$2.get_startCurPos();var $6=$2.get_endCurPos();var $7=this.getTypingElmAttr('restrictstarttypingoffset');var $8=(!$7.length)?0:parseInt($7,10);var $9=this.getTypingElmAttr('restrictendtypingoffset');var $A=(!$9.length)?0:parseInt($9,10);var $B=this.getSelectableFromCurPos($5,4);if($5.get_chIndex()+$8>$B.get_charCount()){$5.set_elIndex($5.get_elIndex()+1);$5.set_chIndex(0);}$5.set_chIndex($5.get_chIndex()+$8);$6.set_chIndex($6.get_chIndex()-$A);if($3.isGreaterEqual($5)&&$4.isLessEqual($6)){$0=true;if($3.isEqual($4)){if(iChar===8){if($3.isEqual($5)){$0=false;}}else if(iChar===46){if($4.isGreaterEqual($6)){$0=false;}}else{var $C=this.getTypingElmAttr('oldtext');var $D=this.getTypingElmAttr('newtext');var $E=this.getTypingElmAttr('maxchar');var $F=$C.length;var $10=$D.length;var $11=(String.isNullOrEmpty($E))?-1:parseInt($E,10);var $12=(($F>$10)?$F:$10)*2;if(!isNaN($11)&&$11>=0){$12=$11;}var $13=this.getTypingCurText($1);if($13.length>=$12){$0=false;}}}}}}return $0;},validateTyping:function(args,bRevealFormatting){var $0=this.getTypingElm();if(ss.isValue($0)){return this.validateTypingForElm(args,bRevealFormatting,$0);}else{return false;}},validateTypingForElm:function(args,bRevealFormatting,elm){args['FrameToJump']='0';args['Action']='User Typed: ';var $0=elm;if($0!=null){var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementInnerText($0);var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getElmFieldAsString($0,'oldtext');var $3=Kepler.Engine.UI.Helper.HtmlCssHelper.getElmFieldAsString($0,'newtext');var $4=(Kepler.Engine.UI.Helper.HtmlCssHelper.getElmFieldAsString($0,'comparecase')==='1')?true:false;var $5=(Kepler.Engine.UI.Helper.HtmlCssHelper.getElmFieldAsString($0,'validateonenter')==='1')?true:false;var $6=(Kepler.Engine.UI.Helper.HtmlCssHelper.getElmFieldAsString($0,'donottrimwhitespace')==='1')?true:false;if($5){return false;}$1=this.$18($1,bRevealFormatting);$3=this.$18($3,bRevealFormatting);$1=this.$19($1,$6);$3=this.$19($3,$6);args['Action']+=$1;if($1===$3||(!$4&&$1.toLowerCase()===$3.toLowerCase())){var $7=Kepler.Engine.UI.Helper.HtmlCssHelper.getElmFieldAsString($0,'frametojump');if($7!=null){args['FrameToJump']=$7;}if(!!$1){var $8=Kepler.Engine.UI.Helper.HtmlCssHelper.getElmFieldAsString($0,'reportstring');if(String.isNullOrEmpty($8)){$8=Kepler.Framework.Core.StringUtils.trim($1,$2);}args['Action']='User Typed: '+$8;}else{args['Action']='User Deleted: '+$2;}return true;}}return false;},$18:function($p0,$p1){if($p1){$p0=$p0.replaceAll(String.fromCharCode(182),'');$p0=$p0.replaceAll(String.fromCharCode(183),' ');}else{$p0=$p0.replaceAll(String.fromCharCode(160),' ');}return $p0;},$19:function($p0,$p1){$p0=Kepler.Framework.Core.StringUtils.trim($p0,'\\u200B');if(!$p1){$p0=Kepler.Framework.Core.StringUtils.trim($p0,'\\s');}return $p0;},createSelVerifier:function(oCurrRng,oReqRng){var $0=null;if(ss.isValue(oCurrRng)&&ss.isValue(oReqRng)){$0=new Kepler.Framework.UI.CustomSelection.SelVerifier(this,oCurrRng,oReqRng);}return $0;},applySelVerification:function(oCurrRng,oReqdRng,arrReqd,arrTest){var $0=this.createSelVerifier(oCurrRng,oReqdRng);$0.runAllVerification(arrReqd);if($0.get_result()){$0.runAllVerification(arrTest);}return $0.get_result();},createSelVerifierForActIndex:function(iActSelIndex,bApplyNormalization){var $0=this.getCurrentRange();var $1=this.getActSelectionRange(iActSelIndex);if(ss.isValue(bApplyNormalization)&&bApplyNormalization){$0=this.processRangeForSelVerification($0);$1=this.processRangeForSelVerification($1);}return this.createSelVerifier($0,$1);},getActiveDocActualSelectableRect:function(){var $0=null;var $1=this.get_activeDoc();if(ss.isValue($1)){$0=this.get_activeDoc().getActualSelectableOffsetRect();}return $0;},getCursorClientRect:function(){return Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientRect(this.$30);},$25:null,get_listMainDocs:function(){return this.$25;},$26:null,$27:null,$28:null,get_activeDoc:function(){return this.$28;},set_activeDoc:function(value){if(this.$28!==value){this.clearSelection(this.get_curRange());if(this.$28!=null){this.$28.set_focused(false);}this.$28=value;if(ss.isValue(this.$28)){this.$27=this.$28.get_domElement();this.$5C(this.get_activeDoc());}else{this.$5D();this.$27=null;}}return value;},$29:false,$2A:false,get_selVisibility:function(){return this.$2A;},set_selVisibility:function(value){this.$2A=value;if(!this.$2A){this.$50();this.clearSelection(this.get_curRange());this.$71(false,0);}return value;},$2B:false,get_frameReady:function(){return this.$2B;},set_frameReady:function(value){this.$2B=value;return value;},add_$2C:function($p0){this.$2D=ss.Delegate.combine(this.$2D,$p0);},remove_$2C:function($p0){this.$2D=ss.Delegate.remove(this.$2D,$p0);},$2D:null,addSelChangHandler:function(oHandler){if(ss.isValue(oHandler)){this.add_$2C(oHandler);}},add_$2E:function($p0){this.$2F=ss.Delegate.combine(this.$2F,$p0);},remove_$2E:function($p0){this.$2F=ss.Delegate.remove(this.$2F,$p0);},$2F:null,addSelHandlertNotificationEvt:function(oEvtHndlr){this.add_$2E(oEvtHndlr);},$30:null,$31:null,$32:0,$33:0,get_dragState:function(){return this.$33;},add_$34:function($p0){this.$35=ss.Delegate.combine(this.$35,$p0);},remove_$34:function($p0){this.$35=ss.Delegate.remove(this.$35,$p0);},$35:null,add_$36:function($p0){this.$37=ss.Delegate.combine(this.$37,$p0);},remove_$36:function($p0){this.$37=ss.Delegate.remove(this.$37,$p0);},$37:null,addDragEventHandler:function(eDragEvtType,oHandler){if(ss.isValue(oHandler)){switch(eDragEvtType){case 0:this.add_$34(oHandler);break;case 2:this.add_$36(oHandler);break;case 1:break;default:break;}}},$38:false,get_curRange:function(){return this.$39[this.$39.length-1];},set_curRange:function(value){var $0=(!this.$39.length)?0:this.$39.length-1;this.$39[$0]=value;return value;},$39:null,$3A:0,$3B:false,get_$3C:function(){return this.$3B;},set_$3C:function($p0){this.$3B=$p0;return $p0;},$3D:null,get_currTypingElm:function(){return this.$3D;},$3E:0,get_selChangeType:function(){return this.$3E;},$3F:null,$40:null,$41:false,$42:false,$43:null,$44:null,$45:false,get_considerHighlightText:function(){return this.$45;},set_considerHighlightText:function(value){this.$45=value;return value;},$46:null,$47:null,$48:null,$4A:null,get_baseMainDoc:function(){return this.$4A;},set_baseMainDoc:function(value){this.$4A=value;return value;},_bWrappingEnabled:false,get_isWrappingEnabled:function(){return this._bWrappingEnabled;},set_isWrappingEnabled:function(value){this._bWrappingEnabled=value;return value;},$4B:null,get_prevActedKey:function(){return this.$4B;},set_prevActedKey:function(value){this.$4B=value;return value;},$4C:null,get_lastSelRange:function(){return this.$4C;},set_lastSelRange:function(value){this.$4C=value;return value;},$4D:function(){this.$25={};this.$31=new Kepler.Framework.UI.CustomSelection.CurPos();this.$39=[];this.$32=0;this.$33=0;this.$38=false;this.$27=null;this.$29=false;this.$2A=false;this.$2B=false;this.$3A=1;this.$3B=true;this.$3F=null;this.$45=false;this.$41=false;this.$42=false;this.$43=new Kepler.Framework.UI.Point(0,0);this.$44=null;this.$47=[];this.$48=new Kepler.Framework.UI.CustomSelection.ActedKey(252,false,false,false);this.$1();this.$4A=null;},reset:function(){this.$4D();Kepler.Framework.UI.CustomSelection.Selectables.SelElement.clearCache();},frameReset:function(){this.$45=false;this.$3D=null;this.set_curRange(null);this.$32=0;this.$33=0;this.$2();Kepler.Framework.UI.CustomSelection.Selectables.SelElement.clearCache();},setBtnDown:function(bDraggableArea,eSelMode,bCtrlPressed){this.$32=(ss.isValue(eSelMode))?eSelMode:1;this.$33=(bDraggableArea&&this.$32===1)?1:0;if(bCtrlPressed){var $0=new Kepler.Framework.UI.CustomSelection.SelRange();$0.setStartFromCurPos(new Kepler.Framework.UI.CustomSelection.CurPos());$0.setEndFromCurPos(new Kepler.Framework.UI.CustomSelection.CurPos());this.$39.add($0);}},setBtnUp:function(){this.$32=0;this.setDragEnd();},setDragStart:function(){if(this.$33===1){var $0=(ss.isValue(this.$35))?this.$35(this,new Kepler.Framework.UI.CustomSelection.SelDragEvtArgs(0,this.get_curRange())):true;if($0){this.$33=3;}}},setDragEnd:function(){if(this.$33===3){this.$33=0;var $0=new Kepler.Framework.UI.CustomSelection.SelRange();$0.setStartFromCurPos(this.$31);$0.setEndFromCurPos(this.$31);if(ss.isValue(this.$37)){this.$37(this,new Kepler.Framework.UI.CustomSelection.SelDragEvtArgs(2,$0));}this.applySelUpdation($0,true,true,true);}},$4E:function($p0){var $0=null;var $1=Object.keys(this.$25);var $2;var $enum1=ss.IEnumerator.getEnumerator($1);while($enum1.moveNext()){var $3=$enum1.current;$2=this.$25[$3];if($2.get_domElement()===$p0){$0=$2;break;}}return $0;},determineMainDocElmFromClickPoint:function(ptClick){var $0=null;var $1=this.determineMainDocFromClickPoint(ptClick);if(ss.isValue($1)){$0=$1.get_domElement();}return $0;},determineMainDocFromClickPoint:function(ptClick){var $0=null;var $1;var $2=Object.keys(this.$25);var $enum1=ss.IEnumerator.getEnumerator($2);while($enum1.moveNext()){var $3=$enum1.current;$1=(Object.keyExists(this.$25,$3))?this.$25[$3]:null;if($1.get_visible()&&(($0==null)||($0.get_hitPriority()<$1.get_hitPriority()))){var $4=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientPosition($1.get_referenceParent());var $5=new Kepler.Framework.UI.Point(ptClick.get_x()-$4.get_x(),ptClick.get_y()-$4.get_y());if(ss.isValue($1)&&$1.isPtInOffsetArea($5)){$0=$1;}}}return $0;},getActiveDocElem:function(){return this.$27;},queryFocusableCtrl:function(){return (ss.isValue(this.get_activeDoc()))?this.get_activeDoc().get_controlHandle().queryFocusable():null;},setActiveDocElem:function(eleDoc,bSetFocus){var $0=false;var $1=this.$4E(eleDoc);if($1!=null){this.$4F($1,(ss.isValue(bSetFocus))?bSetFocus:false);$0=true;}return $0;},$4F:function($p0,$p1){if(this.get_activeDoc()!==$p0){this.set_activeDoc($p0);}if(this.get_activeDoc()!=null&&this.get_activeDoc().get_focused()!==$p1){this.get_activeDoc().set_focused($p1);if(this.get_curRange()!=null){var $0=this.get_curRange().isCollapsed()&&this.get_activeDoc().get_focused();this.$71($0,0);}}},updateFocusInfo:function(eleDoc,bKeyboardFocus){var $0=ss.isValue(this.get_activeDoc())&&this.get_activeDoc().get_domElement()===eleDoc;if($0){this.$29=bKeyboardFocus;}return $0;},$50:function(){this.$39.clear();var $0=new Kepler.Framework.UI.CustomSelection.SelRange();$0.setStartFromCurPos(new Kepler.Framework.UI.CustomSelection.CurPos());$0.setEndFromCurPos(new Kepler.Framework.UI.CustomSelection.CurPos());this.$39.add($0);},updateSel:function(oCurPos,args,bShiftPressed){if(!!this.$32){this.$31=oCurPos;var $0=this.get_curRange();if(this.get_dragState()!==3){if(!this.$38){this.$38=true;$0=this.composeSelRng((bShiftPressed)?this.get_curRange().clone():null,this.$44,this.$32,this.$31);this.$44=$0.clone();}else{$0=this.composeSelRng(this.get_curRange().clone(),this.$44,this.$32,this.$31);}}else{oCurPos=this.$52(oCurPos);this.$31=oCurPos;this.$70(oCurPos);this.$71(true,1);}this.$40=null;this.applySelUpdation($0,true,false,false,false,false,1,true);}else if(this.$38){this.$38=false;this.$76(this.get_curRange(),1);}},composeSelRng:function(oCurrntRng,oWordParaSelStart,eSelMode,oCurPos){var $0=oCurrntRng;switch(eSelMode){case 1:if(ss.isNullOrUndefined($0)){this.$54(oCurPos,true);$0=new Kepler.Framework.UI.CustomSelection.SelRange();$0.setStartFromCurPos(oCurPos);}$0.setEndFromCurPos(oCurPos);break;case 2:var $1=this.getWordRngFrmCurPos(oCurPos);$0=(ss.isValue(oCurrntRng)&&ss.isValue(oWordParaSelStart))?oWordParaSelStart.extendRangeUpto($1):$1;break;case 3:var $2=this.getParaRngFrmCurPos(oCurPos);$0=(ss.isValue(oCurrntRng)&&ss.isValue(oWordParaSelStart))?oWordParaSelStart.extendRangeUpto($2):$2;break;default:break;}return $0;},$51:function($p0,$p1,$p2){var $0=null;if(ss.isValue($p0)){var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientPosition($p0.get_domElement());$1.set_x($1.get_x()+$p0.get_referenceParent().scrollLeft);$1.set_y($1.get_y()+$p0.get_referenceParent().scrollTop);var $2=new Kepler.Framework.UI.Point($p1.get_x()-$1.get_x(),$p1.get_y()-$1.get_y());$0=$p0.getCursorPosFrmPoint($2,$p2);$p2.get_docPos()[0].set_docIndex($p0.get_index());$0=this.$53($0);}return $0;},$52:function($p0){var $0=$p0;var $1=this.getWordRngFrmCurPos($p0);if(ss.isValue($1)){var $2=this.getSelectableFromCurPos($p0,3);if($2!=null){var $3=$2.getOffsetIndexFromCurPos($1.get_startCurPos());var $4=$2.getOffsetIndexFromCurPos($1.get_endCurPos());var $5=$2.getOffsetIndexFromCurPos($p0);var $6=$5-$3;var $7=$4-$5;$p0=($6>$7)?$1.get_endCurPos():$1.get_startCurPos();}$0=this.$53($p0);}return $0;},$53:function($p0){var $0=$p0;if(ss.isValue($0)){var $1=$0.clone();for(var $2=$1.get_level();$2>=0;$2--){$1.set_level($2);var $3=this.getSelectableFromCurPos($1,3);$0=$3.applyCurPosNormalization($0);}}return $0;},$54:function($p0,$p1){var $0=false;var $1=(ss.isValue($p1))?$p1:false;var $2=this.getSelectableFromCurPos($p0,4);if($2!=null){$0=$2.isCurAfterParaMark($p0);}if($0&&$1){$p0.set_chIndex($p0.get_chIndex()-1);}return $0;},$55:function($p0,$p1){var $0=false;var $1=(ss.isValue($p1))?$p1:false;var $2=this.getSelectableFromCurPos($p0,4);if($2!=null){$0=$2.isCurBeforeParaMark($p0);}if($0&&$1){$p0.set_chIndex($p0.get_chIndex()+1);}return $0;},applySelUpdation:function(oNewRng,bShowSelection,bClearPrevious,bForcedDraw,bScrollRequired,bSendSelChng,eSelChngType,bMouseInterection){if(bClearPrevious){this.$50();}if(!ss.isValue(bForcedDraw)){bForcedDraw=false;}var $0=bForcedDraw||(this.get_curRange()==null&&oNewRng!=null)||(ss.isValue(this.get_curRange())&&!this.get_curRange().isEqual(oNewRng));if($0){var $1=oNewRng.getMainDocIndex();if((this.get_activeDoc()!==this.$25[$1])){this.$4F(this.$25[$1],true);}this.get_activeDoc().applyRangeExpansion(oNewRng);this.set_curRange(oNewRng);if(bMouseInterection){oNewRng=oNewRng.clone();var $2=this.$7A(oNewRng);$2.expandSelection(oNewRng,false);}if(oNewRng.isCollapsed()){this.$70(oNewRng.get_startCurPos());}if(bShowSelection){this.$6B(oNewRng);}}if(bScrollRequired&&this.get_activeDoc()!=null&&this.get_activeDoc().get_controlHandle()!=null){var $3=this.getCursorRect(oNewRng.getEndCurPos(),false);this.get_activeDoc().get_controlHandle().handleOnContainerCtrlNotification(1,$3);}if(ss.isValue(bSendSelChng)&&bSendSelChng){this.$76(oNewRng,eSelChngType);}this.$8F(this.get_curRange());},processPreselection:function(bIsShowme){var $0=false;var $1=Object.keys(this.$25);for(var $2=0;$2<$1.length;$2++){var $3=this.$25[$1[$2]];var $4=(ss.isValue($3))?$3.get_referenceParent():null;bIsShowme=false;if(ss.isValue($4)){var $5=Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementById($4,(bIsShowme)?'tutorialpreselection_start':'preselection_start');var $6=Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementById($4,(bIsShowme)?'tutorialpreselection_end':'preselection_end');$0=this.handlePreselection($5,$6);if($0){break;}}}return $0;},handlePreselection:function(eleStart,eleEnd){var $0=false;if(ss.isValue(eleStart)&&ss.isValue(eleEnd)){$0=this.$73(eleStart,eleEnd,false,2);}return $0;},processSelChangeNotification:function(elmCntnr,bParseCurRow){},simulateBrowserSel:function(oMainDoc,ptClick,eBtnState){var $0=null;var $1=this.$51(oMainDoc,ptClick,new Kepler.Framework.UI.CustomSelection.CurPos());if(ss.isValue($1)){if(eBtnState===1){this.$3F=$1;}var $2=(ss.isValue(this.$3F))?this.$3F:$1;var $3=$1;if(eBtnState===2){this.$3F=null;}$0=new Kepler.Framework.UI.CustomSelection.SelRange();$0.setStartFromCurPos($2.clone());$0.setEndFromCurPos($3.clone());this.applySelUpdation($0,true);if(eBtnState===2){this.$76(this.get_curRange(),2);}}return $0;},setEditableForKeyCommand:function(elmCntnr,strId){var $0=false;if(ss.isValue(elmCntnr)){var $1=(ss.isValue(elmCntnr))?Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementById(elmCntnr,strId):null;$0=this.$56($1,true,true);if(Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementById($1,'temp_typing_elm');if(ss.isValue($2)){$2.style.minWidth='0px';}}}return $0;},$56:function($p0,$p1,$p2){if((this.$3D!=null&&$p1)||(this.$3D==null&&!$p1)){return false;}var $0=false;var $1=$p0;if(ss.isValue($1)){this.$3D=(($p1)?$p0:null);if(Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()&&ss.isValue($p2)){this.set_selVisibility($p2);}else{this.set_selVisibility(!$p1);}$0=true;if($p1){var $2=document.createElement('span');Kepler.Engine.UI.Helper.HtmlCssHelper.addElementAttribute($2,'contenteditable','true');Kepler.Engine.UI.Helper.HtmlCssHelper.setElementOutline($2,'none');$2.id='temp_typing_elm';$2.style.display='inline-block';$2.style.minWidth='4px';var $3=$1.childNodes[0];if(ss.isValue($3)){$1.insertBefore($2,$3);}else{$1.appendChild($2);}$2.focus();}else{var $4=Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementById($1,'temp_typing_elm');if(ss.isValue($4)){$4.parentNode.removeChild($4);}}}return $0;},disableEditableFromTyping:function(){var $0=this.$3D;this.$56(this.$3D,false);return $0;},resetTypingArea:function(elmTyping){var $0=false;if(ss.isValue(elmTyping)){var $1=this.$58(elmTyping);if(ss.isValue($1)){$1.parseChild();$0=true;}}return $0;},getBoundingTypingRange:function(oCurrRng){var $0=this.$6E(oCurrRng);var $1=(ss.isValue($0.get_referenceParent()))?Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementById($0.get_referenceParent(),'typing'):null;if(ss.isValue($1)){$0.set_typingRange(Kepler.Framework.UI.CustomSelection.CustomSelHelper.getRangeFrmElement($1));}return $0.get_typingRange();},$57:function($p0){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getParentElementById($p0,'page');var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getParentElementById($0,'document');var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementsByName($1,'page');var $3=Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementsByName($0,'para');var $4=$2.indexOf($0);var $5=$3.indexOf($p0)+1;for(;$4<$2.length;$4++){$3=Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementsByName($2[$4],'para');if($5<$3.length){return $3[$5];}$5=0;}return null;},$58:function($p0){return this.$59($p0,'row');},$59:function($p0,$p1){var $0=this.$4E(Kepler.Engine.UI.Helper.HtmlCssHelper.getParentElementByName($p0,'document'));return (ss.isValue($0))?$0.getSelectableAreaForElement($p0,$p1):null;},$5A:function(){if(ss.isNullOrUndefined(this.$30)){this.$30=document.createElement('div');this.$30.style.backgroundColor='rgba(15, 15, 15, 0.219608)';this.$30.style.borderLeft='solid 1px rgb(0,0,0)';this.$30.style.position='absolute';this.$30.style.top='-1000px';this.$30.style.left='-1000px';this.$30.style.width='0px';this.$30.style.height='8px';this.$30.style.zIndex=200;this.$30.className='selection_cursor';}this.$5C(this.get_activeDoc());},$5B:function(){var $0=(this.$30.style.visibility==='visible')?true:false;if($0){this.$30.style.visibility='hidden';}else{this.$30.style.visibility='visible';}},$5C:function($p0){var $0=($p0!=null)?$p0.get_referenceParent():null;if(ss.isValue($0)){var $1=$0.getElementsByClassName('selection_cursor')[0];if(!ss.isNullOrUndefined($1)){$0.removeChild($1);}$0.appendChild(this.$30);}},$5D:function(){var $0=this.$30.parentNode;if(ss.isValue($0)){$0.removeChild(this.$30);}},$5E:function($p0){var $0=-1;if(ss.isValue($p0)){var $1=$p0.getAttribute('docindex');$0=(ss.isValue($1))?parseInt($1,10):-1;}return $0;},$5F:function($p0){var $0=this.$4E($p0);return (ss.isValue($0))?$0.get_referenceParent():null;},processViewForSel:function(elmEditRef,oControl){if(ss.isValue(elmEditRef)){this.$5A();if(ss.isNullOrUndefined(this.$25)){this.$25={};}else{this.$63(elmEditRef);}this.$65(elmEditRef);this.$77(elmEditRef,false);if(ss.isValue(this.$26)){this.$26.clear();}else{this.$26=[];}var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.createTreeWalker(elmEditRef,1,ss.Delegate.create(this,this.nodeFilterAcceptCheck),false);var $1=$0.nextNode();while($1!=null){$1=$0.nextNode();}var $2=new Kepler.Framework.UI.Point(elmEditRef.scrollLeft,elmEditRef.scrollTop);var $3=Object.getKeyCount(this.$25);for(var $4=0;$4<this.$26.length;$4++){var $5=this.$26[$4];$5.set_index($3+$4);this.$25[$3+$4]=$5;var $6=$5.get_domElement();$5.set_controlHandle(oControl);$5.set_referenceParent(elmEditRef);$5.set_hitPriority(Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($6,'hitpriority',0));var $7=Kepler.Engine.UI.Helper.HtmlCssHelper.calcOffsetBetwnElement(elmEditRef,$6);var $8=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientRect($6);$5.set_offsetRect(new Kepler.Framework.UI.Rect($7.get_x()+$2.get_x(),$7.get_y()+$2.get_y(),$8.get_width(),$8.get_height()));$5.set_pageWidth(Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($6,'page_width',0));var $9=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttribute($6,'block_editing');$5.set_isEditingBlocked(ss.isValue($9));this.sendContainerControlNotification($5);$5.parseChild();this.$3($5);}this.$26.clear();this.$64();this.$72();}},sendContainerControlNotification:function(oMainDoc){},$60:function($p0){if(ss.isValue($p0)){this.$63($p0);return true;}return false;},nodeFilterAcceptCheck:function(elm){var $0=this.$61(elm);if($0!=null){this.$62($0,elm);return 2;}return 1;},$61:function($p0){var $0=null;if($p0.getAttribute('name')==='document'){if($p0.hasAttribute('containssection')){$0=new Kepler.Framework.UI.CustomSelection.Selectables.Framework$D();}else if($p0.hasAttribute('header_footer_section_doc')){$0=new Kepler.Framework.UI.CustomSelection.Selectables.Framework$E();}else{$0=Kepler.Framework.FrameworkObjectFactory.getMainDocObject();}}return $0;},$62:function($p0,$p1){$p1.setAttribute('docindex',Object.getKeyCount(this.$25));$p0.set_domElement($p1);$p0.set_name('document');$p0.set_selHandler(this);this.$26.add($p0);},$63:function($p0){var $0=Object.keys(this.$25);var $1;var $2=0;var $3={};var $enum1=ss.IEnumerator.getEnumerator($0);while($enum1.moveNext()){var $4=$enum1.current;$1=(Object.keyExists(this.$25,$4))?this.$25[$4]:null;if(ss.isValue($1)&&($1.get_referenceParent()===$p0)){delete this.$25[$4];}else{$1.set_index($2);$3[$2]=$1;$2++;}}Object.clearKeys(this.$25);this.$25=$3;},$64:function(){var $0=Object.keys(this.$25);var $1;var $2=null;var $enum1=ss.IEnumerator.getEnumerator($0);while($enum1.moveNext()){var $3=$enum1.current;$1=this.$25[$3];if($2==null&&!$1.get_hitPriority()){$2=$1;}if($1.getAttributeAsInt('basemaindoc')===1){$2=$1;break;}}if($2!=null&&$2!==this.get_baseMainDoc()){this.set_baseMainDoc($2);}},$65:function($p0){var $0=false;var $1=$p0.ownerDocument;for(var $2=0;$2<this.$47.length;$2++){var $3=this.$47[$2];this.$68($3,this.$67(new Kepler.Framework.UI.CustomSelection.ActedKey(252,false,false,false)));var $4=$3.ownerDocument;if($4===$1){$0=true;break;}}if(!$0){var $5=$1.createElement('style');Kepler.Engine.UI.Helper.HtmlCssHelper.addElementAttribute($5,'dynamicstyle','');this.$47.add($5);Kepler.Engine.UI.Helper.HtmlCssHelper.appendChildInHead($p0,$5);this.$68($5,this.$67(new Kepler.Framework.UI.CustomSelection.ActedKey(252,false,false,false)));var $6=$1.createElement('style');Kepler.Engine.UI.Helper.HtmlCssHelper.addElementAttribute($6,'selhandlerstyle','');var $7='.display_none { display: none !important; } '+this.getExtraCustomCSS()+Kepler.Framework.UI.CustomSelection.Comments.CommentGroup.styleS_COMMENT_GROUP+''+Kepler.Framework.UI.CustomSelection.SelectionHandler.$24+'span[name="header_footer_section"]{display:table-row}';Kepler.Engine.UI.Helper.HtmlCssHelper.appendChildInHead($p0,$6);this.$68($6,$7);}},getExtraCustomCSS:function(){return '';},$66:function($p0){if(!this.$32&&$p0!=null&&this.$48!=null){var $0=(this.$48.ctrl!==$p0.ctrl||this.$48.alt!==$p0.alt||this.$48.shift!==$p0.shift);this.$48=$p0;if($0){for(var $1=0;$1<this.$47.length;$1++){var $2=this.$47[$1];this.$68($2,this.$67($p0));}}}},$67:function($p0){var $0='';if(ss.isValue($p0)){$0+=($p0.ctrl)?'[hoverable]{cursor:pointer;}\n':'[hoverable]{cursor:text;}\n';}return $0;},$68:function($p0,$p1){try{if(ss.isValue($p0)&&ss.isValue($p1)&&!!$p1.length){$p0.innerHTML=$p1;}}catch($0){}},updateForLayoutResize:function(elmRefCntnr,dZoomFactor){this.$69(elmRefCntnr,dZoomFactor);this.$6A(elmRefCntnr,dZoomFactor);var $0=this.get_curRange();if($0!=null&&$0.isCollapsed()){this.$70($0.get_startCurPos());}},$69:function($p0,$p1){var $0=(this.$3A!==$p1);this.$3A=$p1;if($0){Kepler.Framework.UI.CustomSelection.Selectables.SelElement.recalcCharProps();}},$6A:function($p0,$p1){var $0=Object.keys(this.$25);var $1=(ss.isValue($p0))?true:false;var $2;var $enum1=ss.IEnumerator.getEnumerator($0);while($enum1.moveNext()){var $3=$enum1.current;$2=(Object.keyExists(this.$25,$3))?this.$25[$3]:null;var $4=($1)?(ss.isValue($2)&&($2.get_referenceParent()===$p0)):true;if($4){$2.recalcLayout($p1);}}},$6B:function($p0){var $0=(this.get_dragState()===3);if(!$0&&ss.isValue($p0)){var $1=$p0.isCollapsed()&&this.get_activeDoc().get_focused();this.$71($1,0);var $2=$p0.get_startCurPos().get_docPos()[0].get_docIndex();var $3=$p0.get_endCurPos().get_docPos()[0].get_docIndex();var $4=null;if($2===$3){$4=this.$25[$2];}if(ss.isValue($4)){if($p0.isCollapsed()){$4.clearSelection();}else{$4.showSelection($p0);}}}},setSelection:function(oSelRange){this.applySelUpdation(oSelRange,true,true,true,false,true,1);},clearSelection:function(oSelRange){if(ss.isValue(oSelRange)&&ss.isValue(oSelRange.getStartCurPos())&&ss.isValue(oSelRange.getEndCurPos())){var $0=oSelRange.get_startCurPos().get_docPos()[0].get_docIndex();var $1=oSelRange.get_endCurPos().get_docPos()[0].get_docIndex();var $2=null;if($0===$1){$2=this.$25[$0];}if(ss.isValue($2)){$2.clearSelection();}}},$6C:function($p0){var $0=this.$6E($p0);if(ss.isValue($0)){$0=$0.getCommonParent($p0.get_startCurPos(),$p0.get_endCurPos());}return $0;},$6D:function($p0,$p1){var $0=this.$6C($p0);return $0.getParentByType($p1);},$6E:function($p0){var $0=$p0.getMainDocIndex();return this.$25[$0];},$6F:function($p0){return this.$25[$p0.get_docPos()[0].get_docIndex()];},$70:function($p0){if(ss.isValue($p0)){var $0=this.getCursorRect($p0,true);this.$30.style.left=$0.get_left()+'px';this.$30.style.top=$0.get_top()+'px';this.$30.style.width=$0.get_width().toString()+'px';this.$30.style.height=$0.get_height().toString()+'px';}},getCursorRect:function(oPos,bOffsetRect){var $0=this.getDocFromCurPos(oPos);var $1=$0.getCursorRect(oPos,0);if(bOffsetRect){}else{$1.set_left($1.get_left()-$0.get_referenceParent().scrollLeft);$1.set_top($1.get_top()-$0.get_referenceParent().scrollTop);}return $1;},getDocFromCurPos:function(oPos){return this.$25[oPos.get_docPos()[0].get_docIndex()];},getDocFromRange:function(oRange){var $0=oRange.get_startCurPos().get_docPos()[0].get_docIndex();var $1=oRange.get_endCurPos().get_docPos()[0].get_docIndex();return this.$25[$0];},$71:function($p0,$p1){if(ss.isNullOrUndefined(this.$30)){return;}this.$30.style.visibility=($p0)?'visible':'hidden';if($p0){if(!$p1){if(!this.$46.get_isRunning()){this.$46.start();}}else{if(!this.$46.get_isRunning()){this.$46.stop();}}}else{if(this.$46.get_isRunning()){this.$46.stop();}}},$72:function(){for(var $0=0;$0<Object.getKeyCount(this.$25);$0++){this.$25[$0].addParaHeaderBtn();}},$73:function($p0,$p1,$p2,$p3){var $0=Kepler.Framework.UI.CustomSelection.CustomSelHelper.getRangeBtwn($p0,$p1);if($0!=null&&$0.getMainDocIndex()!==-1){this.applySelUpdation($0,true,true,true,$p2,true,$p3);return true;}return false;},$74:function($p0,$p1,$p2){var $0=Kepler.Framework.UI.CustomSelection.CustomSelHelper.getRangeBtwn($p1,$p2);this.applySelUpdation($0,true,true,true,false,true,2);return true;},$75:function($p0,$p1,$p2){var $0=false;var $1,$2,$3;this.$4F($p0,true);$1=this.$51($p0,$p1,new Kepler.Framework.UI.CustomSelection.CurPos());$2=(ss.isValue($1))?$1.clone():null;$1=this.$51($p0,$p2,new Kepler.Framework.UI.CustomSelection.CurPos());$3=(ss.isValue($1))?$1.clone():null;if(ss.isValue($3)&&ss.isValue($2)){this.get_curRange().setStartFromCurPos($2);this.get_curRange().setEndFromCurPos($3);this.applySelUpdation(this.get_curRange(),true,true);$0=true;}return $0;},$76:function($p0,$p1){var $0=ss.isValue(this.get_curRange());if($0||($p1===1)){this.$3E=$p1;if(ss.isValue(this.$2D)){this.$2D(this,this.get_curRange());}}this.set_considerHighlightText(false);return $0;},$77:function($p0,$p1){if(ss.isValue($p0)){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementsByName($p0,'editabletext');for(var $1=0;$1<$0.length;$1++){var $2=$0[$1];if($2.hasAttribute('contenteditable')){$2.setAttribute('contenteditable',$p1);}}}},$78:function($p0){var $0=new Kepler.Framework.UI.Point(0,0);var $1=(ss.isValue($p0))?this.$4E($p0):null;var $2=(ss.isValue($1))?$1.get_referenceParent():null;if(ss.isValue($2)){$0.set_x($2.scrollLeft);$0.set_y($2.scrollTop);}return $0;},determineSelectionMode:function(ptClient,eBtnState){var $0=1;var $1=ptClient;var $2=6;if(this.$42&&($1.get_x()>=this.$43.get_x()-$2)&&($1.get_x()<=this.$43.get_x()+$2)&&($1.get_y()>=this.$43.get_y()-$2)&&($1.get_y()<=this.$43.get_y()+$2)){this.$42=false;$0=3;}else if(!this.$41){this.$41=true;this.$43=$1;window.setTimeout(ss.Delegate.create(this,function(){
this.$41=false;}),500);}else{if($1.get_x()>=this.$43.get_x()-$2&&$1.get_x()<=this.$43.get_x()+$2&&$1.get_y()>=this.$43.get_y()-$2&&$1.get_y()<=this.$43.get_y()+$2){$0=2;}else{this.$41=false;}if(this.$41&&!this.$42){this.$42=true;window.setTimeout(ss.Delegate.create(this,function(){
this.$42=false;}),500);}this.$41=false;}return $0;},handleNotification:function(eType,oTarget,data){var $0=false;switch(eType){case 4:this.applySelUpdation(data,true,true,false,false,true,1,false);$0=true;break;case 6:this.get_activeDoc().recalcLayout(this.$3A);this.applySelUpdation(data,true,true,true,false,true,2,false);$0=true;break;}if(ss.isValue(this.$2F)){var $1=this.$2F(this,eType,data);$0=$0||$1;}return $0;},getDocCntnrFromRange:function(oSelRng){var $0=this.$6E(oSelRng);return ($0!=null)?$0.get_referenceParent():null;},getRangeIndices:function(oSelRng){var $0=new Kepler.Engine.UI.Controls.TextControl.SelectionArgs(0,0);var $1=this.getDocFromCurPos(oSelRng.get_startCurPos());$0.set_startIndex($1.getRangeOffsetFromCurPos(oSelRng.get_startCurPos()));$0.set_endIndex($1.getRangeOffsetFromCurPos(oSelRng.get_endCurPos()));return $0;},getWordFromSelRange:function(oLastEnd){var $0='';var $1=this.getWordRngFrmCurPos(oLastEnd);$0=this.getRangeText($1);return $0;},getWordRngFrmCurPos:function(oCurPos){var $0=new Kepler.Framework.UI.CustomSelection.SelRange();$0.setStartFromCurPos(oCurPos);$0.setEndFromCurPos(oCurPos);this.$79($0);return $0;},getParaRngFrmCurPos:function(oCurPos){var $0=this.getDocFromCurPos(oCurPos);var $1=($0!=null)?$0.getSelectableFromCurPos(oCurPos,2):null;return ($1!=null)?$1.getRange():null;},$79:function($p0){var $0=this.$6E($p0);var $1=$0.getSelectableFromCurPos($p0.get_startCurPos(),3);if($1!=null){var $2=$1.getOffsetIndexFromCurPos($p0.get_startCurPos());var $3=this.getRangeText($1.getRange());var $4=Kepler.Framework.UI.CustomSelection.Selectables.SelectableArea.getSelectionGrpIndicesForString($3,$2,false);if(ss.isValue($4)){$p0.collapse(true);$1.setCurPosFromRangOffset($4.get_startIndex(),$p0.get_startCurPos());$1.setCurPosFromRangOffset($4.get_endIndex(),$p0.get_endCurPos());return true;}}return false;},getRangeText:function(oRng,bWordIfCollapsed){var $0=oRng;if(ss.isValue(bWordIfCollapsed)&&bWordIfCollapsed&&oRng.isCollapsed()){$0=this.getWordRngFrmCurPos(oRng.get_startCurPos());}var $1=this.$6E($0);return (ss.isValue($1))?$1.getStringForRange($0):'';},getCurrentRange:function(){var $0=this.get_curRange();return (ss.isValue($0))?$0.clone():null;},$7A:function($p0){var $0=null;var $1=$p0.clone();var $2=Math.min($1.get_startCurPos().get_level(),$1.get_endCurPos().get_level());$1.get_startCurPos().set_level($2);$1.get_endCurPos().set_level($2);var $3=this.$6E($1);var $4=$3.getSelectableFromCurPos($1.get_startCurPos(),4);var $5=$3.getSelectableFromCurPos($1.get_endCurPos(),4);while($4!=null&&$5!=null){if($4===$5){$0=$4;break;}$4=$4.get_parent();$5=$5.get_parent();}return $0;},getSelectableFromCurPos:function(oPos,eType){var $0=this.$6F(oPos);return $0.getSelectableFromCurPos(oPos,eType);},getCommonParentForRange:function(oRng){var $0=this.$7A(oRng);return ($0!=null)?$0.get_domElement():null;},getSelectableStartCntnrForRng:function(oRng,eCntnrType){var $0=oRng.get_startCurPos().clone();return this.getSelectableFromCurPos($0,eCntnrType);},getSelectableEndCntnrForRng:function(oRng,eCntnrType){var $0=oRng.get_endCurPos().clone();return this.getSelectableFromCurPos($0,eCntnrType);},processRangeForSelVerification:function(oRng){var $0=oRng;if(ss.isValue(oRng)){var $1=this.$6C(oRng);$0=$1.getAdjustedRangeForComparison(oRng);}return $0;},navigatePage:function(iPageNo){var $0=this.getPageRange(iPageNo);if($0!=null&&$0.getMainDocIndex()!==-1){this.applySelUpdation($0,true,true,true,true,true,this.$3E);}},getPageRange:function(iPageIndex){return (this.get_activeDoc()!=null)?this.get_activeDoc().getPageRange(iPageIndex):null;},navigateAndSelectWord:function(iWordNo){var $0=Object.keys(this.$25);for(var $1=0;$1<$0.length;$1++){var $2=this.$25[$0[$1]];var $3=(ss.isValue($2))?$2.get_referenceParent():null;if(ss.isValue($3)){var $4=Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementById($3,'navselection_start'+iWordNo.toString());var $5=Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementById($3,'navselection_end'+iWordNo.toString());if(ss.isValue($4)&&ss.isValue($5)){this.$73($4,$5,true,1);}}}},$7B:function(){this.$49.add(new Kepler.Framework.UI.CustomSelection.ActedKey(65,false,false,true));this.$49.add(new Kepler.Framework.UI.CustomSelection.ActedKey(35));this.$49.add(new Kepler.Framework.UI.CustomSelection.ActedKey(36));this.$49.add(new Kepler.Framework.UI.CustomSelection.ActedKey(33));this.$49.add(new Kepler.Framework.UI.CustomSelection.ActedKey(34));this.$49.add(new Kepler.Framework.UI.CustomSelection.ActedKey(37));this.$49.add(new Kepler.Framework.UI.CustomSelection.ActedKey(39));this.$49.add(new Kepler.Framework.UI.CustomSelection.ActedKey(38));this.$49.add(new Kepler.Framework.UI.CustomSelection.ActedKey(40));this.$49.add(new Kepler.Framework.UI.CustomSelection.ActedKey(35,false,false,true));this.$49.add(new Kepler.Framework.UI.CustomSelection.ActedKey(36,false,false,true));this.$49.add(new Kepler.Framework.UI.CustomSelection.ActedKey(37,false,false,true));this.$49.add(new Kepler.Framework.UI.CustomSelection.ActedKey(39,false,false,true));this.$49.add(new Kepler.Framework.UI.CustomSelection.ActedKey(38,false,false,true));this.$49.add(new Kepler.Framework.UI.CustomSelection.ActedKey(40,false,false,true));this.$49.add(new Kepler.Framework.UI.CustomSelection.ActedKey(1001,false,false,false));this.$49.add(new Kepler.Framework.UI.CustomSelection.ActedKey(1002,false,false,false));this.$49.add(new Kepler.Framework.UI.CustomSelection.ActedKey(36,true,false,false));this.$49.add(new Kepler.Framework.UI.CustomSelection.ActedKey(35,true,false,false));this.$49.add(new Kepler.Framework.UI.CustomSelection.ActedKey(36,true,false,true));this.$49.add(new Kepler.Framework.UI.CustomSelection.ActedKey(35,true,false,true));},isAllowedKey:function(oActedKey){var $0=false;var $1=this.$49.length;for(var $2=0;$2<$1;$2++){var $3=(37===oActedKey.key||39===oActedKey.key||38===oActedKey.key||40===oActedKey.key)?true:false;$0=this.$49[$2].isEqual(oActedKey,$3);if($0){break;}}return $0;},getActSelectionRange:function(iIndex){var $0=null;var $1=(ss.isValue(this.get_activeDoc()))?this.get_activeDoc().get_referenceParent():null;if(ss.isValue($1)){var $2='actselection_start';var $3='actselection_end';if(iIndex>=0){$2+=iIndex;$3+=iIndex;}var $4=Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementById($1,$2);var $5=Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementById($1,$3);if(ss.isValue($4)&&ss.isValue($5)){$0=Kepler.Framework.UI.CustomSelection.CustomSelHelper.getRangeBtwn($4,$5);}}return $0;},getSelFontSize:function(oSelRng){var $0='';if(ss.isValue(oSelRng)){var $1=this.getSelectableFromCurPos(oSelRng.get_startCurPos(),4);var $2=this.getSelectableFromCurPos(oSelRng.get_endCurPos(),4);var $3=($1!=null)?this.$7C($1.get_domElement()):'';var $4=($2!=null)?this.$7C($2.get_domElement()):'';if(!!$3&&!!$4){$0=(!$3.compareTo($4))?$3:'-1';}}return $0;},$7C:function($p0){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getParentElement('FONT','',$p0,false);var $1=(ss.isValue($0))?Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($0,'viewfontsize'):'';return $1;},$7D:function($p0){var $0='';var $1=(ss.isValue($p0))?$p0.ownerDocument:null;var $2=$p0;while(!$0&&$2!=null){var $3=$2.className;if(ss.isNullOrUndefined($3)||!$3.length){$2=$2.parentNode;continue;}var $4=this.$81($2,$3);if(ss.isValue($4)){$0=$4.fontSize;}$2=$2.parentNode;}return $0;},getSelHAlignment:function(oRng){var $0=-2;var $1=[];var $2=this.getAttrValuesOnSelPara(oRng,'halignment');var $3={};$3['left']=-2;$3['right']=1;$3['justify']=3;$3['center']=2;var $4=$2.length;for(var $5=0;$5<$4;$5++){var $6=$2[$5];if(!String.isNullOrEmpty($6)){var $7=$3[$6];if($0===-2){$0=$7;}else if($0===$7){$0=$7;}else{$0=-1;}}else{if($0!==-2){$0=-1;break;}}if($0===-1){break;}}if($0===-2){$0=0;}return $0;},$7E:function($p0){var $0='';if(ss.isValue($p0)){var $1=$p0;var $2='';while(!$2&&$1!=null){var $3=$1.className;if(ss.isNullOrUndefined($3)||!$3.length){$1=$1.parentNode;continue;}var $4=this.$81($1,$3);if(ss.isValue($4)){$2=$4.textAlign;}$1=$1.parentNode;}$0=$2;}return $0;},getSmallCaps:function(oSelBound){var $0='-1';if(ss.isValue(oSelBound)){var $1=this.$7D(oSelBound.startElement);if(!!$1){$0=$1;}}return $0;},getFontFace:function(oSelRng){var $0=this.$7F(oSelRng,'font-family');$0=$0.replaceAll("'",'');$0=$0.replaceAll('"','');$0=$0.replaceAll('k_','');if($0==='TimesNewRoman'){$0='Times_New_Roman';}$0=$0.replaceAll('_',' ');var $1=$0.split(',');return (ss.isValue($1)&&($1.length>0))?$1[0]:'';},$7F:function($p0,$p1){var $0='';var $1={};$1['prop']=$p1;$1['value']='';if(ss.isValue($p0)){if(this.$86($p0,$1)){$0=$1['value'];}}return $0;},getFontSize:function(oSelRng){var $0=this.getSelFontSize(oSelRng);if(String.isNullOrEmpty($0)){$0=this.$7F(oSelRng,'font-size');}return (!$0.length)?-1:parseInt($0,10);},getFontColor:function(oSelRng){var $0=this.$7F(oSelRng,'color');return Kepler.Framework.UI.Color.parse($0);},getHighlightColor:function(oSelRng){var $0=this.$7F(oSelRng,'background-color');return Kepler.Framework.UI.Color.parse($0);},isCurSelBold:function(){return this.isSelBold(this.get_curRange());},isSelBold:function(oSelRng){var $0={};$0['prop']='bold';$0['value']='1';return this.$86(oSelRng,$0);},isCurSelItalic:function(){return this.isSelItalic(this.get_curRange());},isSelItalic:function(oSelRng){var $0={};$0['prop']='italic';$0['value']='1';return this.$86(oSelRng,$0);},isCurSelUnderlined:function(){return this.isSelUnderlined(this.get_curRange());},isSelUnderlined:function(oSelRng){var $0={};$0['prop']='underline';$0['value']='1';return this.$86(oSelRng,$0);},isSelStrikethrough:function(oSelRng){var $0={};$0['prop']='strikethrough';$0['value']='1';return this.$86(oSelRng,$0);},isSelSuperscript:function(oSelRng){var $0={};$0['prop']='superscript';$0['value']='1';return this.$86(oSelRng,$0);},isSelSubscript:function(oSelRng){var $0={};$0['prop']='subscript';$0['value']='1';return this.$86(oSelRng,$0);},getCurrentPageIndex:function(oSelRange){var $0=this.getSelectableStartCntnrForRng(oSelRange,2);return ($0!=null&&$0.get_assocPage()!=null)?$0.get_assocPage().get_index():-1;},getPreviewStringForSelection:function(oCurrSelRng){var $0='';var $1='';if(ss.isValue(oCurrSelRng)){var $2=(oCurrSelRng.isCollapsed())?this.getWordRngFrmCurPos(oCurrSelRng.get_startCurPos()):oCurrSelRng;$1=(ss.isValue($2))?this.getRangeText($2):'';$1=$1.replace(new RegExp('(\n)+','gm'),' ');$1=$1.replaceAll('\r','');$0=$1;}return $0;},$80:function($p0){return this.getWordsInRange($p0);},getWordsInDocument:function(bIncludeFloatingDocs){var $0=0;var $1=Object.keys(this.$25);for(var $2=0;$2<$1.length;$2++){var $3=this.$25[$1[$2]];$0+=$3.get_wordCount();}return $0;},getTotalPages:function(bIncludeFloatingDocs){var $0=0;var $1=Object.keys(this.$25);for(var $2=0;$2<$1.length;$2++){var $3=this.$25[$1[$2]];$0+=$3.get_pageCount();}return $0;},getTotalChars:function(bIncludeSpace){var $0=0;var $1=Object.keys(this.$25);for(var $2=0;$2<$1.length;$2++){var $3=this.$25[$1[$2]];$0+=((bIncludeSpace)?$3.get_characterCountWithSpace():$3.get_characterCountWithoutSpace());}return $0;},getTotalParagraph:function(){var $0=0;var $1=Object.keys(this.$25);for(var $2=0;$2<$1.length;$2++){var $3=this.$25[$1[$2]];$0+=Object.getKeyCount($3.get_children());}return $0;},getTotalLines:function(){var $0=0;var $1=Object.keys(this.$25);for(var $2=0;$2<$1.length;$2++){var $3=this.$25[$1[$2]];$0+=$3.get_lineCount();}return $0;},getPagesInRange:function(oRng){var $0=this.getSelectableFromCurPos(oRng.get_startCurPos(),2);var $1=this.getSelectableFromCurPos(oRng.get_endCurPos(),2);var $2=$0.get_assocPage().get_index();var $3=$1.get_assocPage().get_index();return ($3-$2+1);},getParasInRange:function(oRng){var $0=this.getSelectableFromCurPos(oRng.get_startCurPos(),2);var $1=this.getSelectableFromCurPos(oRng.get_endCurPos(),2);return ($1.get_index()-$0.get_index()+1);},getTypingElmInSelDoc:function(oCstmSelRng){var $0=this.$6E(oCstmSelRng);if(ss.isValue($0)){return Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementById($0.get_referenceParent(),'typing');}return null;},getParaPropIndicesForSelection:function(oRng,strPropName){var $0=[];var $1=this.getAttrValuesOnSelPara(oRng,strPropName);var $2=$1.length;for(var $3=0;$3<$2;$3++){var $4=$1[$3];if(!String.isNullOrEmpty($4)){$0.add(parseInt($4,10));}}return $0;},getAttrValuesOnSelPara:function(oSelRange,strPropName){var $0=[];if(ss.isValue(oSelRange)){var $1={};$1['attrname']=(String.isNullOrEmpty(strPropName))?'':strPropName;$1['retval']=$0;this.$88(oSelRange,ss.Delegate.create(this,this.$89),$1);}return $0;},$81:function($p0,$p1){var $0=null;var $1=(ss.isValue($p0))?$p0.ownerDocument:null;var $2=(ss.isValue($1))?$1.styleSheets:null;if(ss.isValue($2)){for(var $3=0;$3<$2.length;$3++){var $4=$2[$3];var $5=$4.rules;if(ss.isValue($5)){for(var $6=0;$6<$5.length;$6++){var $7=$5[$6];if(ss.isValue($7)){var $8=$7.selectorText;if(ss.isValue($8)&&$8.charAt(0)==='.'){if($p1===$8.substr(1)){var $9=$7.style;$0=$9;}}}}}}}return $0;},$82:function($p0,$p1){var $0='';var $1=this.getSelectableStartCntnrForRng($p0,4);var $2=this.getSelectableEndCntnrForRng($p0,4);var $3=($1!=null)?$1.get_domElement():null;var $4=($2!=null)?$2.get_domElement():null;var $5=($3!=null&&$4!=null)?Kepler.Engine.UI.Helper.HtmlCssHelper.getCommonParent($3,$4):null;if($5!=null){while($5.nodeType===3){$5=$5.parentNode;}var $6=$3;$0=Kepler.Engine.UI.Helper.HtmlCssHelper.getCSSProperty($6,$p1);while($6!==$5){var $7=Kepler.Engine.UI.Helper.HtmlCssHelper.getCSSProperty($6,$p1);if($7!==$0){return '';}while(ss.isValue($6.nextSibling)){$6=$6.nextSibling;if($6.nodeType===1){var $8=this.$83($6,$p1,$0);if(!$8){return '';}}}$6=$6.parentNode;}$6=$4;while($6!==$5){var $9=Kepler.Engine.UI.Helper.HtmlCssHelper.getCSSProperty($6,$p1);if($9!==$0){return '';}while(ss.isValue($6.previousSibling)){$6=$6.previousSibling;if($6.nodeType===1){var $A=this.$83($6,$p1,$0);if(!$A){return '';}}}$6=$6.parentNode;}if(ss.isNullOrUndefined($0)){$0='';}}return $0;},$83:function($p0,$p1,$p2){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getCSSProperty($p0,$p1);if($0!==$p2){return false;}if(!$p0.hasChildNodes()){return true;}var $1=$p0.childNodes;var $2=$1.length;for(var $3=0;$3<$2;$3++){if($1[$3].nodeType===1){var $4=this.$83($1[$3],$p1,$p2);if(!$4){return false;}}}return true;},$84:function($p0){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getParentElementByName($p0,'page');var $1=($0!=null)?Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($0,'pageindex'):'';return (!!$1)?parseInt($1,10):1;},$85:function($p0,$p1){var $0='';var $1=(ss.isValue($p0))?$p0.length:-1;if($1!==-1&&$1>$p1){var $2=$p0.split(new RegExp('\\b','g'));var $3=(ss.isValue($2))?$2.length:-1;var $4=0;for(var $5=0;$5<$3;$5++){var $6=$2[$5];var $7=$4+$6.length;if($p1>$4&&$p1<=$7){$0=$6;break;}$4=$7;}}return $0;},getWordsInRange:function(oRng){var $0=this.getRangeText(oRng);var $1=$0.split(new RegExp('[ ]'));return $1.length;},getCharactersWithSpaceInRange:function(oRng){var $0=this.getRangeText(oRng);return $0.length;},getCharactersWithoutSpaceInRange:function(oRng){var $0=0;var $1=this.getRangeText(oRng);var $2=$1.split(new RegExp('\\s'));var $enum1=ss.IEnumerator.getEnumerator($2);while($enum1.moveNext()){var $3=$enum1.current;$0+=$3.length;}return $0;},getLinesInRange:function(oRng){var $0=0;var $1={};$1['count']=0;if(this.$8A(oRng,ss.Delegate.create(this,this.$8B),$1)){$0=$1['count'];}return $0;},$86:function($p0,$p1){var $0=false;var $1=this.$6D($p0,1);if(ss.isValue($1)){$0=$1.traverseRange($p0,ss.Delegate.create(this,this.$87),$p1);}return $0;},$87:function($p0,$p1){var $0=true;var $1=$p1;if(ss.isValue($p0)&&ss.isValue($1)){var $2=$p0;var $3=$1['prop'];var $4=$1['value'];if(!String.isNullOrEmpty($4)){$0=$2.verifyProperty($3,$4);}else{$1['value']=$2.getProperty($3);}}return $0;},$88:function($p0,$p1,$p2){var $0=false;var $1=this.$6E($p0);if(ss.isValue($1)){$0=$1.performOnParaWithinSel($p0,$p1,$p2);}return $0;},$89:function($p0,$p1){var $0=true;var $1=$p1;var $2=$1['attrname'];var $3=$1['retval'];if(ss.isValue($p0)&&!String.isNullOrEmpty($2)&&ss.isValue($3)){var $4=$p0.get_domElement();if(ss.isValue($4)){var $5=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($4,$2);$3.add($5);}}return $0;},$8A:function($p0,$p1,$p2){var $0=false;var $1=this.$6E($p0);if(ss.isValue($1)){$0=$1.performOnRowWithinSel($p0,$p1,$p2);}return $0;},$8B:function($p0,$p1){var $0=true;var $1=$p1;var $2=$1['count'];$1['count']=++$2;return $0;},$8C:function($p0){return null;},$8D:function($p0){var $0=this.$8C($p0);if(ss.isValue($0)){return $0.getChildAt($p0.get_paraIndex());}return null;},$8E:function($p0,$p1){var $0=null;var $1=$p0.clickPoint.clone();if(ss.isValue($p1)){$0=this.$6F($p1);}else{$0=this.determineMainDocFromClickPoint($p0.clickPoint);}var $2=Object.keys(this.$25);var $enum1=ss.IEnumerator.getEnumerator($2);while($enum1.moveNext()){var $4=$enum1.current;var $5=this.$25[$4];if($5.isMouseOver()&&$5!==$0){var $6=$p0.clickPoint.clone();var $7=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientPosition($5.get_referenceParent());$6.set_x($6.get_x()-$7.get_x());$6.set_y($6.get_y()-$7.get_y());$5.onMouseOut($6,$p0);}}var $3=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientPosition($0.get_referenceParent());$1.set_x($1.get_x()-$3.get_x());$1.set_y($1.get_y()-$3.get_y());return $0.onMouseOver($1,$p0);},$8F:function($p0){var $0=null;if(ss.isValue($p0)){$0=this.$6E($p0);var $1=Object.keys(this.$25);var $enum1=ss.IEnumerator.getEnumerator($1);while($enum1.moveNext()){var $2=$enum1.current;var $3=this.$25[$2];if($3!==$0){$3.onSelRngOut($p0);}}}else{$0=this.get_activeDoc();}$0.onSelRngIn($p0);},fillViewNavigationParams:function(oViewData){var $0=this.$6C(this.get_curRange());$0.fillViewNavigationParams(oViewData,this.get_curRange());}}
Kepler.Framework.UI.CustomSelection.SelVerifier=function(oSelHandler,oCurrRng,oReqRng){this.$0=oSelHandler;this.$1=oCurrRng;this.$2=oReqRng;this.$3=true;}
Kepler.Framework.UI.CustomSelection.SelVerifier.prototype={$0:null,$1:null,$2:null,$3:false,get_result:function(){return this.$3;},applyVerification:function(eVerification){var $0=true;var $1=(eVerification===5||eVerification===6);var $2=($1)?this.$0.getRangeText(this.$1):'';var $3=($1)?this.$0.getRangeText(this.$2):'';switch(eVerification){case 0:break;case 1:$0=this.$1.get_startCurPos().isEqual(this.$2.get_startCurPos());break;case 2:$0=this.$1.get_endCurPos().isEqual(this.$2.get_endCurPos());break;case 3:$0=this.$1.isEqual(this.$2);break;case 5:$0=($2===$3);break;case 6:var $4=this.$4($2);var $5=this.$4($3);$0=($4===$5);break;case 7:$0=this.$2.containsPos(this.$1.get_startCurPos());break;case 8:$0=this.$2.containsPos(this.$1.get_endCurPos());break;case 9:$0=this.$1.isCollapsed();break;case 4:$0=this.$2.get_startCurPos().isLess(this.$1.get_startCurPos());$0=$0&&this.$2.get_endCurPos().isGreater(this.$1.get_endCurPos());break;}this.$3=(this.$3&$0)===1;return $0;},runAllVerification:function(arrTest){var $0=true;for(var $1=0;arrTest.length>$1;$1++){var $2=this.applyVerification(arrTest[$1]);if(!$2){$0=false;break;}}return $0;},runAnyVerification:function(arrTest){var $0=false;for(var $1=0;arrTest.length>$1;$1++){if(this.applyVerification(arrTest[$1])){$0=true;break;}}return $0;},$4:function($p0){$p0.trim();var $0=$p0.length;while($0>0){var $1='\u00b6';var $2='\u00b7';if($p0.charAt($0-1)===$1||$p0.charAt($0-1)===$2){$p0.remove($0-1);}else{break;}$0=$p0.length;}return $p0;}}
Kepler.Framework.UI.CustomSelection.CustomRange=function(elmRefCntnr){this.$5=elmRefCntnr;this.$6=this.$5.ownerDocument;this.$7=(ss.isValue(this.$6.parentWindow))?this.$6.parentWindow:this.$6.defaultView;this.$4=this.$8();if(this.$4){this.$3=this.$A();}else{this.$2=this.$9();}}
Kepler.Framework.UI.CustomSelection.CustomRange.prototype={$2:null,$3:null,$4:false,$5:null,get_refContainer:function(){return this.$5;},$6:null,$7:null,get_isCollapsed:function(){return (ss.isValue(this.$2))?this.$2.collapsed:false;},$8:function(){if((typeof(document.body.createTextRange)==='function')){return false;}else{return false;}},$9:function(){return this.$5.ownerDocument.createRange(null);},$A:function(){return this.$5.ownerDocument.body.createTextRange(null);},getCommonParent:function(){if(this.$4){return this.$3.parentElement();}else{return this.$2.commonAncestorContainer;}},getTextOffset:function(oEndElement,iEndOffset){if(oEndElement.childNodes.length>0&&!iEndOffset){oEndElement=this.$F(oEndElement,iEndOffset);}var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementById(this.$5,'document');if(ss.isNullOrUndefined($0)){$0=this.$5;}var $1=0;var $2=this.$9();$2.setStart($0,$1);$2.setEnd(oEndElement,iEndOffset);var $3=$2.toString();if(Kepler.Framework.Core.Browser.BrowserCapabilities.get_name()===3){var $5=$2.cloneContents();var $6=$5.textContent;if(!String.isNullOrEmpty($6)){$3=$6;}}var $4=$3.length;return $4;},moveToElementText:function(oElement){if(this.$4){this.$3.moveToElementText(oElement);}else{this.$2.selectNodeContents(oElement);}},select:function(){if(this.$4){this.$3.select();if(!this.$3.text.length){this.$3.collapse(true);}}else{var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementOwnerWindow(this.$5);var $1=$0.getSelection();$1.removeAllRanges();$1.addRange(this.$2);}},duplicate:function(){var $0=new Kepler.Framework.UI.CustomSelection.CustomRange(this.$5);if(this.$4){$0.$3=this.$3.duplicate();}else{$0.$2=this.$2.cloneRange();}return $0;},getRange:function(){return new Kepler.Engine.UI.Controls.TextControl.SelectionArgs(this.$B(),this.$C());},$B:function(){var $0=-100000;if(this.$4){return this.$3.moveStart(Kepler.Framework.UI.CustomSelection.CustomRange.$0,$0)*-1;}else{return this.getTextOffset(this.$2.startContainer,this.$2.startOffset);}},$C:function(){var $0=-100000;if(this.$4){return this.$3.moveEnd(Kepler.Framework.UI.CustomSelection.CustomRange.$0,$0)*-1;}else{return this.getTextOffset(this.$2.endContainer,this.$2.endOffset);}},setRange:function(iStart,iEnd){if(this.$4){this.$3.collapse(true);this.$3.moveEnd(Kepler.Framework.UI.CustomSelection.CustomRange.$0,iEnd);this.$3.moveStart(Kepler.Framework.UI.CustomSelection.CustomRange.$0,iStart);}else{var $0=this.$5;if(ss.isNullOrUndefined($0)){$0=this.$5;}var $1=(iStart===iEnd)?0:1;var $2=(iStart===iEnd)?0:2;var $3=this.$D($0,iStart,$1);var $4=this.$D($0,iEnd,$2);var $5=iStart-$3.get_start();var $6=iEnd-$4.get_start();var $7=this.$F($3.get_container(),$5);var $8=this.$F($4.get_container(),$6);$5=this.limitOffset($3.get_container(),$7,$5);$6=this.limitOffset($4.get_container(),$8,$6);this.$2.setStart($7,$5);this.$2.setEnd($8,$6);}},$D:function($p0,$p1,$p2){var $0=0;var $1=new Kepler.Framework.UI.CustomSelection.CustomRange(this.$5);$0=$p0.childNodes.length;for(var $2=0;$2<$0;$2++){var $3=$p0.childNodes[$2];if($3.childNodes.length>0){var $8=this.$D($3,$p1,$p2);if($8!=null){return $8;}else{continue;}}var $4=Kepler.Engine.UI.Helper.HtmlCssHelper.getParentElement('span','row',$3,false);if(ss.isNullOrUndefined($4)){continue;}$1.moveToElementText($4);var $5=$1.getTextOffset($1.$2.startContainer,$1.$2.startOffset);var $6=$1.getTextOffset($1.$2.endContainer,$1.$2.endOffset);var $7=false;switch($p2){case 1:$7=($5<=$p1&&$6>$p1);break;case 2:$7=($5<$p1&&$6>=$p1);break;case 0:$7=($5<=$p1&&$6>$p1);break;default:$7=($5<=$p1&&$6>=$p1);break;}if($p1<$5||$7){return new Kepler.Framework.UI.CustomSelection.RangeContainer($4,$5,$6);}}return null;},$E:function($p0){var $0=0;var $1=new Kepler.Framework.UI.CustomSelection.CustomRange(this.$5);$0=$p0.childNodes.length;for(var $2=0;$2<$0;$2++){var $3=$p0.childNodes[$2];if($3.childNodes.length>0){var $5=this.$E($3);if($5!=null){return $5;}else{continue;}}var $4=Kepler.Engine.UI.Helper.HtmlCssHelper.getParentElement('span','row',$3,false);if(ss.isNullOrUndefined($4)){continue;}$1.moveToElementText($4);return $1;}return null;},loadRangeFromSelection:function(){var $0=null;if((typeof(this.$7.getSelection)==='function')){$0=this.$7.getSelection();if((typeof($0.getRangeAt)==='function')){if($0.rangeCount>0){this.$2=$0.getRangeAt(0);}else{var $1=this.$E(this.$7.document.documentElement);if($1!=null){this.$2=$1.$2;this.$3=$1.$3;}}}else{this.$2.setStart($0.anchorNode,$0.anchorOffset);this.$2.setEnd($0.focusNode,$0.focusOffset);}}else if((typeof(this.$6.selection)==='function')){$0=this.$6.selection();this.$3=$0.createRange();}},collapse:function(bStart){if(this.$4){this.$3.collapse(bStart);}else{this.$2.collapse(bStart);}},getStartContainer:function(){if(this.$4){var $0=this.$3.duplicate();$0.collapse(true);return $0.parentElement();}else{var $1=this.$2.startContainer;if($1.nodeType===3){return $1.parentNode;}else{return $1;}}},getEndContainer:function(){if(this.$4){var $0=this.$3.duplicate();$0.collapse(false);return $0.parentElement();}else{var $1=this.$2.endContainer;if($1.nodeType===3){return $1.parentNode;}else{return $1;}}},getHtml:function(){if(this.$4){return this.$3.htmlText;}else{return new XMLSerializer().serializeToString(this.$2.cloneContents());}},getText:function(){if(this.$4){return this.$3.text;}else{return this.$2.toString();}},expandCurrentSelection:function(type){if(this.$4){this.loadRangeFromSelection();this.$3.expand(type);}else{var $0=window.getSelection();$0.modify('extend','left',type);this.loadRangeFromSelection();}},getBoundingClientRect:function(){var $0;var $1=new Kepler.Framework.UI.Rect(0,0,0,0);if(this.$4){$0=this.$3.getBoundingClientRect();}else{$0=this.$2.getBoundingClientRect();}if(ss.isValue($0)){$1.set_left(Math.round($0.left));$1.set_top(Math.round($0.top));$1.set_width(Math.round($0.right-$0.left));$1.set_height(Math.round($0.bottom-$0.top));}return $1;},getClientRects:function(){var $0=[];var $1=this.$2.getClientRects(null);if(ss.isValue($1)&&ss.isValue($1.length)){for(var $2=0;$2<$1.length;$2++){var $3=$1[$2];var $4=new Kepler.Framework.UI.RectF($3.left,$3.top,($3.right-$3.left),($3.bottom-$3.top));$0.add($4);}}return $0;},getStartClientRect:function(){var $0=null;var $1=this.getClientRects();var $2=$1.length;for(var $3=0;$3<$2;$3++){var $4=$1[$3];if($4.get_width()>0){$0=$4;break;}}if(ss.isNullOrUndefined($0)&&$2>0){$0=$1[0];}return $0;},getEndClientRect:function(){var $0=null;var $1=this.getClientRects();var $2=$1.length;for(var $3=$2-1;$3>=0;$3--){var $4=$1[$3];if($4.get_width()>0){$0=$4;break;}}if(ss.isNullOrUndefined($0)&&$2>0){$0=$1[$2-1];}return $0;},scrollIntoView:function(bTop){if(this.$4){this.$3.scrollIntoView(bTop);}else{var $0=this.$2.startContainer;$0=Kepler.Engine.UI.Helper.HtmlCssHelper.getParentElement('span','',$0,false);$0.scrollIntoView(bTop);}},pasteHTML:function(strHtml,element){if(this.$4){this.$3.pasteHTML(strHtml);}else{if(!ss.isNullOrUndefined(element)){var $0=document.createElement('span');$0.innerHTML=strHtml;this.$2.setStartBefore(this.$2.startContainer.parentNode.parentNode.parentNode.parentNode.parentNode);this.$2.deleteContents();this.$2.insertNode($0);}else{this.$2.insertNode(element);}}},deleteContents:function(){this.$2.deleteContents();},$F:function($p0,$p1){var $0=$p0.childNodes;var $1=0;var $2=$p0;for(var $3=0;$3<$0.length;$3++){var $4=$0[$3];if($4.textContent.length+$1<$p1){$1+=$4.textContent.length;}else if($4.nodeType!==3&&$4.textContent.length+$1>=$p1){$2=this.$F($4,$p1-$1);break;}else{$2=$4;break;}}return $2;},limitOffset:function(oElemCntnr,oElement,iOffset){var $0=this.$10(oElemCntnr,oElement,iOffset);var $1=(oElement.innerText!=null)?oElement.innerText:((typeof(oElement.get_data)==='function'))?oElement.get_data():(oElement.textContent!=null)?oElement.textContent:'';var $2=$1.length;if($0<0){$0=0;}else if($0>$2){$0=$2;}return $0;},$10:function($p0,$p1,$p2){var $0=-1;if($p0!=null){var $1=0;var $2=$p0.firstChild;while($2!==$p0&&$2!=null){if($2.nodeType===3){var $4=$2.textContent.length;if($2===$p1){var $5=$p2-$1;$0=($5>=0)?$5:0;break;}$1+=$4;}var $3=$2.childNodes.length;if($3>0){$2=$2.firstChild;}else if(!ss.isNullOrUndefined($2.nextSibling)){$2=$2.nextSibling;}else if(!ss.isNullOrUndefined($2.parentNode)){while($2!==$p0){if(ss.isValue($2.nextSibling)){$2=$2.nextSibling;break;}else{$2=$2.parentNode;}}}}}return $0;},setStartAfter:function(oElement){if(this.$4){}else{this.$2.setStartAfter(oElement);}},setEndBefore:function(oElement){if(this.$4){}else{this.$2.setEndBefore(oElement);}},setBoundElements:function(elmStart,elmEnd){if(ss.isValue(elmStart)){this.$2.setStart(elmStart,0);}if(ss.isValue(elmEnd)){this.$2.setEnd(elmEnd,0);}},setStartBound:function(oBound){if(ss.isValue(oBound)&&ss.isValue(oBound.get_boundElement())){this.$2.setStart(oBound.get_boundElement(),oBound.get_offset());}},setEndBound:function(oBound){if(ss.isValue(oBound)&&ss.isValue(oBound.get_boundElement())){this.$2.setEnd(oBound.get_boundElement(),oBound.get_offset());}},isEqual:function(oCstmRange){var $0=false;if(ss.isValue(oCstmRange)&&oCstmRange.get_refContainer()===this.$5){var $1=this.getRange();var $2=oCstmRange.getRange();$0=$1.isEqual($2);}return $0;},isWithin:function(oContainingRng){var $0=false;if(ss.isValue(oContainingRng)&&oContainingRng.get_refContainer()===this.$5){var $1=this.getRange();var $2=oContainingRng.getRange();$0=($2.get_startIndex()<=$1.get_startIndex()&&$2.get_endIndex()>=$1.get_endIndex());}return $0;}}
Kepler.Framework.UI.CustomSelection.RangeContainer=function(oContainer,iStart,iEnd){this.$0=oContainer;this.$1=iStart;this.$2=iEnd;}
Kepler.Framework.UI.CustomSelection.RangeContainer.prototype={$0:null,$1:0,$2:0,get_container:function(){return this.$0;},set_container:function(value){this.$0=value;return value;},get_start:function(){return this.$1;},set_start:function(value){this.$1=value;return value;},get_end:function(){return this.$2;},set_end:function(value){this.$2=value;return value;}}
Kepler.Framework.UI.CustomSelection.RangeBound=function(){this.$0=null;this.$1=0;}
Kepler.Framework.UI.CustomSelection.RangeBound.prototype={$0:null,get_boundElement:function(){return this.$0;},set_boundElement:function(value){this.$0=value;return value;},$1:0,get_offset:function(){return this.$1;},set_offset:function(value){this.$1=value;return value;}}
Kepler.Framework.UI.CustomSelection.SELECTION_CONSTANTS=function(){}
Kepler.Framework.UI.CustomSelection.CharProperties=function(){this.$10={};this.$17={};this.$1='none';this.$2=16;this.$3=-1;this.$4=-1;this.$5=-1;this.$6=-1;this.$A=-1;this.$9=-1;this.$12='';this.$7=null;this.$8=null;this.$13=false;this.$B=-1;this.$15='none';this.$16='normal';}
Kepler.Framework.UI.CustomSelection.CharProperties.prototype={$0:0,$1:null,$2:0,$3:0,$4:0,$5:0,$6:0,$7:null,$8:null,$9:0,$A:0,$B:0,$C:0,$D:0,$E:0,$F:0,$10:null,$11:null,$12:null,$13:false,$15:null,$16:null,$17:null,cloneProperties:function(){var $0=new Kepler.Framework.UI.CustomSelection.CharProperties();$0.$1=this.$1;$0.$2=this.$2;$0.$3=this.$3;$0.$4=this.$4;$0.$5=this.$5;$0.$6=this.$6;$0.$A=this.$A;$0.$9=this.$9;$0.$7=this.$7;$0.$8=this.$8;$0.$B=this.$B;$0.$15=this.$15;$0.$16=this.$16;return $0;},getCacheIndex:function(){return this.$0;},setCacheIndex:function(iIndex){this.$0=iIndex;},isEqual:function(p){if(p.$1===this.$1&&p.$2===this.$2&&p.$3===this.$3&&p.$4===this.$4&&p.$5===this.$5&&p.$6===this.$6&&!ss.isNullOrUndefined(p.$7)&&p.$7.equals(this.$7)&&!ss.isNullOrUndefined(p.$8)&&p.$8.equals(this.$8)&&p.$9===this.$9&&p.$A===this.$A&&p.$B===this.$B&&p.$15===this.$15){return true;}return false;},isFontPropertiesEqual:function(p){if(p.$1===this.$1&&p.$2===this.$2&&p.$3===this.$3&&p.$4===this.$4&&p.$5===this.$5&&p.$6===this.$6&&!ss.isNullOrUndefined(p.$7)&&p.$7.equals(this.$7)&&p.$9===this.$9&&p.$A===this.$A&&p.$B===this.$B&&p.$15===this.$15){return true;}return false;},getActualAscent:function(){return this.$E;},getActualDescent:function(){return this.$F;},getCharWidth:function(ch,strText){if(Object.keyExists(this.$10,ch)){return this.$10[ch];}var $0=200;var $1=true;if(Kepler.Framework.Core.Browser.BrowserCapabilities.get_name()===2&&Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()&&Kepler.Framework.Core.Browser.BrowserCapabilities.get_version()>=7){if(this.$1.toLowerCase()==='k_arial'&&ch==='1'&&strText!=null){$1=false;var $5=strText.match(new RegExp('1','g'));if($5!=null){var $6=$5.length;if(Object.keyExists(this.$17,$6)){return this.$17[$6];}$0=$6;}}}var $2='';var $3;$3=(ch===' ')?String.fromCharCode(160):ch.toString();for(var $7=0;$7<$0;++$7){$2+=$3;}this.$11.innerText=$2;this.$11.textContent=$2;var $4=(this.$11.offsetWidth*1)/$0;if($1){this.$10[ch]=$4;}else{this.$17[$0]=$4;}return $4;},getTextHeight:function(){return this.getAscent()+this.getDescent();},dispose:function(){document.body.removeChild(this.$11);},setFontFamily:function(strFontFamily){if(strFontFamily!=='none'){this.$1=strFontFamily;}},getFontFamily:function(){return this.$1;},setFontSize:function(iFontSize){if(iFontSize!==-1){this.$2=iFontSize;}},getFontSize:function(){return this.$2;},setItalic:function(iItalic){if(iItalic!==-1){this.$3=iItalic;}},getItalic:function(){return this.$3;},setBold:function(iBold){if(iBold!==-1){this.$4=iBold;}},getBold:function(){return this.$4;},setUnderline:function(iUnderline){if(iUnderline!==-1){this.$5=iUnderline;}},getUnderline:function(){return this.$5;},setStrikeOut:function(iStrikeOut){if(iStrikeOut!==-1){this.$6=iStrikeOut;}},getStrikeOut:function(){return this.$6;},setFontColor:function(fontColor){if(fontColor!=null){this.$7=fontColor;}},getFontColor:function(){return this.$7;},setBackgroundColor:function(backgroundColor){if(backgroundColor!=null){this.$8=backgroundColor;}},getBackgroundColor:function(){return this.$8;},setTextTransform:function(strTextTransform){this.$15=strTextTransform;},getTextTransform:function(){return this.$15;},setLetterSpacing:function(strLetterSpacing){this.$16=strLetterSpacing;},getLetterSpacing:function(){return this.$16;},setSuperScript:function(iSuperScript){if(iSuperScript!==-1){this.$9=iSuperScript;}},getRecursiveSuperSub:function(){return this.$B;},setRecursiveSuperSub:function(iRecursiveSuperSub){if(iRecursiveSuperSub!==-1){this.$B=iRecursiveSuperSub;}},getSuperScript:function(){return this.$9;},setSubScript:function(iSubScript){if(iSubScript!==-1){this.$A=iSubScript;}},getSubScript:function(){return this.$A;},getAscent:function(){return this.$C;},setAscent:function(iAscent){if(iAscent!==-1){this.$C=iAscent;}},getDescent:function(){return this.$D;},setDescent:function(iDescent){if(iDescent!==-1){this.$D=iDescent;}},getStyle:function(){return this.$12;},computeStyle:function(){if(this.$1==='none'&&this.$2===-1||this.$3===-1||this.$4===-1||this.$5===-1||this.$6===-1||this.$A===-1||this.$A===-1||this.$7==null||this.$B===-1){return;}var $0='';$0+='font-family:'+this.getFontFamily()+';';$0+='font-size:';var $1=this.getFontSize();if(this.getRecursiveSuperSub()===1){if($1*2/3>=8){$1=Math.floor(2/3*$1);}else{$1=8;}}if(this.getSuperScript()===1||this.getSubScript()===1){$0+=(Math.floor($1*2/3))+'px;';}else{$0+=$1+'px;';}$0+=(this.getBold()===1)?'font-weight:bold;':'';$0+=(this.getItalic()===1)?'font-style:italic;':'';if(this.getStrikeOut()===1||this.getUnderline()===1){$0+='text-decoration : ';$0+=(this.getUnderline()===1)?'underline ':'';$0+=(this.getStrikeOut()===1)?'line-through;':'';$0+=';';}var $2=this.getFontColor();$0+='color:'+$2.toString()+';';$2=this.getBackgroundColor();if(!!$2.dAlpha){$0+='background-color:'+$2.toString()+';';}$0+='text-transform:'+this.$15+';';$0+='letter-spacing:'+this.$16+';';if(Kepler.Framework.UI.CustomSelection.CharProperties.$14==null){Kepler.Framework.UI.CustomSelection.CharProperties.$14=document.createElement('div');Kepler.Framework.UI.CustomSelection.CharProperties.$14.style.position='absolute';Kepler.Framework.UI.CustomSelection.CharProperties.$14.style.left=0+'px';Kepler.Framework.UI.CustomSelection.CharProperties.$14.style.top=0+'px';Kepler.Framework.UI.CustomSelection.CharProperties.$14.style.width=0+'px';Kepler.Framework.UI.CustomSelection.CharProperties.$14.style.height=0+'px';Kepler.Framework.UI.CustomSelection.CharProperties.$14.style.overflow='hidden';document.body.appendChild(Kepler.Framework.UI.CustomSelection.CharProperties.$14);}this.$12=$0;$0='position : absolute;display:inline; top : -1000px; left:-1000px;line-height:normal;'+$0;if(ss.isNullOrUndefined(this.$11)){this.$11=document.createElement('div');this.$11.setAttribute('style',$0+';font-size:'+$1+'px');if(!ss.isNullOrUndefined(document.body)){Kepler.Framework.UI.CustomSelection.CharProperties.$14.appendChild(this.$11);}}this.$11.setAttribute('style',$0+';font-size:'+$1+'px');this.$11.innerHTML='g';var $3=this.$11.offsetHeight;this.$11.innerHTML+='<div style="display:inline-block;width:100px;height:200px"/>';this.$D=this.$11.offsetHeight-200+1;this.$C=$3-this.$D;this.$11.setAttribute('style',$0);this.$11.innerHTML='g';$3=this.$11.offsetHeight;this.$11.innerHTML+='<div style="display:inline-block;width:100px;height:200px"/>';this.$F=this.$11.offsetHeight-200+1;this.$E=$3-this.$F;if(this.getSuperScript()===1){this.$C+=this.$D-this.$F;this.$D-=this.$D-this.$F;}else if(this.getSubScript()===1){this.$C-=this.$D+this.$F*3/2;this.$D+=this.$D+this.$F*3/2;}Object.clearKeys(this.$10);this.$13=true;},getDom:function(){return this.$11;},setDom:function(dom){this.$11=dom;},set:function(strFontFamily,iFontSize,iItalic,iBold,iUnderline,iStrikeOut,fontColor,backgroundColor,iSuperScript,iSubScript){this.setFontFamily(strFontFamily);this.setFontSize(iFontSize);this.setItalic(iItalic);this.setBold(iBold);this.setUnderline(iUnderline);this.setStrikeOut(iStrikeOut);this.setFontColor(fontColor);this.setBackgroundColor(backgroundColor);this.setSuperScript(iSuperScript);this.setSubScript(iSubScript);this.setRecursiveSuperSub(0);},mergeProperties:function(prop){this.setFontFamily(prop.getFontFamily());this.setFontSize(prop.getFontSize());this.setItalic(prop.getItalic());this.setBold(prop.getBold());this.setUnderline(prop.getUnderline());this.setStrikeOut(prop.getStrikeOut());this.setFontColor(prop.getFontColor());this.setBackgroundColor(prop.getBackgroundColor());this.setSubScript(prop.getSubScript());this.setSuperScript(prop.getSuperScript());this.setRecursiveSuperSub(prop.getRecursiveSuperSub());this.setTextTransform(prop.getTextTransform());this.setLetterSpacing(prop.getLetterSpacing());},isInitalized:function(){return this.$13;},getCommonProperties:function(p){var $0=new Kepler.Framework.UI.CustomSelection.CharProperties();if(this.$1===p.$1){$0.$1=this.$1;}else{$0.$1='none';}if(this.$2===p.$2){$0.$2=this.$2;}else{$0.setFontSize(-1);}if(this.$3===p.$3){$0.$3=this.$3;}else{$0.$3=-1;}if(this.$4===p.$4){$0.$4=this.$4;}else{$0.$4=-1;}if(this.$5===p.$5){$0.$5=this.$5;}else{$0.$5=-1;}if(this.$6===p.$6){$0.$6=this.$6;}else{$0.$6=-1;}if(this.$7!=null&&this.$7.equals(p.$7)){$0.$7=this.$7.clone();}else{$0.$7=null;}if(this.$8!=null&&this.$8.equals(p.$8)){$0.$8=this.$8.clone();}else{$0.$8=null;}if(this.$9===p.$9){$0.$9=this.$9;}else{$0.$9=-1;}if(this.$A===p.$A){$0.$A=this.$A;}else{$0.$A=-1;}if(this.$B===p.$B){$0.$B=this.$B;}else{$0.$B=-1;}if(this.$15===p.$15){$0.$15=this.$15;}else{$0.$15='-1';}if(this.$16===p.$16){$0.$16=this.$16;}else{$0.$16='-1';}return $0;},clearDom:function(){if(ss.isValue(this.$11)&&ss.isValue(this.$11.parentNode)){this.$11.parentNode.removeChild(this.$11);}}}
Kepler.Framework.UI.CustomSelection.CharPropertyCache=function(prop){this.$0=[];prop.computeStyle();this.$0.add(prop);prop.setCacheIndex(0);}
Kepler.Framework.UI.CustomSelection.CharPropertyCache.prototype={$0:null,getPropertyCount:function(){return this.$0.length;},addPropertyMerged:function(prop){var $0=this.hasProperty(prop);if($0===-1){$0=this.$0.length;this.$0.add(prop);this.$0[$0].computeStyle();this.$0[$0].setCacheIndex($0);}return $0;},addProperty:function(prop){var $0=this.getDefaultCharProperties().cloneProperties();$0.mergeProperties(prop);return this.addPropertyMerged($0);},applyNewProperties:function(prop){var $0=[];for(var $1=0;$1<this.getPropertyCount();$1++){$0.add(this.getProperty($1).cloneProperties());}for(var $2=0;$2<$0.length;$2++){$0[$2].mergeProperties(prop);$0[$2]=this.getProperty(this.addPropertyMerged($0[$2]));}return $0;},getProperty:function(iIndex){return this.$0[iIndex];},getDefaultCharProperties:function(){return this.$0[0];},hasProperty:function(prop){for(var $0=0;$0<this.$0.length;++$0){if(this.$0[$0].isEqual(prop)){return $0;}}return -1;},recalcCachedProperties:function(){for(var $0=0;$0<this.$0.length;$0++){var $1=this.$0[$0];$1.computeStyle();}},clearCache:function(){for(var $0=this.$0.length;$0>1;$0=this.$0.length){var $1=this.$0[$0-1];this.$0.removeAt($0-1);$1.clearDom();}}}
Kepler.Framework.UI.CustomSelection.Sel=function(elmRow){this.$3=elmRow;this.$2=null;this.$4=true;this.$5=false;this.$1=Kepler.Framework.UI.CustomSelection.Sel.getCloneElement();this.$7=new Kepler.Framework.UI.Rect(-1000,-100,1,8);this.$8(this.$7);}
Kepler.Framework.UI.CustomSelection.Sel.getCloneElement=function(){var $0;if(!ss.isValue(Kepler.Framework.UI.CustomSelection.Sel.$0)){Kepler.Framework.UI.CustomSelection.Sel.$0=document.createElement('div');Kepler.Framework.UI.CustomSelection.Sel.$0.style.backgroundColor='rgba(15, 15, 15, 0.219608)';Kepler.Framework.UI.CustomSelection.Sel.$0.style.borderWidth='1px';Kepler.Framework.UI.CustomSelection.Sel.$0.style.borderColor='#000000';Kepler.Framework.UI.CustomSelection.Sel.$0.style.position='absolute';Kepler.Framework.UI.CustomSelection.Sel.$0.style.zIndex=3;$0=Kepler.Framework.UI.CustomSelection.Sel.$0;}else{$0=Kepler.Framework.UI.CustomSelection.Sel.$0.cloneNode();}return $0;}
Kepler.Framework.UI.CustomSelection.Sel.prototype={$1:null,get_selDiv:function(){return this.$1;},$2:null,get_selDivCntnr:function(){if(ss.isNullOrUndefined(this.$2)){this.$2=this.$1.offsetParent;}return this.$2;},$3:null,$4:false,$5:false,get_domInserted:function(){return this.$5;},$6:null,get_relativeOffset:function(){return this.$6;},$7:null,updateRow:function(elmRow){this.insertInDOM(false);this.$3=elmRow;},show:function(rcShow){this.$7=rcShow;this.$8(this.$7);if(this.$4){this.$4=false;this.$1.style.visibility='visible';}},$8:function($p0){this.$1.style.top=$p0.get_top()+'px';this.$1.style.left=$p0.get_left()+'px';this.$1.style.width=$p0.get_width()+'px';this.$1.style.height=$p0.get_height()+'px';},insertInDOM:function(bInsert){if(ss.isValue(this.$3)){if(bInsert&&!this.$5){this.$3.appendChild(this.$1);}else if(this.$5){this.$3.removeChild(this.$1);}this.$5=bInsert;}this.$6=Kepler.Engine.UI.Helper.HtmlCssHelper.calcOffsetBetwnElement(this.get_selDivCntnr(),this.$3);},hide:function(){if(!this.$4){this.$4=true;this.$1.style.visibility='hidden';this.$1.style.width='0px';this.$1.style.height='0px';}},onParentOffsetChange:function(){if(this.$6!=null){var $0=new Kepler.Framework.UI.Rect(this.$7.get_left()-this.$6.get_x(),this.$7.get_top()-this.$6.get_y(),this.$7.get_width(),this.$7.get_height());this.$6=Kepler.Engine.UI.Helper.HtmlCssHelper.calcOffsetBetwnElement(this.get_selDivCntnr(),this.$3);if(this.$6!=null){$0.set_left($0.get_left()+this.$6.get_x());$0.set_top($0.get_top()+this.$6.get_y());this.$7=$0;this.$8(this.$7);}}}}
Kepler.Framework.UI.CustomSelection.SelRange=function(){this.$0=null;this.$1=null;}
Kepler.Framework.UI.CustomSelection.SelRange.prototype={$0:null,get_startCurPos:function(){return (this.$2)?this.$0:this.$1;},$1:null,get_endCurPos:function(){return (this.$2)?this.$1:this.$0;},$2:true,get_topDown:function(){return this.$2;},clone:function(){var $0=new Kepler.Framework.UI.CustomSelection.SelRange();$0.$0=this.$0.clone();$0.$1=this.$1.clone();$0.$2=this.$2;return $0;},collapse:function(bStart){if(bStart){this.$1=this.$0.clone();}else{this.$0=this.$1.clone();}},isGreater:function(oRangeToCompare){var $0=false;if(this.$0.isGreater(oRangeToCompare.get_startCurPos())){$0=true;}return $0;},get_startDocIndex:function(){return (ss.isValue(this.get_startCurPos()))?this.get_startCurPos().get_docIndex():-1;},get_endDocIndex:function(){return (ss.isValue(this.get_endCurPos()))?this.get_endCurPos().get_docIndex():-1;},getMainDocIndex:function(){var $0=(ss.isValue(this.$0))?this.$0.get_docPos()[0].get_docIndex():-1;var $1=(ss.isValue(this.$1))?this.$1.get_docPos()[0].get_docIndex():-1;return ($0===$1)?$0:-1;},setStartFromCurPos:function(oCurPos){this.$0=oCurPos.clone();},getStartCurPos:function(){return this.$0;},$3:function(){this.$2=this.$0.isLessEqual(this.$1);},isCollapsed:function(){return (ss.isValue(this.$0))?this.$0.isEqual(this.$1):false;},setEndFromCurPos:function(oCurPos){this.$1=oCurPos.clone();this.$3();},getEndCurPos:function(){return this.$1;},initFromCurPos:function(oStart,oEnd){this.setStartFromCurPos(oStart);this.setEndFromCurPos(oEnd);},getCommonLevel:function(){return Math.min(this.get_startCurPos().get_level(),this.get_endCurPos().get_level());},moveRangeToCommonLevel:function(){var $0=this.getCommonLevel();if($0<this.$0.get_level()){this.$0.set_level($0);}if($0<this.$1.get_level()){this.$1.set_level($0);}},getCommonLevelContainingRange:function(){return -1;},extendRangeUpto:function(oNewRng){var $0=new Kepler.Framework.UI.CustomSelection.SelRange();if(ss.isValue(oNewRng)){var $1=this.get_startCurPos();var $2=this.get_endCurPos();if(this.get_startCurPos().isLess(oNewRng.get_startCurPos())){$2=oNewRng.get_endCurPos();}else if(this.get_startCurPos().isGreater(oNewRng.get_startCurPos())){$1=this.get_endCurPos();$2=oNewRng.get_startCurPos();}else if(this.get_endCurPos().isLess(oNewRng.get_endCurPos())){$2=oNewRng.get_endCurPos();}$0.setStartFromCurPos($1);$0.setEndFromCurPos($2);}return $0;},mergeRange:function(oRng){if(ss.isValue(oRng)){if(oRng.get_startCurPos().isLessEqual(this.get_startCurPos())){this.setStartFromCurPos(oRng.get_startCurPos());}if(oRng.get_endCurPos().isGreaterEqual(this.get_endCurPos())){this.setEndFromCurPos(oRng.get_endCurPos());}}},compare:function(oTestRng){return -1;},isEqual:function(oRange){return (this.get_startCurPos().isEqual(oRange.get_startCurPos())&&this.get_endCurPos().isEqual(oRange.get_endCurPos()));},isIntersect:function(oRange){var $0=this.get_startCurPos(),$1=this.get_endCurPos(),$2=oRange.get_startCurPos(),$3=oRange.get_endCurPos();return (($0.isLessEqual($2)&&$1.isGreaterEqual($3))||($0.isGreaterEqual($2)&&$1.isLessEqual($3))||($0.isGreaterEqual($2)&&$0.isLess($3)&&$1.isGreater($3))||($0.isLess($2)&&$1.isGreater($2)&&$1.isLessEqual($3)));},containsPos:function(oPos){return this.get_startCurPos().isLessEqual(oPos)&&this.get_endCurPos().isGreaterEqual(oPos);},isWithin:function(oTestRng){return oTestRng.containsPos(this.get_startCurPos())&&oTestRng.containsPos(this.get_endCurPos());}}
Kepler.Framework.UI.CustomSelection.ElPos=function(iElIndex,iChIndex){this.$0=(ss.isValue(iElIndex))?iElIndex:0;this.$1=(ss.isValue(iChIndex))?iChIndex:0;}
Kepler.Framework.UI.CustomSelection.ElPos.prototype={$0:0,get_elIndex:function(){return this.$0;},set_elIndex:function(value){this.$0=value;return value;},$1:0,get_chIndex:function(){return this.$1;},set_chIndex:function(value){this.$1=value;return value;},reset:function(){this.$0=0;this.$1=0;},clone:function(){return new Kepler.Framework.UI.CustomSelection.ElPos(this.$0,this.$1);},isEqual:function(oPos){return oPos.$0===this.$0&&oPos.$1===this.$1;},isLess:function(oPos){return (this.$0<oPos.$0)||(this.$0===oPos.$0&&this.$1<oPos.$1);},isLessEqual:function(oPos){return this.isEqual(oPos)||this.isLess(oPos);},isGreater:function(oPos){return (this.$0>oPos.$0)||(this.$0===oPos.$0&&this.$1>oPos.$1);},isGreaterEqual:function(oPos){return this.isEqual(oPos)||this.isGreater(oPos);},isInside:function(oStartPos,oEndPos){return this.isGreaterEqual(oStartPos)&&this.isLessEqual(oEndPos);},toString:function(){return 'ElIndex : '+this.$0+' ChIndex : '+this.$1;}}
Kepler.Framework.UI.CustomSelection.DocPos=function(){this.$3=new Kepler.Framework.UI.CustomSelection.ElPos();}
Kepler.Framework.UI.CustomSelection.DocPos.prototype={$0:0,get_docIndex:function(){return this.$0;},set_docIndex:function(value){this.$0=value;return value;},$1:0,get_paraIndex:function(){return this.$1;},set_paraIndex:function(value){this.$1=value;return value;},$2:0,get_rowIndex:function(){return this.$2;},set_rowIndex:function(value){this.$2=value;return value;},$3:null,get_elPos:function(){return this.$3;},set_elPos:function(value){if(ss.isValue(this.$3)){this.$3.set_elIndex(value.get_elIndex());this.$3.set_chIndex(value.get_chIndex());}return value;},get_elIndex:function(){return this.$3.get_elIndex();},set_elIndex:function(value){this.$3.set_elIndex(value);return value;},get_chIndex:function(){return this.$3.get_chIndex();},set_chIndex:function(value){this.$3.set_chIndex(value);return value;},reset:function(){this.$0=0;this.$1=0;this.$2=0;this.$3.reset();},clone:function(){var $0=new Kepler.Framework.UI.CustomSelection.DocPos();$0.$0=this.$0;$0.$1=this.$1;$0.$2=this.$2;$0.$3=this.$3.clone();return $0;},isEqual:function(oPos){return this.$0===oPos.$0&&this.$1===oPos.$1&&this.$2===oPos.$2&&this.$3.isEqual(oPos.$3);},isLess:function(oPos){return (this.$0===oPos.$0&&this.$1===oPos.$1&&this.$2===oPos.$2&&this.$3.isLess(oPos.get_elPos()))||(this.$0===oPos.$0&&this.$1===oPos.$1&&this.$2<oPos.$2)||(this.$0===oPos.$0&&this.$1<oPos.$1)||(this.$0<oPos.$0);},isLessEqual:function(oPos){return this.isEqual(oPos)||this.isLess(oPos);},isGreater:function(oPos){return (this.$0===oPos.$0&&this.$1===oPos.$1&&this.$2===oPos.$2&&this.$3.isGreater(oPos.get_elPos()))||(this.$0===oPos.$0&&this.$1===oPos.$1&&this.$2>oPos.$2)||(this.$0===oPos.$0&&this.$1>oPos.$1)||(this.$0>oPos.$0);},isGreaterEqual:function(oPos){return this.isEqual(oPos)||this.isGreater(oPos);},toString:function(){return 'DocIndex : '+this.$0+' ParaIndex : '+this.$1+' RowIndex : '+this.$2+' '+this.$3.toString();}}
Kepler.Framework.UI.CustomSelection.CurPos=function(){this.$0=[];this.set_level(0);}
Kepler.Framework.UI.CustomSelection.CurPos.prototype={$0:null,get_docPos:function(){return this.$0;},get_level:function(){return this.$0.length-1;},set_level:function(value){if(value<this.$0.length-1){this.$0.removeRange(value+1,this.$0.length-(value+1));}else if(value>this.$0.length-1){for(var $0=this.$0.length;$0<=value;$0++){this.$0.add(new Kepler.Framework.UI.CustomSelection.DocPos());}}return value;},get_docIndex:function(){return this.$0[this.get_level()].get_docIndex();},set_docIndex:function(value){this.$0[this.get_level()].set_docIndex(value);return value;},get_paraIndex:function(){return this.$0[this.get_level()].get_paraIndex();},set_paraIndex:function(value){this.$0[this.get_level()].set_paraIndex(value);return value;},get_rowIndex:function(){return this.$0[this.get_level()].get_rowIndex();},set_rowIndex:function(value){this.$0[this.get_level()].set_rowIndex(value);return value;},get_elIndex:function(){return this.$0[this.get_level()].get_elIndex();},set_elIndex:function(value){this.$0[this.get_level()].set_elIndex(value);return value;},get_chIndex:function(){return this.$0[this.get_level()].get_chIndex();},set_chIndex:function(value){this.$0[this.get_level()].set_chIndex(value);return value;},get_elPos:function(){return this.$0[this.get_level()].get_elPos();},set_elPos:function(value){this.$0[this.get_level()].set_elPos(value);return value;},reset:function(){this.set_level(0);this.$0[0].reset();},clone:function(){var $0=new Kepler.Framework.UI.CustomSelection.CurPos();$0.$0.clear();for(var $1=0;$1<this.$0.length;$1++){$0.$0.insert($1,this.$0[$1].clone());}return $0;},copyFrom:function(oPos){if(this!==oPos){this.$0.clear();for(var $0=0;$0<oPos.get_docPos().length;$0++){this.$0.insert($0,oPos.get_docPos()[$0].clone());}}},getCommonLevel:function(oPos){return (this.get_level()<=oPos.get_level())?this.get_level():oPos.get_level();},isEqual:function(oPos){if(this.get_level()!==oPos.get_level()){return false;}for(var $0=0;$0<=this.get_level();++$0){if(!this.$0[$0].isEqual(oPos.$0[$0])){return false;}}return true;},isLess:function(oPos){var $0=(this.get_level()<oPos.get_level())?this.get_level():oPos.get_level();for(var $1=0;$1<=$0;$1++){if(this.$0[$1].isLess(oPos.$0[$1])){return true;}else if(this.$0[$1].isEqual(oPos.$0[$1])){continue;}else{return false;}}if(this.get_level()<oPos.get_level()){return true;}else{return false;}},isLessEqual:function(oPos){return this.isEqual(oPos)||this.isLess(oPos);},isGreater:function(oPos){var $0=(this.get_level()<oPos.get_level())?this.get_level():oPos.get_level();for(var $1=0;$1<=$0;$1++){if(this.$0[$1].isGreater(oPos.$0[$1])){return true;}else if(this.$0[$1].isEqual(oPos.$0[$1])){continue;}else{return false;}}if(this.get_level()>oPos.get_level()){return true;}else{return false;}},isGreaterEqual:function(oPos){return this.isEqual(oPos)||this.isGreater(oPos);},toString:function(){var $0=' Level : '+this.get_level();for(var $1=0;$1<this.$0.length;$1++){$0+=' '+this.$0[$1].toString();}return $0;}}
Kepler.Framework.UI.CustomSelection.HitTest=function(oStartPos,oEndPos,bShift,bCtrl,iXOffset,bCallFromParent,bTopDown){this.$1=oStartPos;this.$0=oEndPos;this.$2=bShift;this.$3=bCtrl;this.$4=iXOffset;this.$5=bCallFromParent;this.$6=bTopDown;}
Kepler.Framework.UI.CustomSelection.HitTest.prototype={$0:null,get_endPos:function(){return this.$0;},set_endPos:function(value){this.$0=value;return value;},$1:null,get_startPos:function(){return this.$1;},set_startPos:function(value){this.$1=value;return value;},$2:false,get_shift:function(){return this.$2;},$3:false,get_ctrl:function(){return this.$3;},$4:0,get_xOffset:function(){return this.$4;},set_xOffset:function(value){this.$4=value;return value;},$5:false,get_callFromParent:function(){return this.$5;},set_callFromParent:function(value){this.$5=value;return value;},$6:true,get_topDown:function(){return this.$6;}}
Kepler.Framework.UI.CustomSelection.BoundingElements=function(StartElement,EndElement){this.startElement=StartElement;this.endElement=EndElement;}
Kepler.Framework.UI.CustomSelection.BoundingElements.prototype={startElement:null,endElement:null}
Kepler.Framework.UI.CustomSelection.SelectionHandlerMessages=function(){}
Kepler.Framework.UI.CustomSelection.UpdateOutLinePreview=function(){this.eType=0;this.point=null;}
Kepler.Framework.UI.CustomSelection.UpdateOutLinePreview.prototype={eType:0,point:null}
Kepler.Framework.UI.CustomSelection.SelectionUpdateData=function(){this.btnState=0;this.clickPoint=new Kepler.Framework.UI.Point(0,0);this.clientPoint=new Kepler.Framework.UI.Point(0,0);this.args=null;this.ctrlPressed=false;this.shiftPressed=false;this.mouseBtn=0;this.evtType=0;}
Kepler.Framework.UI.CustomSelection.SelectionUpdateData.prototype={btnState:0,mouseBtn:0,evtType:0,clickPoint:null,clientPoint:null,args:null,shiftPressed:false,ctrlPressed:false}
Kepler.Framework.UI.CustomSelection.SelDragEvtArgs=function(type,oSelRng){this.eType=type;this.selRange=oSelRng;}
Kepler.Framework.UI.CustomSelection.SelDragEvtArgs.prototype={eType:0,selRange:null}
Kepler.Framework.UI.CustomSelection.ActedKey=function(eKey,bShift,bAlt,bCtrl,ch,bIsForKeyPress){this.key=eKey;this.shift=(ss.isValue(bShift))?bShift:false;this.alt=(ss.isValue(bAlt))?bAlt:false;this.ctrl=(ss.isValue(bCtrl))?bCtrl:false;this.ch=ch;this.isForKeyPress=(ss.isValue(bIsForKeyPress))?bIsForKeyPress:false;}
Kepler.Framework.UI.CustomSelection.ActedKey.prototype={shift:false,alt:false,ctrl:false,key:0,ch:null,isForKeyPress:false,isEqual:function(oActedKey,bIgnoreCmdKeys){var $0=(ss.isValue(oActedKey))?this.key===oActedKey.key:false;if($0&&((ss.isValue(bIgnoreCmdKeys))?!bIgnoreCmdKeys:true)){$0=$0&&(this.shift===oActedKey.shift)&&(this.alt===oActedKey.alt)&&(this.ctrl===oActedKey.ctrl);}return $0;}}
Kepler.Framework.UI.CustomSelection.ActionEvtArgs=function(){this.actionType=0;this.data=null;}
Kepler.Framework.UI.CustomSelection.ActionEvtArgs.prototype={actionType:0,data:null}
Kepler.Framework.UI.CustomSelection.FrameActionData=function(){this._eType=1;this.bResult=false;this.strActionString='';this.frameJumpInfo='';this.iActionCheckingParameter=-1;}
Kepler.Framework.UI.CustomSelection.FrameActionData.prototype={_eType:0,bResult:false,strActionString:null,frameJumpInfo:null,iActionCheckingParameter:0}
Kepler.Framework.UI.CustomSelection.ActionAttributes=function(){}
Type.registerNamespace('Kepler.Framework.UI.CustomSelection.HtmlEditCtrl');Kepler.Framework.UI.CustomSelection.HtmlEditCtrl.BaseHtmlEditCtrl=function(strID){this.$3D=[];Kepler.Framework.UI.CustomSelection.HtmlEditCtrl.BaseHtmlEditCtrl.initializeBase(this,['div','',strID]);this.get_elementStyle().overflow='hidden';this.get_elementStyle().position='relative';this.get_elementStyle().margin='0px';this.get_elementStyle().fontSize='0px';this.get_elementStyle().cursor='text';this.set_rightClickEventNeeded(true);}
Kepler.Framework.UI.CustomSelection.HtmlEditCtrl.BaseHtmlEditCtrl.prototype={$3B:null,$3C:null,get_selUpdator:function(){return this.$3C;},set_selUpdator:function(value){this.$3C=value;return value;},onLoad:function(){Kepler.Framework.UI.CustomSelection.HtmlEditCtrl.BaseHtmlEditCtrl.callBaseMethod(this, 'onLoad');this.$3E();this.$3F();},$3E:function(){this.addEvents(2|8|64|4|128|4096|8192|16384|256|1024|512);},$3F:function(){},setHTMLText:function(strDocumentHtmlText){this.$3B=strDocumentHtmlText;if(!ss.isNullOrUndefined(this.get_element())){this.get_element().innerHTML=this.$3B;this.get_element().setAttribute('bgcolor','#fff');var $0=this.get_element().getAttribute('style');if(!$0.trim().length){this.get_elementStyle().fontFamily='Times New Roman';this.get_elementStyle().fontSize='12px';}}},processViewForSelection:function(){this.$3C.processForCustomSelection(this);},$40:function($p0){this.sendMessageToParent('msg_active_focusable_element_change',$p0,this);},onLButtonDown:function(mouseEventArgs){this.convertShowmeMouseEventArgs(mouseEventArgs,this.get_element());Kepler.Framework.UI.CustomSelection.HtmlEditCtrl.BaseHtmlEditCtrl.callBaseMethod(this, 'onLButtonDown',[mouseEventArgs]);this.$41(mouseEventArgs,2);this.get_parent().sendMessage('msg_mousedown',mouseEventArgs,null);},convertShowmeMouseEventArgs:function(oEvtArgs,elmRef){},$41:function($p0,$p1,$p2){if(ss.isNullOrUndefined(this.$3C)){return false;}var $0=false;var $1=Kepler.Engine.UI.Controls.Control.getClientPointFromEventArgs($p0);var $2=this.$42($1);var $3=new Kepler.Framework.UI.CustomSelection.SelectionUpdateData();if(ss.isValue($p2)){$3.mouseBtn=$p2;}$3.ctrlPressed=$p0.get_ctrlKey();$3.shiftPressed=$p0.get_shiftKey();$3.clientPoint=$1;$3.clickPoint=$2;$3.args=$p0;$3.evtType=$p1;if($p1===2||$p1===256){$3.btnState=1;}else if($p1===8||$p1===1024){$3.btnState=2;}$0=this.$3C.onMouseInteraction($3);if($0){return $0;}if($3.btnState===1){this.setCapture();this.$3C.activateDocFromPoint($2);}else if($3.btnState===2){this.releaseCapture();}this.$43($p0);$0=this.$3C.updateSelForPoint($3);return $0;},$42:function($p0){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getCSSProperty(this.get_element(),'zoom');var $1=(ss.isValue($0))?parseFloat($0.toString()):1;if(isNaN($1)){$1=1;}return new Kepler.Framework.UI.Point(Math.round($p0.get_x()/$1)+this.get_element().scrollLeft,Math.round($p0.get_y()/$1)+this.get_element().scrollTop);},$43:function($p0){var $0=false;return $0;},onMouseMove:function(mouseEventArgs){this.convertShowmeMouseEventArgs(mouseEventArgs,this.get_element());Kepler.Framework.UI.CustomSelection.HtmlEditCtrl.BaseHtmlEditCtrl.callBaseMethod(this, 'onMouseMove',[mouseEventArgs]);this.$41(mouseEventArgs,4);this.get_parent().sendMessage('msg_mousemove',mouseEventArgs,null);},onLButtonUp:function(mouseEventArgs){this.convertShowmeMouseEventArgs(mouseEventArgs,this.get_element());Kepler.Framework.UI.CustomSelection.HtmlEditCtrl.BaseHtmlEditCtrl.callBaseMethod(this, 'onLButtonUp',[mouseEventArgs]);if(!Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){this.$41(mouseEventArgs,8);}this.get_parent().sendMessage('msg_mouseup',mouseEventArgs,null);},onRButtonDown:function(evt){Kepler.Framework.UI.CustomSelection.HtmlEditCtrl.BaseHtmlEditCtrl.callBaseMethod(this, 'onRButtonDown',[evt]);this.setFocus();this.get_parent().sendMessage('msg_mousedown',evt,null);},onRButtonUp:function(evt){Kepler.Framework.UI.CustomSelection.HtmlEditCtrl.BaseHtmlEditCtrl.callBaseMethod(this, 'onRButtonUp',[evt]);this.$41(evt,2,2);this.$41(evt,8,2);this.get_parent().sendMessage('msg_rclick',evt,null);this.get_parent().sendMessage('msg_mouseup',evt,null);},onMouseWheel:function(mouseWheelEventArgs){Kepler.Framework.UI.CustomSelection.HtmlEditCtrl.BaseHtmlEditCtrl.callBaseMethod(this, 'onMouseWheel',[mouseWheelEventArgs]);mouseWheelEventArgs.set_defaultPrevented(false);var $0=(mouseWheelEventArgs.get_delta()>0)?-24:24;this.setVerScrollPos(this.get_element().scrollTop+$0);this.get_parent().sendMessage('msg_scroll',mouseWheelEventArgs,null);},onFocus:function(oFocusedPrevControl){Kepler.Framework.UI.CustomSelection.HtmlEditCtrl.BaseHtmlEditCtrl.callBaseMethod(this, 'onFocus',[oFocusedPrevControl]);var $0=this.$3C.applyActiveDocFocus(this);this.$40(oFocusedPrevControl);},onLostFocus:function(oFocusedNewControl){Kepler.Framework.UI.CustomSelection.HtmlEditCtrl.BaseHtmlEditCtrl.callBaseMethod(this, 'onLostFocus',[oFocusedNewControl]);this.$3C.removeActiveDocFocus(this);},$44:function($p0,$p1){var $0=$p1;this.$45($0);return null;},$45:function($p0){if(ss.isValue($p0)){var $0=this.get_element().scrollTop;var $1=this.get_element().scrollLeft;var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementOwnerWindow(this.get_element());var $3=null;if(ss.isValue($2)){$2.focus(null);$3=$2.document.activeElement;}if($3!==$p0){$p0.focus();}if(ss.isValue($0)){this.get_element().scrollTop=$0;this.get_element().scrollLeft=$1;}}},onKeyDown:function(KeyEventArgs){var $0=false;var $1=new Kepler.Framework.UI.CustomSelection.ActedKey(KeyEventArgs.get_key(),KeyEventArgs.get_shiftKey(),KeyEventArgs.get_altKey(),KeyEventArgs.get_ctrlKey(),String.fromCharCode(KeyEventArgs.get_key()).charAt(0));$0=this.$3C.applyModifierKeys($1);if(!$0&&this.$46(KeyEventArgs)){$0=this.$3C.applyCursorNav($1);}if(!$0&&this.$3C.shouldAllowTyping($1.key)){if(KeyEventArgs.get_key()===46||KeyEventArgs.get_key()===8){$0=this.$3C.handlePrintableKey($1);}else{$0=true;KeyEventArgs.set_defaultPrevented(false);}}this.get_parent().sendMessage('msg_keydown',KeyEventArgs,$0);},onKeyPress:function(KeyEventArgs){var $0=false;var $1=new Kepler.Framework.UI.CustomSelection.ActedKey(KeyEventArgs.get_key(),KeyEventArgs.get_shiftKey(),KeyEventArgs.get_altKey(),KeyEventArgs.get_ctrlKey(),String.fromCharCode(KeyEventArgs.get_charCode()).charAt(0),true);$0=this.$3C.handlePrintableKey($1);},onKeyUp:function(KeyEventArgs){KeyEventArgs.set_defaultPrevented(false);KeyEventArgs.set_propogationStopped(false);var $0=new Kepler.Framework.UI.CustomSelection.ActedKey(KeyEventArgs.get_key(),KeyEventArgs.get_shiftKey(),KeyEventArgs.get_altKey(),KeyEventArgs.get_ctrlKey(),String.fromCharCode(KeyEventArgs.get_key()).charAt(0));this.$3C.applyModifierKeys($0);},$46:function($p0){var $0=new Kepler.Framework.UI.CustomSelection.ActedKey($p0.get_key(),$p0.get_shiftKey(),$p0.get_altKey(),$p0.get_ctrlKey());var $enum1=ss.IEnumerator.getEnumerator(this.$3D);while($enum1.moveNext()){var $1=$enum1.current;if($1.isEqual($0)){return true;}}return false;},$47:function(){this.$3D.add(new Kepler.Framework.UI.CustomSelection.ActedKey(37));this.$3D.add(new Kepler.Framework.UI.CustomSelection.ActedKey(39));this.$3D.add(new Kepler.Framework.UI.CustomSelection.ActedKey(38));this.$3D.add(new Kepler.Framework.UI.CustomSelection.ActedKey(40));this.$3D.add(new Kepler.Framework.UI.CustomSelection.ActedKey(33));this.$3D.add(new Kepler.Framework.UI.CustomSelection.ActedKey(34));this.$3D.add(new Kepler.Framework.UI.CustomSelection.ActedKey(36));this.$3D.add(new Kepler.Framework.UI.CustomSelection.ActedKey(35));this.$3D.add(new Kepler.Framework.UI.CustomSelection.ActedKey(35,false,false,true));this.$3D.add(new Kepler.Framework.UI.CustomSelection.ActedKey(36,false,false,true));this.$3D.add(new Kepler.Framework.UI.CustomSelection.ActedKey(37,false,false,true));this.$3D.add(new Kepler.Framework.UI.CustomSelection.ActedKey(39,false,false,true));this.$3D.add(new Kepler.Framework.UI.CustomSelection.ActedKey(38,false,false,true));this.$3D.add(new Kepler.Framework.UI.CustomSelection.ActedKey(40,false,false,true));this.$3D.add(new Kepler.Framework.UI.CustomSelection.ActedKey(37,true,false,false));this.$3D.add(new Kepler.Framework.UI.CustomSelection.ActedKey(39,true,false,false));this.$3D.add(new Kepler.Framework.UI.CustomSelection.ActedKey(38,true,false,false));this.$3D.add(new Kepler.Framework.UI.CustomSelection.ActedKey(40,true,false,false));this.$3D.add(new Kepler.Framework.UI.CustomSelection.ActedKey(36,true,false,false));this.$3D.add(new Kepler.Framework.UI.CustomSelection.ActedKey(35,true,false,false));this.$3D.add(new Kepler.Framework.UI.CustomSelection.ActedKey(37,true,false,true));this.$3D.add(new Kepler.Framework.UI.CustomSelection.ActedKey(39,true,false,true));this.$3D.add(new Kepler.Framework.UI.CustomSelection.ActedKey(38,true,false,true));this.$3D.add(new Kepler.Framework.UI.CustomSelection.ActedKey(40,true,false,true));this.$3D.add(new Kepler.Framework.UI.CustomSelection.ActedKey(36,true,false,true));this.$3D.add(new Kepler.Framework.UI.CustomSelection.ActedKey(35,true,false,true));this.$3D.add(new Kepler.Framework.UI.CustomSelection.ActedKey(65,false,false,true));},setVerScrollPos:function(iCurPos){this.get_element().scrollTop=iCurPos;},getContainerElement:function(){return this.get_element();},handleOnContainerCtrlNotification:function(eType,oData){var $0=false;switch(eType){case 0:var $1=oData;$0=this.$49($1);break;case 1:var $2=oData;$0=this.$48($2);break;}return $0;},$48:function($p0){var $0=10;$p0.set_left($p0.get_left()-$0);$p0.set_top($p0.get_top()-$0);$p0.set_width($p0.get_width()+($0*2));$p0.set_height($p0.get_height()+($0*2));return false;},$49:function($p0){var $0=false;return $0;},showMenu:function(iMenu,pt){},queryFocusable:function(){return this;}}
Type.registerNamespace('Kepler.Framework.UI.CustomSelection.Selectables');Kepler.Framework.UI.CustomSelection.Selectables.IAction=function(){};Kepler.Framework.UI.CustomSelection.Selectables.IAction.registerInterface('Kepler.Framework.UI.CustomSelection.Selectables.IAction');Kepler.Framework.UI.CustomSelection.Selectables.ICitable=function(){};Kepler.Framework.UI.CustomSelection.Selectables.ICitable.registerInterface('Kepler.Framework.UI.CustomSelection.Selectables.ICitable');Kepler.Framework.UI.CustomSelection.Selectables.ICollapsibleRegion=function(){};Kepler.Framework.UI.CustomSelection.Selectables.ICollapsibleRegion.registerInterface('Kepler.Framework.UI.CustomSelection.Selectables.ICollapsibleRegion');Kepler.Framework.UI.CustomSelection.Selectables.ISelEvtNotifiable=function(){};Kepler.Framework.UI.CustomSelection.Selectables.ISelEvtNotifiable.registerInterface('Kepler.Framework.UI.CustomSelection.Selectables.ISelEvtNotifiable');Kepler.Framework.UI.CustomSelection.Selectables.HeaderFooterType=function(){};Kepler.Framework.UI.CustomSelection.Selectables.HeaderFooterType.prototype = {HEADER:0,FOOTER:1}
Kepler.Framework.UI.CustomSelection.Selectables.HeaderFooterType.registerEnum('Kepler.Framework.UI.CustomSelection.Selectables.HeaderFooterType',false);Kepler.Framework.UI.CustomSelection.Selectables.HoverableType=function(){};Kepler.Framework.UI.CustomSelection.Selectables.HoverableType.prototype = {tooltip:'tooltip'}
Kepler.Framework.UI.CustomSelection.Selectables.HoverableType.registerEnum('Kepler.Framework.UI.CustomSelection.Selectables.HoverableType',false);Kepler.Framework.UI.CustomSelection.Selectables.Citation=function(elm,oHandler){this.$3D='';Kepler.Framework.UI.CustomSelection.Selectables.Citation.initializeBase(this,['','','',elm]);Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(elm,'display_none');this.$3E=false;this.$3B=oHandler;this.$3C=new Kepler.Framework.Core.Timers.Timer(ss.Delegate.create(this,this.$3F),this.$3B.getShowHideTime());this.$3D=elm.getAttribute('name');this.set_dblClickEventNeeded(true);this.addEvents(4|2|8|64|128|256|1024|512);}
Kepler.Framework.UI.CustomSelection.Selectables.Citation.prototype={$3B:null,get_handler:function(){return this.$3B;},$3C:null,get_name:function(){return this.$3D;},set_name:function(value){this.$3D=value;return value;},$3E:false,show:function(bShow){if(bShow){this.$3C.stop();Kepler.Framework.UI.CustomSelection.Selectables.Citation.callBaseMethod(this, 'show',[bShow]);}else{this.$3C.start();}},$3F:function(){Kepler.Framework.UI.CustomSelection.Selectables.Citation.callBaseMethod(this, 'show',[false]);},onMouseMove:function(evt){Kepler.Framework.UI.CustomSelection.Selectables.Citation.callBaseMethod(this, 'onMouseMove',[evt]);if(this.$3E){this.$3B.onCitationDraging(this,evt);}else{this.$3B.onCitationMouseMove(this,evt);}if(!this.$3E&&!this.get_element().contains(evt.get_target())){this.$3E=true;this.$3B.onCitationDragStart(this,evt);}},onLButtonDown:function(evt){Kepler.Framework.UI.CustomSelection.Selectables.Citation.callBaseMethod(this, 'onLButtonDown',[evt]);this.setCapture();this.$3B.onCitationLButtonDown(this,evt);},onLButtonUp:function(evt){Kepler.Framework.UI.CustomSelection.Selectables.Citation.callBaseMethod(this, 'onLButtonUp',[evt]);this.releaseCapture();if(this.$3E){this.$3E=false;this.$3B.onCitationDragStop(this,evt);}else{this.$3B.onCitationLButtonUp(this,evt);}},onMouseDblClick:function(evt){Kepler.Framework.UI.CustomSelection.Selectables.Citation.callBaseMethod(this, 'onMouseDblClick',[evt]);this.$3B.onCitationMouseDblClick(this,evt);}}
Kepler.Framework.UI.CustomSelection.Selectables.Column=function(iLevel){Kepler.Framework.UI.CustomSelection.Selectables.Column.initializeBase(this,[iLevel,6]);this.$25={};}
Kepler.Framework.UI.CustomSelection.Selectables.Column.prototype={get_domElement:function(){return Kepler.Framework.UI.CustomSelection.Selectables.Column.callBaseMethod(this, 'get_domElement');},set_domElement:function(value){this.setDom(value);return value;},get_nodeFilterShow:function(){return -1;},$25:null,isPtInOffsetArea:function(ptOffset){return (ss.isValue(this.get_offsetRect()))?(ptOffset.get_x()<this.get_offsetRect().get_right()):false;},addPara:function(oPara){if(ss.isValue(oPara)){oPara.set_assocColumn(this);this.$25[oPara.get_index()]=oPara;}},getCursorPosFrmPoint:function(ptOffset,oCurPos){return null;},getIndexFromCurPos:function(oPos){return -1;},setIndexToCurPos:function(oPos){},getChildFromCurPos:function(oPos){return null;}}
Kepler.Framework.UI.CustomSelection.Selectables.Doc=function(iLevel){this.$26=0;Kepler.Framework.UI.CustomSelection.Selectables.Doc.initializeBase(this,[iLevel,1]);this.$25={};this.set_name('document');}
Kepler.Framework.UI.CustomSelection.Selectables.Doc.prototype={$25:null,get_nodeFilterShow:function(){return 1;},get_layout:function(){return this.$26;},set_layout:function(value){this.$26=value;return value;},getCursorPosFrmPoint:function(ptOffset,oCurPos){var $0=null;var $1=this.getChildForCursor(ptOffset);if(ss.isValue($1)){var $2=new Kepler.Framework.UI.Point(ptOffset.get_x()-$1.get_offsetRect().get_left(),ptOffset.get_y()-$1.get_offsetRect().get_top());$0=$1.getCursorPosFrmPoint($2,oCurPos);if(ss.isValue(oCurPos)){oCurPos.get_docPos()[this.get_level()].set_paraIndex($1.get_index());}}return $0;},createSelectableFrom:function(elm){var $0=null;switch(elm.getAttribute('name')){case 'para':$0=Kepler.Framework.FrameworkObjectFactory.getParaObject(this.get_level());break;case 'table-para':$0=new Kepler.Framework.UI.CustomSelection.Selectables._TablePara(this.get_level());break;}if($0!=null){this.$27(elm,$0);}return $0;},$27:function($p0,$p1){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p0,'splitindex',-1);if($0!==-1){var $1=this.$25[$0];if(!ss.isValue($1)){$1=new Kepler.Framework.UI.CustomSelection.Selectables._ParaPage();this.$25[$0]=$1;}$1.get_$1().add($p1);}},updateZoomFactor:function(dZoomFactor){this.get_domElement().style.zoom=String.format('{0}',dZoomFactor);},getIndexFromCurPos:function(oPos){var $0=-1;var $1=oPos.get_docPos()[this.get_level()];if(ss.isValue($1)){$0=$1.get_docIndex();}return $0;},setIndexToCurPos:function(oPos){if(oPos.get_level()<this.get_level()){oPos.set_level(this.get_level());}oPos.get_docPos()[this.get_level()].set_docIndex(this.get_index());},setStartPos:function(oPos){oPos.set_docIndex(this.get_index());this.get_children()[0].setStartPos(oPos);},setEndPos:function(oPos){oPos.set_docIndex(this.get_index());var $0=Object.getKeyCount(this.get_children())-1;this.get_children()[$0].setEndPos(oPos);},getChildFromCurPos:function(oPos){return this.get_children()[oPos.get_docPos()[this.get_level()].get_paraIndex()];},isPtInOffsetArea:function(ptOffset){if(!this.$26){return Kepler.Framework.UI.CustomSelection.Selectables.Doc.callBaseMethod(this, 'isPtInOffsetArea',[ptOffset]);}else{return ss.isValue(this.get_offsetRect())&&this.get_offsetRect().get_right()>ptOffset.get_x();}},expandSelection:function(oRange,bCallFromParent){var $0=oRange.get_startCurPos();var $1=oRange.get_endCurPos();if(!bCallFromParent){if(!this.get_isSelCollapsible()){this.get_parent().expandSelection(oRange,false);}else{var $2=this.getChildAt($0.get_docPos()[this.get_level()].get_paraIndex());var $3=this.getChildAt($1.get_docPos()[this.get_level()].get_paraIndex());$2.expandSelection(oRange,true);$3.expandSelection(oRange,true);}}},handleLeftKey:function(oHitTest){var $0=oHitTest.get_endPos();if(oHitTest.get_callFromParent()){var $1=Object.getKeyCount(this.get_children())-1;$0.set_paraIndex($1);return this.get_children()[$1].handleLeftKey(oHitTest);}else{var $2=$0.get_paraIndex();if($2>0){$2--;$0.set_paraIndex($2);oHitTest.set_callFromParent(true);return this.get_children()[$2].handleLeftKey(oHitTest);}if(ss.isValue(this.get_parent())){return this.get_parent().handleLeftKey(oHitTest);}else{return false;}}},handleRightKey:function(oHitTest){var $0=oHitTest.get_endPos();if(oHitTest.get_callFromParent()){$0.set_paraIndex(0);return this.get_children()[0].handleRightKey(oHitTest);}else{var $1=$0.get_paraIndex();if($1<Object.getKeyCount(this.get_children())-1){$1++;$0.set_paraIndex($1);oHitTest.set_callFromParent(true);return this.get_children()[$1].handleRightKey(oHitTest);}if(ss.isValue(this.get_parent())){return this.get_parent().handleRightKey(oHitTest);}else{return false;}}},handleDownKey:function(oHitTest){var $0=false;var $1=oHitTest.get_endPos();if(oHitTest.get_callFromParent()){var $2=this.getChildFromOffsetPoint(new Kepler.Framework.UI.Point(oHitTest.get_xOffset(),0));oHitTest.set_xOffset(oHitTest.get_xOffset()-$2.get_offsetRect().get_left());$1.set_paraIndex($2.get_index());$0=$2.handleDownKey(oHitTest);}else{var $3=$1.get_paraIndex();if($3<Object.getKeyCount(this.get_children())-1){$3++;$1.set_paraIndex($3);oHitTest.set_xOffset(oHitTest.get_xOffset()-this.get_children()[$3].get_offsetRect().get_left());oHitTest.set_callFromParent(true);$0=this.get_children()[$3].handleDownKey(oHitTest);}}if(!$0){if(ss.isValue(this.get_parent())){oHitTest.set_callFromParent(false);oHitTest.set_xOffset(oHitTest.get_xOffset()+this.get_offsetRect().get_left());$0=this.get_parent().handleDownKey(oHitTest);}else if(oHitTest.get_shift()){this.setEndPos($1);$0=true;}}return $0;},handleUpKey:function(oHitTest){var $0=false;var $1=oHitTest.get_endPos();if(oHitTest.get_callFromParent()){var $2=this.getChildFromOffsetPoint(new Kepler.Framework.UI.Point(oHitTest.get_xOffset(),0));oHitTest.set_xOffset(oHitTest.get_xOffset()-$2.get_offsetRect().get_left());$1.set_paraIndex($2.get_index());$0=$2.handleUpKey(oHitTest);}else{var $3=$1.get_paraIndex();if($3>0){$3--;$1.set_paraIndex($3);oHitTest.set_xOffset(oHitTest.get_xOffset()-this.get_children()[$3].get_offsetRect().get_left());oHitTest.set_callFromParent(true);$0=this.get_children()[$3].handleUpKey(oHitTest);}}if(!$0){if(ss.isValue(this.get_parent())){oHitTest.set_callFromParent(false);oHitTest.set_xOffset(oHitTest.get_xOffset()+this.get_offsetRect().get_left());$0=this.get_parent().handleUpKey(oHitTest);}else if(oHitTest.get_shift()){this.setStartPos($1);$0=true;}}return $0;},handleCtrlA:function(oHitTest){var $0=false;if(!ss.isValue(this.get_parent())){this.getStartCurPos(oHitTest.get_startPos());this.getEndCurPos(oHitTest.get_endPos());$0=true;}return ($0)?$0:Kepler.Framework.UI.CustomSelection.Selectables.Doc.callBaseMethod(this, 'handleCtrlA',[oHitTest]);},handleEndKey:function(oHitTest){var $0=false;if(oHitTest.get_ctrl()){if(!ss.isValue(this.get_parent())){this.getEndCurPos(oHitTest.get_endPos());$0=true;}}return ($0)?$0:Kepler.Framework.UI.CustomSelection.Selectables.Doc.callBaseMethod(this, 'handleEndKey',[oHitTest]);},handleHomeKey:function(oHitTest){var $0=false;if(oHitTest.get_ctrl()){if(!ss.isValue(this.get_parent())){this.getStartCurPos(oHitTest.get_endPos());$0=true;}}return ($0)?$0:Kepler.Framework.UI.CustomSelection.Selectables.Doc.callBaseMethod(this, 'handleHomeKey',[oHitTest]);}}
Kepler.Framework.UI.CustomSelection.Selectables.Framework$A=function(iLevel){Kepler.Framework.UI.CustomSelection.Selectables.Framework$A.initializeBase(this,[iLevel,1]);this.$2A=true;}
Kepler.Framework.UI.CustomSelection.Selectables.Framework$A.prototype={$2A:false,getCursorPosFrmPoint:function($p0,$p1){$p1.set_chIndex(0);return $p1;},getCursorRect:function($p0,$p1){var $0=this.get_offsetRect().clone();$0.set_height(0);$0.set_width(1);return $0;},getOffsetFromCurPos:function($p0){return 0;},handleLeftKey:function($p0){var $0=$p0.get_endPos();if($p0.get_callFromParent()&&!this.get_index()){$0.set_chIndex(0);$p0.set_xOffset(0);return true;}else{$p0.set_callFromParent(false);return this.get_parent().handleLeftKey($p0);}},handleRightKey:function($p0){var $0=$p0.get_endPos();if($p0.get_callFromParent()&&!this.get_index()){$0.set_chIndex(0);$p0.set_xOffset(0);return true;}else{$p0.set_callFromParent(false);return this.get_parent().handleRightKey($p0);}},handleUpKey:function($p0){var $0=$p0.get_endPos();if($p0.get_callFromParent()){$0.set_chIndex(0);return true;}else{$p0.set_xOffset($p0.get_xOffset()+this.get_offsetRect().get_left());return this.get_parent().handleUpKey($p0);}},handleDownKey:function($p0){var $0=$p0.get_endPos();if($p0.get_callFromParent()){$0.set_chIndex(0);return true;}else{$p0.set_xOffset($p0.get_xOffset()+this.get_offsetRect().get_left());return this.get_parent().handleDownKey($p0);}},getAttributedSelectedString:function($p0,$p1){var $0='';var $1=this.get_domElement().parentNode;$0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($1,'attr_prefix');$0+=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($1,'attr_suffix');return $0;},$2B:function(){if(this.$2A){(this.get_parent()).updateChildRects(this);this.$2A=false;}}}
Kepler.Framework.UI.CustomSelection.Selectables.Framework$D=function(){Kepler.Framework.UI.CustomSelection.Selectables.Framework$D.initializeBase(this);this.$52=[];this.$53=[];this.$50=0;this.$4F=null;this.$51=-1;}
Kepler.Framework.UI.CustomSelection.Selectables.Framework$D.prototype={$4F:null,$50:0,$51:0,$52:null,$53:null,handleLockedKeys:function($p0){var $0=false;for(var $1=0;$1<this.$53.length;$1++){if(this.$53[$1].get_$D()&&$p0.isIntersect(this.$53[$1].getRange())){$0=true;break;}}return $0;},fillViewNavigationParams:function($p0,$p1){Kepler.Framework.UI.CustomSelection.Selectables.Framework$D.callBaseMethod(this, 'fillViewNavigationParams',[$p0,$p1]);var $0=$p1.get_startCurPos().clone();var $1=this.getChildFromCurPos($0);var $2=null;if(Type.canCast($1,Kepler.Framework.UI.CustomSelection.Selectables.OutlinePara)){var $4=$1;$2=$4.getParentBox();$p0['outline-link']=(ss.isValue($2))?1:0;var $5=$1.getRange();if($5.get_startCurPos().isEqual($0)&&ss.isValue($2)){$p0['outline-Split']=1;}else{$p0['outline-Split']=0;}}var $3=null;$1=this.getChildFromCurPos($p1.get_endCurPos().clone());if(Type.canCast($1,Kepler.Framework.UI.CustomSelection.Selectables.OutlinePara)){var $6=$1;$3=$6.getParentBox();}$p0['outline-lock-enable']=0;if(ss.isValue($2)&&ss.isValue($3)){if($2===$3){$p0['outline-lock-enable']=1;$p0['outline-lock-checked']=($2.get_$D())?1:0;}}else if(!ss.isValue($2)&&!ss.isValue($3)){$p0['outline-lock-enable']=1;}},recalcLayout:function($p0){for(var $0=0;$0<this.$53.length;$0++){this.$53[$0].$17();}Kepler.Framework.UI.CustomSelection.Selectables.Framework$D.callBaseMethod(this, 'recalcLayout',[$p0]);},parseChild:function(){Kepler.Framework.UI.CustomSelection.Selectables.Framework$D.callBaseMethod(this, 'parseChild');this.$55();this.$54();},$4B:function($p0){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p0,'name');if($0==='box-section'){var $1=new Kepler.Framework.UI.CustomSelection.Selectables.Framework$6(0);$1.set_$11($p0);this.$53.add($1);$1.addActEventHandler(ss.Delegate.create(this,this.$59));}return 1;},createSelectableFrom:function($p0){var $0=null;var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p0,'name');if($1==='para'){var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p0,'paratype');if(!$2.compareTo('outlinepara',true)){$0=new Kepler.Framework.UI.CustomSelection.Selectables.OutlinePara(this.get_level());($0).addActEventHandler(ss.Delegate.create(this,this.$59));}}if($0!=null){this.$27($p0,$0);}return ($0!=null)?$0:Kepler.Framework.UI.CustomSelection.Selectables.Framework$D.callBaseMethod(this, 'createSelectableFrom',[$p0]);},$4C:function($p0){var $0=$p0.getAttributeAsString('paratype');if(!$0.compareTo('outlinepara')){var $1=$p0;var $2;if($1.get_isCollSecRoot()){var $4=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p0.get_domElement(),'level',1);$2=new Kepler.Framework.UI.CustomSelection.Selectables.Framework$7($4);$2.set_$F(Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p0.get_domElement(),'parent-collapsible-section-id'));$2.set_id(Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p0.get_domElement(),'self-collapsible-section-id'));$2.set_$11((!Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p0.get_domElement(),'expanded',1))?false:true);this.$52.add($2);var $5=this.$57($2.get_$F());if(ss.isValue($5)){$5.$13($2);if($2.get_$1()===1){$2.set_$1($5.get_$1()+1);}}}else{$2=this.$56($p0.get_domElement());}if($2!=null){$2.$13($p0);}var $3=this.$58($p0.get_domElement());if($3!=null){$3.$18($p0);}}return true;},$54:function(){for(var $0=0;$0<this.$52.length;$0++){var $1=this.$57(this.$52[$0].get_$F());if($1!=null){$1.$6(this.$52[$0]);}}},$55:function(){for(var $0=0;$0<this.$53.length;$0++){var $1=this.$58(this.$53[$0].get_$11());if($1!=null){$1.$6(this.$53[$0]);}}},$56:function($p0){var $0=null;var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p0,'parent-collapsible-section-id');if(isFinite($1)){for(var $2=0;$2<this.$52.length;$2++){if(this.$52[$2].get_id()===$1){$0=this.$52[$2];break;}}}return $0;},$57:function($p0){var $0=null;if(isFinite($p0)){for(var $1=0;$1<this.$52.length;$1++){if(this.$52[$1].get_id()===$p0){$0=this.$52[$1];break;}}}return $0;},$58:function($p0){var $0=null;var $1=$p0.parentNode;if(ss.isValue($1)){var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getParentElementByName($1,'box-section');if(ss.isValue($2)){for(var $3=0;$3<this.$53.length;$3++){if(this.$53[$3].get_$11()===$2){$0=this.$53[$3];break;}}}}return $0;},$59:function($p0,$p1){return this.notifyController(2,this,$p1.data);},$5A:function($p0){var $0=$p0.get_x()/70;$0=Math.round($0);if($0!==this.$51){this.$51=$0;var $1=new Kepler.Framework.UI.CustomSelection.UpdateOutLinePreview();if($0>1&&$0<11){$1.eType=1;}else{$1.eType=0;}$1.point=new Kepler.Framework.UI.Point(0,0);$1.point.set_x(($0-1)*70);$1.point.set_y(this.$4F.get_clientY());this.get_controlHandle().handleOnContainerCtrlNotification(2,$1);}},$24:function($p0,$p1,$p2){var $0=$p2;switch($p0){case 2:this.$4F=$0.clone();this.$50=0;break;case 0:if(!this.$50){var $1=$0.get_clientY()-this.$4F.get_clientY();var $2=$0.get_clientX()-this.$4F.get_clientX();if((!$1&&!$2)||($1===$2)){this.$50=0;}this.$50=(Math.abs($1)<=Math.abs($2))?1:2;}if(this.$50===1){this.$5A(new Kepler.Framework.UI.Point($0.get_clientX(),$0.get_clientY()));}break;case 1:if(Type.canCast($p1,Kepler.Framework.UI.CustomSelection.Selectables.OutlinePara)){var $3=$p1;if($3.get_actionData()._eType===3){var $5=$3.get_actionData().iActionCheckingParameter;var $6=$0.get_clientX()/70;if($6>=$5&&$6<$5+1){$3.get_actionData().bResult=true;}else{$3.get_actionData().bResult=false;}}if($3.get_actionData()._eType===4){}this.notifyController(2,$3,$3.get_actionData());var $4=new Kepler.Framework.UI.CustomSelection.UpdateOutLinePreview();$4.eType=0;this.get_controlHandle().handleOnContainerCtrlNotification(2,$4);}break;}return true;}}
Kepler.Framework.UI.CustomSelection.Selectables.Framework$E=function(){Kepler.Framework.UI.CustomSelection.Selectables.Framework$E.initializeBase(this);this.$4E=[];}
Kepler.Framework.UI.CustomSelection.Selectables.Framework$E.prototype={$4E:null,$4B:function($p0){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p0,'name');if($0==='header_footer_section'){var $1=new Kepler.Framework.UI.CustomSelection.Selectables.HeaderFooterSection();$1.set_domElement($p0);var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p0,'type');if($0==='header'){$1.set_hfType(0);}else if($0==='footer'){$1.set_hfType(1);}this.$4E.add($1);}return 1;},$4C:function($p0){if(ss.isValue($p0)){var $0=this.$4F($p0.get_domElement());if($0!=null){$0.addRegion($p0);}}return true;},$4F:function($p0){var $0=null;var $1=$p0.parentNode;if(ss.isValue($1)){var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getParentElementByName($1,'header_footer_section');if(ss.isValue($2)){for(var $3=0;$3<this.$4E.length;$3++){if(this.$4E[$3].get_domElement()===$2){$0=this.$4E[$3];break;}}}}return $0;},handleCtrlA:function($p0){var $0=new Kepler.Framework.UI.CustomSelection.SelRange();$0.setStartFromCurPos($p0.get_startPos());$0.setEndFromCurPos($p0.get_endPos());for(var $1=0;$1<this.$4E.length;$1++){var $2=this.$4E[$1].getRange();if(ss.isValue($2)&&$0.isWithin($2)){$p0.get_startPos().copyFrom($2.get_startCurPos());$p0.get_endPos().copyFrom($2.get_endCurPos());break;}}return true;}}
Kepler.Framework.UI.CustomSelection.Selectables.MainDoc=function(){Kepler.Framework.UI.CustomSelection.Selectables.MainDoc.initializeBase(this,[0]);this.$28=null;this.$2A=0;this.$2B=null;this.$2C=false;this.$31=null;this.$3B={};this.$35={};this.$36={};this.$37=-1;this.$38=-1;this.$39=-1;this.$3A=-1;this.$3C=[];this.$3F=true;}
Kepler.Framework.UI.CustomSelection.Selectables.MainDoc.prototype={$28:null,get_referenceParent:function(){return this.$28;},set_referenceParent:function(value){this.$28=value;return value;},$29:null,get_refPrntSize:function(){if(this.$29==null){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientRect(this.$28);this.$29=new Kepler.Framework.UI.Size($0.get_width(),$0.get_height());}return this.$29;},$2A:0,get_hitPriority:function(){return this.$2A;},set_hitPriority:function(value){this.$2A=value;return value;},$2B:null,get_controlHandle:function(){return this.$2B;},set_controlHandle:function(value){this.$2B=value;return value;},$2C:false,get_focused:function(){return this.$2C;},set_focused:function(value){this.$2C=value;return value;},$2D:null,get_$2E:function(){return this.$2D;},set_$2E:function($p0){this.$2D=$p0;return $p0;},$2F:false,get_isEditingBlocked:function(){return this.$2F;},set_isEditingBlocked:function(value){this.$2F=value;return value;},$30:null,get_typingElement:function(){if(!ss.isValue(this.$30)&&!ss.isValue(this.$2D)){this.$30=Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementById(this.$28,'typing');this.$2D=ss.isValue(this.$30);}return this.$30;},$31:null,get_typingRange:function(){return this.$31;},set_typingRange:function(value){this.$31=value;if(this.$31==null){this.$2D=false;}return value;},$32:null,get_selHandler:function(){return this.$32;},set_selHandler:function(value){this.$32=value;return value;},$33:0,get_pageWidth:function(){return this.$33;},set_pageWidth:function(value){this.$33=value;return value;},$34:0,get_pageTop:function(){return this.$34;},set_pageTop:function(value){this.$34=value;return value;},$35:null,$36:null,get_pageCount:function(){return Object.getKeyCount(this.$36);},$37:0,get_wordCount:function(){if(this.$37<0){this.$37=this.$48();}return this.$37;},$38:0,get_characterCountWithSpace:function(){if(this.$38<0){this.$38=this.$4A();}return this.$38;},$39:0,get_characterCountWithoutSpace:function(){if(this.$39<0){this.$39=this.$49();}return this.$39;},$3A:0,get_lineCount:function(){if(this.$3A<0){this.$3A=this.getTotalLineCount();}return this.$3A;},$3B:null,$3C:null,$3D:null,get_$3E:function(){if(ss.isNullOrUndefined(this.$3D)){this.$3D=this.$44();}return this.$3D;},$3F:false,get_visible:function(){return this.$3F;},set_visible:function(value){this.$3F=value;return value;},$40:true,get_isForceRecal:function(){return this.$40;},set_isForceRecal:function(value){this.$40=value;return value;},handleLockedKeys:function(oCurRange){return false;},isPtInOffsetArea:function(ptOffset){if(this.$2A>0){return this.get_offsetRect().isPtInRect(ptOffset.get_x(),ptOffset.get_y());}return Kepler.Framework.UI.CustomSelection.Selectables.MainDoc.callBaseMethod(this, 'isPtInOffsetArea',[ptOffset]);},getTypingElmAttr:function(strAttr){if(!ss.isValue(this.$3B[strAttr])){if(ss.isValue(this.get_typingElement())){this.$3B[strAttr]=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString(this.get_typingElement(),strAttr);}else{this.$3B[strAttr]='';}}return this.$3B[strAttr];},$41:function($p0){if($p0.getAttribute('name')==='page'){$p0.setAttribute('pageindex',Object.getKeyCount(this.$36));var $0=new Kepler.Framework.UI.CustomSelection.Selectables.Page(this.get_level());$0.set_domElement($p0);$0.set_index(Object.getKeyCount(this.$36));this.$36[Object.getKeyCount(this.$36)]=$0;}if($p0.getAttribute('name')==='column'){$p0.setAttribute('columnindex',Object.getKeyCount(this.$35));var $1=new Kepler.Framework.UI.CustomSelection.Selectables.Column(this.get_level());$1.set_domElement($p0);$1.set_index(Object.getKeyCount(this.$35));this.updateChildRects($1);this.$35[Object.getKeyCount(this.$35)]=$1;}return 1;},parseChild:function(){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.createTreeWalker(this.get_domElement(),1,ss.Delegate.create(this,this.$41),false);var $1=$0.nextNode();while($1!=null){$1=$0.nextNode();}Kepler.Framework.UI.CustomSelection.Selectables.MainDoc.callBaseMethod(this, 'parseChild');},$42:function($p0){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getParentElementByName($p0.get_domElement(),'page');var $1=(ss.isValue($0))?Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($0,'pageindex',-1):-1;return this.$36[$1];},$43:function($p0){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getParentElementByName($p0.get_domElement(),'column');var $1=(ss.isValue($0))?Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($0,'columnindex',-1):-1;return this.$35[$1];},$44:function(){var $0={};var $1=this.$46(this.get_domElement(),'expansion_bound_start');var $2=this.$46(this.get_domElement(),'expansion_bound_end');var $dict1=$1;for(var $key2 in $dict1){var $3={key:$key2,value:$dict1[$key2]};var $4=$3.value;var $5=$2[$3.key];if(ss.isValue($5)){$0[$3.key]=Kepler.Framework.UI.CustomSelection.CustomSelHelper.getRangeBtwn($4,$5);}}return $0;},applyRangeExpansion:function(oCurrRng){var $0=this.getApplicableExpansionRange(oCurrRng);if(ss.isValue($0)){if($0.get_startCurPos().isLess(oCurrRng.get_startCurPos())&&$0.get_endCurPos().isGreater(oCurrRng.get_startCurPos())){oCurrRng.setStartFromCurPos($0.get_startCurPos());}if($0.get_startCurPos().isLess(oCurrRng.get_endCurPos())&&$0.get_endCurPos().isGreater(oCurrRng.get_endCurPos())){oCurrRng.setEndFromCurPos($0.get_endCurPos());}return true;}return false;},getApplicableExpansionRange:function(oSelRng){var $0=null;var $1=this.$45(oSelRng);if($1!==-1){$0=this.get_$3E()[$1];}return $0;},$45:function($p0){var $0=-1;var $1=this.get_$3E();var $dict1=$1;for(var $key2 in $dict1){var $2={key:$key2,value:$dict1[$key2]};var $3=$2.value;if($p0.isIntersect($3)&&!$3.isWithin($p0)){$0=$2.key;break;}}return $0;},$46:function($p0,$p1){var $0={};var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementsByName($p0,$p1);for(var $2=0;$2<$1.length;$2++){var $3=$1[$2];var $4=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($3,'expansion_bound_index',-1);if($4!==-1){$0[$4]=$3;}}return $0;},onChildAdd:function(oChild){Kepler.Framework.UI.CustomSelection.Selectables.MainDoc.callBaseMethod(this, 'onChildAdd',[oChild]);var $0=oChild;$0.set_assocColumn(this.$43($0));$0.set_assocPage(this.$42($0));},recalcLayout:function(dZoomFactor){this.$29=null;var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.calcOffsetBetwnElement(this.get_referenceParent(),this.get_domElement());var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientRect(this.get_domElement());var $2=new Kepler.Framework.UI.Point(this.get_referenceParent().scrollLeft,this.get_referenceParent().scrollTop);this.set_offsetRect(new Kepler.Framework.UI.Rect($0.get_x()+$2.get_x(),$0.get_y()+$2.get_y(),$1.get_width(),$1.get_height()));},cutStringUpToEnd:function(oStart){var $0='';var $1=this.getSelectableFromCurPos(oStart,2);$0=$0+$1.cutStringUpToEnd(oStart);return $0;},handlePrintableKey:function(oStartPos,oEndPos,oActKey){var $0=this.get_selHandler().get_isWrappingEnabled();var $1=true;if(!$0){$1=Kepler.Framework.UI.CustomSelection.Selectables.MainDoc.callBaseMethod(this, 'handlePrintableKey',[oStartPos,oEndPos,oActKey]);}else{var $5=false;var $6=this.getSelectableFromCurPos(oStartPos,3);if(!oStartPos.isEqual(oEndPos)){this.$47(oStartPos,oEndPos);var $7=this.get_children()[oStartPos.get_paraIndex()];$7.removeEmptyTextElems();$7.wrapParaBackwards(oStartPos.get_rowIndex());this.setRangeRecalProperty();$5=true;if(oActKey.key!==8||oActKey.key!==46){var $9=oStartPos.get_chIndex();var $A=$6.get_children()[oStartPos.get_elIndex()];if($9>$A.get_charCount()){oStartPos.set_rowIndex(oStartPos.get_rowIndex()+1);oStartPos.set_chIndex(($9-$A.get_charCount()-1));}}oEndPos.set_chIndex(oStartPos.get_chIndex());oEndPos.set_rowIndex(oStartPos.get_rowIndex());oEndPos.set_elIndex(oStartPos.get_elIndex());oEndPos.set_paraIndex(oStartPos.get_paraIndex());var $8=new Kepler.Framework.UI.CustomSelection.SelRange();$8.setStartFromCurPos(oStartPos);$8.setEndFromCurPos(oStartPos);($7.get_parent()).set_isForceRecal(true);this.notifyController(4,this,$8);this.notifyController(6,this,$8);($7.get_parent()).set_isForceRecal(false);}$1=true;if(!((oActKey.key===8||(oActKey.key===46&&!oActKey.isForKeyPress))&&$5)){$1=Kepler.Framework.UI.CustomSelection.Selectables.MainDoc.callBaseMethod(this, 'handlePrintableKey',[oStartPos,oEndPos,oActKey]);}if($5){if(oActKey.key!==8||oActKey.key!==46){var $C=oStartPos.get_chIndex();var $D=$6.get_children()[0];if($C<$D.get_charCount()){oStartPos.set_chIndex($C);}else{}}oEndPos.set_chIndex(oStartPos.get_chIndex());oEndPos.set_rowIndex(oStartPos.get_rowIndex());oEndPos.set_elIndex(oStartPos.get_elIndex());oEndPos.set_paraIndex(oStartPos.get_paraIndex());var $B=new Kepler.Framework.UI.CustomSelection.SelRange();$B.setStartFromCurPos(oStartPos);$B.setEndFromCurPos(oStartPos);this.notifyController(4,this,$B);this.notifyController(6,this,$B);}}var $2=new Kepler.Framework.UI.CustomSelection.SelRange();$2.setStartFromCurPos(oStartPos);$2.setEndFromCurPos(oEndPos);var $3=this.$45($2);var $4=this.get_$3E()[$3];if(ss.isValue($4)&&$2.isWithin($4)){delete this.get_$3E()[$3];}return $1;},$47:function($p0,$p1){var $0=$p0.get_paraIndex();var $1=$p1.get_paraIndex();var $2;var $3;var $4;var $5=false;var $6=false;var $7=new Kepler.Framework.UI.CustomSelection.SelRange();$7.setStartFromCurPos($p0);$7.setEndFromCurPos($p1);for(var $A=$0;$A<=$1;$A++){$2=this.get_children()[$A];$5=$A===$0;$6=$A===$1;var $B=($5)?$p0.get_rowIndex():0;var $C=($6)?$p1.get_rowIndex():Object.getKeyCount($2.get_children())-1;for(var $D=$B;$D<=$C;$D++){$3=$2.get_children()[$D];var $E=($D===$B&&$5)?$p0.get_elIndex():0;var $F=($D===$C&&$6)?$p1.get_elIndex():Object.getKeyCount($3.get_children())-1;for(var $10=$F;$10>=$E;$10--){var $11=false;$4=$3.get_children()[$10];if(ss.isValue($4)){var $12=$4.getRange();if($12.isWithin($7)){$4.set_text('');$11=true;}else if($p0.isGreaterEqual($12.get_startCurPos())&&$p1.isGreaterEqual($12.get_endCurPos())){$4.set_text($4.get_text().substr(0,$p0.get_chIndex()));$11=true;}else if($p1.isLessEqual($12.get_endCurPos())&&$p0.isLessEqual($12.get_startCurPos())){$4.set_text($4.get_text().substr($p1.get_chIndex(),$4.get_text().length));$11=true;}else if($7.isWithin($12)){$4.set_text($4.get_text().substr(0,$p0.get_chIndex())+$4.get_text().substr($p1.get_chIndex(),$4.get_text().length));$11=true;}if($11){$4.applyTransitionToHighlightElm($p0,$p1);}}}}}var $8=this.get_children()[$p0.get_paraIndex()];var $9=this.get_children()[$p1.get_paraIndex()];this.mergeTwoPara($8,$9);for(var $13=$1-1;$13>$0;$13--){$2=this.get_children()[$13];if($2.isParaEmpty()){$2.get_domElement().parentNode.removeChild($2.get_domElement());for(var $14=$13;$14<Object.getKeyCount(this.get_children());$14++){this.get_children()[$14]=this.get_children()[$14+1];if(ss.isValue(this.get_children()[$14])){this.get_children()[$14].set_index($14);}}delete this.get_children()[Object.getKeyCount(this.get_children())-1];}}},mergeTwoPara:function(oPara1,oPara2){var $0=oPara2.get_index();if(oPara1!==oPara2){var $1=Object.getKeyCount(oPara1.get_children());for(var $2=0;$2<Object.getKeyCount(oPara2.get_children());$2++){var $3=oPara2.get_children()[$2];if(!$3.isRowEmpty()){Object.clearKeys($3.get_children());oPara1.get_domElement().appendChild($3.get_domElement());oPara1.$21($3,$3.get_domElement());$3.set_index(Object.getKeyCount(oPara1.get_children())-1);}}oPara2.get_domElement().parentNode.removeChild(oPara2.get_domElement());for(var $4=$0;$4<Object.getKeyCount(this.get_children());$4++){this.get_children()[$4]=this.get_children()[$4+1];if(ss.isValue(this.get_children()[$4])){this.get_children()[$4].set_index($4);}}delete this.get_children()[Object.getKeyCount(this.get_children())-1];}},onCharInserted:function(oActedKey){Kepler.Framework.UI.CustomSelection.Selectables.MainDoc.callBaseMethod(this, 'onCharInserted',[oActedKey]);this.$37=-1;this.get_controlHandle().handleOnContainerCtrlNotification(0,oActedKey);},$48:function(){var $0=this.getStringForRange(this.getRange());var $1=$0.split(new RegExp('[ ]+'));return ($1!=null)?$1.length:-1;},$49:function(){var $0=0;var $1=this.getStringForRange(this.getRange());var $2=$1.split(new RegExp('[ ]+'));var $enum1=ss.IEnumerator.getEnumerator($2);while($enum1.moveNext()){var $3=$enum1.current;$0+=$3.length;}return $0;},$4A:function(){var $0=this.getStringForRange(this.getRange());return ($0!=null)?$0.length:-1;},getTotalLineCount:function(){var $0=0;var $1=Object.keys(this.get_children());var $2;var $enum1=ss.IEnumerator.getEnumerator($1);while($enum1.moveNext()){var $3=$enum1.current;$2=(Object.keyExists(this.get_children(),$3))?this.get_children()[$3]:null;$0+=Object.getKeyCount($2.get_children());}return $0;},getActualSelectableOffsetRect:function(){var $0=new Kepler.Framework.UI.Rect(0,0,this.get_offsetRect().get_width(),this.get_offsetRect().get_height());var $1=Object.getKeyCount(this.get_children());if($1>0){var $2=this.get_children()[0];var $3=this.get_children()[$1-1];var $4=$2.get_offsetRect().get_top();var $5=$3.get_offsetRect().get_bottom();$0.set_top($4);$0.set_height($5-$4);}return $0;},showMenu:function(iMenu,pt){this.$2B.showMenu(iMenu,pt);},getPageRange:function(iPageIndex){var $0=null;var $1=this.$36[iPageIndex];var $2=($1!=null)?Object.getKeyCount($1.get_children()):0;if($2>0){$0=new Kepler.Framework.UI.CustomSelection.SelRange();var $3=$1.get_children()[0];$0.setStartFromCurPos($3.getRange().get_startCurPos());$3=$1.get_children()[$2-1];$0.setEndFromCurPos($3.getRange().get_endCurPos());}return $0;},notifyController:function(eType,oTarget,data){return this.$32.handleNotification(eType,oTarget,data);},onMouseOver:function(pt,oData){var $0=Kepler.Framework.UI.CustomSelection.Selectables.MainDoc.callBaseMethod(this, 'onMouseOver',[pt,oData]);for(var $1=0;$1<this.$3C.length;$1++){this.$3C[$1].notifyMouseOver(pt,oData);}return $0;},onMouseOut:function(pt,oData){var $0=Kepler.Framework.UI.CustomSelection.Selectables.MainDoc.callBaseMethod(this, 'onMouseOut',[pt,oData]);for(var $1=0;$1<this.$3C.length;$1++){this.$3C[$1].notifyMouseOut(pt,oData);}return $0;},onLButtonDown:function(ptClick,oData){var $0=Kepler.Framework.UI.CustomSelection.Selectables.MainDoc.callBaseMethod(this, 'onLButtonDown',[ptClick,oData]);for(var $1=0;$1<this.$3C.length;$1++){this.$3C[$1].notifyLButtonDown(ptClick,oData);}return $0;},onLButtonUp:function(ptClick,oData){var $0=Kepler.Framework.UI.CustomSelection.Selectables.MainDoc.callBaseMethod(this, 'onLButtonUp',[ptClick,oData]);for(var $1=0;$1<this.$3C.length;$1++){this.$3C[$1].notifyLButtonUp(ptClick,oData);}return $0;},onRButtonDown:function(ptClick,oData){var $0=Kepler.Framework.UI.CustomSelection.Selectables.MainDoc.callBaseMethod(this, 'onRButtonDown',[ptClick,oData]);for(var $1=0;$1<this.$3C.length;$1++){this.$3C[$1].notifyRButtonDown(ptClick,oData);}return $0;},onRButtonUp:function(ptClick,oData){var $0=Kepler.Framework.UI.CustomSelection.Selectables.MainDoc.callBaseMethod(this, 'onRButtonUp',[ptClick,oData]);for(var $1=0;$1<this.$3C.length;$1++){this.$3C[$1].notifyRButtonUp(ptClick,oData);}return $0;},onSelRngIn:function(oRange){var $0=Kepler.Framework.UI.CustomSelection.Selectables.MainDoc.callBaseMethod(this, 'onSelRngIn',[oRange]);for(var $1=0;$1<this.$3C.length;$1++){this.$3C[$1].notifySelRngIn(oRange);}return $0;},onSelRngOut:function(oRange){var $0=Kepler.Framework.UI.CustomSelection.Selectables.MainDoc.callBaseMethod(this, 'onSelRngOut',[oRange]);for(var $1=0;$1<this.$3C.length;$1++){this.$3C[$1].notifySelRngOut(oRange);}return $0;},addParaHeaderBtn:function(){for(var $0=0;$0<Object.getKeyCount(this.get_children());$0++){var $1=this.get_children()[$0];if($1.get_headingType()>0){$1.addExpandCollapseHeaderBtn();}}},addAssocInteractable:function(oInteractable){if(this.$3C!=null){this.$3C.add(oInteractable);}}}
Kepler.Framework.UI.CustomSelection.Selectables.Framework$B=function(){Kepler.Framework.UI.CustomSelection.Selectables.Framework$B.initializeBase(this);}
Kepler.Framework.UI.CustomSelection.Selectables.Framework$B.prototype={parseChild:function(){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.createTreeWalker(this.get_domElement(),1,ss.Delegate.create(this,this.$4B),false);var $1=$0.nextNode();while($1!=null){$1=$0.nextNode();}Kepler.Framework.UI.CustomSelection.Selectables.Framework$B.callBaseMethod(this, 'parseChild');},$4B:function($p0){return 1;},onChildAdd:function($p0){Kepler.Framework.UI.CustomSelection.Selectables.Framework$B.callBaseMethod(this, 'onChildAdd',[$p0]);this.$4C($p0);},$4C:function($p0){return true;}}
Kepler.Framework.UI.CustomSelection.Selectables.OutlinePara=function(iLevel){Kepler.Framework.UI.CustomSelection.Selectables.OutlinePara.initializeBase(this,[iLevel]);this.$35=false;this.$37=null;this.$39=null;this.$38=[];this.$34=null;this.set_paraType(2);}
Kepler.Framework.UI.CustomSelection.Selectables.OutlinePara.prototype={$34:null,get_actionData:function(){return this.$34;},set_actionData:function(value){this.$34=value;return value;},$35:false,$36:false,get_isCollSecRoot:function(){return this.$35;},$37:null,$38:null,$39:null,getParentBox:function(){return this.$37;},parseChild:function(){Kepler.Framework.UI.CustomSelection.Selectables.OutlinePara.callBaseMethod(this, 'parseChild');var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString(this.get_domElement(),'sectionroot');this.$35=!$0.compareTo('1');var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt(this.get_domElement(),'is_collapsible',1);this.$36=($1===1);this.parseActionAttributes();this.initCitations();},parseActionAttributes:function(){this.$34=new Kepler.Framework.UI.CustomSelection.FrameActionData();this.$34.frameJumpInfo=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString(this.get_domElement(),'frame_jump_info');this.$34.strActionString=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString(this.get_domElement(),'action_string');this.$34._eType=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt(this.get_domElement(),'action_type',0);this.$34.iActionCheckingParameter=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt(this.get_domElement(),'action_check_parameter',-1);},$3A:function($p0){var $0=false;if(this.$34._eType===$p0){this.$34.bResult=true;this.notifyController(2,this,this.$34);}return $0;},getOutlineLevel:function(){var $0='Body Text';if(this.$35){if(this.$39!=null){$0='Level '+this.$39.get_$1().toString();}}return $0;},getDomElement:function(){return this.get_domElement();},setParentSection:function(hPrnt){if(Type.canCast(hPrnt,Kepler.Framework.UI.CustomSelection.Selectables.Framework$6)){this.$37=hPrnt;}if(Type.canCast(hPrnt,Kepler.Framework.UI.CustomSelection.Selectables.Framework$7)){this.$39=hPrnt;}return true;},selectChildRegions:function(){return true;},collapseRegion:function(){return true;},expandRegion:function(){return true;},visible:function(bShow){if(bShow){this.showArea();}else{this.hideArea();}},initCitations:function(){this.$3B();},$3B:function(){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.createTreeWalker(this.get_domElement(),1,ss.Delegate.create(this,this.$3C),false);var $1=$0.nextNode();while($1!=null){$1=$0.nextNode();}},$3C:function($p0){var $0=1;var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p0,'name');if($1==='row'||$1==='table-row'){$0=2;}else if($1==='outlinecitation'){var $2=new Kepler.Framework.UI.CustomSelection.Selectables.Citation($p0,this);this.$38.add($2);$0=2;}return $0;},getShowHideTime:function(){return 0;},onCitationLButtonDown:function(oCitation,evt){var $0=this.$3A(1);var $1;if(!$0){if(this.$35){$1=this.$39.getRange();}else{$1=this.getRange();}if(ss.isValue($1)){this.notifyController(4,this,$1);}}},onCitationMouseMove:function(oCitation,evt){},onCitationLButtonUp:function(oCitation,evt){},onCitationMouseDblClick:function(oCitation,evt){var $0=this.$3A(2);if(!$0){if(this.$35&&this.$36){this.$39.visible(!this.$39.get_$11());this.showArea();var $1=this.$39.getRange();if(ss.isValue($1)){this.notifyController(6,this,$1);}}}},onCitationDragStart:function(oCitation,evt){this.notifyParent(2,this,evt,true);},onCitationDraging:function(oCitation,evt){this.notifyParent(0,this,evt,true);},onCitationDragStop:function(oCitation,evt){this.notifyParent(1,this,evt,true);},add_$3D:function($p0){this.$3E=ss.Delegate.combine(this.$3E,$p0);},remove_$3D:function($p0){this.$3E=ss.Delegate.remove(this.$3E,$p0);},$3E:null,addActEventHandler:function(oHandlerFn){if(ss.isValue(oHandlerFn)){this.add_$3D(oHandlerFn);}},fireActionEvent:function(){var $0=false;if(ss.isValue(this.$3E)){$0=this.$3E(this,new Kepler.Framework.UI.CustomSelection.ActionEvtArgs());}return $0;}}
Kepler.Framework.UI.CustomSelection.Selectables.Para=function(iLevel){Kepler.Framework.UI.CustomSelection.Selectables.Para.initializeBase(this,[iLevel,2]);this.$25=null;this.$26=null;this.set_name('para');this.$27=0;this.$2C=0;this.$2D=-1;}
Kepler.Framework.UI.CustomSelection.Selectables.Para.prototype={$25:null,get_assocColumn:function(){return this.$25;},set_assocColumn:function(value){if(ss.isValue(value)){this.$25=value;this.$25.get_children()[this.get_index()]=this;}return value;},$26:null,get_assocPage:function(){return this.$26;},set_assocPage:function(value){if(ss.isValue(value)){this.$26=value;this.$26.get_children()[this.get_index()]=this;}return value;},$27:0,get_paraType:function(){return this.$27;},set_paraType:function(value){this.$27=value;return value;},get_nodeFilterShow:function(){return 1;},$28:false,get_isBackwardWrappingPerformed:function(){return this.$28;},set_isBackwardWrappingPerformed:function(value){this.$28=value;return value;},$29:false,get_isUpdateChildRects:function(){return this.$29;},set_isUpdateChildRects:function(value){this.$29=value;return value;},get_domElement:function(){return Kepler.Framework.UI.CustomSelection.Selectables.Para.callBaseMethod(this, 'get_domElement');},set_domElement:function(value){Kepler.Framework.UI.CustomSelection.Selectables.Para.callBaseMethod(this, 'set_domElement',[value]);this.$2E();return value;},$2A:null,get_headerBtn:function(){return this.$2A;},$2B:0,get_headerBtnState:function(){return this.$2B;},$2C:0,get_headingType:function(){return this.$2C;},set_headingType:function(value){this.$2C=value;return value;},$2D:0,get_parentHeaderType:function(){return this.$2D;},set_parentHeaderType:function(value){this.$2D=value;return value;},$2E:function(){this.get_domElement().selectablearea=this;var $0=this.get_domElement().getAttribute('header-type');this.$2C=(ss.isValue($0))?parseInt($0):0;var $1=this.get_domElement().getAttribute('header-btn-state');this.$2B=((ss.isNullOrUndefined($1))?0:parseInt($1));},onOffsetSizeChange:function(rcNew){if(!ss.isNullOrUndefined(this.get_parent())&&(Kepler.Framework.UI.CustomSelection.Selectables.MainDoc).isInstanceOfType(this.get_parent())){if(!(this.get_parent()).get_selHandler().get_isWrappingEnabled()){Kepler.Framework.UI.CustomSelection.Selectables.Para.callBaseMethod(this, 'onOffsetSizeChange',[rcNew]);}else if((this.get_parent()).get_isForceRecal()||this.$29){this.updateChildrenRects();this.$29=false;}}else if(ss.isNullOrUndefined(this.get_parent())){this.updateChildrenRects();}},isPtInOffsetArea:function(ptOffset){var $0=Kepler.Framework.UI.CustomSelection.Selectables.Para.callBaseMethod(this, 'isPtInOffsetArea',[ptOffset]);if(ss.isValue(this.$25)){$0=($0&this.$25.isPtInOffsetArea(ptOffset))===1;}return $0;},getCursorPosFrmPoint:function(ptOffset,oCurPos){var $0=null;var $1=this.getChildForCursor(ptOffset);if(ss.isValue($1)){var $2=new Kepler.Framework.UI.Point(ptOffset.get_x()-$1.get_offsetRect().get_left(),ptOffset.get_y()-$1.get_offsetRect().get_top());$0=$1.getCursorPosFrmPoint($2,oCurPos);if(ss.isValue(oCurPos)){oCurPos.get_docPos()[this.get_level()].set_rowIndex($1.get_index());}}return $0;},createSelectableFrom:function(elm){var $0=null;switch(elm.getAttribute('name')){case 'row':$0=Kepler.Framework.FrameworkObjectFactory.getRowObject(this.get_level());break;case 'table-row':$0=new Kepler.Framework.UI.CustomSelection.Selectables.TableRow(this.get_level());break;}return $0;},performOnParaWithinSel:function(oSelRange,fnPerform,oReqInfo){var $0=true;if(ss.isValue(fnPerform)){$0=fnPerform(this,oReqInfo);}return $0;},getIndexFromCurPos:function(oPos){var $0=-1;var $1=oPos.get_docPos()[this.get_level()];if(ss.isValue($1)){$0=$1.get_paraIndex();}return $0;},setIndexToCurPos:function(oPos){if(oPos.get_level()<this.get_level()){oPos.set_level(this.get_level());}oPos.get_docPos()[this.get_level()].set_paraIndex(this.get_index());},setStartPos:function(oPos){oPos.set_paraIndex(this.get_index());this.get_children()[0].setStartPos(oPos);},setEndPos:function(oPos){oPos.set_paraIndex(this.get_index());var $0=Object.getKeyCount(this.get_children())-1;this.get_children()[$0].setEndPos(oPos);},getChildFromCurPos:function(oPos){return this.get_children()[oPos.get_docPos()[this.get_level()].get_rowIndex()];},getRowSelIndex:function(){return this.$26.getRowSelIndex(this);},getNextRowFromList:function(oRow){if(Object.getKeyCount(this.get_children())===1){return null;}else{return this.get_children()[oRow.get_index()+1];}},expandSelection:function(oRange,bCallFromParent){if(!bCallFromParent){if(!this.get_isSelCollapsible()){this.get_parent().expandSelection(oRange,false);}}},fillViewNavigationParams:function(oViewData,oCurRange){if(!ss.isValue(oViewData['ribbonmode'])){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt(this.get_domElement(),'ribbonmode',-1);if($0!==-1){oViewData['ribbonmode']=$0;}}Kepler.Framework.UI.CustomSelection.Selectables.Para.callBaseMethod(this, 'fillViewNavigationParams',[oViewData,oCurRange]);},addExpandCollapseHeaderBtn:function(){var $0=18;var $1=5;var $2=this.get_parent();var $3=this.get_children()[0].get_children()[0].get_offsetRect();var $4=$3.get_topLeft();$4.set_x($4.get_x()-$0);$4.set_y($4.get_y()+($3.get_height()/2));$4.set_y($4.get_y()-$1);var $5=null;this.$2A=new Kepler.Framework.UI.Controls.ExpandCollapseBtn($4,$5,'','para_header_btn',this.$2B);this.$2A.set_showHideProperty(1);this.showHideHeaderBtn(false);var $6={};$6['docIndex']=$2.get_index();$6['paraIndex']=this.get_index();this.$2A.set_data($6);var $7=$2.get_controlHandle().queryFocusable();this.get_domElement().appendChild(this.$2A.get_element());this.$2A.onAttach();this.$2A.set_parent($7.get_parent());},onMouseOut:function(pt,oData){this.showHideHeaderBtn(false);return Kepler.Framework.UI.CustomSelection.Selectables.Para.callBaseMethod(this, 'onMouseOut',[pt,oData]);},showHideHeaderBtn:function(bShow){if(!ss.isNullOrUndefined(this.$2A)&&this.$2A.get_visible()!==bShow&&this.$2A.get_state()!==1){this.$2A.show(bShow);}},handleLeftKey:function(oHitTest){var $0=oHitTest.get_endPos();if(oHitTest.get_callFromParent()){var $1=Object.getKeyCount(this.get_children())-1;$0.set_rowIndex($1);return this.get_children()[$1].handleLeftKey(oHitTest);}else{var $2=$0.get_rowIndex();if($2>0){$2--;$0.set_rowIndex($2);oHitTest.set_callFromParent(true);return this.get_children()[$2].handleLeftKey(oHitTest);}return this.get_parent().handleLeftKey(oHitTest);}},handleRightKey:function(oHitTest){var $0=oHitTest.get_endPos();if(oHitTest.get_callFromParent()){$0.set_rowIndex(0);return this.get_children()[0].handleRightKey(oHitTest);}else{var $1=$0.get_rowIndex();if($1<Object.getKeyCount(this.get_children())-1){$1++;$0.set_rowIndex($1);oHitTest.set_callFromParent(true);return this.get_children()[$1].handleRightKey(oHitTest);}return this.get_parent().handleRightKey(oHitTest);}},cutStringUpToEnd:function(oStart){var $0='';$0=$0+this.get_children()[oStart.get_rowIndex()].cutStringUpToEnd(oStart);for(var $1=oStart.get_rowIndex()+1;$1<Object.getKeyCount(this.get_children());$1++){$0=$0+this.get_children()[$1].cutStringUpToEnd(null);}for(var $2=Object.getKeyCount(this.get_children())-1;$2>oStart.get_rowIndex();$2--){var $3=this.get_children()[$2];$3.get_domElement().parentNode.removeChild($3.get_domElement());delete this._lstChildren[$2];}return $0;},$2F:function(){var $0=0;this.wrapParaForwards($0);this.wrapParaBackwards($0);},wrapParaForwards:function(iIndex){this.set_isUpdateChildRects(true);var $0=this.get_parent();var $1=this.get_children()[iIndex];var $2=true;while(ss.isValue($1)){if($1.$36()>$0.get_pageWidth()){var $3=this.$31(iIndex);var $4=$1.cutTextElementsUpToEnd(null);var $5=$3.cutTextElementsUpToEnd(null);var $6=$4.length-1;var $7=$4[$6];while($7.isEmpty()){$7.get_domElement().parentNode.removeChild($7.get_domElement());delete $1.get_children()[$6];$6--;$7=$4[$6];}var $8=$5[0];while($7.hasOnlySpace()){this.transferWord($7,$8,$3,' ',$2);$7.set_text('');$7.get_domElement().parentNode.removeChild($7.get_domElement());delete $1.get_children()[$6];$6--;$7=$4[$6];}this.transferWord($7,$8,$3,null,$2);while(ss.isValue($7)&&(!$7.isLastCharSpace())){$8=$3.get_children()[0];this.transferWord($7,$8,$3,null,$2);if(!!$7.get_text()){break;}$6--;$7=$4[$6];}$1.removeEmptyTextElems(!$1.get_index());}else{if($1.isRowEmpty()){$1.get_domElement().parentNode.removeChild($1.get_domElement());var $9=Object.getKeyCount(this.get_children());for(var $A=iIndex+1;$A<$9;$A++){this.get_children()[$A]=this.get_children()[$A+1];if(ss.isValue(this.get_children()[$A])){this.get_children()[$A].set_index($A);}}delete this.get_children()[Object.getKeyCount(this.get_children())-1];}else{iIndex++;}$1=this.get_children()[iIndex];}}},wrapParaBackwards:function(iIndex){this.set_isBackwardWrappingPerformed(true);this.$29=true;var $0=this.get_parent();var $1=this.get_children()[iIndex];var $2=false;var $3=false;while(ss.isValue($1)){if(!Object.getKeyCount($1.get_children())){$1.get_domElement().parentNode.removeChild($1.get_domElement());delete this.get_children()[iIndex];break;}var $4=this.get_children()[iIndex+1];var $5=ss.isValue($4);var $6=($5)?$4.isRowEmpty():false;if($5&&!$6){var $7=0;if(Object.getKeyCount($1.get_children())>1){$1.removeEmptyTextElems(!$1.get_index());}var $8=Object.getKeyCount($1.get_children())-1;var $9=$1.get_children()[$8];if(!$8&&$9.get_hasOnlyNbsp()){$9.get_domElement().textContent='';}var $A=$4.get_children()[0];while(ss.isValue($A)&&!$A.get_text()){$A.get_domElement().parentNode.removeChild($A.get_domElement());for(var $B=$7;$B<Object.getKeyCount($4.get_children());$B++){$4.get_children()[$B]=$4.get_children()[$B+1];}$7++;delete $4.get_children()[Object.getKeyCount($4.get_children())-1];$A=$4.get_children()[0];$3=true;}if($3){Object.clearKeys($4.get_children());$4.parseChild();$A=$4.get_children()[0];}if(!$9.isLastCharSpace()&&ss.isValue($A)&&$A.isFirstCharSpace()){this.transferWord($A,$9,$1,String.fromCharCode(160),$2);$A.set_text($A.get_text().substr(1,$A.get_text().length));}if(ss.isValue($A)&&$1.isWrapFromNextRowPossible($4)){this.transferWord($A,$9,$1,null,$2);}else{iIndex++;$1=this.get_children()[iIndex];}$4.removeEmptyTextElems(!$4.get_index());}else{if($5&&$6){$4.get_domElement().parentNode.removeChild($4.get_domElement());var $C=Object.getKeyCount(this.get_children());for(var $D=iIndex+1;$D<$C;$D++){this.get_children()[$D]=this.get_children()[$D+1];if(ss.isValue(this.get_children()[$D])){this.get_children()[$D].set_index($D);}}delete this.get_children()[Object.getKeyCount(this.get_children())-1];}else{break;}}}},transferWord:function(oFromTextElem,oToTextElem,oRow,strWord,bTransferToNextRow){if(oFromTextElem.isEmpty()&&ss.isNullOrUndefined(strWord)){return;}if(ss.isNullOrUndefined(strWord)){if(bTransferToNextRow){strWord=oFromTextElem.removeLastWord();}else{strWord=oFromTextElem.removeFirstWord();}}var $0=this.$33(oFromTextElem);if(ss.isNull($0)){if(oFromTextElem.hasSameFontCharProperties(oToTextElem)){if(oToTextElem.get_domElement().parentNode.tagName==='FONT'){if(bTransferToNextRow){oToTextElem.set_text(strWord+oToTextElem.get_text());}else{oToTextElem.set_text(oToTextElem.get_domElement().textContent+strWord);}oToTextElem.get_text().replaceAll(' ',String.fromCharCode(160));}else{var $1=document.createTextNode(strWord);var $2=this.$32(oToTextElem);if(bTransferToNextRow){$2.insertBefore($1,$2.firstChild);}else{$2.appendChild($1);}this.$30($2);oRow.removeEmptyTextElems(!oRow.get_index());}}else{}}else{if($0.id!==oToTextElem.get_domElement().parentNode.id||$0.className!==oToTextElem.get_domElement().parentNode.className){strWord=strWord.htmlEncode();$0.innerHTML=strWord;var $3=this.$32(oToTextElem);if(bTransferToNextRow){$3.insertBefore($0,$3.firstChild);}else{$3.appendChild($0);}this.$30($3);oRow.removeEmptyTextElems(!oRow.get_index());}else{if(oFromTextElem.hasSameFontCharProperties(oToTextElem)){if(bTransferToNextRow){oToTextElem.set_text(strWord+oToTextElem.get_text());}else{oToTextElem.set_text(oToTextElem.get_text()+strWord);}oToTextElem.get_text().replaceAll(' ',String.fromCharCode(160));}else{}}}Object.clearKeys(oRow.get_children());oRow.parseChild();oRow.set_isRangeRecal(true);},removeEmptyTextNodesInPara:function(){var $0=this.get_domElement().getElementsByTagName('font');for(var $1=0;$1<$0.length;$1++){this.$30($0[$1]);}},$30:function($p0){var $0=$p0.childNodes;var $1=$0.length-1;for(var $2=$1;$2>=0;$2--){if($0[$2].nodeType===3&&!$0[$2].textContent){$p0.removeChild($0[$2]);}}},$31:function($p0){$p0++;var $0=this.get_children()[$p0];if(ss.isNullOrUndefined($0)){var $1=this.get_children()[Object.getKeyCount(this.get_children())-1];$0=$1.createNewRowAndAppendToPara($1,this.get_domElement());this.$21($0,$0.get_domElement());($0.get_children()[0]).set_text('');}return $0;},$32:function($p0){var $0=$p0.get_domElement().parentNode;while($0.tagName!=='FONT'){$0=$0.parentNode;}return $0;},$33:function($p0){var $0=$p0.get_domElement();var $1=document.createElement('div');while($0.parentNode.tagName!=='FONT'){var $2=$0.parentNode.cloneNode();$1.appendChild($2);$0=$0.parentNode;}return $1.firstChild;},removePaddingClassFromFirstRow:function(){var $0=this.get_children()[0];var $1=this.get_children()[1];if(ss.isValue($1)){var $2=$1.get_domElement().getElementsByTagName('p')[0].className;$0.get_domElement().getElementsByTagName('p')[0].className=$2;}},transferChildrenToPara:function(oPara,oPos){var $0=Object.getKeyCount(this.get_children());for(var $1=oPos.get_rowIndex()+1;$1<$0;$1++){oPara.get_domElement().appendChild(this.get_children()[$1].get_domElement());oPara.get_children()[Object.getKeyCount(oPara.get_children())]=this.get_children()[$1];delete this.get_children()[$1];}},removeEmptyTextElems:function(){var $0=Object.getKeyCount(this.get_children());for(var $1=0;$1<$0;$1++){var $2=this.get_children()[$1];$2.removeEmptyTextElems(!$1);}},checkForEmptyRowandDelete:function(){var $0='';for(var $1=Object.getKeyCount(this.get_children())-1;$1>0;$1--){$0=(this.get_children()[$1].get_children()[0]).get_text();if(String.isNullOrEmpty($0)){this.$22(this.get_children()[$1].get_index());}}},handleDownKey:function(oHitTest){var $0=false;var $1=oHitTest.get_endPos();if(oHitTest.get_callFromParent()){$1.set_rowIndex(0);oHitTest.set_xOffset(oHitTest.get_xOffset()-this.get_children()[$1.get_rowIndex()].get_offsetRect().get_left());$0=this.get_children()[$1.get_rowIndex()].handleDownKey(oHitTest);}else{var $2=$1.get_rowIndex();if($2<Object.getKeyCount(this.get_children())-1){$2++;$1.set_rowIndex($2);oHitTest.set_xOffset(oHitTest.get_xOffset()-this.get_children()[$2].get_offsetRect().get_left());oHitTest.set_callFromParent(true);$0=this.get_children()[$2].handleDownKey(oHitTest);}}if(!$0&&ss.isValue(this.get_parent())){oHitTest.set_callFromParent(false);oHitTest.set_xOffset(oHitTest.get_xOffset()+this.get_offsetRect().get_left());$0=this.get_parent().handleDownKey(oHitTest);}return $0;},handleUpKey:function(oHitTest){var $0=false;var $1=oHitTest.get_endPos();if(oHitTest.get_callFromParent()){var $2=Object.getKeyCount(this.get_children())-1;$1.set_rowIndex($2);oHitTest.set_xOffset(oHitTest.get_xOffset()-this.get_children()[$2].get_offsetRect().get_left());$0=this.get_children()[$2].handleUpKey(oHitTest);}else{var $3=$1.get_rowIndex();if($3>0){$3--;$1.set_rowIndex($3);oHitTest.set_xOffset(oHitTest.get_xOffset()-this.get_children()[$3].get_offsetRect().get_left());oHitTest.set_callFromParent(true);$0=this.get_children()[$3].handleUpKey(oHitTest);}}if(!$0&&ss.isValue(this.get_parent())){oHitTest.set_callFromParent(false);oHitTest.set_xOffset(oHitTest.get_xOffset()+this.get_offsetRect().get_left());$0=this.get_parent().handleUpKey(oHitTest);}return $0;},isParaEmpty:function(){var $0=true;for(var $1=0;$1<Object.getKeyCount(this.get_children());$1++){var $2=this.get_children()[$1];if(!$2.isRowEmpty()){$0=false;break;}}return $0;}}
Kepler.Framework.UI.CustomSelection.Selectables._TablePara=function(iLevel){Kepler.Framework.UI.CustomSelection.Selectables._TablePara.initializeBase(this,[iLevel]);this.$35=[];this.set_paraType(1);}
Kepler.Framework.UI.CustomSelection.Selectables._TablePara.prototype={$35:null,$36:false,onMouseOver:function($p0,$p1){if(!this.$36){this.initCitations();}for(var $1=0;$1<this.$35.length;$1++){this.$35[$1].show(true);}var $0=this.$37($p0);if($0===-1){this.get_domElement().style.cursor='inherit';return Kepler.Framework.UI.CustomSelection.Selectables._TablePara.callBaseMethod(this, 'onMouseOver',[$p0,$p1]);}else{this.get_domElement().style.cursor='row-resize';return false;}},onMouseOut:function($p0,$p1){for(var $0=0;$0<this.$35.length;$0++){this.$35[$0].show(false);}return Kepler.Framework.UI.CustomSelection.Selectables._TablePara.callBaseMethod(this, 'onMouseOut',[$p0,$p1]);},fillViewNavigationParams:function($p0,$p1){var $0=$p1.get_startCurPos();var $1=$p1.get_endCurPos();var $2=$0.get_docPos()[this.get_level()].get_rowIndex();var $3=$1.get_docPos()[this.get_level()].get_rowIndex();if(!ss.isValue($p0['context-menu-type'])){if(!$2&&$3===Object.getKeyCount(this.get_children())-1){$p0['context-menu-type']='context-menu-full-table';}else if($p1.isCollapsed()){$p0['context-menu-type']='context-menu-table-cell';}else{$p0['context-menu-type']='context-menu-partial-table';}}if(!ss.isValue($p0['rowheight'])){var $5='';for(var $6=$2;$6<=$3;$6++){var $7=(this.get_children()[$6]);var $8=$7.getAttributeAsString('rowheight');if(!!$8){if(!$5){$5=$8;}else if($5!==$8){$5='';break;}}}$p0['rowheight']=(!$5)?'-1':$5+'"';}if(!ss.isValue($p0['columnwidth'])){var $9='';for(var $A=$2;$A<=$3;$A++){var $B=this.get_children()[$A];var $C=$B.getColumnWidthForSel($p1);if(!!$C){if(!$9){$9=$C;}else if($9!==$C){$9='';break;}}}$p0['columnwidth']=(!$9)?'-1':$9+'"';}var $4=this.getAttributeAsInt('tablecolumnprop');if(!!$4){$p0['tablecolumnprop']=$4;}Kepler.Framework.UI.CustomSelection.Selectables._TablePara.callBaseMethod(this, 'fillViewNavigationParams',[$p0,$p1]);},expandSelection:function($p0,$p1){var $0=$p0.get_startCurPos();var $1=$p0.get_endCurPos();var $2=$p0.get_topDown();if($p1){if(this.$23(2,$0)&&$0.get_level()>this.get_level()){var $3=this.getChildAt($0.get_docPos()[this.get_level()].get_rowIndex());if($2){$p0.setStartFromCurPos($3.getRange().get_startCurPos());}else{$p0.setEndFromCurPos($3.getRange().get_startCurPos());}}if(this.$23(2,$1)&&$1.get_level()>this.get_level()){var $4=$1.get_docPos()[this.get_level()].get_rowIndex();var $5=null;if($4+1<Object.getKeyCount(this.get_children())){$5=this.getChildAt($4+1);}else{$5=this.get_parent().getChildAt($1.get_docPos()[this.get_level()].get_paraIndex()+1);}if($2){$p0.setEndFromCurPos($5.getRange().get_startCurPos());}else{$p0.setStartFromCurPos($5.getRange().get_startCurPos());}}}else{var $6=this.getChildAt($0.get_docPos()[this.get_level()].get_rowIndex());$6.expandSelection($p0,true);var $7=this.getChildAt($1.get_docPos()[this.get_level()].get_rowIndex());$7.expandSelection($p0,true);}},getAdjustedRangeForComparison:function($p0){this.expandSelection($p0,false);return Kepler.Framework.UI.CustomSelection.Selectables._TablePara.callBaseMethod(this, 'getAdjustedRangeForComparison',[$p0]);},$37:function($p0){var $0=Object.keys(this.get_children());var $1=null;var $2=-1;var $enum1=ss.IEnumerator.getEnumerator($0);while($enum1.moveNext()){var $3=$enum1.current;$1=this.get_children()[$3];if($p0.get_y()>=$1.get_offsetRect().get_bottom()&&$p0.get_y()<$1.get_offsetRect().get_bottom()+3){$2=$1.get_index()+1;break;}}return $2;},onLButtonDown:function($p0,$p1){var $0=this.$37($p0);if($0!==-1){var $1={};$1['rowindex']=$0;$1['tablerowprop']=this.getAttributeAsString('tablecolumnprop');this.notifyController(1,this,$1);return true;}else{return Kepler.Framework.UI.CustomSelection.Selectables._TablePara.callBaseMethod(this, 'onLButtonDown',[$p0,$p1]);}},initCitations:function(){this.$36=true;var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.createTreeWalker(this.get_domElement(),1,ss.Delegate.create(this,this.$38),false);var $1=$0.nextNode();while($1!=null){$1=$0.nextNode();}},$38:function($p0){if($p0.id==='citation'){this.$35.add(new Kepler.Framework.UI.CustomSelection.Selectables.Citation($p0,this));return 2;}return 1;},getShowHideTime:function(){return 500;},onCitationLButtonDown:function($p0,$p1){switch($p0.get_name()){case 'select':this.notifyController(4,this,this.getRange().clone());break;}},onCitationMouseMove:function($p0,$p1){},onCitationLButtonUp:function($p0,$p1){},onCitationMouseDblClick:function($p0,$p1){},onCitationDragStart:function($p0,$p1){},onCitationDraging:function($p0,$p1){},onCitationDragStop:function($p0,$p1){}}
Kepler.Framework.UI.CustomSelection.Selectables.Row=function(iLevel){Kepler.Framework.UI.CustomSelection.Selectables.Row.initializeBase(this,[iLevel,3]);this.$26=-1;this.$27=-1;this.$28=-1;this.$29=null;this.$2A={};}
Kepler.Framework.UI.CustomSelection.Selectables.Row.prototype={$25:null,get_rowSelIndex:function(){if(!ss.isValue(this.$25)){this.$25=(this.get_parent()).getRowSelIndex()+this.get_index()+1;}return this.$25;},$26:0,get_rowSelHeight:function(){if(this.$26===-1){this.$26=this.$2C();}return this.$26;},set_rowSelHeight:function(value){this.$26=value;return value;},_oSelectionRange:null,get_nodeFilterShow:function(){return 1|4;},$27:0,$28:0,$29:null,$2A:null,get_sections:function(){return this.$2A;},getElementAtIndex:function(iIndex){return this.get_children()[iIndex];},getCursorPosFrmPoint:function(ptOffset,oCurPos){var $0=null;var $1=this.getChildForCursor(ptOffset);if(ss.isValue($1)){var $2=new Kepler.Framework.UI.Point(ptOffset.get_x()-$1.get_offsetRect().get_left(),ptOffset.get_y()-$1.get_offsetRect().get_top());$0=$1.getCursorPosFrmPoint($2,oCurPos);if(ss.isValue(oCurPos)){oCurPos.get_docPos()[this.get_level()].set_elIndex($1.get_index());}}return $0;},$2B:function($p0){if($p0.getAttribute('name')==='rowsection'){$p0.setAttribute('rowindex',Object.getKeyCount(this.$2A));var $0=new Kepler.Framework.UI.CustomSelection.Selectables.RowSection(this);$0.set_row(this);this.$2A[Object.getKeyCount(this.$2A)]=$0;return 2;}return 1;},parseChild:function(){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.createTreeWalker(this.get_domElement(),1,ss.Delegate.create(this,this.$2B),false);var $1=$0.nextNode();while($1!=null){$1=$0.nextNode();}if(!Object.getKeyCount(this.$2A)){this.get_domElement().setAttribute('rowindex',0);var $2=new Kepler.Framework.UI.CustomSelection.Selectables.RowSection(this);$2.set_row(this);this.$2A[0]=$2;}Kepler.Framework.UI.CustomSelection.Selectables.Row.callBaseMethod(this, 'parseChild');},$2C:function(){var $0=-1;for(var $1=0;$1<Object.getKeyCount(this.get_children());$1++){var $2=this.getElementAtIndex($1);if($0<$2.get_height()){$0=$2.get_height();}}return $0;},createSelectableFrom:function(elm){var $0=null;if(elm.nodeType===3&&elm.textContent.search(new RegExp('[\n\t]'))<0){var $1=Kepler.Framework.UI.CustomSelection.Selectables.SelectableArea.searchParentUpto(elm,'hoverable','1','p');var $2=Kepler.Framework.UI.CustomSelection.Selectables.SelectableArea.searchParentUpto(elm,'clear_on_click','1','p');if(ss.isValue($1)){var $3=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($1,'hoverabletype');if($3==='tooltip'){return new Kepler.Framework.UI.CustomSelection.Selectables.Framework$F(this.get_level(),$1);}else{return new Kepler.Framework.UI.CustomSelection.Selectables.HoverableText(this.get_level(),$1);}}else if(ss.isValue($2)){var $4=new Kepler.Framework.UI.CustomSelection.Selectables.ClearOnClickTextElement(this.get_level());$4.set_defaultText(Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($2,'default_text'));$4.set_clickedFontSize(Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($2,'clicked_font_size',-1));var $5=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($2,'edited_once_required',1);$4.set_editedOnceRequired((!$5)?false:true);return $4;}else{var $6=Kepler.Framework.UI.CustomSelection.Selectables.SelectableArea.searchParentUpto(elm,'view_update_provider','1','p');if(ss.isValue($6)){return new Kepler.Framework.UI.CustomSelection.Selectables.Framework$C(this.get_level(),$6);}if(!!elm.textContent){return Kepler.Framework.FrameworkObjectFactory.getTextElementObject(this.get_level());}}}else if(elm.nodeType===3){var $7=this.getParentMainDoc();if($7.get_selHandler().get_isWrappingEnabled()){return Kepler.Framework.FrameworkObjectFactory.getTextElementObject(this.get_level());}}else if(elm.nodeType===1&&(elm.nodeName.toLocaleLowerCase()==='img'||elm.nodeName.toLocaleLowerCase()==='image')){return new Kepler.Framework.UI.CustomSelection.Selectables.Framework$A(this.get_level());}else if(elm.nodeType===1&&elm.getAttribute('name')==='table-row'){return new Kepler.Framework.UI.CustomSelection.Selectables.TableRowElement(this.get_level());}else if(elm.nodeType===1&&elm.getAttribute('name')==='text-citation'){return new Kepler.Framework.UI.CustomSelection.Selectables.Framework$8(this.get_level());}else if(elm.nodeType===1&&elm.nodeName.toLocaleLowerCase()==='font'&&elm.getAttribute('isEmptyRow')==='true'&&!elm.textContent){var $8=document.createTextNode(String.fromCharCode(160));elm.appendChild($8);elm.removeAttribute('isEmptyRow');return null;}return $0;},$2D:function($p0){var $0=$p0.get_domElement();var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getParentElementByAttr($0,'rowindex');if(ss.isValue($1)){var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($1,'rowindex',-1);return this.$2A[$2];}return null;},performOnRowWithinSel:function(oSelRange,fnPerform,oReqInfo){var $0=true;if(ss.isValue(fnPerform)){$0=fnPerform(this,oReqInfo);}return $0;},getSelRect:function(){if(ss.isNullOrUndefined(this.$29)){var $0=new Kepler.Framework.UI.Rect(0,0,0,0);if(Object.getKeyCount(this.get_children())>0){var $1=this.$2E();var $2=this.$2F();var $3=this.get_children()[$2].get_offsetRect().get_topLeft();var $4=this.get_children()[$1].get_offsetRect().get_topRight();$0.set_left($3.get_x());$0.set_top($3.get_y());$0.set_right($4.get_x());}$0.set_height(this.get_rowSelHeight());this.$29=$0;}return this.$29;},$2E:function(){if(this.$27===-1&&Object.getKeyCount(this.get_children())>0){var $0=Object.getKeyCount(this.get_children())-1;while($0>0&&(this.get_children()[$0]).isZeroWidthNode()){$0--;}this.$27=$0;}return this.$27;},$2F:function(){var $0=Object.getKeyCount(this.get_children());if(this.$28===-1&&$0>0){var $1=0;while($1<$0&&(this.get_children()[$1]).isZeroWidthNode()){$1++;}this.$28=($1<$0)?$1:($0-1);}return this.$28;},showFullSel:function(){var $0=Object.getKeyCount(this.$2A);for(var $1=0;$1<$0;$1++){var $2=this.$2A[$1];var $3=$2.get_startPos();var $4=($1!==$0-1)?this.$2A[$1+1].get_startPos():this.getEndCurPos().get_docPos()[this.get_level()].get_elPos();$2.showSel($3,$4);}},onOffsetSizeChange:function(rcNew){if(!this.get_displayedNone()){var $0=Object.keys(this.$2A);var $1=null;var $enum1=ss.IEnumerator.getEnumerator($0);while($enum1.moveNext()){var $2=$enum1.current;$1=this.$2A[$2];$1.onParentOffsetChange();}}Kepler.Framework.UI.CustomSelection.Selectables.Row.callBaseMethod(this, 'onOffsetSizeChange',[rcNew]);},updateOffsetOfOtherChild:function(){},showSelection:function(oSelRange){var $0=oSelRange.get_startCurPos();var $1=oSelRange.get_endCurPos();var $2=this.getRange();var $3=$2.get_startCurPos();var $4=$2.get_endCurPos();if($0.isLessEqual($3)&&$1.isGreaterEqual($4)){this.showFullSel();this.$30($3.get_elPos(),$4.get_elPos());Kepler.Framework.UI.CustomSelection.Selectables.Row.callBaseMethod(this, 'clearSelection');}else if($2.isIntersect(oSelRange)){var $5=$2.containsPos($0);var $6=$2.containsPos($1);if(!$5){$0=$3;}if(!$6){$1=$4;}var $7=$0.get_docPos()[this.get_level()].get_elPos();var $8=$1.get_docPos()[this.get_level()].get_elPos();var $9=Object.getKeyCount(this.$2A);for(var $A=0;$A<$9;$A++){var $B=this.$2A[$A];var $C=$B.get_startPos();var $D=($A!==$9-1)?this.$2A[$A+1].get_startPos():this.getEndCurPos().get_docPos()[this.get_level()].get_elPos();if($7.isLessEqual($C)&&$8.isGreaterEqual($D)){$B.showSel($C,$D);this.$30($C,$D);this.clearElmSelection($7.get_elIndex(),$8.get_elIndex());}else{var $E=$7.isInside($C,$D);var $F=$8.isInside($C,$D);if($E&&$F&&this.get_level()!==$0.get_level()&&$7.get_elIndex()===$8.get_elIndex()){this.get_children()[$7.get_elIndex()].showSelection(oSelRange);$B.clearSel();}else if($E||$F){$B.showSel(($E)?$7:$C,($F)?$8:$D);this.$30(($E)?$7:$C,($F)?$8:$D);this.clearElmSelection($C.get_elIndex(),$D.get_elIndex());}else{$B.clearSel();}}}}},$30:function($p0,$p1){if(ss.isNull(this._oSelectionRange)){this._oSelectionRange=new Kepler.Framework.UI.CustomSelection.SelRange();this._oSelectionRange.setStartFromCurPos(new Kepler.Framework.UI.CustomSelection.CurPos());this._oSelectionRange.setEndFromCurPos(new Kepler.Framework.UI.CustomSelection.CurPos());}var $0=this._oSelectionRange.get_startCurPos();var $1=this._oSelectionRange.get_endCurPos();$0.set_chIndex($p0.get_chIndex());$0.set_elIndex($p0.get_elIndex());$0.set_rowIndex(this.get_index());$0.set_paraIndex(this.get_parent().get_index());$0.set_docIndex(this.get_parent().get_parent().get_index());$1.set_chIndex($p1.get_chIndex());$1.set_elIndex($p1.get_elIndex());$1.set_rowIndex(this.get_index());$1.set_paraIndex(this.get_parent().get_index());$1.set_docIndex(this.get_parent().get_parent().get_index());},clearElmSelection:function(iStartElm,iEndElm){for(;iStartElm<=iEndElm;iStartElm++){this.get_children()[iStartElm].clearSelection();}},clearSelection:function(){for(var $0=0;$0<Object.getKeyCount(this.$2A);$0++){this.$2A[$0].clearSel();}Kepler.Framework.UI.CustomSelection.Selectables.Row.callBaseMethod(this, 'clearSelection');},expandSelection:function(oRange,bCallFromParent){if(!bCallFromParent){if(!this.get_isSelCollapsible()){this.get_parent().expandSelection(oRange,false);}}},getCursorHeight:function(iOffsetIndex){var $0=0;for(var $1=0;$1<Object.getKeyCount(this.get_children());$1++){var $2=this.get_children()[$1];if($0+$2.get_charCount()>=iOffsetIndex){return $2.get_height();}$0+=$2.get_charCount();}return 0;},getOffsetIndexFromCurPos:function(oPos){var $0=0;var $1=oPos.get_elIndex();var $2=oPos.get_chIndex();for(var $3=0;$3<=$1;$3++){if($3===$1){$0+=$2;}else{$0+=this.getElementAtIndex($3).get_charCount();}}return $0;},getLeftOffsetFrmIndex:function(iIndex){var $0=null;var $1=0;var $2=0;var $3=this.$2E();for(var $4=this.$2F();$4<=$3;$4++){$0=this.get_children()[$4];$2=$1+$0.get_charCount();if(iIndex<=$2){break;}$1=$2;}return (ss.isValue($0))?($0.get_offsetRect().get_left()+$0.calcTextWidth(0,iIndex-$1)):0;},getRangeBoundForOffsetIndex:function(iOffsetIndex){var $0=new Kepler.Framework.UI.CustomSelection.RangeBound();var $1=this.determineRangeBoundForOffsetIndex(iOffsetIndex,$0);return ($1>=0)?$0:null;},determineRangeBoundForOffsetIndex:function(iOffsetIndex,oRangeBound){var $0=-1;var $1=null;var $2=0;var $3=0;var $4=this.$2E();for(var $5=this.$2F();$5>=0&&$5<=$4;$5++){$1=this.get_children()[$5];$3=$2+$1.get_charCount();if(iOffsetIndex<=$3){$0=$5;if(ss.isValue(oRangeBound)){oRangeBound.set_boundElement($1.get_domElement());oRangeBound.set_offset(iOffsetIndex-$2);}break;}$2=$3;}return $0;},getIndexFromCurPos:function(oPos){var $0=-1;var $1=oPos.get_docPos()[this.get_level()];if(ss.isValue($1)){$0=$1.get_rowIndex();}return $0;},setIndexToCurPos:function(oPos){if(oPos.get_level()<this.get_level()){oPos.set_level(this.get_level());}oPos.get_docPos()[this.get_level()].set_rowIndex(this.get_index());},setStartPos:function(oPos){oPos.set_rowIndex(this.get_index());this.get_children()[0].setStartPos(oPos);},setEndPos:function(oPos){oPos.set_rowIndex(this.get_index());var $0=Object.getKeyCount(this.get_children())-1;this.get_children()[$0].setEndPos(oPos);},getChildFromCurPos:function(oPos){return this.get_children()[oPos.get_docPos()[this.get_level()].get_elIndex()];},onChildAltred:function(oChild,oTarget){Kepler.Framework.UI.CustomSelection.Selectables.Row.callBaseMethod(this, 'onChildAltred',[oChild,oTarget]);this.set_offsetRect(this.getChildOffsetRect(this.get_parent(),this));this.set_rowSelHeight(this.$2C());},$31:function(){var $0=this.$34();if(ss.isNull($0)){}if(ss.isValue($0)){var $1=$0.get_children()[0];var $2=$1.get_text();$2=$2.trimStart();var $3=$2.split(' ')[0];var $4=this.get_children()[Object.getKeyCount($0.get_children())-1];var $5=$4.get_text();if(!String.isNullOrEmpty($3)){$4.set_text($4.get_text()+String.fromCharCode(160).charAt(0)+$3);}var $6=this.$36();var $7=this.get_parent().get_parent();if($6>$7.get_pageWidth()){$4.set_text($5);return false;}else{$2=$2.substr($3.length);$1.set_text($2);var $8=false;if(!String.isNullOrEmpty($2)){$8=this.$31();}if(!$8){$0.$31();}return true;}}return false;},$32:function(){var $0=this.getRange();var $1=$0.getStartCurPos();if($1.get_rowIndex()>0){$1.set_rowIndex($1.get_rowIndex()-1);return this.get_parent().getSelectableFromCurPos($1,3);}return null;},$33:function(){var $0=this.getRange();var $1=$0.getStartCurPos();if($1.get_paraIndex()>0&&Object.getKeyCount(this.get_parent().get_parent().get_children()[$1.get_paraIndex()-1].get_children())>0){$1.set_rowIndex(Object.getKeyCount(this.get_parent().get_parent().get_children()[$1.get_paraIndex()-1].get_children())-1);$1.set_paraIndex($1.get_paraIndex()-1);return this.get_parent().get_parent().getSelectableFromCurPos($1,3);}return null;},$34:function(){var $0=this.getRange();var $1=$0.getStartCurPos();if(Object.getKeyCount(this.get_parent().get_children())-1>$1.get_rowIndex()){$1.set_rowIndex($1.get_rowIndex()+1);return this.get_parent().getSelectableFromCurPos($1,3);}return null;},$35:function(){var $0=this.getRange();var $1=$0.getStartCurPos();if(Object.getKeyCount(this.get_parent().get_parent().get_children())-1>$1.get_paraIndex()&&Object.getKeyCount(this.get_parent().get_parent().get_children()[$1.get_paraIndex()+1].get_children())>0){$1.set_paraIndex($1.get_paraIndex()+1);$1.set_rowIndex(0);return this.get_parent().get_parent().getSelectableFromCurPos($1,3);}return null;},cutStringUpToEnd:function(oStart){var $0=0;var $1=this.get_children()[$0].cutStringUpToEnd(null);if(ss.isValue(oStart)){$1=this.get_children()[oStart.get_elIndex()].cutStringUpToEnd(oStart);$0=oStart.get_elIndex();}for(var $2=$0+1;$2<Object.getKeyCount(this.get_children());$2++){$1=$1+this.get_children()[$2].cutStringUpToEnd(oStart);}for(var $3=Object.getKeyCount(this.get_children())-1;$3>$0;$3--){if(!$0){var $4=this.get_children()[$3];$4.get_domElement().parentNode.removeChild($4.get_domElement());}delete this._lstChildren[$3];}return $1;},cutTextElementsUpToEnd:function(oStart){var $0=[];var $1=0;if(ss.isValue(oStart)){$1=oStart.get_rowIndex();}for(var $2=$1;$2<Object.getKeyCount(this.get_children());$2++){$0.add(this.get_children()[$2]);}return $0;},rowBaseHandlePrintableKey:function(oStartPos,oEndPos,oActKey){return Kepler.Framework.UI.CustomSelection.Selectables.Row.callBaseMethod(this, 'handlePrintableKey',[oStartPos,oEndPos,oActKey]);},handlePrintableKey:function(oStartPos,oEndPos,oActKey){var $0;if(!oStartPos.isEqual(oEndPos)){var $1=this.$17(oStartPos,true);oStartPos.copyFrom($1);}$0=this.rowBaseHandlePrintableKey(oStartPos,oEndPos,oActKey);this.setEmptyContentAttribute();return $0;},setEmptyContentAttribute:function(){var $0=this.getFontList();var $1=0,$2=$0.length;for(;$1<$2;$1++){if(!$0[$1].textContent){$0[$1].setAttribute('isEmptyRow','true');}else{$0[$1].removeAttribute('isEmptyRow');}}},setSpaceInEmptyRow:function(){var $0=this.getFontList();var $1=0,$2=$0.length;for(;$1<$2;$1++){if(!$0[$1].textContent){$0[$1].appendChild(document.createTextNode(String.fromCharCode(160)));break;}}},getFontList:function(){return this.get_domElement().getElementsByTagName('font');},mergeTwoElements:function(oElem1,oElem2){var $0=oElem1.get_totalCharCount();var $1=oElem1.get_index();if(oElem1!==oElem2){oElem1.set_text(oElem1.get_text()+oElem2.get_text());oElem1.get_text().replaceAll(' ',String.fromCharCode(160));oElem2.get_domElement().parentNode.removeChild(oElem2.get_domElement());Object.clearKeys(this.get_children());this.parseChild();this.setRangeRecalProperty();}return $1;},transferToFirstTextElem:function(oElm){var $0=oElm.get_domElement().parentNode;if(ss.isValue($0)){var $1=$0.parentNode;while(ss.isValue($1)&&$1.tagName!=='FONT'){$0=$0.parentNode;$1=$0.parentNode;}$1.insertBefore(oElm.get_domElement(),$1.firstChild);$1.removeChild($0);}},removeEmptyTextElems:function(bInitialRow){var $0=Object.getKeyCount(this.get_children())-1;for(var $1=$0;$1>=0;$1--){var $2=this.get_children()[$1];if($2.isEmpty()){if(Object.getKeyCount(this.get_children())===1&&bInitialRow){$2.set_text(String.fromCharCode(160));$2.updateHasOnlyNbspPro();var $3=true;var $4=$2.get_domElement().parentNode;while(!ss.isNullOrUndefined($4)&&$4.tagName!=='FONT'){if(!ss.isNullOrUndefined($4.parentNode)){$4=$4.parentNode;}else{$3=false;break;}}if($3){Kepler.Engine.UI.Helper.HtmlCssHelper.addElementAttribute($4,'isEmptyRow','true');}}else{$2.removeEmptyTextElm();}}}},$36:function(){var $0=0;for(var $1=0;$1<Object.getKeyCount(this.get_children());$1++){if(Type.canCast(this.get_children()[$1],Kepler.Framework.UI.CustomSelection.Selectables.TextElement)){var $2=this.get_children()[$1];if(ss.isValue($2.get_domElement().parentNode)){$0+=$2.get_textWidth();}}}return $0;},overflowTextToNextRow:function(oStartPos,oEndPos,oActKey,bRecursive){var $0=this.get_parent();var $1=this.$36();var $2=$0.get_parent();var $3;while($1>$2.get_pageWidth()){var $4=String.fromCharCode(160);$3=false;var $5=this.get_children()[Object.getKeyCount(this.get_children())-1];var $6=$5.get_text();$6=$6.replaceAll('&nbsp;',String.fromCharCode(160));$6=$6.replaceAll(' ',String.fromCharCode(160));$3=($6.substr($6.length-1,$6.length)===String.fromCharCode(160));$6=$6.trim();var $7=$6.split(String.fromCharCode(160));var $8=$7[$7.length-1];if($7.length===1){$6=$8.substr(0,$8.length-1);$8=$8.substr($8.length-1,$8.length);if(!$3){$4='';}}else{var $E=$6.lastIndexOf($8);if($E!==-1){$6=$6.substr(0,$E)+''+$6.substr($8.length+$E);}}$5.set_text($6);var $9=this.getCurPosForChildElm($5.get_domElement(),false);var $A=new Kepler.Framework.UI.CustomSelection.SelRange();$A.setStartFromCurPos(oStartPos);$A.setEndFromCurPos(oEndPos);var $B=this.$34();var $C=false;if(ss.isNull($B)){$C=true;$B=this.createNewRowAndAppendToPara(this,$0.get_domElement());$0.$21($B,$B.get_domElement());this.notifyController(6,this,$A);}var $D=$B.get_children()[0];$D.set_text($8+$4+$D.get_text());$B.overflowTextToNextRow(oStartPos,oEndPos,oActKey,false);if($C){this.notifyController(6,this,$A);}if(oStartPos.get_elPos().isGreater($9.get_elPos())&&bRecursive){var $F=oStartPos.get_elPos().get_chIndex()-$9.get_elPos().get_chIndex();var $10=$B.getCurPosForChildElm($D.get_domElement(),true);$10.set_chIndex($F);$A.setStartFromCurPos($10);$A.setEndFromCurPos($10);this.notifyController(4,this,$A);return $A;}$1=this.$36();}return null;},createNewRowAndAppendToPara:function(oOldRow,oParaElement){var $0=document.createElement('span');$0.id='row';Kepler.Engine.UI.Helper.HtmlCssHelper.addElementAttribute($0,'name','row');oParaElement.appendChild($0);var $1=document.createElement('p');$0.appendChild($1);var $2=oOldRow.get_domElement().firstChild.className;var $3=oOldRow.get_domElement().firstChild.firstChild.className;var $4=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString(oOldRow.get_domElement().firstChild.firstChild,'viewfontsize');$2=$2.replaceAll('cls_page_padding_top','');$2=$2.replaceAll('cls_page_padding_bottom','');$2=$2.replaceAll('cls_para_padding_top','');$1.className=$2;var $5=document.createElement('font');$5.className=$3;Kepler.Engine.UI.Helper.HtmlCssHelper.addElementAttribute($5,'viewfontsize',$4);$1.appendChild($5);$5.innerHTML=String.fromCharCode(160);var $6=Kepler.Framework.FrameworkObjectFactory.getTextElementObject(oOldRow.get_level());var $7=Kepler.Framework.FrameworkObjectFactory.getRowObject(oOldRow.get_level());$7.set_domElement($0);return $7;},isCurAllowAtBeginningFor:function(oChild){if(!oChild.get_index()||!!this.getElementAtIndex(oChild.get_index()-1).get_selElementType()){return true;}return false;},applyCurPosNormalization:function(oPos){return this.$18(oPos);},onAdd:function(){var $0=this.getElementAtIndex(Object.getKeyCount(this.get_children())-1);if($0!=null&&!$0.get_selElementType()){var $1=$0;}Kepler.Framework.UI.CustomSelection.Selectables.Row.callBaseMethod(this, 'onAdd');},handleLeftKey:function(oHitTest){var $0=oHitTest.get_endPos();var $1=false;if(oHitTest.get_callFromParent()){var $2=Object.getKeyCount(this.get_children())-1;$0.set_elIndex($2);$1=this.get_children()[$2].handleLeftKey(oHitTest);}else{var $3=$0.get_elIndex();if($3>0){$3--;$0.set_elIndex($3);oHitTest.set_callFromParent(true);$1=this.get_children()[$3].handleLeftKey(oHitTest);}}if(!$1&&this.get_parent()!=null){oHitTest.set_callFromParent(false);$1=this.get_parent().handleLeftKey(oHitTest);}return $1;},handleRightKey:function(oHitTest){var $0=oHitTest.get_endPos();var $1=false;if(oHitTest.get_callFromParent()){$0.set_elIndex(0);$1=this.get_children()[0].handleRightKey(oHitTest);}else{var $2=$0.get_elIndex();if($2<Object.getKeyCount(this.get_children())-1){$2++;$0.set_elIndex($2);oHitTest.set_callFromParent(true);$1=this.get_children()[$2].handleRightKey(oHitTest);}}if(!$1&&this.get_parent()!=null){oHitTest.set_callFromParent(false);$1=this.get_parent().handleRightKey(oHitTest);}return $1;},handleDownKey:function(oHitTest){var $0=false;var $1=oHitTest.get_endPos();if(oHitTest.get_callFromParent()){var $2=this.getChildFromOffsetPoint(new Kepler.Framework.UI.Point(oHitTest.get_xOffset(),0));$1.set_elIndex($2.get_index());oHitTest.set_xOffset(oHitTest.get_xOffset()-$2.get_offsetRect().get_left());$0=$2.handleDownKey(oHitTest);}else{oHitTest.set_callFromParent(false);oHitTest.set_xOffset(oHitTest.get_xOffset()+this.get_offsetRect().get_left());$0=this.get_parent().handleDownKey(oHitTest);}return $0;},handleUpKey:function(oHitTest){var $0=false;var $1=oHitTest.get_endPos();if(oHitTest.get_callFromParent()){var $2=this.getChildFromOffsetPoint(new Kepler.Framework.UI.Point(oHitTest.get_xOffset(),0));$1.set_elIndex($2.get_index());oHitTest.set_xOffset(oHitTest.get_xOffset()-$2.get_offsetRect().get_left());$0=$2.handleUpKey(oHitTest);}else{oHitTest.set_callFromParent(false);oHitTest.set_xOffset(oHitTest.get_xOffset()+this.get_offsetRect().get_left());$0=this.get_parent().handleUpKey(oHitTest);}return $0;},handleEndKey:function(oHitTest){var $0=false;if(!oHitTest.get_ctrl()){this.getEndCurPos(oHitTest.get_endPos());$0=true;}else{$0=Kepler.Framework.UI.CustomSelection.Selectables.Row.callBaseMethod(this, 'handleEndKey',[oHitTest]);}return $0;},handleHomeKey:function(oHitTest){var $0=false;if(!oHitTest.get_ctrl()){this.getStartCurPos(oHitTest.get_endPos());$0=true;}else{$0=Kepler.Framework.UI.CustomSelection.Selectables.Row.callBaseMethod(this, 'handleHomeKey',[oHitTest]);}return $0;},isWrapFromNextRowPossible:function(oNextRow){var $0=false;if(ss.isNullOrUndefined(oNextRow)){oNextRow=this.$34();}var $1=this.get_parent();var $2=$1.get_parent();if(ss.isValue(oNextRow)){var $3=oNextRow.$37();if($3<($2.get_pageWidth()-this.$36())){$0=true;}}return $0;},$37:function(){var $0=0;var $1=0;var $2=this.get_children()[$1];var $3=$2.getFirstWord();$0+=$2.calcTextWidth(0,$3.length);while($3.length===$2.get_text().length){$1++;$2=this.get_children()[$1];if(ss.isNullOrUndefined($2)){break;}$3=$2.getFirstWord();$0+=$2.calcTextWidth(0,$3.length);}return $0;},isRowEmpty:function(){var $0=true;for(var $1=0;$1<Object.getKeyCount(this.get_children());$1++){var $2=this.get_children()[$1];if(!$2.isEmpty()){$0=false;break;}}return $0;},transferContentToRow:function(oRow,oPos){var $0=this.get_parent();var $1=this.get_children()[oPos.get_elIndex()];var $2=oRow.get_children()[0];var $3=true;var $4=$1.get_text().substr(oPos.get_chIndex(),$1.get_text().length);if(!!$4){$2.set_text('');$1.set_text($1.get_text().substr(0,oPos.get_chIndex()));$0.transferWord($1,$2,oRow,$4,true);$3=false;}var $5=Object.getKeyCount(this.get_children());for(var $6=oPos.get_elIndex()+1;$6<$5;$6++){$2=oRow.get_children()[Object.getKeyCount(oRow.get_children())-1];$1=this.get_children()[$6];$4=$1.get_text().substr(0,$1.get_text().length);$1.set_text('');if($3&&$2.hasOnlySpace()){$2.set_text('');$3=false;}$0.transferWord($1,$2,oRow,$4,false);}}}
Kepler.Framework.UI.CustomSelection.Selectables.TableRow=function(iLevel){Kepler.Framework.UI.CustomSelection.Selectables.TableRow.initializeBase(this,[iLevel]);}
Kepler.Framework.UI.CustomSelection.Selectables.TableRow.prototype={showSelection:function(oSelRange){var $0=oSelRange.get_startCurPos();var $1=oSelRange.get_endCurPos();var $2=this.$23(2,$0);var $3=this.$23(2,$1);if($2&&$3){var $4=-1;var $5=-1;var $6=-1;var $7=-1;var $8=this.getElementAtIndex(0);if(oSelRange.get_topDown()){if($0.get_level()>this.get_level()&&$1.get_level()>this.get_level()){$6=$0.get_docPos()[this.get_level()+1].get_docIndex();$7=$1.get_docPos()[this.get_level()+1].get_docIndex();if($0.get_docPos()[this.get_level()].get_rowIndex()!==$1.get_docPos()[this.get_level()].get_rowIndex()){if(!!$7){$7--;if($7<=$6){$5=$8.get_children()[$6].get_offsetRect().get_right();$4=$8.get_children()[$7].get_offsetRect().get_left();}else{$4=$8.get_children()[$6].get_offsetRect().get_left();$5=$8.get_children()[$7].get_offsetRect().get_right();}}else{$4=$8.get_children()[$6].get_offsetRect().get_left();$5=this.getChildAt(1).get_offsetRect().get_right()-$8.get_offsetRect().get_left();}}else{if($7<$6){$4=$8.get_children()[$6].get_offsetRect().get_right();$5=$8.get_children()[$7].get_offsetRect().get_left();}else if($7>$6){$7--;$4=$8.get_children()[$6].get_offsetRect().get_left();$5=$8.get_children()[$7].get_offsetRect().get_right();}}}else if($0.get_level()===this.get_level()&&$0.get_elIndex()===1&&$1.get_level()>this.get_level()){if(this.get_index()!==$0.get_rowIndex()){$7--;$4=$8.get_children()[0].get_offsetRect().get_left();$5=$8.get_children()[$7].get_offsetRect().get_right();}}else if($0.get_level()>this.get_level()&&$1.get_level()===this.get_level()&&$1.get_elIndex()===1){$6=$0.get_docPos()[this.get_level()+1].get_docIndex();$7=Object.getKeyCount($8.get_children())-1;$4=$8.get_children()[$6].get_offsetRect().get_left();$5=$8.get_children()[$7].get_offsetRect().get_right();}else if($0.get_level()===this.get_level()&&$1.get_level()===this.get_level()&&$0.get_elIndex()===1&&$1.get_elIndex()===1){if(this.get_index()!==$0.get_rowIndex()){$6=0;$7=Object.getKeyCount($8.get_children())-1;$4=$8.get_children()[$6].get_offsetRect().get_left();$5=$8.get_children()[$7].get_offsetRect().get_right();}}}else{if($0.get_level()>this.get_level()&&$1.get_level()>this.get_level()){$6=$0.get_docPos()[this.get_level()+1].get_docIndex();$7=$1.get_docPos()[this.get_level()+1].get_docIndex();if($0.get_docPos()[this.get_level()].get_rowIndex()!==$1.get_docPos()[this.get_level()].get_rowIndex()){if($6<$7){$4=$8.get_children()[$6].get_offsetRect().get_left();$5=$8.get_children()[$7].get_offsetRect().get_left();}else if($6>$7){$4=$8.get_children()[$7-1].get_offsetRect().get_left();$5=$8.get_children()[$6].get_offsetRect().get_right();}else{$4=$8.get_children()[$6-1].get_offsetRect().get_left();$5=$8.get_children()[$7].get_offsetRect().get_right();}}else{if($6<$7){$4=$8.get_children()[$6].get_offsetRect().get_left();$5=$8.get_children()[$7].get_offsetRect().get_left();}else if($6>$7){$4=$8.get_children()[$7].get_offsetRect().get_right();$5=$8.get_children()[$6].get_offsetRect().get_left();}}}else if($0.get_level()===this.get_level()&&$0.get_elIndex()===1&&$1.get_level()>this.get_level()){if(this.get_index()!==$0.get_rowIndex()){$6=0;$7=$1.get_docPos()[this.get_level()+1].get_docIndex();$4=$8.get_children()[$6].get_offsetRect().get_left();$5=$8.get_children()[$7].get_offsetRect().get_right();}}else if($0.get_level()>this.get_level()&&$1.get_level()===this.get_level()&&$1.get_elIndex()===1){$6=$0.get_docPos()[this.get_level()+1].get_docIndex();$7=Object.getKeyCount($8.get_children())-1;$4=$8.get_children()[$6].get_offsetRect().get_left();$5=$8.get_children()[$7].get_offsetRect().get_right();}else if($0.get_level()===this.get_level()&&$0.get_elIndex()===1&&$1.get_level()===this.get_level()&&$1.get_elIndex()===1){if(this.get_index()!==$0.get_rowIndex()){$6=0;$7=Object.getKeyCount($8.get_children())-1;$4=$8.get_children()[$6].get_offsetRect().get_left();$5=$8.get_children()[$7].get_offsetRect().get_right();}}}if($4!==-1&&$5!==-1){var $9=this.get_sections()[0].get_sel();if(!$9.get_domInserted()){$9.insertInDOM(true);}var $A=new Kepler.Framework.UI.Rect($9.get_relativeOffset().get_x()+$4+$8.get_offsetRect().get_left(),$9.get_relativeOffset().get_y()+this.get_offsetRect().get_height()-this.get_rowSelHeight(),$5-$4,this.get_rowSelHeight());this.get_sections()[0].get_sel().show($A);this.getChildAt(0).clearSelection();}else{Kepler.Framework.UI.CustomSelection.Selectables.TableRow.callBaseMethod(this, 'showSelection',[oSelRange]);}}else{Kepler.Framework.UI.CustomSelection.Selectables.TableRow.callBaseMethod(this, 'showSelection',[oSelRange]);}},expandSelection:function(oRange,bCallFromParent){var $0=oRange.get_startCurPos();var $1=oRange.get_endCurPos();var $2=oRange.get_topDown();var $3=this.getElementAtIndex(0);if(bCallFromParent){if(this.$23(3,$0)){if($0.get_level()>this.get_level()&&!$0.get_docPos()[this.get_level()+1].get_elIndex()){var $4=$0.get_docPos()[this.get_level()+1].get_docIndex();var $5=$3.getChildAt($4);if($2){oRange.setStartFromCurPos($5.getRange().get_startCurPos());}else{oRange.setEndFromCurPos($5.getRange().get_startCurPos());}}}if(this.$23(3,$1)){if($1.get_level()===this.get_level()&&$1.get_elIndex()===1){if($1.get_rowIndex()+1<Object.getKeyCount(this.get_parent().get_children())){var $6=this.get_parent().get_children()[$1.get_rowIndex()+1];if($2){oRange.setEndFromCurPos($6.getRange().get_startCurPos());}else{oRange.setStartFromCurPos($6.getRange().get_startCurPos());}}}else if($1.get_level()>this.get_level()){this.getChildAt(0).expandSelection(oRange,true);}}}else{var $7=this.getChildAt($0.get_docPos()[this.get_level()].get_elIndex());$7.expandSelection(oRange,true);var $8=this.getChildAt($1.get_docPos()[this.get_level()].get_elIndex());$8.expandSelection(oRange,true);}},applyCurPosNormalization:function(oPos){return oPos;},getColumnWidthForSel:function(oCurRange){return (this.get_children()[0]).getColumnWidthForSel(oCurRange);},setCurPosFromRangOffset:function(iOffset,oPos){var $0=this.get_children()[Object.getKeyCount(this.get_children())-1];if($0!=null&&this.get_totalCharCount()===iOffset){$0.setCurPosFromRangOffset(0,oPos);this.setIndexToCurPos(oPos);}else{Kepler.Framework.UI.CustomSelection.Selectables.TableRow.callBaseMethod(this, 'setCurPosFromRangOffset',[iOffset,oPos]);}},handleRightKey:function(oHitTest){if(oHitTest.get_shift()){var $0=oHitTest.get_startPos();var $1=oHitTest.get_endPos();if(oHitTest.get_callFromParent()){if(this.$23(2,$0)){$1.set_elIndex(1);}else{$1.set_elIndex(0);}return this.get_children()[$1.get_elIndex()].handleRightKey(oHitTest);}else if(!this.$23(2,$0)){return this.get_parent().handleRightKey(oHitTest);}}return Kepler.Framework.UI.CustomSelection.Selectables.TableRow.callBaseMethod(this, 'handleRightKey',[oHitTest]);},handleLeftKey:function(oHitTest){if(oHitTest.get_shift()){var $0=oHitTest.get_startPos();var $1=oHitTest.get_endPos();if(oHitTest.get_callFromParent()){if(this.$23(2,$0)&&!this.$23(3,$0)&&$0.get_docPos()[this.get_level()].get_rowIndex()>$1.get_rowIndex()){$1.set_elIndex(0);return this.get_children()[0].handleLeftKey(oHitTest);}}else{if(this.$23(2,$0)&&$1.get_elIndex()===1){$1.set_elIndex($1.set_chIndex(0));$1.set_level($1.get_level()+1);$1.set_docIndex(Object.getKeyCount(this.get_children()[0].get_children())-1);this.get_children()[0].get_children()[$1.get_docIndex()].setStartPos($1);return true;}}}return Kepler.Framework.UI.CustomSelection.Selectables.TableRow.callBaseMethod(this, 'handleLeftKey',[oHitTest]);},handleDownKey:function(oHitTest){if(oHitTest.get_shift()){var $0=oHitTest.get_startPos();var $1=oHitTest.get_endPos();if(oHitTest.get_callFromParent()){if(!this.$23(2,$0)){if(!this.get_index()){oHitTest.set_callFromParent(false);return this.get_parent().handleDownKey(oHitTest);}}}}return Kepler.Framework.UI.CustomSelection.Selectables.TableRow.callBaseMethod(this, 'handleDownKey',[oHitTest]);}}
Kepler.Framework.UI.CustomSelection.Selectables.Page=function(iLevel){Kepler.Framework.UI.CustomSelection.Selectables.Page.initializeBase(this,[iLevel,5]);this.$25={};}
Kepler.Framework.UI.CustomSelection.Selectables.Page.prototype={get_domElement:function(){return Kepler.Framework.UI.CustomSelection.Selectables.Page.callBaseMethod(this, 'get_domElement');},set_domElement:function(value){this.setDom(value);return value;},get_nodeFilterShow:function(){return -1;},$25:null,getCursorPosFrmPoint:function(ptOffset,oCurPos){return null;},$26:function($p0){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getParentElementByName($p0,'column');return Kepler.Framework.UI.CustomSelection.Selectables.SelectableArea.extractIndex($0,'columnindex');},getIndexFromCurPos:function(oPos){return -1;},setIndexToCurPos:function(oPos){},getRowSelIndex:function(oPara){var $0=0;var $1=Object.keys(this.get_children());for(var $2=$1[0];$2<oPara.get_index();$2++){$0+=Object.getKeyCount(this.get_children()[$2].get_children());}return $0;},getChildFromCurPos:function(oPos){return null;}}
Kepler.Framework.UI.CustomSelection.Selectables._ParaPage=function(){this.$0=[];}
Kepler.Framework.UI.CustomSelection.Selectables._ParaPage.prototype={$0:null,get_$1:function(){return this.$0;}}
Kepler.Framework.UI.CustomSelection.Selectables.RowSection=function(oRow){this.$0=oRow;this.$1=new Kepler.Framework.UI.CustomSelection.Sel(this.$0.get_domElement());this.$2=new Kepler.Framework.UI.CustomSelection.ElPos();}
Kepler.Framework.UI.CustomSelection.Selectables.RowSection.prototype={$0:null,get_row:function(){return this.$0;},set_row:function(value){this.$0=value;return value;},$1:null,get_sel:function(){return this.$1;},set_sel:function(value){this.$1=value;return value;},$2:null,get_startPos:function(){return this.$2;},set_startPos:function(value){this.$2=value;return value;},get_offset:function(){return this.$0.getElementAtIndex(this.$2.get_elIndex()).get_offsetRect().get_left();},showSel:function(oStartPos,oEndPos){var $0=this.$3(oStartPos);var $1=this.$3(oEndPos);var $2=this.$0.getElementAtIndex(oEndPos.get_elIndex());if(!!$2.get_selElementType()){$1+=$2.get_offsetRect().get_width();if($2.get_selElementType()===1){($2).$2B();}}if(!this.$1.get_domInserted()){this.$1.insertInDOM(true);}var $3=new Kepler.Framework.UI.Rect(this.$1.get_relativeOffset().get_x()+$0,this.$1.get_relativeOffset().get_y()+this.$0.get_offsetRect().get_height()-this.$0.get_rowSelHeight(),(!($1-$0))?5:($1-$0),this.$0.get_rowSelHeight());this.$1.show($3);},$3:function($p0){var $0=$p0.get_elIndex();var $1=$p0.get_chIndex();var $2=this.$0.getElementAtIndex($0);if(ss.isValue($2)){return $2.get_offsetRect().get_left()+$2.getOffset($1);}return 0;},clearSel:function(){this.$1.hide();},onParentOffsetChange:function(){this.$1.onParentOffsetChange();}}
Kepler.Framework.UI.CustomSelection.Selectables.Framework$6=function(iLevel){Kepler.Framework.UI.CustomSelection.Selectables.Framework$6.initializeBase(this,[iLevel]);this.$10=null;this.$13=[];this.$12=[];this.$F=null;this.$E=null;this.$C=false;}
Kepler.Framework.UI.CustomSelection.Selectables.Framework$6.prototype={$C:false,get_$D:function(){return this.$C;},set_$D:function($p0){this.$C=$p0;return $p0;},$E:null,$F:null,$10:null,get_$11:function(){return this.$10;},set_$11:function($p0){this.$10=$p0;this.$14();return $p0;},$12:null,$13:null,$14:function(){this.$15();this.initCitations();this.$16();this.$1C();var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt(this.get_$11(),'locked',0);this.set_$D((!$0)?false:true);},$15:function(){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementByAttr(this.get_$11(),'['+'border'+'='+'1'+']');if(ss.isValue($0)){this.$F=$0;}},$16:function(){if(ss.isValue(this.$F)){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementHeight(this.$10);this.$F.style.height=$0+'px';}},$17:function(){var $0=false;for(var $1=0;$1<this.$13.length;$1++){if(Type.canCast(this.$13[$1],Kepler.Framework.UI.CustomSelection.Selectables.OutlinePara)){if(!(this.$13[$1]).get_displayedNone()){$0=true;break;}}}if($0){Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(this.get_$11(),' display_none');this.$16();}else{Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this.get_$11(),' display_none');}},$18:function($p0){this.$13.add($p0);$p0.setParentSection(this);return true;},$19:function(){return this.get_$11();},setParentSection:function($p0){return true;},selectChildRegions:function(){return true;},collapseRegion:function(){return true;},expandRegion:function(){return true;},getRange:function(){var $0=new Kepler.Framework.UI.CustomSelection.SelRange();$0.setStartFromCurPos(this.$13[0].getRange().get_startCurPos());$0.setEndFromCurPos(this.$13[this.$13.length-1].getRange().get_endCurPos());return $0;},visible:function($p0){},initCitations:function(){this.$1A();},$1A:function(){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.createTreeWalker(this.get_$11(),1,ss.Delegate.create(this,this.$1B),false);var $1=$0.nextNode();while($1!=null){$1=$0.nextNode();}},$1B:function($p0){var $0=1;var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p0,'name');if($1==='row'||$1==='table-row'){$0=2;}else if($1==='outlinecitation'){var $2=new Kepler.Framework.UI.CustomSelection.Selectables.Citation($p0,this);this.$12.add($2);$0=2;}return $0;},getShowHideTime:function(){return 0;},onCitationLButtonDown:function($p0,$p1){var $0=this.$1D(1);var $1;if(!$0){$1=this.getRange();if(ss.isValue($1)){for(var $2=0;$2<this.$13.length;$2++){if(Type.canCast(this.$13[$2],Kepler.Framework.UI.CustomSelection.Selectables.OutlinePara)){var $3=this.$13[$2];$3.notifyController(4,$3,$1);}}}}},onCitationMouseMove:function($p0,$p1){},onCitationLButtonUp:function($p0,$p1){},onCitationMouseDblClick:function($p0,$p1){},onCitationDragStart:function($p0,$p1){},onCitationDraging:function($p0,$p1){},onCitationDragStop:function($p0,$p1){},$1C:function(){this.$E=new Kepler.Framework.UI.CustomSelection.FrameActionData();this.$E.frameJumpInfo=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString(this.get_$11(),'frame_jump_info');this.$E.strActionString=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString(this.get_$11(),'action_string');this.$E._eType=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt(this.get_$11(),'action_type',0);},$1D:function($p0){var $0=false;if(this.$E._eType===$p0){if(ss.isValue(this.$1F)){var $1=new Kepler.Framework.UI.CustomSelection.ActionEvtArgs();this.$E.bResult=true;$1.actionType=1;$1.data=this.$E;$0=this.$1F(this,$1);}}return $0;},add_$1E:function($p0){this.$1F=ss.Delegate.combine(this.$1F,$p0);},remove_$1E:function($p0){this.$1F=ss.Delegate.remove(this.$1F,$p0);},$1F:null,addActEventHandler:function($p0){if(ss.isValue($p0)){this.add_$1E($p0);}}}
Kepler.Framework.UI.CustomSelection.Selectables.Framework$7=function(iLevel){Kepler.Framework.UI.CustomSelection.Selectables.Framework$7.initializeBase(this,[iLevel]);this.$12=[];this.$D=-1;this.$E=-1;this.$10=true;}
Kepler.Framework.UI.CustomSelection.Selectables.Framework$7.prototype={$D:0,get_id:function(){return this.$D;},set_id:function($p0){this.$D=$p0;return $p0;},$E:0,get_$F:function(){return this.$E;},set_$F:function($p0){this.$E=$p0;return $p0;},$10:false,get_$11:function(){return this.$10;},set_$11:function($p0){this.$10=$p0;return $p0;},$12:null,$13:function($p0){this.$12.add($p0);$p0.setParentSection(this);return true;},setParentSection:function($p0){return true;},selectChildRegions:function(){return true;},collapseRegion:function(){return true;},expandRegion:function(){return true;},getRange:function(){var $0=new Kepler.Framework.UI.CustomSelection.SelRange();$0.setStartFromCurPos(this.$12[0].getRange().get_startCurPos());$0.setEndFromCurPos(this.$12[this.$12.length-1].getRange().get_endCurPos());return $0;},visible:function($p0){this.$10=$p0;for(var $0=0;$0<this.$12.length;$0++){this.$12[$0].visible($p0);}}}
Kepler.Framework.UI.CustomSelection.Selectables.HeaderFooterSection=function(){this.$0=null;this.$1=[];}
Kepler.Framework.UI.CustomSelection.Selectables.HeaderFooterSection.prototype={$0:null,get_domElement:function(){return this.$0;},set_domElement:function(value){this.$0=value;return value;},$1:null,$2:0,get_hfType:function(){return this.$2;},set_hfType:function(value){this.$2=value;return value;},addRegion:function(oNewPara){this.$1.add(oNewPara);return true;},getRange:function(){var $0=null;if(this.$1.length>0){$0=new Kepler.Framework.UI.CustomSelection.SelRange();$0.setStartFromCurPos(this.$1[0].getRange().get_startCurPos());$0.setEndFromCurPos(this.$1[this.$1.length-1].getRange().get_endCurPos());}return $0;}}
Kepler.Framework.UI.CustomSelection.Selectables.Framework$4=function(iLevel){this.$0=iLevel;this.$4=[];}
Kepler.Framework.UI.CustomSelection.Selectables.Framework$4.prototype={$0:0,get_$1:function(){return this.$0;},set_$1:function($p0){this.$0=$p0;return $p0;},$2:null,get_$3:function(){return this.$2;},set_$3:function($p0){this.$2=$p0;return $p0;},$4:null,get_$5:function(){return this.$4;},$6:function($p0){$p0.set_$3(this);this.$4.add($p0);return true;},$7:function($p0){return true;},$8:function(){return false;}}
Kepler.Framework.UI.CustomSelection.Selectables.SelectableArea=function(iLevel,eType){this.$7=-1;this.$E=0;this.$2=null;this.$5=new Kepler.Framework.UI.Rect(0,0,0,0);this.$6=-1;this._lstChildren={};this.$7=iLevel;this.$9=null;this.$A=eType;this.$B={};this.$11=false;this.$12=false;}
Kepler.Framework.UI.CustomSelection.Selectables.SelectableArea.extractIndex=function(elmSelectableDom,strAttrName){var $0=-1;if(ss.isValue(elmSelectableDom)){var $1=elmSelectableDom.getAttribute(strAttrName);$0=(ss.isValue($1))?parseInt($1,10):-1;}return $0;}
Kepler.Framework.UI.CustomSelection.Selectables.SelectableArea.getOffsetBetween=function(oParent,oChild){var $0=oParent.getBoundingClientRect();var $1=oChild.getBoundingClientRect();return new Kepler.Framework.UI.Point($1.get_left()-$0.get_left(),$1.get_top()-$0.get_top());}
Kepler.Framework.UI.CustomSelection.Selectables.SelectableArea.getWordIndicesForString=function(strSentence,iOffsetIndex,strWordSeperator){var $0=new Kepler.Engine.UI.Controls.TextControl.SelectionArgs(iOffsetIndex,iOffsetIndex);if(String.isNullOrEmpty(strWordSeperator)){strWordSeperator='\u00b7,. '+String.fromCharCode(160).charAt(0);}var $1=iOffsetIndex-1;for(;$1>=0;$1--){if(strWordSeperator.indexOf(strSentence.charAt($1))!==-1){break;}}$0.set_startIndex(($1<0)?0:$1+1);$1=iOffsetIndex;var $2=false;var $3=',\u00b6 '+String.fromCharCode(160).charAt(0);for(;$1<strSentence.length;$1++){var $4=strSentence.charAt($1);if($4==='\u00b7'||$4===' '){$2=true;}else if($3.indexOf($4)!==-1){break;}else if($2){break;}}$0.set_endIndex(($1>strSentence.length&&!$2)?strSentence.length:$1);return $0;}
Kepler.Framework.UI.CustomSelection.Selectables.SelectableArea.getSelectionGrpIndicesForString=function(strSentence,iOffsetIndex,bLeftRight){var $0=null;var $1=new RegExp('(\\w+|[\\W]+)[ \u00b7]*','g');var $2=strSentence.match($1);var $3=0;if(ss.isValue($2)){for(var $4=0;$4<$2.length;$4++){var $5=$2[$4];var $6=$5.length;var $7=$3+$6;var $8=(bLeftRight)?(iOffsetIndex>$3&&iOffsetIndex<=$7):(iOffsetIndex>=$3&&iOffsetIndex<$7);if($8){$0=new Kepler.Engine.UI.Controls.TextControl.SelectionArgs($3,$7);break;}$3=$7;}}return $0;}
Kepler.Framework.UI.CustomSelection.Selectables.SelectableArea.searchParentUpto=function(elmChld,strPrntAttr,strPrntVal,strUptoTag){var $0=null;try{var $1=strUptoTag.toLowerCase();var $2=strUptoTag.toUpperCase();while(ss.isValue(elmChld)&&elmChld.nodeName!=='#document'){if(!(typeof(elmChld.hasAttribute)==='function')){elmChld=elmChld.parentNode;}if(ss.isValue(elmChld)&&elmChld.hasAttribute(strPrntAttr)){var $3=elmChld.getAttribute(strPrntAttr);if($3===strPrntVal){$0=elmChld;break;}}if(ss.isValue(elmChld)){if((elmChld.tagName===$1||elmChld.tagName===$2)){break;}elmChld=elmChld.parentNode;}}}catch($4){}return $0;}
Kepler.Framework.UI.CustomSelection.Selectables.SelectableArea.prototype={$2:null,get_domElement:function(){return this.$2;},set_domElement:function(value){this.$2=value;this.initializeDom();return value;},$3:null,get_clientRectParsing:function(){return (this.$3!=null)?this.$3.clone():null;},set_clientRectParsing:function(value){this.$3=value;return value;},$4:null,get_parent:function(){return this.$4;},$5:null,get_offsetRect:function(){return this.$5;},set_offsetRect:function(value){var $0=(this.$5.get_width()!==value.get_width()||this.$5.get_height()!==value.get_height())?true:false;this.$5=value;this.onOffsetSizeChange(this.$5);return value;},$6:0,get_index:function(){return this.$6;},set_index:function(value){this.$6=value;return value;},_lstChildren:null,get_children:function(){return this._lstChildren;},get_level:function(){return this.$7;},set_level:function(value){this.$7=value;return value;},$8:null,get_name:function(){return this.$8;},set_name:function(value){this.$8=value;return value;},$9:null,$A:0,get_areaType:function(){return this.$A;},$B:null,$C:null,get_totalCharCount:function(){this.$C=this.getTotalCharCount();return this.$C;},$D:null,get_isLastChild:function(){if(!ss.isValue(this.$D)){this.$D=(this.get_parent()!=null&&Object.getKeyCount(this.get_parent().get_children())-1===this.get_index());}return this.$D;},get_state:function(){return this.$E;},set_state:function(value){this.$E=value;return value;},createSelectableFrom:function(elm){return null;},get_isSelCollapsible:function(){var $0=true;if(this.get_parent()!=null){$0=$0&&this.get_parent().get_isSelCollapsible();}return $0;},$F:false,$10:false,get_selRangeIn:function(){return this.$F;},set_selRangeIn:function(value){this.$F=value;return value;},$11:false,get_displayedNone:function(){return (!this.$11&&this.get_parent()!=null)?this.get_parent().get_displayedNone():this.$11;},$12:false,get_isRangeRecal:function(){return this.$12;},set_isRangeRecal:function(value){this.$12=value;return value;},$13:function($p0){var $0=this.$B[$p0];if(!ss.isValue($0)){$0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString(this.$2,$p0);this.$B[$p0]=$0;}return $0;},getAttributeAsInt:function(strAttr){var $0=this.$13(strAttr);if(String.isNullOrEmpty($0)){$0='0';this.$B[strAttr]=$0;}return parseInt($0,10);},getAttributeAsString:function(strAtt){return this.$13(strAtt);},setDom:function(elm){this.$2=elm;},initializeDom:function(){if((typeof(this.$2.setAttribute)==='function')){this.$2.setAttribute('selectablearea','');}this.$2.selectablearea=this;},showArea:function(){if(this.get_displayedNone()){Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(this.get_domElement(),' display_none');this.$11=false;}},hideArea:function(){if(!this.get_displayedNone()){Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this.get_domElement(),' display_none');this.$11=true;}},insertChildAt:function(iIndex,oChild){this._lstChildren[iIndex]=oChild;oChild.$4=this;return true;},getChildAt:function(iIndex){return this._lstChildren[iIndex];},isPtInOffsetArea:function(ptOffset){return (ss.isValue(this.$5)&&(ptOffset.get_y()<this.$5.get_bottom()));},$14:function($p0){var $dict1=this._lstChildren;for(var $key2 in $dict1){var $0={key:$key2,value:$dict1[$key2]};var $1=$0.value;if($1.get_offsetRect().isPtInRect($p0.get_x(),$p0.get_y())){return $1;}}return null;},getChildForCursor:function(ptOffset){var $0=this.getChildFromOffsetPoint(ptOffset);var $1=Object.keys(this._lstChildren);if(ss.isNullOrUndefined($0)){var $2=$1[0];var $3=this._lstChildren[$2];$0=(ss.isValue($3)&&$3.get_offsetRect().get_top()>ptOffset.get_y())?$3:null;}return $0;},getChildFromOffsetPoint:function(ptOffset){var $0=null;var $1=Object.keys(this._lstChildren);var $2;var $enum1=ss.IEnumerator.getEnumerator($1);while($enum1.moveNext()){var $3=$enum1.current;$2=(Object.keyExists(this._lstChildren,$3))?this._lstChildren[$3]:null;if(ss.isValue($2)&&$2.isPtInOffsetArea(ptOffset)){$0=$2;break;}}return (ss.isValue($0))?$0:this._lstChildren[$1[$1.length-1]];},onOffsetSizeChange:function(rcNew){this.updateChildrenRects();},$15:function($p0,$p1){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientRect($p1.get_domElement());var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.calcOffsetBetwnElement($p0.get_domElement(),$p1.get_domElement());$0.set_topLeft($1);return $0;},updateChildrenRects:function(){var $0=Object.keys(this._lstChildren);var $1;var $2=this.getBoundingClientRect();var $enum1=ss.IEnumerator.getEnumerator($0);while($enum1.moveNext()){var $3=$enum1.current;$1=this._lstChildren[$3];this.updateChildRects($1,$2);}},recalLayout:function(){var $0=Object.keys(this._lstChildren);var $1;var $2=this.getBoundingClientRect();var $enum1=ss.IEnumerator.getEnumerator($0);while($enum1.moveNext()){var $3=$enum1.current;$1=this._lstChildren[$3];if((Kepler.Framework.UI.CustomSelection.Selectables.TextElement).isInstanceOfType($1)){($1).set_parseCharProp(true);}this.updateChildRects($1,$2);$1.recalLayout();}},updateChildRects:function(oChild,rcPrntClient){if(ss.isNullOrUndefined(rcPrntClient)){rcPrntClient=this.getBoundingClientRect();}if(ss.isValue(oChild)){oChild.set_offsetRect(this.getChildOffsetRect(this,oChild,rcPrntClient));}},clearParsingCache:function(){this.set_clientRectParsing(null);return true;},getBoundingClientRect:function(){return Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientRect(this.get_domElement());},getChildOffsetRect:function(oParent,oChild,rcPrntClient){var $0=(ss.isValue(rcPrntClient))?rcPrntClient:oParent.getBoundingClientRect();var $1=oChild.getBoundingClientRect();$1.set_left($1.get_left()-$0.get_left());$1.set_top($1.get_top()-$0.get_top());return $1;},showSelection:function(oSelRange){var $0=Object.keys(this._lstChildren);var $1;var $enum1=ss.IEnumerator.getEnumerator($0);while($enum1.moveNext()){var $2=$enum1.current;$1=(Object.keyExists(this._lstChildren,$2))?this._lstChildren[$2]:null;if(this.isChildInRange($1,oSelRange)){$1.showSelection(oSelRange);}else{$1.clearSelection();}}},traverseRange:function(oSelRange,fnPerform,oReqInfo){var $0=true;var $1=Object.keys(this._lstChildren);var $2;var $enum1=ss.IEnumerator.getEnumerator($1);while($enum1.moveNext()){var $3=$enum1.current;$2=(Object.keyExists(this._lstChildren,$3))?this._lstChildren[$3]:null;if(this.isChildInRange($2,oSelRange)){$0=$0&&$2.traverseRange(oSelRange,fnPerform,oReqInfo);}}return $0;},isChildInRange:function(oChild,oSelRange){var $0=oChild.getRange();return $0.isIntersect(oSelRange);},isRangeInChild:function(oChild,oSelRange){var $0=oChild.getRange();return oSelRange.isWithin($0);},isPosInChild:function(oChild,oPos){return oChild.getRange().containsPos(oPos);},clearSelection:function(){var $0=Object.keys(this._lstChildren);var $1;var $enum1=ss.IEnumerator.getEnumerator($0);while($enum1.moveNext()){var $2=$enum1.current;$1=(Object.keyExists(this._lstChildren,$2))?this._lstChildren[$2]:null;if(ss.isValue($1)){$1.clearSelection();}}},performOnChildren:function(fnPerform,oReqInfo){var $0=Object.keys(this._lstChildren);var $1;var $enum1=ss.IEnumerator.getEnumerator($0);while($enum1.moveNext()){var $2=$enum1.current;$1=this._lstChildren[$2];fnPerform($1,oReqInfo);}},performOnParaWithinSel:function(oSelRange,fnPerform,oReqInfo){var $0=true;var $1=Object.keys(this._lstChildren);var $2;var $enum1=ss.IEnumerator.getEnumerator($1);while($enum1.moveNext()){var $3=$enum1.current;$2=(Object.keyExists(this._lstChildren,$3))?this._lstChildren[$3]:null;var $4=$2.getRange();if($4.isIntersect(oSelRange)){$0=$0&&$2.performOnParaWithinSel(oSelRange,fnPerform,oReqInfo);}}return $0;},performOnRowWithinSel:function(oSelRange,fnPerform,oReqInfo){var $0=true;var $1=Object.keys(this._lstChildren);var $2;var $enum1=ss.IEnumerator.getEnumerator($1);while($enum1.moveNext()){var $3=$enum1.current;$2=(Object.keyExists(this._lstChildren,$3))?this._lstChildren[$3]:null;var $4=$2.getRange();if($4.isIntersect(oSelRange)){$0=$0&&$2.performOnRowWithinSel(oSelRange,fnPerform,oReqInfo);}}return $0;},getSelectableAreaForElement:function(elmTarget,strName){var $0=null;if(this.get_name()===strName){$0=this;}else{var $1=Object.getKeyCount(this._lstChildren);var $2=($1>0)?this._lstChildren[0].get_name():null;var $3=(!String.isNullOrEmpty($2))?Kepler.Engine.UI.Helper.HtmlCssHelper.getParentElementByName(elmTarget,$2):null;var $4=this.$16($3);if(ss.isValue($4)){$0=$4.getSelectableAreaForElement(elmTarget,strName);}}return $0;},$16:function($p0){var $0=null;var $1=Object.keys(this._lstChildren);var $2;var $enum1=ss.IEnumerator.getEnumerator($1);while($enum1.moveNext()){var $3=$enum1.current;$2=this._lstChildren[$3];if($2.get_domElement()===$p0){$0=$2;break;}}return $0;},getSelectableFromCurPos:function(oCurPos,eType){var $0=null;if(oCurPos.get_level()===this.get_level()&&eType===this.get_areaType()){$0=this;}else if(this.get_level()<=oCurPos.get_level()){var $1=this.getChildFromCurPos(oCurPos);$0=$1.getSelectableFromCurPos(oCurPos,eType);}return $0;},getCommonParent:function(oPosStart,oPosEnd){var $0=this.getIndexFromCurPos(oPosStart);var $1=this.getIndexFromCurPos(oPosEnd);var $2=($0===$1&&$0===this.get_index())?this:null;var $3=this.getChildFromCurPos(oPosStart);var $4=this.getChildFromCurPos(oPosEnd);if($3===$4&&$3!=null){$2=$3.getCommonParent(oPosStart,oPosEnd);}return $2;},getParentByType:function(eType){return (this.$A===eType)?this:(this.get_parent()==null)?null:this.get_parent().getParentByType(eType);},getAdjustedRangeForComparison:function(oRng){var $0=(oRng.isCollapsed())?oRng.clone():null;if($0==null){$0=new Kepler.Framework.UI.CustomSelection.SelRange();var $1=this.$17(oRng.get_startCurPos(),true);var $2=this.$17(oRng.get_endCurPos(),false);$0.setStartFromCurPos($1);$0.setEndFromCurPos($2);}return $0;},$17:function($p0,$p1){var $0=$p0.clone();var $1=this.getChildFromCurPos($p0);if($1!=null&&!!$1.get_totalCharCount()){var $2=$1.getRange();var $3=($p0.isEqual(($p1)?$2.get_endCurPos():$2.get_startCurPos()))?this._lstChildren[$1.get_index()+(($p1)?1:-1)]:null;if($3!=null){var $4=$3.getRange();$0=($p1)?$4.get_startCurPos():$4.get_endCurPos();}}return $0;},applyCurPosNormalization:function(oPos){return oPos;},$18:function($p0){var $0=$p0;var $1=this.getChildFromCurPos($p0);var $2=($1!=null&&$1.isCurAtBegining($p0))?$1.$1E():true;if(!$2){var $3=this._lstChildren[$1.get_index()-1];if($3!=null){$0=$3.getRange().get_endCurPos();}}return $0;},getRangeOffsetFromCurPos:function(oPos){var $0=0;var $1=this.getChildFromCurPos(oPos);var $2=($1!=null)?$1.get_index():-1;if($2!==-1){for(var $3=0;$3<$2;$3++){var $4=this._lstChildren[$3];$0+=$4.get_totalCharCount();}$0+=$1.getRangeOffsetFromCurPos(oPos);}return $0;},setCurPosFromRangOffset:function(iOffset,oPos){var $0=Object.keys(this._lstChildren);var $1;var $2=0;var $enum1=ss.IEnumerator.getEnumerator($0);while($enum1.moveNext()){var $3=$enum1.current;$1=this._lstChildren[$3];if($2+$1.get_totalCharCount()>=iOffset){$1.setCurPosFromRangOffset(iOffset-$2,oPos);break;}$2+=$1.get_totalCharCount();}this.setIndexToCurPos(oPos);},getTotalCharCount:function(){var $0=0;var $1=Object.keys(this._lstChildren);var $2;var $enum1=ss.IEnumerator.getEnumerator($1);while($enum1.moveNext()){var $3=$enum1.current;$2=this._lstChildren[$3];$0+=$2.get_totalCharCount();}return $0;},getStringForRange:function(oSelRng){return this.getSelectableString(oSelRng.get_startCurPos(),oSelRng.get_endCurPos());},getAttributedString:function(oSelRng){return this.getAttributedSelectedString(oSelRng.get_startCurPos(),oSelRng.get_endCurPos());},getSelectableString:function(oStartCurPos,oEndCurPos){var $0='';var $1=Object.keys(this._lstChildren);var $2=(Object.getKeyCount(this._lstChildren)>0)?0:-1;var $3=(Object.getKeyCount(this._lstChildren)>0)?Object.getKeyCount(this._lstChildren)-1:-1;if(ss.isValue(oStartCurPos)){var $4=this.getChildFromCurPos(oStartCurPos);if($4!=null){$2=$4.get_index();}}if(ss.isValue(oEndCurPos)){var $5=this.getChildFromCurPos(oEndCurPos);if($5!=null){$3=$5.get_index();}}if($2!==-1&&$3!==-1){for(var $6=$2;$6<=$3;$6++){var $7=this._lstChildren[$6];$0+=$7.getSelectableString(($6===$2)?oStartCurPos:null,($6===$3)?oEndCurPos:null);}}return $0;},getAttributedSelectedString:function(oStartPos,oEndPos){var $0='';var $1=Object.keys(this._lstChildren);var $2=(Object.getKeyCount(this._lstChildren)>0)?0:-1;var $3=(Object.getKeyCount(this._lstChildren)>0)?Object.getKeyCount(this._lstChildren)-1:-1;if(ss.isValue(oStartPos)){var $4=this.getChildFromCurPos(oStartPos);if($4!=null){$2=$4.get_index();}}if(ss.isValue(oEndPos)){var $5=this.getChildFromCurPos(oEndPos);if($5!=null){$3=$5.get_index();}}if($2!==-1&&$3!==-1){for(var $6=$2;$6<=$3;$6++){var $7=this._lstChildren[$6];$0+=$7.getAttributedSelectedString(($6===$2)?oStartPos:null,($6===$3)?oEndPos:null);}}return $0;},getStartCurPos:function(oPos){if(!ss.isValue(oPos)){oPos=new Kepler.Framework.UI.CustomSelection.CurPos();}oPos.set_level(this.get_level());this.setStartPos(oPos);this.setPos(oPos);return oPos;},getEndCurPos:function(oPos){if(!ss.isValue(oPos)){oPos=new Kepler.Framework.UI.CustomSelection.CurPos();}oPos.set_level(this.get_level());this.setEndPos(oPos);this.setPos(oPos);return oPos;},setPos:function(oPos){this.setIndexToCurPos(oPos);if(ss.isValue(this.get_parent())){this.get_parent().setPos(oPos);}},setStartPos:function(oPos){},setEndPos:function(oPos){},getRange:function(){if(this.$9==null||this.$12){this.$9=new Kepler.Framework.UI.CustomSelection.SelRange();this.$9.setStartFromCurPos(this.getStartCurPos());this.$9.setEndFromCurPos(this.getEndCurPos());this.$12=false;}return this.$9.clone();},getCursorRect:function(oPos,iLevel){var $0=this.getChildFromCurPos(oPos);if($0!=null){var $1=$0.getCursorRect(oPos,iLevel);$1.set_top($1.get_top()+this.get_offsetRect().get_top());$1.set_left($1.get_left()+this.get_offsetRect().get_left());return $1;}else{}return new Kepler.Framework.UI.Rect(0,0,0,0);},getCurPosForChildElm:function(elm,bStart){var $0=this.getStartCurPos();this.$1B(elm,bStart,$0);return $0;},$19:function($p0,$p1){var $0=true;var $1=null;var $2=$p0.childNodes;for(var $3=0;$3<$2.length;$3++){var $4=$2[$3];$1=$4.selectablearea;if(ss.isValue($1)){break;}}if(!ss.isValue($1)){if(ss.isValue($p0.nextSibling)){$1=this.$1C($p0.nextSibling);}else if(ss.isValue($p0.parentNode)&&ss.isValue($p0.parentNode.nextSibling)){$1=this.$1C($p0.parentNode.nextSibling);}}if(!ss.isValue($1)){$1=this._lstChildren[Object.getKeyCount(this._lstChildren)-1];$0=false;}else{if($1.get_index()>0&&!this.isCurAllowAtBeginningFor($1)){$1=this._lstChildren[$1.get_index()-1];$0=false;}}if($0){$1.setStartPos($p1);}else{$1.setEndPos($p1);}},$1A:function($p0,$p1){var $0=true;var $1=null;var $2=$p0.childNodes;for(var $3=$2.length-1;$3>=0;$3--){var $4=$2[$3];$1=$4.selectablearea;if(ss.isValue($1)){$1.setEndPos($p1);return;}}if(!ss.isValue($1)){if(ss.isValue($p0.nextSibling)){$1=this.$1C($p0.nextSibling);}else if(ss.isValue($p0.parentNode)&&ss.isValue($p0.parentNode.nextSibling)){$1=this.$1C($p0.parentNode.nextSibling);}}if(!ss.isValue($1)){$1=this._lstChildren[Object.getKeyCount(this._lstChildren)-1];$0=false;}else if($1.get_index()>0&&!this.isCurAllowAtBeginningFor($1)){$1=this._lstChildren[$1.get_index()-1];$0=false;}if($0){$1.setStartPos($p1);}else{$1.setEndPos($p1);}},$1B:function($p0,$p1,$p2){if($p1){this.$19($p0,$p2);}else{this.$1A($p0,$p2);}},getParentMainDoc:function(){var $0=this.get_parent();while(!(Kepler.Framework.UI.CustomSelection.Selectables.MainDoc).isInstanceOfType($0)){$0=$0.get_parent();}return $0;},$1C:function($p0){var $0=$p0.selectablearea;if(ss.isValue($0)){return $0;}var $1=$p0.childNodes;var $2=$1.length;for(var $3=0;$3<$2;$3++){var $4=$1[$3];$0=$4.selectablearea;if(ss.isValue($0)){break;}if(!ss.isValue($0)&&$4.nodeType!==3&&!!$4.childNodes.length){$0=this.$1C($4);if(ss.isValue($0)){break;}}}if(!ss.isValue($0)&&ss.isValue($p0.nextSibling)){$0=this.$1C($p0.nextSibling);}else if(!ss.isValue($0)&&ss.isValue($p0.parentNode)&&ss.isValue($p0.parentNode.nextSibling)){$0=this.$1C($p0.parentNode.nextSibling);}return $0;},$1D:function($p0){var $0=$p0.selectablearea;if(ss.isValue($0)){return $0;}var $1=$p0.childNodes;var $2=$1.length;for(var $3=$2-1;$3>=0;$3--){var $4=$1[$3];$0=$4.selectablearea;if(ss.isValue($0)){break;}if(!ss.isValue($0)&&$4.nodeType!==3&&!!$4.childNodes.length){$0=this.$1D($4);if(ss.isValue($0)){break;}}}if(!ss.isValue($0)&&ss.isValue($p0.previousSibling)){$0=this.$1D($p0.previousSibling);}if(!ss.isValue($0)&&ss.isValue($p0.parentNode)&&ss.isValue($p0.parentNode.previousSibling)){$0=this.$1D($p0.parentNode.previousSibling);}return $0;},isCurAtBegining:function(oPos){return this.getRange().get_startCurPos().isEqual(oPos);},isCurAllowAtBeginningFor:function(oChild){return true;},$1E:function(){var $0=false;if(this.$4!=null){$0=this.$4.isCurAllowAtBeginningFor(this);}return $0;},getOffsetFromCurPos:function(oPos){var $0=this.getChildFromCurPos(oPos);return $0.get_offsetRect().get_left()+$0.getOffsetFromCurPos(oPos);},handlePrintableKey:function(oStartPos,oEndPos,oActKey){var $0=this.getChildFromCurPos(oStartPos);return $0.handlePrintableKey(oStartPos,oEndPos,oActKey);},cutStringUpToEnd:function(oStart){return '';},handleEnterKey:function(oStartPos,oEndPos,oActKey){var $0=this.getChildFromCurPos(oStartPos);return $0.handlePrintableKey(oStartPos,oEndPos,oActKey);},onCharInserted:function(oActedKey){this.$9=null;},$1F:function($p0){this.onCharInserted($p0);if(this.$4!=null){this.$4.$1F($p0);}},onChildAltred:function(oChild,oTarget){if(!Object.getKeyCount(this._lstChildren)||this._lstChildren[0]===oChild||this._lstChildren[Object.getKeyCount(this._lstChildren)-1]===oChild){this.$9=null;}},$20:function($p0,$p1){this.onChildAltred($p0,$p1);if(this.$4!=null){this.$4.$20(this,$p1);}},handleLeftKey:function(oHitTest){return false;},handleRightKey:function(oHitTest){return false;},handleUpKey:function(oHitTest){return false;},handleDownKey:function(oHitTest){return false;},handleCtrlA:function(oHitTest){if(ss.isValue(this.$4)){return this.$4.handleCtrlA(oHitTest);}else{return false;}},handleEndKey:function(oHitTest){if(ss.isValue(this.$4)){return this.$4.handleEndKey(oHitTest);}else{return false;}},handleHomeKey:function(oHitTest){if(ss.isValue(this.$4)){return this.$4.handleHomeKey(oHitTest);}else{return false;}},nodeFilterAcceptCheck:function(elm){var $0=this.createSelectableFrom(elm);if($0!=null){this.$21($0,elm);return 2;}return 1;},parseChild:function(){this.set_clientRectParsing(this.getBoundingClientRect());var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.createTreeWalker(this.$2,this.get_nodeFilterShow(),ss.Delegate.create(this,this.nodeFilterAcceptCheck),false);var $1=$0.nextNode();while($1!=null){$1=$0.nextNode();}this.set_clientRectParsing(null);},$21:function($p0,$p1){$p0.set_domElement($p1);$p0.set_index(Object.getKeyCount(this._lstChildren));this.updateChildRects($p0,this.get_clientRectParsing());this.insertChildAt($p0.get_index(),$p0);$p0.parseChild();this.onChildAdd($p0);$p0.onAdd();},$22:function($p0){if(Object.keyExists(this._lstChildren,$p0)){var $0=this._lstChildren[$p0];var $1=$0.get_domElement().parentNode;if(ss.isValue($1)){$1.removeChild($0.get_domElement());}delete this._lstChildren[$p0];}},onChildAdd:function(oChild){},onAdd:function(){},$23:function($p0,$p1){if($p0===this.$A){return this.getRange().containsPos($p1);}else{return this.get_parent().$23($p0,$p1);}},expandSelection:function(oRange,bCallFromParent){},isMouseOver:function(){return this.$10;},onMouseOver:function(pt,oData){this.$10=true;var $0=Object.keys(this._lstChildren);var $1;var $enum1=ss.IEnumerator.getEnumerator($0);while($enum1.moveNext()){var $2=$enum1.current;$1=this._lstChildren[$2];if($1.get_offsetRect().isPtInRect(pt.get_x(),pt.get_y())){pt.set_x(pt.get_x()-$1.get_offsetRect().get_left());pt.set_y(pt.get_y()-$1.get_offsetRect().get_top());$1.onMouseOver(pt,oData);}else if($1.$10){$1.onMouseOut(pt,oData);}}return false;},onMouseOut:function(pt,oData){this.$10=false;var $0=Object.keys(this._lstChildren);var $enum1=ss.IEnumerator.getEnumerator($0);while($enum1.moveNext()){var $1=$enum1.current;var $2=this._lstChildren[$1];if($2.$10){this._lstChildren[$1].onMouseOut(pt,oData);}}return false;},showMenu:function(iMenu,pt){this.get_parent().showMenu(iMenu,pt);},onSelRngIn:function(oRange){this.$F=true;var $0=Object.keys(this._lstChildren);var $1;var $enum1=ss.IEnumerator.getEnumerator($0);while($enum1.moveNext()){var $2=$enum1.current;$1=this._lstChildren[$2];if(this.isRangeInChild($1,oRange)){$1.onSelRngIn(oRange);}else if($1.$F){$1.onSelRngOut(oRange);}}return false;},onSelRngOut:function(oRange){this.$F=false;var $0=Object.keys(this._lstChildren);var $enum1=ss.IEnumerator.getEnumerator($0);while($enum1.moveNext()){var $1=$enum1.current;var $2=this._lstChildren[$1];if($2.$F){this._lstChildren[$1].onSelRngOut(oRange);}}return false;},onCurPosIn:function(oPos){var $0=Object.keys(this._lstChildren);var $1;var $enum1=ss.IEnumerator.getEnumerator($0);while($enum1.moveNext()){var $2=$enum1.current;$1=this._lstChildren[$2];if(this.isPosInChild($1,oPos)){$1.onCurPosIn(oPos);}else{$1.onCurPosOut(oPos);}}return false;},onCurPosOut:function(oPos){var $0=Object.keys(this._lstChildren);var $enum1=ss.IEnumerator.getEnumerator($0);while($enum1.moveNext()){var $1=$enum1.current;this._lstChildren[$1].onCurPosOut(oPos);}return false;},onLButtonDown:function(ptClick,oData){var $0=Object.keys(this._lstChildren);var $1;var $enum1=ss.IEnumerator.getEnumerator($0);while($enum1.moveNext()){var $2=$enum1.current;$1=this._lstChildren[$2];if($1.get_offsetRect().isPtInRect(ptClick.get_x(),ptClick.get_y())){ptClick.set_x(ptClick.get_x()-$1.get_offsetRect().get_left());ptClick.set_y(ptClick.get_y()-$1.get_offsetRect().get_top());return $1.onLButtonDown(ptClick,oData);}}return false;},onLButtonUp:function(ptClick,oData){var $0=Object.keys(this._lstChildren);var $1;var $enum1=ss.IEnumerator.getEnumerator($0);while($enum1.moveNext()){var $2=$enum1.current;$1=this._lstChildren[$2];if($1.get_offsetRect().isPtInRect(ptClick.get_x(),ptClick.get_y())){ptClick.set_x(ptClick.get_x()-$1.get_offsetRect().get_left());ptClick.set_y(ptClick.get_y()-$1.get_offsetRect().get_top());return $1.onLButtonUp(ptClick,oData);}}return false;},onRButtonDown:function(ptClick,oData){var $0=this.$14(ptClick);if(ss.isValue($0)){ptClick.set_x(ptClick.get_x()-$0.get_offsetRect().get_left());ptClick.set_y(ptClick.get_y()-$0.get_offsetRect().get_top());return $0.onRButtonDown(ptClick,oData);}return false;},onRButtonUp:function(ptClick,oData){var $0=this.$14(ptClick);if(ss.isValue($0)){ptClick.set_x(ptClick.get_x()-$0.get_offsetRect().get_left());ptClick.set_y(ptClick.get_y()-$0.get_offsetRect().get_top());return $0.onRButtonUp(ptClick,oData);}return false;},notifyController:function(eType,oTarget,data){if(this.$4!=null){return this.$4.notifyController(eType,oTarget,data);}return false;},notifyParent:function(eType,oTarget,oData,bPropogateRoot){var $0=false;if(ss.isNullOrUndefined(bPropogateRoot)){bPropogateRoot=false;}if(this.get_parent()!=null){$0=($0&this.get_parent().$24(eType,oTarget,oData))===1;if(bPropogateRoot){$0=($0&this.get_parent().notifyParent(eType,oTarget,oData,bPropogateRoot))===1;}}return $0;},$24:function($p0,$p1,$p2){return false;},insertString:function(oStartPos,oEndPos,str){if(this.getIndexFromCurPos(oStartPos)===this.getIndexFromCurPos(oEndPos)){return this.getChildFromCurPos(oStartPos).insertString(oStartPos,oEndPos,str);}else{return false;}},onDocLostFocus:function(oRng){var $0=false;var $1=Object.keys(this._lstChildren);var $2;var $enum1=ss.IEnumerator.getEnumerator($1);while($enum1.moveNext()){var $3=$enum1.current;$2=this._lstChildren[$3];if(this.isChildInRange($2,oRng)){$0=$2.onDocLostFocus(oRng);}}return $0;},fillViewNavigationParams:function(oViewData,oCurRange){if(this.$4!=null){this.$4.fillViewNavigationParams(oViewData,oCurRange);}},extractAttributeFromSelectables:function(oCurPos,strAttr,arrValue){arrValue.add(this.getAttributeAsString(strAttr));var $0=this.getChildFromCurPos(oCurPos);if(ss.isValue($0)){$0.extractAttributeFromSelectables(oCurPos,strAttr,arrValue);}return true;},setRangeRecalProperty:function(){var $0=Object.keys(this.get_children());var $1;var $enum1=ss.IEnumerator.getEnumerator($0);while($enum1.moveNext()){var $2=$enum1.current;$1=(Object.keyExists(this.get_children(),$2))?this.get_children()[$2]:null;if(!ss.isNull($1)){$1.setRangeRecalProperty();}}this.set_isRangeRecal(true);}}
Kepler.Framework.UI.CustomSelection.Selectables.SelElement=function(iLevel,eSelElementType){Kepler.Framework.UI.CustomSelection.Selectables.SelElement.initializeBase(this,[iLevel,4]);this.$29=eSelElementType;}
Kepler.Framework.UI.CustomSelection.Selectables.SelElement.clearCache=function(){Kepler.Framework.UI.CustomSelection.Selectables.SelElement.$25.clearCache();}
Kepler.Framework.UI.CustomSelection.Selectables.SelElement.recalcCharProps=function(){Kepler.Framework.UI.CustomSelection.Selectables.SelElement.$25.recalcCachedProperties();}
Kepler.Framework.UI.CustomSelection.Selectables.SelElement.prototype={get_domElement:function(){return Kepler.Framework.UI.CustomSelection.Selectables.SelElement.callBaseMethod(this, 'get_domElement');},set_domElement:function(value){Kepler.Framework.UI.CustomSelection.Selectables.SelElement.callBaseMethod(this, 'set_domElement',[value]);return value;},get_charPropCache:function(){return Kepler.Framework.UI.CustomSelection.Selectables.SelElement.$25;},$26:false,get_parseCharProp:function(){return this.$26;},set_parseCharProp:function(value){this.$26=value;return value;},$27:null,get_charProp:function(){if(this.$27==null||this.$26){this.$27=this.getCharProps(this.get_domElement());this.$26=false;}return this.$27;},set_charProp:function(value){this.$27=value;return value;},$28:null,get_assocRowSect:function(){return this.$28;},set_assocRowSect:function(value){this.$28=value;return value;},get_charCount:function(){return 0;},get_height:function(){return this.get_offsetRect().get_height();},get_width:function(){return this.get_offsetRect().get_width();},$29:0,get_selElementType:function(){return this.$29;},get_nodeFilterShow:function(){return 1;},getCharProps:function(elmDom){var $0=new Kepler.Framework.UI.CustomSelection.CharProperties();if(ss.isValue(elmDom)){var $1=elmDom.parentNode;var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getComputedStyleObject($1);$0.setFontFamily(this.getPropertyString($1,'font-family',$2));$0.setFontSize(parseInt(this.getPropertyString($1,'font-size',$2),10));var $3=this.getPropertyString($1,'font-weight',$2);$0.setBold(($3==='bold'||$3==='700')?1:0);$0.setItalic((this.getPropertyString($1,'font-style',$2)==='italic')?1:0);$0.setUnderline((this.getPropertyString($1,'text-decoration',$2)==='underline')?1:0);$0.setFontColor(Kepler.Framework.UI.Color.parse(this.getPropertyString($1,'color',$2)));$0.setStrikeOut((this.getPropertyString($1,'text-decoration',$2)==='line-through')?1:0);$0.setSubScript((this.getPropertyString($1,'vertical-align',$2)==='sub')?1:0);$0.setSuperScript((this.getPropertyString($1,'vertical-align',$2)==='super')?1:0);$0.setRecursiveSuperSub(0);$0.setBackgroundColor(Kepler.Framework.UI.Color.parse(this.getPropertyString($1,'background-color',$2)));$0.setTextTransform(this.getPropertyString($1,'text-transform',$2));$0.setLetterSpacing(this.getPropertyString($1,'letter-spacing',$2));var $4=this.get_charPropCache().addProperty($0);$0=this.get_charPropCache().getProperty($4);}return $0;},getPropertyString:function(element,strProperty,oComputedStyle){var $0=(element.currentStyle!=null)?element.currentStyle[strProperty]:'';if(String.isNullOrEmpty($0)||$0.endsWith('%')){var $1=null;if(ss.isValue(oComputedStyle)){$1=oComputedStyle.getPropertyValue(strProperty);}else{$1=Kepler.Engine.UI.Helper.HtmlCssHelper.getCalculatedCSSProperty(element,strProperty);}if(ss.isValue($1)){$0=$1.toString();}}return $0;},getIndexFromCurPos:function(oPos){var $0=-1;var $1=oPos.get_docPos()[this.get_level()];if(ss.isValue($1)&&ss.isValue($1.get_elPos())){$0=$1.get_elPos().get_elIndex();}return $0;},setIndexToCurPos:function(oPos){if(oPos.get_level()<this.get_level()){oPos.set_level(this.get_level());}oPos.get_docPos()[this.get_level()].get_elPos().set_elIndex(this.get_index());},setStartPos:function(oPos){oPos.set_level(this.get_level());oPos.set_elIndex(this.get_index());oPos.set_chIndex(0);if(Object.getKeyCount(this.get_children())>0){oPos.set_level(oPos.get_level()+1);this.get_children()[0].setStartPos(oPos);}},setEndPos:function(oPos){oPos.set_level(this.get_level());oPos.set_elIndex(this.get_index());oPos.set_chIndex(this.get_charCount());if(Object.getKeyCount(this.get_children())>0){oPos.set_level(oPos.get_level()+1);this.get_children()[Object.getKeyCount(this.get_children())-1].setEndPos(oPos);}},getCursorPosFrmPoint:function(ptOffset,oCurPos){var $0=null;var $1=this.getChildForCursor(ptOffset);if(ss.isValue($1)){oCurPos.set_level(oCurPos.get_level()+1);var $2=new Kepler.Framework.UI.Point(ptOffset.get_x()-$1.get_offsetRect().get_left(),ptOffset.get_y()-$1.get_offsetRect().get_top());$0=$1.getCursorPosFrmPoint($2,oCurPos);if(ss.isValue(oCurPos)){oCurPos.set_docIndex($1.get_index());}}return $0;},isZeroWidthNode:function(){return false;},calcTextWidth:function(iStartIndex,iEndIndex){return 0;},traverseRange:function(oSelRange,fnPerform,oReqInfo){var $0=true;if(ss.isValue(fnPerform)){$0=fnPerform(this,oReqInfo);}return $0;},verifyProperty:function(strProperty,strValue){var $0=false;var $1=false;var $2=-1;switch(strProperty){case 'bold':$2=this.get_charProp().getBold();break;case 'italic':$2=this.get_charProp().getItalic();break;case 'underline':$2=this.get_charProp().getUnderline();break;case 'font-size':$2=this.get_charProp().getFontSize();break;case 'strikethrough':$2=this.get_charProp().getStrikeOut();break;case 'subscript':$2=this.get_charProp().getSubScript();break;case 'superscript':$2=this.get_charProp().getSuperScript();break;case 'font-family':var $3=this.get_charProp().getFontFamily();$0=(ss.isValue(strValue))?(!strValue.compareTo(this.get_charProp().getFontFamily(),false)):false;$1=true;break;case 'color':var $4=Kepler.Framework.UI.Color.parse(strValue);var $5=this.get_charProp().getFontColor();$0=(ss.isValue($5))?$4.equals($5):false;$1=true;break;case 'background-color':var $6=Kepler.Framework.UI.Color.parse(strValue);var $7=this.get_charProp().getBackgroundColor();$0=(ss.isValue($7))?$6.equals($7):false;$1=true;break;default:$1=true;break;}if(!$1&&ss.isValue(strValue)){$0=(0===strValue.compareTo($2.toString()));}return $0;},getProperty:function(strProp){var $0='';switch(strProp){case 'bold':$0=this.get_charProp().getBold().toString();break;case 'italic':$0=this.get_charProp().getItalic().toString();break;case 'underline':$0=this.get_charProp().getUnderline().toString();break;case 'font-size':$0=this.get_charProp().getFontSize().toString();break;case 'strikethrough':$0=this.get_charProp().getStrikeOut().toString();break;case 'subscript':$0=this.get_charProp().getSubScript().toString();break;case 'superscript':$0=this.get_charProp().getSuperScript().toString();break;case 'font-family':$0=this.get_charProp().getFontFamily();break;case 'color':$0=this.get_charProp().getFontColor().toString();break;case 'background-color':$0=this.get_charProp().getBackgroundColor().toString();break;}return $0;},getOffset:function(iIndex){return 0;},isPtInOffsetArea:function(ptOffset){return ss.isValue(this.get_offsetRect())&&this.get_offsetRect().get_right()>ptOffset.get_x();},getCursorRect:function(oPos,iLevel){return Kepler.Framework.UI.CustomSelection.Selectables.SelElement.callBaseMethod(this, 'getCursorRect',[oPos,iLevel+1]);},getChildFromCurPos:function(oPos){if(this.get_level()<oPos.get_level()){return this.get_children()[oPos.get_docPos()[this.get_level()+1].get_docIndex()];}else{return null;}},getRangeOffsetFromCurPos:function(oCurPos){if(this.get_level()<oCurPos.get_level()){return Kepler.Framework.UI.CustomSelection.Selectables.SelElement.callBaseMethod(this, 'getRangeOffsetFromCurPos',[oCurPos]);}else{return oCurPos.get_chIndex();}},setCurPosFromRangOffset:function(iOffset,oPos){this.setIndexToCurPos(oPos);oPos.set_chIndex(iOffset);},getSelectableString:function(oStartCurPos,oEndCurPos){if(Object.getKeyCount(this.get_children())>0){return Kepler.Framework.UI.CustomSelection.Selectables.SelElement.callBaseMethod(this, 'getSelectableString',[oStartCurPos,oEndCurPos]);}else{return '';}},getAttributedSelectedString:function(oStartPos,oEndPos){if(Object.getKeyCount(this.get_children())>0){return Kepler.Framework.UI.CustomSelection.Selectables.SelElement.callBaseMethod(this, 'getAttributedSelectedString',[oStartPos,oEndPos]);}else{return '';}},createSelectableFrom:function(elm){var $0=null;if(elm.getAttribute('name')==='document'){$0=new Kepler.Framework.UI.CustomSelection.Selectables.Doc(this.get_level()+1);}return $0;},expandSelection:function(oRange,bCallFromParent){if(!this.get_isSelCollapsible()){this.get_parent().expandSelection(oRange,false);}},isCurAfterParaMark:function(oCurPos){return false;},isCurBeforeParaMark:function(oCurPos){return false;},handleRightKey:function(oHitTest){var $0=oHitTest.get_endPos();if(oHitTest.get_callFromParent()){$0.set_chIndex(0);$0.set_level($0.get_level()+1);return this.get_children()[0].handleRightKey(oHitTest);}else{var $1=$0.get_docIndex();if($1<Object.getKeyCount(this.get_children())-1){$1++;$0.set_docIndex($1);oHitTest.set_callFromParent(true);return this.get_children()[$1].handleRightKey(oHitTest);}}$0.set_level($0.get_level()-1);oHitTest.set_callFromParent(false);return this.get_parent().handleRightKey(oHitTest);},handleLeftKey:function(oHitTest){var $0=oHitTest.get_endPos();if(oHitTest.get_callFromParent()){$0.set_chIndex(0);$0.set_level($0.get_level()+1);$0.set_docIndex(Object.getKeyCount(this.get_children())-1);return this.get_children()[$0.get_docIndex()].handleLeftKey(oHitTest);}else{var $1=$0.get_docIndex();if($1>0){$1--;$0.set_docIndex($1);oHitTest.set_callFromParent(true);return this.get_children()[$1].handleLeftKey(oHitTest);}}$0.set_level($0.get_level()-1);oHitTest.set_callFromParent(false);return this.get_parent().handleLeftKey(oHitTest);},handleUpKey:function(oHitTest){var $0=oHitTest.get_endPos();if(oHitTest.get_callFromParent()){var $1=this.getChildFromOffsetPoint(new Kepler.Framework.UI.Point(oHitTest.get_xOffset(),0));oHitTest.set_xOffset(oHitTest.get_xOffset()-$1.get_offsetRect().get_left());$0.set_chIndex(0);$0.set_level($0.get_level()+1);$0.set_docIndex($1.get_index());return $1.handleUpKey(oHitTest);}else{$0.set_level($0.get_level()-1);oHitTest.set_xOffset(oHitTest.get_xOffset()+this.get_offsetRect().get_left());return this.get_parent().handleUpKey(oHitTest);}},handleDownKey:function(oHitTest){var $0=oHitTest.get_endPos();if(oHitTest.get_callFromParent()){var $1=this.getChildFromOffsetPoint(new Kepler.Framework.UI.Point(oHitTest.get_xOffset(),0));oHitTest.set_xOffset(oHitTest.get_xOffset()-$1.get_offsetRect().get_left());$0.set_chIndex(0);$0.set_level($0.get_level()+1);$0.set_docIndex($1.get_index());return $1.handleDownKey(oHitTest);}else{$0.set_level($0.get_level()-1);oHitTest.set_xOffset(oHitTest.get_xOffset()+this.get_offsetRect().get_left());return this.get_parent().handleDownKey(oHitTest);}}}
Kepler.Framework.UI.CustomSelection.Selectables.TableRowElement=function(iLevel){Kepler.Framework.UI.CustomSelection.Selectables.TableRowElement.initializeBase(this,[iLevel,2]);}
Kepler.Framework.UI.CustomSelection.Selectables.TableRowElement.prototype={onChildAdd:function(oChild){Kepler.Framework.UI.CustomSelection.Selectables.TableRowElement.callBaseMethod(this, 'onChildAdd',[oChild]);(oChild).set_layout(2);},expandSelection:function(oRange,bCallFromParent){var $0=oRange.get_startCurPos();var $1=oRange.get_endCurPos();var $2=oRange.get_topDown();if(this.$23(4,$0)){var $3=$0.get_docPos()[this.get_level()+1].get_docIndex();if($2){oRange.setStartFromCurPos(this.get_children()[$3].getRange().get_startCurPos());}else{oRange.setEndFromCurPos(this.get_children()[$3].getRange().get_startCurPos());}}if(this.$23(4,$1)){var $4=$1.get_docPos()[this.get_level()+1].get_docIndex();var $5=null;if($4+1<Object.getKeyCount(this.get_children())){$5=this.get_children()[$4+1];}else{$5=this.get_parent().get_children()[1];}if($2){oRange.setEndFromCurPos($5.getRange().get_startCurPos());}else{oRange.setStartFromCurPos($5.getRange().get_startCurPos());}}},getColumnWidthForSel:function(oCurRange){var $0=oCurRange.get_startCurPos();var $1=oCurRange.get_endCurPos();var $2=($0.get_level()>this.get_level())?$0.get_docPos()[this.get_level()+1].get_docIndex():0;var $3=($1.get_level()>this.get_level())?$1.get_docPos()[this.get_level()+1].get_docIndex():Object.getKeyCount(this.get_children())-1;var $4='';for(;$2<=$3;$2++){var $5=this.get_children()[$2];var $6=$5.getAttributeAsString('columnwidth');if(!!$6){if(!$4){$4=$6;}else if($4!==$6){$4='';break;}}}return $4;},onLButtonDown:function(ptClick,oData){var $0=this.$2A(ptClick);if($0!==-1){var $1={};$1['columnindex']=$0;$1['tablecolumnprop']=this.get_parent().get_parent().getAttributeAsString('tablecolumnprop');this.notifyController(0,this,$1);return true;}else{return Kepler.Framework.UI.CustomSelection.Selectables.TableRowElement.callBaseMethod(this, 'onLButtonDown',[ptClick,oData]);}},onMouseOver:function(pt,oData){var $0=this.$2A(pt);if($0===-1){this.get_domElement().style.cursor='inherit';return Kepler.Framework.UI.CustomSelection.Selectables.TableRowElement.callBaseMethod(this, 'onMouseOver',[pt,oData]);}else{this.get_domElement().style.cursor='col-resize';return false;}},$2A:function($p0){var $0=Object.keys(this.get_children());var $1=null;var $2=-1;var $enum1=ss.IEnumerator.getEnumerator($0);while($enum1.moveNext()){var $3=$enum1.current;$1=this.get_children()[$3];if($p0.get_x()<=$1.get_offsetRect().get_right()&&$p0.get_x()>$1.get_offsetRect().get_right()-3){$2=$1.get_index()+1;break;}}return $2;},handleRightKey:function(oHitTest){if(oHitTest.get_shift()){var $0=oHitTest.get_startPos();var $1=oHitTest.get_endPos();if(oHitTest.get_callFromParent()){$1.set_chIndex(0);$1.set_level($1.get_level()+1);oHitTest.set_callFromParent(true);return this.get_children()[0].handleRightKey(oHitTest);}else{if(this.$23(2,$0)&&$1.get_level()>this.get_level()&&$1.get_docIndex()+1<Object.getKeyCount(this.get_children())){$1.set_docIndex($1.get_docIndex()+1);oHitTest.set_callFromParent(true);return this.get_children()[$1.get_docIndex()].handleRightKey(oHitTest);}}$1.set_level($1.get_level()-1);return this.get_parent().handleRightKey(oHitTest);}return Kepler.Framework.UI.CustomSelection.Selectables.TableRowElement.callBaseMethod(this, 'handleRightKey',[oHitTest]);},handleLeftKey:function(oHitTest){if(oHitTest.get_shift()){var $0=oHitTest.get_startPos();var $1=oHitTest.get_endPos();if(oHitTest.get_callFromParent()){$1.set_chIndex(0);$1.set_level($1.get_level()+1);if(this.$23(3,$0)||($0.get_docPos()[this.get_level()].get_rowIndex()<$1.get_docPos()[this.get_level()].get_rowIndex())){$1.set_docIndex(Object.getKeyCount(this.get_children())-1);}this.get_children()[$1.get_docIndex()].setStartPos($1);return true;}else if(this.$23(2,$0)&&$1.get_level()>this.get_level()&&$1.get_docIndex()-1>=0){$1.set_docIndex($1.get_docIndex()-1);oHitTest.set_callFromParent(true);if(this.$23(3,$0)&&$0.get_docPos()[this.get_level()+1].get_docIndex()===$1.get_docIndex()){this.get_children()[$1.get_docIndex()].setEndPos($1);return true;}else{this.get_children()[$1.get_docIndex()].setStartPos($1);return true;}}$1.set_level($1.get_level()-1);return this.get_parent().handleLeftKey(oHitTest);}return Kepler.Framework.UI.CustomSelection.Selectables.TableRowElement.callBaseMethod(this, 'handleLeftKey',[oHitTest]);},handleDownKey:function(oHitTest){if(oHitTest.get_shift()){var $0=oHitTest.get_startPos();var $1=oHitTest.get_endPos();if(oHitTest.get_callFromParent()){if(this.$23(2,$0)){$1.set_chIndex(0);var $2=this.getChildFromOffsetPoint(new Kepler.Framework.UI.Point(oHitTest.get_xOffset(),0));var $3=$0.get_docPos()[this.get_level()+1].get_docIndex();if($3>$2.get_index()){$1.set_level($1.get_level()+1);$2.setStartPos($1);return true;}else if($3<$2.get_index()){$1.set_level($1.get_level()+1);$2.setStartPos($1);return true;}}else{$1.set_chIndex(0);$1.set_level($1.get_level()+1);if(this.$23(2,$0)){var $4=this.getChildFromOffsetPoint(new Kepler.Framework.UI.Point(oHitTest.get_xOffset(),0));}this.get_children()[0].setStartPos($1);return true;}}else{var $5=$1.get_docIndex();if(this.$23(2,$0)&&this.$23(3,$0)&&$5===$0.get_docPos()[this.get_level()+1].get_docIndex()){if($5+1<Object.getKeyCount(this.get_children())){$1.set_docIndex($5+1);this.get_children()[$5+1].setStartPos($1);return true;}}oHitTest.set_xOffset(this.get_children()[$5].get_offsetRect().get_left());}}return Kepler.Framework.UI.CustomSelection.Selectables.TableRowElement.callBaseMethod(this, 'handleDownKey',[oHitTest]);},handleUpKey:function(oHitTest){if(oHitTest.get_shift()){var $0=oHitTest.get_startPos();var $1=oHitTest.get_endPos();if(oHitTest.get_callFromParent()){if(this.$23(2,$0)){$1.set_chIndex(0);var $2=this.getChildFromOffsetPoint(new Kepler.Framework.UI.Point(oHitTest.get_xOffset(),0));var $3=$0.get_docPos()[this.get_level()+1].get_docIndex();if($3!==$2.get_index()){$1.set_level($1.get_level()+1);$2.setStartPos($1);return true;}}else{$1.set_chIndex(0);$1.set_level($1.get_level()+1);this.get_children()[0].setStartPos($1);return true;}}else{var $4=$1.get_docIndex();if(this.$23(2,$0)&&this.$23(3,$0)&&$4===$0.get_docPos()[this.get_level()+1].get_docIndex()){if($4+1<Object.getKeyCount(this.get_children())){$1.set_docIndex($4+1);this.get_children()[$4+1].setStartPos($1);return true;}}oHitTest.set_xOffset(this.get_children()[$4].get_offsetRect().get_left());}}return Kepler.Framework.UI.CustomSelection.Selectables.TableRowElement.callBaseMethod(this, 'handleUpKey',[oHitTest]);}}
Kepler.Framework.UI.CustomSelection.Selectables.Framework$8=function(iLevel){this.$2A='';this.$2B='';this.$2C='';Kepler.Framework.UI.CustomSelection.Selectables.Framework$8.initializeBase(this,[iLevel,3]);this.$2E=[];}
Kepler.Framework.UI.CustomSelection.Selectables.Framework$8.prototype={$2D:true,$2E:null,$2F:null,get_state:function(){return Kepler.Framework.UI.CustomSelection.Selectables.Framework$8.callBaseMethod(this, 'get_state');},set_state:function($p0){Kepler.Framework.UI.CustomSelection.Selectables.Framework$8.callBaseMethod(this, 'set_state',[$p0]);this.$32($p0);return $p0;},get_domElement:function(){return Kepler.Framework.UI.CustomSelection.Selectables.Framework$8.callBaseMethod(this, 'get_domElement');},set_domElement:function($p0){Kepler.Framework.UI.CustomSelection.Selectables.Framework$8.callBaseMethod(this, 'set_domElement',[$p0]);this.$30();return $p0;},get_isSelCollapsible:function(){if(this.$2D){return false;}else{return Kepler.Framework.UI.CustomSelection.Selectables.Framework$8.callBaseMethod(this, 'get_isSelCollapsible');}},$30:function(){this.$2F=Kepler.Engine.UI.Helper.HtmlCssHelper.getFirstChildElementByName(this.get_domElement(),'border');this.$31();this.$32(this.get_state());this.initCitations();var $0=Type.safeCast(this.get_domElement().getAttribute('selectallonfocus'),String);if(ss.isValue($0)){this.$2D=($0==='0')?false:true;}},$31:function(){this.$2A=this.get_domElement().getAttribute('DefaultCss');this.$2B=this.get_domElement().getAttribute('HoverCss');this.$2C=this.get_domElement().getAttribute('FocusCss');},$32:function($p0){if(ss.isValue(this.$2F)){var $0='';switch($p0){case 0:$0=this.$2A;break;case 1:$0=this.$2B;break;case 2:$0=this.$2C;break;}this.$2F.setAttribute('class',$0);}},onMouseOver:function($p0,$p1){if(!this.get_state()){this.set_state(1);}return Kepler.Framework.UI.CustomSelection.Selectables.Framework$8.callBaseMethod(this, 'onMouseOver',[$p0,$p1]);},onMouseOut:function($p0,$p1){if(this.get_state()===1){this.set_state(0);}return Kepler.Framework.UI.CustomSelection.Selectables.Framework$8.callBaseMethod(this, 'onMouseOut',[$p0,$p1]);},onSelRngIn:function($p0){if(!this.get_isSelCollapsible()){this.set_state(2);}for(var $0=0;$0<this.$2E.length;$0++){this.$2E[$0].show(true);}return Kepler.Framework.UI.CustomSelection.Selectables.Framework$8.callBaseMethod(this, 'onSelRngIn',[$p0]);},onSelRngOut:function($p0){if(!this.get_isSelCollapsible()){this.set_state(0);}for(var $0=0;$0<this.$2E.length;$0++){this.$2E[$0].show(false);}return Kepler.Framework.UI.CustomSelection.Selectables.Framework$8.callBaseMethod(this, 'onSelRngOut',[$p0]);},showSelection:function($p0){if(this.get_isSelCollapsible()){Kepler.Framework.UI.CustomSelection.Selectables.Framework$8.callBaseMethod(this, 'showSelection',[$p0]);}},expandSelection:function($p0,$p1){if(!$p1){if(!this.get_isSelCollapsible()){var $0=this.getRange();$p0.setStartFromCurPos($0.get_startCurPos());$p0.setEndFromCurPos($0.get_endCurPos());this.notifyController(4,this,$0.clone());}}},onCharInserted:function($p0){if(!this.get_isSelCollapsible()){this.$2D=false;this.set_state(0);}Kepler.Framework.UI.CustomSelection.Selectables.Framework$8.callBaseMethod(this, 'onCharInserted',[$p0]);},initCitations:function(){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.createTreeWalker(this.get_domElement(),1,ss.Delegate.create(this,this.$33),false);var $1=$0.nextNode();while($1!=null){$1=$0.nextNode();}},$33:function($p0){if($p0.id==='citation'){var $0=new Kepler.Framework.UI.CustomSelection.Selectables.Citation($p0,this);this.$2E.add($0);}return 1;},getShowHideTime:function(){return 0;},onCitationLButtonDown:function($p0,$p1){switch($p0.get_name()){case 'select':this.notifyController(4,this,this.getRange().clone());break;case 'menu':var $0=parseInt($p0.get_element().getAttribute('menuno'));var $1=Kepler.Engine.UI.Controls.Control.getAbsoluteFrameClientPoint($p0.get_element());$1.set_y($1.get_y()+$p0.get_element().offsetHeight);$1.set_x($1.get_x()-this.get_offsetRect().get_width());var $2={};$2['menuno']=$0;$2['point']=$1;this.notifyController(3,this,$2);break;}},onCitationMouseMove:function($p0,$p1){},onCitationLButtonUp:function($p0,$p1){},onCitationMouseDblClick:function($p0,$p1){},onCitationDragStart:function($p0,$p1){},onCitationDraging:function($p0,$p1){},onCitationDragStop:function($p0,$p1){}}
Kepler.Framework.UI.CustomSelection.Selectables.ClearOnClickTextElement=function(iLevel){this.$3E='';Kepler.Framework.UI.CustomSelection.Selectables.ClearOnClickTextElement.initializeBase(this,[iLevel]);this.$3F=false;this.$40=true;this.$43=-1;}
Kepler.Framework.UI.CustomSelection.Selectables.ClearOnClickTextElement.prototype={get_defaultText:function(){return this.$3E;},set_defaultText:function(value){this.$3E=value;return value;},$3F:false,$40:false,get_editedOnceRequired:function(){return this.$40;},set_editedOnceRequired:function(value){this.$40=value;return value;},get_$41:function(){if(!this.$40){if(!String.isNullOrEmpty(this.get_text())&&this.get_text()===this.get_defaultText()){return true;}else{return false;}}else if(this.$40&&!this.$3F){return true;}else{return false;}},get_$42:function(){if(!this.$40){if(String.isNullOrEmpty(this.get_text())){return true;}else{return false;}}else if(this.$40&&!this.$3F){return true;}else{return false;}},$43:0,get_clickedFontSize:function(){return this.$43;},set_clickedFontSize:function(value){this.$43=value;return value;},onSelRngIn:function(oRange){var $0=this.get_selRangeIn();var $1=Kepler.Framework.UI.CustomSelection.Selectables.ClearOnClickTextElement.callBaseMethod(this, 'onSelRngIn',[oRange]);if(!$0){if(this.get_$41()){var $2=this.getRange();this.applyTextUpdation($2.get_startCurPos(),$2.get_endCurPos(),'');this.notifyController(4,this,$2);}}return $1;},onDocLostFocus:function(oRng){var $0=Kepler.Framework.UI.CustomSelection.Selectables.ClearOnClickTextElement.callBaseMethod(this, 'onDocLostFocus',[oRng]);if(this.get_$42()){var $1=this.getRange();this.applyTextUpdation($1.get_startCurPos(),$1.get_endCurPos(),this.get_defaultText());}this.onSelRngOut(oRng);return $0;},insertString:function(oStartPos,oEndPos,str){var $0=Kepler.Framework.UI.CustomSelection.Selectables.ClearOnClickTextElement.callBaseMethod(this, 'insertString',[oStartPos,oEndPos,str]);if($0){this.$3F=true;if(this.$43!==-1){var $1=this.get_domElement().parentNode;$1.style.fontSize=this.$43+'px';var $2=this.get_charProp().cloneProperties();$2.setFontSize(this.$43);var $3=this.get_charPropCache().addProperty($2);this.set_charProp(this.get_charPropCache().getProperty($3));}}return $0;}}
Kepler.Framework.UI.CustomSelection.Selectables.HoverableText=function(iLevel,elmHoverable){Kepler.Framework.UI.CustomSelection.Selectables.HoverableText.initializeBase(this,[iLevel]);this.$43=elmHoverable;this.$46=0;this.$45=(Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt(elmHoverable,'actable',-1)!==-1);}
Kepler.Framework.UI.CustomSelection.Selectables.HoverableText.prototype={$43:null,get_$44:function(){return this.$43;},$45:false,$46:0,$47:function($p0,$p1,$p2){var $0=(this.get_state()!==$p0);if($0){var $1=this.get_state();this.set_state($p0);if(this.get_state()===1){this.$49($p1,$p2);}else if(this.get_state()===2){this.$4B($p1,$p2);}else if(!this.get_state()){if($1===1){this.$4A($p1,$p2);}else if($1===2){this.$4C($p1,$p2);}}return true;}return false;},$48:function($p0,$p1){var $0=this.$46!==$p0;if($0){var $1=this.$46;this.$46=$p0;if($1===1&&!this.$46){this.$4D($p1);}}return false;},onMouseOver:function(pt,oData){if(!this.get_state()){this.$47(1,pt,oData);}return Kepler.Framework.UI.CustomSelection.Selectables.HoverableText.callBaseMethod(this, 'onMouseOver',[pt,oData]);},onMouseOut:function(pt,oData){if(this.get_state()===1){this.$47(0,pt,oData);}return Kepler.Framework.UI.CustomSelection.Selectables.HoverableText.callBaseMethod(this, 'onMouseOut',[pt,oData]);},$49:function($p0,$p1){return false;},$4A:function($p0,$p1){if(this.$46===1){this.$48(2,$p1);}else{this.$48(0,$p1);}return false;},$4B:function($p0,$p1){return false;},$4C:function($p0,$p1){return false;},$4D:function($p0){var $0=$p0.args;if(this.$45){var $1=false;var $2='';if($0!=null){var $5=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttribute(this.$43,'ctrlrequired')!=null;var $6=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttribute(this.$43,'altrequired')!=null;var $7=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttribute(this.$43,'shftrequired')!=null;$1=($5===$0.get_ctrlKey()&&$6===$0.get_altKey()&&$7===$0.get_shiftKey());$2+=(($0.get_ctrlKey())?'Ctrl + ':'')+(($0.get_altKey())?'Alt + ':'')+(($0.get_shiftKey())?'Shft + ':'');}$2+="Clicked on Text: '"+this.getStringForRange(this.getRange())+"'";var $3=new Kepler.Framework.UI.CustomSelection.FrameActionData();var $4=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString(this.$43,'frametojump');$3.frameJumpInfo=(String.isNullOrEmpty($4))?'-1':$4;$3.bResult=$1&&(!!$3.frameJumpInfo.compareTo('-1'));$3._eType=1;$3.strActionString=$2;this.notifyController(2,this,$3);}return false;},onLButtonDown:function(ptClick,oData){this.$48(1,oData);return Kepler.Framework.UI.CustomSelection.Selectables.HoverableText.callBaseMethod(this, 'onLButtonDown',[ptClick,oData]);},onLButtonUp:function(ptClick,oData){if(this.$46===1){this.$48(0,oData);}return Kepler.Framework.UI.CustomSelection.Selectables.HoverableText.callBaseMethod(this, 'onLButtonUp',[ptClick,oData]);}}
Kepler.Framework.UI.CustomSelection.Selectables.TextElement=function(iLevel){this.$2A='';this.$2C=-1;Kepler.Framework.UI.CustomSelection.Selectables.TextElement.initializeBase(this,[iLevel,0]);}
Kepler.Framework.UI.CustomSelection.Selectables.TextElement.prototype={get_text:function(){var $0=this.$2A;if(this.get_hasOnlyNbsp()){$0='';}return $0;},set_text:function(value){if(!!this.$2A.compareTo(value,false)){this.$2A=value;this.get_domElement().textContent=this.$2A;if(this.$2A.length>0){this.$2B=false;}this.$2C=-1;}return value;},get_charCount:function(){var $0=this.$2A.length;if(this.get_hasOnlyNbsp()){$0=0;}else if(Kepler.Framework.UI.CustomSelection.Selectables.SelectableArea.isRevealFormatting&&this.get_isLastChild()&&this.$2A.charCodeAt($0-1)===182){$0-=1;}return $0;},get_wordCount:function(){var $0=this.get_text().replaceAll(' ',String.fromCharCode(160));var $1=$0.split(String.fromCharCode(160));return $1.length-1;},$2B:false,get_hasOnlyNbsp:function(){return this.$2B;},get_textWidth:function(){if(this.$2C===-1){this.$2C=this.calcTextWidth(0,this.get_text().length);}return this.$2C;},get_domElement:function(){return Kepler.Framework.UI.CustomSelection.Selectables.TextElement.callBaseMethod(this, 'get_domElement');},set_domElement:function(value){Kepler.Framework.UI.CustomSelection.Selectables.TextElement.callBaseMethod(this, 'set_domElement',[value]);this.$2A=value.textContent;if(this.$2A.length===1&&this.$2A===String.fromCharCode(160)){this.$2B=true;}return value;},get_height:function(){return this.get_charProp().getTextHeight();},get_topLeft:function(){return this.get_offsetRect().get_topLeft();},get_topRight:function(){return this.get_offsetRect().get_topRight();},updateHasOnlyNbspPro:function(){this.$2A=this.get_domElement().textContent;if(this.$2A.length===1&&this.$2A===String.fromCharCode(160)){this.$2B=true;}},getTotalCharCount:function(){return this.get_charCount();},getAbsoluteCharCount:function(){var $0=this.$2A.length;return (this.get_hasOnlyNbsp())?0:$0;},$2D:function($p0){return this.get_text().charAt($p0);},calcTextWidth:function(iStartIndex,iEndIndex){var $0=0;if(iEndIndex<iStartIndex){var $2=iEndIndex;iEndIndex=iStartIndex;iStartIndex=$2;}var $1=this.get_text().length;if(iStartIndex>=0&&iEndIndex<=$1){var $3=0;for(var $4=iStartIndex;$4<iEndIndex;$4++){$3+=this.get_charProp().getCharWidth(this.get_text().charAt($4),this.get_text());}$0=Math.floor($3);}return $0;},$2E:function($p0,$p1){var $0=0;var $1=($p0<=this.get_text().length)?$p0:0;var $2=$1;for(var $3=0;$3<$1;$3++){var $4=this.get_text().charAt($3);var $5=this.get_charProp().getCharWidth($4,this.get_text());if(($0+$5)>$p1){if(($0+$5/2)<$p1){$0+=$5;$2=$3+1;}else{$2=$3;}break;}$0+=$5;}return $2;},isZeroWidthNode:function(){var $0=(this.get_textWidth()>0)?false:true;if(!$0){var $1=this.get_text();var $2=$1.replaceAll(' ','');$2=$2.replaceAll('\t','');$0=(!$2.length)?true:false;}return $0;},isCurAfterParaMark:function(oCurPos){var $0=false;var $1=this.getAbsoluteCharCount();if($1>0&&this.get_isLastChild()&&oCurPos.get_chIndex()===$1&&this.get_text().charCodeAt($1-1)===182){$0=true;}return $0;},isCurBeforeParaMark:function(oCurPos){var $0=false;var $1=this.getAbsoluteCharCount();if($1>0&&this.get_isLastChild()&&oCurPos.get_chIndex()===$1-1&&this.get_text().charCodeAt($1-1)===182){$0=true;}return $0;},getOffset:function(iIndex){var $0=0;for(var $1=0;$1<iIndex;$1++){$0+=this.get_charProp().getCharWidth(this.$2D($1),this.get_text());}return Math.floor($0);},getOffsetFromCurPos:function(oPos){return this.getOffset(oPos.get_chIndex());},getCursorPosFrmPoint:function(ptOffset,oCurPos){oCurPos.set_chIndex(this.$2E(this.getAbsoluteCharCount(),ptOffset.get_x()));return oCurPos;},getBoundingClientRect:function(){return this.calcBoundingClientRect(this.get_domElement());},calcBoundingClientRect:function(eleTxt){var $0=new Kepler.Framework.UI.Rect(0,0,0,0);var $1=(ss.isValue(eleTxt)&&(eleTxt.nodeType===3))?eleTxt.parentNode:null;var $2=false;if(!this.get_text().length&&!this.get_hasOnlyNbsp()){this.set_text(String.fromCharCode(160));$2=true;}if(ss.isValue($1)&&this.$2F($1)){var $3=$1.ownerDocument.createRange(null);$3.setStart(eleTxt,0);$3.setEnd(eleTxt,(this.get_hasOnlyNbsp()&&this.hasOnlySpace())?1:this.get_text().length);var $4=$3.getBoundingClientRect();if(ss.isValue($4)){var $5=1;$0.set_left(Math.round($4.left/$5));$0.set_top(Math.round($4.top/$5));$0.set_width(Math.round(($4.right-$4.left)/$5));$0.set_height(Math.round(($4.bottom-$4.top)/$5));}}if($2){this.set_text('');}return $0;},$2F:function($p0){var $0=false;if($p0.id==='row'&&$p0.id==='para'&&$p0.id==='document'){return true;}var $1=$p0.parentNode;while(ss.isValue($1)){if($1.id==='row'||$1.id==='para'||$1.id==='document'){$0=true;break;}$1=$1.parentNode;}return $0;},getCursorRect:function(oPos,iLevel){var $0=this.get_offsetRect().clone();$0.set_left($0.get_left()+this.getOffset(oPos.get_docPos()[iLevel].get_chIndex()));$0.set_width(1);return $0;},setEndPos:function(oPos){Kepler.Framework.UI.CustomSelection.Selectables.TextElement.callBaseMethod(this, 'setEndPos',[oPos]);oPos.set_chIndex(this.get_text().length);},getSelectableString:function(oStartCurPos,oEndCurPos){var $0='';if(oStartCurPos!=null&&oEndCurPos!=null){$0=this.get_text().substr(oStartCurPos.get_chIndex(),oEndCurPos.get_chIndex()-oStartCurPos.get_chIndex());}else if(oStartCurPos!=null){$0=this.get_text().substr(oStartCurPos.get_chIndex(),this.get_text().length-oStartCurPos.get_chIndex());}else if(oEndCurPos!=null){$0=this.get_text().substr(0,oEndCurPos.get_chIndex());}else{$0=this.get_text();}if(Kepler.Framework.UI.CustomSelection.Selectables.SelectableArea.isRevealFormatting){$0=$0.replaceAll(String.fromCharCode(183),' ');$0=$0.replaceAll(String.fromCharCode(182),'');}else{$0=$0.replaceAll(String.fromCharCode(160),' ');}return $0;},getAttributedSelectedString:function(oStartPos,oEndPos){var $0='';var $1=this.get_domElement().parentNode;if(oStartPos==null){$0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($1,'attr_prefix');}$0+=this.getSelectableString(oStartPos,oEndPos);if(oEndPos==null){$0+=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($1,'attr_suffix');}return $0;},parseChild:function(){},removeChar:function(iStartIndex,iEndIndex){this.set_text(this.get_text().remove(iStartIndex,iEndIndex-iStartIndex));},cutStringUpToEnd:function(oStart){var $0=this.get_text();if(ss.isValue(oStart)&&!this.get_hasOnlyNbsp()){$0=$0.substr(oStart.get_chIndex());if(!(!oStart.get_chIndex()&&Object.getKeyCount(this.get_parent().get_children())===1&&(this.get_text()===' '||this.get_text()===String.fromCharCode(160)))){this.set_text(this.get_text().replaceAll($0,''));}}return $0;},handlePrintableKey:function(oStartPos,oEndPos,oActKey){var $0=this.get_parent();var $1=this.get_parent().get_parent();var $2=$1.get_parent();var $3=false;var $4=false;var $5=false;if(!oActKey.isForKeyPress){switch(oActKey.key){case 46:$4=this.$32(oStartPos,oEndPos);$5=true;break;case 8:$4=this.$35(oStartPos,oEndPos);$5=true;break;default:break;}}if(!$5){var $6;if(oActKey.ch===' '){$6=(Kepler.Framework.UI.CustomSelection.Selectables.SelectableArea.isRevealFormatting)?String.fromCharCode(183).charAt(0):String.fromCharCode(160).charAt(0);}else{$6=oActKey.ch;}$4=this.insertString(oStartPos,oEndPos,$6);if((Kepler.Framework.UI.CustomSelection.Selectables.MainDoc).isInstanceOfType($2)){$3=$2.get_selHandler().get_isWrappingEnabled();var $7=Object.getKeyCount($1.get_children());var $8=$0.get_children()[oStartPos.get_elIndex()];if($8!==this){return $8.handlePrintableKey(oStartPos,oEndPos,oActKey);}if($3&&$4){var $9=$1.get_parent();var $A=Object.getKeyCount($1.get_children());var $B=$1.get_children()[oStartPos.get_rowIndex()];var $C=$1.get_children()[oStartPos.get_rowIndex()-1];var $D=this.$31(oStartPos,oActKey);var $E=-1;if($D&&ss.isValue($C)){$E=$C.$36();}var $F=$B.$36()>$9.get_pageWidth();var $10=null;var $11='';if($F&&ss.isValue($C)){$10=$C.get_children()[Object.getKeyCount($C.get_children())-1];$11=$10.$3C($10.get_wordCount()-1);}if($F||$D){if($F){$1.wrapParaForwards($B.get_index());}else if($D&&ss.isValue($C)){$1.wrapParaBackwards($C.get_index());}$B=$1.get_children()[oStartPos.get_rowIndex()];$C=$1.get_children()[oStartPos.get_rowIndex()-1];var $12=this;if($12.isEmpty()){oStartPos.set_elIndex(0);oStartPos.set_chIndex(0);oEndPos.set_chIndex(oStartPos.get_chIndex());oEndPos.set_elPos(oStartPos.get_elPos());}else if(oStartPos.get_chIndex()===$12.get_charCount()&&$12.get_text().substr(oStartPos.get_chIndex()-1)===String.fromCharCode(160)&&Object.getKeyCount($1.get_children())>oStartPos.get_rowIndex()+1&&oStartPos.get_elIndex()===Object.getKeyCount($B.get_children())-1){oStartPos.set_rowIndex(oStartPos.get_rowIndex()+1);oStartPos.set_elIndex(0);oStartPos.set_chIndex(0);oEndPos.set_rowIndex(oStartPos.get_rowIndex());oEndPos.set_chIndex(0);oEndPos.set_elPos(oStartPos.get_elPos());}else if(oStartPos.get_chIndex()>$12.get_charCount()&&Object.getKeyCount($1.get_children())>oStartPos.get_rowIndex()+1){oStartPos.set_rowIndex(oStartPos.get_rowIndex()+1);oStartPos.set_elIndex(0);oStartPos.set_chIndex(oStartPos.get_chIndex()-$12.get_charCount());oEndPos.set_rowIndex(oStartPos.get_rowIndex());oEndPos.set_chIndex(oStartPos.get_chIndex());oEndPos.set_elPos(oStartPos.get_elPos());}if($E!==-1&&$C.$36()>$E){oStartPos.set_chIndex(oEndPos.set_chIndex(0));}if($7!==Object.getKeyCount($1.get_children())){$2.set_isForceRecal(true);}var $13=new Kepler.Framework.UI.CustomSelection.SelRange();$13.setStartFromCurPos(oStartPos);$13.setEndFromCurPos(oEndPos);this.notifyController(6,this,$13);$2.set_isForceRecal(false);}}else if($3){var $14=this.get_parent();if($1.get_isBackwardWrappingPerformed()||$2.get_isForceRecal()){$1.set_isUpdateChildRects(true);if($7!==Object.getKeyCount($1.get_children())){$2.set_isForceRecal(true);}var $15=new Kepler.Framework.UI.CustomSelection.SelRange();$15.setStartFromCurPos(oStartPos);$15.setEndFromCurPos(oEndPos);this.removeEmptyElementFromRow(this.get_parent());this.notifyController(6,this,$15);$1.set_isBackwardWrappingPerformed(false);$1.set_isUpdateChildRects(false);$2.set_isForceRecal(false);}}}}if($4){this.$1F(oActKey);}return $4;},removeEmptyElementFromRow:function(oRow){},applyTransitionToHighlightElm:function(oStartPos,oEndPos){return false;},mergeIntoPrevTextElem:function(oStartPos,oEndPos){var $0=this.get_parent();var $1=$0.get_children()[this.get_index()-1];var $2=false;if(ss.isValue($1)){var $3=this.get_index();var $4=$1.get_text().length;$3=$0.mergeTwoElements($1,this);if(oStartPos.get_elIndex()-this.get_index()===1){oStartPos.set_elIndex(oStartPos.get_elIndex()-1);}else if(oStartPos.get_elIndex()===this.get_index()){oStartPos.set_chIndex(oStartPos.get_chIndex()+$4);oStartPos.set_elIndex($3);}oEndPos.set_chIndex(oStartPos.get_chIndex());oEndPos.set_elIndex(oStartPos.get_elIndex());$2=true;}return $2;},removeEmptyTextElm:function(){if(this.isEmpty()){var $0=this.get_parent();var $1=Object.getKeyCount($0.get_children());for(var $4=this.get_index();$4<$1;$4++){$0.get_children()[$4]=$0.get_children()[$4+1];if(ss.isValue($0.get_children()[$4])){$0.get_children()[$4].set_index($4);}}delete $0.get_children()[$1-1];var $2=this.get_domElement();var $3=$2.parentNode;if(ss.isValue($3)){while($3.tagName!=='FONT'){$2=$2.parentNode;$3=$2.parentNode;}$3.removeChild($2);}}},$30:function($p0){var $0=this.get_parent();if($p0.get_chIndex()===this.get_text().length){if($p0.get_elIndex()===Object.getKeyCount($0.get_children())-1){$p0.set_rowIndex($p0.get_rowIndex()+1);$p0.set_chIndex(0);}else{$p0.set_elIndex($p0.get_elIndex()+1);$p0.set_chIndex(0);}}},$31:function($p0,$p1){var $0=false;if($p1.ch===' '){if(this.$3C(0)===this.get_text().substr(0,$p0.get_chIndex()-1)){$0=true;}}return $0;},$32:function($p0,$p1){var $0=true;if($0){return this.$34($p0,$p1);}else{return this.$33($p0,$p1);}},$33:function($p0,$p1){var $0=true;var $1=$p0.get_chIndex();var $2=$p1.get_chIndex();if($p0.isEqual($p1)){if($1<this.get_text().length){this.removeChar($1,$1+1);}else{$0=false;}}else{this.removeChar($1,$2);}$p1.set_chIndex($1);this.$20(this,this);return $0;},$34:function($p0,$p1){var $0=true;var $1=$p0.get_chIndex();var $2=$p1.get_chIndex();var $3=$p0.get_elIndex();var $4=false;if($p0.isEqual($p1)){var $5=this.get_parent();var $6=$5.get_children()[$3];var $7=($3===Object.getKeyCount($5.get_children())-1);var $8=false;if($7){$8=(($1===$6.get_text().length)||($1===$6.get_text().length-1&&($6.get_text().charCodeAt($6.get_text().length-1)===32||$6.get_text().charCodeAt($6.get_text().length-1)===160)));}if(!$7||!$8){if($1<$6.get_text().length){$6.removeChar($1,$1+1);}else{$6=$5.get_children()[$3+1];var $A=0;if($6.applyTransitionToHighlightElm($p0,$p1)){$3=$p0.get_elIndex();$6=$5.get_children()[$3];$A=$p0.get_chIndex();}$6.removeChar($A,$A+1);if($6.isEmpty()){$6.removeEmptyTextElm();}}var $9=this.get_parent().get_parent();if($5.isWrapFromNextRowPossible($9.getNextRowFromList($5))){$9.wrapParaBackwards($5.get_index());$4=true;}}else{this.$3B($p0,$p1);return $0;}}else{this.removeChar($1,$2);}if(!$4){$p1.set_chIndex($1);}return $0;},$35:function($p0,$p1){var $0=true;if($0){return this.$37($p0,$p1);}else{return this.$36($p0,$p1);}},$36:function($p0,$p1){var $0=true;var $1=$p0.get_chIndex();var $2=$p1.get_chIndex();if($p0.isEqual($p1)){if($1>0){this.removeChar($1-1,$1);$1-=1;}else{$0=false;}}else{this.removeChar($1,$2);}$p0.set_chIndex($p1.set_chIndex($1));this.$20(this,this);return $0;},$37:function($p0,$p1){var $0=true;var $1=$p0.get_chIndex();var $2=$p0.get_elIndex();var $3=$p1.get_chIndex();var $4=this.get_parent();if($p0.isEqual($p1)){if($1>0){this.removeChar($1-1,$1);$1-=1;var $5=this.get_parent().get_parent();if($4.isWrapFromNextRowPossible($5.getNextRowFromList($4))){$5.wrapParaBackwards(this.get_parent().get_index());}if(this.isEmpty()&&$2>0){$2--;$p0.set_elIndex($p1.set_elIndex($2));$1=($4.get_children()[$2]).get_text().length;}}else{if($2>0){this.$38($p0,$p1);}else{this.$39($p0,$p1);}return $0;}}else{this.removeChar($1,$3);}$p0.set_chIndex($p1.set_chIndex($1));this.$20(this,this);return $0;},$38:function($p0,$p1){var $0=(this.get_parent()).get_children()[$p0.get_elIndex()-1];if(ss.isValue($0)){$0.removeChar($0.get_charCount()-1,$0.get_charCount());var $1=this.get_parent();$0.applyTransitionToHighlightElm($p0,$p1);$0=(this.get_parent()).get_children()[$p0.get_elIndex()-1];var $2=$1.mergeTwoElements($0,this);$p0.set_chIndex($1.get_children()[$2].get_totalCharCount()-(this.get_charCount()-$p0.get_chIndex()));$p0.set_elIndex($2);$p1.set_chIndex($1.get_children()[$2].get_totalCharCount()-(this.get_charCount()-$p1.get_chIndex()));$p1.set_elIndex($2);}},$39:function($p0,$p1){var $0=(this.get_parent()).$32();var $1=false;if(ss.isNull($0)){$0=(this.get_parent()).$33();$1=true;}if(ss.isValue($0)){if($1){(this.get_parent().get_parent().get_parent()).set_isForceRecal(true);var $2=$0.get_children()[Object.getKeyCount($0.get_children())-1];var $3=$2.get_charCount();var $4=$0.get_children()[Object.getKeyCount($0.get_children())-2];var $5=-1;if(ss.isValue($4)){$5=$4.get_charCount();}var $6=this.get_parent().get_parent().get_parent();var $7=$0.get_parent();var $8=this.get_parent().get_parent();var $9=Object.getKeyCount($7.get_children());$8.removePaddingClassFromFirstRow();$6.mergeTwoPara($7,$8);if(!$7.isParaEmpty()){$7.wrapParaBackwards($9-1);}if($2.isEmpty()){if($5!==-1){$p0.set_chIndex($p1.set_chIndex($5));$p0.set_elIndex($p1.set_elIndex($4.get_index()));$p0.set_rowIndex($p1.set_rowIndex($0.get_index()));$p0.set_paraIndex($p1.set_paraIndex($0.get_parent().get_index()));}else{$p0.set_chIndex($p1.set_chIndex(0));$p0.set_elIndex($p1.set_elIndex($2.get_index()));$p0.set_rowIndex($p1.set_rowIndex($0.get_index()));$p0.set_paraIndex($p1.set_paraIndex($0.get_parent().get_index()));}}else{$p0.set_chIndex($p1.set_chIndex($3));$p0.set_elIndex($p1.set_elIndex($2.get_index()));$p0.set_rowIndex($p1.set_rowIndex($0.get_index()));$p0.set_paraIndex($p1.set_paraIndex($0.get_parent().get_index()));}$6.setRangeRecalProperty();$8.set_isUpdateChildRects(true);}else{var $A=$0.get_children()[Object.getKeyCount($0.get_children())-1];var $B=this.get_parent().get_children()[0];var $C=$B.get_text().split(String.fromCharCode(160).charAt(0))[0];var $D=$A.get_text();this.$3A($0,this.get_parent(),$p0,$p1,false);}}},$3A:function($p0,$p1,$p2,$p3,$p4){var $0=$p0.get_parent();$0.set_isUpdateChildRects(true);var $1=$p0.get_children()[Object.getKeyCount($p0.get_children())-1];var $2=$p1.get_children()[0];var $3=$2.get_text();var $4=$1.get_text();var $5=$p2.get_chIndex();var $6=$p2.get_rowIndex();if($p4&&$5>=$4.length){$3=$3.substr(1,$3.length);$2.set_text($3);$0.wrapParaBackwards($p0.get_index());$2=$p1.get_children()[0];$1=$p0.get_children()[$1.get_index()];$5=$4.length;$6=$p0.get_index();if($5>$1.get_charCount()){$5-=$1.get_charCount();$6++;$p2.set_elIndex(0);}}else{$4=$4.substr(0,$4.length-1);$1.set_text($4);if(!$2.isEmpty()&&!$2.get_hasOnlyNbsp()){var $7=$1.get_index();$0.transferWord($2,$1,$p0,null,false);if($2.isEmpty()){$p1.removeEmptyTextElems(!$p1.get_index());}$0.wrapParaForwards($p0.get_index());if($1.isEmpty()){$5=$4.length;$p2.set_elIndex(0);}else{$1=$p0.get_children()[Object.getKeyCount($p0.get_children())-1];if($7===$1.get_index()){$5=$4.length;$6=$p0.get_index();$p2.set_elIndex($1.get_index());if($5>$1.get_charCount()){$5-=$1.get_charCount();$6++;$p2.set_elIndex(0);}}else{$p2.set_elIndex($1.get_index());$6=$p0.get_index();$5=0;}}}else{$0.wrapParaBackwards($p0.get_index());$4=$1.get_text();$5=$4.length;$6=$p0.get_index();$p2.set_elIndex($1.get_index());}}$p2.set_chIndex($5);$p2.set_rowIndex($6);$p2.set_paraIndex($p0.get_parent().get_index());$p3.set_chIndex($5);$p3.set_elIndex($p2.get_elIndex());$p3.set_rowIndex($6);$p3.set_paraIndex($p0.get_parent().get_index());},$3B:function($p0,$p1){var $0=(this.get_parent()).$34();var $1=false;if(ss.isNull($0)){$0=(this.get_parent()).$35();$1=true;}if(ss.isValue($0)){if($1){var $2=this.get_parent().get_totalCharCount();var $3=this.get_parent().get_parent().get_parent();var $4=$0.get_parent();var $5=this.get_parent().get_parent();var $6=Object.getKeyCount($5.get_children());$4.removePaddingClassFromFirstRow();$3.mergeTwoPara($5,$4);$5.wrapParaBackwards($6-1);if($5.isParaEmpty()&&Object.getKeyCount($5.get_children())===1){var $7=$5.get_children()[0];$7.setSpaceInEmptyRow();Object.clearKeys($7.get_children());$7.parseChild();}$p0.set_chIndex($2);$p0.set_rowIndex(this.get_parent().get_index());$p0.set_paraIndex(this.get_parent().get_parent().get_index());$p1.set_chIndex($2);$p1.set_rowIndex(this.get_parent().get_index());$p1.set_paraIndex(this.get_parent().get_parent().get_index());($3).setRangeRecalProperty();}else{this.$3A(this.get_parent(),$0,$p0,$p1,true);}}},insertString:function(oStartPos,oEndPos,str){return this.applyTextUpdation(oStartPos,oEndPos,str);},applyTextUpdation:function(oStartPos,oEndPos,str){var $0=oStartPos.get_chIndex();var $1=oEndPos.get_chIndex();if(!oStartPos.isEqual(oEndPos)){this.removeChar($0,$1);}var $2=this.get_text().insert($0,str);if(this.get_hasOnlyNbsp()&&$2===String.fromCharCode(160)){this.set_text(($2+$2));}else{this.set_text($2);}this.updatePMinHeight((String.isNullOrEmpty($2))?this.get_height():-1);oStartPos.set_chIndex(oEndPos.set_chIndex($0+str.length));this.$20(this,this);return true;},updatePMinHeight:function(iMinHeight){var $0=false;var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getParentElement('p','',this.get_domElement(),false);if(ss.isValue($1)){var $2=$1.style.minHeight;var $3=(String.isNullOrEmpty($2))?-1:parseInt($2,10);if(iMinHeight>$3){$1.style.minHeight=iMinHeight+'px';}else if(iMinHeight===-1&&$3!==-1){$1.style.minHeight='';}}return $0;},isWrapFromNextRowPossible:function(){var $0=false;var $1=(this.get_parent()).$34();var $2=this.get_parent().get_parent();var $3=$2.get_parent();if(ss.isValue($1)){var $4=($1).get_children()[0];var $5=$4.$3C(0);if($4.calcTextWidth(0,$5.length)<($3.get_pageWidth()-(this.get_parent()).$36())){$0=true;}}return $0;},isWrapToPrevRowPossible:function(oStartPos,oEndPos,bIsBackspace){var $0=false;var $1=(this.get_parent()).$32();var $2=this.get_parent().get_parent();var $3=$2.get_parent();if(ss.isValue($1)){var $4=(this.get_parent()).get_children()[0];var $5=$4.$3C(0);if($4.calcTextWidth(0,$5.length)<($3.get_pageWidth()-($1).$36())-4){oStartPos.set_rowIndex(oStartPos.get_rowIndex()-1)+1;oStartPos.set_chIndex(oStartPos.get_chIndex()+((bIsBackspace)?$1.get_totalCharCount()-1:$1.get_totalCharCount()));oEndPos.set_rowIndex(oEndPos.get_rowIndex()-1)+1;oEndPos.set_chIndex(oStartPos.get_chIndex());$0=true;}}return $0;},$3C:function($p0){var $0=null;var $1=this.get_text().replaceAll(' ',String.fromCharCode(160));var $2=$1.split(String.fromCharCode(160));$0=$2[$p0];return $0;},handleLeftKey:function(oHitTest){var $0=oHitTest.get_endPos();var $1=false;if(oHitTest.get_callFromParent()){if(oHitTest.get_ctrl()){var $2=Kepler.Framework.UI.CustomSelection.Selectables.SelectableArea.getSelectionGrpIndicesForString(this.get_text(),this.get_charCount(),true);if($2!=null){$0.set_chIndex($2.get_startIndex());$1=true;}}else{$0.set_chIndex((this.get_isLastChild()&&this.get_charCount()>0)?this.get_charCount()-1:this.get_charCount());$1=true;}}else if(oHitTest.get_ctrl()){var $3=Kepler.Framework.UI.CustomSelection.Selectables.SelectableArea.getSelectionGrpIndicesForString(this.get_text(),$0.get_chIndex(),true);if($3!=null){$0.set_chIndex($3.get_startIndex());$1=true;}}else if($0.get_chIndex()>1||($0.get_chIndex()===1&&this.$1E())){$0.set_chIndex($0.get_chIndex()-1);$1=true;}if($1){oHitTest.set_xOffset(this.getOffset($0.get_chIndex()));}return ($1)?true:this.get_parent().handleLeftKey(oHitTest);},handleRightKey:function(oHitTest){var $0=oHitTest.get_endPos();if(oHitTest.get_callFromParent()){var $1=0;if(!this.$1E()){if(this.get_charCount()>=1){$1=1;}else{oHitTest.set_callFromParent(false);return this.get_parent().handleRightKey(oHitTest);}}$0.set_chIndex($1);oHitTest.set_xOffset(this.getOffset($1));return true;}else{if(oHitTest.get_ctrl()){var $2=Kepler.Framework.UI.CustomSelection.Selectables.SelectableArea.getSelectionGrpIndicesForString(this.get_text(),$0.get_chIndex(),false);if($2!=null&&$2.get_endIndex()!==this.get_charCount()){$0.set_chIndex($2.get_endIndex());return true;}}else{var $3=(this.get_isLastChild()&&!Kepler.Framework.UI.CustomSelection.Selectables.SelectableArea.isRevealFormatting)?this.get_charCount()-1:this.get_charCount();if($0.get_chIndex()<$3){$0.set_chIndex($0.get_chIndex()+1);oHitTest.set_xOffset(this.getOffset($0.get_chIndex()));return true;}}return this.get_parent().handleRightKey(oHitTest);}},handleUpKey:function(oHitTest){var $0=oHitTest.get_endPos();if(oHitTest.get_callFromParent()){$0.set_chIndex(this.$2E(this.get_charCount(),oHitTest.get_xOffset()));return true;}else{oHitTest.set_xOffset(oHitTest.get_xOffset()+this.get_offsetRect().get_left());return this.get_parent().handleUpKey(oHitTest);}},handleDownKey:function(oHitTest){var $0=oHitTest.get_endPos();if(oHitTest.get_callFromParent()){$0.set_chIndex(this.$2E(this.get_charCount(),oHitTest.get_xOffset()));return true;}else{oHitTest.set_xOffset(oHitTest.get_xOffset()+this.get_offsetRect().get_left());return this.get_parent().handleDownKey(oHitTest);}},onMouseOver:function(pt,oData){var $0=this.get_parent().get_parent();$0.showHideHeaderBtn(true);return Kepler.Framework.UI.CustomSelection.Selectables.TextElement.callBaseMethod(this, 'onMouseOver',[pt,oData]);},removeLastWord:function(){var $0='';var $1=this.get_text();var $2=this.isLastCharSpace();$1=$1.replaceAll('&nbsp;',String.fromCharCode(160));$1=$1.replaceAll(' ',String.fromCharCode(160));$1=$1.trim();var $3=$1.split(String.fromCharCode(160));var $4=this.get_parent();var $5=$4.get_parent().get_parent();if($3.length>1||Object.getKeyCount($4.get_children())>1){$0=$3[$3.length-1];var $6=this.get_text().lastIndexOf($0);$1=this.get_text().substring(0,$6);this.set_text($1);if($2){$0+=String.fromCharCode(160);}}else{while($4.$36()>$5.get_pageWidth()){$0+=this.get_text().substr(this.get_text().length-1,this.get_text().length);this.set_text(this.get_text().substr(0,this.get_text().length-1));}}return $0;},removeFirstWord:function(){var $0='';this.set_text(this.get_text().replaceAll('&nbsp;',String.fromCharCode(160)));this.set_text(this.get_text().replaceAll(' ',String.fromCharCode(160)));var $1=this.isLastCharSpace();var $2=this.get_text();$2=$2.trim();var $3=$2.split(String.fromCharCode(160));$0=$3[0];var $4=this.get_text().indexOf($0);if($3.length>1||$1){$0+=String.fromCharCode(160);}$2=this.get_text().substring($0.length+$4,this.get_text().length);this.set_text($2);return $0;},getFirstWord:function(){var $0='';var $1=this.get_text();$1=$1.replaceAll('&nbsp;',String.fromCharCode(160));$1=$1.replaceAll(' ',String.fromCharCode(160));$1=$1.trim();var $2=$1.split(String.fromCharCode(160));$0=$2[0];if($2.length>1||this.isLastCharSpace()){$0+=String.fromCharCode(160);}return $0;},isLastCharSpace:function(){var $0=this.get_text().substr(this.get_text().length-1,this.get_text().length);return (this.get_hasOnlyNbsp()||$0===' '||$0===String.fromCharCode(160)||$0===String.fromCharCode(32));},isFirstCharSpace:function(){var $0=this.get_text().substr(0,1);return ($0===' '||$0===String.fromCharCode(160)||$0===String.fromCharCode(32));},hasSameCharProperties:function(oTextElem){return this.get_charProp().isEqual(oTextElem.get_charProp());},hasSameFontCharProperties:function(oTextElem){return this.get_charProp().isFontPropertiesEqual(oTextElem.get_charProp());},hasOnlySpace:function(){var $0=this.get_domElement().textContent;return $0===' '||$0===String.fromCharCode(160)||$0===String.fromCharCode(32);},onlyContainesOneWord:function(){var $0=this.get_text();$0=$0.replaceAll('&nbsp;',String.fromCharCode(160));$0=$0.replaceAll(' ',String.fromCharCode(160));$0=$0.trim();var $1=$0.split(String.fromCharCode(160));return $1.length===1;},isEmpty:function(){return !this.get_domElement().textContent;},mergeToPrevTextElement:function(){var $0=this.get_parent();var $1=$0.get_children()[this.get_index()-1];if(!this.isEmpty()){if(ss.isValue($1)){$1.set_text($1.get_text()+this.get_text());}}this.get_domElement().parentNode.parentNode.removeChild(this.get_domElement().parentNode);Object.clearKeys($0.get_children());$0.parseChild();},$3D:function(){var $0=this.get_parent();var $1=Object.getKeyCount($0.get_children());for(var $2=this.get_index();$2<$1;$2++){$0.get_children()[$2]=$0.get_children()[$2+1];if(ss.isValue($0.get_children()[$2])){$0.get_children()[$2].set_index($2);}}delete $0.get_children()[$1];this.get_domElement().parentNode.removeChild(this.get_domElement());}}
Kepler.Framework.UI.CustomSelection.Selectables.Framework$F=function(iLevel,elmHoverable){Kepler.Framework.UI.CustomSelection.Selectables.Framework$F.initializeBase(this,[iLevel,elmHoverable]);this.$50(elmHoverable);}
Kepler.Framework.UI.CustomSelection.Selectables.Framework$F.prototype={$4F:null,$50:function($p0){var $0=false;var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementsByName($p0,'hoverabletooltip');if(ss.isValue($1)){this.$4F=$1;}return $0;},$51:function($p0,$p1){if(ss.isValue($p0)){for(var $0=0;$0<this.$4F.length;$0++){if($p1){this.$52(this.$4F[$0]);}else{this.$53(this.$4F[$0]);}}return true;}return false;},$52:function($p0){$p0.style.visibility='visible';},$53:function($p0){$p0.style.visibility='hidden';},$49:function($p0,$p1){Kepler.Framework.UI.CustomSelection.Selectables.Framework$F.callBaseMethod(this, '$49',[$p0,$p1]);this.$51(this.$4F,true);return false;},$4A:function($p0,$p1){Kepler.Framework.UI.CustomSelection.Selectables.Framework$F.callBaseMethod(this, '$4A',[$p0,$p1]);this.$51(this.$4F,false);return false;},onLButtonDown:function($p0,$p1){return Kepler.Framework.UI.CustomSelection.Selectables.Framework$F.callBaseMethod(this, 'onLButtonDown',[$p0,$p1]);},onLButtonUp:function($p0,$p1){return Kepler.Framework.UI.CustomSelection.Selectables.Framework$F.callBaseMethod(this, 'onLButtonUp',[$p0,$p1]);}}
Kepler.Framework.UI.CustomSelection.Selectables.Framework$C=function(iLevel,elmUpdateProvider){Kepler.Framework.UI.CustomSelection.Selectables.Framework$C.initializeBase(this,[iLevel]);this.$3F=elmUpdateProvider;}
Kepler.Framework.UI.CustomSelection.Selectables.Framework$C.prototype={$3F:null,get_$40:function(){return this.$3F;},extractAttributeFromSelectables:function($p0,$p1,$p2){$p2.add(Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString(this.$3F,$p1));return true;}}
Type.registerNamespace('Kepler.Framework.UI');Kepler.Framework.UI.ShowHideProperty=function(){};Kepler.Framework.UI.ShowHideProperty.prototype = {visibility:0,display:1}
Kepler.Framework.UI.ShowHideProperty.registerEnum('Kepler.Framework.UI.ShowHideProperty',false);Kepler.Framework.UI.HAlignment=function(){};Kepler.Framework.UI.HAlignment.prototype = {none:-2,invalid:-1,left:0,right:1,center:2,justify:3}
Kepler.Framework.UI.HAlignment.registerEnum('Kepler.Framework.UI.HAlignment',false);Kepler.Framework.UI.HorzAlignment=function(){};Kepler.Framework.UI.HorzAlignment.prototype = {left:0,center:1,right:2}
Kepler.Framework.UI.HorzAlignment.registerEnum('Kepler.Framework.UI.HorzAlignment',false);Kepler.Framework.UI.VertAlignment=function(){};Kepler.Framework.UI.VertAlignment.prototype = {top:0,middle:1,bottom:2}
Kepler.Framework.UI.VertAlignment.registerEnum('Kepler.Framework.UI.VertAlignment',false);Kepler.Framework.UI.Layout=function(){};Kepler.Framework.UI.Layout.prototype = {topDown:0,downTop:1,leftRight:2,rightLeft:3}
Kepler.Framework.UI.Layout.registerEnum('Kepler.Framework.UI.Layout',false);Kepler.Framework.UI.IShowMeControl=function(){};Kepler.Framework.UI.IShowMeControl.registerInterface('Kepler.Framework.UI.IShowMeControl');Kepler.Framework.UI.ThemeType=function(){};Kepler.Framework.UI.ThemeType.prototype = {white:0,darkGray:1,colorful:2}
Kepler.Framework.UI.ThemeType.registerEnum('Kepler.Framework.UI.ThemeType',false);Kepler.Framework.UI.Point=function(iX,iY){this.$0=iX;this.$1=iY;}
Kepler.Framework.UI.Point.prototype={$0:0,get_x:function(){return this.$0;},set_x:function(value){this.$0=value;return value;},$1:0,get_y:function(){return this.$1;},set_y:function(value){this.$1=value;return value;},setZero:function(){this.$0=0;this.$1=0;},isZero:function(){if(!this.$0&&!this.$1){return true;}else{return false;}},copy:function(ptSrc){this.$0=ptSrc.$0;this.$1=ptSrc.$1;},clone:function(){return new Kepler.Framework.UI.Point(this.$0,this.$1);},toInt:function(){this.$0=Math.floor(this.$0);this.$1=Math.floor(this.$1);return this;},inflate:function(iLeft,iTop,iRight,iBottom){if(ss.isNullOrUndefined(iTop)){iTop=iLeft;}if(ss.isNullOrUndefined(iRight)){iRight=iLeft;}if(ss.isNullOrUndefined(iBottom)){iBottom=iTop;}return new Kepler.Framework.UI.Rect(this.$0-iLeft,this.$1-iTop,iLeft+iRight,iTop+iBottom);},toPointF:function(){return new Kepler.Framework.UI.PointF(this.$0,this.$1);},toString:function(){return '(X,Y) : ('+Math.round(this.$0)+', '+Math.round(this.$1)+')';},equals:function(p){var $0=false;if(this.$0===p.get_x()&&this.$1===p.get_y()){$0=true;}return $0;}}
Kepler.Framework.UI.PointF=function(dX,dY){this.$0=dX;this.$1=dY;}
Kepler.Framework.UI.PointF.prototype={$0:0,get_x:function(){return this.$0;},set_x:function(value){this.$0=value;return value;},$1:0,get_y:function(){return this.$1;},set_y:function(value){this.$1=value;return value;},toPoint:function(){return new Kepler.Framework.UI.Point(Math.round(this.$0),Math.round(this.$1));},inflate:function(dLeft,dTop,dRight,dBottom){if(ss.isNullOrUndefined(dTop)){dTop=dLeft;}if(ss.isNullOrUndefined(dRight)){dRight=dLeft;}if(ss.isNullOrUndefined(dBottom)){dBottom=dTop;}return new Kepler.Framework.UI.RectF(this.$0-dLeft,this.$1-dTop,dLeft+dRight,dTop+dBottom);},toString:function(){return 'X : '+this.$0+', Y : '+this.$1;}}
Kepler.Framework.UI.Size=function(iWidth,iHeight){this.$0=iWidth;this.$1=iHeight;}
Kepler.Framework.UI.Size.prototype={$0:0,get_width:function(){return this.$0;},set_width:function(value){this.$0=value;return value;},$1:0,get_height:function(){return this.$1;},set_height:function(value){this.$1=value;return value;},toString:function(){return 'Width : '+this.$0+' Height : '+this.$1;},equals:function(szToBeCompareWith){if(this.$0===szToBeCompareWith.$0&&this.$1===szToBeCompareWith.$1){return true;}return false;},toSizeF:function(){return new Kepler.Framework.UI.SizeF(this.$0,this.$1);},clone:function(){return new Kepler.Framework.UI.Size(this.$0,this.$1);}}
Kepler.Framework.UI.SizeF=function(dWidth,dHeight){this.$0=dWidth;this.$1=dHeight;}
Kepler.Framework.UI.SizeF.prototype={$0:0,get_width:function(){return this.$0;},set_width:function(value){this.$0=value;return value;},$1:0,get_height:function(){return this.$1;},set_height:function(value){this.$1=value;return value;},toString:function(){return 'Width : '+this.$0+' Height : '+this.$1;},equals:function(szToBeCompareWith){if(this.$0===szToBeCompareWith.$0&&this.$1===szToBeCompareWith.$1){return true;}return false;},toSize:function(){return new Kepler.Framework.UI.Size(Math.round(this.$0),Math.round(this.$1));}}
Kepler.Framework.UI.Rect=function(iLeft,iTop,iWidth,iHeight){this.$0=iLeft;this.$1=iTop;this.$2=iWidth;this.$3=iHeight;}
Kepler.Framework.UI.Rect.cloneRectList=function(arrRect){if(arrRect==null){return null;}var $0=[];var $1=arrRect.length;for(var $2=0;$2<$1;++$2){var $3=new Kepler.Framework.UI.Rect(0,0,0,0);$3.copy(arrRect[$2]);$0.add($3);}return $0;}
Kepler.Framework.UI.Rect.getIntersectionRect=function(rcA,rcB){var $0=(rcA.get_left()>rcB.get_left())?rcA.get_left():rcB.get_left();var $1=(rcA.get_top()>rcB.get_top())?rcA.get_top():rcB.get_top();var $2=(rcA.get_right()<rcB.get_right())?rcA.get_right():rcB.get_right();var $3=(rcA.get_bottom()<rcB.get_bottom())?rcA.get_bottom():rcB.get_bottom();return ($0<=$2&&$1<=$3)?new Kepler.Framework.UI.Rect($0,$1,$2-$0,$3-$1):null;}
Kepler.Framework.UI.Rect.prototype={$0:0,get_left:function(){return this.$0;},set_left:function(value){this.$0=value;return value;},$1:0,get_top:function(){return this.$1;},set_top:function(value){this.$1=value;return value;},get_topLeft:function(){return new Kepler.Framework.UI.Point(this.$0,this.$1);},set_topLeft:function(value){this.$0=value.get_x();this.$1=value.get_y();return value;},get_topRight:function(){return new Kepler.Framework.UI.Point(this.$0+this.$2,this.$1);},get_bottomLeft:function(){return new Kepler.Framework.UI.Point(this.$0,this.$1+this.$3);},get_bottomRight:function(){return new Kepler.Framework.UI.Point(this.$0+this.$2,this.$1+this.$3);},set_bottomRight:function(value){this.$2=value.get_x()-this.$0;this.$3=value.get_y()-this.$1;return value;},get_centerPoint:function(){return new Kepler.Framework.UI.Point(this.$0+(this.$2/2),this.$1+(this.$3/2));},$2:0,get_width:function(){return this.$2;},set_width:function(value){this.$2=value;return value;},$3:0,get_height:function(){return this.$3;},set_height:function(value){this.$3=value;return value;},get_right:function(){return this.$0+this.$2;},set_right:function(value){this.$2=value-this.$0;return value;},get_bottom:function(){return this.$1+this.$3;},set_bottom:function(value){this.$3=value-this.$1;return value;},get_isZero:function(){if(!this.$1&&!this.$0&&!this.$2&&!this.$3){return true;}else{return false;}},get_isZeroSize:function(){if(!this.$2&&!this.$3){return true;}else{return false;}},get_size:function(){return new Kepler.Framework.UI.Size(this.$2,this.$3);},set_size:function(value){this.$2=value.get_width();this.$3=value.get_height();return value;},copy:function(rcSrc){if(ss.isValue(rcSrc)){this.$0=rcSrc.get_left();this.$1=rcSrc.get_top();this.$2=rcSrc.get_width();this.$3=rcSrc.get_height();}},clone:function(){return new Kepler.Framework.UI.Rect(this.$0,this.$1,this.$2,this.$3);},isPtInRect:function(fXpt,fYpt,bConsiderBorder){if(!ss.isValue(bConsiderBorder)){bConsiderBorder=true;}var $0=this.$0+this.$2;var $1=this.$1+this.$3;if((bConsiderBorder&&(fXpt>=this.$0)&&(fXpt<=$0)&&(fYpt>=this.$1)&&(fYpt<=$1))||((!bConsiderBorder)&&(fXpt>this.$0)&&(fXpt<$0)&&(fYpt>this.$1)&&(fYpt<$1))){return true;}else{return false;}},isRectInRect:function(rcRect){var $0=false;if(rcRect.get_left()>=this.$0&&rcRect.get_top()>=this.$1){if((rcRect.get_left()+rcRect.get_width())<=(this.$0+this.$2)&&(rcRect.get_top()+rcRect.get_height())<=(this.$1+this.$3)){$0=true;}}return $0;},isRectIntersects:function(rect){if((rect.get_topLeft().get_x()<this.get_left()&&rect.get_topRight().get_x()<this.get_left())||(rect.get_topLeft().get_x()>this.get_topRight().get_x()&&rect.get_topRight().get_x()>this.get_topRight().get_x())||(rect.get_topLeft().get_y()<this.get_top()&&rect.get_bottomLeft().get_y()<this.get_top())||(rect.get_topLeft().get_y()>this.get_bottomLeft().get_y()&&rect.get_bottomLeft().get_y()>this.get_bottomLeft().get_y())){return false;}else{return true;}},isRectsIntersects:function(arrRect){var $0=arrRect.length;for(var $1=0;$1<$0;$1++){var $2=arrRect[$1];if(!this.isRectIntersects($2)){continue;}else{return true;}}return false;},inflateRect:function(iValue){this.$0-=iValue;this.$1-=iValue;this.$2+=2*iValue;this.$3+=2*iValue;},deflateRect:function(iValue){this.$0+=iValue;this.$1+=iValue;this.$2-=2*iValue;this.$3-=2*iValue;},equals:function(rcToBeCompareWith){if(this.$1===rcToBeCompareWith.$1&&this.$0===rcToBeCompareWith.$0&&this.$2===rcToBeCompareWith.$2&&this.$3===rcToBeCompareWith.$3){return true;}return false;},toString:function(){return '(x1,y1,x2,y2):('+Math.round(this.$0)+','+Math.round(this.$1)+','+Math.round((this.$0+this.$2))+','+Math.round((this.$1+this.$3))+'), (w,h):'+Math.round(this.$2)+','+Math.round(this.$3);},initFromTwoPoints:function(ptStart,ptEnd){if(ptStart.get_x()<ptEnd.get_x()){this.$0=ptStart.get_x();this.$2=ptEnd.get_x()-ptStart.get_x();}else{this.$0=ptEnd.get_x();this.$2=ptStart.get_x()-ptEnd.get_x();}if(ptStart.get_y()<ptEnd.get_y()){this.$1=ptStart.get_y();this.$3=ptEnd.get_y()-ptStart.get_y();}else{this.$1=ptEnd.get_y();this.$3=ptStart.get_y()-ptEnd.get_y();}},toArray:function(){return [this.$0,this.$1,this.$2,this.$3];}}
Kepler.Framework.UI.RectF=function(dLeft,dTop,dWidth,dHeight){this.$0=dLeft;this.$1=dTop;this.$2=dWidth;this.$3=dHeight;}
Kepler.Framework.UI.RectF.prototype={$0:0,get_left:function(){return this.$0;},set_left:function(value){this.$0=value;return value;},$1:0,get_top:function(){return this.$1;},set_top:function(value){this.$1=value;return value;},$2:0,get_width:function(){return this.$2;},set_width:function(value){this.$2=value;return value;},$3:0,get_height:function(){return this.$3;},set_height:function(value){this.$3=value;return value;},get_right:function(){return this.$0+this.$2;},set_right:function(value){this.$2=value-this.$0;return value;},get_bottom:function(){return this.$1+this.$3;},set_bottom:function(value){this.$3=value-this.$1;return value;},get_topLeft:function(){return new Kepler.Framework.UI.PointF(this.$0,this.$1);},get_topRight:function(){return new Kepler.Framework.UI.PointF(this.$0+this.$2,this.$1);},get_bottomLeft:function(){return new Kepler.Framework.UI.PointF(this.$0,this.$1+this.$3);},get_bottomRight:function(){return new Kepler.Framework.UI.PointF(this.$0+this.$2,this.$1+this.$3);},get_size:function(){return new Kepler.Framework.UI.SizeF(this.$2,this.$3);},get_centerPoint:function(){return new Kepler.Framework.UI.PointF(this.$0+(this.$2/2),this.$1+(this.$3/2));},inflateRect:function(dValue){this.$0-=dValue;this.$1-=dValue;this.$2+=2*dValue;this.$3+=2*dValue;},deflateRect:function(dValue){this.$0+=dValue;this.$1+=dValue;this.$2-=2*dValue;this.$3-=2*dValue;},isPtInRect:function(fXpt,fYpt){var $0=this.$0+this.$2;var $1=this.$1+this.$3;if((fXpt>=this.$0)&&(fXpt<=$0)&&(fYpt>=this.$1)&&(fYpt<=$1)){return true;}else{return false;}},clone:function(){return new Kepler.Framework.UI.RectF(this.$0,this.$1,this.$2,this.$3);},toRect:function(){return new Kepler.Framework.UI.Rect(Math.round(this.$0),Math.round(this.$1),Math.round(this.$2),Math.round(this.$3));},toString:function(){return 'Left:'+this.$0+',Top:'+this.$1+',Right:'+(this.$0+this.$2)+',Bottom:'+(this.$1+this.$3)+',Width:'+this.$2+',Height:'+this.$3;}}
Kepler.Framework.UI.Color=function(iRed,iGreen,iBlue,dAlpha){if(ss.isNullOrUndefined(dAlpha)){dAlpha=1;}this.iRed=iRed;this.iGreen=iGreen;this.iBlue=iBlue;this.dAlpha=dAlpha;}
Kepler.Framework.UI.Color.parse=function(strColor){var $0=new Kepler.Framework.UI.Color(0,0,0,1);if(ss.isValue(strColor)&&strColor.length>0){if(strColor.startsWith('#')){if(strColor.length===4){$0.iRed=parseInt(strColor.substr(1,1),16);$0.iGreen=parseInt(strColor.substr(2,1),16);$0.iBlue=parseInt(strColor.substr(3,1),16);}else if(strColor.length===7){$0.iRed=parseInt(strColor.substr(1,2),16);$0.iGreen=parseInt(strColor.substr(3,2),16);$0.iBlue=parseInt(strColor.substr(5,2),16);}}else{strColor=strColor.substring(strColor.indexOf('(')+1,strColor.length-1);var $1=strColor.split(',');if($1.length>=3){$0.iRed=parseInt($1[0].trim(),10);$0.iGreen=parseInt($1[1].trim(),10);$0.iBlue=parseInt($1[2].trim(),10);var $2=1;if($1.length>3){$2=parseFloat($1[3].trim());if(isNaN($2)){$2=1;}}$0.dAlpha=$2;}}}return $0;}
Kepler.Framework.UI.Color.prototype={iRed:0,iGreen:0,iBlue:0,dAlpha:0,toString:function(){if(this.dAlpha===1){return '#'+this.iRed.toString(16).padLeft(2,'0')+this.iGreen.toString(16).padLeft(2,'0')+this.iBlue.toString(16).padLeft(2,'0');}else{return 'rgba('+this.iRed+','+this.iGreen+','+this.iBlue+','+this.dAlpha+')';}},equals:function(oClr){var $0=false;if(this.iRed===oClr.iRed&&this.iGreen===oClr.iGreen&&this.iBlue===oClr.iBlue&&this.dAlpha===oClr.dAlpha){$0=true;}return $0;},clone:function(){return new Kepler.Framework.UI.Color(this.iRed,this.iGreen,this.iBlue,this.dAlpha);}}
Kepler.Framework.UI.Colors=function(){}
Kepler.Framework.UI.Font=function(){this.dSize=12;this.lstFamily=[];this.eStyle='normal';this.eWeight='normal';}
Kepler.Framework.UI.Font.prototype={eWeight:null,eStyle:null,dSize:0,lstFamily:null,toString:function(){var $0=this.eStyle+' '+this.eWeight+' '+this.dSize+'px ';if(this.lstFamily.length>0){$0+="'"+this.lstFamily[0]+"'";}for(var $1=1;$1<this.lstFamily.length;$1++){$0+=','+"'"+this.lstFamily[$1]+"'";}return $0;},clone:function(){var $0=new Kepler.Framework.UI.Font();$0.eWeight=this.eWeight;$0.eStyle=this.eStyle;$0.dSize=this.dSize;for(var $1=0;$1<this.lstFamily.length;$1++){$0.lstFamily[$1]=this.lstFamily[$1];}return $0;}}
Kepler.Framework.UI.Alignment=function(eHorz,eVert){this._eHorzAlign=eHorz;this._eVertAlign=eVert;}
Kepler.Framework.UI.Alignment.prototype={_eHorzAlign:0,_eVertAlign:0}
Kepler.Framework.UI.Cursors=function(){}
Kepler.Framework.UI.MetroUiButtonCssClass=function(){}
Kepler.Framework.UI.ElementZooming=function(){this.resetMembers();}
Kepler.Framework.UI.ElementZooming.prototype={_jQElem:null,_jQElemPos:null,_rcElem:null,_dZoom:0,_dZoomMin:0,_dZoomMax:0,_iZIndexOnZoom:0,resetMembers:function(){this._jQElem=null;this._jQElemPos=null;this._rcElem=new Kepler.Framework.UI.Rect(0,0,0,0);this._dZoom=1;this._dZoomMin=1;this._dZoomMax=2;this._iZIndexOnZoom=-1;},applyZoom:function(dZoomFactor,szDoc,rcElem){this._dZoom=dZoomFactor;if(!this._dZoom){if(ss.isNullOrUndefined(rcElem)){this._jQElemPos=this._jQElem.position();this._rcElem.set_left(this._jQElemPos.left);this._rcElem.set_top(this._jQElemPos.top);this._rcElem.set_width(this._jQElem.width());this._rcElem.set_height(this._jQElem.height());}else{this._rcElem.copy(rcElem);}this._jQElemPos=this._jQElem.offset();this._jQElem.css('border','2px solid black');this._jQElem.css('-webkit-transform-origin','');if(this._iZIndexOnZoom!==-1){this._jQElem.css('z-index',this._iZIndexOnZoom.toString());}}if(!!this._dZoom&&this._jQElem!=null){var $0=0;var $1=false;if(this._jQElemPos!=null){var $2=0;$0=this._rcElem.get_left();$2=((this._rcElem.get_width()+6)*this._dZoom);$0-=parseInt((($2-(this._rcElem.get_width()+6))/2));if($0+$2>szDoc.get_width()){$0=szDoc.get_width()-$2-10;$1=true;}if($0<0){$0=0;if($1){this.applyZoom(dZoomFactor-0.5,szDoc,rcElem);return;}else{$1=true;}}if(!!$1){$0=parseInt(((this._rcElem.get_left()-$0)/(this._dZoom-1)));}}this._jQElem.css('-webkit-transform','scale('+this._dZoom+')');if($1){this._jQElem.css('-webkit-transform-origin',$0.toString()+'px');}}},resetZoom:function(){if(this._jQElem!=null){this._jQElem.css('border','');this._jQElem.css('-moz-transform-origin','');this._jQElem.css('-webkit-transform-origin','');this._jQElem.css('-webkit-transform','');if(this._iZIndexOnZoom!==-1){this._jQElem.css('z-index','');}}}}
Kepler.Framework.UI.ThemeDetails=function(){this.$1={};this.$21=false;}
Kepler.Framework.UI.ThemeDetails.get_currentTheme=function(){return Kepler.Framework.UI.ThemeDetails.$0;}
Kepler.Framework.UI.ThemeDetails.set_currentTheme=function(value){Kepler.Framework.UI.ThemeDetails.$0.clone(value);return value;}
Kepler.Framework.UI.ThemeDetails.prototype={$2:null,get_colorNormal:function(){return this.$2;},set_colorNormal:function(value){this.$2=value;return value;},$3:null,get_colorNormalLight:function(){return this.$3;},set_colorNormalLight:function(value){this.$3=value;return value;},$4:null,get_colorNormalDark:function(){return this.$4;},set_colorNormalDark:function(value){this.$4=value;return value;},$5:null,get_colorHover:function(){return this.$5;},set_colorHover:function(value){this.$5=value;return value;},$6:null,get_colorPressed:function(){return this.$6;},set_colorPressed:function(value){this.$6=value;return value;},$7:null,get_colorChecked:function(){return this.$7;},set_colorChecked:function(value){this.$7=value;return value;},$8:null,get_colorCheckedHover:function(){return this.$8;},set_colorCheckedHover:function(value){this.$8=value;return value;},$9:null,get_colorCheckedBG:function(){return this.$9;},set_colorCheckedBG:function(value){this.$9=value;return value;},$A:null,get_colorBar:function(){return this.$A;},set_colorBar:function(value){this.$A=value;return value;},$B:null,get_colorBarText:function(){return this.$B;},set_colorBarText:function(value){this.$B=value;return value;},$C:null,get_colorTabAndHeader:function(){return this.$C;},set_colorTabAndHeader:function(value){this.$C=value;return value;},$D:null,get_colorFilePageText:function(){return this.$D;},set_colorFilePageText:function(value){this.$D=value;return value;},$E:'',get_colorFileTabHover:function(){return this.$E;},set_colorFileTabHover:function(value){this.$E=value;return value;},$F:null,get_colorView:function(){return this.$F;},set_colorView:function(value){this.$F=value;return value;},$10:null,get_colorViewNormalLight:function(){return this.$10;},set_colorViewNormalLight:function(value){this.$10=value;return value;},$11:null,get_colorViewNormalDark:function(){return this.$11;},set_colorViewNormalDark:function(value){this.$11=value;return value;},$12:null,get_colorViewHover:function(){return this.$12;},set_colorViewHover:function(value){this.$12=value;return value;},$13:null,get_colorViewPressed:function(){return this.$13;},set_colorViewPressed:function(value){this.$13=value;return value;},$14:null,get_colorViewChecked:function(){return this.$14;},set_colorViewChecked:function(value){this.$14=value;return value;},$15:null,get_colorViewCheckedHover:function(){return this.$15;},set_colorViewCheckedHover:function(value){this.$15=value;return value;},$16:null,get_colorViewPressedBorder:function(){return this.$16;},set_colorViewPressedBorder:function(value){this.$16=value;return value;},$17:null,get_colorStatusBar:function(){return this.$17;},set_colorStatusBar:function(value){this.$17=value;return value;},$18:null,get_colorStatusBarText:function(){return this.$18;},set_colorStatusBarText:function(value){this.$18=value;return value;},$19:null,get_colorStatusBarChecked:function(){return this.$19;},set_colorStatusBarChecked:function(value){this.$19=value;return value;},$1A:null,get_colorStatusBarHover:function(){return this.$1A;},set_colorStatusBarHover:function(value){this.$1A=value;return value;},$1B:null,get_colorStatusBarCheckedHover:function(){return this.$1B;},set_colorStatusBarCheckedHover:function(value){this.$1B=value;return value;},$1C:null,get_colorShareButtonNormal:function(){return this.$1C;},set_colorShareButtonNormal:function(value){this.$1C=value;return value;},$1D:null,get_colorShareButtonHover:function(){return this.$1D;},set_colorShareButtonHover:function(value){this.$1D=value;return value;},$1E:null,get_colorShareButtonPressed:function(){return this.$1E;},set_colorShareButtonPressed:function(value){this.$1E=value;return value;},$1F:null,get_colorShareButtonText:function(){return this.$1F;},set_colorShareButtonText:function(value){this.$1F=value;return value;},$20:null,get_colorShareButtonTextPressed:function(){return this.$20;},set_colorShareButtonTextPressed:function(value){this.$20=value;return value;},$21:false,get_isParsingDone:function(){return this.$21;},set_isParsingDone:function(value){this.$21=value;return value;},$22:null,get_appName:function(){return this.$22;},set_appName:function(value){this.$22=value;return value;},$23:0,get_themeType:function(){return this.$23;},set_themeType:function(value){this.$23=value;return value;},$24:null,get_colorMenuItemCheckedStateBackground:function(){return this.$24;},set_colorMenuItemCheckedStateBackground:function(value){this.$24=value;return value;},$25:null,get_colorMenuItemCheckedStateBorder:function(){return this.$25;},set_colorMenuItemCheckedStateBorder:function(value){this.$25=value;return value;},clone:function(oThemeDetails){this.$7=oThemeDetails.get_colorChecked();this.$9=oThemeDetails.get_colorCheckedBG();this.$8=oThemeDetails.get_colorCheckedHover();this.$5=oThemeDetails.get_colorHover();this.$2=oThemeDetails.get_colorNormal();this.$4=oThemeDetails.get_colorNormalDark();this.$3=oThemeDetails.get_colorNormalLight();this.$6=oThemeDetails.get_colorPressed();this.$A=oThemeDetails.get_colorBar();this.$23=oThemeDetails.get_themeType();this.$B=oThemeDetails.get_colorBarText();this.$C=oThemeDetails.get_colorTabAndHeader();this.$14=oThemeDetails.get_colorViewChecked();this.$12=oThemeDetails.get_colorViewHover();this.$11=oThemeDetails.get_colorViewNormalDark();this.$10=oThemeDetails.get_colorViewNormalLight();this.$13=oThemeDetails.get_colorViewPressed();this.$15=oThemeDetails.get_colorViewCheckedHover();this.$16=oThemeDetails.get_colorViewPressedBorder();this.$1C=oThemeDetails.get_colorShareButtonNormal();this.$1D=oThemeDetails.get_colorShareButtonHover();this.$1E=oThemeDetails.get_colorShareButtonPressed();this.$1F=oThemeDetails.get_colorShareButtonText();this.$20=oThemeDetails.get_colorShareButtonTextPressed();this.$24=oThemeDetails.get_colorMenuItemCheckedStateBackground();this.$25=oThemeDetails.get_colorMenuItemCheckedStateBorder();this.$E=oThemeDetails.get_colorFileTabHover();this.$22=oThemeDetails.$22;this.$21=oThemeDetails.$21;}}
Type.registerNamespace('Kepler.Engine.UI');Kepler.Engine.UI.DialogType=function(){};Kepler.Engine.UI.DialogType.prototype = {modal:0,modeless:1}
Kepler.Engine.UI.DialogType.registerEnum('Kepler.Engine.UI.DialogType',false);Kepler.Engine.UI.DialogFrameState=function(){};Kepler.Engine.UI.DialogFrameState.prototype = {DEFAULT:0,MOVE:1,RESIZE:2}
Kepler.Engine.UI.DialogFrameState.registerEnum('Kepler.Engine.UI.DialogFrameState',false);Kepler.Engine.UI.BorderType=function(){};Kepler.Engine.UI.BorderType.prototype = {none:0,left:1,top:2,leftTop:3,right:4,topRight:6,bottom:8,leftBottom:9,bottomRight:12,all:15}
Kepler.Engine.UI.BorderType.registerEnum('Kepler.Engine.UI.BorderType',false);Kepler.Engine.UI.DialogFrameType=function(){};Kepler.Engine.UI.DialogFrameType.prototype = {normalDialog:0,paneDialog:1,wizardDialog:2,customDialog:3,metroAppDialog:4}
Kepler.Engine.UI.DialogFrameType.registerEnum('Kepler.Engine.UI.DialogFrameType',false);Kepler.Engine.UI.EScrollarButton=function(){};Kepler.Engine.UI.EScrollarButton.prototype = {upButton:0,downButton:1}
Kepler.Engine.UI.EScrollarButton.registerEnum('Kepler.Engine.UI.EScrollarButton',false);Kepler.Engine.UI.IUIManager=function(){};Kepler.Engine.UI.IUIManager.registerInterface('Kepler.Engine.UI.IUIManager');Kepler.Engine.UI.IVisualHint=function(){};Kepler.Engine.UI.IVisualHint.registerInterface('Kepler.Engine.UI.IVisualHint');Kepler.Engine.UI.ContainerPage=function(){Kepler.Engine.UI.ContainerPage.initializeBase(this,['div']);this.get_elementStyle().position='absolute';this.get_elementStyle().overflow='hidden';this.get_elementStyle().width='inherit';this.get_elementStyle().height='inherit';this.set_donotHandleFocusOnLButtonDown(true);this.set_doNotHandleAsAParent(true);}
Kepler.Engine.UI.ContainerPage.prototype={onLoad:function(){Kepler.Engine.UI.ContainerPage.callBaseMethod(this, 'onLoad');this.addEvents(2|256|128|8|4|4096|1024|32);}}
Kepler.Engine.UI.Dialog=function(strId,strName,typeDialogClient,bPaneDialog,oDialogFrameType,oDialogBaseFrame,strClassName){Kepler.Engine.UI.Dialog.initializeBase(this,[(ss.isValue(strClassName))?strClassName:(bPaneDialog)?'pane_dialog':'dialog',strId,strName,typeDialogClient]);Kepler.Engine.UI.Helper.HtmlCssHelper.addElementAttribute(this.get_element(),'name',(Kepler.Engine.UI.Dialog).get_name());this.set_position(new Kepler.Framework.UI.Point(1,1));this.$55=bPaneDialog;if(!oDialogFrameType){this.$54=new Kepler.Engine.UI.DialogFrame();this.set_defaultDialogType(0);}else if(oDialogFrameType===2){this.$54=new Kepler.Engine.UI.WizardDialogFrame();this.set_defaultDialogType(0);}else if(oDialogFrameType===1){this.$54=new Kepler.Engine.UI.PaneDialogFrame();this.set_dialogType(1);this.set_defaultDialogType(1);}else if(oDialogFrameType===4){this.$54=new Kepler.Engine.UI.MetroAppDialogFrame();this.set_defaultDialogType(0);}else{if(ss.isValue(oDialogBaseFrame)&&oDialogBaseFrame!=null){this.$54=oDialogBaseFrame;}else{this.$54=new Kepler.Engine.UI.DialogFrame();}}this._eDialogFrameType=oDialogFrameType;if(Kepler.Framework.Core.Browser.BrowserCapabilities.get_deviceType()===2){this.addCssClass('dialog_ipad_flicker_remover');}}
Kepler.Engine.UI.Dialog.prototype={$54:null,get_frame:function(){return this.$54;},$55:false,get_paneDialog:function(){return this.$55;},set_paneDialog:function(value){this.$55=value;return value;},processTabOnControl:function(keyEvent,oCtrl){return false;},setTitle:function(strTitle){if(!String.isNullOrEmpty(strTitle)){this.set_name(strTitle);(this.get_frame()).setTitle(strTitle);}},show:function(bShow){if(this.get_visible()!==bShow&&bShow){this.confirmDialogBoundsInView();}Kepler.Engine.UI.Dialog.callBaseMethod(this, 'show',[bShow]);},confirmDialogBoundsInView:function(){var $0=this.get_position();var $1=$0.clone();var $2=this.getDesktopViewRect();if($2!=null){if($0.get_x()<0){$1.set_x(0);}else if($0.get_x()+this.get_width()>$2.get_width()){var $3=($0.get_x()+this.get_width())-$2.get_width();$1.set_x($1.get_x()-$3);if($1.get_x()<0){$1.set_x(0);}}if($0.get_y()<0){$1.set_y(0);}else if(!!$0.get_y()&&$0.get_y()+this.get_height()>$2.get_height()){var $4=($0.get_y()+this.get_height())-$2.get_height();$1.set_y($1.get_y()-$4);if($1.get_y()<0){$1.set_y(0);}}if(!this._bIsHintHandled){this.set_position($1);}this._bIsHintHandled=false;}}}
Kepler.Engine.UI.DialogBase=function(strCssClassName,strId,strName,typeDialogClient){Kepler.Engine.UI.DialogBase.initializeBase(this,[strCssClassName,strId]);this.$41=strName;this.set_fireOnFocusOnChildElementClick(false);this.$42=new Kepler.Engine.UI.DialogContainer(this);this.$43=new typeDialogClient();this.$46=-1;this.$49=true;this.set_showHideProperty(1);this.$47=true;this._bIsShowScrollar=true;}
Kepler.Engine.UI.DialogBase.prototype={$41:null,get_name:function(){return this.$41;},set_name:function(value){if(this.$41!==value){this.$41=value;}return value;},$42:null,get_container:function(){return this.$42;},set_container:function(value){if(ss.isValue(value)){this.$42=value;}return value;},$43:null,get_client:function(){return this.$43;},$44:0,get_dialogType:function(){return this.$44;},set_dialogType:function(value){if(this.$44!==value){this.$44=value;this.show(this.get_visible());}return value;},$45:0,get_defaultDialogType:function(){return this.$45;},set_defaultDialogType:function(value){this.$45=value;return value;},$46:0,get_defaultButtonID:function(){return this.$46;},set_defaultButtonID:function(value){this.$46=value;return value;},get_size:function(){return Kepler.Engine.UI.DialogBase.callBaseMethod(this, 'get_size');},set_size:function(value){var $0=this.get_frame().get_frameBorder();value.set_height(value.get_height()+$0.get_bottom());value.set_width(value.get_width()+$0.get_left()+$0.get_right());if(this.$47){this.$48=value;this.$47=false;}Kepler.Engine.UI.DialogBase.callBaseMethod(this, 'set_size',[value]);return value;},$47:false,get_firstTime:function(){return this.$47;},set_firstTime:function(value){this.$47=value;return value;},$48:null,get_originalSize:function(){return this.$48;},$49:false,get_closeOnDefaultIncorrect:function(){return this.$49;},set_closeOnDefaultIncorrect:function(value){this.$49=value;return value;},$4A:true,get_isCancleBtnClicked:function(){return this.$4A;},set_isCancleBtnClicked:function(value){this.$4A=value;return value;},_bIsHintHandled:false,_bIsShowScrollar:false,$4B:null,$4C:null,_eDialogFrameType:0,get_dialogFrameType:function(){return this._eDialogFrameType;},_bHandleParentResize:true,_oExitGestureManager:null,get_exitGestureManager:function(){return this._oExitGestureManager;},set_exitGestureManager:function(value){this._oExitGestureManager=value;return value;},get_ariaSpeech:function(){return '';},set_ariaSpeech:function(value){Kepler.Engine.UI.DialogBase.callBaseMethod(this, 'set_ariaSpeech',[value]);return value;},onLoad:function(){Kepler.Engine.UI.DialogBase.callBaseMethod(this, 'onLoad');this.add(this.get_frame());this.add(this.$43);this.$4F();this.$4D();this.addEvents(2);this.attachMessage('control_msg_focus_changed',ss.Delegate.create(this,this.$51));this.attachMessage('control_msg_hint_scroll',ss.Delegate.create(this,this.$52));},$4D:function(){var $0=document.createElement('div');$0.style.top=(this.$43.get_originalSize().get_height()-2)+'px';$0.style.border='1px solid transparent';$0.style.position='absolute';this.$43.get_scrollableDiv().get_element().appendChild($0);},dontHandleParentResize:function(){this._bHandleParentResize=false;},allowHandleParentResize:function(){this._bHandleParentResize=true;},handleOnParentResize:function(szParent){if(!this._bHandleParentResize){return;}var $0=this.getDesktopViewRect();this.$42.get_positionAndSizeOverrideHandler().update($0.get_size(),false);var $1=this.get_position();this.get_frame().$4B($1);this.set_position($1);},onParentResized:function(szParent){this.handleOnParentResize(szParent);},onSize:function(){Kepler.Engine.UI.DialogBase.callBaseMethod(this, 'onSize');if(this.get_loaded()){this.$4F();}},$4E:function(){},$4F:function(){var $0=new Kepler.Framework.UI.Rect(0,0,0,0);$0.copy(this.get_frame().get_frameBorder());var $1=((this._eDialogFrameType!==4)?this.get_originalSize().get_width():this.get_width());var $2=((this._eDialogFrameType!==4)?this.get_originalSize().get_height():this.get_height());var $3=new Kepler.Framework.UI.Size($1-($0.get_left()+$0.get_right()),$2);$3.set_height($3.get_height()-this.get_frame().get_titleBarHeight()-$0.get_bottom());this.$43.set_originalSize($3);var $4=new Kepler.Framework.UI.Size(this.get_width(),this.get_height());this.get_frame().set_size($4);var $5=new Kepler.Framework.UI.Size($4.get_width()-($0.get_left()+$0.get_right()),$4.get_height());$5.set_height($5.get_height()-this.get_frame().get_titleBarHeight()-$0.get_bottom());this.$43.set_position(new Kepler.Framework.UI.Point($0.get_left(),$0.get_top()+this.get_frame().get_titleBarHeight()));this.$43.set_size($5);if(this._bIsShowScrollar){this.addScrollar();}},addScrollar:function(){var $0=this.$43.get_size();var $1=this.getDesktopViewRect();var $2=-1;var $3=-1;if(this.get_originalSize()!=null){$2=this.get_originalSize().get_height();$3=this.get_originalSize().get_width();}else{$2=this.get_size().get_height();$3=this.get_size().get_width();}if($1!=null&&$2>$1.get_height()){$0.set_height($1.get_height()-this.get_frame().get_titleBarHeight()-this.get_frame().get_frameBorder().get_bottom());this.set_height($1.get_height());this.$43.get_downButton().show(true);this.$43.get_upButton().set_width($0.get_width());this.$43.get_downButton().set_width($0.get_width());this.$43.get_downButton().set_top($0.get_height()-17);this.$43.set_isDialogResize(true);}else{if(this.get_height()<$2){this.set_height($2);}if(this.get_width()<$3){this.set_width($3);}this.$43.get_downButton().show(false);this.$43.set_isDialogResize(false);}if(document.body.contains(this.$43.get_scrollableDiv().get_element())){this.$43.get_scrollableDiv().get_element().scrollTop=0;}this.$43.get_upButton().show(false);this.$43.setTheme();},show:function(bShow){if(!this.$44){Kepler.Engine.UI.DialogBase.callBaseMethod(this, 'show',[bShow]);this.$42.show(bShow);}else{this.$42.show(false);Kepler.Engine.UI.DialogBase.callBaseMethod(this, 'show',[bShow,true]);var $0=this.$42.get_elementStyle().visibility;this.$42.get_elementStyle().visibility='';Kepler.Engine.UI.Helper.HtmlCssHelper.refreshDOM();this.$42.get_elementStyle().visibility=$0;}if(this.get_showHideProperty()===1){var $1=this.get_element().className;if(ss.isNullOrUndefined($1)){$1='';}if(bShow){this.removeCssClass(' display_none');this.get_elementStyle().visibility='visible';}else{this.addCssClass(' display_none');this.get_elementStyle().visibility='';}}if(bShow){if(this._bIsShowScrollar){this.addScrollar();}}else{this.$47=true;}},getDesktopViewRect:function(){return this.$4C;},getDesktopFrameRect:function(){return this.$4B;},setDesktopViewRect:function(rcDesktopView){this.$4C=rcDesktopView;},setDesktopFrameRect:function(rcDesktopFrame){this.$4B=rcDesktopFrame;},dispose:function(){this.$42.dispose();this.$42=null;Kepler.Engine.UI.DialogBase.callBaseMethod(this, 'dispose');},$50:function($p0){var $0=this.getDesktopViewRect();var $1=-1;if(($p0.get_left()+$p0.get_width())>=$0.get_width()||$p0.get_left()<$0.get_left()){$1+=($p0.get_left()+$p0.get_width()+2)-$0.get_width()+15;if($1<0){$1+=($0.get_width()-$p0.get_width()-15-3);}}return $1;},getDialogNameForMode:function(iMode){return this.$41;},$51:function($p0,$p1){return this.$43.sendMessage('control_msg_focus_changed',$p0,$p1);},$52:function($p0,$p1){var $0=$p1;if($0!=null){var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementRect($0.get_element());var $2=this.$50($1);if($2!==-1){this.set_left(this.get_left()-$2);this._bIsHintHandled=true;}}return this.$43.sendMessage('control_msg_hint_scroll',$p0,$p1);}}
Kepler.Engine.UI.DialogBaseFrame=function(strCssClassName){Kepler.Engine.UI.DialogBaseFrame.initializeBase(this,['div',strCssClassName]);this.set_focusable(false);this.$43=new Kepler.Framework.UI.Rect(1,1,0,0);this.$43.set_left(6);this.$43.set_right(6);this.$43.set_bottom(6);this.$42=25;this.$47();this.set_rightClickEventNeeded(true);this.$46={};this._bIsMaximize=false;}
Kepler.Engine.UI.DialogBaseFrame.prototype={$41:null,get_titleElement:function(){return this.$41;},$42:0,get_titleBarHeight:function(){return this.$42;},set_titleBarHeight:function(value){this.$42=value;return value;},$43:null,get_frameBorder:function(){return this.$43;},set_frameBorder:function(value){this.$43.copy(value);return value;},$44:0,get_frameState:function(){return this.$44;},set_frameState:function(value){this.$44=value;return value;},$45:null,$46:null,_bIsMaximize:false,$47:function(){this.$41=document.createElement('span');},setTitle:function(strText){Kepler.Engine.UI.Helper.HtmlCssHelper.setElementInnerHtml(this.$41,strText);},setFrameBorderMargine:function(iLeft,iTop,iRight,iBottom){this.$43.set_left(iLeft);this.$43.set_top(iTop);this.$43.set_right(iRight);this.$43.set_bottom(iBottom);},onLoad:function(){Kepler.Engine.UI.DialogBaseFrame.callBaseMethod(this, 'onLoad');this.$48();this.attachEvents();this.$49();},$48:function(){if(this.$41.parentNode==null){this.get_element().appendChild(this.$41);}},attachEvents:function(){this.addEvents(2);this.addEvents(4);this.addEvents(8);this.addEvents(256);this.addEvents(512);this.addEvents(1024);},$49:function(){this.attachMessage('ButtonClicked',ss.Delegate.create(this,this.onMsgButtonClicked));},onMsgButtonClicked:function(wParam,lParam){return null;},onLButtonDown:function(mouseEventArgs){Kepler.Engine.UI.DialogBaseFrame.callBaseMethod(this, 'onLButtonDown',[mouseEventArgs]);if(this.isMultiTouchEvent(mouseEventArgs)){return;}var $0=this.getOffsetPointFromEventArgs(mouseEventArgs,false);this.$45=Kepler.Engine.UI.Controls.Control.getClientPointFromEventArgs(mouseEventArgs);var $1=this.getDialogBorderTypeFromPoint($0.get_x(),$0.get_y());this.setCapture();if($1===2&&!this._bIsMaximize){this.set_frameState(1);}return;},onMouseMove:function(mouseEventArgs){Kepler.Engine.UI.DialogBaseFrame.callBaseMethod(this, 'onMouseMove',[mouseEventArgs]);if(this.$44===1){if(!!this.get_frameState()){if(mouseEventArgs.get_categoryType()===2){(mouseEventArgs).set_blockRightClick(true);}}this.$4A(mouseEventArgs);}else if(!this.$44){if(mouseEventArgs.get_target()===this.get_element()){}}},onLButtonUp:function(mouseEventArgs){Kepler.Engine.UI.DialogBaseFrame.callBaseMethod(this, 'onLButtonUp',[mouseEventArgs]);if(this.isMultiTouchEvent(mouseEventArgs)){return;}this.releaseCapture();if(this.$44===1){this.$4A(mouseEventArgs);}this.$44=0;return;},$4A:function($p0){var $0=Kepler.Engine.UI.Controls.Control.getClientPointFromEventArgs($p0);var $1=this.get_parent().get_parent();var $2=Math.max($0.get_x(),0);var $3=Math.max($0.get_y(),0);if($1!=null){$2=Math.min($2,$1.get_width());$3=Math.min($3,$1.get_height());}var $4=new Kepler.Framework.UI.Point($2-this.$45.get_x(),$3-this.$45.get_y());var $5=this.get_parent().get_position();var $6=new Kepler.Framework.UI.Point($5.get_x()+$4.get_x(),$5.get_y()+$4.get_y());if($6.get_y()<0){$6.set_y(0);}if(Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){this.$4B($6);}if($p0.get_type()===8||$p0.get_type()===1024){Kepler.Engine.UI.Helper.HtmlCssHelper.setElementTransform(this.get_parent().get_element(),'');this.get_parent().set_position(new Kepler.Framework.UI.Point($6.get_x(),$6.get_y()));}else{var $7=new Kepler.Framework.UI.Point($6.get_x()-$5.get_x(),$6.get_y()-$5.get_y());Kepler.Engine.UI.Helper.HtmlCssHelper.setElementTransform(this.get_parent().get_element(),'translate('+$7.get_x()+'px,'+$7.get_y()+'px)');}},$4B:function($p0){var $0=this.get_parent();var $1=$0.get_client();var $2=this.$4C();var $3=100;if($p0.get_x()+$0.get_width()<=$3){$p0.set_x($3-$0.get_width());}else if($2!=null&&$p0.get_x()>=$2.get_width()-$3){$p0.set_x($2.get_width()-$3);}if($p0.get_y()<0){$p0.set_y(0);}else if($2!=null&&$p0.get_y()>=$2.get_height()-$3){$p0.set_y($2.get_height()-$3);}},$4C:function(){return this.get_parent().get_parent().get_parent().get_parent();},getDialogBorderTypeFromPoint:function(iPointX,iPointY){var $0=0;if(iPointX<=this.get_frameBorder().get_left()){$0=1;}else if(iPointX>=this.get_width()-this.get_frameBorder().get_right()){$0=4;}if(iPointY<=this.get_frameBorder().get_top()+this.$42){$0|=2;}else if(iPointY>=this.get_height()-this.get_frameBorder().get_bottom()-this.$42){$0|=8;}return $0;},$4D:function($p0,$p1){this.get_elementStyle().cursor=this.$4E(this.getDialogBorderTypeFromPoint($p0,$p1));},$4E:function($p0){switch($p0){case 1:return 'w-resize';case 2:return 'n-resize';case 3:return 'nw-resize';case 4:return 'e-resize';case 6:return 'ne-resize';case 8:return 's-resize';case 9:return 'sw-resize';case 12:return 'se-resize';default:return 'default';}},addPreCloseEventListener:function(oCtrlID,evtListener){this.$46[oCtrlID]=evtListener;},invokePreCloseEvent:function(){var $0=false;if(Object.getKeyCount(this.$46)>0){var $dict1=this.$46;for(var $key2 in $dict1){var $1={key:$key2,value:$dict1[$key2]};$0=$0||$1.value();}}return $0;},removePreCloseEventListener:function(oCtrlID){if(Object.keyExists(this.$46,oCtrlID)){delete this.$46[oCtrlID];}}}
Kepler.Engine.UI.DialogClient=function(){Kepler.Engine.UI.DialogClient.initializeBase(this,['div','dialog_client']);this.$42=new Kepler.Engine.UI.Controls.CssImageTextButton(null,new Kepler.Framework.UI.Point(0,0),new Kepler.Framework.UI.Size(this.get_width(),13),'','dialog_client_img_btn_up',this.$4A);this.$42.set_donotHandleFocusOnLButtonDown(true);this.$42.set_focusable(false);this.$42.set_zIndex(9001+1);this.$42.set_showHideProperty(1);this.$42.show(false);this.$43=new Kepler.Engine.UI.Controls.CssImageTextButton(null,new Kepler.Framework.UI.Point(0,0),new Kepler.Framework.UI.Size(this.get_width(),13),'','dialog_client_img_btn_down',this.$4A);this.$43.set_zIndex(9001+1);this.$43.set_donotHandleFocusOnLButtonDown(true);this.$43.set_focusable(false);this.$43.set_showHideProperty(1);this.$43.show(true);this.$4C();this.$44=new Kepler.Framework.Core.Timers.Timer(ss.Delegate.create(this,this.$4D),500);this.$48=false;this.$49=false;this.$4B=false;this._elmExtraElement=document.createElement('div');this._elmExtraElement.className='client_extra_element';}
Kepler.Engine.UI.DialogClient.prototype={$42:null,get_upButton:function(){return this.$42;},$43:null,get_downButton:function(){return this.$43;},$44:null,$45:0,$46:null,get_originalSize:function(){return this.$46;},set_originalSize:function(value){this.$46=value;return value;},$47:null,get_scrollableDiv:function(){return this.$47;},get_controls:function(){return this.$47.get_controls();},$48:false,get_isDialogResize:function(){return this.$48;},set_isDialogResize:function(value){this.$48=value;return value;},$49:false,get_isHint:function(){return this.$49;},set_isHint:function(value){this.$49=value;return value;},$4A:'dialog_down_up_button',$4B:false,get_dontAddScrollar:function(){return this.$4B;},set_dontAddScrollar:function(value){this.$4B=value;return value;},_elmExtraElement:null,$4C:function(){this.$47=new Kepler.Engine.UI.ContainerPage();},onLoad:function(){Kepler.Engine.UI.DialogClient.callBaseMethod(this, 'onLoad');if(!this.get_dontAddScrollar()){this.add(this.$42,this.get_element());this.add(this.$43,this.get_element());}this.add(this.$47,this.get_element());this.attachMessage('control_msg_focus_changed',ss.Delegate.create(this,this.$4F));this.attachMessage('control_msg_hint_scroll',ss.Delegate.create(this,this.$50));},add:function(control,oParentElement){if(ss.isValue(oParentElement)){return Kepler.Engine.UI.DialogClient.callBaseMethod(this, 'add',[control,oParentElement]);}else{return this.$47.add(control);}},insert:function(iIndex,control){return Kepler.Engine.UI.DialogClient.callBaseMethod(this, 'insert',[iIndex,control,this.$47.get_element()]);},remove:function(control){return this.$47.remove(control);},getCancelButtonCtrlId:function(){return null;},getDataFromView:function(){},getElementFromId:function(iId){var $0=(this.get_parent()).get_name();var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementFromId(iId.toString()+$0);if(ss.isValue($1)){return $1;}return null;},isExitButtonClicked:function(iCommandId){return false;},setDefaultFocus:function(){},stopTimer:function(){this.$44.stop();},setTheme:function(){var $0=Kepler.Framework.UI.ThemeDetails.get_currentTheme();var $1=$0.get_appName().toLowerCase();if(!!$1.trim()){this.$43.changeCssClassName(this.$4A+'_'+$1);this.$42.changeCssClassName(this.$4A+'_'+$1);}},onPretranslateEvent:function(sender,eventArgs){if(eventArgs.get_type()===2||eventArgs.get_type()===256){var $0=this.$47.get_element().scrollHeight;var $1=this.$47.get_element().scrollTop;if(sender===this.$43||sender===this.$42){this.$44.set_interval(500);this.$44.start();if(sender===this.$43){this.$45=1;this.$42.show(true);this.$4E(true);}else if(sender===this.$42){this.$45=0;this.$43.show(true);this.$4E(false);}}}else if(eventArgs.get_type()===8||eventArgs.get_type()===1024){this.$44.stop();}return Kepler.Engine.UI.DialogClient.callBaseMethod(this, 'onPretranslateEvent',[sender,eventArgs]);},needToScroll:function(iNeedToScroll){var $0=this.$47.get_element().scrollTop;if($0===iNeedToScroll){return;}if(!(iNeedToScroll>$0&&!this.$43.get_visible())){this.$47.get_element().scrollTop=iNeedToScroll;}if(this.$47.get_element().scrollTop<=0){this.$44.stop();this.$42.show(false);this.$43.show(true);}else if(iNeedToScroll+this.get_height()+7>=this.get_originalSize().get_height()){this.$44.stop();this.$43.show(false);this.$42.show(true);}else{this.$43.show(true);this.$42.show(true);}},getScrollingValue:function(oNewControlRect){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementRect(this.$47.get_element());$0.set_top($0.get_top()+13);$0.set_height($0.get_height()-26);var $1=this.$47.get_element().scrollTop;if(!$0.isRectInRect(oNewControlRect)){if(oNewControlRect.get_top()<15){$1=0;return $1;}$1+=(oNewControlRect.get_top()+oNewControlRect.get_height()+2)-($0.get_top()+$0.get_height())+15;if($1<0){$1+=($0.get_height()-oNewControlRect.get_height());if($1<=25){$1=0;}}}return $1;},$4D:function($p0){if(this.$45===1){this.$4E(true);}else if(!this.$45){this.$4E(false);}this.$44.set_interval(100);},$4E:function($p0){var $0=this.get_originalSize().get_height();var $1=this.$47.get_element().scrollTop;if($p0){var $2=$0-this.get_height();if($2<=0){this.$44.stop();this.$43.show(false);}else if($2>0){$1+=10;this.$47.get_element().scrollTop=$1;if($1+this.get_height()+6>=$0){this.$44.stop();this.$43.show(false);}}}else{if($1>=0){this.$47.get_element().scrollTop-=10;if(this.$47.get_element().scrollTop<=0){this.$44.stop();this.$42.show(false);}}}},$4F:function($p0,$p1){var $0=$p1;if(this.$48&&$0!=null&&!this.$49){if(Type.canCast($0,Kepler.Engine.UI.Controls.TabPage)){this.needToScroll(0);}else if(Type.canCast($0,Kepler.Engine.UI.Controls.DropDownListCtrl)&&Type.canCast($0.get_parent(),Kepler.Engine.UI.Controls.ComboCtrl)){var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementRect($0.get_parent().get_element());var $2=this.getScrollingValue($1);this.needToScroll($2);}else{var $3=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementRect($0.get_element());var $4=this.getScrollingValue($3);this.needToScroll($4);}}this.$49=false;return true;},$50:function($p0,$p1){var $0=$p1;if(this.$48&&$0!=null){if(Type.canCast($0,Kepler.Engine.UI.Controls.TabPage)){this.needToScroll(0);}else{var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementRect($0.get_element());var $2=this.getScrollingValue($1);this.needToScroll($2);}this.$49=true;}return true;}}
Kepler.Engine.UI.DialogContainer=function(oDialog){Kepler.Engine.UI.DialogContainer.initializeBase(this,['dialog_container']);Kepler.Engine.UI.Helper.HtmlCssHelper.addElementAttribute(this.get_element(),'name',(Kepler.Engine.UI.DialogContainer).get_name());this._oDialogBase=oDialog;this._elmTransparentDiv=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div','transparent_layer',null,0,0,null,null,null,null);this._elmTransparentDiv.style.opacity='0';this._elmTransparentDiv.style.backgroundColor='white';this._oPositionAndSizeOverride=new Kepler.Engine.UI.Helper.PositionAndSizeOverrideHelper(this);}
Kepler.Engine.UI.DialogContainer.prototype={_oDialogBase:null,_elmTransparentDiv:null,_oPositionAndSizeOverride:null,get_positionAndSizeOverrideHandler:function(){return this._oPositionAndSizeOverride;},onLoad:function(){Kepler.Engine.UI.DialogContainer.callBaseMethod(this, 'onLoad');this.get_element().appendChild(this._elmTransparentDiv);this.add(this._oDialogBase);},$41:function($p0){this.show(!$p0);},onSize:function(){Kepler.Engine.UI.DialogContainer.callBaseMethod(this, 'onSize');Kepler.Engine.UI.Helper.HtmlCssHelper.setElementWidth(this._elmTransparentDiv,this.get_size().get_width().toString());Kepler.Engine.UI.Helper.HtmlCssHelper.setElementHeight(this._elmTransparentDiv,this.get_size().get_height().toString());},show:function(bShow,bForceVisible){if(bShow){this._elmTransparentDiv.className='';}else{this._elmTransparentDiv.className=' display_none';}Kepler.Engine.UI.DialogContainer.callBaseMethod(this, 'show',[bShow,bForceVisible]);},dispose:function(){this._oDialogBase=null;Kepler.Engine.UI.DialogContainer.callBaseMethod(this, 'dispose');}}
Kepler.Engine.UI.DialogTabBaseClient=function(typeTabBaseControl){Kepler.Engine.UI.DialogTabBaseClient.initializeBase(this);this.$51=new typeTabBaseControl();}
Kepler.Engine.UI.DialogTabBaseClient.prototype={$51:null,get_tabControl:function(){return this.$51;},onLoad:function(){Kepler.Engine.UI.DialogTabBaseClient.callBaseMethod(this, 'onLoad');this.add(this.$51);},addTab:function(oTabPage){this.$51.addTab(oTabPage);},removeTab:function(oTabPage){this.$51.removeTab(oTabPage);}}
Kepler.Engine.UI.DialogTabClient=function(typeTabControl){Kepler.Engine.UI.DialogTabClient.initializeBase(this,[(ss.isValue(typeTabControl))?typeTabControl:Kepler.Engine.UI.Controls.TabControl]);this.get_tabControl().set_position(new Kepler.Framework.UI.Point(6,8));}
Kepler.Engine.UI.DialogTabClient.prototype={onSize:function(){Kepler.Engine.UI.DialogTabClient.callBaseMethod(this, 'onSize');var $0;if(this.get_originalSize()!=null){$0=this.get_originalSize();}else{$0=this.get_size();}this.get_tabControl().set_size(new Kepler.Framework.UI.Size($0.get_width()-16,$0.get_height()-47));}}
Kepler.Engine.UI.DialogWizardTabClient=function(typeTabBaseControl){Kepler.Engine.UI.DialogWizardTabClient.initializeBase(this);if(ss.isValue(typeTabBaseControl)){this.$55=new typeTabBaseControl();}else{this.$55=new Kepler.Engine.UI.Controls.WizardTabBaseControl();}this.$56=new Kepler.Engine.UI.Controls.Button('Cancel',new Kepler.Framework.UI.Point(-1,-1),new Kepler.Framework.UI.Size(75,22),'0001'+'btnwizard');this.$57=new Kepler.Engine.UI.Controls.Button('< <u>B</u>ack',new Kepler.Framework.UI.Point(-1,-1),new Kepler.Framework.UI.Size(75,22),'0002'+'btnwizard');this.$58=new Kepler.Engine.UI.Controls.Button('<u>N</u>ext >',new Kepler.Framework.UI.Point(-1,-1),new Kepler.Framework.UI.Size(75,22),'0003'+'btnwizard');this.$59=new Kepler.Engine.UI.Controls.Button('<u>F</u>inish',new Kepler.Framework.UI.Point(-1,-1),new Kepler.Framework.UI.Size(75,22),'0004'+'btnwizard');this._oDivSeperator=document.createElement('div');this._oDivSeperator.className='wizard_dialog_seperator_line';this.get_element().appendChild(this._oDivSeperator);}
Kepler.Engine.UI.DialogWizardTabClient.prototype={$55:null,get_tabControl:function(){return this.$55;},$56:null,get_btN_CANCEL:function(){return this.$56;},$57:null,get_btN_BACK:function(){return this.$57;},$58:null,get_btN_NEXT:function(){return this.$58;},$59:null,get_btN_FINISH:function(){return this.$59;},_oDivSeperator:null,onLoad:function(){Kepler.Engine.UI.DialogWizardTabClient.callBaseMethod(this, 'onLoad');this.add(this.$55);this.add(this.$56);this.add(this.$57);this.add(this.$58);this.add(this.$59);(this.get_parent()).set_defaultButtonID(this.$58.get_id());},onSize:function(){Kepler.Engine.UI.DialogWizardTabClient.callBaseMethod(this, 'onSize');var $0=this.get_size();this.get_tabControl().set_size(new Kepler.Framework.UI.Size($0.get_width(),$0.get_height()-47));this._oDivSeperator.style.width=($0.get_width()-20)+'px';this._oDivSeperator.style.top=($0.get_height()-47)+'px';this.$5A($0.get_width()-75-9,$0.get_height()-22-11);},$5A:function($p0,$p1){this.$59.set_position(new Kepler.Framework.UI.Point($p0,$p1));this.$58.set_position(new Kepler.Framework.UI.Point($p0-75-9,$p1));this.$57.set_position(new Kepler.Framework.UI.Point($p0-(2*75)-12,$p1));this.$56.set_position(new Kepler.Framework.UI.Point($p0-(3*75)-21,$p1));},addTab:function(oTabPage){this.$55.addTab(oTabPage);},removeTab:function(oTabPage){this.$55.removeTab(oTabPage);}}
Kepler.Engine.UI.MetroAppDialogFrame=function(){Kepler.Engine.UI.MetroAppDialogFrame.initializeBase(this,['win8_metro_app'+'_frame']);var $0=new Kepler.Framework.UI.Rect(0,0,0,0);this.set_frameBorder($0);this.set_titleBarHeight(0);this.set_focusable(false);}
Kepler.Engine.UI.MetroAppDialogFrame.prototype={$52:'excel',onLoad:function(){Kepler.Engine.UI.MetroAppDialogFrame.callBaseMethod(this, 'onLoad');var $0=(this.get_parent());$0.get_client().addCssClass('win8_metro_app'+'_client');this.setTitle((Kepler.Engine.UI.MetroAppDialogFrame.callBaseMethod(this, 'get_parent')).get_name());this.attachEvents();this.$53();},$53:function(){this.attachMessage(Kepler.Engine.UI.DialogBaseFrame.msG_RESET_FRAME_BTN_STATE,ss.Delegate.create(this,this.$54));},onMsgButtonClicked:function(wParam,lParam){return null;},onSize:function(){Kepler.Engine.UI.MetroAppDialogFrame.callBaseMethod(this, 'onSize');},setTitle:function(strText){this.get_titleElement().style.color=Kepler.Framework.UI.ThemeDetails.get_currentTheme().get_colorNormal();Kepler.Engine.UI.MetroAppDialogFrame.callBaseMethod(this, 'setTitle',[strText]);},updateFrameBtnCss:function(sApplicationName){if(!!sApplicationName.compareTo(this.$52,true)){this.$52=sApplicationName.toLowerCase();}},$54:function($p0,$p1){return null;}}
Kepler.Engine.UI.WizardDialogFrame=function(){Kepler.Engine.UI.WizardDialogFrame.initializeBase(this);this.set_closeButtonNeeded(false);this.set_helpButtonNeeded(false);this.set_maximizeBtnNeeded(false);}
Kepler.Engine.UI.DialogFrame=function(){this.$55='';Kepler.Engine.UI.DialogFrame.initializeBase(this,['dialog_frame']);this.$50=true;this.$51=true;this.$57=false;this.$56=true;this.$58();this.$59();}
Kepler.Engine.UI.DialogFrame.prototype={$4F:null,get_titleContainerElement:function(){return this.$4F;},_btnClose:null,get_closeButton:function(){return this._btnClose;},_btnHelp:null,$50:false,get_closeButtonNeeded:function(){return this.$50;},set_closeButtonNeeded:function(value){this.$50=value;if(!value&&this.containsControl(this._btnClose)){this.remove(this._btnClose);if(this.get_loaded()){this.$5B();}}else if(value&&!this.containsControl(this._btnClose)){this.add(this._btnClose);if(this.get_loaded()){this.$5B();}}return value;},$51:false,get_helpButtonNeeded:function(){return this.$51;},set_helpButtonNeeded:function(value){this.$51=value;if(!value&&this.containsControl(this._btnHelp)){this.remove(this._btnHelp);if(this.get_loaded()){this.$5B();}}else if(value&&!this.containsControl(this._btnHelp)){this.add(this._btnHelp);if(this.get_loaded()){this.$5B();}}return value;},_btnMinimize:null,_btnMaximize:null,get_maximizeButton:function(){return this._btnMaximize;},$52:false,get_maximizeBtnNeeded:function(){return this.$52;},set_maximizeBtnNeeded:function(value){this.$52=value;if(!this.$52&&this.containsControl(this._btnMaximize)){this.remove(this._btnMinimize);this.remove(this._btnMaximize);if(this.get_loaded()){this.$5B();}}else if(this.$52&&!this.containsControl(this._btnMaximize)){this.add(this._btnMinimize);this.add(this._btnMaximize);if(this.get_loaded()){this.$5B();}}return value;},$53:null,$54:false,get_appIconNeeded:function(){return this.$54;},set_appIconNeeded:function(value){this.$54=value;if(!this.$54&&this.$4F.contains(this.$53)){this.$4F.removeChild(this.$53);}else if(this.$54&&!this.$4F.contains(this.$53)){this.$4F.appendChild(this.$53);}return value;},get_appIconClass:function(){return this.$55;},set_appIconClass:function(value){this.$55=value;this.$53.className=this.$55;return value;},$56:false,get_showSysMenuOnTitleRClick:function(){return this.$56;},set_showSysMenuOnTitleRClick:function(value){this.$56=value;return value;},$57:false,get_showSysMenuOnAppIcon:function(){return this.$57;},set_showSysMenuOnAppIcon:function(value){this.$57=value;return value;},$58:function(){this.get_titleElement().className='dialog_title';},$59:function(){this._btnClose=new Kepler.Engine.UI.Controls.CssImageButton(null,new Kepler.Framework.UI.Point(0,0),null,'close_btn_css');this._btnClose.set_focusable(false);this._btnClose.setTooltipParams('Close',14);this._btnHelp=new Kepler.Engine.UI.Controls.CssImageButton(null,new Kepler.Framework.UI.Point(0,0),null,'help_btn_css');this._btnHelp.set_focusable(false);this._btnHelp.setTooltipParams('Help',14);this._btnMinimize=new Kepler.Engine.UI.Controls.CssImageButton(null,new Kepler.Framework.UI.Point(0,0),null,'minimize_btn_css');this._btnMinimize.set_focusable(false);this._btnMinimize.setTooltipParams('Minimize',14);this._btnMaximize=new Kepler.Engine.UI.Controls.CssImageButton(null,new Kepler.Framework.UI.Point(0,0),null,'maximize_btn_css');this._btnMaximize.set_focusable(false);this._btnMaximize.setTooltipParams('Maximize',14);this.$53=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div','','absolute',9,5,16,16,'',null);this.$4F=document.createElement('div');this.$4F.className='dialog_title_div';},onLoad:function(){if(this.$54){this.$4F.appendChild(this.$53);}this.$4F.appendChild(this.get_titleElement());this.get_element().appendChild(this.$4F);Kepler.Engine.UI.DialogFrame.callBaseMethod(this, 'onLoad');this.setTitle((Kepler.Engine.UI.DialogFrame.callBaseMethod(this, 'get_parent')).get_name());this.$5A();this.addEvents(8);},$5A:function(){if(this.$50){this.add(this._btnClose);}if(this.$51){this.add(this._btnHelp);}if(this.$52){this.add(this._btnMinimize);this.add(this._btnMaximize);}},onMsgButtonClicked:function(wParam,lParam){if(lParam===this._btnClose){var $0=this.invokePreCloseEvent();if(!$0){var $1=(this.get_parent());$1.set_isCancleBtnClicked(false);var $2=new Kepler.Framework.UI.Controls.OnCommandStruct(wParam,7);var $3=$1.get_client().sendMessage('msg_command',$2,lParam);if(!$3){$1.get_client().sendMessage('DialogClosed',wParam,lParam);}}}return null;},onSize:function(){Kepler.Engine.UI.DialogFrame.callBaseMethod(this, 'onSize');this.$5B();},onLButtonDown:function(mouseEventArgs){if(mouseEventArgs.get_target()===this.$53&&this.$57){var $0=new Kepler.Framework.UI.Rect(this.get_frameBorder().get_left(),this.get_titleBarHeight(),1,1);$0.set_top($0.get_top()+this.get_clientRect().get_top());$0.set_left($0.get_left()+this.get_clientRect().get_left());this.get_parent().sendMessage('msg_launch_sys_menu',$0,null);}else{Kepler.Engine.UI.DialogFrame.callBaseMethod(this, 'onLButtonDown',[mouseEventArgs]);}},onRButtonUp:function(mouseEventArgs){Kepler.Engine.UI.DialogFrame.callBaseMethod(this, 'onRButtonUp',[mouseEventArgs]);if(this.$56&&this.$4F.contains(mouseEventArgs.get_target())){var $0=Kepler.Engine.UI.Controls.Control.getClientPointFromEventArgs(mouseEventArgs);var $1=new Kepler.Framework.UI.Rect($0.get_x(),$0.get_y(),1,1);this.get_parent().sendMessage('msg_launch_sys_menu',$1,null);}},$5B:function(){var $0=(this.get_parent()).get_elementStyle().width;var $1=parseInt($0)-(51+((this.$51)?27:0)+((this.$52)?52:0));this.$4F.style.width=$1+'px';}}
Kepler.Engine.UI.PaneDialogFrame=function(){Kepler.Engine.UI.PaneDialogFrame.initializeBase(this,['pane_dialog'+'_frame']);var $0=new Kepler.Framework.UI.Rect(1,1,0,0);$0.set_right(1);$0.set_bottom(1);this.set_frameBorder($0);this.set_titleBarHeight(40);this.get_titleElement().className='pane_dialog'+'_title';this.$52=new Kepler.Engine.UI.Controls.CssImageButton(null,new Kepler.Framework.UI.Point(0,10),new Kepler.Framework.UI.Size(16,16),'pane_dialog'+'_btn_cross_'+this.$51);this.$52.set_focusable(false);this.$53=new Kepler.Engine.UI.Controls.CssImageButton(null,new Kepler.Framework.UI.Point(0,10),new Kepler.Framework.UI.Size(16,16),'pane_dialog'+'_btn_arrow_'+this.$51);this.$53.set_sendClickMsgOnMouseDown(true);this.$53.set_focusable(false);this.set_focusable(false);}
Kepler.Engine.UI.PaneDialogFrame.prototype={$51:'excel',$52:null,get_closeButton:function(){return this.$52;},$53:null,get_arrowButton:function(){return this.$53;},onLoad:function(){Kepler.Engine.UI.PaneDialogFrame.callBaseMethod(this, 'onLoad');var $0=(this.get_parent());$0.get_client().addCssClass('pane_dialog'+'_client');this.setTitle((Kepler.Engine.UI.PaneDialogFrame.callBaseMethod(this, 'get_parent')).get_name());var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div','Testing',null,this.$53.get_width()/2,parseInt(((this.$53.get_height()/2)-2.5)),null,null,'pane_dialog'+'_btn_arrow_child_arrow',null);this.$53.get_element().appendChild($1);this.add(this.$53);this.add(this.$52);this.attachEvents();this.$54();},$54:function(){this.attachMessage(Kepler.Engine.UI.DialogBaseFrame.msG_RESET_FRAME_BTN_STATE,ss.Delegate.create(this,this.$55));},onMsgButtonClicked:function(wParam,lParam){if(lParam===this.$52){var $0=(this.get_parent());var $1=new Kepler.Framework.UI.Controls.OnCommandStruct(wParam,7);var $2=$0.get_client().sendMessage('msg_command',$1,lParam);if(!$2){$0.get_client().sendMessage('DialogClosed',wParam,lParam);}}else if(lParam===this.$53){var $3=(this.get_parent());var $4=this.$53.get_clientRect();this.get_parent().sendMessage('msg_launch_sys_menu',$4,null);}return null;},onSize:function(){Kepler.Engine.UI.PaneDialogFrame.callBaseMethod(this, 'onSize');this.$52.set_left(this.get_width()-this.$52.get_width()-9);this.$53.set_left(this.$52.get_left()-this.$53.get_width()-7);},setTitle:function(strText){this.get_titleElement().style.color=Kepler.Framework.UI.ThemeDetails.get_currentTheme().get_colorNormal();Kepler.Engine.UI.PaneDialogFrame.callBaseMethod(this, 'setTitle',[strText]);},updateFrameBtnCss:function(sApplicationName){if(!!sApplicationName.compareTo(this.$51,true)){this.$51=sApplicationName.toLowerCase();var $0=new ss.StringBuilder('pane_dialog').append('_btn_cross_').append(this.$51);this.$52.setCssClass($0.toString());$0=new ss.StringBuilder('pane_dialog').append('_btn_arrow_').append(this.$51);this.$53.setCssClass($0.toString());}},$55:function($p0,$p1){this.$53.changeState(0);this.$52.changeState(0);return null;}}
Kepler.Engine.UI.VisualHintParams=function(iIndex){this.iIndex=iIndex;}
Kepler.Engine.UI.VisualHintParams.prototype={iIndex:0}
Type.registerNamespace('Kepler.Framework.UI.Events.Capture');Kepler.Framework.UI.Events.Capture.CaptureProvider=function(){}
Kepler.Framework.UI.Events.Capture.CaptureProvider.getCapture=function(){return Kepler.Framework.UI.Events.Capture.CaptureProvider.$0;}
Kepler.Framework.UI.Events.Capture.CaptureProvider.setCapture=function(control){if(control==null||control.get_element()==null){throw new Error('Invalid Argument Exception : '+'control');}if(Kepler.Framework.UI.Events.Capture.CaptureProvider.$0===control){return;}Kepler.Framework.UI.Events.Capture.CaptureProvider.releaseCapture(control);Kepler.Framework.UI.Events.Capture.CaptureProvider.$0=control;}
Kepler.Framework.UI.Events.Capture.CaptureProvider.releaseCapture=function(control){if(Kepler.Framework.UI.Events.Capture.CaptureProvider.$0!=null){try{if(ss.isUndefined(control)){control=null;}Kepler.Framework.UI.Events.Capture.CaptureProvider.$0.onCaptureChanged(control);}catch($0){}finally{Kepler.Framework.UI.Events.Capture.CaptureProvider.$0=null;}}}
Type.registerNamespace('Kepler.Framework.UI.Events');Kepler.Framework.UI.Events.IEventGenerator=function(){};Kepler.Framework.UI.Events.IEventGenerator.registerInterface('Kepler.Framework.UI.Events.IEventGenerator');Kepler.Framework.UI.Events.DOMEventHandler=function(){}
Kepler.Framework.UI.Events.DOMEventHandler.prototype={$0:null,get_eventListeners:function(){return this.$0;},$1:0,get_$2:function(){return this.$1;},addEvents:function(eEventType){this.$1|=eEventType;},removeEvents:function(eEventType){this.$1&=~eEventType;},isEventRegistered:function(eEventType){return eEventType===(this.$1&eEventType);},$3:function($p0,$p1){return $p0+((ss.isValue($p1))?'_capture':'');},addEventListener:function(eEventType,bUseCapture,eventListener){if(ss.isNullOrUndefined(eventListener)){eventListener=this.getEventListener(eEventType);}if(eventListener!=null){if(this.$0==null){this.$0={};}var $0=this.$3(eEventType,bUseCapture);if(!Object.keyExists(this.$0,$0)){this.$0[$0]=eventListener;}else{return null;}}return eventListener;},removeEventListener:function(eEventType,bUseCapture){if(this.$0!=null){var $0=this.$3(eEventType,bUseCapture);var $1=this.$0[$0];delete this.$0[$0];return $1;}return null;},$4:function($p0){switch($p0.get_button()){case 0:this.onLButtonDown($p0);break;case 2:this.onRButtonDown($p0);break;case 1:this.onMButtonDown($p0);break;default:throw new Error('Not Supported Exception : '+'MouseDown ( Button - '+$p0.get_button());}},$5:function($p0){switch($p0.get_button()){case 0:this.onLButtonUp($p0);break;case 2:this.onRButtonUp($p0);break;case 1:this.onMButtonUp($p0);break;default:throw new Error('Not Supported Exception : '+'MouseButton : '+$p0.get_button());}},addEventsForcefully:function(eEventType){this.addEvents(eEventType);}}
Type.registerNamespace('Kepler.Framework.UI.Events.EventArgsNs');Kepler.Framework.UI.Events.EventArgsNs.EventCategoryType=function(){};Kepler.Framework.UI.Events.EventArgsNs.EventCategoryType.prototype = {custom:0,mouse:1,touch:2,key:3,clipboard:4}
Kepler.Framework.UI.Events.EventArgsNs.EventCategoryType.registerEnum('Kepler.Framework.UI.Events.EventArgsNs.EventCategoryType',false);Kepler.Framework.UI.Events.EventArgsNs.GestureDragDirection=function(){};Kepler.Framework.UI.Events.EventArgsNs.GestureDragDirection.prototype = {none:0,left:1,right:2,top:4,bottom:8}
Kepler.Framework.UI.Events.EventArgsNs.GestureDragDirection.registerEnum('Kepler.Framework.UI.Events.EventArgsNs.GestureDragDirection',false);Kepler.Framework.UI.Events.EventArgsNs.EventType=function(){};Kepler.Framework.UI.Events.EventArgsNs.EventType.prototype = {custom:0,mouseClick:1,mouseDown:2,mouseMove:4,mouseUp:8,mouseOver:16,mouseOut:32,mouseDoubleClick:64,mouseWheel:128,touchStart:256,touchMove:512,touchEnd:1024,touchCancel:2048,keyDown:4096,keyPress:8192,keyUp:16384,selectionStart:32768,selectionEnd:65536,cut:131072,copy:262144,paste:524288}
Kepler.Framework.UI.Events.EventArgsNs.EventType.registerEnum('Kepler.Framework.UI.Events.EventArgsNs.EventType',true);Kepler.Framework.UI.Events.EventArgsNs.Keys=function(){};Kepler.Framework.UI.Events.EventArgsNs.Keys.prototype = {back:8,tab:9,lineFeed:10,clear:12,enter:13,returnKey:13,shiftKey:16,controlKey:17,menu:18,pause:19,capsLock:20,capital:20,kanaMode:21,hanguelMode:21,hangulMode:21,junjaMode:23,finalMode:24,kanjiMode:25,hanjaMode:25,escape:27,imeConvert:28,imeNonconvert:29,imeAceept:30,imeAccept:30,imeModeChange:31,space:32,prior:33,pageUp:33,next:34,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40,select:41,print:42,execute:43,printScreen:44,snapshot:44,insert:45,deleteKey:46,backslash:47,d0:48,d1:49,d2:50,d3:51,d4:52,d5:53,d6:54,d7:55,d8:56,d9:57,equal:61,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,lWin:91,slash:92,apps:93,sleep:95,numPad0:96,numPad1:97,numPad2:98,numPad3:99,numPad4:100,numPad5:101,numPad6:102,numPad7:103,numPad8:104,numPad9:105,multiply:106,add:107,separator:108,subtract:109,decimal:110,divide:111,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,f13:124,f14:125,f15:126,f16:127,f17:128,f18:129,f19:130,f20:131,f21:132,f22:133,f23:134,f24:135,numLock:144,scroll:145,lShiftKey:160,rShiftKey:161,lControlKey:162,rControlKey:163,lMenu:164,rMenu:165,browserBack:166,browserForward:167,browserRefresh:168,browserStop:169,browserSearch:170,browserFavorites:171,browserHome:172,volumeMute:173,volumeDown:174,volumeUp:175,mediaNextTrack:176,mediaPreviousTrack:177,mediaStop:178,mediaPlayPause:179,launchMail:180,selectMedia:181,launchApplication1:182,launchApplication2:183,oem1:186,oemSemicolon:186,oemplus:187,oemcomma:188,oemMinus:189,oemPeriod:190,oemQuestion:191,oem2:191,oemtilde:192,oem3:192,oem4:219,oemOpenBrackets:219,oemPipe:220,oem5:220,oem6:221,oemCloseBrackets:221,oem7:222,oemQuotes:222,oem8:223,oem102:226,oemBackslash:226,processKey:229,packet:231,attn:246,crsel:247,exsel:248,eraseEof:249,play:250,zoom:251,noName:252,pa1:253,oemClear:254,done:1001,cancel:1002,mozSemicolon:59,keyBoardHide:1003,mozOemMinus:173}
Kepler.Framework.UI.Events.EventArgsNs.Keys.registerEnum('Kepler.Framework.UI.Events.EventArgsNs.Keys',false);Kepler.Framework.UI.Events.EventArgsNs.KeyLocation=function(){};Kepler.Framework.UI.Events.EventArgsNs.KeyLocation.prototype = {keY_LOCATION_STANDARD:0,keY_LOCATION_LEFT:1,keY_LOCATION_RIGHT:2,keY_LOCATION_NUMPAD:3,keY_LOCATION_MOBILE:4,keY_LOCATION_JOYSTICK:5}
Kepler.Framework.UI.Events.EventArgsNs.KeyLocation.registerEnum('Kepler.Framework.UI.Events.EventArgsNs.KeyLocation',false);Kepler.Framework.UI.Events.EventArgsNs.MouseButton=function(){};Kepler.Framework.UI.Events.EventArgsNs.MouseButton.prototype = {left:0,middle:1,right:2}
Kepler.Framework.UI.Events.EventArgsNs.MouseButton.registerEnum('Kepler.Framework.UI.Events.EventArgsNs.MouseButton',false);Kepler.Framework.UI.Events.EventArgsNs.ClipboardEventArgs=function(eEventType){Kepler.Framework.UI.Events.EventArgsNs.ClipboardEventArgs.initializeBase(this,[eEventType]);}
Kepler.Framework.UI.Events.EventArgsNs.ClipboardEventArgs.prototype={get_categoryType:function(){return 4;},$6:null,get_clipboardData:function(){return this.$6;},initClipboardEventArgs:function(oClipboardData){this.$6=oClipboardData;},clone:function(){var $0=new Kepler.Framework.UI.Events.EventArgsNs.ClipboardEventArgs(this.get_type());this.copy($0);return $0;},copy:function(dstEventArgs){Kepler.Framework.UI.Events.EventArgsNs.ClipboardEventArgs.callBaseMethod(this, 'copy',[dstEventArgs]);(dstEventArgs).initClipboardEventArgs(this.$6);},toString:function(){var $0=new ss.StringBuilder();switch(this.get_type()){case 131072:$0.append('Cut(');break;case 262144:$0.append('Copy(');break;case 524288:$0.append('Paste(');break;default:$0.append('UnknownEvent(');break;}$0.append(' )');$0.append(Kepler.Framework.UI.Events.EventArgsNs.ClipboardEventArgs.callBaseMethod(this, 'toString'));return $0.toString();}}
Kepler.Framework.UI.Events.EventArgsNs.CustomEventArgs=function(strIdentifier,customData){Kepler.Framework.UI.Events.EventArgsNs.CustomEventArgs.initializeBase(this,[0]);this.$2=strIdentifier;if(ss.isValue(customData)){this.$3=customData;}}
Kepler.Framework.UI.Events.EventArgsNs.CustomEventArgs.prototype={$2:null,get_identifier:function(){return this.$2;},$3:null,get_data:function(){return this.$3;},set_data:function(value){this.$3=value;return value;},get_categoryType:function(){return 0;},initCustomEventArgs:function(customData){this.$3=customData;},clone:function(){var $0=new Kepler.Framework.UI.Events.EventArgsNs.CustomEventArgs(this.$2);this.copy($0);return $0;},copy:function(dstEventArgs){(dstEventArgs).initCustomEventArgs(this.$3);}}
Kepler.Framework.UI.Events.EventArgsNs.GestureEventArgs=function(){}
Kepler.Framework.UI.Events.EventArgsNs.GestureEventArgs.prototype={distance:null,movement:null,event:null}
Kepler.Framework.UI.Events.EventArgsNs.GestureDragEventArgs=function(){Kepler.Framework.UI.Events.EventArgsNs.GestureDragEventArgs.initializeBase(this);}
Kepler.Framework.UI.Events.EventArgsNs.GestureDragEventArgs.prototype={dragPoint:null,position:null,direction:0}
Kepler.Framework.UI.Events.EventArgsNs.GesturePinchEventArgs=function(){Kepler.Framework.UI.Events.EventArgsNs.GesturePinchEventArgs.initializeBase(this);}
Kepler.Framework.UI.Events.EventArgsNs.GesturePinchEventArgs.prototype={rotation:0,rectangle:null}
Kepler.Framework.UI.Events.EventArgsNs.Framework$2=function(){}
Kepler.Framework.UI.Events.EventArgsNs.Framework$2.prototype={$0:0,$1:0,$2:null,$3:null,$4:null}
Kepler.Framework.UI.Events.EventArgsNs.GestureSwipeEventArgs=function(){Kepler.Framework.UI.Events.EventArgsNs.GestureSwipeEventArgs.initializeBase(this);}
Kepler.Framework.UI.Events.EventArgsNs.Framework$3=function(){}
Kepler.Framework.UI.Events.EventArgsNs.Framework$3.prototype={$0:null,$1:null}
Kepler.Framework.UI.Events.EventArgsNs.GestureTapEventArgs=function(){Kepler.Framework.UI.Events.EventArgsNs.GestureTapEventArgs.initializeBase(this);}
Kepler.Framework.UI.Events.EventArgsNs.GestureTapEventArgs.prototype={position:null}
Kepler.Framework.UI.Events.EventArgsNs.DOMEventArgs=function(eEventType){Kepler.Framework.UI.Events.EventArgsNs.DOMEventArgs.initializeBase(this,[eEventType]);}
Kepler.Framework.UI.Events.EventArgsNs.DOMEventArgs.prototype={$2:null,get_target:function(){return this.$2;},$3:null,get_event:function(){return this.$3;},$4:false,get_defaultPrevented:function(){return this.$4;},set_defaultPrevented:function(value){this.$4=value;return value;},$5:false,get_propogationStopped:function(){return this.$5;},set_propogationStopped:function(value){this.$5=value;return value;},initDomEventArgs:function(elmTarget,eevent){this.$3=eevent;this.$2=elmTarget;this.$4=true;this.$5=true;},copy:function(dstEventArgs){Kepler.Framework.UI.Events.EventArgsNs.DOMEventArgs.callBaseMethod(this, 'copy',[dstEventArgs]);(dstEventArgs).initDomEventArgs(this.$2,this.$3);}}
Kepler.Framework.UI.Events.EventArgsNs.EventArgs=function(eEventType){this.$0=eEventType;}
Kepler.Framework.UI.Events.EventArgsNs.EventArgs.prototype={$0:0,get_type:function(){return this.$0;},$1:null,get_eventGenerator:function(){return this.$1;},initEventArgs:function(oEventGenerator){this.$1=oEventGenerator;},copy:function(dstEventArgs){dstEventArgs.initEventArgs(this.$1);}}
Kepler.Framework.UI.Events.EventArgsNs.KeyEventArgs=function(eEventType){Kepler.Framework.UI.Events.EventArgsNs.KeyEventArgs.initializeBase(this,[eEventType]);}
Kepler.Framework.UI.Events.EventArgsNs.KeyEventArgs.prototype={get_categoryType:function(){return 3;},$A:0,get_key:function(){return this.$A;},$B:0,get_charCode:function(){return this.$B;},$C:0,get_keyLocation:function(){return this.$C;},$D:null,get_keyIdentifier:function(){return this.$D;},initKeyEventArgs:function(eKeyCode,eCharCode,strKeyIdentifier,eKeyLocation){this.$A=eKeyCode;this.$B=eCharCode;this.$D=strKeyIdentifier;this.$C=(ss.isValue(eKeyLocation))?eKeyLocation:0;},clone:function(){var $0=new Kepler.Framework.UI.Events.EventArgsNs.KeyEventArgs(this.get_type());this.copy($0);return $0;},copy:function(dstEventArgs){Kepler.Framework.UI.Events.EventArgsNs.KeyEventArgs.callBaseMethod(this, 'copy',[dstEventArgs]);(dstEventArgs).initKeyEventArgs(this.$A,this.$B,this.$D,this.$C);},toString:function(){var $0=new ss.StringBuilder();switch(this.get_type()){case 4096:$0.append('KeyDown(');break;case 8192:$0.append('KeyPress(');break;case 16384:$0.append('KeyUp(');break;default:$0.append('UnknownKeyEvent(');break;}$0.append(' Key:');$0.append(Kepler.Framework.Core.StringUtils.getStringFromKeyCode(this.$A,this.$D));$0.append(', CharCode:');$0.append(this.$B.toString());$0.append(' )');$0.append(Kepler.Framework.UI.Events.EventArgsNs.KeyEventArgs.callBaseMethod(this, 'toString'));return $0.toString();}}
Kepler.Framework.UI.Events.EventArgsNs.ModifierKeyEventArgs=function(eEventType){Kepler.Framework.UI.Events.EventArgsNs.ModifierKeyEventArgs.initializeBase(this,[eEventType]);}
Kepler.Framework.UI.Events.EventArgsNs.ModifierKeyEventArgs.prototype={$6:false,get_metaKey:function(){return this.$6;},$7:false,get_ctrlKey:function(){return this.$7;},$8:false,get_shiftKey:function(){return this.$8;},$9:false,get_altKey:function(){return this.$9;},get_modifierKey:function(){return this.$7||this.$8||this.$9;},initModifierKeyEventArgs:function(bCtrlKey,bShiftKey,bAltKey,bMetaKey){this.$9=bAltKey;this.$8=bShiftKey;this.$7=bCtrlKey;this.$6=bMetaKey;},copy:function(dstEventArgs){Kepler.Framework.UI.Events.EventArgsNs.ModifierKeyEventArgs.callBaseMethod(this, 'copy',[dstEventArgs]);(dstEventArgs).initModifierKeyEventArgs(this.$7,this.$8,this.$9,this.$6);},toString:function(){var $0=new ss.StringBuilder();if(this.$9){$0.append('[Alt]');}if(this.$8){$0.append('[Shift]');}if(this.$7){$0.append('[Ctrl]');}return $0.toString();}}
Kepler.Framework.UI.Events.EventArgsNs.MouseEventArgs=function(eEventType){Kepler.Framework.UI.Events.EventArgsNs.MouseEventArgs.initializeBase(this,[eEventType]);}
Kepler.Framework.UI.Events.EventArgsNs.MouseEventArgs.prototype={get_categoryType:function(){return 1;},$A:0,get_screenX:function(){return this.$A;},$B:0,get_screenY:function(){return this.$B;},$C:0,get_clientX:function(){return this.$C;},$D:0,get_clientY:function(){return this.$D;},$E:0,get_pageX:function(){return this.$E;},$F:0,get_pageY:function(){return this.$F;},$10:0,get_offsetX:function(){return this.$10;},set_offsetX:function(value){this.$10=value;return value;},$11:0,get_offsetY:function(){return this.$11;},set_offsetY:function(value){this.$11=value;return value;},get_relatedTarget:function(){var $0=this.get_event().relatedTarget;if(ss.isUndefined($0)){return null;}else{return $0;}},$12:0,get_button:function(){return this.$12;},$13:false,get_cleanUpEvent:function(){return this.$13;},set_cleanUpEvent:function(value){this.$13=value;return value;},initMouseEventArgs:function(iScreenX,iScreenY,iClientX,iClientY,iPageX,iPageY,iOffsetX,iOffsetY,eMouseButton){this.$A=iScreenX;this.$B=iScreenY;this.$C=iClientX;this.$D=iClientY;this.$E=iPageX;this.$F=iPageY;this.$10=iOffsetX;this.$11=iOffsetY;this.$12=eMouseButton;},clone:function(){var $0=new Kepler.Framework.UI.Events.EventArgsNs.MouseEventArgs(this.get_type());this.copy($0);return $0;},copy:function(dstEventArgs){Kepler.Framework.UI.Events.EventArgsNs.MouseEventArgs.callBaseMethod(this, 'copy',[dstEventArgs]);(dstEventArgs).initMouseEventArgs(this.$A,this.$B,this.$C,this.$D,this.$E,this.$F,this.$10,this.$11,this.$12);}}
Kepler.Framework.UI.Events.EventArgsNs.MouseWheelEventArgs=function(eEventType){Kepler.Framework.UI.Events.EventArgsNs.MouseWheelEventArgs.initializeBase(this,[eEventType]);}
Kepler.Framework.UI.Events.EventArgsNs.MouseWheelEventArgs.prototype={$14:0,get_delta:function(){return this.$14;},$15:0,get_deltaX:function(){return this.$15;},$16:0,get_deltaY:function(){return this.$16;},initMouseWheelEventArgs:function(iDelta,iDeltaX,iDeltaY){this.$14=iDelta;this.$15=iDeltaX;this.$16=iDeltaY;},clone:function(){var $0=new Kepler.Framework.UI.Events.EventArgsNs.MouseWheelEventArgs(this.get_type());this.copy($0);return $0;},copy:function(dstEventArgs){Kepler.Framework.UI.Events.EventArgsNs.MouseWheelEventArgs.callBaseMethod(this, 'copy',[dstEventArgs]);(dstEventArgs).initMouseWheelEventArgs(this.$14,this.$15,this.$16);}}
Kepler.Framework.UI.Events.EventArgsNs.TouchEventArgs=function(eEventType){Kepler.Framework.UI.Events.EventArgsNs.TouchEventArgs.initializeBase(this,[eEventType]);this.$A=new Array(0);this.$B=new Array(0);}
Kepler.Framework.UI.Events.EventArgsNs.TouchEventArgs.$10=function(){return 0;}
Kepler.Framework.UI.Events.EventArgsNs.TouchEventArgs.$11=function(){return 1;}
Kepler.Framework.UI.Events.EventArgsNs.TouchEventArgs.$12=function(){return 2;}
Kepler.Framework.UI.Events.EventArgsNs.TouchEventArgs.prototype={get_categoryType:function(){return 2;},$A:null,get_touches:function(){return this.$A;},$B:null,get_changedTouches:function(){return this.$B;},$C:false,get_blockRightClick:function(){return this.$C;},set_blockRightClick:function(value){this.$C=value;return value;},$D:false,get_eventHandled:function(){return this.$D;},set_eventHandled:function(value){this.$D=value;return value;},$E:false,get_cleanUpEvent:function(){return this.$E;},set_cleanUpEvent:function(value){this.$E=value;return value;},initTouchEventArgs:function(arrTouches,arrChangedTouches){this.$A=arrTouches;this.$B=arrChangedTouches;this.$D=false;this.$C=false;this.$E=false;},clone:function(){var $0=new Kepler.Framework.UI.Events.EventArgsNs.TouchEventArgs(this.get_type());this.copy($0);return $0;},copy:function(dstEventArgs){Kepler.Framework.UI.Events.EventArgsNs.TouchEventArgs.callBaseMethod(this, 'copy',[dstEventArgs]);(dstEventArgs).initTouchEventArgs(this.$F(this.$A),this.$F(this.$B));},$F:function($p0){var $0=null;if($p0!=null){var $1=$p0.length;$0=new Array($1);for(var $2=0;$2<$1;$2++){$0[$2]=Type.safeCast($p0[$2].clone(),Kepler.Framework.UI.Events.EventArgsNs.TouchInfo);}}return $0;},toMouseEventArgs:function(){return this;},bindMouseButtonProperty:function(eMouseButton){if(ss.isValue(eMouseButton)){var $0=null;switch(eMouseButton){case 0:$0=Kepler.Framework.UI.Events.EventArgsNs.TouchEventArgs.$10;break;case 1:$0=Kepler.Framework.UI.Events.EventArgsNs.TouchEventArgs.$11;break;case 2:$0=Kepler.Framework.UI.Events.EventArgsNs.TouchEventArgs.$12;break;}if($0!=null){this.get_button=$0;}}}}
Kepler.Framework.UI.Events.EventArgsNs.TouchInfo=function(){}
Kepler.Framework.UI.Events.EventArgsNs.TouchInfo.prototype={$0:0,get_identifier:function(){return this.$0;},$1:0,get_screenX:function(){return this.$1;},$2:0,get_screenY:function(){return this.$2;},$3:0,get_clientX:function(){return this.$3;},$4:0,get_clientY:function(){return this.$4;},$5:0,get_pageX:function(){return this.$5;},$6:0,get_pageY:function(){return this.$6;},$7:0,get_offsetX:function(){return this.$7;},set_offsetX:function(value){this.$7=value;return value;},$8:0,get_offsetY:function(){return this.$8;},set_offsetY:function(value){this.$8=value;return value;},$9:null,get_target:function(){return this.$9;},init:function(iScreenX,iScreenY,iClientX,iClientY,iPageX,iPageY,iOffsetX,iOffsetY,iIdentifier,elmTarget){this.$0=iIdentifier;this.$1=iScreenX;this.$2=iScreenY;this.$3=iClientX;this.$4=iClientY;this.$5=iPageX;this.$6=iPageY;this.$7=iOffsetX;this.$8=iOffsetY;this.$9=elmTarget;},clone:function(){var $0=new Kepler.Framework.UI.Events.EventArgsNs.TouchInfo();$0.init(this.$1,this.$2,this.$3,this.$4,this.$5,this.$6,this.$7,this.$8,this.$0,this.$9);return $0;}}
Type.registerNamespace('Kepler.Engine.UI.Events');Kepler.Engine.UI.Events.GestureManager=function(){this.$7=[];this.$8=[];this.$17=new Kepler.Framework.UI.Point(0,0);this.$10=null;this.$11=350;this.$12=20;this.$13=500;this.$14=5;this.$18=new Kepler.Framework.Core.Timers.Timer(ss.Delegate.create(this,this.$1D),this.$13);this.$15=new Kepler.Framework.Core.Timers.Timer(ss.Delegate.create(this,this.$1E),this.$11);}
Kepler.Engine.UI.Events.GestureManager.prototype={$5:0,$6:null,$7:null,$8:null,$9:false,$A:false,$B:null,$C:null,$D:null,get_$E:function(){return this.$D;},set_$E:function($p0){this.$D=$p0;return $p0;},$F:null,$10:null,$11:0,get_doubleClickInterval:function(){return this.$11;},set_doubleClickInterval:function(value){this.$15.set_interval(this.$11=value);return value;},$12:0,get_doubleClickRegion:function(){return this.$12;},set_doubleClickRegion:function(value){this.$12=value;return value;},$13:0,get_longTapInterval:function(){return this.$13;},set_longTapInterval:function(value){this.$18.set_interval(this.$13=value);return value;},$14:0,get_longTapRegion:function(){return this.$14;},set_longTapRegion:function(value){this.$14=value;return value;},$15:null,get_doubleClickTimer:function(){return this.$15;},$16:function(){this.$15.stop();this.$19=false;},$17:null,$18:null,$19:false,$1A:false,$1B:false,$1C:false,getGestureState:function(){return this.$5;},$1D:function($p0){try{this.$18.stop();var $0=false;if(this.$10!=null&&this.$D!=null){var $1=this.$D.getPagePointFromEventArgs(this.$10);if(!this.$D.get_clientRect().isPtInRect($1.get_x(),$1.get_y())){$0=true;}}if($0){return;}this.$21(this.$F);if(!this.$1B&&this.getGestureState()===1){this.$1B=true;this.$F.bindMouseButtonProperty(2);this.$D.onRButtonDown(this.$F);}}catch($2){}},$1E:function($p0){if(!this.$19){this.$15.stop();return;}this.$16();if(ss.isNullOrUndefined(this.$D)){return;}if(!this.$1A){this.$F.bindMouseButtonProperty(0);this.$D.onLButtonDown(this.$F);this.$1A=true;}if(this.$1A){this.$F.bindMouseButtonProperty(0);this.$D.onLButtonUp(this.$F);this.$1A=false;}this.$D=null;},$1F:function($p0,$p1){var $0=this.$17.inflate(this.$12);if($0.isPtInRect($p0,$p1)){return true;}return false;},$20:function($p0,$p1){var $0=this.$17.inflate(this.$14);if($0.isPtInRect($p0,$p1)){return true;}return false;},$21:function($p0){if($p0==null){$p0=this.$10;}$p0.set_cleanUpEvent(this.$1A||this.$1B);if(this.$1A){this.$10.bindMouseButtonProperty(0);this.$D.onLButtonUp($p0);this.$1A=false;}if(this.$1B){this.$10.bindMouseButtonProperty(2);this.$D.onRButtonUp($p0);this.$1B=false;}this.$18.stop();this.$15.stop();this.$19=false;},$22:function($p0){if(0===this.getGestureState()||1===this.getGestureState()||7===this.getGestureState()||10===this.getGestureState()){for(var $0=0;$0<$p0.get_touches().length;$0++){if(!this.$2A($p0.get_touches()[$0].get_identifier())&&this.getRegTouchCount()<3){var $1=$p0.get_touches()[$0].get_identifier();this.$26($1);var $2=$p0.get_touches()[$0];this.$2F($1,$2);}}switch($p0.get_touches().length){case 1:if(this.$D.get_dblClickEventNeeded()){if(this.$15.get_isRunning()){if(this.$1F($p0.get_touches()[0].get_pageX(),$p0.get_touches()[0].get_pageY())){this.$16();this.$18.stop();this.$D.onMouseDblClick(this.$F);this.$21(this.$F);break;}}this.$15.start();this.$19=false;}this.$32(1);this.$1A=false;this.$1B=false;this.$1C=true;this.$F=$p0;this.$10=$p0;this.$17.set_x(this.$F.get_touches()[0].get_pageX());this.$17.set_y(this.$F.get_touches()[0].get_pageY());if(this.$D.get_rightClickEventNeeded()){if($p0.get_blockRightClick()){this.$18.stop();}else{this.$18.start();}}else if(!$p0.get_eventHandled()){this.$1A=true;this.$D.onLButtonDown($p0);}if($p0.get_eventHandled()){this.$1A=true;}break;case 2:this.$21($p0);this.$32(7);break;case 3:this.$21($p0);this.$32(10);break;}}},$23:function($p0){if(this.$D==null){return;}switch(this.getGestureState()){case 1:if(this.$15.get_isRunning()){if(!this.$1F($p0.get_touches()[0].get_pageX(),$p0.get_touches()[0].get_pageY())){this.$16();}}if(this.$1B){$p0.bindMouseButtonProperty(2);this.$D.onMouseMove($p0);break;}this.$10=$p0;this.$1C=this.$1C&&this.$20($p0.get_touches()[0].get_pageX(),$p0.get_touches()[0].get_pageY());if(!this.$1A&&!this.$1C){this.$1A=true;this.$F.bindMouseButtonProperty(0);var $0=this.$F;this.$D.onLButtonDown($0);}if(!this.$1C){$p0.bindMouseButtonProperty(0);this.$D.onMouseMove($p0);}if(this.$D.get_rightClickEventNeeded()&&!this.$1C){if($p0.get_blockRightClick()){this.$18.stop();}else{this.$18.start();}}break;case 4:case 5:$p0.bindMouseButtonProperty((this.$1A)?0:2);this.$D.onMouseMove($p0);break;case 7:this.$3A($p0);break;case 8:this.$3B($p0);break;case 10:this.$3D($p0);break;case 11:this.$3E($p0);break;}},$24:function($p0){try{switch(this.getGestureState()){case 1:this.$15.stop();this.$18.stop();this.$21($p0);break;default:break;}}catch($0){}for(var $1=0;$1<this.getRegTouchCount();$1++){var $2=this.$27($1);if(-1===this.$2C($2,$p0.get_touches())){this.$28($2);this.$31($2);}}if(0===$p0.get_touches().length){this.$8.clear();this.$7.clear();this.$32(0);}},$25:function($p0){try{switch(this.getGestureState()){case 1:if(this.$D.get_dblClickEventNeeded()&&this.$15.get_isRunning()){this.$19=true;$p0.set_propogationStopped(true);this.$18.stop();break;}var $0=Date.get_now();var $1=null;if(this.$18.get_isRunning()){this.$18.stop();}this.$10=$p0;var $2=0;var $3=0;var $4=false;var $5=false;$1=this.$30(0);if($1==null){}if($1!=null){var $6=this.$D.getPagePointFromEventArgs($p0);$2=Math.abs($6.get_x()-$1.$0);$3=Math.abs($6.get_y()-$1.$1);$4=($2>this.$14)||($3>this.$14);$5=($0-$1.$3)>this.$13;}if($1!=null){if(this.$1B){this.$1B=false;$p0.bindMouseButtonProperty(2);this.$D.onRButtonUp($p0);}else if(!this.$1A){this.$1A=true;this.$F.bindMouseButtonProperty(0);var $7=this.$F;this.$D.onLButtonDown($7);}if(this.$1A){this.$1A=false;$p0.bindMouseButtonProperty(0);this.$D.onLButtonUp($p0);}}break;case 4:case 5:break;case 7:this.$3C($p0);break;case 8:this.$3C($p0);break;case 10:case 11:this.$3F($p0);break;default:this.$21(this.$F);break;}}catch($8){}for(var $9=0;$9<this.getRegTouchCount();$9++){var $A=this.$27($9);if(-1===this.$2C($A,$p0.get_touches())){this.$28($A);this.$31($A);}}if(0===$p0.get_touches().length){this.$8.clear();this.$7.clear();this.$32(0);}},$26:function($p0){if(3>this.getRegTouchCount()){this.$7.add($p0);}else{}},getRegTouchCount:function(){var $0=0;if(ss.isValue(this.$7)){$0=this.$7.length;}return $0;},$27:function($p0){var $0=-1;if($p0<this.$7.length){$0=this.$7[$p0];}return $0;},$28:function($p0){var $0=this.$7.indexOf($p0);if(-1!==$0){this.$7.removeAt($0);}},$29:function($p0){return this.$7.indexOf($p0);},$2A:function($p0){return -1!==this.$7.indexOf($p0);},$2B:function($p0){for(var $0=0;$0<$p0.get_changedTouches().length;$0++){var $1=$p0.get_changedTouches()[$0].get_identifier();if(this.$2A($1)){return true;}}return false;},$2C:function($p0,$p1){var $0=-1;var $1;for($1=0;$1<$p1.length;$1++){if($p0===$p1[$1].get_identifier()){break;}}if($1<$p1.length){$0=$1;}return $0;},$2D:function($p0,$p1){var $0=this.$2C($p0,$p1);if(-1!==$0){return $p1[$0];}return null;},$2E:function($p0,$p1){for(var $0=0;$0<$p1.length;$0++){if($p0===$p1[$0].get_identifier()){return $p1[$0];}}return null;},$2F:function($p0,$p1){var $0=this.$29($p0);var $1=new Framework.UI.Events.Framework$1();if(-1!==$0){$1.$2=$p0;$1.$3=Date.get_now();$1.$0=$p1.get_pageX();$1.$1=$p1.get_pageY();this.$8[$0]=$1;}},$30:function($p0){if($p0<this.$8.length){return this.$8[$p0];}return null;},$31:function($p0){for(var $0=0;$0<this.$8.length;$0++){if($p0===this.$8[$0].$2){this.$8.removeAt($0);}}},$32:function($p0){this.$5=$p0;},$33:function($p0,$p1,$p2,$p3){var $0=$p2-$p0;var $1=$p3-$p1;if(Math.abs($1)>30){return 0;}if($0>0){return 2;}else if($0<0){return 1;}return 0;},$34:function($p0,$p1,$p2,$p3){return new Kepler.Framework.UI.Point($p2-$p0,$p3-$p1);},$35:function($p0){var $0=[];$0[0]=this.$2D(this.$27(0),$p0.get_changedTouches());$0[1]=this.$2D(this.$27(1),$p0.get_changedTouches());$0[2]=this.$2D(this.$27(2),$p0.get_changedTouches());var $1=[];$1[0]=this.$30(0);$1[1]=this.$30(1);$1[2]=this.$30(2);if($0[0]==null||$1[0]==null){return;}var $2=Date.get_now()-$1[0].$3;var $3=this.$34($1[0].$0,$1[0].$1,$0[0].get_pageX(),$0[0].get_pageY());var $4=Math.sqrt($3.get_x()*$3.get_x()+$3.get_y()*$3.get_y());var $5=new Kepler.Framework.UI.Point($0[0].get_pageX(),$0[0].get_pageY());var $6=new Kepler.Framework.UI.Events.EventArgsNs.GestureTapEventArgs();$6.distance=$4;$6.movement=$3;$6.position=$5;if($2<this.$13){this.$D.$34();}else{this.$D.$36();}},$36:function($p0){if(1===this.getGestureState()&&1===$p0.get_touches().length){this.$32(4);}else if(1===this.getGestureState()&&2===$p0.get_touches().length){this.$32(7);}else if(1===this.getGestureState()&&2===$p0.get_touches().length){this.$32(10);}},$37:function($p0){var $0=[];$0[0]=this.$2D(this.$27(0),$p0.get_changedTouches());$0[1]=this.$2D(this.$27(1),$p0.get_changedTouches());$0[2]=this.$2D(this.$27(2),$p0.get_changedTouches());var $1=[];$1[0]=this.$30(0);$1[1]=this.$30(1);$1[2]=this.$30(2);if($0[0]==null||$1[0]==null){return;}var $2=this.$34($1[0].$0,$1[0].$1,$0[0].get_pageX(),$0[0].get_pageY());var $3=new Kepler.Framework.UI.Point($0[0].get_pageX(),$0[0].get_pageY());var $4=new Kepler.Framework.UI.Events.EventArgsNs.GestureDragEventArgs();$4.distance=$2;$4.movement=$2;$4.position=$3;if(this.$14<Math.abs($2.get_x())||this.$14<Math.abs($2.get_y())){this.$32(4);$4.dragPoint=new Kepler.Framework.UI.Point($0[0].get_pageX(),$0[0].get_pageY());this.$2F(this.$27(0),this.$2E(this.$27(0),$p0.get_changedTouches()));this.$2F(this.$27(1),this.$2E(this.$27(1),$p0.get_changedTouches()));this.$2F(this.$27(2),this.$2E(this.$27(2),$p0.get_changedTouches()));this.$D.$37();this.$32(5);}},$38:function($p0){var $0=[];$0[0]=this.$2D(this.$27(0),$p0.get_changedTouches());$0[1]=this.$2D(this.$27(1),$p0.get_changedTouches());$0[2]=this.$2D(this.$27(2),$p0.get_changedTouches());var $1=[];$1[0]=this.$30(0);$1[1]=this.$30(1);$1[2]=this.$30(2);if($0[0]==null||$1[0]==null){return;}var $2=Date.get_now()-$1[0].$3;var $3=this.$34($1[0].$0,$1[0].$1,$0[0].get_pageX(),$0[0].get_pageY());var $4=Math.sqrt($3.get_x()*$3.get_x()+$3.get_y()*$3.get_y());this.$6=new Kepler.Framework.UI.Point($0[0].get_pageX(),$0[0].get_pageY());var $5=new Kepler.Framework.UI.Point($0[0].get_pageX(),$0[0].get_pageY());var $6=new Kepler.Framework.UI.Events.EventArgsNs.GestureDragEventArgs();$6.distance=$4;$6.movement=$3;$6.position=$5;$6.dragPoint=this.$6;this.$D.$38();},$39:function($p0){var $0=[];$0[0]=this.$2D(this.$27(0),$p0.get_changedTouches());$0[1]=this.$2D(this.$27(1),$p0.get_changedTouches());$0[2]=this.$2D(this.$27(2),$p0.get_changedTouches());var $1=[];$1[0]=this.$30(0);$1[1]=this.$30(1);$1[2]=this.$30(2);if($0[0]==null||$1[0]==null){return;}var $2=Date.get_now()-$1[0].$3;var $3=this.$34($1[0].$0,$1[0].$1,$0[0].get_pageX(),$0[0].get_pageY());var $4=this.$33($1[0].$0,$1[0].$1,$0[0].get_pageX(),$0[0].get_pageY());var $5=Math.sqrt($3.get_x()*$3.get_x()+$3.get_y()*$3.get_y());this.$6=new Kepler.Framework.UI.Point($0[0].get_pageX(),$0[0].get_pageY());var $6=new Kepler.Framework.UI.Events.EventArgsNs.GestureDragEventArgs();$6.distance=$5;$6.movement=$3;$6.dragPoint=this.$6;$6.direction=$4;this.$D.$39();},$3A:function($p0){var $0=[];var $1=[];for(var $F=0;$F<3;$F++){$0[$F]=this.$2D(this.$27($F),$p0.get_touches());}for(var $10=0;$10<3;$10++){$1[$10]=this.$30($10);}if($0[0]==null||$0[1]==null||$1[0]==null||$1[1]==null){return;}var $2=Date.get_now()-$1[0].$3;var $3=this.$34($1[0].$0,$1[0].$1,$1[1].$0,$1[1].$1);var $4=Math.sqrt($3.get_x()*$3.get_x()+$3.get_y()*$3.get_y());var $5=Math.atan2($3.get_y(),$3.get_x())*180/Math.PI;var $6=this.$34($0[0].get_pageX(),$0[0].get_pageY(),$0[1].get_pageX(),$0[1].get_pageY());var $7=Math.sqrt($6.get_x()*$6.get_x()+$6.get_y()*$6.get_y());var $8=Math.atan2($6.get_y(),$6.get_x())*180/Math.PI;var $9=Math.round($4-$7);var $A=Math.round($5-$8);if(Math.abs($9)>=50){this.$9=true;}else if(Math.abs($A)>=10){this.$A=true;}var $B=($0[0].get_pageX()<$0[1].get_pageX())?$0[0].get_pageX():$0[1].get_pageX();var $C=($0[0].get_pageY()<$0[1].get_pageY())?$0[0].get_pageY():$0[1].get_pageY();var $D=Math.abs($0[0].get_pageX()-$0[1].get_pageX());var $E=Math.abs($0[0].get_pageY()-$0[1].get_pageY());this.$B=new Kepler.Framework.UI.Events.EventArgsNs.Framework$2();this.$B.$0=$7;this.$B.$1=$8;this.$B.$2=$6;this.$B.$3=new Kepler.Framework.UI.Rect($B,$C,$D,$E);this.$B.$4=Date.get_now();if(this.$9||this.$A){var $11=new Kepler.Framework.UI.Events.EventArgsNs.GesturePinchEventArgs();$11.distance=$7;$11.rotation=$8;$11.movement=$6;$11.rectangle=new Kepler.Framework.UI.Rect($B,$C,$D,$E);$11.event=$p0;this.$32(8);this.$D.onPinchStart($11);}},$3B:function($p0){var $0=[];var $1=[];for(var $7=0;$7<3;$7++){$0[$7]=this.$2D(this.$27($7),$p0.get_touches());}for(var $8=0;$8<3;$8++){$1[$8]=this.$30($8);}if($0[0]==null||$0[1]==null||$1[0]==null){return;}var $2=this.$34($0[0].get_pageX(),$0[0].get_pageY(),$0[1].get_pageX(),$0[1].get_pageY());var $3=Math.sqrt($2.get_x()*$2.get_x()+$2.get_y()*$2.get_y());var $4=(Math.atan2($2.get_y(),$2.get_x())*180/Math.PI);var $5=$3;var $6=($4-this.$B.$1)%360;if(this.$9||this.$A){var $9=new Kepler.Framework.UI.Events.EventArgsNs.GesturePinchEventArgs();$9.distance=(this.$9)?$5:this.$B.$0;$9.rotation=(this.$A)?Math.round($6):null;$9.movement=(this.$9)?$2:null;this.$D.onPinching($9);}},$3C:function($p0){var $0=[];var $1=[];var $2;for(var $7=0;$7<3;$7++){$2=this.$2D(this.$27($7),$p0.get_changedTouches());if($2==null){$2=this.$2D(this.$27($7),$p0.get_touches());}$0[$7]=$2;}for(var $8=0;$8<3;$8++){$1[$8]=this.$30($8);}if($0[0]==null||$0[1]==null){return;}var $3=Date.get_now()-$1[0].$3;var $4=this.$34($0[0].get_pageX(),$0[0].get_pageY(),$0[1].get_pageX(),$0[1].get_pageY());var $5=Math.sqrt($4.get_x()*$4.get_x()+$4.get_y()*$4.get_y());var $6=(Math.atan2($4.get_y(),$4.get_x())*180/Math.PI);if(this.$9||this.$A){var $9=new Kepler.Framework.UI.Events.EventArgsNs.GesturePinchEventArgs();$9.distance=$5;$9.rotation=Math.round($6);$9.movement=$4;this.$32(7);this.$D.onPinchEnd($9);}this.$9=false;this.$A=false;},$3D:function($p0){var $0=[];var $1=[];for(var $D=0;$D<3;$D++){$0[$D]=this.$2D(this.$27($D),$p0.get_touches());}for(var $E=0;$E<3;$E++){$1[$E]=this.$30($E);}if($0[0]==null||$0[1]==null||$0[2]==null){return;}var $2=Date.get_now()-$1[0].$3;var $3=$0[0].get_pageX()-$1[0].$0;var $4=$0[1].get_pageX()-$1[1].$0;var $5=$0[2].get_pageX()-$1[2].$0;var $6=$0[0].get_pageY()-$1[0].$1;var $7=$0[1].get_pageY()-$1[1].$1;var $8=$0[2].get_pageY()-$1[2].$1;var $9=Math.round(($3+$4+$5)/3);var $A=Math.round(($6+$7+$8)/3);if(Math.abs($9)<=10&&Math.abs($A)<=10){return;}var $B=new Kepler.Framework.UI.Point($9,$A);this.$C=new Kepler.Framework.UI.Events.EventArgsNs.Framework$3();this.$C.$0=$B;this.$C.$1=Date.get_now();var $C=new Kepler.Framework.UI.Events.EventArgsNs.GestureSwipeEventArgs();$C.distance=$B;$C.movement=$B;this.$D.onSwipeStart($C);this.$32(11);},$3E:function($p0){var $0=[];var $1=[];for(var $D=0;$D<3;$D++){$0[$D]=this.$2D(this.$27($D),$p0.get_touches());}for(var $E=0;$E<3;$E++){$1[$E]=this.$30($E);}if($0[0]==null||$0[1]==null||$0[2]==null){return;}var $2=Date.get_now()-$1[0].$3;var $3=$0[0].get_pageX()-$1[0].$0;var $4=$0[1].get_pageX()-$1[1].$0;var $5=$0[2].get_pageX()-$1[2].$0;var $6=$0[0].get_pageY()-$1[0].$1;var $7=$0[1].get_pageY()-$1[1].$1;var $8=$0[2].get_pageY()-$1[2].$1;var $9=Math.round(($3+$4+$5)/3);var $A=Math.round(($6+$7+$8)/3);var $B=new Kepler.Framework.UI.Point($9,$A);var $C=new Kepler.Framework.UI.Events.EventArgsNs.GestureSwipeEventArgs();$C.distance=$B;$C.movement=$B;this.$D.onSwiping($C);},$3F:function($p0){var $0=[];var $1=[];for(var $D=0;$D<3;$D++){$0[$D]=this.$2D(this.$27($D),$p0.get_changedTouches());if($0[$D]==null){$0[$D]=this.$2D(this.$27($D),$p0.get_touches());}}for(var $E=0;$E<3;$E++){$1[$E]=this.$30($E);}if($0[0]==null||$0[1]==null||$0[2]==null){return;}var $2=Date.get_now()-$1[0].$3;var $3=$0[0].get_pageX()-$1[0].$0;var $4=$0[1].get_pageX()-$1[1].$0;var $5=$0[2].get_pageX()-$1[2].$0;var $6=$0[0].get_pageY()-$1[0].$1;var $7=$0[1].get_pageY()-$1[1].$1;var $8=$0[2].get_pageY()-$1[2].$1;var $9=Math.round(($3+$4+$5)/3);var $A=Math.round(($6+$7+$8)/3);var $B=new Kepler.Framework.UI.Point(0,0);if(Math.abs($9)>10&&Math.abs($A)>10){$B=new Kepler.Framework.UI.Point($9,$A);$B.set_x($B.get_x()-this.$C.$0.get_x());$B.set_y($B.get_y()-this.$C.$0.get_y());}var $C=new Kepler.Framework.UI.Events.EventArgsNs.GestureSwipeEventArgs();$C.distance=$B;$C.movement=$B;this.$D.onSwipeEnd($C);this.$32(10);this.$C=null;}}
Type.registerNamespace('Framework.UI.Events');Framework.UI.Events.GestureState=function(){};Framework.UI.Events.GestureState.prototype = {nO_TOUCH:0,TAPHOLD:1,TAP:2,LONGTAP:3,DRAGSTART:4,DRAGGING:5,DRAGEND:6,PINCHSTART:7,PINCHING:8,PINCHEND:9,SWIPESTART:10,SWIPING:11,swipE_END:12}
Framework.UI.Events.GestureState.registerEnum('Framework.UI.Events.GestureState',false);Framework.UI.Events.DOMEventType=function(){};Framework.UI.Events.DOMEventType.prototype = {click:'click',mousedown:'mousedown',mouseup:'mouseup',mouseover:'mouseover',mousemove:'mousemove',mouseout:'mouseout',dblclick:'dblclick',mousewheel:'mousewheel',touchstart:'touchstart',touchmove:'touchmove',touchend:'touchend',touchcancel:'touchcancel',MSPointerDown:'MSPointerDown',MSPointerMove:'MSPointerMove',MSPointerUp:'MSPointerUp',MSPointerCancel:'MSPointerCancel',pointerdown:'pointerdown',pointermove:'pointermove',pointerup:'pointerup',pointercancel:'pointercancel',resize:'resize',keypress:'keypress',keydown:'keydown',keyup:'keyup',selectstart:'selectstart',selectend:'selectend',scroll:'scroll',focus:'focus',blur:'blur',orientationchange:'orientationchange',dragstart:'dragstart',drag:'drag',dragend:'dragend',drop:'drop',select:'select',selectionchange:'selectionchange',MSHoldVisual:'MSHoldVisual',wheel:'wheel',dragenter:'dragenter',dragover:'dragover',cut:'cut',copy:'copy',paste:'paste'}
Framework.UI.Events.DOMEventType.registerEnum('Framework.UI.Events.DOMEventType',false);Framework.UI.Events.Framework$1=function(){}
Framework.UI.Events.Framework$1.prototype={$0:0,$1:0,$2:0,$3:null}
Framework.UI.Events.EventDispatcher=function(){}
Framework.UI.Events.EventDispatcher.get_ctrlKey=function(){return Framework.UI.Events.EventDispatcher.$1;}
Framework.UI.Events.EventDispatcher.set_ctrlKey=function(value){Framework.UI.Events.EventDispatcher.$1=value;return value;}
Framework.UI.Events.EventDispatcher.get_shiftKey=function(){return Framework.UI.Events.EventDispatcher.$2;}
Framework.UI.Events.EventDispatcher.set_shiftKey=function(value){Framework.UI.Events.EventDispatcher.$2=value;return value;}
Framework.UI.Events.EventDispatcher.get_altKey=function(){return Framework.UI.Events.EventDispatcher.$3;}
Framework.UI.Events.EventDispatcher.set_altKey=function(value){Framework.UI.Events.EventDispatcher.$3=value;return value;}
Framework.UI.Events.EventDispatcher.$C=function(){Framework.UI.Events.EventDispatcher.$D();Framework.UI.Events.EventDispatcher.attachEvents(window.self);}
Framework.UI.Events.EventDispatcher.$D=function(){var $0;for($0=1;$0<=64;$0*=2){Framework.UI.Events.EventDispatcher.$0[$0]=new Kepler.Framework.UI.Events.EventArgsNs.MouseEventArgs($0);}Framework.UI.Events.EventDispatcher.$0[128]=new Kepler.Framework.UI.Events.EventArgsNs.MouseWheelEventArgs(128);for($0=256;$0<=2048;$0*=2){Framework.UI.Events.EventDispatcher.$0[$0]=new Kepler.Framework.UI.Events.EventArgsNs.TouchEventArgs($0);}for($0=4096;$0<=16384;$0*=2){Framework.UI.Events.EventDispatcher.$0[$0]=new Kepler.Framework.UI.Events.EventArgsNs.KeyEventArgs($0);}for($0=131072;$0<=524288;$0*=2){Framework.UI.Events.EventDispatcher.$0[$0]=new Kepler.Framework.UI.Events.EventArgsNs.ClipboardEventArgs($0);}Framework.UI.Events.EventDispatcher.$4=new Array(0);Framework.UI.Events.EventDispatcher.$5=new Array(0);}
Framework.UI.Events.EventDispatcher.attachEvents=function(winInstance){var $0=Framework.UI.Events.EventDispatcher.$1B;Framework.UI.Events.EventDispatcher.$E(winInstance,'keydown',$0,true);Framework.UI.Events.EventDispatcher.$E(winInstance,'keyup',$0,true);Framework.UI.Events.EventDispatcher.$E(winInstance,'keypress',$0,true);if(Kepler.Framework.Core.Browser.BrowserCapabilities.get_deviceType()===3){var $3=Framework.UI.Events.EventDispatcher.$16;Framework.UI.Events.EventDispatcher.$E(winInstance,'MSPointerDown',$3,true);Framework.UI.Events.EventDispatcher.$E(winInstance,'MSPointerMove',$3,true);Framework.UI.Events.EventDispatcher.$E(winInstance,'MSPointerUp',$3,true);Framework.UI.Events.EventDispatcher.$E(winInstance,'MSPointerCancel',$3,true);}else{var $4=Framework.UI.Events.EventDispatcher.$15;Framework.UI.Events.EventDispatcher.$E(winInstance,'touchstart',$4,true);Framework.UI.Events.EventDispatcher.$E(winInstance,'touchmove',$4,true);Framework.UI.Events.EventDispatcher.$E(winInstance,'touchend',$4,true);Framework.UI.Events.EventDispatcher.$E(winInstance,'touchcancel',$4,true);}var $1=Framework.UI.Events.EventDispatcher.$12;Framework.UI.Events.EventDispatcher.$E(winInstance,'click',$1,true);Framework.UI.Events.EventDispatcher.$E(winInstance,'mousedown',$1,true);Framework.UI.Events.EventDispatcher.$E(winInstance,'mouseup',$1,true);Framework.UI.Events.EventDispatcher.$E(winInstance,'mousemove',$1,true);Framework.UI.Events.EventDispatcher.$E(winInstance,'mouseover',$1,true);Framework.UI.Events.EventDispatcher.$E(winInstance,'mouseout',$1,true);Framework.UI.Events.EventDispatcher.$E(winInstance,'dblclick',$1,true);if(Kepler.Framework.Core.Browser.BrowserCapabilities.get_name()===1){Framework.UI.Events.EventDispatcher.$E(winInstance,'wheel',$1,true);}else{Framework.UI.Events.EventDispatcher.$E(winInstance,'mousewheel',$1,true);}if(Kepler.Framework.Core.Browser.BrowserCapabilities.get_name()===2&&Kepler.Framework.Core.Browser.BrowserCapabilities.get_version()>=8){var $5=winInstance;while($5.parent.frameElement!=null){$5=$5.parent;}if($5.frameElement!=null){$5.frameElement.addEventListener('mousewheel',function($p1_0){
},true);}}var $2=Framework.UI.Events.EventDispatcher.$10;Framework.UI.Events.EventDispatcher.$E(winInstance,'cut',$2,true);Framework.UI.Events.EventDispatcher.$E(winInstance,'copy',$2,true);Framework.UI.Events.EventDispatcher.$E(winInstance,'paste',$2,true);}
Framework.UI.Events.EventDispatcher.$E=function($p0,$p1,$p2,$p3){$p0.document.addEventListener($p1,$p2,$p3);}
Framework.UI.Events.EventDispatcher.$F=function(){}
Framework.UI.Events.EventDispatcher.$10=function($p0){var $0=Framework.UI.Events.EventDispatcher.getEventArgs(Framework.UI.Events.EventDispatcher.$21($p0));Framework.UI.Events.EventDispatcher.$29($0,$p0);Framework.UI.Events.EventDispatcher.processClipboardEvent($0);}
Framework.UI.Events.EventDispatcher.processClipboardEvent=function(evt){var $0=false;try{}catch($1){Framework.UI.Events.EventDispatcher.$1F('OnClipboardHookEvent',$1);}if(!$0){var $2=Kepler.Engine.UI.Controls.Control.get_$8();if($2!=null&&$2.get_enable()&&$2.isEventRegistered(evt.get_type())){try{$0=$2.onPretranslateEvent($2,evt);}catch($3){Framework.UI.Events.EventDispatcher.$1F('OnPretranslateEvent',$3);}if(!$0){try{Framework.UI.Events.EventDispatcher.$11($2,evt);}catch($4){Framework.UI.Events.EventDispatcher.$1F('FireClipboardEvent',$4);}}}}Framework.UI.Events.EventDispatcher.$32(evt);}
Framework.UI.Events.EventDispatcher.sendClipboardEvent=function(type){switch(type){case 131072:break;case 262144:document.execCommand('copy',false,null);break;case 524288:if(!Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()&&(Kepler.Framework.Core.Browser.BrowserCapabilities.get_name()===3||Kepler.Framework.Core.Browser.BrowserCapabilities.get_name()===2)){document.getElementById('clipboardWrapper').focus();}if(Kepler.Framework.Core.Browser.BrowserCapabilities.get_name()===1){var $0=null;$0 = new ClipboardEvent('paste');;document.dispatchEvent($0);}else{document.execCommand('paste',false,null);}break;}return false;}
Framework.UI.Events.EventDispatcher.clipboardFocus=function(){if(!Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()&&(Kepler.Framework.Core.Browser.BrowserCapabilities.get_name()===3||Kepler.Framework.Core.Browser.BrowserCapabilities.get_name()===2)){document.getElementById('clipboardWrapper').focus();document.getElementById('clipboardWrapper').select();;}}
Framework.UI.Events.EventDispatcher.$11=function($p0,$p1){switch($p1.get_type()){case 131072:$p0.onCut($p1);break;case 262144:$p0.onCopy($p1);break;case 524288:$p0.onPaste($p1);break;default:throw new Error('Not Implemented Exception : '+$p1.get_event().type);}}
Framework.UI.Events.EventDispatcher.$12=function($p0){if(ss.isValue(Framework.UI.Events.EventDispatcher.$B)&&Framework.UI.Events.EventDispatcher.$A){return;}var $0=Framework.UI.Events.EventDispatcher.getEventArgs(Framework.UI.Events.EventDispatcher.$22($p0));Framework.UI.Events.EventDispatcher.$2A($0,$p0);Framework.UI.Events.EventDispatcher.$13($0,$p0);}
Framework.UI.Events.EventDispatcher.$13=function($p0,$p1){if(Framework.UI.Events.EventDispatcher.$8&&$p0.get_type()!==2){Framework.UI.Events.EventDispatcher.$32($p0);return;}if($p0.get_type()===4){if(Framework.UI.Events.EventDispatcher.$9!=null){Framework.UI.Events.EventDispatcher.$9.start();}}else if($p0.get_type()===32){if(Framework.UI.Events.EventDispatcher.$9!=null&&$p1.target===document.body){Framework.UI.Events.EventDispatcher.$1E();}}else if($p0.get_type()===2){Framework.UI.Events.EventDispatcher.$7=true;Framework.UI.Events.EventDispatcher.$8=false;if(Kepler.Framework.Core.Browser.BrowserCapabilities.get_isIFrameScope()&&(typeof($p0.get_target().setCapture)==='function')){$p0.get_target().setCapture(false);}}else if($p0.get_type()===8){Framework.UI.Events.EventDispatcher.$7=false;Framework.UI.Events.EventDispatcher.$6=$p0.get_target()!==$p1.target;if(Kepler.Framework.Core.Browser.BrowserCapabilities.get_isIFrameScope()&&(typeof($p0.get_target().releaseCapture)==='function')){$p1.target.ownerDocument.releaseCapture();}}else if($p0.get_type()===64){if(Framework.UI.Events.EventDispatcher.$6){Framework.UI.Events.EventDispatcher.$32($p0);return;}}Framework.UI.Events.EventDispatcher.processMouseEvent($p0);}
Framework.UI.Events.EventDispatcher.processMouseEvent=function(evt){var $0=false;try{$0=Kepler.Framework.UI.Events.Hooks.MouseHook.$6(evt);}catch($2){Framework.UI.Events.EventDispatcher.$1F('OnMouseHookEvent',$2);}var $1=null;if(!$0){$1=Framework.UI.Events.EventDispatcher.$20(evt);if($1!=null&&$1.get_enable()&&$1.isEventRegistered(evt.get_type())){if(!(evt.get_type()===4||evt.get_type()===16||evt.get_type()===32)){try{$0=$1.onPretranslateEvent($1,evt);}catch($3){Framework.UI.Events.EventDispatcher.$1F('OnPretranslateEvent',$3);}}if(!$0){try{Framework.UI.Events.EventDispatcher.$14($1,evt);}catch($4){Framework.UI.Events.EventDispatcher.$1F('FireMouseEvent',$4);}}}}if(evt.get_type()===8&&!evt.get_button()&&$1!=null&&$1.get_dblClickEventNeeded()){}else{Framework.UI.Events.EventDispatcher.$32(evt);}}
Framework.UI.Events.EventDispatcher.$14=function($p0,$p1){switch($p1.get_type()){case 4:$p0.onMouseMove($p1);break;case 16:$p0.onMouseOver($p1);break;case 32:$p0.onMouseOut($p1);break;case 2:$p0.$4($p1);break;case 8:$p0.$5($p1);break;case 64:$p0.onMouseDblClick($p1);break;case 1:$p0.onMouseClick($p1);break;case 128:$p0.onMouseWheel($p1);break;default:throw new Error('Not Implemented Exception : '+$p1.get_event().type);}}
Framework.UI.Events.EventDispatcher.$15=function($p0){var $0=Framework.UI.Events.EventDispatcher.getEventArgs(Framework.UI.Events.EventDispatcher.$23($p0));Framework.UI.Events.EventDispatcher.$2C($0,$p0);Framework.UI.Events.EventDispatcher.$17($0,$p0);}
Framework.UI.Events.EventDispatcher.$16=function($p0){var $0=Framework.UI.Events.EventDispatcher.getEventArgs(Framework.UI.Events.EventDispatcher.$23($p0));if(Framework.UI.Events.EventDispatcher.$2E($0,$p0)){Framework.UI.Events.EventDispatcher.$17($0,$p0);}}
Framework.UI.Events.EventDispatcher.$17=function($p0,$p1){if(Framework.UI.Events.EventDispatcher.$8&&$p0.get_type()!==256){Framework.UI.Events.EventDispatcher.$32($p0);return;}if($p0.get_type()===512){if(Framework.UI.Events.EventDispatcher.$9!=null){Framework.UI.Events.EventDispatcher.$9.start();}}else if($p0.get_type()===256){Framework.UI.Events.EventDispatcher.$7=true;Framework.UI.Events.EventDispatcher.$8=false;}else if($p0.get_type()===1024){Framework.UI.Events.EventDispatcher.$7=false;}Framework.UI.Events.EventDispatcher.processTouchEvent($p0);}
Framework.UI.Events.EventDispatcher.processTouchEvent=function(evt){var $0=false;try{$0=Kepler.Framework.UI.Events.Hooks.TouchHook.$6(evt);}catch($1){Framework.UI.Events.EventDispatcher.$1F('OnTouchHookEvent',$1);}if(!$0){var $2=Framework.UI.Events.EventDispatcher.$20(evt);if($2!=null&&$2.get_enable()&&$2.isEventRegistered(evt.get_type())){if(evt.get_type()!==512){try{$0=$2.onPretranslateEvent($2,evt);}catch($3){Framework.UI.Events.EventDispatcher.$1F('OnPretranslateEvent',$3);}}if(!$0){try{Framework.UI.Events.EventDispatcher.$18($2,evt);}catch($4){Framework.UI.Events.EventDispatcher.$1F('FireTouchEvent',$4);}}}else{}}Framework.UI.Events.EventDispatcher.$19(evt);Framework.UI.Events.EventDispatcher.$32(evt);}
Framework.UI.Events.EventDispatcher.$18=function($p0,$p1){switch($p1.get_type()){case 512:$p0.onTouchMove($p1);break;case 256:$p0.onTouchStart($p1);break;case 1024:$p0.onTouchEnd($p1);break;case 2048:$p0.onTouchCancel($p1);break;default:throw new Error('Not Implemented Exception : '+$p1.get_event().type);}}
Framework.UI.Events.EventDispatcher.$19=function($p0){if(ss.isValue(Framework.UI.Events.EventDispatcher.$B)){Framework.UI.Events.EventDispatcher.$B.stop();Framework.UI.Events.EventDispatcher.$A=$p0.get_defaultPrevented();Framework.UI.Events.EventDispatcher.$B.start();}}
Framework.UI.Events.EventDispatcher.$1A=function(){Framework.UI.Events.EventDispatcher.$B.stop();Framework.UI.Events.EventDispatcher.$A=false;}
Framework.UI.Events.EventDispatcher.$1B=function($p0){var $0=Framework.UI.Events.EventDispatcher.getEventArgs(Framework.UI.Events.EventDispatcher.$24($p0));Framework.UI.Events.EventDispatcher.$2B($0,$p0);if(Kepler.Framework.Core.Browser.BrowserCapabilities.get_name()===1){if($0.get_type()===8192){var $1=Framework.UI.Events.EventDispatcher.getEventArgs(4096);if($1.get_defaultPrevented()&&!Framework.UI.Events.EventDispatcher.$1C($1)){Framework.UI.Events.EventDispatcher.$32($0);return;}}}Framework.UI.Events.EventDispatcher.processKeyEvent($0);}
Framework.UI.Events.EventDispatcher.$1C=function($p0){if($p0.get_ctrlKey()||$p0.get_metaKey()){if(($p0.get_key()===88||$p0.get_key()===67||$p0.get_key()===86)||($p0.get_type()===8192&&($p0.get_charCode().toString()==='99'||$p0.get_charCode().toString()==='118'||$p0.get_charCode().toString()==='120'))){return true;}}return false;}
Framework.UI.Events.EventDispatcher.processKeyEvent=function(evt){var $0=false;try{$0=Kepler.Framework.UI.Events.Hooks.KeyboardHook.$6(evt);}catch($1){Framework.UI.Events.EventDispatcher.$1F('OnKeyboardHookEvent',$1);}if(!$0){if(Framework.UI.Events.EventDispatcher.$1C(evt)){return;}var $2=Kepler.Engine.UI.Controls.Control.get_$8();if($2!=null&&$2.get_enable()&&$2.isEventRegistered(evt.get_type())){try{$0=$2.onPretranslateEvent($2,evt);}catch($3){Framework.UI.Events.EventDispatcher.$1F('OnPretranslateEvent',$3);}if(!$0){try{Framework.UI.Events.EventDispatcher.$1D($2,evt);}catch($4){Framework.UI.Events.EventDispatcher.$1F('FireKeyEvent',$4);}}}}if(!Framework.UI.Events.EventDispatcher.$1C(evt)){Framework.UI.Events.EventDispatcher.$32(evt);}}
Framework.UI.Events.EventDispatcher.$1D=function($p0,$p1){switch($p1.get_type()){case 4096:$p0.onKeyDown($p1);break;case 8192:$p0.onKeyPress($p1);break;case 16384:$p0.onKeyUp($p1);break;default:throw new Error('Not Implemented Exception : '+$p1.get_event().type);}}
Framework.UI.Events.EventDispatcher.$1E=function(){Framework.UI.Events.EventDispatcher.$9.stop();if(Framework.UI.Events.EventDispatcher.$7){Framework.UI.Events.EventDispatcher.$8=true;var $0;var $1;if(Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){$0=Framework.UI.Events.EventDispatcher.getEventArgs(512);$1=Framework.UI.Events.EventDispatcher.getEventArgs(1024);}else{$0=Framework.UI.Events.EventDispatcher.getEventArgs(4);$1=Framework.UI.Events.EventDispatcher.getEventArgs(8);}$1.initEventArgs(null);$1.initDomEventArgs($0.get_target(),null);$1.initModifierKeyEventArgs(false,false,false,false);if(Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){var $2=$0;var $3=$1;var $4=(($2.get_changedTouches().length>0)?$2.get_changedTouches()[0].clone():$2.get_touches()[0].clone());$3.initTouchEventArgs(new Array(0),[$4]);Framework.UI.Events.EventDispatcher.$4=new Array(0);Framework.UI.Events.EventDispatcher.$5=[$4];Framework.UI.Events.EventDispatcher.processTouchEvent($3);}else{var $5=$0;var $6=$1;$6.initMouseEventArgs($5.get_screenX(),$5.get_screenY(),$5.get_clientX(),$5.get_clientY(),$5.get_pageX(),$5.get_pageY(),$5.get_offsetX(),$5.get_offsetY(),$5.get_button());Framework.UI.Events.EventDispatcher.processMouseEvent($6);}}}
Framework.UI.Events.EventDispatcher.$1F=function($p0,$p1){}
Framework.UI.Events.EventDispatcher.getEventControl=function(evt){var $0=evt.get_target();var $1='Control';while(ss.isValue($0)){var $2=$0[$1];if(ss.isValue($2)){var $3=$2.getEventTargetControl(evt);if(ss.isValue($3)){return $3;}else{return $2;}}$0=$0.parentNode;}return null;}
Framework.UI.Events.EventDispatcher.$20=function($p0){var $0=Kepler.Framework.UI.Events.Capture.CaptureProvider.getCapture();if($0==null){return Framework.UI.Events.EventDispatcher.getEventControl($p0);}else{return $0;}}
Framework.UI.Events.EventDispatcher.$21=function($p0){switch($p0.type){case 'cut':return 131072;case 'copy':return 262144;case 'paste':return 524288;default:throw new Error('Not Implemented Exception : '+$p0.type);}}
Framework.UI.Events.EventDispatcher.$22=function($p0){switch($p0.type){case 'mousemove':return 4;case 'mouseover':return 16;case 'mouseout':return 32;case 'mousedown':return 2;case 'mouseup':return 8;case 'dblclick':return 64;case 'click':return 1;case 'mousewheel':case 'wheel':return 128;default:throw new Error('Not Implemented Exception : '+$p0.type);}}
Framework.UI.Events.EventDispatcher.$23=function($p0){switch($p0.type){case 'touchmove':case 'MSPointerMove':case 'pointermove':return 512;case 'touchstart':case 'MSPointerDown':case 'pointerdown':return 256;case 'touchend':case 'MSPointerUp':case 'pointerup':return 1024;case 'touchcancel':case 'MSPointerCancel':case 'pointercancel':return 2048;default:throw new Error('Not Implemented Exception : '+$p0.type);}}
Framework.UI.Events.EventDispatcher.$24=function($p0){switch($p0.type){case 'keydown':return 4096;case 'keypress':return 8192;case 'keyup':return 16384;default:throw new Error('Not Implemented Exception : '+$p0.type);}}
Framework.UI.Events.EventDispatcher.getEventArgs=function(eEventType){return Framework.UI.Events.EventDispatcher.$0[eEventType];}
Framework.UI.Events.EventDispatcher.$25=function($p0){if(Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){var $0=$p0.EventGenerator;if(ss.isValue($0)){return $0;}}return null;}
Framework.UI.Events.EventDispatcher.$26=function($p0){$p0.initEventArgs(null);}
Framework.UI.Events.EventDispatcher.$27=function($p0,$p1){$p0.initDomEventArgs($p1.target,$p1);}
Framework.UI.Events.EventDispatcher.$28=function($p0,$p1){var $0=$p1.ctrlKey||Framework.UI.Events.EventDispatcher.$1;var $1=$p1.shiftKey||Framework.UI.Events.EventDispatcher.$2;var $2=$p1.altKey||Framework.UI.Events.EventDispatcher.$3;$p0.initModifierKeyEventArgs($0,$1,$2,$p1.metaKey);}
Framework.UI.Events.EventDispatcher.$29=function($p0,$p1){Framework.UI.Events.EventDispatcher.$26($p0);$p0.initDomEventArgs($p1.target,$p1);var $0=null;if(ss.isValue(window.clipboardData)){$0=window.clipboardData;}else if(!ss.isNullOrUndefined($p1)){$0=$p1.clipboardData;}$p0.initClipboardEventArgs($0);}
Framework.UI.Events.EventDispatcher.$2A=function($p0,$p1){Framework.UI.Events.EventDispatcher.$26($p0);Framework.UI.Events.EventDispatcher.$27($p0,$p1);Framework.UI.Events.EventDispatcher.$28($p0,$p1);var $0=$p1.screenX;var $1=$p1.screenY;var $2=$p1.clientX;var $3=$p1.clientY;var $4=$p1.pageX;var $5=$p1.pageY;$p0.initMouseEventArgs($0,$1,$2,$3,$4,$5,$p1.offsetX,$p1.offsetY,$p1.button);if($p0.get_type()===128){var $6=0;var $7=0;if(Kepler.Framework.Core.Browser.BrowserCapabilities.get_name()===1){$6=-$p1.deltaX;$7=-$p1.deltaY;}else if(Kepler.Framework.Core.Browser.BrowserCapabilities.get_name()===3){$7=$p1.wheelDelta/40;}else{$6=$p1.wheelDeltaX/40;$7=$p1.wheelDeltaY/40;}if(!!$6){$6=($6>0)?3:-3;}if(!!$7){$7=($7>0)?3:-3;}($p0).initMouseWheelEventArgs($7,$6,$7);}}
Framework.UI.Events.EventDispatcher.$2B=function($p0,$p1){Framework.UI.Events.EventDispatcher.$26($p0);Framework.UI.Events.EventDispatcher.$27($p0,$p1);Framework.UI.Events.EventDispatcher.$28($p0,$p1);var $0=$p1.keyLocation;if(ss.isUndefined($0)){$0=$p1.location;}var $1=$p1.charCode;var $2=$p1.keyCode;var $3;if(Kepler.Framework.Core.Browser.BrowserCapabilities.get_name()===3){$3=$p1.key;}else{$3=$p1.keyIdentifier;}if(ss.isUndefined($3)){$3='U+'+$2.toString();}$p0.initKeyEventArgs($2,$1,$3,$0);}
Framework.UI.Events.EventDispatcher.$2C=function($p0,$p1){Framework.UI.Events.EventDispatcher.$26($p0);Framework.UI.Events.EventDispatcher.$27($p0,$p1);Framework.UI.Events.EventDispatcher.$28($p0,$p1);var $0=$p0.get_touches();var $1=$p0.get_changedTouches();Framework.UI.Events.EventDispatcher.$2D($0,$p1.touches);Framework.UI.Events.EventDispatcher.$2D($1,$p1.changedTouches);$p0.initTouchEventArgs($0,$1);}
Framework.UI.Events.EventDispatcher.$2D=function($p0,$p1){var $0=$p1.length;for(var $1=0;$1<$0;$1++){var $2=$p1[$1];var $3=$p0[$1];if(ss.isUndefined($3)){$p0[$1]=$3=new Kepler.Framework.UI.Events.EventArgsNs.TouchInfo();}$3.init($2.screenX,$2.screenY,$2.clientX,$2.clientY,$2.pageX,$2.pageY,Kepler.Framework.Core.Globals.invaliD_VALUE,Kepler.Framework.Core.Globals.invaliD_VALUE,$2.identifier,$2.target);}$p0.length=$0;}
Framework.UI.Events.EventDispatcher.$2E=function($p0,$p1){try{var $0=null;var $1=null;var $2=$p0.get_target();var $3=Framework.UI.Events.EventDispatcher.$30(Framework.UI.Events.EventDispatcher.$2F($p1),Framework.UI.Events.EventDispatcher.$4);if($3==null){$3=new Kepler.Framework.UI.Events.EventArgsNs.TouchInfo();if($p0.get_type()===256){Framework.UI.Events.EventDispatcher.$4[Framework.UI.Events.EventDispatcher.$4.length]=$3;}}else{$0=$3.get_pageX();$1=$3.get_pageY();}Framework.UI.Events.EventDispatcher.$26($p0);Framework.UI.Events.EventDispatcher.$27($p0,$p1);Framework.UI.Events.EventDispatcher.$28($p0,$p1);Framework.UI.Events.EventDispatcher.$31($3,$p1);if($p0.get_type()===512){if($0===$3.get_pageX()&&$1===$3.get_pageY()&&$2===$p0.get_target()){return false;}}Framework.UI.Events.EventDispatcher.$5[0]=$3;if($p0.get_type()===1024||$p0.get_type()===2048){(Framework.UI.Events.EventDispatcher.$4).remove($3);}$p0.initTouchEventArgs(Framework.UI.Events.EventDispatcher.$4,Framework.UI.Events.EventDispatcher.$5);}catch($4){}return true;}
Framework.UI.Events.EventDispatcher.$2F=function($p0){return $p0.pointerId;}
Framework.UI.Events.EventDispatcher.$30=function($p0,$p1){for(var $0=0;$0<$p1.length;$0++){if($p1[$0].get_identifier()===$p0){return $p1[$0];}}return null;}
Framework.UI.Events.EventDispatcher.$31=function($p0,$p1){var $0=Framework.UI.Events.EventDispatcher.$2F($p1);var $1=$p1.screenX;var $2=$p1.screenY;var $3=$p1.clientX;var $4=$p1.clientY;var $5=$p1.pageX;var $6=$p1.pageY;$p0.init($1,$2,$3,$4,$5,$6,$p1.offsetX,$p1.offsetY,$0,$p1.target);}
Framework.UI.Events.EventDispatcher.$32=function($p0){var $0=$p0.get_event();if($0!=null){if($p0.get_propogationStopped()){$0.stopPropagation();}if($p0.get_defaultPrevented()){$0.preventDefault();}}}
Type.registerNamespace('Kepler.Framework.UI.Events.Hooks');Kepler.Framework.UI.Events.Hooks.Hook=function(){this._lstHookEventHandlers=[];this._lstPriorityHookEventHandlers=[];}
Kepler.Framework.UI.Events.Hooks.Hook.prototype={_lstHookEventHandlers:null,_lstPriorityHookEventHandlers:null,_bInstalled:false,$0:function(){this._bInstalled=true;},$1:function(){this._bInstalled=false;},$2:function($p0,$p1){if($p0==null){throw new Error('Invalid Argument Exception : '+'hookEventHandler');}if(!this._lstHookEventHandlers.length&&!this._lstPriorityHookEventHandlers.length){this.$0();}if(ss.isValue($p1)&&$p1){this._lstPriorityHookEventHandlers.add($p0);}else{this._lstHookEventHandlers.add($p0);}},$3:function($p0,$p1){if($p0!=null){if(ss.isValue($p1)&&$p1){this._lstPriorityHookEventHandlers.remove($p0);}else{this._lstHookEventHandlers.remove($p0);}if(this._lstHookEventHandlers.length<=0&&this._lstPriorityHookEventHandlers.length<=0){this.$1();}}},$4:function($p0,$p1){if($p0!=null){if(ss.isValue($p1)&&$p1){return this._lstPriorityHookEventHandlers.indexOf($p0)!==-1;}else{return this._lstHookEventHandlers.indexOf($p0)!==-1;}}return false;},onHookEvent:function(evt){if(!this._bInstalled){return false;}var $0=false;for(var $1=this._lstPriorityHookEventHandlers.length-1;$1>=0;$1--){try{if(this._lstPriorityHookEventHandlers[$1](evt)){$0=($0|true)===1;}}catch($2){}}if($0){return true;}for(var $3=this._lstHookEventHandlers.length-1;$3>=0;$3--){try{if(this._lstHookEventHandlers[$3](evt)){return true;}}catch($4){}}return false;}}
Kepler.Framework.UI.Events.Hooks.TouchHook=function(){Kepler.Framework.UI.Events.Hooks.TouchHook.initializeBase(this);}
Kepler.Framework.UI.Events.Hooks.TouchHook.register=function(eventHandler,bIsPriorityHook){if(Kepler.Framework.UI.Events.Hooks.TouchHook.$5!=null){Kepler.Framework.UI.Events.Hooks.TouchHook.$5.$2(eventHandler,bIsPriorityHook);}}
Kepler.Framework.UI.Events.Hooks.TouchHook.unRegister=function(eventHandler,bIsPriorityHook){if(Kepler.Framework.UI.Events.Hooks.TouchHook.$5!=null){Kepler.Framework.UI.Events.Hooks.TouchHook.$5.$3(eventHandler,bIsPriorityHook);}}
Kepler.Framework.UI.Events.Hooks.TouchHook.isRegistered=function(eventHandler,bIsPriorityHook){if(Kepler.Framework.UI.Events.Hooks.TouchHook.$5!=null){return Kepler.Framework.UI.Events.Hooks.TouchHook.$5.$4(eventHandler,bIsPriorityHook);}return false;}
Kepler.Framework.UI.Events.Hooks.TouchHook.$6=function($p0){if(Kepler.Framework.UI.Events.Hooks.TouchHook.$5!=null){return Kepler.Framework.UI.Events.Hooks.TouchHook.$5.onHookEvent($p0);}return false;}
Kepler.Framework.UI.Events.Hooks.KeyboardHook=function(){Kepler.Framework.UI.Events.Hooks.KeyboardHook.initializeBase(this);}
Kepler.Framework.UI.Events.Hooks.KeyboardHook.register=function(eventHandler,bIsPriorityHook){if(Kepler.Framework.UI.Events.Hooks.KeyboardHook.$5!=null){Kepler.Framework.UI.Events.Hooks.KeyboardHook.$5.$2(eventHandler,bIsPriorityHook);}}
Kepler.Framework.UI.Events.Hooks.KeyboardHook.unRegister=function(eventHandler,bIsPriorityHook){if(Kepler.Framework.UI.Events.Hooks.KeyboardHook.$5!=null){Kepler.Framework.UI.Events.Hooks.KeyboardHook.$5.$3(eventHandler,bIsPriorityHook);}}
Kepler.Framework.UI.Events.Hooks.KeyboardHook.isRegistered=function(eventHandler,bIsPriorityHook){if(Kepler.Framework.UI.Events.Hooks.KeyboardHook.$5!=null){return Kepler.Framework.UI.Events.Hooks.KeyboardHook.$5.$4(eventHandler,bIsPriorityHook);}return false;}
Kepler.Framework.UI.Events.Hooks.KeyboardHook.$6=function($p0){if(Kepler.Framework.UI.Events.Hooks.KeyboardHook.$5!=null){return Kepler.Framework.UI.Events.Hooks.KeyboardHook.$5.onHookEvent($p0);}return false;}
Kepler.Framework.UI.Events.Hooks.MouseHook=function(){Kepler.Framework.UI.Events.Hooks.MouseHook.initializeBase(this);}
Kepler.Framework.UI.Events.Hooks.MouseHook.register=function(eventHandler,bIsPriorityHook){if(Kepler.Framework.UI.Events.Hooks.MouseHook.$5!=null){Kepler.Framework.UI.Events.Hooks.MouseHook.$5.$2(eventHandler,bIsPriorityHook);}}
Kepler.Framework.UI.Events.Hooks.MouseHook.unRegister=function(eventHandler,bIsPriorityHook){if(Kepler.Framework.UI.Events.Hooks.MouseHook.$5!=null){Kepler.Framework.UI.Events.Hooks.MouseHook.$5.$3(eventHandler,bIsPriorityHook);}}
Kepler.Framework.UI.Events.Hooks.MouseHook.isRegistered=function(eventHandler,bIsPriorityHook){if(Kepler.Framework.UI.Events.Hooks.MouseHook.$5!=null){return Kepler.Framework.UI.Events.Hooks.MouseHook.$5.$4(eventHandler,bIsPriorityHook);}return false;}
Kepler.Framework.UI.Events.Hooks.MouseHook.$6=function($p0){if(Kepler.Framework.UI.Events.Hooks.MouseHook.$5!=null){return Kepler.Framework.UI.Events.Hooks.MouseHook.$5.onHookEvent($p0);}return false;}
Type.registerNamespace('Kepler.Framework.Core.Factory');Kepler.Framework.Core.Factory.SvgFactory=function(){this.$1=[];this.$2=0;this.$3=[];this.$4=0;this.$5=[];this.$6=0;this.$7=[];this.$8=0;this.$9=[];this.$A=0;this.$B=[];this.$C=0;}
Kepler.Framework.Core.Factory.SvgFactory.get_instance=function(){return Kepler.Framework.Core.Factory.SvgFactory.$0;}
Kepler.Framework.Core.Factory.SvgFactory.prototype={$1:null,$2:0,$3:null,$4:0,$5:null,$6:0,$7:null,$8:0,$9:null,$A:0,$B:null,$C:0,$D:function($p0,$p1,$p2){if($p1>0){for(var $0=$p1-1;$0>=0;$0--){var $1=$p0[$0];if($1.ownerDocument===$p2){if($0===$p1-1){$p0[$0]=null;}else{$p0[$0]=$p0[$p1-1];$p0[$p1-1]=null;}return $1;}}}return null;},$E:function($p0,$p1,$p2,$p3){if($p0!=null){if($p3){Kepler.Engine.UI.Helper.HtmlCssHelper.clearElementAttributes($p0);}$p1[$p2]=$p0;return true;}return false;},acquireSvgElement:function(document){var $0=this.$D(this.$1,this.$2,document);if($0!=null){this.$2--;}else{$0=Kepler.Framework.UI.Helper.SvgHelper.createSvg(document);}return $0;},releaseSvgElement:function(elmSvg){if(this.$E(elmSvg,this.$1,this.$2,true)){this.$2++;}},acquireRectElement:function(document){var $0=this.$D(this.$3,this.$4,document);if($0!=null){this.$4--;}else{$0=Kepler.Framework.UI.Helper.SvgHelper.createRect(document);}return $0;},releaseRectElement:function(elmRect){if(this.$E(elmRect,this.$3,this.$4,true)){this.$4++;}},acquirePathElement:function(document){var $0=this.$D(this.$5,this.$6,document);if($0!=null){this.$6--;}else{$0=Kepler.Framework.UI.Helper.SvgHelper.createPath(document);}return $0;},releasePathElement:function(elmPath){if(this.$E(elmPath,this.$5,this.$6,false)){Kepler.Engine.UI.Helper.HtmlCssHelper.clearElementAttributes(elmPath,['d']);this.$6++;}},acquireGroupElement:function(document){var $0=this.$D(this.$7,this.$8,document);if($0!=null){this.$8--;}else{$0=Kepler.Framework.UI.Helper.SvgHelper.createGroup(document);}return $0;},releaseGroupElement:function(elmGroup){if(this.$E(elmGroup,this.$7,this.$8,true)){Kepler.Engine.UI.Helper.HtmlCssHelper.clearElementChilds(elmGroup);this.$8++;}},acquireCircleElement:function(document){var $0=this.$D(this.$9,this.$A,document);if($0!=null){this.$A--;}else{$0=Kepler.Framework.UI.Helper.SvgHelper.createCircle(document);}return $0;},releaseCircleElement:function(elmCircle){if(this.$E(elmCircle,this.$9,this.$A,true)){this.$A++;}},acquireTextElement:function(document){var $0=this.$D(this.$B,this.$C,document);if($0!=null){this.$C--;}else{$0=Kepler.Framework.UI.Helper.SvgHelper.createText(document);}return $0;},releaseTextElement:function(elmText){if(this.$E(elmText,this.$B,this.$C,true)){Kepler.Engine.UI.Helper.HtmlCssHelper.clearElementChilds(elmText);this.$C++;}}}
Type.registerNamespace('Kepler.Engine.UI.Helper');Kepler.Engine.UI.Helper.Launch_Positioning_Dir=function(){};Kepler.Engine.UI.Helper.Launch_Positioning_Dir.prototype = {eBottom:0,eRight:1,eLeft:2,eTop:3}
Kepler.Engine.UI.Helper.Launch_Positioning_Dir.registerEnum('Kepler.Engine.UI.Helper.Launch_Positioning_Dir',false);Kepler.Engine.UI.Helper.Launch_Positioning_Order=function(){};Kepler.Engine.UI.Helper.Launch_Positioning_Order.prototype = {eDefault:0,eFromMenuItem:2,eFromRibbonMiscCtrl:3,eRightLeft:4,eBottom:5,eBottomRightLeftTop:6,eFromDBCombo:7,eBottomTop:8,eFromMainViewRtClk:9,eTopBottom:10}
Kepler.Engine.UI.Helper.Launch_Positioning_Order.registerEnum('Kepler.Engine.UI.Helper.Launch_Positioning_Order',false);Kepler.Engine.UI.Helper.CalcHelper=function(){}
Kepler.Engine.UI.Helper.CalcHelper.getSuggestedLaunchRect=function(menuParams){var $0;var $1=new Kepler.Framework.UI.Rect(0,0,0,0);var $2=new Kepler.Framework.UI.Rect(0,0,0,0);var $3=new Kepler.Framework.UI.Rect(0,0,0,0);$1.set_width(menuParams.szItem.get_width());$1.set_height(menuParams.szItem.get_height());$1.set_topLeft(menuParams.rcLauncher.get_bottomLeft());$0=menuParams.ePositioningOrder.getEnumerator();while($0.moveNext()){$3=Kepler.Engine.UI.Helper.CalcHelper.getSuggestedLaunchRectInDirection(menuParams.rcLauncher,$0.current,menuParams.szItem,menuParams.rcDoc);if($3.get_height()>$2.get_height()||$3.get_width()>$2.get_width()){$2.copy($3);}if($2.get_width()===$1.get_width()){if($2.get_height()===$1.get_height()){break;}}}if(!$2.get_isZero()){$1=$2;}if(!String.isNullOrEmpty(menuParams.strLaunchFrom)&&!String.compare(menuParams.strLaunchFrom,'AppView',true)){if($1.get_height()+$1.get_top()>menuParams.rcDoc.get_height()){$1.set_top($1.get_top()-$1.get_height());}if($1.get_width()+$1.get_left()>menuParams.rcDoc.get_width()){$1.set_left(menuParams.rcDoc.get_width()-$1.get_width()-2);}}return $1;}
Kepler.Engine.UI.Helper.CalcHelper.getSuggestedLaunchRectInDirection=function(rcLauncher,ePosition,szMenu,rcDoc){var $0=new Kepler.Framework.UI.Rect(0,0,0,0);$0.set_width(szMenu.get_width());$0.set_height(szMenu.get_height());switch(ePosition){case 0:$0.set_topLeft(rcLauncher.get_bottomLeft());if($0.get_height()+$0.get_top()>rcDoc.get_height()){$0.set_height(rcDoc.get_height()-$0.get_top()-2);}if($0.get_left()+$0.get_width()>rcDoc.get_width()){$0.set_left(rcDoc.get_width()-$0.get_width()-2);}if($0.get_left()<rcDoc.get_left()){$0.set_left(rcDoc.get_left()+2);}break;case 1:$0.set_topLeft(rcLauncher.get_topRight());if($0.get_height()>rcDoc.get_height()){$0.set_top(2);$0.set_height(rcDoc.get_height()-4);}else if($0.get_top()+$0.get_height()>rcDoc.get_height()){$0.set_top(rcDoc.get_height()-$0.get_height()-2);}if($0.get_left()+$0.get_width()>rcDoc.get_width()){$0.set_width(rcDoc.get_width()-$0.get_left()-2);}break;case 2:$0.set_top(rcLauncher.get_top());$0.set_left(rcLauncher.get_left()-$0.get_width());if($0.get_height()>rcDoc.get_height()){$0.set_top(2);$0.set_height(rcDoc.get_height()-4);}else if($0.get_top()+$0.get_height()>rcDoc.get_height()){$0.set_top(rcDoc.get_height()-$0.get_height()-2);}if($0.get_left()<0){$0.set_width(rcLauncher.get_left());}break;case 3:$0.set_top(rcLauncher.get_top()-$0.get_height());$0.set_left(rcLauncher.get_left());if($0.get_top()<0){$0.set_top(2);$0.set_height(rcLauncher.get_top()-4);}if($0.get_left()+$0.get_width()>rcDoc.get_width()){$0.set_left(rcDoc.get_width()-$0.get_width()-2);}if($0.get_left()<rcDoc.get_left()){$0.set_left(rcDoc.get_left()+2);}break;default:break;}return $0;}
Kepler.Engine.UI.Helper.CalcHelper.getDistance=function(ptA,ptB){return Math.sqrt(Math.pow((ptA.get_y()-ptB.get_y()),2)+Math.pow((ptA.get_x()-ptB.get_x()),2));}
Kepler.Engine.UI.Helper.CalcHelper.getPositionRespectToRect=function(rcParent,rcSelf,oAlignment,iHMargin,iVMargin){if(ss.isNullOrUndefined(rcParent)||ss.isNullOrUndefined(oAlignment)){return null;}var $0=true;var $1=true;if(ss.isNullOrUndefined(oAlignment._eHorzAlign)){$0=false;}if(ss.isNullOrUndefined(oAlignment._eVertAlign)){$1=false;}if($0&&oAlignment._eHorzAlign!==1&&ss.isNullOrUndefined(iHMargin)){iHMargin=0;}if($1&&oAlignment._eVertAlign!==1&&ss.isNullOrUndefined(iVMargin)){iVMargin=0;}if(!$0&&!$1){return null;}var $2=true;var $3=rcSelf.get_topLeft();if($0){if(!oAlignment._eHorzAlign){$3.set_x(rcParent.get_left()+iHMargin);$2=false;}else if(oAlignment._eHorzAlign===1){$3.set_x(rcParent.get_left()+((rcParent.get_width()-rcSelf.get_width())/2));$2=false;}else if(oAlignment._eHorzAlign===2){$3.set_x(rcParent.get_left()+(rcParent.get_width()-rcSelf.get_width()-iHMargin));$2=false;}}if($1){if(!oAlignment._eVertAlign){$3.set_y(rcParent.get_top()+iVMargin);$2=false;}else if(oAlignment._eVertAlign===1){$3.set_y(rcParent.get_top()+((rcParent.get_height()-rcSelf.get_height())/2));$2=false;}else if(oAlignment._eVertAlign===2){$3.set_y(rcParent.get_top()+(rcParent.get_height()-rcSelf.get_height()-iVMargin));$2=false;}}return (($2)?null:$3);}
Kepler.Engine.UI.Helper.CalcHelper.rectSubstraction=function(rcFirst,rcSecond){var $0=new Kepler.Framework.UI.Rect(0,0,0,0);var $1=new Kepler.Framework.UI.Rect(0,0,0,0);var $2=new Kepler.Framework.UI.Rect(0,0,0,0);var $3=new Kepler.Framework.UI.Rect(0,0,0,0);var $4;var $5;var $6;if(rcFirst.get_left()<rcSecond.get_left()){$0.set_left(rcFirst.get_left());$0.set_right(rcSecond.get_left());$0.set_top(rcFirst.get_top());$0.set_bottom(rcFirst.get_bottom());}if(rcFirst.get_right()>rcSecond.get_right()){$2.set_left(rcSecond.get_right());$2.set_right(rcFirst.get_right());$2.set_top(rcFirst.get_top());$2.set_bottom(rcFirst.get_bottom());}if(rcFirst.get_top()<rcSecond.get_top()){$1.set_top(rcFirst.get_top());$1.set_bottom(rcSecond.get_top());$1.set_left(rcFirst.get_left());$1.set_right(rcFirst.get_right());}if(rcFirst.get_bottom()>rcSecond.get_bottom()){$3.set_top(rcSecond.get_bottom());$3.set_bottom(rcFirst.get_bottom());$3.set_left(rcFirst.get_left());$3.set_right(rcFirst.get_right());}$5=$0.get_width()*$0.get_height();$4=$0;$6=$5;$5=$2.get_width()*$2.get_height();if($5>$6){$4=$2;$6=$5;}$5=$1.get_width()*$1.get_height();if($5>$6){$4=$1;$6=$5;}$5=$3.get_width()*$3.get_height();if($5>$6){$4=$3;$6=$5;}return $4;}
Kepler.Engine.UI.Helper.CalcHelper.getBoundingRectF=function(arrRect){var $0=(ss.isValue(arrRect))?arrRect.length:-1;var $1=null;for(var $2=0;$2<$0;$2++){var $3=arrRect[$2];if(ss.isNullOrUndefined($1)){$1=$3;continue;}var $4=$3.get_topLeft();if($1.get_left()>$4.get_x()){$1.set_left($4.get_x());}if($1.get_top()>$4.get_y()){$1.set_top($4.get_y());}$4=$3.get_bottomRight();if($1.get_right()<$4.get_x()){$1.set_right($4.get_x());}if($1.get_bottom()<$4.get_y()){$1.set_bottom($4.get_y());}}return $1;}
Kepler.Engine.UI.Helper.CalcHelper.getBoundingRect=function(arrRect){var $0=(ss.isValue(arrRect))?arrRect.length:-1;var $1=null;for(var $2=0;$2<$0;$2++){var $3=arrRect[$2];if(ss.isNullOrUndefined($1)){$1=$3;continue;}var $4=$3.get_topLeft();$1.set_left(Math.min($1.get_left(),$4.get_x()));$1.set_top(Math.min($1.get_top(),$4.get_y()));$4=$3.get_bottomRight();$1.set_right(Math.max($1.get_right(),$4.get_x()));$1.set_bottom(Math.max($1.get_bottom(),$4.get_y()));}return $1;}
Kepler.Engine.UI.Helper.LaunchParams=function(oLaunchFrom,rcLauncher,strLaunchFrom,szItem,rcDoc,oDesktopDocMargin){this.oLaunchFrom=oLaunchFrom;this.rcLauncher=rcLauncher;this.strLaunchFrom=strLaunchFrom;this.szItem=szItem;if(ss.isNullOrUndefined(rcDoc)){if(Kepler.Engine.UI.Helper.LaunchParams.docRect==null){this.rcDoc=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientRect(document.documentElement);}else{this.rcDoc=Kepler.Engine.UI.Helper.LaunchParams.docRect;}}else{this.rcDoc=rcDoc;}if(ss.isNullOrUndefined(oDesktopDocMargin)){this.oDesktopDocMargin=Kepler.Engine.UI.Helper.LaunchParams.desktopDocMargin;}else{this.oDesktopDocMargin=oDesktopDocMargin;}this.ePositioningOrder=[];this.setPositioningOrder(0);}
Kepler.Engine.UI.Helper.LaunchParams.prototype={oLaunchFrom:null,rcLauncher:null,strLaunchFrom:null,szItem:null,rcDoc:null,oDesktopDocMargin:null,ePositioningOrder:null,addPositioningOrder:function(ePositioning){this.ePositioningOrder.add(ePositioning);},setPositioningOrder:function(eOrderType){this.ePositioningOrder.clear();switch(eOrderType){case 2:case 4:this.ePositioningOrder.add(1);this.ePositioningOrder.add(2);break;case 3:case 5:this.ePositioningOrder.add(0);break;case 7:case 8:case 9:this.ePositioningOrder.add(0);this.ePositioningOrder.add(3);break;case 10:this.ePositioningOrder.add(3);this.ePositioningOrder.add(0);break;case 0:case 6:default:this.ePositioningOrder.add(0);this.ePositioningOrder.add(1);this.ePositioningOrder.add(2);this.ePositioningOrder.add(3);break;}},clearPositioningOrder:function(){this.ePositioningOrder.clear();}}
Kepler.Engine.UI.Helper.FontLoader=function(strFont,callback){this.$2=new Kepler.Framework.Core.Timers.Timer(ss.Delegate.create(this,this.$8),50);this.$5=0;if(!!strFont.compareTo('Arial')){this.$4=strFont.replaceAll(' ','');if(ss.isValue(callback)){this.$3=callback;}var $0=document.createElement('canvas');this.$6=$0;document.body.appendChild(this.$6);this.$6.style.position='Absolute';this.$6.style.top='-100px';this.$6.style.left='-100px';this.$6.style['z-index']='-10000';this.$7=this.$6.getContext('2d');this.$7.fillStyle='RED';this.$7.fillRect(0,0,100,200);this.$7.font='30px Arial';this.$7.fillText('Hello World',10,50);var $1=this.$7.measureText('Hello World');this.$1=parseInt($1.width);this.$7.fillStyle='RED';this.$7.fillRect(0,0,100,200);this.$7.font=new ss.StringBuilder('30px ').append(this.$4).append(', Arial').toString();this.$7.fillText('Hello World',10,50);this.$2.start();}else{this.$A();if(ss.isValue(callback)){callback(this.$4);}}}
Kepler.Engine.UI.Helper.FontLoader.prototype={$1:0,$2:null,$3:null,$4:null,$5:0,$6:null,$7:null,$8:function($p0){this.$5=this.$5+50;var $0=this.$7.measureText('Hello World');var $1=parseInt($0.width);if($1!==this.$1){this.$A();this.$B();}if(this.$5>3000){this.$9();this.$B();}},$9:function(){},$A:function(){},$B:function(){this.$2.stop();document.body.removeChild(this.$6);this.$6=null;this.$5=0;if(ss.isValue(this.$3)){this.$3(this.$4);}}}
Kepler.Engine.UI.Helper.HtmlCssHelper=function(){}
Kepler.Engine.UI.Helper.HtmlCssHelper.calculateElementHeightWithText=function(strText,iWidth,strFontFamily,iFontSize,iLineHeight){var $0=document.createElement('div');$0.innerHTML=strText;$0.style.width=iWidth+'px';$0.style.fontFamily=strFontFamily;$0.style.fontSize=iFontSize+'px';if(!ss.isNullOrUndefined(iLineHeight)){$0.style.lineHeight=iLineHeight+'px';}document.body.appendChild($0);$0.style.visibility='hidden';var $1=$0.offsetHeight;document.body.removeChild($0);return $1;}
Kepler.Engine.UI.Helper.HtmlCssHelper.createElement=function(strTagName,strId,strPosition,iLeft,iTop,iWidth,iHeight,strCssClassName,mapAttrValue){if(String.isNullOrEmpty(strTagName)){return null;}var $0=document.createElement(strTagName);if(!String.isNullOrEmpty(strId)){$0.id=strId;}if(!String.isNullOrEmpty(strPosition)){Kepler.Engine.UI.Helper.HtmlCssHelper.setElementPosition($0,strPosition);}if(ss.isValue(iLeft)){Kepler.Engine.UI.Helper.HtmlCssHelper.setElementLeft($0,iLeft.toString());}if(ss.isValue(iTop)){Kepler.Engine.UI.Helper.HtmlCssHelper.setElementTop($0,iTop.toString());}if(ss.isValue(iWidth)){Kepler.Engine.UI.Helper.HtmlCssHelper.setElementWidth($0,iWidth.toString());}if(ss.isValue(iHeight)){Kepler.Engine.UI.Helper.HtmlCssHelper.setElementHeight($0,iHeight.toString());}if(!String.isNullOrEmpty(strCssClassName)){Kepler.Engine.UI.Helper.HtmlCssHelper.setElementClassName($0,strCssClassName);}if(ss.isValue(mapAttrValue)){var $dict1=mapAttrValue;for(var $key2 in $dict1){var $1={key:$key2,value:$dict1[$key2]};Kepler.Engine.UI.Helper.HtmlCssHelper.addElementAttribute($0,$1.key,$1.value);}}return $0;}
Kepler.Engine.UI.Helper.HtmlCssHelper.addElementToBody=function(element){if(ss.isNullOrUndefined(element)){return;}Kepler.Engine.UI.Helper.HtmlCssHelper.addChild(document.body,element,null);}
Kepler.Engine.UI.Helper.HtmlCssHelper.createScriptElement=function(strId,strSrc,bUseDeferLoading){var $0=document.createElement('script');$0.id=strId;$0.type='text/javascript';$0.setAttribute('language','javascript');if(ss.isValue(strSrc)){$0.src=strSrc;}if(ss.isValue(bUseDeferLoading)&&bUseDeferLoading){$0.setAttribute('defer',true);}return $0;}
Kepler.Engine.UI.Helper.HtmlCssHelper.createLinkElement=function(strId,strSrc){var $0=document.createElement('link');$0.id=strId;$0.setAttribute('type','text/css');$0.setAttribute('rel','stylesheet');if(ss.isValue(strSrc)){$0.setAttribute('href',strSrc);}return $0;}
Kepler.Engine.UI.Helper.HtmlCssHelper.addElementToHead=function(element){document.getElementsByTagName('head')[0].appendChild(element);}
Kepler.Engine.UI.Helper.HtmlCssHelper.addChild=function(elmParent,elmChild,bRefresh){if(ss.isNullOrUndefined(elmParent)||ss.isNullOrUndefined(elmChild)){return;}elmParent.appendChild(elmChild);if(ss.isValue(bRefresh)){Kepler.Engine.UI.Helper.HtmlCssHelper.setElementInnerHtml(elmParent,elmParent.innerHTML);}}
Kepler.Engine.UI.Helper.HtmlCssHelper.isElemOut=function(strSelector,elemSrc){var $0=$(elemSrc);var $1=null;if($0.is(strSelector)){$1=$0[0];}else{$1=$0.parents(strSelector)[0];}if(ss.isNullOrUndefined($1)){return true;}return false;}
Kepler.Engine.UI.Helper.HtmlCssHelper.getElementHtml=function(strTagName,strId,strPosition,iLeft,iTop,strWidth,strHeight,strCssClassName,mapAttrValue,strInnerHTML,strNameAttr,iZindex,mapStyle){if(String.isNullOrEmpty(strTagName)){return '';}var $0='<'+strTagName;if(!String.isNullOrEmpty(strId)){$0+=(" id='"+strId+"'");}if(!String.isNullOrEmpty(strCssClassName)){$0+=" class='"+strCssClassName+"'";}if(!String.isNullOrEmpty(strWidth)&&strWidth.indexOf('%')===-1){strWidth+='px';}if(!String.isNullOrEmpty(strHeight)&&strHeight.indexOf('%')===-1){strHeight+='px';}$0+=" style='";if(!String.isNullOrEmpty(strPosition)){$0+='position:'+strPosition+';';}if(iLeft!==9999&&ss.isValue(iLeft)){$0+='left:'+iLeft+'px;';}if(iTop!==9999&&ss.isValue(iTop)){$0+='top:'+iTop+'px;';}if(!String.isNullOrEmpty(strWidth)){$0+='width:'+strWidth+';';}if(!String.isNullOrEmpty(strHeight)){$0+='height:'+strHeight+';';}if(ss.isValue(iZindex)){$0+='z-index:'+iZindex.toString()+';';}if(ss.isValue(mapStyle)){var $dict1=mapStyle;for(var $key2 in $dict1){var $1={key:$key2,value:$dict1[$key2]};var $2=$1.key;var $3=$1.value;$0+=$2+':'+$3+';';}}$0+="'";if(!String.isNullOrEmpty(strNameAttr)){$0+=" name='"+strNameAttr+"'";}if(ss.isValue(mapAttrValue)){var $dict3=mapAttrValue;for(var $key4 in $dict3){var $4={key:$key4,value:$dict3[$key4]};$0+=' '+$4.key+"='"+$4.value+"'";}}$0+='>';if(!String.isNullOrEmpty(strInnerHTML)){$0+=strInnerHTML;}$0+='</'+strTagName+'>';return $0;}
Kepler.Engine.UI.Helper.HtmlCssHelper.getImgElementHtml=function(strSrc,strClass,mapAttrValue){var $0='<img';if(!String.isNullOrEmpty(strSrc)){$0+=" src='"+strSrc+"'";}if(!String.isNullOrEmpty(strClass)){$0+=" class='"+strClass+"'";}if(ss.isValue(mapAttrValue)){var $dict1=mapAttrValue;for(var $key2 in $dict1){var $1={key:$key2,value:$dict1[$key2]};$0+=' '+$1.key+"='"+$1.value+"'";}}$0+='/>';return $0;}
Kepler.Engine.UI.Helper.HtmlCssHelper.modifyElementStyle=function(strHtml,strStyle,bAppend){var $0='';if(String.isNullOrEmpty(strHtml)){return '';}var $1=strHtml.indexOf("style='");if(!!$1){var $2=strHtml.indexOf("'",$1);var $3=strHtml.indexOf("'",$2+1);$2++;var $4=strHtml.substring($2,$3);var $5='';$5=$4;if(bAppend){$5=String.concat($5,strStyle);}else{$5=strStyle;}$0=strHtml;$0=$0.replaceAll($4,$5);}return $0;}
Kepler.Engine.UI.Helper.HtmlCssHelper.getCSSProperty=function(element,strProperty){if(element.currentStyle!=null){return element.currentStyle[strProperty];}else{var $0=document.defaultView;var $1=$0.getComputedStyle(element,null);return $1.getPropertyValue(strProperty);}}
Kepler.Engine.UI.Helper.HtmlCssHelper.getCalculatedCSSProperty=function(element,strProperty){var $0=document.defaultView;var $1=$0.getComputedStyle(element,null);return $1.getPropertyValue(strProperty);}
Kepler.Engine.UI.Helper.HtmlCssHelper.applyTransition=function(element,strProperty,strTime,strDelay){if(ss.isNullOrUndefined(element)){return;}var $0='';if(ss.isNullOrUndefined(strProperty)){$0=null;}else{if(ss.isNullOrUndefined(strTime)){$0=strProperty+' 150ms linear;';}else{$0=strProperty+' '+strTime;}}if(!ss.isNullOrUndefined(strDelay)){$0+=' '+strDelay;}element.style['-webkit-transition']=$0;element.style.transition=$0;element.style['-moz-transition']=$0;element.style['-o-transition']=$0;}
Kepler.Engine.UI.Helper.HtmlCssHelper.remvoeAllTransition=function(element){Kepler.Engine.UI.Helper.HtmlCssHelper.applyTransition(element,null,null);}
Kepler.Engine.UI.Helper.HtmlCssHelper.getCssAndUpdateDictionary=function(jQSrc,dictOut){var $dict1=dictOut;for(var $key2 in $dict1){var $0={key:$key2,value:$dict1[$key2]};dictOut[$0.key]=jQSrc.css($0.key);}}
Kepler.Engine.UI.Helper.HtmlCssHelper.getParentElementByName=function(element,strName){try{while(ss.isValue(element)&&element.nodeName!=='#document'){if(!(typeof(element.hasAttribute)==='function')){element=element.parentNode;}if(ss.isValue(element)&&element.hasAttribute('name')){var $0=element.getAttribute('name');if($0===strName){return element;}}if(ss.isValue(element)){element=element.parentNode;}}}catch($1){}return null;}
Kepler.Engine.UI.Helper.HtmlCssHelper.getParentElementById=function(element,strId){while(ss.isValue(element)){if(element.nodeName==='#document'){return null;}if(!(typeof(element.hasAttribute)==='function')){element=element.parentNode;}if(element.hasAttribute('id')){var $0=element.getAttribute('id');if($0===strId){return element;}}element=element.parentNode;}return null;}
Kepler.Engine.UI.Helper.HtmlCssHelper.checkTargetWithinContainer=function(elmCntnr,elmTarget){var $0=false;if(ss.isValue(elmCntnr)){if(elmCntnr===elmTarget){$0=true;}else{var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getCommonParent(elmCntnr,elmTarget);if(ss.isValue($1)&&$1===elmCntnr){$0=true;}}}return $0;}
Kepler.Engine.UI.Helper.HtmlCssHelper.getCommonParent=function(elm1,elm2){var $0=null;var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.compareDocumentPosition(elm1,elm2);if(!($1&Kepler.Engine.UI.Helper.HtmlCssHelper.documenT_POSITION_DISCONNECTED)){if(!!($1&Kepler.Engine.UI.Helper.HtmlCssHelper.documenT_POSITION_CONTAINED_BY)){$0=elm1;}else if(!!($1&Kepler.Engine.UI.Helper.HtmlCssHelper.documenT_POSITION_CONTAINS)){$0=elm2;}else{var $2=elm1;while(ss.isValue($2)&&!($1&Kepler.Engine.UI.Helper.HtmlCssHelper.documenT_POSITION_CONTAINED_BY)){$2=$2.parentNode;$1=Kepler.Engine.UI.Helper.HtmlCssHelper.compareDocumentPosition($2,elm2);}$0=$2;}}return $0;}
Kepler.Engine.UI.Helper.HtmlCssHelper.compareDocumentPosition=function(elm1,elm2){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.documenT_POSITION_DISCONNECTED;try{$0=elm1.compareDocumentPosition(elm2);}catch($1){}return $0;}
Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementById=function(element,strChildId){if(ss.isNullOrUndefined(element)||String.isNullOrEmpty(strChildId)){return null;}var $0=$(element);var $1=null;$1=($0.is('#'+strChildId))?element:$0.find('#'+strChildId)[0];return $1;}
Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementByClassName=function(element,strChildId){strChildId=strChildId.trim();if(ss.isNullOrUndefined(element)){return null;}var $0=$(element);var $1=null;$1=($0.hasClass(strChildId))?element:$0.find('.'+strChildId)[0];return $1;}
Kepler.Engine.UI.Helper.HtmlCssHelper.getFirstChildElementByName=function(element,strName){if(ss.isNullOrUndefined(element)){return null;}return element.querySelector('[name='+strName+']');}
Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementsByName=function(element,strName){if(ss.isNullOrUndefined(element)){return null;}var $0=$(element);var $1=$0.find('[name='+strName+']');return $1.get();}
Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementsByNameFirstLevel=function(element,strName){if(ss.isNullOrUndefined(element)){return null;}var $0=$(element);var $1=$0.children('[name='+strName+']');return $1.get();}
Kepler.Engine.UI.Helper.HtmlCssHelper.getParentElement=function(strTag,strID,oCurElement,bBySubString){strTag=strTag.toLowerCase();while(!ss.isNullOrUndefined(oCurElement)){var $0=oCurElement.tagName;if($0!=null){$0=$0.toLowerCase();}if(ss.isValue(oCurElement.id)){var $1=oCurElement.id;if(strTag==null||!strTag||$0===strTag){if(strID==null||!strID||strID===$1){return oCurElement;}else if(!!bBySubString&&!$1.indexOf(strID)){return oCurElement;}}}oCurElement=oCurElement.parentNode;}return null;}
Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementsByTagName=function(element,strTagName){var $0=[];var $1=element.children;var $2=$1.length;for(var $3=0;$3<$2;$3++){if(!$1[$3].tagName.compareTo(strTagName,true)){$0.add($1[$3]);}}return $0;}
Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementByAttr=function(elemMenu,strSelector){if(ss.isNullOrUndefined(elemMenu)){return null;}var $0=$(elemMenu);return ($0.is(strSelector))?$0[0]:$0.find(strSelector)[0];}
Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementsByAttr=function(elemMenu,strSelector){if(ss.isNullOrUndefined(elemMenu)){return null;}var $0=$(elemMenu);$0=($0.is(strSelector))?$0:$0.find(strSelector);var $1=$0.get();return $1;}
Kepler.Engine.UI.Helper.HtmlCssHelper.setElementProperties=function(strId,strAttrName,strAttrValue){if(String.isNullOrEmpty(strId)){return;}var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementFromId(strId);if(ss.isNullOrUndefined($0)){return;}switch(strAttrName){case 'left':Kepler.Engine.UI.Helper.HtmlCssHelper.setElementLeft($0,strAttrValue);break;case 'top':Kepler.Engine.UI.Helper.HtmlCssHelper.setElementTop($0,strAttrValue);break;case 'width':Kepler.Engine.UI.Helper.HtmlCssHelper.setElementWidth($0,strAttrValue);break;case 'height':Kepler.Engine.UI.Helper.HtmlCssHelper.setElementHeight($0,strAttrValue);break;case 'position':Kepler.Engine.UI.Helper.HtmlCssHelper.setElementPosition($0,strAttrValue);break;case 'display':Kepler.Engine.UI.Helper.HtmlCssHelper.setElementDisplay($0,strAttrValue);break;case 'border-color':Kepler.Engine.UI.Helper.HtmlCssHelper.setElementBorderColor($0,strAttrValue);break;case 'class':Kepler.Engine.UI.Helper.HtmlCssHelper.setElementClassName($0,strAttrValue);break;case 'name':Kepler.Engine.UI.Helper.HtmlCssHelper.addElementAttribute($0,strAttrName,strAttrValue);break;case 'z-index':Kepler.Engine.UI.Helper.HtmlCssHelper.setElementZindex($0,strAttrValue);break;case 'innerhtml':Kepler.Engine.UI.Helper.HtmlCssHelper.setElementInnerHtml($0,strAttrValue);break;case 'innertext':Kepler.Engine.UI.Helper.HtmlCssHelper.setElementInnerText($0,strAttrValue);break;case 'visibility':Kepler.Engine.UI.Helper.HtmlCssHelper.setElementVisibility($0,strAttrValue);break;default:Kepler.Engine.UI.Helper.HtmlCssHelper.addElementAttribute($0,strAttrName,strAttrValue);break;}}
Kepler.Engine.UI.Helper.HtmlCssHelper.getElementRect=function(element){if(ss.isNullOrUndefined(element)){return null;}var $0=$(element);var $1=$0.offset().left;var $2=$0.offset().top;var $3=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementWidth(element);var $4=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementHeight(element);return new Kepler.Framework.UI.Rect($1,$2,$3,$4);}
Kepler.Engine.UI.Helper.HtmlCssHelper.getElementWidth=function(element){return element.clientWidth;}
Kepler.Engine.UI.Helper.HtmlCssHelper.getElementTop=function(element){return parseInt(element.style.top,10);}
Kepler.Engine.UI.Helper.HtmlCssHelper.getElementLeft=function(element){return parseInt(element.style.left,10);}
Kepler.Engine.UI.Helper.HtmlCssHelper.getElementHeight=function(element){return element.clientHeight;}
Kepler.Engine.UI.Helper.HtmlCssHelper.measureElementWidthFromText=function(strText){var $0=0;var $1=document.createElement('span');$1.innerHTML=strText;$1.style.visibility='hidden';Kepler.Engine.UI.Helper.HtmlCssHelper.addElementToBody($1);$0=parseInt(Kepler.Engine.UI.Helper.HtmlCssHelper.getCSSProperty($1,'width'),10);document.body.removeChild($1);return $0;}
Kepler.Engine.UI.Helper.HtmlCssHelper.getStyleProperty=function(element,strProperty){if(ss.isNullOrUndefined(element)){return '';}var $0='';var $1=$(element);$0=$1.css(strProperty);return $0;}
Kepler.Engine.UI.Helper.HtmlCssHelper.setStyleProperty=function(element,strProperty,strValue){if(ss.isNullOrUndefined(element)){return;}var $0=$(element);$0.css(strProperty,strValue);}
Kepler.Engine.UI.Helper.HtmlCssHelper.getCssRect=function(element){if(ss.isNullOrUndefined(element)){return null;}var $0=new Kepler.Framework.UI.Rect(0,0,0,0);if(isNaN($0.set_left(parseInt(Kepler.Engine.UI.Helper.HtmlCssHelper.getCSSProperty(element,'left'))))){$0.set_left(0);}if(isNaN($0.set_top(parseInt(Kepler.Engine.UI.Helper.HtmlCssHelper.getCSSProperty(element,'top'))))){$0.set_top(0);}if(isNaN($0.set_width(parseInt(Kepler.Engine.UI.Helper.HtmlCssHelper.getCSSProperty(element,'width'))))){$0.set_width(0);}if(isNaN($0.set_height(parseInt(Kepler.Engine.UI.Helper.HtmlCssHelper.getCSSProperty(element,'height'))))){$0.set_height(0);}return $0;}
Kepler.Engine.UI.Helper.HtmlCssHelper.getComputedStyleObject=function(element){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementOwnerWindow(element);return (ss.isValue($0))?$0.getComputedStyle(element,null):null;}
Kepler.Engine.UI.Helper.HtmlCssHelper.getComputedRect=function(element){if(ss.isNullOrUndefined(element)){return null;}var $0=new Kepler.Framework.UI.Rect(0,0,0,0);var $1=document.defaultView;var $2=$1.getComputedStyle(element,null);if(isNaN($0.set_left(parseInt($2.getPropertyValue('left'))))){$0.set_left(0);}if(isNaN($0.set_top(parseInt($2.getPropertyValue('top'))))){$0.set_top(0);}if(isNaN($0.set_width(parseInt($2.getPropertyValue('width'))))){$0.set_width(0);}if(isNaN($0.set_height(parseInt($2.getPropertyValue('height'))))){$0.set_height(0);}return $0;}
Kepler.Engine.UI.Helper.HtmlCssHelper.getComputedWidth=function(element){var $0=0;if(ss.isValue(element)){var $1=document.defaultView;var $2=$1.getComputedStyle(element,null);if(isNaN($0=parseInt($2.getPropertyValue('width')))){$0=0;}}return $0;}
Kepler.Engine.UI.Helper.HtmlCssHelper.getComputedHeight=function(element){var $0=0;if(ss.isValue(element)){var $1=document.defaultView;var $2=$1.getComputedStyle(element,null);if(isNaN($0=parseInt($2.getPropertyValue('height')))){$0=0;}}return $0;}
Kepler.Engine.UI.Helper.HtmlCssHelper.setGrayscaleUri=function(element){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getStyleProperty(element,'background-image');if(String.isNullOrEmpty($0)||$0==='none'){return;}$0=$0.replace('url(','');$0=$0.replace(')','');$0=$0.replaceAll('"','');if($0.indexOf('data:')!==-1){return;}var $1='';var $2=document.createElement('canvas');var $3=$2.getContext('2d');if(ss.isNullOrUndefined($2)||ss.isNullOrUndefined($3)){return;}var $4=0;if(String.isNullOrEmpty(Kepler.Engine.UI.Helper.HtmlCssHelper.getStyleProperty(element,'width'))){return;}$4=parseInt(Kepler.Engine.UI.Helper.HtmlCssHelper.getStyleProperty(element,'width'));$2.width=$4;var $5=0;if(String.isNullOrEmpty(Kepler.Engine.UI.Helper.HtmlCssHelper.getStyleProperty(element,'height'))){return;}$5=parseInt(Kepler.Engine.UI.Helper.HtmlCssHelper.getStyleProperty(element,'height'));$2.height=$5;var $6=0;if(String.isNullOrEmpty(Kepler.Engine.UI.Helper.HtmlCssHelper.getStyleProperty(element,'background-position-x'))){return;}$6=parseInt(Kepler.Engine.UI.Helper.HtmlCssHelper.getStyleProperty(element,'background-position-x'))*-1;var $7=0;if(String.isNullOrEmpty(Kepler.Engine.UI.Helper.HtmlCssHelper.getStyleProperty(element,'background-position-y'))){return;}$7=parseInt(Kepler.Engine.UI.Helper.HtmlCssHelper.getStyleProperty(element,'background-position-y'))*-1;var $8=new Image();$8.onload=function($p1_0){
var $1_0=Kepler.Framework.Core.Browser.BrowserCapabilities.getZoomFactor();$3.drawImage(($8),$6/$1_0,$7/$1_0,$4,$5,0,0,$4,$5);var $1_1=$3.getImageData(0,0,$4,$5);for(var $1_2=0;$1_2<$1_1.height;$1_2++){for(var $1_3=0;$1_3<$1_1.width;$1_3++){var $1_4=($1_2*4)*$1_1.width+$1_3*4;var $1_5=(parseInt($1_1.data[$1_4].toString())+parseInt($1_1.data[$1_4+1].toString())+parseInt($1_1.data[$1_4+2].toString()))/3;$1_1.data[$1_4]=$1_5;$1_1.data[$1_4+1]=$1_5;$1_1.data[$1_4+2]=$1_5;}}$3.putImageData($1_1,0,0,0,0,$1_1.width,$1_1.height);$1=$2.toDataURL();$1="url('"+$1+"')";element.style.backgroundImage=$1;element.style.backgroundPosition='0px 0px';};($8).style.zoom='100%';$8.src=$0;}
Kepler.Engine.UI.Helper.HtmlCssHelper.getElementFromId=function(strId){var $0=document.getElementById(strId);if(ss.isValue($0)){return $0;}else{$0=document.getElementById(strId);if(ss.isValue($0)){return $0;}return null;}}
Kepler.Engine.UI.Helper.HtmlCssHelper.setElementBackground=function(element,strAttrValue){element.style.background=strAttrValue;}
Kepler.Engine.UI.Helper.HtmlCssHelper.setElementBackgroundColor=function(element,strAttrValue){element.style.backgroundColor=strAttrValue;}
Kepler.Engine.UI.Helper.HtmlCssHelper.setElementBackgroundPosition=function(element,strAttrValue){element.style.backgroundPosition=strAttrValue;}
Kepler.Engine.UI.Helper.HtmlCssHelper.setElementBackgroundClip=function(element,strAttrValue){Kepler.Engine.UI.Helper.HtmlCssHelper.setStyleProperty(element,'background-clip',strAttrValue);Kepler.Engine.UI.Helper.HtmlCssHelper.setStyleProperty(element,'-webkit-background-clip',strAttrValue);}
Kepler.Engine.UI.Helper.HtmlCssHelper.setElementBorder=function(element,strAttrValue){element.style.border=strAttrValue;}
Kepler.Engine.UI.Helper.HtmlCssHelper.setElementBorderLeft=function(element,strAttrValue){element.style.borderLeft=strAttrValue;}
Kepler.Engine.UI.Helper.HtmlCssHelper.setElementBorderRight=function(element,strAttrValue){element.style.borderRight=strAttrValue;}
Kepler.Engine.UI.Helper.HtmlCssHelper.setElementBorderTop=function(element,strAttrValue){element.style.borderTop=strAttrValue;}
Kepler.Engine.UI.Helper.HtmlCssHelper.setElementBorderBottom=function(element,strAttrValue){element.style.borderBottom=strAttrValue;}
Kepler.Engine.UI.Helper.HtmlCssHelper.setElementBorderColor=function(element,strAttrValue){if(ss.isNullOrUndefined(element)){return;}element.style.borderColor=strAttrValue;}
Kepler.Engine.UI.Helper.HtmlCssHelper.setElementOutline=function(element,strValue){element.style['outline']=strValue;}
Kepler.Engine.UI.Helper.HtmlCssHelper.setElementInnerText=function(element,strAttrValue){if(Kepler.Framework.Core.Browser.BrowserCapabilities.get_name()!==1&&element.nodeType!==3){element.innerText=strAttrValue;}else{element.textContent=strAttrValue;}}
Kepler.Engine.UI.Helper.HtmlCssHelper.getElementInnerText=function(element){var $0='';if(ss.isValue(element)){$0=(Kepler.Framework.Core.Browser.BrowserCapabilities.get_name()!==1&&element.nodeType!==3)?element.innerText:element.textContent;}return $0;}
Kepler.Engine.UI.Helper.HtmlCssHelper.setElementMargin=function(element,strAttrValue){if(ss.isNullOrUndefined(element)){return;}element.style.margin=strAttrValue;}
Kepler.Engine.UI.Helper.HtmlCssHelper.setElementInnerHtml=function(element,strAttrValue){if(ss.isNullOrUndefined(element)){return;}element.innerHTML=strAttrValue;}
Kepler.Engine.UI.Helper.HtmlCssHelper.setElementDisplay=function(element,strAttrValue){if(ss.isNullOrUndefined(element)){return;}element.style.display=strAttrValue;}
Kepler.Engine.UI.Helper.HtmlCssHelper.setElementVisibility=function(element,strAttrValue){if(ss.isNullOrUndefined(element)){return;}element.style.visibility=strAttrValue;}
Kepler.Engine.UI.Helper.HtmlCssHelper.setElementZindex=function(element,strAttrValue){if(ss.isNullOrUndefined(element)){return;}element.style.zIndex=parseInt(strAttrValue);}
Kepler.Engine.UI.Helper.HtmlCssHelper.addElementAttribute=function(element,strAttrName,strAttrValue){if(ss.isNullOrUndefined(element)){return;}element.setAttribute(strAttrName,strAttrValue);}
Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttribute=function(element,strAttribute){var $0=null;if((typeof(element.hasAttribute)==='function')){if(element.hasAttribute(strAttribute)){$0=element.getAttribute(strAttribute);}}return $0;}
Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString=function(element,strAttribute){var $0=null;var $1='';if((typeof(element.hasAttribute)==='function')){if(element.hasAttribute(strAttribute)){$0=element.getAttribute(strAttribute);if(ss.isValue($0)){$1=$0.toString();}}}return $1;}
Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt=function(element,strAttribute,iDefValue){if(ss.isNullOrUndefined(iDefValue)){iDefValue=0;}var $0=null;var $1='';var $2=iDefValue;if((typeof(element.hasAttribute)==='function')){if(element.hasAttribute(strAttribute)){$0=element.getAttribute(strAttribute);if(ss.isValue($0)){$1=$0.toString();if(!String.isNullOrEmpty($1)){$2=parseInt($1,10);}}}}return $2;}
Kepler.Engine.UI.Helper.HtmlCssHelper.setElementClassName=function(element,strAttrValue){if(ss.isNullOrUndefined(element)){return;}element.className=strAttrValue;}
Kepler.Engine.UI.Helper.HtmlCssHelper.setElementPosition=function(element,strAttrValue){if(ss.isNullOrUndefined(element)){return;}element.style.position=strAttrValue;}
Kepler.Engine.UI.Helper.HtmlCssHelper.setElementTextAlign=function(element,strAttrValue){element.style.textAlign=strAttrValue;}
Kepler.Engine.UI.Helper.HtmlCssHelper.setElementTop=function(element,strAttrValue){if(ss.isNullOrUndefined(element)){return;}if((strAttrValue.indexOf('%')===-1)&&(strAttrValue.indexOf('px')===-1)){strAttrValue=strAttrValue+'px';}element.style.top=strAttrValue;}
Kepler.Engine.UI.Helper.HtmlCssHelper.setElementLeft=function(element,strAttrValue){if(ss.isNullOrUndefined(element)){return;}if((strAttrValue.indexOf('%')===-1)&&(strAttrValue.indexOf('px')===-1)){strAttrValue=strAttrValue+'px';}element.style.left=strAttrValue;}
Kepler.Engine.UI.Helper.HtmlCssHelper.setElementRect=function(elm,rcValue){if(ss.isNullOrUndefined(elm)){return;}var $0=elm.style;$0.left=rcValue.get_left()+'px';$0.top=rcValue.get_top()+'px';$0.width=rcValue.get_width()+'px';$0.height=rcValue.get_height()+'px';}
Kepler.Engine.UI.Helper.HtmlCssHelper.setElementWhiteSpace=function(element,strAttrValue){if(ss.isNullOrUndefined(element)){return;}element.style.whiteSpace=strAttrValue;}
Kepler.Engine.UI.Helper.HtmlCssHelper.setElementWidth=function(element,strAttrValue){if(ss.isNullOrUndefined(element)){return;}if((strAttrValue.indexOf('%')===-1)&&(strAttrValue.indexOf('px')===-1)){strAttrValue=strAttrValue+'px';}element.style.width=strAttrValue;}
Kepler.Engine.UI.Helper.HtmlCssHelper.setElementHeight=function(element,strAttrValue){if(ss.isNullOrUndefined(element)){return;}if((strAttrValue.indexOf('%')===-1)&&(strAttrValue.indexOf('px')===-1)){strAttrValue=strAttrValue+'px';}element.style.height=strAttrValue;}
Kepler.Engine.UI.Helper.HtmlCssHelper.setElementLineHeight=function(element,strAttrValue){if(ss.isNullOrUndefined(element)){return;}element.style.lineHeight=strAttrValue;}
Kepler.Engine.UI.Helper.HtmlCssHelper.setElementVerticalAlign=function(element,strAttrValue){if(ss.isNullOrUndefined(element)){return;}element.style.verticalAlign=strAttrValue;}
Kepler.Engine.UI.Helper.HtmlCssHelper.setElementOverflow=function(element,strAttrValue){if(ss.isNullOrUndefined(element)){return;}element.style.overflow=strAttrValue;}
Kepler.Engine.UI.Helper.HtmlCssHelper.setElementPadding=function(element,strAttrValue){if(ss.isNullOrUndefined(element)){return;}element.style.padding=strAttrValue;}
Kepler.Engine.UI.Helper.HtmlCssHelper.setElementLocation=function(element,ptLocation){var $0=element.style;$0.left=ptLocation.get_x()+'px';$0.top=ptLocation.get_y()+'px';}
Kepler.Engine.UI.Helper.HtmlCssHelper.setElementSize=function(element,size){var $0=element.style;$0.width=size.get_width()+'px';$0.height=size.get_height()+'px';}
Kepler.Engine.UI.Helper.HtmlCssHelper.setElementOpacity=function(element,opacity){var $0=element.style;$0.opacity=opacity;}
Kepler.Engine.UI.Helper.HtmlCssHelper.appendChild=function(strParentId,elemChild){if(String.isNullOrEmpty(strParentId)||ss.isNullOrUndefined(elemChild)){return;}var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementFromId(strParentId);if(ss.isValue($0)){$0.appendChild(elemChild);}}
Kepler.Engine.UI.Helper.HtmlCssHelper.removeElementFromDomTree=function(elmTarget){var $0=elmTarget.parentNode;if(ss.isValue($0)){$0.removeChild(elmTarget);return true;}return false;}
Kepler.Engine.UI.Helper.HtmlCssHelper.getElementChildAt=function(element,iIdx){if(ss.isNullOrUndefined(element)||iIdx<0){return null;}return element.childNodes[iIdx];}
Kepler.Engine.UI.Helper.HtmlCssHelper.getElementTransformOrigin=function(element){var $0;if(ss.isValue($0=element.style['-webkit-transform-origin'])){return $0;}else if(ss.isValue($0=element.style['-ms-transform-origin'])){return $0;}else if(ss.isValue($0=element.style['-moz-transform-origin'])){return $0;}else if(ss.isValue($0=element.style['-o-transform-origin'])){return $0;}else if(ss.isValue($0=element.style['transform-origin'])){return $0;}else{return $0;}}
Kepler.Engine.UI.Helper.HtmlCssHelper.setElementTransformOrigin=function(element,strTransform){element.style['-webkit-transform-origin']=strTransform;element.style['-ms-transform-origin']=strTransform;element.style.MozTransformOrigin=strTransform;element.style['-o-transform-origin']=strTransform;element.style['transform-origin']=strTransform;}
Kepler.Engine.UI.Helper.HtmlCssHelper.getElementTransform=function(element){var $0;if(ss.isValue($0=element.style['-webkit-transform'])){return $0;}else if(ss.isValue($0=element.style['-ms-transform'])){return $0;}else if(ss.isValue($0=element.style.MozTransform)){return $0;}else if(ss.isValue($0=element.style['-o-transform'])){return $0;}else if(ss.isValue($0=element.style.transform)){return $0;}else{return '';}}
Kepler.Engine.UI.Helper.HtmlCssHelper.setElementTransform=function(element,strTransform){element.style['-webkit-transform']=strTransform;element.style['-ms-transform']=strTransform;element.style.MozTransform=strTransform;element.style['-o-transform']=strTransform;element.style.transform=strTransform;}
Kepler.Engine.UI.Helper.HtmlCssHelper.getElementRotation=function(element){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementTransform(element);var $1;if(($1=$0.indexOf('rotate('))>-1){return parseFloat($0.substring($1+7,$0.length));}return 0;}
Kepler.Engine.UI.Helper.HtmlCssHelper.setElementRotation=function(element,dDegree){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementTransform(element);var $1;if(($1=$0.indexOf('rotate'))>-1){var $2=$0.indexOf(')',$1);var $3=$0.length;$0=$0.substring(0,$1)+'rotate('+dDegree+'deg)'+(($2+1<$3)?$0.substring($2+1,$3):'');}else{$0+='rotate('+dDegree+'deg)';}Kepler.Engine.UI.Helper.HtmlCssHelper.setElementTransform(element,$0);}
Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientPosition=function(element){if(ss.isNullOrUndefined(element)){return null;}var $0;var $1=0,$2=0;try{$0=element.getBoundingClientRect(null);$1=$0.left;$2=$0.top;}catch($3){}return new Kepler.Framework.UI.Point($1,$2);}
Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientRect=function(element){if(ss.isNullOrUndefined(element)){return null;}var $0;var $1=0,$2=0,$3=0,$4=0;try{$0=element.getBoundingClientRect(null);$1=$0.left;$2=$0.top;$3=$0.width;$4=$0.height;}catch($5){}return new Kepler.Framework.UI.Rect($1,$2,$3,$4);}
Kepler.Engine.UI.Helper.HtmlCssHelper.calcOffsetBetwnElement=function(elmParnt,elmChld){var $0=null;if(ss.isValue(elmParnt)&&ss.isValue(elmChld)){if(elmParnt===elmChld){$0=new Kepler.Framework.UI.Point(0,0);}else{var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientRect(elmParnt);var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientRect(elmChld);$0=new Kepler.Framework.UI.Point($2.get_left()-$1.get_left(),$2.get_top()-$1.get_top());}}return $0;}
Kepler.Engine.UI.Helper.HtmlCssHelper.getElementOwnerWindow=function(elmTarget){var $0=null;if(ss.isValue(elmTarget)){var $1=elmTarget.ownerDocument;$0=(ss.isValue($1.parentWindow))?$1.parentWindow:$1.defaultView;}return $0;}
Kepler.Engine.UI.Helper.HtmlCssHelper.getClientPointFromOffsetPoint=function(ptOffset,element,ptElement){if(ss.isNullOrUndefined(ptElement)){ptElement=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientPosition(element);}return new Kepler.Framework.UI.Point(ptElement.get_x()+ptOffset.get_x(),ptElement.get_y()+ptOffset.get_y());}
Kepler.Engine.UI.Helper.HtmlCssHelper.getOffsetPointFromClientPoint=function(ptClient,element){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientRect(element).get_topLeft();return new Kepler.Framework.UI.Point(ptClient.get_x()-$0.get_x(),ptClient.get_y()-$0.get_y());}
Kepler.Engine.UI.Helper.HtmlCssHelper.getIFrameClientPoint=function(elmRefWithinFrame,oRefDoc){var $0=new Kepler.Framework.UI.Point(0,0);if(ss.isValue(oRefDoc)&&ss.isValue(elmRefWithinFrame)){var $1=elmRefWithinFrame;var $2=$1.ownerDocument;while(oRefDoc!==$2&&$2!=null){var $3=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementOwnerWindow($1);$1=$3.frameElement;if($1!=null){var $4=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientPosition($1);$0.set_x($0.get_x()+$4.get_x());$0.set_y($0.get_y()+$4.get_y());$2=$1.ownerDocument;}else{$2=null;}}}return $0;}
Kepler.Engine.UI.Helper.HtmlCssHelper.getSelection=function(element){if(ss.isNullOrUndefined(element)){return window.getSelection();}else{return Kepler.Engine.UI.Helper.HtmlCssHelper.getElementOwnerWindow(element).getSelection();}}
Kepler.Engine.UI.Helper.HtmlCssHelper.collapseSelection=function(element,bStartEnd){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getSelection(element);if(ss.isValue($0)){if(bStartEnd){$0.collapseToStart();}else{$0.collapseToEnd();}}}
Kepler.Engine.UI.Helper.HtmlCssHelper.createRange=function(element){if(ss.isNullOrUndefined(element)){return document.createRange(null);}else{return element.ownerDocument.createRange(null);}}
Kepler.Engine.UI.Helper.HtmlCssHelper.getChildOffsetFromRange=function(range,elmContentEditable,bEndIndex){if(elmContentEditable==null){throw new Error('Null Reference Exception : '+'element');}if(range==null){throw new Error('Null Reference Exception : '+'range');}if(ss.isNullOrUndefined(elmContentEditable.firstChild)){return 0;}var $0=range.cloneRange();if(bEndIndex){$0.setStartBefore(elmContentEditable.firstChild);}else{$0.setStartBefore(elmContentEditable.firstChild);$0.setEnd(range.startContainer,range.startOffset);}return $0.toString().length;}
Kepler.Engine.UI.Helper.HtmlCssHelper.getChildTextNodeRangeContainingOffset=function(paraElement,iOffset){if(paraElement==null){return null;}var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.createRange(paraElement);var $1=null;var $2=0;var $3=paraElement.childNodes;var $4=0;var $5=$3.length;if(!$5){paraElement.appendChild(paraElement.ownerDocument.createTextNode(''));$5=$3.length;}for(var $6=0;$6<$5;$6++){var $7=$3[$6];var $8=$7.textContent.length;if(iOffset>=$4&&iOffset<=$4+$8){var $9=iOffset-$4;if($7.childNodes.length>0){$0=Kepler.Engine.UI.Helper.HtmlCssHelper.getChildTextNodeRangeContainingOffset($7,$9);}else{$1=$7;$2=$9;}}$4+=$8;}if($1!=null){if($1.nodeType!==3){$0.setStartAfter($1);$0.setEndAfter($1);}else{$0.setStart($1,$2);$0.setEnd($1,$2);}}return $0;}
Kepler.Engine.UI.Helper.HtmlCssHelper.createEvent=function(strEventCategory){if(ss.isNullOrUndefined(strEventCategory)||!strEventCategory.length){if((typeof(document.createEvent)==='function')){return document.createEvent('Events');}else if((typeof(document.createEventObject)==='function')){return document.createEventObject();}else{throw new Error('Not Supported Exception : '+' createEvent.');}}else{return document.createEvent(strEventCategory);}}
Kepler.Engine.UI.Helper.HtmlCssHelper.initKeyboardEvent=function(evt,eEventType,iKeyCode,iCharCode){if((typeof(evt.initEvent)==='function')){evt.initEvent(eEventType,true,true);evt.keyCode=iKeyCode;evt.charCode=iCharCode;}else{throw new Error('Not Supported Exception : '+' initEvent.');}}
Kepler.Engine.UI.Helper.HtmlCssHelper.dispatchEvent=function(evt,targetElement){if(ss.isNullOrUndefined(targetElement)){targetElement=document.documentElement;}if((typeof(targetElement.dispatchEvent)==='function')){return targetElement.dispatchEvent(evt);}else{throw new Error('Not Supported Exception : '+' dispatchEvent.');}}
Kepler.Engine.UI.Helper.HtmlCssHelper.getAttachedObjectFromElementTree=function(element,strFieldName,lstElem){while(ss.isValue(element)){var $0=element[strFieldName];if(ss.isValue($0)){if(ss.isValue(lstElem)){lstElem[0]=element;}return $0;}element=element.parentNode;}if(ss.isValue(lstElem)){lstElem[0]=null;}return null;}
Kepler.Engine.UI.Helper.HtmlCssHelper.setAttachedObjectToElement=function(element,strFieldName,obj){element[strFieldName]=obj;}
Kepler.Engine.UI.Helper.HtmlCssHelper.removeAttachedObjectFromElement=function(element,strFieldName){delete element[strFieldName];}
Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass=function(element,strClassName){$(element).addClass(strClassName);}
Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass=function(element,strClassName){$(element).removeClass(strClassName);}
Kepler.Engine.UI.Helper.HtmlCssHelper.removeAllCssClasses=function(element){if(ss.isValue(element)){element.className='';}}
Kepler.Engine.UI.Helper.HtmlCssHelper.replaceCssClass=function(element,strOldClass,strNewClass){if(!strOldClass.compareTo(strNewClass,false)){return;}var $0=$(element);$0.removeClass(strOldClass);$0.addClass(strNewClass);}
Kepler.Engine.UI.Helper.HtmlCssHelper.getParentElementByFieldAndType=function(element,strFieldName,type){while(ss.isValue(element)){var $0=element[strFieldName];if(ss.isValue($0)&&type.isInstanceOfType($0)){return $0;}element=element.parentNode;}return null;}
Kepler.Engine.UI.Helper.HtmlCssHelper.getParentElementByFieldAndNodeName=function(element,strFieldName,strNodeName){while(ss.isValue(element)&&element.nodeType!==9){if(!!element.hasAttribute(strFieldName)&&element.nodeName.toLowerCase()===strNodeName.toLowerCase()){return element;}element=element.parentNode;}return null;}
Kepler.Engine.UI.Helper.HtmlCssHelper.refreshDOM=function(){if(Kepler.Framework.Core.Browser.BrowserCapabilities.get_name()===3){return;}var $0=document.createElement('div');$0.id='__docRepaintElement';document.body.appendChild($0);var $1=document.body.offsetHeight;$1=document.body.offsetWidth;document.body.removeChild($0);$0=null;}
Kepler.Engine.UI.Helper.HtmlCssHelper.flushElement=function(element){if(ss.isNull(element)){return;}var $0=element.childNodes;for(var $1=$0.length-1;$1>=0;$1--){element.removeChild($0[$1]);}}
Kepler.Engine.UI.Helper.HtmlCssHelper.setSelection=function(element,iStartIndex,iEndIndex){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getChildTextNodeRangeContainingOffset(element,iStartIndex);var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getChildTextNodeRangeContainingOffset(element,iEndIndex);var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.createRange(element);$2.setStart($0.startContainer,$0.startOffset);$2.setEnd($1.startContainer,$1.startOffset);var $3=Kepler.Engine.UI.Helper.HtmlCssHelper.getSelection(element);$3.removeAllRanges();$3.addRange($2);}
Kepler.Engine.UI.Helper.HtmlCssHelper.getParentElementByAttr=function(element,strAttr){if(ss.isNull(element)){return null;}var $0=null;while(ss.isValue(element)){if(!(typeof(element.hasAttribute)==='function')){element=element.parentNode;}else{if(element.hasAttribute(strAttr)){$0=element;break;}else{element=element.parentNode;}}}return $0;}
Kepler.Engine.UI.Helper.HtmlCssHelper.createNodeIterator=function(elmRoot,dNodeFilterShowType,fnAcceptCheck,bEntityReferenceExpansion){var $0=null;if(ss.isValue(elmRoot)){$0=elmRoot.ownerDocument.createNodeIterator(elmRoot,dNodeFilterShowType,fnAcceptCheck,bEntityReferenceExpansion);}return $0;}
Kepler.Engine.UI.Helper.HtmlCssHelper.createTreeWalker=function(elmRoot,dNodeFilterShowType,fnAcceprCheck,bEntityReferenceExpansion){var $0=null;$0=elmRoot.ownerDocument.createTreeWalker(elmRoot,dNodeFilterShowType,fnAcceprCheck,bEntityReferenceExpansion);return $0;}
Kepler.Engine.UI.Helper.HtmlCssHelper.appendChildInHead=function(elmRef,elmChild){var $0=(ss.isValue(elmRef))?elmRef.ownerDocument:null;var $1=(ss.isValue($0))?$0.getElementsByTagName('head')[0]:null;if(ss.isValue($1)){$1.appendChild(elmChild);return true;}return false;}
Kepler.Engine.UI.Helper.HtmlCssHelper.alterInStyleElement=function(elmStyle,strStyle,bAppend){var $0=false;try{if(ss.isValue(elmStyle)&&ss.isValue(strStyle)&&!!strStyle.length){if(ss.isValue(bAppend)&&bAppend){var $1=elmStyle.innerHTML;strStyle=$1+'\n'+strStyle;}elmStyle.innerHTML=strStyle;$0=true;}}catch($2){}return $0;}
Kepler.Engine.UI.Helper.HtmlCssHelper.$1=function($p0,$p1){if(($p1 in $p0)){return $p0[$p1];}else{var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttribute($p0,$p1);$p0[$p1]=$0;return $0;}}
Kepler.Engine.UI.Helper.HtmlCssHelper.getElmFieldAsString=function(elm,strField){return Kepler.Engine.UI.Helper.HtmlCssHelper.$1(elm,strField);}
Kepler.Engine.UI.Helper.HtmlCssHelper.getElmFieldAsInt=function(elm,strField){return parseInt(Kepler.Engine.UI.Helper.HtmlCssHelper.$1(elm,strField).toString());}
Kepler.Engine.UI.Helper.HtmlCssHelper.getCookie=function(strKey){var $0=strKey+'=';var $1=document.cookie.split(';');for(var $2=0;$2<$1.length;$2++){var $3=$1[$2];while($3.charAt(0)===' '){$3=$3.substring(1,$3.length);}if(!$3.indexOf($0)){return $3.substring($0.length,$3.length);}}return null;}
Kepler.Engine.UI.Helper.HtmlCssHelper.createSVGElement=function(OwnerDoc,strTagName){return OwnerDoc.createElementNS('http://www.w3.org/2000/svg',strTagName);}
Kepler.Engine.UI.Helper.HtmlCssHelper.clearElementAttributes=function(element,arrSkippedAttributes){var $0=element.attributes;var $1=$0.length;for(var $2=$1-1;$2>=0;$2--){var $3=$0.item($2);if(ss.isValue(arrSkippedAttributes)&&arrSkippedAttributes.contains($3.name)){continue;}element.removeAttributeNode($3);}}
Kepler.Engine.UI.Helper.HtmlCssHelper.clearElementChilds=function(element){var $0=element.childNodes;var $1=$0.length;for(var $2=$1-1;$2>=0;$2--){element.removeChild($0[$2]);}}
Kepler.Engine.UI.Helper.HtmlCssHelper.setAttibuteNs=function(elm,strName,strValue){elm.setAttributeNS(null,strName,strValue);}
Kepler.Engine.UI.Helper.HtmlCssHelper.get_desktopElement=function(){return Kepler.Engine.UI.Helper.HtmlCssHelper.$2;}
Kepler.Engine.UI.Helper.HtmlCssHelper.set_desktopElement=function(value){Kepler.Engine.UI.Helper.HtmlCssHelper.$2=value;return value;}
Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientRectWithRespectToDesktopFromElement=function(element){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientRect(element);var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientPosition(Kepler.Engine.UI.Helper.HtmlCssHelper.get_desktopElement());$0.set_left($0.get_left()-$1.get_x());$0.set_top($0.get_top()-$1.get_y());return $0;}
Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientRectWithRespectToDesktop=function(rect){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientPosition(Kepler.Engine.UI.Helper.HtmlCssHelper.get_desktopElement());rect.set_left(rect.get_left()-$0.get_x());rect.set_top(rect.get_top()-$0.get_y());return rect;}
Kepler.Engine.UI.Helper.PositionAndSizeOverrideHelper=function(oControl){this.$0=oControl;this._mapPositionAndSizeOverride={};this.$1=false;}
Kepler.Engine.UI.Helper.PositionAndSizeOverrideHelper.prototype={$0:null,_mapPositionAndSizeOverride:null,_szParentForPosAndSizeOverride:null,$1:false,get_resetPositionDuringSizeToParentOnOverrideFail:function(){return this.$1;},set_resetPositionDuringSizeToParentOnOverrideFail:function(value){this.$1=value;return value;},setOverride:function(strPosAndSize,bUpdate,bSetSizeToParentIfOverrideFail){if(ss.isNullOrUndefined(strPosAndSize)||!strPosAndSize.trim()){Object.clearKeys(this._mapPositionAndSizeOverride);}else{var $0=[];Kepler.Framework.Core.StringUtils.getTokenizedArray(strPosAndSize,'\u2022',$0);if($0.length>0){this._mapPositionAndSizeOverride['left']=$0[0].trim();}if($0.length>1){this._mapPositionAndSizeOverride['top']=$0[1].trim();}if($0.length>2){this._mapPositionAndSizeOverride['width']=$0[2].trim();}if($0.length>3){this._mapPositionAndSizeOverride['height']=$0[3].trim();}}if(ss.isNullOrUndefined(bUpdate)){bUpdate=true;}if(ss.isNullOrUndefined(bSetSizeToParentIfOverrideFail)){bSetSizeToParentIfOverrideFail=true;}if(bUpdate){this.update(this._szParentForPosAndSizeOverride,bSetSizeToParentIfOverrideFail);}},update:function(szParent,bSetSizeToParentIfOverrideFail){if(ss.isNullOrUndefined(bSetSizeToParentIfOverrideFail)){bSetSizeToParentIfOverrideFail=true;}var $0=false;if(ss.isNullOrUndefined(szParent)){if(ss.isValue(this._szParentForPosAndSizeOverride)){$0=this.update(this._szParentForPosAndSizeOverride,bSetSizeToParentIfOverrideFail);}return $0;}this._szParentForPosAndSizeOverride=szParent;var $1=this.$0.get_parent();if(ss.isNullOrUndefined($1)||!Object.getKeyCount(this._mapPositionAndSizeOverride)){if(bSetSizeToParentIfOverrideFail&&!$0){if(this.$1){this.$0.set_position(new Kepler.Framework.UI.Point(0,0));}this.$0.set_size(szParent);}return $0;}if(ss.isNullOrUndefined(szParent)){if(ss.isNullOrUndefined($1)){return $0;}szParent=$1.get_size();}$0=true;var $2;$2=this.$2(this._mapPositionAndSizeOverride['left'],szParent.get_width());if(isFinite($2)){this.$0.set_left($2);}else{$0=false;}$2=this.$2(this._mapPositionAndSizeOverride['top'],szParent.get_height());if(isFinite($2)){this.$0.set_top($2);}else{$0=false;}$2=this.$2(this._mapPositionAndSizeOverride['width'],szParent.get_width());if(isFinite($2)){this.$0.set_width($2);}else{$0=false;}$2=this.$2(this._mapPositionAndSizeOverride['height'],szParent.get_height());if(isFinite($2)){this.$0.set_height($2);}else{$0=false;}if(bSetSizeToParentIfOverrideFail&&!$0){this.$0.set_size(szParent);}return $0;},$2:function($p0,$p1){if(ss.isValue($p0)){$p0=this.$3($p0,$p1);try{var $0=eval($p0);if(isFinite($0)){return $0;}}catch($1){}}return Number.NaN;},$3:function($p0,$p1){if(ss.isValue($p0)){var $0=$p0.indexOf('%');while($0>0){var $1;for($1=$0-1;$1>=0;$1--){var $3=$p0.charAt($1);if($3<'0'&&$3>'9'&&$3!=='.'){break;}}$1++;var $2=parseInt($p0.substring($1,$0),10);$2=($p1*$2)/100;$p0=$p0.remove($1,$0-$1+1);$p0=$p0.insert($1,$2.toString());$0=$p0.indexOf('%');}}return $p0;}}
Kepler.Engine.UI.Helper.WebkitTransformHelper=function(elmParent){this.$3=elmParent;this.$4=new Array(2);}
Kepler.Engine.UI.Helper.WebkitTransformHelper.prototype={$3:null,$4:null,get_value:function(){return this.$4.join('');},attachElement:function(elmParent){this.detachElement();this.$3=elmParent;},detachElement:function(){if(this.$3!=null){this.clear();this.$3=null;}},applyTransform:function(){Kepler.Engine.UI.Helper.HtmlCssHelper.setElementTransform(this.$3,this.$4.join(''));},setXY:function(dX,dY,bApply){this.$4[0]=new ss.StringBuilder(' translate(').append(dX).append('px,').append(dY).append('px)').toString();if(ss.isNullOrUndefined(bApply)||bApply){this.applyTransform();}},setScaleFactor:function(dScaleFactor,bApply){this.$4[1]=new ss.StringBuilder(' scale(').append(dScaleFactor).append(')').toString();if(ss.isNullOrUndefined(bApply)||bApply){this.applyTransform();}},clear:function(bApply){for(var $0=0;$0<2;$0++){this.$4[$0]=null;}if(ss.isNullOrUndefined(bApply)||bApply){this.applyTransform();}},setTransformOrigin:function(oPoint){if(this.$3!=null&&!ss.isNullOrUndefined(oPoint)){Kepler.Engine.UI.Helper.HtmlCssHelper.setElementTransformOrigin(this.$3,oPoint.get_x()+'px '+oPoint.get_y()+'px');}},removeTransformOrigin:function(){if(this.$3!=null){Kepler.Engine.UI.Helper.HtmlCssHelper.setElementTransformOrigin(this.$3,'');}}}
Type.registerNamespace('Kepler.Framework.UI.Helper');Kepler.Framework.UI.Helper.FontMetrics=function(strFamily,iSize,strSizeUnit,iBIUFlags){this.$6=-1;this.$7=-1;this.$8=-1;this.$2=strSizeUnit;var $0=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.CharProperties();$0=new Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.CharProperties();$0.set(strFamily,(strSizeUnit==='pt')?Kepler.Framework.Core.Globals.convertPointToPixel(iSize):iSize,((iBIUFlags&2)===2)?1:0,((iBIUFlags&1)===1)?1:0,0,0,new Kepler.Framework.UI.Color(0,0,0,1),new Kepler.Framework.UI.Color(255,255,255,-1),0,0);$0.computeStyle();this.$6=$0.getActualAscent();this.$7=$0.getActualDescent();this.$4=$0.getAscent()+$0.getDescent();this.$0=strFamily;this.$1=iSize;this.$3=parseInt($0.getStringWidth('m'));}
Kepler.Framework.UI.Helper.FontMetrics.getFontMetrics=function(strFamily,iSize,strSizeUnit,iBIUFlags){if(String.isNullOrEmpty(strSizeUnit)){strSizeUnit='px';}if(!ss.isValue(iBIUFlags)){iBIUFlags=0;}if(ss.isNull(strFamily)||!strFamily.length){throw new Error('Invalid Argument Exception : '+'strFamily');}if(Kepler.Framework.UI.Helper.FontMetrics.$9==null){Kepler.Framework.UI.Helper.FontMetrics.$9={};}var $0=strFamily+':'+iSize+strSizeUnit+':'+iBIUFlags;var $1;if(($1=Kepler.Framework.UI.Helper.FontMetrics.$9[$0])==null){$1=new Kepler.Framework.UI.Helper.FontMetrics(strFamily,iSize,strSizeUnit,iBIUFlags);Kepler.Framework.UI.Helper.FontMetrics.$9[$0]=$1;}return $1;}
Kepler.Framework.UI.Helper.FontMetrics.prototype={$0:'',$1:0,$2:'px',get_sizeUnit:function(){return this.$2;},set_sizeUnit:function(value){this.$2=value;return value;},$3:0,get_width:function(){return this.$3;},$4:0,get_height:function(){return this.$4;},$5:0,get_baseline:function(){return this.$5;},get_ascent:function(){return this.$6;},get_descent:function(){return this.$7;},getWidthOfString:function(strText,strStyle){var $0=0;if(!String.isNullOrEmpty(strText)){var $1=document.createElement('div');if(!String.isNullOrEmpty(strStyle)){$1.setAttribute('style',strStyle);}var $2=$1.style;var $3=document.createElement('canvas');var $4=$3.getContext('2d');var $5=[];$5.add($2.fontStyle);$5.add($2.fontVariant);$5.add($2.fontWeight);$5.add(this.$1+this.$2);$5.add(this.$0);while($5.remove('')){}$4.font=$5.join(' ');$0=parseInt($4.measureText(strText).width);}return $0;}}
Kepler.Framework.UI.Helper.IframeWrapper=function(){this.$0=document.createElement('iframe');this.$0.id='html_edit_ctrl_frame_powerpoint';this.$0.setAttribute('srcdoc','');this.$0.setAttribute('src','');this.$0.setAttribute('scrolling','no');this.$0.style.position='absolute';this.$0.style.overflow='hidden';this.$0.style.width='100%';this.$0.style.height='100%';this.$0.addEventListener('load',ss.Delegate.create(this,this.$6),true);this.$2=[];}
Kepler.Framework.UI.Helper.IframeWrapper.prototype={$0:null,get_frameElement:function(){return this.$0;},get_parentControl:function(){return this.$1;},set_parentControl:function(value){this.$1=value;return value;},$1:null,$2:null,$3:null,get_commonStyle:function(){return this.$3;},set_commonStyle:function(value){this.$3=value;return value;},$4:null,get_frameStyle:function(){return this.$4;},set_frameStyle:function(value){this.$4=value;this.$5.flushContainer();this.$5.addStyle(this.$4);return value;},$5:null,$6:function($p0){var $0=new Kepler.Framework.UI.Helper.StyleContainer(this.$0.contentWindow.document,'common_iframe_style');$0.addStyle(this.$3);this.$5=new Kepler.Framework.UI.Helper.StyleContainer(this.$0.contentWindow.document,'frame_iframe_style');this.$5.addStyle(this.$4);this.$7();},addParent:function(oParent,oParentEle){this.set_parentControl(oParent);oParentEle.appendChild(this.get_frameElement());},addControl:function(oContol){if(ss.isValue(oContol)){this.$2.add(oContol);}},$7:function(){Framework.UI.Events.EventDispatcher.attachEvents(this.get_frameElement().contentWindow);var $0=this.$2.length;for(var $1=0;$1<$0;$1++){this.$1.remove(this.$2[$1]);this.$1.add(this.$2[$1],this.get_frameElement().contentWindow.document.body);}}}
Kepler.Framework.UI.Helper.StyleContainer=function(oRefDocument,strName){this.$0=(ss.isValue(oRefDocument))?oRefDocument:window.document;this.$3=(String.isNullOrEmpty(strName))?'':strName;if(ss.isValue(this.$0)){this.$1=this.$0.createElement('style');Kepler.Engine.UI.Helper.HtmlCssHelper.addElementAttribute(this.$1,'name',this.$3);}this.$4=false;this.$5=[];}
Kepler.Framework.UI.Helper.StyleContainer.prototype={$0:null,$1:null,get_$2:function(){return this.$1;},$3:null,$4:false,$5:null,$6:function(){if(!this.$4){this.$4=Kepler.Engine.UI.Helper.HtmlCssHelper.appendChildInHead(this.$0.documentElement,this.get_$2());}Kepler.Engine.UI.Helper.HtmlCssHelper.alterInStyleElement(this.get_$2(),this.$5.join('\n'));return true;},flushContainer:function(bDoNotUpdateDom){this.$5.clear();if(ss.isNullOrUndefined(bDoNotUpdateDom)||!bDoNotUpdateDom){this.$6();}},addStyle:function(strStyle,bFlushCurrentStyles,bDoNotUpdateDom){if(ss.isValue(bFlushCurrentStyles)&&bFlushCurrentStyles){this.flushContainer(true);}this.$5.add(strStyle);if(ss.isNullOrUndefined(bDoNotUpdateDom)||!bDoNotUpdateDom){this.$6();}},unloadFromDom:function(){if(this.$4){return Kepler.Engine.UI.Helper.HtmlCssHelper.removeElementFromDomTree(this.get_$2());}return false;}}
Kepler.Framework.UI.Helper.SvgHelper=function(){}
Kepler.Framework.UI.Helper.SvgHelper.createElement=function(document,strSvgElementName){return document.createElementNS('http://www.w3.org/2000/svg',strSvgElementName);}
Kepler.Framework.UI.Helper.SvgHelper.setAttributeNS=function(element,strSvgProperty,strValue){element.setAttributeNS(null,strSvgProperty,strValue);}
Kepler.Framework.UI.Helper.SvgHelper.createSvg=function(document){return Kepler.Framework.UI.Helper.SvgHelper.createElement(document,'svg');}
Kepler.Framework.UI.Helper.SvgHelper.setSvgAttributes=function(oSvgElement,strFill,strStroke,iStrokeWidth,strStrokeLineJoin,strElementId,strElementName){Kepler.Framework.UI.Helper.SvgHelper.setAttributeNS(oSvgElement,'fill',strFill);Kepler.Framework.UI.Helper.SvgHelper.setAttributeNS(oSvgElement,'stroke',strStroke);Kepler.Framework.UI.Helper.SvgHelper.setAttributeNS(oSvgElement,'stroke-width',iStrokeWidth.toString());Kepler.Framework.UI.Helper.SvgHelper.setAttributeNS(oSvgElement,'stroke-linejoin',strStrokeLineJoin);Kepler.Framework.UI.Helper.SvgHelper.setAttributeNS(oSvgElement,'id',strElementId);Kepler.Framework.UI.Helper.SvgHelper.setAttributeNS(oSvgElement,'name',strElementName);}
Kepler.Framework.UI.Helper.SvgHelper.createRect=function(document){return Kepler.Framework.UI.Helper.SvgHelper.createElement(document,'rect');}
Kepler.Framework.UI.Helper.SvgHelper.setRectAttributes=function(elmRect,iX,iY,iWidth,iHeight){Kepler.Framework.UI.Helper.SvgHelper.setAttributeNS(elmRect,'x',iX.toString());Kepler.Framework.UI.Helper.SvgHelper.setAttributeNS(elmRect,'y',iY.toString());Kepler.Framework.UI.Helper.SvgHelper.setAttributeNS(elmRect,'width',iWidth.toString());Kepler.Framework.UI.Helper.SvgHelper.setAttributeNS(elmRect,'height',iHeight.toString());}
Kepler.Framework.UI.Helper.SvgHelper.createCircle=function(document){return Kepler.Framework.UI.Helper.SvgHelper.createElement(document,'circle');}
Kepler.Framework.UI.Helper.SvgHelper.setCircleAttributes=function(elmCircle,iCX,iCY,iR){Kepler.Framework.UI.Helper.SvgHelper.setAttributeNS(elmCircle,'cx',iCX.toString());Kepler.Framework.UI.Helper.SvgHelper.setAttributeNS(elmCircle,'cy',iCY.toString());Kepler.Framework.UI.Helper.SvgHelper.setAttributeNS(elmCircle,'r',iR.toString());}
Kepler.Framework.UI.Helper.SvgHelper.createText=function(document){return Kepler.Framework.UI.Helper.SvgHelper.createElement(document,'text');}
Kepler.Framework.UI.Helper.SvgHelper.setTextAttributes=function(elmText,iX,iY,strLabel){Kepler.Framework.UI.Helper.SvgHelper.setAttributeNS(elmText,'x',iX.toString());Kepler.Framework.UI.Helper.SvgHelper.setAttributeNS(elmText,'y',iY.toString());elmText.textContent=strLabel;}
Kepler.Framework.UI.Helper.SvgHelper.createLine=function(document){return Kepler.Framework.UI.Helper.SvgHelper.createElement(document,'line');}
Kepler.Framework.UI.Helper.SvgHelper.setLineAttributes=function(elmLine,iX1,iY1,iX2,iY2,strokeColor,strokeWidth){Kepler.Framework.UI.Helper.SvgHelper.setAttributeNS(elmLine,'x1',iX1.toString());Kepler.Framework.UI.Helper.SvgHelper.setAttributeNS(elmLine,'y1',iY1.toString());Kepler.Framework.UI.Helper.SvgHelper.setAttributeNS(elmLine,'x1',iX2.toString());Kepler.Framework.UI.Helper.SvgHelper.setAttributeNS(elmLine,'y2',iY2.toString());Kepler.Framework.UI.Helper.SvgHelper.setAttributeNS(elmLine,'stroke',strokeColor);Kepler.Framework.UI.Helper.SvgHelper.setAttributeNS(elmLine,'stroke-width',strokeWidth.toString());}
Kepler.Framework.UI.Helper.SvgHelper.createGroup=function(document){return Kepler.Framework.UI.Helper.SvgHelper.createElement(document,'g');}
Kepler.Framework.UI.Helper.SvgHelper.createPath=function(document){return Kepler.Framework.UI.Helper.SvgHelper.createElement(document,'path');}
Kepler.Framework.UI.Helper.SvgHelper.setPathAttributes=function(elmPath,d){Kepler.Framework.UI.Helper.SvgHelper.setAttributeNS(elmPath,'d',d);}
Type.registerNamespace('Kepler.Framework.UI.Metro_Ui_Controls');Kepler.Framework.UI.Metro_Ui_Controls.ERightClickPaneItems=function(){};Kepler.Framework.UI.Metro_Ui_Controls.ERightClickPaneItems.prototype = {NONE:0,piN_TO_START:1,unpiN_FROM_START:2,piN_TO_TASKBAR:4,unpiN_FROM_TASKBAR:8,UNINSTALL:16,opeN_NEW_WINDOW:32,ruN_AS_ADMINISTRATOR:64,opeN_FILE_LOC:128,RESIZE:256,turN_LIVE_TILE_ON:512,turN_LIVE_TILE_OFF:1024,cleaR_SELECTION:2048,finD_IN_START:4096,MANAGE:8192,PROPERTIES:16384,maP_NETWORK_DRIVE:32768,disconnecT_NETWORK_DRIVE:65536}
Kepler.Framework.UI.Metro_Ui_Controls.ERightClickPaneItems.registerEnum('Kepler.Framework.UI.Metro_Ui_Controls.ERightClickPaneItems',false);Kepler.Framework.UI.Metro_Ui_Controls.EActionType=function(){};Kepler.Framework.UI.Metro_Ui_Controls.EActionType.prototype = {none:0,leftClick:1,rightClick:2,keyDown:3,textInput:4,doubleClick:5,lButtonDown:6,lButtonUp:7}
Kepler.Framework.UI.Metro_Ui_Controls.EActionType.registerEnum('Kepler.Framework.UI.Metro_Ui_Controls.EActionType',false);Kepler.Framework.UI.Metro_Ui_Controls.CheckWithViewType=function(){};Kepler.Framework.UI.Metro_Ui_Controls.CheckWithViewType.prototype = {none:0,shortCutsView:1,allAppsView:2}
Kepler.Framework.UI.Metro_Ui_Controls.CheckWithViewType.registerEnum('Kepler.Framework.UI.Metro_Ui_Controls.CheckWithViewType',false);Kepler.Framework.UI.Metro_Ui_Controls.FocusTarget=function(){};Kepler.Framework.UI.Metro_Ui_Controls.FocusTarget.prototype = {none:0,desktopWall:1,taskbar:2,appShortcutsView:3,allAppsView:4,searchBar:5,appSwitcher:6,charmsPane:7}
Kepler.Framework.UI.Metro_Ui_Controls.FocusTarget.registerEnum('Kepler.Framework.UI.Metro_Ui_Controls.FocusTarget',false);Kepler.Framework.UI.Metro_Ui_Controls.EStartScreenActionType=function(){};Kepler.Framework.UI.Metro_Ui_Controls.EStartScreenActionType.prototype = {NONE:-1,donT_CARE:0,blanK_AREA_CLICK:1,floatinG_START_BTN_CLICK:2,taskbaR_START_BTN_CLICK:3,charmS_START_BTN_CLICK:4,minimizeD_PANE_START_BTN_CLICK:5}
Kepler.Framework.UI.Metro_Ui_Controls.EStartScreenActionType.registerEnum('Kepler.Framework.UI.Metro_Ui_Controls.EStartScreenActionType',false);Kepler.Framework.UI.Metro_Ui_Controls.EAppHintType=function(){};Kepler.Framework.UI.Metro_Ui_Controls.EAppHintType.prototype = {noT_SET:0,apP_DRAGGING_HINT:1,clicK_ACTION_HINT:2,splitteR_ACTION_HINT:3}
Kepler.Framework.UI.Metro_Ui_Controls.EAppHintType.registerEnum('Kepler.Framework.UI.Metro_Ui_Controls.EAppHintType',false);Kepler.Framework.UI.Metro_Ui_Controls.EAppActionType=function(){};Kepler.Framework.UI.Metro_Ui_Controls.EAppActionType.prototype = {CLOSE:0,fulL_SCREEN:1,lefT_DOCK:2,righT_DOCK:3,RESIZING:4}
Kepler.Framework.UI.Metro_Ui_Controls.EAppActionType.registerEnum('Kepler.Framework.UI.Metro_Ui_Controls.EAppActionType',false);Kepler.Framework.UI.Metro_Ui_Controls.EAppActionObject=function(){};Kepler.Framework.UI.Metro_Ui_Controls.EAppActionObject.prototype = {fulL_SCREEN_APP:1,lefT_APP:2,righT_APP:3,apP_SWITCHER:4}
Kepler.Framework.UI.Metro_Ui_Controls.EAppActionObject.registerEnum('Kepler.Framework.UI.Metro_Ui_Controls.EAppActionObject',false);Kepler.Framework.UI.Metro_Ui_Controls.EAppActionMethod=function(){};Kepler.Framework.UI.Metro_Ui_Controls.EAppActionMethod.prototype = {donT_CARE:-1,GESTURE:1,KEYBOARD:2,SPLITTER:3}
Kepler.Framework.UI.Metro_Ui_Controls.EAppActionMethod.registerEnum('Kepler.Framework.UI.Metro_Ui_Controls.EAppActionMethod',false);Kepler.Framework.UI.Metro_Ui_Controls.EAppDragging=function(){};Kepler.Framework.UI.Metro_Ui_Controls.EAppDragging.prototype = {movE_LEFT:1,movE_NORMAL:2,movE_RIGHT:3,movE_FULLSCREEN:4,CLOSE:5}
Kepler.Framework.UI.Metro_Ui_Controls.EAppDragging.registerEnum('Kepler.Framework.UI.Metro_Ui_Controls.EAppDragging',false);Kepler.Framework.UI.Metro_Ui_Controls.EMode=function(){};Kepler.Framework.UI.Metro_Ui_Controls.EMode.prototype = {eSearchPane:0,eAllAppsView:1}
Kepler.Framework.UI.Metro_Ui_Controls.EMode.registerEnum('Kepler.Framework.UI.Metro_Ui_Controls.EMode',false);Kepler.Framework.UI.Metro_Ui_Controls.BottomBar=function(strId,strToolTip){Kepler.Framework.UI.Metro_Ui_Controls.BottomBar.initializeBase(this,['',null,new Kepler.Framework.UI.Size(100,15),strId,' metro_bottom_bar']);this.$4B=document.createElement('div');this.$4B.className=' metro_bottom_bar_dot_image';this.set_donotHandleFocusOnLButtonDown(true);}
Kepler.Framework.UI.Metro_Ui_Controls.BottomBar.prototype={$4B:null,onLoad:function(){Kepler.Framework.UI.Metro_Ui_Controls.BottomBar.callBaseMethod(this, 'onLoad');this.get_element().appendChild(this.$4B);},onParentResized:function(szParent){Kepler.Framework.UI.Metro_Ui_Controls.BottomBar.callBaseMethod(this, 'onParentResized',[szParent]);this.set_top(szParent.get_height()-15);this.set_width(szParent.get_width());},onSize:function(){Kepler.Framework.UI.Metro_Ui_Controls.BottomBar.callBaseMethod(this, 'onSize');if(this.$4B!=null){this.$4B.style.left=(this.get_width()-85)+'px';}}}
Kepler.Framework.UI.Metro_Ui_Controls.EngineAction=function(bCorrect,iFrameToJump,strActionString){this.$0=(ss.isValue(bCorrect))?bCorrect:false;this.$1=(ss.isValue(iFrameToJump))?iFrameToJump:0;this.$2=(ss.isValue(strActionString))?strActionString:'';}
Kepler.Framework.UI.Metro_Ui_Controls.EngineAction.prototype={$0:false,get_isCorrect:function(){return this.$0;},set_isCorrect:function(value){this.$0=value;return value;},$1:0,get_frameToJump:function(){return this.$1;},set_frameToJump:function(value){this.$1=value;return value;},$2:null,get_actionString:function(){return this.$2;},set_actionString:function(value){this.$2=value;return value;}}
Kepler.Framework.UI.Metro_Ui_Controls.PaneItems=function(){}
Kepler.Framework.UI.Metro_Ui_Controls.PaneItems.parsePaneItemInfo=function(strItemData){var $0=null;if(!String.isNullOrEmpty(strItemData)){$0=new Kepler.Framework.UI.Metro_Ui_Controls.PaneItems();var $1=strItemData.split('\u2022');$0.iId=parseInt($1[0]);$0.strText=$1[1];$0.strDiscription=$1[2];$0.strCssImage=$1[3];$0.bHint=parseInt($1[4],10)===1;if($1.length>5){var $2=0;var $3=$1[5].split('\u00a7');for(var $4=0;$4<$3.length;$4++){$2|=parseInt($3[$4],10)|0;}$0.eTypeOfItem=$2;}}return $0;}
Kepler.Framework.UI.Metro_Ui_Controls.PaneItems.prototype={iId:0,strCssImage:null,strText:null,strDiscription:null,bHint:false,eTypeOfItem:0}
Kepler.Framework.UI.Metro_Ui_Controls.PaneActionData=function(){this.iId=-1;this.eActionType=1;this._listSelectedTiles=[];this.iFrameJump=-1;this.iIndexVal=0;this.$0=1;}
Kepler.Framework.UI.Metro_Ui_Controls.PaneActionData.parsePaneActionData=function(strPaneActionData){var $0=null;if(!String.isNullOrEmpty(strPaneActionData)){var $1=strPaneActionData.split('\u2022');$0=new Kepler.Framework.UI.Metro_Ui_Controls.PaneActionData();$0.eActionType=parseInt($1[0],10)|0;$0.iFrameJump=parseInt($1[1],10)|0;$0.iId=parseInt($1[2],10)|0;switch($0.eActionType){case 1:case 2:$0.iIndexVal=-1;var $2=parseInt($1[3],10);if(!isNaN($2)){$0.iIndexVal=$2;}if($1.length>4){var $3=$1[4].split('\u00a7');$0.set_checkWithViewType(parseInt($3[0],10)|0);if($3.length>1){var $4=$3[1].split('\u2021');for(var $5=0;$5<$4.length;$5++){$0._listSelectedTiles.add(parseInt($4[$5],10)|0);}}}break;case 4:$0.strTextInput=$1[3];$0.bIsCaseSensitive=parseInt($1[4],10)===1;break;}}return $0;}
Kepler.Framework.UI.Metro_Ui_Controls.PaneActionData.prototype={iId:0,eActionType:0,iIndexVal:0,iFrameJump:0,_listSelectedTiles:null,$0:0,get_checkWithViewType:function(){return this.$0;},set_checkWithViewType:function(value){this.$0=value;return value;},strTextInput:null,bIsCaseSensitive:false,bIsExecuted:false,copy:function(oActionData){this.iId=oActionData.iId;this.eActionType=oActionData.eActionType;this.iIndexVal=oActionData.iIndexVal;this.iFrameJump=oActionData.iFrameJump;this._listSelectedTiles=oActionData._listSelectedTiles;this.$0=oActionData.$0;}}
Kepler.Framework.UI.Metro_Ui_Controls.StartScreenActionData=function(){this.$2=0;}
Kepler.Framework.UI.Metro_Ui_Controls.StartScreenActionData.prototype={$0:null,get_frameToJump:function(){return this.$0;},set_frameToJump:function(value){this.$0=value;return value;},$1:null,get_actionString:function(){return this.$1;},set_actionString:function(value){this.$1=value;return value;},$2:0,get_actionType:function(){return this.$2;},set_actionType:function(value){this.$2=value;return value;},parse:function(strActionData){var $0=strActionData.split('\u2022');if($0.length>0&&!!$0[0].trim()){this.$0=$0[0].trim();}if($0.length>1&&!!$0[1].trim()){this.$2=parseInt($0[1],10);}else{this.$2=0;}},equals:function(oActionToCheck){return (!oActionToCheck.$2||oActionToCheck.$2===this.$2);}}
Kepler.Framework.UI.Metro_Ui_Controls.WindowsMessages=function(){}
Kepler.Framework.UI.Metro_Ui_Controls.AppActionData=function(){this._eMethod=-1;}
Kepler.Framework.UI.Metro_Ui_Controls.AppActionData.prototype={_eType:0,_eObject:0,_eMethod:0,_strFrameToJump:null,parse:function(strActionData){var $0=strActionData.split('\u2022');if($0.length>0&&!!$0[0].trim()){this._strFrameToJump=$0[0].trim();}if($0.length>1&&!!$0[1].trim()){this._eType=parseInt($0[1],10);}if($0.length>2&&!!$0[2].trim()){this._eObject=parseInt($0[2],10);}if($0.length>3&&!!$0[3].trim()){this._eMethod=parseInt($0[3],10);}else{this._eMethod=-1;}},equals:function(oActionToCheck){return (oActionToCheck._eType===this._eType&&oActionToCheck._eObject===this._eObject&&(this._eMethod===-1||oActionToCheck._eMethod===-1||oActionToCheck._eMethod===this._eMethod));},clone:function(){var $0=new Kepler.Framework.UI.Metro_Ui_Controls.AppActionData();if(!ss.isUndefined(this._eType)){$0._eType=this._eType;}if(!ss.isUndefined(this._eObject)){$0._eObject=this._eObject;}if(!ss.isUndefined(this._eMethod)){$0._eMethod=this._eMethod;}if(!ss.isUndefined(this._strFrameToJump)){$0._strFrameToJump=this._strFrameToJump;}return $0;}}
Kepler.Framework.UI.Metro_Ui_Controls.MetroAppTitle=function(){this.$0=document.createElement('div');}
Kepler.Framework.UI.Metro_Ui_Controls.MetroAppTitle.prototype={$0:null,get_controlElement:function(){return this.$0;},set_controlElement:function(value){this.$0=value;return value;},addElement:function(elemControl,elemParent){if(ss.isValue(elemParent)){elemParent.appendChild(elemControl);this.$0.appendChild(elemParent);}else{this.$0.appendChild(elemControl);}},addControl:function(oControl,oParent){oParent.add(oControl,this.$0,false);}}
Kepler.Framework.UI.Metro_Ui_Controls.MetroTheme=function(){}
Kepler.Framework.UI.Metro_Ui_Controls.MetroTheme.get_accentColor=function(){return Kepler.Framework.UI.Metro_Ui_Controls.MetroTheme.$2;}
Kepler.Framework.UI.Metro_Ui_Controls.MetroTheme.$4=function(){var $0=document.getElementsByTagName('head')[0];if(ss.isValue($0)){$0.appendChild(Kepler.Framework.UI.Metro_Ui_Controls.MetroTheme.$0);}}
Kepler.Framework.UI.Metro_Ui_Controls.MetroTheme.$5=function(){try{if(ss.isValue(Kepler.Framework.UI.Metro_Ui_Controls.MetroTheme.$0)&&ss.isValue(Kepler.Framework.UI.Metro_Ui_Controls.MetroTheme.$3)&&!!Kepler.Framework.UI.Metro_Ui_Controls.MetroTheme.$3.length){Kepler.Framework.UI.Metro_Ui_Controls.MetroTheme.$0.innerHTML=Kepler.Framework.UI.Metro_Ui_Controls.MetroTheme.$3;}}catch($0){}}
Kepler.Framework.UI.Metro_Ui_Controls.MetroTheme.$6=function(){Kepler.Framework.UI.Metro_Ui_Controls.MetroTheme.$3='';var $0=Kepler.Framework.UI.Metro_Ui_Controls.MetroTheme.$1.toString();var $1=Kepler.Framework.UI.Metro_Ui_Controls.MetroTheme.$2.toString();Kepler.Framework.UI.Metro_Ui_Controls.MetroTheme.$3+='.'+' cls_bg_color_bg'.trim()+'{ background-color:'+$0+';}'+'.'+' cls_font_color_bg'.trim()+'{ color:'+$0+';}'+'.'+' cls_border_right_color_bg'.trim()+'{ border-right-color:'+$0+';}'+'.'+' cls_border_left_color_bg'.trim()+'{ border-left-color:'+$0+';}'+'.'+' cls_border_top_color_bg'.trim()+'{ border-top-color:'+$0+';}'+'.'+' cls_border_bottom_color_bg'.trim()+'{ border-bottom-color:'+$0+';}'+'.'+' cls_bg_color_accent'.trim()+'{ background-color:'+$1+';}'+'.'+' cls_font_color_accent'.trim()+'{ color:'+$1+';}'+'.'+' cls_border_right_color_accent'.trim()+'{ border-right-color:'+$1+';}'+'.'+' cls_border_left_color_accent'.trim()+'{ border-left-color:'+$1+';}'+'.'+' cls_border_top_color_accent'.trim()+'{ border-top-color:'+$1+';}'+'.'+' cls_border_bottom_color_accent'.trim()+'{ border-bottom-color:'+$1+';}';}
Kepler.Framework.UI.Metro_Ui_Controls.MetroTheme.$7=function($p0){try{if(ss.isValue($p0)){$p0.innerHTML='';}}catch($0){}}
Kepler.Framework.UI.Metro_Ui_Controls.MetroTheme.changeTheme=function(colorBackground,colorAccent){Kepler.Framework.UI.Metro_Ui_Controls.MetroTheme.$1=colorBackground.clone();Kepler.Framework.UI.Metro_Ui_Controls.MetroTheme.$2=colorAccent.clone();Kepler.Framework.UI.Metro_Ui_Controls.MetroTheme.$6();Kepler.Framework.UI.Metro_Ui_Controls.MetroTheme.$7(Kepler.Framework.UI.Metro_Ui_Controls.MetroTheme.$0);Kepler.Framework.UI.Metro_Ui_Controls.MetroTheme.$5();}
Kepler.Framework.UI.Metro_Ui_Controls.MetroUiRadioButton=function(strHtml,oPosition,oSize,strId,strImgClassName){Kepler.Framework.UI.Metro_Ui_Controls.MetroUiRadioButton.initializeBase(this,[strHtml,oPosition,oSize,strId]);this.get_element().className=' metro_ui_radiobutton';this.$50=(String.isNullOrEmpty(strImgClassName))?' metro_ui_radiobutton_image':strImgClassName;this._elmImage.className=this.$50+this.$50+'_normal';if(!ss.isNullOrUndefined(this._elmText)){this._elmText.className=' metro_ui_radiobutton_text';}}
Kepler.Framework.UI.Metro_Ui_Controls.MetroUiRadioButton.prototype={$50:null,drawItem:function(eState){var $0='';var $1=' metro_ui_radiobutton_text';switch(eState){case 0:$0='_normal';break;case 1:$0='_hover';break;case 2:$0='_pressed';break;case 6:$0='_disabled';$1=' metro_ui_radiobutton_text'+' text_disabled';break;default:throw new Error('Not Implemented Exception : '+'eState');}if(this.get_state()){$0='_selected'+$0;}if($0.length>0){this._elmImage.className=this.$50+this.$50+$0;if(this._elmText!=null&&!!this._elmText.className.trim().compareTo($1.trim())){this._elmText.className=$1;}}}}
Kepler.Framework.UI.Metro_Ui_Controls.ScrollContainer=function(StrCssClss,strID){Kepler.Framework.UI.Metro_Ui_Controls.ScrollContainer.initializeBase(this,['div',StrCssClss,strID]);this.$43();}
Kepler.Framework.UI.Metro_Ui_Controls.ScrollContainer.prototype={$41:null,get_scrollView:function(){return this.$41;},$42:null,_divScrollArea:null,_sbVertical:null,get_isScrollbarVisible:function(){return this._sbVertical.get_visible();},_eScrollbarMode:0,get_scrollbarMode:function(){return this._eScrollbarMode;},set_scrollbarMode:function(value){this._eScrollbarMode=value;return value;},_eContainerMode:0,$43:function(){this.$42=document.createElement('div');this.$42.style.position='relative';this.$42.style.height='100%';this.$42.style.width='100%';this.get_element().appendChild(this.$42);this._divScrollArea=document.createElement('div');this._divScrollArea.style.overflow='hidden';this.$42.appendChild(this._divScrollArea);var $0=new Kepler.Framework.UI.Scroller.ScrollStruct();$0.scrollElement=this.$42;$0.bHandleEvents=false;$0.hScroll=true;$0.hScrollbar=false;$0.onScrollMove=ss.Delegate.create(this,this.$44);this.$41=this.setScrollable($0);this.get_scroller().refresh();this.$41.refresh();if(!this._eContainerMode){this._sbVertical=new Kepler.Engine.UI.Controls.VScrollBar(null,new Kepler.Framework.UI.Size(17,0),'','metro_ui_vscrollbar');this._sbVertical.get_element().style.right='0px';this._sbVertical.get_element().style.top='0px';}else{this._sbVertical=new Kepler.Engine.UI.Controls.HScrollBar(null,new Kepler.Framework.UI.Size(17,0),'win8_desktop_scrollbar');this._sbVertical.get_element().style.bottom='0px';this._sbVertical.get_element().style.left='0px';}this._sbVertical.set_iSendMsgParent(this);this._sbVertical.set_mfcBehaviour(false);this._sbVertical.set_scrollBarType(2);this._sbVertical.onLoadFromNonControlParent();this.get_element().appendChild(this._sbVertical.get_element());if(Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){$0.bHandleEvents=true;$0.hScrollbar=true;this._sbVertical.get_element().style.display='none';}},$44:function(){if(ss.isValue(this.$41)&&this.get_isScrollbarVisible()){var $0;if(!this._eContainerMode){$0=-this.$41.get_y();}else{$0=-this.$41.get_x();}this._sbVertical.set_curPos($0);}},$45:function($p0,$p1){var $0=($p1);if($0===this._sbVertical){this.$47(this._sbVertical.get_curPos());}return null;},$46:function($p0,$p1){var $0=($p1);if($0===this._sbVertical){this.$47(this._sbVertical.get_curPos());}return null;},$47:function($p0){if(ss.isValue(this.$41)){$p0=-$p0;var $0=this.$41.get_y();var $1=this.$41.get_maxScrollY();var $2=this.$41.get_minScrollY();if(this._eContainerMode===1){$0=this.$41.get_x();$1=this.$41.get_maxScrollX();$2=this.$41.get_minScrollY();}var $3=$0-$p0;if($3>($0-$1)){$3=($0-$1);}if($3<($0-$2)){$3=($0-$2);}if(!this._eContainerMode){this.$41.scrollToY($3,0);}else{this.$41.scrollToX($3,0);}}},updateVScrollBar:function(iVisibleHeight,iScrollableHeight){var $0=0;var $1=iScrollableHeight-iVisibleHeight;var $2=true;if($1<=$0){$1=$0;$2=false;}else{$2=true;}if(this.get_scrollbarMode()===2){this._sbVertical.show(false);}else if(!this.get_scrollbarMode()){this._sbVertical.show($2);}else if(this.get_scrollbarMode()===1){this._sbVertical.set_enable($2);}this._sbVertical.set_height(iVisibleHeight);this._sbVertical.setBounds($0,$1);this._sbVertical.set_pageStep(iVisibleHeight);this._sbVertical.set_curPos(0);if(ss.isValue(this.$41)){this.$41.refresh();this.$41.setOptions(false,true,false,true,5);this.$41.scrollToStart();}},updateHScrollBar:function(iVisibleWidth,iScrollableWidth){var $0=0;var $1=iScrollableWidth-iVisibleWidth;var $2=true;if($1<=$0){$1=$0;$2=false;}else{$2=true;}if(this.get_scrollbarMode()===2){this._sbVertical.show(false);}else if(!this.get_scrollbarMode()){this._sbVertical.show($2);}else if(this.get_scrollbarMode()===1){this._sbVertical.set_enable($2);}this._sbVertical.set_width(iVisibleWidth);this._sbVertical.setBounds($0,$1);this._sbVertical.set_pageStep(iVisibleWidth);this._sbVertical.set_curPos(0);if(ss.isValue(this.$41)){this.$41.refresh();this.$41.setOptions(false,true,false,true,5);this.$41.scrollToStart();}},attachMessages:function(){this.attachMessage('ScrollPosChanged',ss.Delegate.create(this,this.$45));this.attachMessage('ScrollPosChanging',ss.Delegate.create(this,this.$46));},attachEvents:function(){this.addEvents(2|8|4|256|1024|512);},onLoad:function(){Kepler.Framework.UI.Metro_Ui_Controls.ScrollContainer.callBaseMethod(this, 'onLoad');this.attachMessages();this.attachEvents();},onSize:function(){Kepler.Framework.UI.Metro_Ui_Controls.ScrollContainer.callBaseMethod(this, 'onSize');if(!this._eContainerMode){this.$42.style.height=this.get_height()+'px';var $0=this._divScrollArea.clientHeight;this.updateVScrollBar(this.get_height(),$0);}}}
Type.registerNamespace('Kepler.Framework.UI.Metro_Ui_Controls.MetroUiColorSelector');Kepler.Framework.UI.Metro_Ui_Controls.MetroUiColorSelector.MetroUiColorSelectorType=function(){};Kepler.Framework.UI.Metro_Ui_Controls.MetroUiColorSelector.MetroUiColorSelectorType.prototype = {eBackgroundColorSelector:0,eAccentColorSelector:1}
Kepler.Framework.UI.Metro_Ui_Controls.MetroUiColorSelector.MetroUiColorSelectorType.registerEnum('Kepler.Framework.UI.Metro_Ui_Controls.MetroUiColorSelector.MetroUiColorSelectorType',false);Kepler.Framework.UI.Metro_Ui_Controls.MetroUiColorSelector.ColorSelectorList=function(oPosition,oCtrlSize,strId,lstColorListItem,iDefaultItemIndex){this.$42=-1;Kepler.Framework.UI.Metro_Ui_Controls.MetroUiColorSelector.ColorSelectorList.initializeBase(this,['div','colorlist',strId]);if(ss.isValue(oPosition)){this.set_position(oPosition);}if(ss.isValue(oCtrlSize)){this.set_size(oCtrlSize);this.$44=this.get_width()/18;}if(ss.isValue(lstColorListItem)){this.$3F=lstColorListItem;}if(ss.isValue(iDefaultItemIndex)){this.$42=iDefaultItemIndex;}this.$47();}
Kepler.Framework.UI.Metro_Ui_Controls.MetroUiColorSelector.ColorSelectorList.prototype={$3F:null,$40:'ListColorItemId',$41:'ListColorThumbId',$43:false,$44:0,get_selectedItemIndex:function(){return this.$42;},set_selectedItemIndex:function(value){this.$42=value;return value;},$45:null,$46:function(){this.addEvents(2|8|16|32|4);this.addEvents(256|1024);},$47:function(){if(this.$3F.length===18){var $0=this.get_height()-10;this.$48();var $1;for(var $2=0;$2<18;$2++){$1=document.createElement('div');$1.style.width=this.$44+'px';$1.style.height=$0+'px';$1.style.top='0px';$1.style.left=(this.$44*$2)+'px';$1.className='elmColorListItem';$1.id=this.$40;if(!ss.isNullOrUndefined(this.$3F[$2])){$1.style.backgroundColor=this.$3F[$2].color;}this.get_element().appendChild($1);}}},$48:function(){this.$45=document.createElement('div');this.$45.style.width=this.$44+'px';this.$45.style.height=this.get_height()+'px';this.$45.style.position='absolute';this.$45.style.backgroundColor='black';this.$45.style.zIndex=1;Kepler.Engine.UI.Helper.HtmlCssHelper.setStyleProperty(this.$45,'box-shadow','white 0px 0px 0px '+1+'px');this.$45.id=this.$41;this.$45.style.top='0px';this.setSelectedListItem(this.$42);this.get_element().appendChild(this.$45);},setSelectedListItem:function(iIndex){if(iIndex>=0&&iIndex<this.$3F.length){this.$42=iIndex;this.$45.style.left=iIndex*this.$44+'px';this.$45.style.backgroundColor=this.$3F[iIndex].color;this.sendMessageToParent('color_list_thumb_update',this.$42,this);}},$49:function($p0){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientRect(this.get_element());var $1=$p0.get_clientX()-$0.get_left()-this.get_width()/(18*2);if($1<0){$1=0;}else if($1>this.get_width()-(this.get_width()/18)){$1=this.get_width()-(this.get_width()/18);}return $1;},$4A:function($p0){var $0=this.$49($p0);this.$45.style.left=$0+'px';this.$42=Math.round(($0/this.$44));if(this.$42>=0&&this.$42<this.$3F.length){this.$45.style.backgroundColor=this.$3F[this.$42].color;}},onLoad:function(){Kepler.Framework.UI.Metro_Ui_Controls.MetroUiColorSelector.ColorSelectorList.callBaseMethod(this, 'onLoad');this.$46();this.sendMessageToParent('color_list_thumb_update',this.$42,this);},onLButtonUp:function(mouseEventArgs){Kepler.Framework.UI.Metro_Ui_Controls.MetroUiColorSelector.ColorSelectorList.callBaseMethod(this, 'onLButtonUp',[mouseEventArgs]);this.$4A(mouseEventArgs);this.$45.style.left=this.$42*this.$44+'px';this.$43=false;this.releaseCapture();},onMouseMove:function(mouseEventArgs){Kepler.Framework.UI.Metro_Ui_Controls.MetroUiColorSelector.ColorSelectorList.callBaseMethod(this, 'onMouseMove',[mouseEventArgs]);if(this.$43){this.$4A(mouseEventArgs);this.sendMessageToParent('color_list_thumb_update',this.$42,this);}},onLButtonDown:function(mouseEventArgs){Kepler.Framework.UI.Metro_Ui_Controls.MetroUiColorSelector.ColorSelectorList.callBaseMethod(this, 'onLButtonDown',[mouseEventArgs]);if(mouseEventArgs.get_target().id===this.$40||mouseEventArgs.get_target().id===this.$41){this.$4A(mouseEventArgs);this.sendMessageToParent('color_list_thumb_update',this.$42,this);this.$43=true;this.setCapture();}}}
Kepler.Framework.UI.Metro_Ui_Controls.MetroUiColorSelector.ColorSelectorGrid=function(oPosition,oParentCtrlSize,strId,eSelectorType,oCell){Kepler.Framework.UI.Metro_Ui_Controls.MetroUiColorSelector.ColorSelectorGrid.initializeBase(this,['div','colorgrid',strId]);if(ss.isValue(oPosition)){this.set_position(oPosition);}if(ss.isValue(oParentCtrlSize)&&ss.isValue(eSelectorType)){this.$45=eSelectorType;this.setSizeAccToSelectorType(oParentCtrlSize.get_width(),this.$45);this.initialize();}var $0=new Kepler.Framework.UI.Metro_Ui_Controls.MetroUiColorSelector.Cell(0,0);if(ss.isValue(oCell)){$0=oCell;}this.setGridCell($0);}
Kepler.Framework.UI.Metro_Ui_Controls.MetroUiColorSelector.ColorSelectorGrid.prototype={$40:'colorgrid-cell',$41:null,$42:null,$43:null,$44:null,get_selectedCellInfo:function(){return this.$44;},set_selectedCellInfo:function(value){this.$44=value;return value;},$45:0,get_ariaSpeech:function(){return Kepler.Framework.UI.Metro_Ui_Controls.MetroUiColorSelector.ColorSelectorGrid.callBaseMethod(this, 'get_ariaSpeech');},set_ariaSpeech:function(value){Kepler.Framework.UI.Metro_Ui_Controls.MetroUiColorSelector.ColorSelectorGrid.callBaseMethod(this, 'set_ariaSpeech',[value]);return value;},$46:function(){this.addEvents(2|8|16|32|4);this.addEvents(256|1024);},initialize:function(){this.$44=new Kepler.Framework.UI.Metro_Ui_Controls.MetroUiColorSelector.Cell();var $0=this.get_size().get_width()/6;switch(this.$45){case 0:this.createGridElements(3,$0);break;case 1:this.createGridElements(2,$0);break;}},setGridCell:function(oCell){if(oCell.cellRow<this.$41.length&&oCell.cellRow>=0){if(oCell.cellCol<this.$41[this.$44.cellRow].length&&oCell.cellCol>=0){this.$44=oCell;var $0=this.$42;this.$42=this.$41[this.$44.cellRow][this.$44.cellCol];this.updateSelection($0,this.$42);this.sendMessageToParent('color_grid_cell_click',oCell,this);}}},updateSelection:function(elmPrevSelected,elmSelectedItem){if(elmPrevSelected!=null){Kepler.Engine.UI.Helper.HtmlCssHelper.setStyleProperty(elmPrevSelected,'background-image','');}Kepler.Engine.UI.Helper.HtmlCssHelper.setStyleProperty(elmSelectedItem,'background-image',"url('../../common/res/metro_ui_check.png')");Kepler.Engine.UI.Helper.HtmlCssHelper.setStyleProperty(elmSelectedItem,'background-repeat','no-repeat');Kepler.Engine.UI.Helper.HtmlCssHelper.setStyleProperty(elmSelectedItem,'background-position-x',this.get_size().get_width()/6-25+'px');},updateHover:function(elmPrevHoverCell,elmCurrentHoverCell){if(elmPrevHoverCell!=null){Kepler.Engine.UI.Helper.HtmlCssHelper.setStyleProperty(elmPrevHoverCell,'box-shadow','');}Kepler.Engine.UI.Helper.HtmlCssHelper.setStyleProperty(elmCurrentHoverCell,'box-shadow',' black 0px 0px 0px '+2+'px inset');},createGridElements:function(iNoOfRows,iCellWidth){var $0=iCellWidth;var $1;this.$41=[];for(var $2=0;$2<iNoOfRows;$2++){this.$41.add([]);for(var $3=0;$3<6;$3++){$1=document.createElement('div');$1.style.width=$0+'px';$1.style.height=$0+'px';$1.style.top=$0*$2+'px';$1.style.left=$0*$3+'px';$1.className='elmcolorgriditem';$1.id=this.$40;Kepler.Engine.UI.Helper.HtmlCssHelper.addElementAttribute($1,'cellno',$2+','+$3);this.get_element().appendChild($1);this.$41[$2].add($1);}}},setColorGrid:function(lstOfColors){var $0=-1;switch(this.$45){case 0:$0=3;break;case 1:$0=2;break;}var $1=0;for(var $2=0;$2<$0;$2++){for(var $3=0;$3<6&&$1<lstOfColors.length;$3++){this.$41[$2][$3].style.backgroundColor=lstOfColors[$1];++$1;}}},setSizeAccToSelectorType:function(iParentwidth,eSelectorType){this.set_width(iParentwidth);switch(eSelectorType){case 0:this.set_height(this.get_size().get_width()/6*3);break;case 1:this.set_height(this.get_size().get_width()/6*2);break;}},$47:function($p0){if($p0.attributes.getNamedItem('cellno')!=null){var $0=$p0.attributes.getNamedItem('cellno').value;var $1=$0.split(',');if($1.length===2){try{this.$44.cellRow=parseInt($1[0]);this.$44.cellCol=parseInt($1[1]);}catch($2){return null;}}return this.$44;}else{return null;}},onLoad:function(){Kepler.Framework.UI.Metro_Ui_Controls.MetroUiColorSelector.ColorSelectorGrid.callBaseMethod(this, 'onLoad');this.$46();},onLButtonDown:function(mouseEventArgs){Kepler.Framework.UI.Metro_Ui_Controls.MetroUiColorSelector.ColorSelectorGrid.callBaseMethod(this, 'onLButtonDown',[mouseEventArgs]);if(mouseEventArgs.get_target().id===this.$40){var $0=this.$42;this.$42=mouseEventArgs.get_target();var $1=this.$47(this.$42);this.updateSelection($0,this.$42);this.sendMessageToParent('color_grid_cell_click',$1,this);}},onMouseMove:function(mouseEventArgs){Kepler.Framework.UI.Metro_Ui_Controls.MetroUiColorSelector.ColorSelectorGrid.callBaseMethod(this, 'onMouseMove',[mouseEventArgs]);if(mouseEventArgs.get_target().id===this.$40){var $0=this.$43;this.$43=mouseEventArgs.get_target();var $1=this.$47(this.$43);this.updateHover($0,this.$43);}},onMouseOut:function(mouseEventArgs){Kepler.Framework.UI.Metro_Ui_Controls.MetroUiColorSelector.ColorSelectorGrid.callBaseMethod(this, 'onMouseOut',[mouseEventArgs]);Kepler.Engine.UI.Helper.HtmlCssHelper.setStyleProperty(this.$43,'box-shadow','');}}
Kepler.Framework.UI.Metro_Ui_Controls.MetroUiColorSelector.MetroUiColorSelector=function(oPosition,oCtrlSize,strId,eSelectorType){Kepler.Framework.UI.Metro_Ui_Controls.MetroUiColorSelector.MetroUiColorSelector.initializeBase(this,['div','color_selector',strId]);if(ss.isValue(oPosition)){this.set_position(oPosition);}if(ss.isValue(oCtrlSize)){this.set_size(oCtrlSize);}if(ss.isValue(eSelectorType)){this.$47=eSelectorType;}this.initialize();this.addControls();}
Kepler.Framework.UI.Metro_Ui_Controls.MetroUiColorSelector.MetroUiColorSelector.prototype={$42:'colorgrid',$43:'colorlist',$44:null,$45:null,$46:null,$47:0,get_colorListSelectedItemIndex:function(){return this.$45.get_selectedItemIndex();},get_colorGridSelectedCell:function(){return this.$46.get_selectedCellInfo();},addControls:function(){this.add(this.$46);this.add(this.$45);},initialize:function(){this.$48();this.initializeDummyData();this.initializeControls();},initializeDummyData:function(){this.$44=[];var $0=[];$0.add('#6787E8');$0.add('#8BB009');$0.add('#AF7CC0');$0.add('#130AE2');$0.add('#CA6504');$0.add('#47BCEA');$0.add('#565076');$0.add('#A161E2');$0.add('#2062A4');$0.add('#56FBCF');$0.add('#006CD5');$0.add('#72CC33');$0.add('#3E59F4');$0.add('#C2425E');$0.add('#7A5661');$0.add('#662D3F');$0.add('#2A2F76');$0.add('#69EBC0');var $1;$1=new Kepler.Framework.UI.Metro_Ui_Controls.MetroUiColorSelector.ColorListItem('#6787E8',$0);this.$44.add($1);$1=new Kepler.Framework.UI.Metro_Ui_Controls.MetroUiColorSelector.ColorListItem('#8BB009',$0);this.$44.add($1);$1=new Kepler.Framework.UI.Metro_Ui_Controls.MetroUiColorSelector.ColorListItem('#AF7CC0',$0);this.$44.add($1);$1=new Kepler.Framework.UI.Metro_Ui_Controls.MetroUiColorSelector.ColorListItem('#130AE2',$0);this.$44.add($1);$1=new Kepler.Framework.UI.Metro_Ui_Controls.MetroUiColorSelector.ColorListItem('#CA6504',$0);this.$44.add($1);$1=new Kepler.Framework.UI.Metro_Ui_Controls.MetroUiColorSelector.ColorListItem('#47BCEA',$0);this.$44.add($1);$1=new Kepler.Framework.UI.Metro_Ui_Controls.MetroUiColorSelector.ColorListItem('#565076',$0);this.$44.add($1);$1=new Kepler.Framework.UI.Metro_Ui_Controls.MetroUiColorSelector.ColorListItem('#A161E2',$0);this.$44.add($1);$1=new Kepler.Framework.UI.Metro_Ui_Controls.MetroUiColorSelector.ColorListItem('#2062A4',$0);this.$44.add($1);var $2=[];$2.add('#40EC85');$2.add('#DCAE2A');$2.add('#D3FE97');$2.add('#BF9DB8');$2.add('#5B1854');$2.add('#D94C6D');$2.add('#139B2C');$2.add('#6FF6E9');$2.add('#D98774');$2.add('#0CF144');$2.add('#62DAF4');$2.add('#8072C9');$2.add('#E39D98');$2.add('#771FE9');$2.add('#3E530A');$2.add('#76D51C');$2.add('#99D1B9');$2.add('#130AE2');$1=new Kepler.Framework.UI.Metro_Ui_Controls.MetroUiColorSelector.ColorListItem('#56FBCF',$2);this.$44.add($1);$1=new Kepler.Framework.UI.Metro_Ui_Controls.MetroUiColorSelector.ColorListItem('#006CD5',$2);this.$44.add($1);$1=new Kepler.Framework.UI.Metro_Ui_Controls.MetroUiColorSelector.ColorListItem('#72CC33',$2);this.$44.add($1);$1=new Kepler.Framework.UI.Metro_Ui_Controls.MetroUiColorSelector.ColorListItem('#3E59F4',$2);this.$44.add($1);$1=new Kepler.Framework.UI.Metro_Ui_Controls.MetroUiColorSelector.ColorListItem('#C2425E',$2);this.$44.add($1);$1=new Kepler.Framework.UI.Metro_Ui_Controls.MetroUiColorSelector.ColorListItem('#7A5661',$2);this.$44.add($1);$1=new Kepler.Framework.UI.Metro_Ui_Controls.MetroUiColorSelector.ColorListItem('#662D3F',$2);this.$44.add($1);$1=new Kepler.Framework.UI.Metro_Ui_Controls.MetroUiColorSelector.ColorListItem('#2A2F76',$2);this.$44.add($1);$1=new Kepler.Framework.UI.Metro_Ui_Controls.MetroUiColorSelector.ColorListItem('#69EBC0',$2);this.$44.add($1);},initializeControls:function(){this.$46=new Kepler.Framework.UI.Metro_Ui_Controls.MetroUiColorSelector.ColorSelectorGrid(new Kepler.Framework.UI.Point(0,0),this.get_size(),this.$42,this.$47,new Kepler.Framework.UI.Metro_Ui_Controls.MetroUiColorSelector.Cell(0,0));this.$45=new Kepler.Framework.UI.Metro_Ui_Controls.MetroUiColorSelector.ColorSelectorList(new Kepler.Framework.UI.Point(0,this.$46.get_height()+1),new Kepler.Framework.UI.Size(this.get_size().get_width(),this.get_size().get_height()-this.$46.get_size().get_height()-1),this.$43,this.$44,0);},setColorSelector:function(iSelectedListItem,oCell){this.$46.setGridCell(oCell);this.$45.setSelectedListItem(iSelectedListItem);},$48:function(){this.attachMessage('color_list_thumb_update',ss.Delegate.create(this,this.onMsgColorListItemClick));this.attachMessage('color_grid_cell_click',ss.Delegate.create(this,this.onMsgColorGridCellClick));},onMsgColorListItemClick:function(wParam,lParam){if(this.$45.get_selectedItemIndex()<this.$44.length&&this.$45.get_selectedItemIndex()>=0){var $0=this.$44[this.$45.get_selectedItemIndex()];this.$46.setColorGrid($0.lstOfColors);}return null;},onMsgColorGridCellClick:function(wParam,lParam){return null;}}
Kepler.Framework.UI.Metro_Ui_Controls.MetroUiColorSelector.Cell=function(iCellRow,iCellCol){if(!(ss.isNullOrUndefined(iCellRow)||ss.isNullOrUndefined(iCellCol))){this.cellRow=iCellRow;this.cellCol=iCellCol;}}
Kepler.Framework.UI.Metro_Ui_Controls.MetroUiColorSelector.Cell.prototype={cellRow:0,cellCol:0}
Kepler.Framework.UI.Metro_Ui_Controls.MetroUiColorSelector.ColorListItem=function(strColor,listOfColors){this.color=strColor;this.lstOfColors=listOfColors;}
Kepler.Framework.UI.Metro_Ui_Controls.MetroUiColorSelector.ColorListItem.prototype={color:null,lstOfColors:null}
Type.registerNamespace('Kepler.Framework.UI.Metro_Ui_Controls.MetroUiComboBox');Kepler.Framework.UI.Metro_Ui_Controls.MetroUiComboBox.MetroUiComboCtrl=function(ptPosition,oCtrlSize,oDropDownListCtrl,ptPadding,eMode,strId){Kepler.Framework.UI.Metro_Ui_Controls.MetroUiComboBox.MetroUiComboCtrl.initializeBase(this,[ptPosition,oCtrlSize,oDropDownListCtrl,ptPadding,eMode,strId]);this.drawItem(0);this.set_width(this.get_width()-2);this.set_height(this.get_height()-2);this._tableContent.style.width=(this.get_width()-32)+'px';if(this._oDropDownListCtrl.get_commonItemHeight()>this.get_height()){var $0=((this.get_height()-this._oDropDownListCtrl.get_commonItemHeight())/2)-1;this._tableContent.style.top=$0+'px';}this.$55=-1;this.$56=-1;this.$57=this._oDropDownListCtrl.get_height();this._oDropDownListCtrl.get_elementStyle()['-webkit-transition']='height 0.2s';this._oDropDownListCtrl.get_elementStyle()['-moz-transition']='height 0.2s';this._oDropDownListCtrl.get_elementStyle()['transition']='height 0.2s';this._oDropDownListCtrl.set_height(0);this.$58=' cls_bg_color_accent';this.$59=' metro_ui_combo_ctrl';this.$5A=' metro_ui_combo_btn_img';this.$5C=true;}
Kepler.Framework.UI.Metro_Ui_Controls.MetroUiComboBox.MetroUiComboCtrl.prototype={$54:0,_eleImg:null,$55:0,$56:0,_bShiftRowToComboContent:true,$57:0,$58:null,$59:null,$5A:null,$5B:true,get_isDropDownLaunchPosChanges:function(){return this.$5B;},set_isDropDownLaunchPosChanges:function(value){this.$5B=value;return value;},$5C:false,get_focuseRectNeeded:function(){return this.$5C;},set_focuseRectNeeded:function(value){this.$5C=value;return value;},onEnableChange:function(bEnable){if(this.get_loaded()&&this._eMode===1){if(bEnable){this.changeState(0);}else{this.changeState(6);}}},createButtonPart:function(){this._btnDropDown=new Kepler.Engine.UI.Controls.CSSToggleButton(null,new Kepler.Framework.UI.Point(this.get_width()-32,0),new Kepler.Framework.UI.Size(32,this.get_size().get_height()),null,' combo_button',null,' combo_image');this._eleImg=document.createElement('div');this.get_element().appendChild(this._eleImg);},changeState:function(eState){if(this.$54===eState){return;}this.$54=eState;this.invalidate();},invalidate:function(){if(!this.get_enable()){this.drawItem(6);}else{this.drawItem(this.$54);}},drawItem:function(eState){var $0='';switch(eState){case 1:$0='_hover';break;case 0:$0='_normal';break;case 2:$0='_pressed';break;case 6:break;default:throw new Error('Not Implemented Exception : '+'eState');}if($0.length>0){this.get_element().className=this.$59+' '+this.$59+$0;this._eleImg.className=this.$5A+' '+this.$5A+$0;}},onMouseOver:function(evt){Kepler.Framework.UI.Metro_Ui_Controls.MetroUiComboBox.MetroUiComboCtrl.callBaseMethod(this, 'onMouseOver',[evt]);if(this.getCapture()===this){this.changeState(2);}else{this.changeState(1);}},onMouseOut:function(evt){Kepler.Framework.UI.Metro_Ui_Controls.MetroUiComboBox.MetroUiComboCtrl.callBaseMethod(this, 'onMouseOut',[evt]);this.changeState(0);},onLButtonDown:function(mouseEventArgs){if((Kepler.Engine.UI.Controls.Control.get_$8()===this||this.containsControl(Kepler.Engine.UI.Controls.Control.get_$8()))&&!this._eMode){this._oTextBox.onLButtonDown(mouseEventArgs);}if(this._eMode===1){this.setCapture();this.changeState(2);}},onLButtonUp:function(mouseEventArgs){if(this.getCapture()===this){this.releaseCapture();this.showList();}if(!this._eMode&&this.getCapture()===this._oTextBox){this._oTextBox.onLButtonUp(mouseEventArgs);}this.changeState(0);},onMouseMove:function(evt){Kepler.Framework.UI.Metro_Ui_Controls.MetroUiComboBox.MetroUiComboCtrl.callBaseMethod(this, 'onMouseMove',[evt]);if(this.getCapture()===this){this.changeState(2);}else{this.changeState(1);}},setFocussedCssClass:function(strCssClass){this.$58=strCssClass;},onFocus:function(oFocusedPrevControl){Kepler.Framework.UI.Metro_Ui_Controls.MetroUiComboBox.MetroUiComboCtrl.callBaseMethod(this, 'onFocus',[oFocusedPrevControl]);var $0=$(this._tableContent.rows[0]);if(this._bShiftRowToComboContent){$0.addClass(this.$58);}if(!this.$5C){$0.removeClass(' ComboCtrl'+'_focused');}},onLostFocus:function(oFocusedNewControl){Kepler.Framework.UI.Metro_Ui_Controls.MetroUiComboBox.MetroUiComboCtrl.callBaseMethod(this, 'onLostFocus',[oFocusedNewControl]);var $0=$(this._tableContent.rows[0]);$0.removeClass(this.csS_LISTCTRL_SEL_ROW);$0.removeClass(this.$58);},getPopUpPoint:function(){var $0=Kepler.Framework.UI.Metro_Ui_Controls.MetroUiComboBox.MetroUiComboCtrl.callBaseMethod(this, 'getPopUpPoint');if(this.$5B){var $1=0;var $2=$0.get_y();var $3=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientPosition(this.get_element()).get_y();var $4=this._oDropDownListCtrl.getSelectedIndex();var $5=this._oDropDownListCtrl.get_commonItemHeight();if($4!==-1){this.$56=$4;if(this.$55!==-1){$4-=this.$55;}$1=($4+1)*$5;}if($2<$3){$0.set_y($0.get_y()+this._oDropDownListCtrl.get_height()+4+this.get_height()+4);}$0.set_y($0.get_y()-$1);}return $0;},onMsgHideCtrl:function(wParam,lParam){this._oDropDownListCtrl.get_elementStyle().height='0px';if(this.$56!==this._oDropDownListCtrl.getSelectedIndex()&&this.$56!==-1){this.$55=(this._oDropDownListCtrl).getVisibleTop();}return Kepler.Framework.UI.Metro_Ui_Controls.MetroUiComboBox.MetroUiComboCtrl.callBaseMethod(this, 'onMsgHideCtrl',[wParam,lParam]);},setComboContent:function(rowSelected){Kepler.Framework.UI.Metro_Ui_Controls.MetroUiComboBox.MetroUiComboCtrl.callBaseMethod(this, 'setComboContent',[rowSelected]);if(!this._bShiftRowToComboContent){rowSelected.className='';}},setCssClassName:function(strComboClass,strComboImgClass){if(!String.isNullOrEmpty(strComboClass)){this.$59=strComboClass;}if(!String.isNullOrEmpty(strComboImgClass)){this.$5A=strComboImgClass;}this.invalidate();},setDropDownListHeight:function(iHeight){this.$57=iHeight;this._oDropDownListCtrl.set_height(this.$57);},showList:function(){Kepler.Framework.UI.Metro_Ui_Controls.MetroUiComboBox.MetroUiComboCtrl.callBaseMethod(this, 'showList');this._oDropDownListCtrl.setTopIndex(this.$55);this._oDropDownListCtrl.set_height(this.$57);},removeList:function(){Kepler.Framework.UI.Metro_Ui_Controls.MetroUiComboBox.MetroUiComboCtrl.callBaseMethod(this, 'removeList');this._oDropDownListCtrl.set_height(0);}}
Type.registerNamespace('Kepler.Framework.UI.Metro_Ui_Controls.MetroUiListBox');Kepler.Framework.UI.Metro_Ui_Controls.MetroUiListBox.MetroUiDropDownListCtrl=function(ptPosition,oCtrlSize,iCommonItemHeight,oCommonImgSize,ptCommonImgPos,strCommonImgSrc,oCommonFont,strId,strCssTextClass){Kepler.Framework.UI.Metro_Ui_Controls.MetroUiListBox.MetroUiDropDownListCtrl.initializeBase(this,[ptPosition,oCtrlSize,iCommonItemHeight,oCommonImgSize,ptCommonImgPos,strCommonImgSrc,oCommonFont,strId]);this.get_element().className=' metro_ui_list_ctrl';this.csS_TEXT=(String.isNullOrEmpty(strCssTextClass))?' metro_ui_list_ctrl_text':strCssTextClass;this._sCssRow=' metro_ui_list_ctrl_row';this.$55();this.$54=' cls_bg_color_accent';}
Kepler.Framework.UI.Metro_Ui_Controls.MetroUiListBox.MetroUiDropDownListCtrl.prototype={$54:null,$55:function(){this._sbVertical=new Kepler.Engine.UI.Controls.VScrollBar(new Kepler.Framework.UI.Point(this.get_width()-17-2,0),new Kepler.Framework.UI.Size(17,this.get_height()),'','metro_ui_vscrollbar');this._sbVertical.set_reduceIncreaseButtonSize(33);this._sbVertical.set_mfcBehaviour(false);this._sbVertical.set_scrollBarType(2);this._sbVertical.get_elementStyle().top='0px';this.set_scrollbarMode(0);},addItemToList:function(strText,ptImgPos,oImgSize,iItemHeight,oItemFont,bOnlyText){var $0=Kepler.Framework.UI.Metro_Ui_Controls.MetroUiListBox.MetroUiDropDownListCtrl.callBaseMethod(this, 'addItemToList',[strText,ptImgPos,oImgSize,iItemHeight,oItemFont,bOnlyText]);this._elemTable.rows[$0].style.lineHeight=this._iCommonItemHeight+'px';return $0;},drawItem:function(element,eState,bSelected,bDrawFocusRect){if(ss.isNullOrUndefined(element)){return;}Kepler.Framework.UI.Metro_Ui_Controls.MetroUiListBox.MetroUiDropDownListCtrl.callBaseMethod(this, 'drawItem',[element,eState,bSelected,bDrawFocusRect]);if(bSelected){element.className+=' '+this.$54;}},setHoverIndex:function(iRowIdx,bSelected,eState){if(this.getCapture()===this||this._iHoverIdx!==iRowIdx){if(this._iHoverIdx!==-1){if(!Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){this.drawItem(this._elemTable.rows[this._iHoverIdx],0,(this._iSelectedIdx===this._iHoverIdx));}}this._iHoverIdx=iRowIdx;if(this._iHoverIdx>-1){this.drawItem(this._elemTable.rows[this._iHoverIdx],eState,(this._iSelectedIdx===iRowIdx),bSelected);}}else if(iRowIdx===-1&&this._iHoverIdx!==-1){if(!Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){this.drawItem(this._elemTable.rows[this._iHoverIdx],0,(this._iSelectedIdx===this._iHoverIdx));}this._iHoverIdx=-1;}},onLButtonDown:function(mouseEventArgs){Kepler.Framework.UI.Metro_Ui_Controls.MetroUiListBox.MetroUiDropDownListCtrl.callBaseMethod(this, 'onLButtonDown',[mouseEventArgs]);var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getParentElementByName(mouseEventArgs.get_target(),'listCtrl_Row');var $1=this.getRowIdx($0);if($1!==this._iSelectedIdx){this.drawItem(this._elemTable.rows[this._iSelectedIdx],0,true);}},onLButtonUp:function(mouseEventArgs){Kepler.Framework.UI.Metro_Ui_Controls.MetroUiListBox.MetroUiDropDownListCtrl.callBaseMethod(this, 'onLButtonUp',[mouseEventArgs]);var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getParentElementByName(mouseEventArgs.get_target(),'listCtrl_Row');var $1=this.getRowIdx($0);if($1!==-1){this.drawItem(this._elemTable.rows[$1],1,(this._iSelectedIdx===$1));}},onMouseMove:function(mouseEventArgs){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getParentElementByName(mouseEventArgs.get_target(),'listCtrl_Row');var $1=this.getRowIdx($0);var $2=false;if(this._iSelectedIdx===$1){$2=true;}this.setHoverIndex($1,$2,1);},getVisibleTop:function(){return this.get_verticalScrollbar().get_curPos();},setSelectedCssClass:function(strCssClass){this.$54=strCssClass;},getTableElement:function(){return this._elemTable;}}
Kepler.Framework.UI.Metro_Ui_Controls.MetroUiListBox.MetroUiListCtrl=function(ptPosition,oCtrlSize,iCommonItemHeight,oCommonImgSize,ptCommonImgPos,strCommonImgSrc,oCommonFont,strId){Kepler.Framework.UI.Metro_Ui_Controls.MetroUiListBox.MetroUiListCtrl.initializeBase(this,[ptPosition,oCtrlSize,iCommonItemHeight,oCommonImgSize,ptCommonImgPos,strCommonImgSrc,oCommonFont,strId]);this.$4E();this.$4D();}
Kepler.Framework.UI.Metro_Ui_Controls.MetroUiListBox.MetroUiListCtrl.prototype={$4C:0,$4D:function(){this._sbVertical=new Kepler.Engine.UI.Controls.VScrollBar(new Kepler.Framework.UI.Point(this.get_width()-17-2,0),new Kepler.Framework.UI.Size(17,this.get_height()),'','metro_ui_vscrollbar');this._sbVertical.set_reduceIncreaseButtonSize(33);this._sbVertical.set_mfcBehaviour(false);this._sbVertical.set_scrollBarType(2);this._sbVertical.get_elementStyle().top='0px';this.set_scrollbarMode(0);},addItemToList:function(strText,ptImgPos,oImgSize,iItemHeight,oItemFont,bOnlyText){var $0=Kepler.Framework.UI.Metro_Ui_Controls.MetroUiListBox.MetroUiListCtrl.callBaseMethod(this, 'addItemToList',[strText,ptImgPos,oImgSize,iItemHeight,oItemFont,bOnlyText]);this._elemTable.rows[$0].style.lineHeight=this._iCommonItemHeight+'px';return $0;},drawItem:function(element,eState,bSelected,bDrawFocusRect){if(ss.isNullOrUndefined(element)){return;}Kepler.Framework.UI.Metro_Ui_Controls.MetroUiListBox.MetroUiListCtrl.callBaseMethod(this, 'drawItem',[element,eState,bSelected,bDrawFocusRect]);if(bSelected){element.className+=' '+' cls_bg_color_accent';}},$4E:function(){this.get_element().className=' metro_ui_list_ctrl';this.csS_TEXT=' metro_ui_list_ctrl_text';this._sCssRow=' metro_ui_list_ctrl_row';},setListCtrlClassName:function(strClassName){this.get_element().className=strClassName;},checkItemIsVisible:function(iIndex){var $0=this._elemTable;if(Kepler.Engine.UI.Helper.HtmlCssHelper.getCalculatedCSSProperty($0.rows[iIndex],'display').toString()==='none'||Kepler.Engine.UI.Helper.HtmlCssHelper.getCalculatedCSSProperty($0.rows[iIndex],'visibility').toString()==='hidden'){return false;}return true;},hideItem:function(bHide,iItemIndex){var $0=this._elemTable;$0.rows[iItemIndex].style.display=(bHide)?'none':'table-row';},onLButtonDown:function(mouseEventArgs){Kepler.Framework.UI.Metro_Ui_Controls.MetroUiListBox.MetroUiListCtrl.callBaseMethod(this, 'onLButtonDown',[mouseEventArgs]);var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getParentElementByName(mouseEventArgs.get_target(),'listCtrl_Row');var $1=this.getRowIdx($0);if($1!==this._iSelectedIdx){this.drawItem(this._elemTable.rows[this._iSelectedIdx],0,true);}this.$4C=$1;},onLButtonUp:function(mouseEventArgs){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getParentElementByName(mouseEventArgs.get_target(),'listCtrl_Row');var $1=this.getRowIdx($0);Kepler.Framework.UI.Metro_Ui_Controls.MetroUiListBox.MetroUiListCtrl.callBaseMethod(this, 'onLButtonUp',[mouseEventArgs]);if($1!==-1){this.drawItem(this._elemTable.rows[$1],1,(this._iSelectedIdx===$1));}},onMouseMove:function(mouseEventArgs){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getParentElementByName(mouseEventArgs.get_target(),'listCtrl_Row');var $1=this.getRowIdx($0);var $2=false;if(this._iSelectedIdx===$1){$2=true;}this.setHoverIndex($1,$2,1);},onKeyDown:function(keyboardEventArgs){var $0=this.get_stopEventProcessing();Kepler.Framework.UI.Metro_Ui_Controls.MetroUiListBox.MetroUiListCtrl.callBaseMethod(this, 'onKeyDown',[keyboardEventArgs]);if($0||keyboardEventArgs.get_altKey()){return;}keyboardEventArgs.set_defaultPrevented(true);switch(keyboardEventArgs.get_key()){case 37:case 38:var $1=this._iSelectedIdx;$1--;$1=($1<0)?0:$1;if(!this.checkItemIsVisible($1)){var $2=$1;$2--;while(!this.checkItemIsVisible($2)&&$2>=0){$2--;if($2===-1){break;}}$1=$2;this.onEventSetSelection($1);}else{this.onEventSetSelection($1);}break;case 39:case 40:var $3=this._iSelectedIdx;$3++;$3=($3>(this._elemTable.rows.length-1))?(this._elemTable.rows.length-1):$3;if(!this.checkItemIsVisible($3)){var $4=$3;$4++;while(!this.checkItemIsVisible($4)&&$4<this._elemTable.rows.length){$4++;if($4===this._elemTable.rows.length-1){break;}}$3=$4;this.onEventSetSelection($3);}else{this.onEventSetSelection($3);}break;case 34:var $5=this._elemTable.rows.length-1;if(!this.checkItemIsVisible($5)){var $6=$5;$6++;while(!this.checkItemIsVisible($6)&&$6<this._elemTable.rows.length){$6++;if($6===this._elemTable.rows.length-1){break;}}$5=$6;this.onEventSetSelection($5);}else{this.onEventSetSelection($5);}break;case 33:var $7=0;if(!this.checkItemIsVisible($7)){var $8=$7;$8--;while(!this.checkItemIsVisible($8)&&$8>=0){$8--;if($8===-1){break;}}$7=$8;this.onEventSetSelection($7);}else{this.onEventSetSelection($7);}break;default:var $9=this.autoSelectFromList(keyboardEventArgs.get_key());if(!this.checkItemIsVisible($9)){$9=this.autoSelectFromList(keyboardEventArgs.get_key());while(!this.checkItemIsVisible($9)){$9=this.autoSelectFromList(keyboardEventArgs.get_key());if($9===this._iSelectedIdx){break;}}this.onEventSetSelection($9);}else{this.onEventSetSelection($9);}break;}}}
Type.registerNamespace('Kepler.Framework.UI.Metro_Ui_Controls.MetroUiTab');Kepler.Framework.UI.Metro_Ui_Controls.MetroUiTab.MetroUiTabControl=function(strId){Kepler.Framework.UI.Metro_Ui_Controls.MetroUiTab.MetroUiTabControl.initializeBase(this,[' position_absolute',strId]);this._oTabNavigator=new Kepler.Framework.UI.Metro_Ui_Controls.MetroUiTab.MetroUiTabNavigator();this._oTabPageContainer.set_donotHandleFocusOnLButtonDown(true);}
Kepler.Framework.UI.Metro_Ui_Controls.MetroUiTab.MetroUiTabControl.prototype={onLoad:function(){Kepler.Framework.UI.Metro_Ui_Controls.MetroUiTab.MetroUiTabControl.callBaseMethod(this, 'onLoad');this.$42();},$42:function(){this._oTabPageContainer.set_top(0);this._oTabPageContainer.set_left(400);},onParentResized:function(szParent){this.set_size(szParent);Kepler.Framework.UI.Metro_Ui_Controls.MetroUiTab.MetroUiTabControl.callBaseMethod(this, 'onParentResized',[szParent]);},onSize:function(){this._oTabPageContainer.set_size(new Kepler.Framework.UI.Size(this.get_size().get_width()-400,this.get_size().get_height()));this._oTabNavigator.set_height(this.get_size().get_height());Kepler.Framework.UI.Metro_Ui_Controls.MetroUiTab.MetroUiTabControl.callBaseMethod(this, 'onSize');},setNavigatorTop:function(iTop){(this._oTabNavigator).setListControlTop(iTop);},hideTab:function(bHide,iTabIndex,bNavigatorOnly){if(iTabIndex>=0&&iTabIndex<this._lstTab.length){(this._oTabNavigator).hideNavigationItem(bHide,iTabIndex);if(!bNavigatorOnly){var $0=this.findIndexOfItemDiscardingNullItems(iTabIndex);this._oTabPageContainer.hideTab(bHide,$0);}}},addTab:function(oTabPage,strTabName){if(oTabPage==null&&!ss.isNullOrUndefined(strTabName)&&''!==strTabName){this._oTabNavigator.addItem(strTabName);this._lstTab.add(oTabPage);}else{if(oTabPage==null){throw new Error('Null Reference Exception : '+'oTabPage');}if(this._lstTab.contains(oTabPage)){return;}this._lstTab.add(oTabPage);if(!ss.isNullOrUndefined(strTabName)&&''!==strTabName){this._oTabNavigator.addItem(strTabName);}else{this._oTabNavigator.addItem(oTabPage.get_name());}this._oTabPageContainer.addTabPage(oTabPage);}if(this._lstTab.length===1){this.setActiveTabIndex(0);}},removeTab:function(oTabPage){var $0;if(oTabPage!=null&&(($0=this._lstTab.indexOf(oTabPage))!==-1)){this.removeTabAt($0);}},removeTabAt:function(iTabIndex){if(iTabIndex>=0&&iTabIndex<this._lstTab.length){var $0=this._lstTab[iTabIndex];if($0!=null){this._oTabPageContainer.$42(iTabIndex);}this._oTabNavigator.removeItem(iTabIndex);this._lstTab.removeAt(iTabIndex);if(this._oActiveTab===$0){if(iTabIndex<this._lstTab.length){this.setActiveTabIndex(iTabIndex);}else{this._oActiveTab=null;}}}},setActiveTabIndex:function(iTabIndex){var $0=this.get_activeTabIndex();if(iTabIndex>=0&&iTabIndex<this._lstTab.length&&this._lstTab[iTabIndex]==null){var $1=new Kepler.Framework.UI.Controls.OnCommandStruct();$1.setData(iTabIndex,2);var $2=this.sendMessageToParent('msg_command',$1,this);if(!$2){this.sendMessageToParent('SelectionChanged',iTabIndex,this);}}else if(iTabIndex>=0&&iTabIndex<this._lstTab.length&&$0!==iTabIndex&&this._lstTab[iTabIndex]!=null&&this._lstTab[iTabIndex].get_enable()){this._oActiveTab=this._lstTab[iTabIndex];this._oTabNavigator.setActiveItemIndex(iTabIndex);var $3=this.findIndexOfItemDiscardingNullItems(iTabIndex);this._oTabPageContainer.$43($3,$0);var $4=new Kepler.Framework.UI.Controls.OnCommandStruct();$4.setData(iTabIndex,2);var $5=this.sendMessageToParent('msg_command',$4,this);if(!$5){this.sendMessageToParent('SelectionChanged',iTabIndex,this);}}}}
Kepler.Framework.UI.Metro_Ui_Controls.MetroUiTab.MetroUiTabNavigator=function(){Kepler.Framework.UI.Metro_Ui_Controls.MetroUiTab.MetroUiTabNavigator.initializeBase(this,['div',' position_absolute'+' '+' cls_bg_color_bg']);this.set_width(400);this.get_element().style.height='100%';this.$44=new Kepler.Framework.UI.Metro_Ui_Controls.MetroUiListBox.MetroUiListCtrl(new Kepler.Framework.UI.Point(0,120),new Kepler.Framework.UI.Size(400,0),50,null,null,null);this.$44.set_width(400);this.$44.set_scrollbarMode(2);this.$44.setListCtrlClassName(' metro_ui_tab_navigator_list_ctrl');this.$44.setCssClasses(' metro_ui_tab_navigator_list_ctrl_text',' metro_ui_tab_navigator_list_ctrl_row',true);}
Kepler.Framework.UI.Metro_Ui_Controls.MetroUiTab.MetroUiTabNavigator.prototype={$44:null,$45:false,onLoad:function(){Kepler.Framework.UI.Metro_Ui_Controls.MetroUiTab.MetroUiTabNavigator.callBaseMethod(this, 'onLoad');this.addControls();this.attachMessages();},addControls:function(){this.add(this.$44);},attachMessages:function(){this.attachMessage('SelectionChanged',ss.Delegate.create(this,this.$46));},setFocus:function(){return this.$44.setFocus();},addItem:function(strText){this.$44.addItemToList(strText);},removeItem:function(iItemIndex){this.$44.removeItem(iItemIndex);},setActiveItemIndex:function(iItemIndex){if(this.$45){return;}this.$45=true;try{this.$44.setSelectedIndex(iItemIndex);}finally{this.$45=false;}},getItemRect:function(iItemIndex){var $0=this.get_element().childNodes[iItemIndex];return Kepler.Engine.UI.Helper.HtmlCssHelper.getElementRect($0);},drawVisualHint:function(oHintData){this.$44.drawVisualHint(oHintData);},eraseVisualHint:function(){this.$44.eraseVisualHint();},getIndexElement:function(iIndex){return this.$44.getIndexElement(iIndex);},onSize:function(){Kepler.Framework.UI.Metro_Ui_Controls.MetroUiTab.MetroUiTabNavigator.callBaseMethod(this, 'onSize');if(!ss.isNullOrUndefined(this.$44)){this.$44.set_height(this.get_size().get_height()-this.$44.get_top());}},setListControlTop:function(iTop){this.$44.set_top(iTop);},hideNavigationItem:function(bHide,iItemIndex){this.$44.hideItem(bHide,iItemIndex);},$46:function($p0,$p1){var $0=$p1;if($0===this.$44){var $1=$p0;this.$45=true;try{(this.get_parent()).onEventProcessSelection($1);}finally{this.$45=false;}}return null;}}
Kepler.Framework.UI.Metro_Ui_Controls.MetroUiTab.MetroUiTabPage=function(strName,strTitle){Kepler.Framework.UI.Metro_Ui_Controls.MetroUiTab.MetroUiTabPage.initializeBase(this,[strName]);this.$42=strTitle;this.$45();this.get_element().style.width='100%';this.get_element().style.height='100%';this.get_element().style.position='absolute';this.$44=document.createElement('div');this.$44.style.overflow='hidden';this.get_element().appendChild(this.$44);var $0=new Kepler.Framework.UI.Scroller.ScrollStruct();$0.scrollElement=this.get_element();$0.bHandleEvents=false;$0.hScroll=true;$0.hScrollbar=false;$0.onScrollMove=ss.Delegate.create(this,this.$47);this.$43=this.setScrollable($0);this.get_scroller().refresh();this.$43.refresh();this._sbVertical=new Kepler.Engine.UI.Controls.VScrollBar(null,new Kepler.Framework.UI.Size(0,17),'');this._sbVertical.set_iSendMsgParent(this);this._sbVertical.set_mfcBehaviour(false);this._sbVertical.set_singleStep(10);this._sbVertical.set_singleStepTimerInterval(5);this._eScrollbarMode=0;this._sbVertical.onLoadFromNonControlParent();this._sbVertical.get_element().style.position='absolute';this._sbVertical.get_element().style.right='0px';if(Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){$0.bHandleEvents=true;$0.hScrollbar=true;this._sbVertical.get_element().style.display='none';}}
Kepler.Framework.UI.Metro_Ui_Controls.MetroUiTab.MetroUiTabPage.prototype={$42:null,get_title:function(){return this.$42;},set_title:function(value){this.$42=value;return value;},$43:null,get_scrollView:function(){return this.$43;},$44:null,get_scrollableDiv:function(){return this.$44;},set_scrollableDiv:function(value){this.$44=value;return value;},_sbVertical:null,get_isScrollbarVisible:function(){return this._sbVertical.get_visible();},_eScrollbarMode:0,get_scrollbarMode:function(){return this._eScrollbarMode;},set_scrollbarMode:function(value){this._eScrollbarMode=value;return value;},onLoad:function(){Kepler.Framework.UI.Metro_Ui_Controls.MetroUiTab.MetroUiTabPage.callBaseMethod(this, 'onLoad');},$45:function(){this.attachMessage('ScrollPosChanged',ss.Delegate.create(this,this.$48));this.attachMessage('ScrollPosChanging',ss.Delegate.create(this,this.$49));},updateScrollBar:function(iVisibleWidth,iScrollableWidth){var $0=0;var $1=iScrollableWidth-iVisibleWidth;var $2=true;if($1<=$0){$1=$0;$2=false;}else{$2=true;}if(this.get_scrollbarMode()===2){this._sbVertical.show(false);}else if(!this.get_scrollbarMode()){this._sbVertical.show($2);}else if(this.get_scrollbarMode()===1){this._sbVertical.set_enable($2);}this._sbVertical.set_width(iVisibleWidth);this._sbVertical.setBounds($0,$1);this._sbVertical.set_pageStep(iVisibleWidth);this._sbVertical.set_curPos(0);if(ss.isValue(this.$43)){this.$43.refresh();this.$43.setOptions(false,true,false,true,5);this.$43.scrollToStart();}},$46:function($p0){if(ss.isValue(this.$43)){$p0=-$p0;var $0=this.$43.get_x();var $1=this.$43.get_maxScrollX();var $2=this.$43.get_minScrollY();var $3=$0-$p0;if($3>($0-$1)){$3=($0-$1);}if($3<($0-$2)){$3=($0-$2);}this.$43.scrollToY($3,0);}},$47:function(){if(ss.isValue(this.$43)&&this.get_isScrollbarVisible()){var $0=-this.$43.get_x();this._sbVertical.set_curPos($0);}},$48:function($p0,$p1){var $0=($p1);if($0===this._sbVertical){this.$46(this._sbVertical.get_curPos());}return null;},$49:function($p0,$p1){var $0=($p1);if($0===this._sbVertical){this.$46(this._sbVertical.get_curPos());}return null;},onSize:function(){Kepler.Framework.UI.Metro_Ui_Controls.MetroUiTab.MetroUiTabPage.callBaseMethod(this, 'onSize');}}
Type.registerNamespace('Kepler.Framework.UI.Metro_Ui_Controls.MetroUiThemeButton');Kepler.Framework.UI.Metro_Ui_Controls.MetroUiThemeButton.MetroUiThemeButton=function(strHtml,oPosition,oSize,strId,strClassName){Kepler.Framework.UI.Metro_Ui_Controls.MetroUiThemeButton.MetroUiThemeButton.initializeBase(this,['div',oPosition,oSize,strClassName,strId,null]);if(ss.isValue(strHtml)){this.setHtml(strHtml);}this._strClassName=((ss.isValue(strClassName)&&''!==strClassName)?' '+strClassName:' button');this.get_element().className=' cls_bg_color_accent'+this._strClassName+' '+this._strClassName+'_normal';}
Kepler.Framework.UI.Metro_Ui_Controls.MetroUiThemeButton.MetroUiThemeButton.prototype={_strClassName:null,get_height:function(){return Kepler.Framework.UI.Metro_Ui_Controls.MetroUiThemeButton.MetroUiThemeButton.callBaseMethod(this, 'get_height');},set_height:function(value){Kepler.Framework.UI.Metro_Ui_Controls.MetroUiThemeButton.MetroUiThemeButton.callBaseMethod(this, 'set_height',[value]);this.get_elementStyle().lineHeight=value+'px';return value;},get_size:function(){return Kepler.Framework.UI.Metro_Ui_Controls.MetroUiThemeButton.MetroUiThemeButton.callBaseMethod(this, 'get_size');},set_size:function(value){Kepler.Framework.UI.Metro_Ui_Controls.MetroUiThemeButton.MetroUiThemeButton.callBaseMethod(this, 'set_size',[value]);this.get_elementStyle().lineHeight=value.get_height()+'px';return value;},drawItem:function(eState){var $0='';switch(eState){case 1:$0='_hover';break;case 0:$0='_normal';break;case 2:$0='_pressed';break;default:throw new Error('Not Implemented Exception : '+'eState');}if($0.length>0){this.get_element().className=' cls_bg_color_accent'+this._strClassName+this._strClassName+$0;}},getFocusRect:function(){var $0=new Kepler.Framework.UI.Rect(0,0,0,0);$0.set_top(this.get_position().get_y()+3);$0.set_left(this.get_position().get_x()+3);$0.set_height(this.get_height()-6);$0.set_width(this.get_width()-6);return $0;}}
Type.registerNamespace('Kepler.Framework.UI.Metro_Ui_Controls.OnOffControl');Kepler.Framework.UI.Metro_Ui_Controls.OnOffControl.EOnOffStatus=function(){};Kepler.Framework.UI.Metro_Ui_Controls.OnOffControl.EOnOffStatus.prototype = {eOn:0,eOff:1}
Kepler.Framework.UI.Metro_Ui_Controls.OnOffControl.EOnOffStatus.registerEnum('Kepler.Framework.UI.Metro_Ui_Controls.OnOffControl.EOnOffStatus',false);Kepler.Framework.UI.Metro_Ui_Controls.OnOffControl.OnOffCtrl=function(strId,position,ctrlStatus){Kepler.Framework.UI.Metro_Ui_Controls.OnOffControl.OnOffCtrl.initializeBase(this,['div','css_class_onoff_ctrl',strId,null]);if(!ss.isNullOrUndefined(position)){this.set_position(position);}this.$4A=(ss.isNullOrUndefined(ctrlStatus))?1:ctrlStatus;this.$4D=false;}
Kepler.Framework.UI.Metro_Ui_Controls.OnOffControl.OnOffCtrl.prototype={$46:null,$47:null,$48:null,$49:null,$4A:0,get_onOffStatus:function(){return this.$4A;},set_onOffStatus:function(value){this.$4A=value;this.$50();return value;},$4B:0,$4C:null,$4D:false,get_enable:function(){return Kepler.Framework.UI.Metro_Ui_Controls.OnOffControl.OnOffCtrl.callBaseMethod(this, 'get_enable');},set_enable:function(value){Kepler.Framework.UI.Metro_Ui_Controls.OnOffControl.OnOffCtrl.callBaseMethod(this, 'set_enable',[value]);this.$51(value);return value;},get_ariaSpeech:function(){var $0=(!this.$4A)?' off ':' on ';if(!this.get_ariaSpeechFromOnFocus()){return $0;}var $1=' To increase or decrease Use the arrow keys ';return (Kepler.Framework.UI.Metro_Ui_Controls.OnOffControl.OnOffCtrl.callBaseMethod(this, 'get_ariaSpeech')+' left right slider'+$0+$1);},set_ariaSpeech:function(value){Kepler.Framework.UI.Metro_Ui_Controls.OnOffControl.OnOffCtrl.callBaseMethod(this, 'set_ariaSpeech',[value]);return value;},onLoad:function(){Kepler.Framework.UI.Metro_Ui_Controls.OnOffControl.OnOffCtrl.callBaseMethod(this, 'onLoad');this.$4E();this.$4F();this.$50();this.$52();this.$4B=0;},$4E:function(){this.addEvents(16|32|2|8|4|4096|8192|16384|256|512|1024);},$4F:function(){this.$46=document.createElement('div');this.$46.className='css_class_thumb';this.$47=document.createElement('div');this.$47.className='css_class_on_backgrnd_ele';this.$48=document.createElement('div');this.$48.className='css_class_off_backgrnd_ele';this.$49=document.createElement('div');this.$49.className='css_class_backgrnd_wrapper_ele';this.$49.appendChild(this.$47);this.$49.appendChild(this.$48);this.get_element().appendChild(this.$46);this.get_element().appendChild(this.$49);Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this.$48,'css_class_off_backgrnd_color');Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this.$47,' cls_bg_color_accent');},$50:function(){switch(this.$4A){case 1:this.$48.style.width=44+'px';this.$47.style.width='';this.$46.style.left=(-2)+'px';break;case 0:this.$47.style.width=44+'px';this.$48.style.width='';this.$46.style.left=(50-12-2)+'px';break;}this.$56();},changeState:function(eState){if(this.$4B===eState){return;}this.$4B=eState;this.invalidate();},invalidate:function(){if(!this.get_enable()){this.drawItem(6);}else{this.drawItem(this.$4B);}},$51:function($p0){if(this.get_loaded()){if($p0){this.$55();this.drawItem(this.$4B);}else{this.drawItem(6);}}},drawItem:function(eState){switch(eState){case 1:this.$49.style.opacity='0.89';break;case 0:this.$49.style.opacity='';break;case 2:this.$49.style.opacity='0.62';break;case 6:this.$54();break;default:throw new Error('Not Implemented Exception : '+'eState');}},onMouseOver:function(evt){Kepler.Framework.UI.Metro_Ui_Controls.OnOffControl.OnOffCtrl.callBaseMethod(this, 'onMouseOver',[evt]);if(this.getCapture()===this){this.changeState(2);}else{this.changeState(1);}},onMouseOut:function(evt){Kepler.Framework.UI.Metro_Ui_Controls.OnOffControl.OnOffCtrl.callBaseMethod(this, 'onMouseOut',[evt]);if(this.getCapture()===this){this.changeState(2);}else{this.changeState(0);}},onLButtonDown:function(evt){Kepler.Framework.UI.Metro_Ui_Controls.OnOffControl.OnOffCtrl.callBaseMethod(this, 'onLButtonDown',[evt]);this.setCapture();this.changeState(2);this.$4C=evt.get_target();},onLButtonUp:function(evt){Kepler.Framework.UI.Metro_Ui_Controls.OnOffControl.OnOffCtrl.callBaseMethod(this, 'onLButtonUp',[evt]);this.releaseCapture();if(!this.$4D){this.$4A=(((this.$4A)+1)%2);}else{var $0=parseInt(this.$46.style.left,10);var $1=(50-(2*2)-12)/2;if($0<=$1){this.$4A=1;}else{this.$4A=0;}this.$52();}this.$50();this.changeState(0);this.$4C=null;this.$4D=false;},onMouseMove:function(evt){Kepler.Framework.UI.Metro_Ui_Controls.OnOffControl.OnOffCtrl.callBaseMethod(this, 'onMouseMove',[evt]);if(this.getCapture()===this){this.changeState(2);}else{this.changeState(1);}if(!ss.isNull(this.$4C)&&this.$4C===this.$46){this.$53();var $0=this.getOffsetPointFromEventArgs(evt,true).get_x();var $1=50-12-2;var $2=$0-(12/2);$2=($2<-2)?-2:$2;$2=($2>$1)?$1:$2;this.$46.style.left=$2+'px';Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this.$48,'css_class_off_backgrnd_color');Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this.$47,' cls_bg_color_accent');var $3=$2+(12/2)-1;this.$47.style.width=$3+'px';this.$48.style.width=(44-$3)+'px';this.$4D=true;}},onKeyUp:function(evt){Kepler.Framework.UI.Metro_Ui_Controls.OnOffControl.OnOffCtrl.callBaseMethod(this, 'onKeyUp',[evt]);var $0=evt.get_key();if($0===37||$0===38){this.set_onOffStatus(1);}else if($0===39||$0===40){this.set_onOffStatus(0);}},$52:function(){Kepler.Engine.UI.Helper.HtmlCssHelper.applyTransition(this.$48,'width','150ms');Kepler.Engine.UI.Helper.HtmlCssHelper.applyTransition(this.$47,'width','150ms');Kepler.Engine.UI.Helper.HtmlCssHelper.applyTransition(this.$46,'left','150ms');},$53:function(){Kepler.Engine.UI.Helper.HtmlCssHelper.remvoeAllTransition(this.$48);Kepler.Engine.UI.Helper.HtmlCssHelper.remvoeAllTransition(this.$47);Kepler.Engine.UI.Helper.HtmlCssHelper.remvoeAllTransition(this.$46);},$54:function(){Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this.$48,'css_class_backgrnd_color_disabled');Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this.$47,'css_class_backgrnd_color_disabled');this.$46.style.backgroundColor='#A6A6A6';this.get_element().style.borderColor='#CCCCCC';},$55:function(){Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(this.$48,'css_class_backgrnd_color_disabled');Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(this.$47,'css_class_backgrnd_color_disabled');this.$46.style.backgroundColor='';this.get_element().style.borderColor='';},$56:function(){var $0=new Kepler.Framework.UI.Controls.OnCommandStruct();$0.setData(this.$4A,0);var $1=this.sendMessageToParent('msg_command',$0,this);if(!$1){this.sendMessageToParent('msg_on_off_status_changed',this.$4A,this);}}}
Kepler.Framework.UI.Metro_Ui_Controls.OnOffControl.OnOffCtrlWithStatus=function(strId,oPosition,oSize,oControlState){Kepler.Framework.UI.Metro_Ui_Controls.OnOffControl.OnOffCtrlWithStatus.initializeBase(this,['div',' position_absolute',strId,null]);if(!ss.isNullOrUndefined(oPosition)){this.set_position(oPosition);}if(!ss.isNullOrUndefined(oSize)){this.set_size(oSize);}this.$43=new Kepler.Framework.UI.Metro_Ui_Controls.OnOffControl.OnOffCtrl(strId+'',null,oControlState);this.$43.set_right(0);var $0='';if(this.$43.get_onOffStatus()===1){$0='Off';}else{$0='On';}this.$42=new Kepler.Engine.UI.Controls.Label($0,null,'css_class_staus_label',null);this.$42.get_elementStyle().lineHeight=this.get_height()+'px';}
Kepler.Framework.UI.Metro_Ui_Controls.OnOffControl.OnOffCtrlWithStatus.prototype={$42:null,$43:null,onLoad:function(){Kepler.Framework.UI.Metro_Ui_Controls.OnOffControl.OnOffCtrlWithStatus.callBaseMethod(this, 'onLoad');this.add(this.$43);this.add(this.$42);this.attachMessage('msg_on_off_status_changed',ss.Delegate.create(this,this.$44));},$44:function($p0,$p1){var $0=$p0;if(!$0){this.$42.setText('On');}else if($0===1){this.$42.setText('Off');}this.$45();return null;},$45:function(){var $0=new Kepler.Framework.UI.Controls.OnCommandStruct();$0.setData(this.$43.get_onOffStatus(),0);var $1=this.sendMessageToParent('msg_command',$0,this);if(!$1){this.sendMessageToParent('msg_on_off_status_changed',this.$43.get_onOffStatus(),this);}},drawVisualHint:function(oHintData){var $0=this.getIndexElement(oHintData.iIndex);var $1=$(this.$43.get_element());$1.addClass(' class_visual_hint');},getIndexElement:function(iIndex){if(iIndex===1){return this.$43.get_element();}return null;},eraseVisualHint:function(){var $0=$(this.$43.get_element());$0.removeClass(' class_visual_hint');}}
Type.registerNamespace('Kepler.Framework.UI.Themed_Controls.CollapsibleList');Kepler.Framework.UI.Themed_Controls.CollapsibleList.CollapseController=function(HeaderName,IsCollapsed){Kepler.Framework.UI.Themed_Controls.CollapsibleList.CollapseController.initializeBase(this,['td','collapse_ctrl','CollapseControl']);this.$44=HeaderName;this.createControl();this.$46=Kepler.Framework.UI.ThemeDetails.get_currentTheme();this.$48=((ss.isValue(IsCollapsed))?IsCollapsed:true);this.set_alwaysSpeechOnSetFocus(true);}
Kepler.Framework.UI.Themed_Controls.CollapsibleList.CollapseController.prototype={csS_CLASS_COLLAPSE_IMAGE:' collapse_img',$43:null,get_eleArrow:function(){return this.$43;},set_eleArrow:function(value){this.$43=value;return value;},$44:null,get_headerName:function(){return this.$44;},set_headerName:function(value){this.$44=value;return value;},$45:null,get_eleHeader:function(){return this.$45;},set_eleHeader:function(value){this.$45=value;return value;},$46:null,get_themeDetails:function(){return this.$46;},set_themeDetails:function(value){this.$46=value;return value;},$47:0,$48:false,get_collapse:function(){return this.$48;},set_collapse:function(value){this.$48=value;return value;},$49:false,get_ariaSpeech:function(){var $0=' To activate press spacebar ';if(this.get_ariaSpeechFromOnFocus()){var $1=this.get_text()+' Button ';if(this.get_setFocusUsingTab()){$1+=$0;}return $1;}if(this.$48){return 'checked';}return '';},set_ariaSpeech:function(value){Kepler.Framework.UI.Themed_Controls.CollapsibleList.CollapseController.callBaseMethod(this, 'set_ariaSpeech',[value]);return value;},onLoad:function(){Kepler.Framework.UI.Themed_Controls.CollapsibleList.CollapseController.callBaseMethod(this, 'onLoad');this.$4A();this.drawItem(0);},renameHeader:function(strHeaderName){if(ss.isValue(strHeaderName)){this.$44=strHeaderName;this.$45.innerHTML=this.$44;}},$4A:function(){this.addEvents(2|8|4|16|128|32|256|512|1024|2048);},getFocusRect:function(){return null;},onFocus:function(oFocusedPrevControl){Kepler.Framework.UI.Themed_Controls.CollapsibleList.CollapseController.callBaseMethod(this, 'onFocus',[oFocusedPrevControl]);if(!this.$47){this.drawItem(1);}},onLostFocus:function(oFocusedNewControl){Kepler.Framework.UI.Themed_Controls.CollapsibleList.CollapseController.callBaseMethod(this, 'onLostFocus',[oFocusedNewControl]);if(Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){this.$47=0;}this.drawItem(this.$47);},createControl:function(){this.$43=document.createElement('div');this.$43.className=this.csS_CLASS_COLLAPSE_IMAGE;this.get_element().appendChild(this.$43);this.$45=document.createElement('span');this.$45.className=' header';this.$45.innerHTML=this.$44;this.get_element().appendChild(this.$45);},drawItem:function(eState){this.$47=eState;var $0='';switch(eState){case 1:if(this.$48){this.get_elementStyle().backgroundColor=this.$46.get_colorHover();this.get_elementStyle().borderColor=this.$46.get_colorHover();$0+='_hover';}else{this.get_elementStyle().backgroundColor=this.$46.get_colorHover();this.get_elementStyle().borderColor=this.$46.get_colorPressed();$0+='_pressed_hover';}if(!this.$48){this.$45.style.color=this.$46.get_colorNormal();}else{this.$45.style.color='';}break;case 2:this.get_elementStyle().backgroundColor=this.$46.get_colorPressed();this.get_elementStyle().borderColor=this.$46.get_colorPressed();break;case 0:if(Kepler.Engine.UI.Controls.Control.get_$8()!==this){this.get_elementStyle().backgroundColor='';this.get_elementStyle().borderColor='';}if(Kepler.Engine.UI.Controls.Control.get_$8()!==this){if(this.$48){$0+='_normal';}else{$0+='_selected';}}else{if(this.$48){$0='_hover';}}break;default:throw new Error('Not Implemented Exception : '+'eState');}if($0.length>0){this.$43.className=this.csS_CLASS_COLLAPSE_IMAGE+this.csS_CLASS_COLLAPSE_IMAGE+$0+((!this.$46.get_appName().length)?'':'_'+this.$46.get_appName());}},$4B:function(){this.sendMessageToParent('collapse_ctrl_clicked',this.$48,this);},collapseIt:function(bCollapse){this.$48=bCollapse;this.drawItem(0);this.$4B();},onMouseOver:function(evt){Kepler.Framework.UI.Themed_Controls.CollapsibleList.CollapseController.callBaseMethod(this, 'onMouseOver',[evt]);if(evt.get_target()===this.get_element()||evt.get_target()===this.$43||evt.get_target()===this.$45){if(!this.$49){this.drawItem(1);}else{this.drawItem(2);if(Kepler.Engine.UI.Controls.Control.get_$8()!==this){if(!this.$48){this.$43.className=this.csS_CLASS_COLLAPSE_IMAGE+this.csS_CLASS_COLLAPSE_IMAGE+'_pressed_hover';}else{this.$43.className=this.csS_CLASS_COLLAPSE_IMAGE+this.csS_CLASS_COLLAPSE_IMAGE+'_hover';}}else{this.$43.className=this.csS_CLASS_COLLAPSE_IMAGE+this.csS_CLASS_COLLAPSE_IMAGE+'_hover';}}}},onMouseOut:function(evt){Kepler.Framework.UI.Themed_Controls.CollapsibleList.CollapseController.callBaseMethod(this, 'onMouseOut',[evt]);this.drawItem(0);},onLButtonDown:function(evt){Kepler.Framework.UI.Themed_Controls.CollapsibleList.CollapseController.callBaseMethod(this, 'onLButtonDown',[evt]);this.$49=true;this.drawItem(2);this.setCapture();},onLButtonUp:function(evt){Kepler.Framework.UI.Themed_Controls.CollapsibleList.CollapseController.callBaseMethod(this, 'onLButtonUp',[evt]);if(evt.get_target()===this.get_element()||evt.get_target()===this.$43||evt.get_target()===this.$45){this.$48=!this.$48;this.drawItem(1);this.$4B();}else{this.drawItem(0);}this.$49=false;this.releaseCapture();}}
Kepler.Framework.UI.Themed_Controls.CollapsibleList.CollapsibleList=function(oPosition,iWidth,strCtrlTitle,bCollapsed,strID){Kepler.Framework.UI.Themed_Controls.CollapsibleList.CollapsibleList.initializeBase(this,['table']);this.$41=[];this.$42={};if(ss.isValue(bCollapsed)){this.$44=bCollapsed;}else{this.$44=true;}this._oCollapseController=new Kepler.Framework.UI.Themed_Controls.CollapsibleList.CollapseController(strCtrlTitle,this.$44);this.$48();this.$49(this.$44);if(ss.isValue(oPosition)){this.set_position(oPosition);this.get_element().style.position='absolute';}if(ss.isValue(iWidth)){this.get_element().style.width=iWidth+'px';}if(ss.isValue(strID)){this.get_element().id=strID;this.set_id(parseInt(strID));}this.$47();}
Kepler.Framework.UI.Themed_Controls.CollapsibleList.CollapsibleList.prototype={$41:null,$42:null,$43:null,$44:false,_oCollapseController:null,get_ariaSpeech:function(){return '';},set_ariaSpeech:function(value){Kepler.Framework.UI.Themed_Controls.CollapsibleList.CollapsibleList.callBaseMethod(this, 'set_ariaSpeech',[value]);return value;},addNewRow:function(iIndex,strClass){var $0=(ss.isValue(iIndex))?this.$43.insertRow(iIndex):this.$43.insertRow(this.$41.length);if(ss.isValue(strClass)){$0.className=strClass;}if(ss.isValue(iIndex)){this.$41.insert(iIndex,$0);}else{this.$41.add($0);}this.$42[$0]=[];this.$42[$0].add($0.insertCell());},addControlToList:function(iIndex,oControl){oControl.get_elementStyle().position='relative';this.add(oControl,this.$42[this.$41[iIndex]][0]);},onLoad:function(){Kepler.Framework.UI.Themed_Controls.CollapsibleList.CollapsibleList.callBaseMethod(this, 'onLoad');this.$45();this.$46();},$45:function(){this.add(this._oCollapseController,(this.get_element()).rows[0]);},getFocusRect:function(){return null;},$46:function(){this.attachMessage('collapse_ctrl_clicked',ss.Delegate.create(this,this.onCollapseControllerClicked));this.attachMessage('msg_command',ss.Delegate.create(this,this.$4A));},$47:function(){(this.get_element()).rows[0].style.height='18px';this.$43.style.width='100%';},$48:function(){Kepler.Engine.UI.Helper.HtmlCssHelper.addElementAttribute((this.get_element()),'cellspacing','0');Kepler.Engine.UI.Helper.HtmlCssHelper.addElementAttribute((this.get_element()),'cellpadding','0');this.$43=document.createElement('table');Kepler.Engine.UI.Helper.HtmlCssHelper.addElementAttribute(this.$43,'cellspacing','0');Kepler.Engine.UI.Helper.HtmlCssHelper.addElementAttribute(this.$43,'cellpadding','0');var $0=(this.get_element()).insertRow(0);var $1=(this.get_element()).insertRow(1);var $2=$1.insertCell();$2.appendChild(this.$43);},$49:function($p0){if(ss.isValue($p0)){this.$44=$p0;}if(this.$44){(this.get_element()).rows[1].style.display='none';}else{(this.get_element()).rows[1].style.display='';}},collapse:function(bCollapse){this._oCollapseController.collapseIt(bCollapse);},renameHeader:function(strHeaderName){this._oCollapseController.renameHeader(strHeaderName);},onCollapseControllerClicked:function(wParam,lParam){var $0=wParam;this.$49($0);var $1=new Kepler.Framework.UI.Controls.OnCommandStruct();$1.setData(wParam,0);var $2=this.sendMessageToParent('msg_command',$1,this);if(!$2){this.sendMessageToParent('msg_collapse_status_changed',wParam,this);}return null;},$4A:function($p0,$p1){return this.sendMessageToParent('msg_command',$p0,$p1);}}
Type.registerNamespace('Kepler.Framework.UI.Themed_Controls.Themed_Buttons');Kepler.Framework.UI.Themed_Controls.Themed_Buttons.ThemeCheckBox=function(strHtml,oPosition,oSize,strId){Kepler.Framework.UI.Themed_Controls.Themed_Buttons.ThemeCheckBox.initializeBase(this,[strHtml,oPosition,oSize,strId]);this.$4D=Kepler.Framework.UI.ThemeDetails.get_currentTheme();this.$4F();this._elmText.className=' theme_radiobutton_text';}
Kepler.Framework.UI.Themed_Controls.Themed_Buttons.ThemeCheckBox.prototype={$4D:null,$4E:null,$4F:function(){this._elmImage.className=' theme_checkbox';this.$4E=document.createElement('div');this.$4E.className='checked';this._elmImage.appendChild(this.$4E);this.$4E.style.display='none';},drawItem:function(eState){var $0='';var $1='';if(this.get_state()!==1&&!!this.get_state()){this.set_state(0);}switch(eState){case 0:this._elmImage.style.backgroundColor='';this._elmImage.style.borderColor='';if(this.get_state()===1){this.$4E.style.opacity='';}else if(this.get_state()===2){this.$4E.style.backgroundColor='';}else{this.$4E.style.display='none';}if(this.getFocus()===this){this.drawItem(1);}break;case 1:this._elmImage.style.backgroundColor=this.$4D.get_colorHover();this._elmImage.style.borderColor=this.$4D.get_colorPressed();if(this.get_state()===1){this.$4E.style.opacity='0.7';}else if(this.get_state()===2){this.$4E.style.backgroundColor='#444444';}break;case 7:case 2:this._elmImage.style.backgroundColor=this.$4D.get_colorPressed();this._elmImage.style.borderColor=this.$4D.get_colorPressed();if(this.get_state()===1){this.$4E.style.display='';this.$4E.style.opacity='1';}else if(this.get_state()===2){this.$4E.style.backgroundColor='Black';}break;case 6:$1='_disabled';if(this.get_state()===1){this.$4E.style.opacity='0.2';}else{this.$4E.style.backgroundColor='#C6C6C6';}$0=' theme_radiobutton_text'+' theme_radiobutton_text'+'_disabled';break;default:throw new Error('Not Implemented Exception : '+'eState');}switch(this.get_state()){case 1:this.$4E.style.backgroundColor='';this.$4E.className='checked';this.$4E.style.display='';break;case 2:this.$4E.style.display='';this.$4E.className=' intermediat_state';break;case 0:this.$4E.style.backgroundColor='';this.$4E.className='checked';this.$4E.style.display='none';break;}if($1.length>0){this._elmImage.className=' theme_checkbox'+' theme_checkbox'+$1;if(this._elmText!=null&&$0.length>0){this._elmText.className=$0;}}},onLostFocus:function(oFocusedNewControl){Kepler.Framework.UI.Themed_Controls.Themed_Buttons.ThemeCheckBox.callBaseMethod(this, 'onLostFocus',[oFocusedNewControl]);this.drawItem(0);}}
Kepler.Framework.UI.Themed_Controls.Themed_Buttons.ThemeCssImageButton=function(strImagePath,oPosition,oSize,strCssClassName,strId,element){Kepler.Framework.UI.Themed_Controls.Themed_Buttons.ThemeCssImageButton.initializeBase(this,[strImagePath,oPosition,oSize,strCssClassName,strId,element]);this.$4B=Kepler.Framework.UI.ThemeDetails.get_currentTheme();}
Kepler.Framework.UI.Themed_Controls.Themed_Buttons.ThemeCssImageButton.prototype={$4B:null,drawItem:function(eState){var $0='';switch(eState){case 4:this.get_elementStyle().borderColor=this.$4B.get_colorPressed();this.get_elementStyle().backgroundColor=this.$4B.get_colorHover();$0='_focus';break;case 1:this.get_elementStyle().borderColor=this.$4B.get_colorPressed();this.get_elementStyle().backgroundColor=this.$4B.get_colorHover();$0='_hover';break;case 0:this.get_elementStyle().backgroundColor='';this.get_elementStyle().borderColor='';$0='_normal';break;case 2:this.get_elementStyle().borderColor=this.$4B.get_colorPressed();this.get_elementStyle().backgroundColor=this.$4B.get_colorPressed();$0='_pressed';break;case 6:$0='_disabled';break;default:throw new Error('Not Implemented Exception : '+'eState');}if($0.length>0){this.get_element().className=this._strClassName+' '+this._strClassName+$0;}},onFocus:function(oFocusedPrevControl){Kepler.Framework.UI.Themed_Controls.Themed_Buttons.ThemeCssImageButton.callBaseMethod(this, 'onFocus',[oFocusedPrevControl]);this.drawItem(4);},onLostFocus:function(oFocusedNewControl){Kepler.Framework.UI.Themed_Controls.Themed_Buttons.ThemeCssImageButton.callBaseMethod(this, 'onLostFocus',[oFocusedNewControl]);this.drawItem(0);},getFocusRect:function(){return null;}}
Kepler.Framework.UI.Themed_Controls.Themed_Buttons.ThemeCssImageButtonBorderLess=function(strHtml,oPosition,oSize,strId,strImgCssClassName,strCssClass){Kepler.Framework.UI.Themed_Controls.Themed_Buttons.ThemeCssImageButtonBorderLess.initializeBase(this,[strHtml,oPosition,oSize,strId,strImgCssClassName,strCssClass]);this.get_elementStyle().borderCollapse='collapse';this.get_elementStyle().borderColor='transparent';}
Kepler.Framework.UI.Themed_Controls.Themed_Buttons.ThemeCssImageButtonBorderLess.prototype={drawItem:function(eState){var $0='';switch(eState){case 4:this.get_elementStyle().backgroundColor=this._oThemeDetails.get_colorPressed();$0='_focus';break;case 1:this.get_elementStyle().backgroundColor=this._oThemeDetails.get_colorPressed();$0='_hover';break;case 0:this.get_elementStyle().backgroundColor='White';$0='_normal';break;case 2:this.get_elementStyle().backgroundColor=this._oThemeDetails.get_colorPressed();$0='_pressed';break;case 6:$0='_disabled';break;default:throw new Error('Not Implemented Exception : '+'eState');}if($0.length>0){this.get_element().className=this._strCssClassName+' '+this._strCssClassName+$0;}}}
Kepler.Framework.UI.Themed_Controls.Themed_Buttons.ThemeCSSToggleButton=function(strHtml,oPosition,oSize,strId,strClassName,element,strImgClassName){Kepler.Framework.UI.Themed_Controls.Themed_Buttons.ThemeCSSToggleButton.initializeBase(this,[strHtml,oPosition,oSize,strId,strClassName,element,strImgClassName]);this.$4D=Kepler.Framework.UI.ThemeDetails.get_currentTheme();this.drawItem(0);}
Kepler.Framework.UI.Themed_Controls.Themed_Buttons.ThemeCSSToggleButton.prototype={$4D:null,onLoad:function(){Kepler.Framework.UI.Themed_Controls.Themed_Buttons.ThemeCSSToggleButton.callBaseMethod(this, 'onLoad');this.addEvents(16|32);},drawItem:function(eState){var $0='';var $1='';switch(eState){case 1:$0=this.$4D.get_colorHover();this.get_elementStyle().borderColor=this.$4D.get_colorPressed();break;case 0:$0='';this.get_elementStyle().borderColor='transparent';break;case 2:$0=this.$4D.get_colorPressed();this.get_elementStyle().borderColor=this.$4D.get_colorNormalLight();break;case 6:if(!this.get_visible()){$1='_disabled'+' display_none';}else{$1='_disabled';}break;case 4:this.get_elementStyle().borderColor=this.$4D.get_colorPressed();$0=this.$4D.get_colorHover();$1='_focus';break;default:throw new Error('Not Implemented Exception : '+'eState');}switch(this.get_state()){case 1:if(eState===4){$0=this.$4D.get_colorHover();}else{$0=this.$4D.get_colorPressed();this.get_elementStyle().borderColor=this.$4D.get_colorNormalLight();}break;default:break;}if($1.length>0){this.get_element().className=this._strClassName+this._strClassName+$1;}this.get_elementStyle().backgroundColor=$0;},onMouseOver:function(mouseEventArgs){Kepler.Framework.UI.Themed_Controls.Themed_Buttons.ThemeCSSToggleButton.callBaseMethod(this, 'onMouseOver',[mouseEventArgs]);this.get_parent().onMouseOver(mouseEventArgs);},onMouseOut:function(mouseEventArgs){Kepler.Framework.UI.Themed_Controls.Themed_Buttons.ThemeCSSToggleButton.callBaseMethod(this, 'onMouseOut',[mouseEventArgs]);this.get_parent().onMouseOut(mouseEventArgs);},onLButtonUp:function(mouseEventArgs){Kepler.Framework.UI.Themed_Controls.Themed_Buttons.ThemeCSSToggleButton.callBaseMethod(this, 'onLButtonUp',[mouseEventArgs]);this.get_parent().$5(mouseEventArgs);},onFocus:function(oFocusedPrevControl){Kepler.Framework.UI.Themed_Controls.Themed_Buttons.ThemeCSSToggleButton.callBaseMethod(this, 'onFocus',[oFocusedPrevControl]);this.drawItem(4);},onLostFocus:function(oFocusedNewControl){Kepler.Framework.UI.Themed_Controls.Themed_Buttons.ThemeCSSToggleButton.callBaseMethod(this, 'onLostFocus',[oFocusedNewControl]);this.drawItem(0);},getFocusRect:function(){return null;}}
Kepler.Framework.UI.Themed_Controls.Themed_Buttons.ThemeRadioButton=function(strHtml,oPosition,oSize,strId){Kepler.Framework.UI.Themed_Controls.Themed_Buttons.ThemeRadioButton.initializeBase(this,[strHtml,oPosition,oSize,strId]);this.$50=Kepler.Framework.UI.ThemeDetails.get_currentTheme();this.$52();this._elmText.className=' theme_radiobutton_text';}
Kepler.Framework.UI.Themed_Controls.Themed_Buttons.ThemeRadioButton.prototype={$50:null,$51:null,$52:function(){this._elmImage.className=' theme_radiobutton';this.$51=document.createElement('div');this.$51.className='selection';this._elmImage.appendChild(this.$51);if(!this.get_state()){this.$51.style.display='none';}},drawItem:function(eState){var $0='';var $1='';switch(eState){case 0:this.$51.style.display='none';this._elmImage.style.backgroundColor='';this._elmImage.style.borderColor='';if(this.get_state()){this.$51.style.backgroundColor='';this.$51.style.borderColor='';}if(this.getFocus()===this){this.drawItem(1);}break;case 1:this._elmImage.style.backgroundColor=this.$50.get_colorHover();this._elmImage.style.borderColor=this.$50.get_colorPressed();if(this.get_state()){this.$51.style.backgroundColor='#444444';this.$51.style.borderColor='#444444';}break;case 2:this._elmImage.style.backgroundColor=this.$50.get_colorPressed();this._elmImage.style.borderColor=this.$50.get_colorPressed();this.$51.style.backgroundColor='Black';this.$51.style.borderColor='Black';this.$51.style.display='';break;case 6:$1='_disabled';if(this.get_state()){this.$51.style.backgroundColor='#C6C6C6';this.$51.style.borderColor='#C6C6C6';}else{this.$51.style.display='none';}$0=' theme_radiobutton_text'+' theme_radiobutton_text'+'_disabled';break;default:throw new Error('Not Implemented Exception : '+'eState');}if(this.get_state()){this.$51.style.display='';}if($1.length>0){this._elmImage.className=' theme_radiobutton'+' theme_radiobutton'+$1;if(this._elmText!=null&&$0.length>0){this._elmText.className=$0;}}},onLostFocus:function(oFocusedNewControl){Kepler.Framework.UI.Themed_Controls.Themed_Buttons.ThemeRadioButton.callBaseMethod(this, 'onLostFocus',[oFocusedNewControl]);this.drawItem(0);}}
Kepler.Framework.UI.Themed_Controls.Themed_Buttons.ThemeButton=function(strHtml,oPosition,oSize,strId,strClassName,element){Kepler.Framework.UI.Themed_Controls.Themed_Buttons.ThemeButton.initializeBase(this,[strHtml,oPosition,oSize,strId,((ss.isValue(strClassName))?strClassName:' theme_button'),element]);this.$48=Kepler.Framework.UI.ThemeDetails.get_currentTheme();}
Kepler.Framework.UI.Themed_Controls.Themed_Buttons.ThemeButton.prototype={$48:null,drawItem:function(eState){var $0='';switch(eState){case 4:case 1:this.get_elementStyle().backgroundColor=this.$48.get_colorHover();this.get_elementStyle().borderColor=this.$48.get_colorPressed();break;case 0:this.get_elementStyle().backgroundColor='';this.get_elementStyle().borderColor='';this.get_elementStyle().color='black';this.get_elementStyle().display='';if(this.getFocus()===this){this.drawItem(1);}break;case 2:this.get_elementStyle().backgroundColor=this.$48.get_colorPressed();this.get_elementStyle().borderColor=this.$48.get_colorNormalLight();break;case 6:if(!this.get_visible()){this.get_elementStyle().backgroundColor='';this.get_elementStyle().borderColor='';this.get_elementStyle().display='none';}else{this.get_elementStyle().backgroundColor='white';this.get_elementStyle().borderColor='#E1E1E1';this.get_elementStyle().color='#B1B1B1';}break;default:throw new Error('Not Implemented Exception : '+'eState');}if($0.length>0){this.get_element().className=' theme_button'+' theme_button'+$0;}},onLostFocus:function(oFocusedNewControl){Kepler.Framework.UI.Themed_Controls.Themed_Buttons.ThemeButton.callBaseMethod(this, 'onLostFocus',[oFocusedNewControl]);this.drawItem(0);},getFocusRect:function(){return null;},onFocus:function(oFocusedPrevControl){Kepler.Framework.UI.Themed_Controls.Themed_Buttons.ThemeButton.callBaseMethod(this, 'onFocus',[oFocusedPrevControl]);this.drawItem(4);}}
Kepler.Framework.UI.Themed_Controls.Themed_Buttons.ThemeCssImageTextButton=function(strHtml,oPosition,oSize,strId,strImgCssClassName,strCssClass){Kepler.Framework.UI.Themed_Controls.Themed_Buttons.ThemeCssImageTextButton.initializeBase(this,[strHtml,oPosition,oSize,strId,strImgCssClassName,strCssClass]);this._oThemeDetails=Kepler.Framework.UI.ThemeDetails.get_currentTheme();}
Kepler.Framework.UI.Themed_Controls.Themed_Buttons.ThemeCssImageTextButton.prototype={_oThemeDetails:null,$4D:false,get_isImageChange:function(){return this.$4D;},set_isImageChange:function(value){this.$4D=value;return value;},drawItem:function(eState){if(this.$4D){Kepler.Framework.UI.Themed_Controls.Themed_Buttons.ThemeCssImageTextButton.callBaseMethod(this, 'drawItem',[eState]);}var $0='';switch(eState){case 4:this.get_elementStyle().borderColor=this._oThemeDetails.get_colorPressed();this.get_elementStyle().backgroundColor=this._oThemeDetails.get_colorHover();$0='_focus';break;case 1:this.get_elementStyle().borderColor=this._oThemeDetails.get_colorPressed();this.get_elementStyle().backgroundColor=this._oThemeDetails.get_colorHover();$0='_hover';break;case 0:this.get_elementStyle().backgroundColor='';this.get_elementStyle().borderColor='';$0='_normal';break;case 2:this.get_elementStyle().borderColor=this._oThemeDetails.get_colorPressed();this.get_elementStyle().backgroundColor=this._oThemeDetails.get_colorPressed();$0='_pressed';break;case 6:$0='_disabled';break;default:throw new Error('Not Implemented Exception : '+'eState');}if($0.length>0){this.get_element().className=this._strCssClassName+' '+this._strCssClassName+$0;}},onMouseOver:function(mouseEventArgs){Kepler.Framework.UI.Themed_Controls.Themed_Buttons.ThemeCssImageTextButton.callBaseMethod(this, 'onMouseOver',[mouseEventArgs]);this.get_parent().onMouseOver(mouseEventArgs);},onMouseOut:function(mouseEventArgs){Kepler.Framework.UI.Themed_Controls.Themed_Buttons.ThemeCssImageTextButton.callBaseMethod(this, 'onMouseOut',[mouseEventArgs]);this.get_parent().onMouseOut(mouseEventArgs);},onFocus:function(oFocusedPrevControl){Kepler.Framework.UI.Themed_Controls.Themed_Buttons.ThemeCssImageTextButton.callBaseMethod(this, 'onFocus',[oFocusedPrevControl]);this.drawItem(4);},getFocusRect:function(){return null;}}
Type.registerNamespace('Kepler.Framework.UI.Themed_Controls.Themed_ComboBox');Kepler.Framework.UI.Themed_Controls.Themed_ComboBox.ThemeComboCtrl=function(ptPosition,oCtrlSize,oDropDownListCtrl,ptPadding,eMode,strId){Kepler.Framework.UI.Themed_Controls.Themed_ComboBox.ThemeComboCtrl.initializeBase(this,[ptPosition,oCtrlSize,oDropDownListCtrl,ptPadding,eMode,strId]);this.$51=Kepler.Framework.UI.ThemeDetails.get_currentTheme();oDropDownListCtrl.set_scrollbarMode(2);}
Kepler.Framework.UI.Themed_Controls.Themed_ComboBox.ThemeComboCtrl.prototype={$51:null,$52:false,onLoad:function(){Kepler.Framework.UI.Themed_Controls.Themed_ComboBox.ThemeComboCtrl.callBaseMethod(this, 'onLoad');this.addEvents(16|32|8);},createButtonPart:function(){this._btnDropDown=new Kepler.Framework.UI.Themed_Controls.Themed_Buttons.ThemeCSSToggleButton(null,new Kepler.Framework.UI.Point(this.get_width()-17,0),new Kepler.Framework.UI.Size(17,this.get_size().get_height()),null,'theme_button',null,' theme_combo_image');this.add(this._btnDropDown);this._btnDropDown.set_sendClickMsgOnMouseDown(true);this._btnDropDown.set_focusable(false);},drawItem:function(eState){switch(eState){case 1:if(!this.$52){this.get_elementStyle().borderColor=this.$51.get_colorPressed();}break;case 0:if(!this.$52){this.get_elementStyle().borderColor='';}if(this.getFocus()===this){this._btnDropDown.changeState(1);this.drawItem(1);}break;case 2:this.get_elementStyle().borderColor=this.$51.get_colorNormalLight();break;default:throw new Error('Not Implemented Exception : '+'eState');}},showList:function(){Kepler.Framework.UI.Themed_Controls.Themed_ComboBox.ThemeComboCtrl.callBaseMethod(this, 'showList');this.$52=true;this.drawItem(2);},onFocus:function(oFocusedPrevControl){Kepler.Framework.UI.Themed_Controls.Themed_ComboBox.ThemeComboCtrl.callBaseMethod(this, 'onFocus',[oFocusedPrevControl]);this.onLostFocus(null);this.$52=false;this.drawItem(0);},onMsgHideCtrl:function(wParam,lParam){Kepler.Framework.UI.Themed_Controls.Themed_ComboBox.ThemeComboCtrl.callBaseMethod(this, 'onMsgHideCtrl',[wParam,lParam]);this.$52=false;this.drawItem(0);return null;},getFocusRect:function(){return null;},onMouseOver:function(evt){Kepler.Framework.UI.Themed_Controls.Themed_ComboBox.ThemeComboCtrl.callBaseMethod(this, 'onMouseOver',[evt]);this.drawItem(1);(this._btnDropDown).changeState(1);},onMouseOut:function(evt){Kepler.Framework.UI.Themed_Controls.Themed_ComboBox.ThemeComboCtrl.callBaseMethod(this, 'onMouseOut',[evt]);this.drawItem(0);(this._btnDropDown).changeState(0);},onLButtonUp:function(evt){Kepler.Framework.UI.Themed_Controls.Themed_ComboBox.ThemeComboCtrl.callBaseMethod(this, 'onLButtonUp',[evt]);(this._btnDropDown).changeState(1);this.drawItem(1);},onLostFocus:function(oFocusedNewControl){Kepler.Framework.UI.Themed_Controls.Themed_ComboBox.ThemeComboCtrl.callBaseMethod(this, 'onLostFocus',[oFocusedNewControl]);this.drawItem(0);this._btnDropDown.changeState(0);}}
Type.registerNamespace('Kepler.Framework.UI.Themed_Controls.EditSpinControl');Kepler.Framework.UI.Themed_Controls.EditSpinControl.ThemeEditSpinCtrl=function(oPosition,oCtrlSize,bInt,fIncr,fMinVal,fMaxVal,iPrecision,iEditWidth,strId,strSuffix,strAuto){Kepler.Framework.UI.Themed_Controls.EditSpinControl.ThemeEditSpinCtrl.initializeBase(this,[oPosition,oCtrlSize,bInt,fIncr,fMinVal,fMaxVal,iPrecision,iEditWidth,strId,strSuffix,strAuto]);this.$5E=Kepler.Framework.UI.ThemeDetails.get_currentTheme();this._txtEdit.addCssClass(' theme_textbox');(this._oSpinButton).setCssClassName(' theme_button'+' bordernone',' theme_button'+' bordernone');if(Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){this._txtEdit.addCssClass(' remove_shadow');}this.addCssClass(' theme_editspinctrl');}
Kepler.Framework.UI.Themed_Controls.EditSpinControl.ThemeEditSpinCtrl.prototype={$5E:null,createSpinButton:function(oPosition,oSize){this._oSpinButton=new Kepler.Framework.UI.Themed_Controls.EditSpinControl.ThemeSpinButton(oPosition,oSize);this.add(this._oSpinButton);this.get_element().style.overflow='hidden';},$5F:function($p0){switch($p0){case 1:this.get_elementStyle().borderColor=this.$5E.get_colorPressed();this._txtEdit.get_elementStyle().borderColor=this.$5E.get_colorPressed();break;case 0:this.get_elementStyle().borderColor='';this._txtEdit.get_elementStyle().borderColor='';if(this.getFocus()===this){this.$5F(1);}break;}},resetKeyDownChanges:function(){Kepler.Framework.UI.Themed_Controls.EditSpinControl.ThemeEditSpinCtrl.callBaseMethod(this, 'resetKeyDownChanges');(this._oSpinButton).drawItem(0);},onMouseOver:function(evt){Kepler.Framework.UI.Themed_Controls.EditSpinControl.ThemeEditSpinCtrl.callBaseMethod(this, 'onMouseOver',[evt]);this.$5F(1);},onMouseOut:function(evt){Kepler.Framework.UI.Themed_Controls.EditSpinControl.ThemeEditSpinCtrl.callBaseMethod(this, 'onMouseOut',[evt]);this.$5F(0);},onLostFocus:function(oFocusedNewControl){Kepler.Framework.UI.Themed_Controls.EditSpinControl.ThemeEditSpinCtrl.callBaseMethod(this, 'onLostFocus',[oFocusedNewControl]);this.$5F(0);}}
Kepler.Framework.UI.Themed_Controls.EditSpinControl.ThemeSpinButton=function(oPosition,oCtrlSize){Kepler.Framework.UI.Themed_Controls.EditSpinControl.ThemeSpinButton.initializeBase(this,[oPosition,oCtrlSize]);this.$45=Kepler.Framework.UI.ThemeDetails.get_currentTheme();}
Kepler.Framework.UI.Themed_Controls.EditSpinControl.ThemeSpinButton.prototype={$45:null,onLoad:function(){Kepler.Framework.UI.Themed_Controls.EditSpinControl.ThemeSpinButton.callBaseMethod(this, 'onLoad');this.addEvents(16|32);},createButtons:function(oBtnSize){oBtnSize.set_height(oBtnSize.get_height()+(0+(1/2)));this._oImgBtnUp=new Kepler.Framework.UI.Themed_Controls.Themed_Buttons.ThemeCssImageTextButton(null,new Kepler.Framework.UI.Point(0,0),oBtnSize,'BtnUp','spin_btn_up_img');this._oImgBtnUp.get_element().style.lineHeight='0px';this._oImgBtnDn=new Kepler.Framework.UI.Themed_Controls.Themed_Buttons.ThemeCssImageTextButton(null,new Kepler.Framework.UI.Point(0,oBtnSize.get_height()),oBtnSize,'BtnDn','spin_btn_down_img');this._oImgBtnDn.get_element().style.lineHeight='0px';this.add(this._oImgBtnUp);this.add(this._oImgBtnDn);this._oImgBtnDn.set_top(this._oImgBtnDn.get_top()-1);this.drawItem(0);},setCssClassName:function(strCssUpBtn,strCssDownBtn){this._oImgBtnDn.setCssClass(strCssDownBtn,'spin_btn_down_img');this._oImgBtnUp.setCssClass(strCssUpBtn,'spin_btn_up_img');},drawItem:function(eState){switch(eState){case 1:this._oImgBtnUp.get_elementStyle().borderColor=this.$45.get_colorPressed();this._oImgBtnDn.get_elementStyle().borderColor=this.$45.get_colorPressed();break;case 0:this._oImgBtnUp.get_elementStyle().borderColor='';this._oImgBtnDn.get_elementStyle().borderColor='';break;}},onMouseOver:function(evt){Kepler.Framework.UI.Themed_Controls.EditSpinControl.ThemeSpinButton.callBaseMethod(this, 'onMouseOver',[evt]);this.drawItem(1);this.get_parent().onMouseOver(evt);},onMouseOut:function(evt){Kepler.Framework.UI.Themed_Controls.EditSpinControl.ThemeSpinButton.callBaseMethod(this, 'onMouseOut',[evt]);this.drawItem(0);this.get_parent().onMouseOut(evt);},onPretranslateEvent:function(sender,eventArgs){var $0=sender;if((eventArgs.get_type()===2||eventArgs.get_type()===8)){var $1=eventArgs;if(!$1.get_button()&&eventArgs.get_type()===2){this.drawItem(1);}else if(!$1.get_button()&&$1.get_type()===8){var $2=$1.get_target();var $3=this.get_clientRect();if($3.isPtInRect($1.get_clientX(),$1.get_clientY())){this.get_parent().onMouseOver($1);}else{this.drawItem(0);this.get_parent().onMouseOut($1);}}}return Kepler.Framework.UI.Themed_Controls.EditSpinControl.ThemeSpinButton.callBaseMethod(this, 'onPretranslateEvent',[sender,eventArgs]);}}
Type.registerNamespace('Kepler.Framework.UI.Themed_Controls.SliderControl');Kepler.Framework.UI.Themed_Controls.SliderControl.MSG_NEEDED=function(){};Kepler.Framework.UI.Themed_Controls.SliderControl.MSG_NEEDED.prototype = {thumB_POS_CHANGING:1,thumB_POS_CHANGED:2}
Kepler.Framework.UI.Themed_Controls.SliderControl.MSG_NEEDED.registerEnum('Kepler.Framework.UI.Themed_Controls.SliderControl.MSG_NEEDED',false);Kepler.Framework.UI.Themed_Controls.SliderControl.MSG_TYPE=function(){};Kepler.Framework.UI.Themed_Controls.SliderControl.MSG_TYPE.prototype = {thumB_POS:1,spiN_VAL:2}
Kepler.Framework.UI.Themed_Controls.SliderControl.MSG_TYPE.registerEnum('Kepler.Framework.UI.Themed_Controls.SliderControl.MSG_TYPE',false);Kepler.Framework.UI.Themed_Controls.SliderControl.Slider_Hint_Index=function(){};Kepler.Framework.UI.Themed_Controls.SliderControl.Slider_Hint_Index.prototype = {hinT_NONE:-1,hinT_FULL:0,hinT_SLIDER:1,hinT_SPIN:2}
Kepler.Framework.UI.Themed_Controls.SliderControl.Slider_Hint_Index.registerEnum('Kepler.Framework.UI.Themed_Controls.SliderControl.Slider_Hint_Index',false);Kepler.Framework.UI.Themed_Controls.SliderControl.Slider=function(length,fMinVal,fMaxVal,initialValue){Kepler.Framework.UI.Themed_Controls.SliderControl.Slider.initializeBase(this,['div','','slide&thumb']);this.$4D=false;this.set_size(new Kepler.Framework.UI.Size(length,21));if(!ss.isNull(length)||length!==-1){this.$3F=length;}if(!ss.isNull(fMinVal)){this.$40=fMinVal;this.$42=fMinVal.toString();}if(!ss.isNull(fMaxVal)){this.$41=fMaxVal;}if(ss.isValue(fMinVal)){this.$42=fMinVal.toString();}if(ss.isValue(initialValue)){if(initialValue<this.$40){this.$49=this.$40;}else if(initialValue>this.$41){this.$49=this.$41;}else{this.$49=initialValue;}this.$42=this.$49.toString();}this.$43=this.$42;this.createSlider();this.$45=new Kepler.Framework.Core.Timers.Timer(ss.Delegate.create(this,this.$53),100);this.$45.stop();this.$48=Kepler.Framework.UI.ThemeDetails.get_currentTheme();this.$4B=false;this.$4C=false;this.$4E={};this.set_alwaysSpeechOnSetFocus(true);}
Kepler.Framework.UI.Themed_Controls.SliderControl.Slider.prototype={$3C:null,$3D:null,$3E:null,$3F:0,get_length:function(){return this.$3F;},$40:0,get_minVal:function(){return this.$40;},set_minVal:function(value){if(this.$40!==value){this.$40=value;this.$50();}return value;},$41:0,get_maxVal:function(){return this.$41;},set_maxVal:function(value){if(this.$41!==value){this.$41=value;this.$50();}return value;},$42:null,get_textValue:function(){return this.$42;},$43:null,$44:null,$45:null,$46:0,$47:0,$48:null,$49:0,$4A:0,$4B:false,$4C:false,$4D:false,$4E:null,get_ariaSpeech:function(){if(!this.get_ariaSpeechFromOnFocus()){return this.get_textValue();}var $0=' To increase or decrease use the arrow keys ';if(!String.isNullOrEmpty(this.get_altChar().trim())){$0+='or '+this.get_altChar();}return Kepler.Framework.UI.Themed_Controls.SliderControl.Slider.callBaseMethod(this, 'get_ariaSpeech')+' left right slider '+this.get_textValue()+$0;},set_ariaSpeech:function(value){Kepler.Framework.UI.Themed_Controls.SliderControl.Slider.callBaseMethod(this, 'set_ariaSpeech',[value]);return value;},onLoad:function(){Kepler.Framework.UI.Themed_Controls.SliderControl.Slider.callBaseMethod(this, 'onLoad');this.$4F();this.setThumbPos(this.$42);},$4F:function(){this.addEvents(2|8|4|16|32|256|512|1024|2048);},createSlider:function(){this.$3C=document.createElement('div');this.$3C.className='slider';this.$3C.style.width=this.$3F+'px';this.$3C.style.left='0px';this.get_element().appendChild(this.$3C);this.$3D=document.createElement('div');this.$3D.className=' thumb_normal';this.get_element().appendChild(this.$3D);this.$3E=document.createElement('div');this.$3E.className='hidden_normal';this.get_element().appendChild(this.$3E);this.$3E.style.left=(this.$49-this.$40+1)+'px';this.$3E.style.width='0px';},addMustValidPos:function(fValue){var $0=this.$41-this.$40;var $1=this.$3F-2;var $2=Math.round(fValue*$1/$0);if(isFinite($2)){if(Object.keyExists(this.$4E,$2)){}this.$4E[$2]=fValue;}},$50:function(){if(Object.getKeyCount(this.$4E)<=0){return;}var $0=this.$41-this.$40;var $1=this.$3F-2;var $2={};var $dict1=this.$4E;for(var $key2 in $dict1){var $3={key:$key2,value:$dict1[$key2]};var $4=Math.round($3.value*$1/$0);$2[$4]=$3.value;}Object.clearKeys(this.$4E);this.$4E=null;this.$4E=$2;},setTextValue:function(thumbPos,bNormalize){if(ss.isNullOrUndefined(bNormalize)){bNormalize=false;}var $0;var $1=this.$41-this.$40+1;var $2=this.$3F-2;if(!thumbPos){$0=this.$40;}else if(thumbPos===$2){$0=this.$41;}else{if(bNormalize&&Object.keyExists(this.$4E,thumbPos)){$0=Math.round(this.$4E[thumbPos]);}else if(thumbPos<($2/2)){$0=Math.ceil(($1/$2)*thumbPos);$0+=this.$40;}else{$0=Math.floor(($1/$2)*thumbPos);$0+=this.$40;}}this.$42=$0.toString();this.$4D=true;this.$54();},setSliderPos:function(value){this.setThumbPos(value);this.$54();},setThumbPos:function(value){var $0=this.$41-this.$40+1;var $1=this.$3F-2;var $2=parseInt(value,10);var $3;if($2<=this.$40){$3=0;}else if($2>=this.$41){$3=this.$3F-2;}else{var $5=$2;if(this.$40<0){$5=$2-this.$40;}$3=(($1/$0)*$5);}if($2===this.$49){this.$4A=$3;}var $4=this.$4A;$4-=$3;if($4<0){$4=-$4;}if($2<=this.$49){this.$3E.style.left=($3+2)+'px';}else{this.$3E.style.left=($3-$4+1)+'px';}this.$3E.style.width=$4+'px';this.$3D.style.left=($3-2)+'px';this.$42=value;this.$4D=true;},$51:function($p0){var $0=this.$41-this.$40+1;var $1=this.$3F-2;var $2=parseInt($p0,10);var $3;if($2<=this.$40){$3=0;}else if($2>=this.$41){$3=this.$3F-2;}else{var $4=$2;if(this.$40<0){$4=$2-this.$40;}$3=(($1/$0)*$4);}return $3;},$52:function(){return parseFloat(this.$3D.style.left);},$53:function(){var $0=parseInt(this.$3D.style.left,10);var $1=this.$46;var $2=parseInt(this.$42,10);if($1<$0+3&&$1>$0-1){this.$45.stop();return;}if($1>$0){++$2;if($2>this.$41){$2=this.$41;}this.$42=$2.toString();}else if($1<$0){--$2;if($2<this.$40){$2=this.$40;}this.$42=$2.toString();this.$4D=true;}this.setThumbPos(this.$42);this.$54();},$54:function(){var $0=new Kepler.Framework.UI.Controls.OnCommandStruct();var $1=10;if(this.$4D){if(this.$4C){$1=13;}$0.setData(this.$42,$1);var $2=this.sendMessageToParent('msg_command',$0,this);if(!$2){if(this.$4C){this.sendMessageToParent('thumb_left_changing',this.$42,this);}else{this.sendMessageToParent('thumb_left_changed',this.$42,this);}}this.$4D=false;}},changeState:function(eState){if(this.$47===eState){return;}this.$47=eState;this.$55(this.$47);},$55:function($p0){switch($p0){case 1:this.$3D.style.backgroundColor=this.$48.get_colorNormalLight();this.$3E.style.backgroundColor=this.$48.get_colorNormalLight();break;case 2:this.$3D.style.backgroundColor=this.$48.get_colorNormalDark();this.$3E.style.backgroundColor=this.$48.get_colorNormalDark();break;case 0:this.$3D.style.backgroundColor='';this.$3E.style.backgroundColor='';if(this.getFocus()===this){this.$55(1);}break;default:throw new Error('Not Implemented Exception : '+'eState');}},onLButtonDown:function(evt){Kepler.Framework.UI.Themed_Controls.SliderControl.Slider.callBaseMethod(this, 'onLButtonDown',[evt]);this.$4C=true;this.$44=evt.get_target();this.$46=this.getOffsetPointFromEventArgs(evt,true).get_x();if(this.$44===this.$3C||this.$44===this.$3E){this.$45.start();}this.setCapture();if(this.$44===this.$3D){this.changeState(2);}},onLButtonUp:function(evt){Kepler.Framework.UI.Themed_Controls.SliderControl.Slider.callBaseMethod(this, 'onLButtonUp',[evt]);this.$4C=false;if(this.$42!==this.$43){this.$4D=true;}else{this.$4D=false;this.$43=this.$42;}this.$44=null;if(ss.isValue(this.$45)){this.$45.stop();}this.releaseCapture();this.changeState(0);if(this.$4B){this.changeState(1);}this.$54();},onMouseMove:function(evt){Kepler.Framework.UI.Themed_Controls.SliderControl.Slider.callBaseMethod(this, 'onMouseMove',[evt]);if(this.$44===this.$3C||this.$44===this.$3E){this.$46=this.getOffsetPointFromEventArgs(evt,true).get_x();}if(!ss.isNull(this.$44)&&this.$44===this.$3D){var $0=this.getOffsetPointFromEventArgs(evt,true).get_x();if($0>0&&$0<(this.$3F-1)){this.$3D.style.left=($0-1-2)+'px';this.setTextValue($0-1,true);}else if($0<=0){this.$3D.style.left='-'+2+'px';this.setTextValue(0,true);}else{this.$3D.style.left=(this.$3F-2-2)+'px';this.setTextValue(this.$3F-2,true);}}},onMouseOver:function(evt){Kepler.Framework.UI.Themed_Controls.SliderControl.Slider.callBaseMethod(this, 'onMouseOver',[evt]);var $0=evt.get_target();if($0===this.$3D||$0===this.$3C||$0===this.$3E){this.$4B=true;if(this.$44===this.$3D){this.changeState(2);}else{this.changeState(1);}if(this.$44===this.$3C){this.$45.start();}}},onMouseOut:function(evt){Kepler.Framework.UI.Themed_Controls.SliderControl.Slider.callBaseMethod(this, 'onMouseOut',[evt]);var $0=evt.get_target();if($0===this.$3D||$0===this.$3C||$0===this.$3E){this.$4B=false;if(this.$44===this.$3D){this.changeState(2);}else{this.changeState(0);}if(this.$44===this.$3C){if(ss.isValue(this.$45)){this.$45.stop();}}}},onLostFocus:function(oFocusedNewControl){Kepler.Framework.UI.Themed_Controls.SliderControl.Slider.callBaseMethod(this, 'onLostFocus',[oFocusedNewControl]);this.$55(0);},$56:function(){return this.$3D;}}
Kepler.Framework.UI.Themed_Controls.SliderControl.SliderCtrl=function(oPosition,iLength,bInt,fIncr,fMinVal,fMaxVal,suffix,fInitialValue,strID,eMsgNeeded){Kepler.Framework.UI.Themed_Controls.SliderControl.SliderCtrl.initializeBase(this,['div','slider_control','slider']);this.set_position(oPosition);this.set_size(new Kepler.Framework.UI.Size((iLength+6+73),21));this.$43=iLength;this.$41=new Kepler.Framework.UI.Themed_Controls.SliderControl.Slider(iLength,fMinVal,fMaxVal,fInitialValue);this.$42=new Kepler.Framework.UI.Themed_Controls.EditSpinControl.ThemeEditSpinCtrl(new Kepler.Framework.UI.Point(this.$43+6,0),new Kepler.Framework.UI.Size(71,19),bInt,fIncr,fMinVal,fMaxVal,0,53,'',suffix);this.$44=fMinVal.toString();this.$41.addCssClass('sliderControl');this.$41.get_elementStyle().width=iLength+'px';if(ss.isValue(strID)){this.get_element().id=strID;this.set_id(parseInt(strID));}if(ss.isValue(eMsgNeeded)){this.$45=eMsgNeeded;}this.$46=-1;this.$47();}
Kepler.Framework.UI.Themed_Controls.SliderControl.SliderCtrl.prototype={$41:null,$42:null,$43:0,$44:null,$45:0,$46:0,get_ariaSpeech:function(){return Kepler.Framework.UI.Themed_Controls.SliderControl.SliderCtrl.callBaseMethod(this, 'get_ariaSpeech');},set_ariaSpeech:function(value){Kepler.Framework.UI.Themed_Controls.SliderControl.SliderCtrl.callBaseMethod(this, 'set_ariaSpeech',[value]);if(this.$41!=null){this.$41.set_ariaSpeech(value);}return value;},onLoad:function(){Kepler.Framework.UI.Themed_Controls.SliderControl.SliderCtrl.callBaseMethod(this, 'onLoad');this.add(this.$41);this.add(this.$42);this.$42.setEditText(this.$41.get_textValue(),false);this.$42.add_lostFocus(ss.Delegate.create(this,this.$50));this.$41.add_lostFocus(ss.Delegate.create(this,this.$50));},$47:function(){this.attachMessage('thumb_left_changing',ss.Delegate.create(this,this.$4C));this.attachMessage('edit_spin_val_changed',ss.Delegate.create(this,this.$4A));this.attachMessage('thumb_left_changed',ss.Delegate.create(this,this.$4B));},isMsgFromSlaveControl:function(oCtrl){var $0=false;switch(this.$46){case 1:if(oCtrl===this.$41){$0=true;}break;case 2:if(oCtrl===this.$42||this.$42.isMessageFromSlaveCtrl(oCtrl)){$0=true;}break;default:if(oCtrl===this.$41||oCtrl===this.$42||this.$42.isMessageFromSlaveCtrl(oCtrl)){$0=true;}break;}return $0;},$48:function(){this.attachMessage('edit_spin_val_changed',ss.Delegate.create(this,this.$4A));},$49:function(){this.detachMessage('edit_spin_val_changed');},setSliderValue:function(strValue){this.$41.setSliderPos(strValue);},getSliderValue:function(){return this.$41.get_textValue();},addSliderMustValidPos:function(fValue){this.$41.addMustValidPos(fValue);},$4A:function($p0,$p1){var $0=$p0.toString();this.$41.setThumbPos($0);if(ss.isValue(this.$45)){if((this.$45&2)===2){this.$4E(2);}}else{this.$4E(2);}return null;},$4B:function($p0,$p1){this.$49();this.$42.setEditText($p0.toString(),false);this.$48();if(ss.isValue(this.$45)){if((this.$45&2)===2){this.$4E();}}else{this.$4E();}return null;},$4C:function($p0,$p1){this.$49();this.$42.setEditText($p0.toString(),false);this.$48();if(ss.isValue(this.$45)){if((this.$45&1)===1){this.$4D();}}else{this.$4D();}return null;},$4D:function(){var $0=new Kepler.Framework.UI.Controls.OnCommandStruct();$0.setData(this.$41.get_textValue(),13);var $1=this.sendMessageToParent('msg_command',$0,this);if(!$1){this.sendMessageToParent('thumb_left_changing',this.$41.get_textValue(),this);}},$4E:function($p0){var $0=new Kepler.Framework.UI.Controls.OnCommandStruct();var $1=10;if(ss.isValue($p0)){if($p0===2){$1=3;}}$0.setData(this.$41.get_textValue(),$1);var $2=this.sendMessageToParent('msg_command',$0,this);if(!$2){this.sendMessageToParent('thumb_left_changed',this.$41.get_textValue(),this);}},$4F:function($p0,$p1){},$50:function($p0,$p1){var $0=this.getFocus();this.onLostFocus($0);},getThumbPosFromValue:function(value){return this.$41.$51(value);},getCurrentThumbPos:function(){return this.$41.$52();},getThumbElement:function(){return this.$41.$56();},isHintOnSlider:function(){return (this.$46===1);},isHintOnEditSpin:function(){return (this.$46===2);},getEditSpinTextControl:function(){return this.$42.get_textControl();},$51:function($p0){var $0=$p0;if(!!$0&&$0!==1&&$0!==2){$0=0;}return $0;},drawVisualHint:function(oHintData){this.$46=this.$51(oHintData.iIndex);var $0=this.getIndexElement(this.$46);var $1=$($0);$1.addClass(' class_visual_hint');},eraseVisualHint:function(){if(this.$46!==-1){var $0=this.getIndexElement(this.$46);var $1=$($0);$1.removeClass(' class_visual_hint');}this.$46=-1;},getIndexElement:function(iIndex){switch(iIndex){case 1:return this.$41.get_element();case 2:return this.$42.get_element();case 0:default:return this.get_element();}}}
Type.registerNamespace('Kepler.Framework.UI.Themed_Controls.Themed_ListBox');Kepler.Framework.UI.Themed_Controls.Themed_ListBox.ThemeListCtrl=function(ptPosition,oCtrlSize,iCommonItemHeight,oCommonImgSize,ptCommonImgPos,strCommonImgSrc,oCommonFont,strId){Kepler.Framework.UI.Themed_Controls.Themed_ListBox.ThemeListCtrl.initializeBase(this,[ptPosition,oCtrlSize,iCommonItemHeight,oCommonImgSize,ptCommonImgPos,strCommonImgSrc,oCommonFont,strId]);this.$4C=Kepler.Framework.UI.ThemeDetails.get_currentTheme();this.get_element().style.borderColor='#ABABAB';}
Kepler.Framework.UI.Themed_Controls.Themed_ListBox.ThemeListCtrl.prototype={$4C:null,get_enable:function(){return Kepler.Framework.UI.Themed_Controls.Themed_ListBox.ThemeListCtrl.callBaseMethod(this, 'get_enable');},set_enable:function(value){Kepler.Framework.UI.Themed_Controls.Themed_ListBox.ThemeListCtrl.callBaseMethod(this, 'set_enable',[value]);if(value){this.get_element().style.borderColor='#ABABAB';this.get_element().style.color='black';this.drawItem(this._elemTable.rows[this._iSelectedIdx],0,true);}else{this.get_element().style.borderColor='#E1E1E1';this.get_element().style.color='#B1B1B1';this.drawItem(this._elemTable.rows[this._iSelectedIdx],6,false);}return value;},drawItem:function(element,eState,bSelected,bDrawFocusRect){var $0=element;if(ss.isNullOrUndefined(element)){return;}switch(eState){case 0:if(bSelected){element.style.backgroundColor=this.$4C.get_colorChecked();}else{element.style.backgroundColor='white';}break;case 4:case 1:element.style.backgroundColor=this.$4C.get_colorHover();break;case 2:element.style.backgroundColor=this.$4C.get_colorPressed();break;case 3:element.style.backgroundColor=this.$4C.get_colorPressed();break;case 5:element.style.backgroundColor=this.$4C.get_colorHover();break;case 6:element.style.backgroundColor='white';break;default:break;}},setFocusRectParams:function(){var $0;if(this._iSelectedIdx!==-1){$0=this._elemTable.rows[this._iSelectedIdx];}else{$0=this._elemTable.rows[0];}this.drawItem($0,4,true);}}
Kepler.Framework.Accessibility.AccessibilitySupport.registerClass('Kepler.Framework.Accessibility.AccessibilitySupport');Kepler.Framework.Core.Browser.BrowserCapabilities.registerClass('Kepler.Framework.Core.Browser.BrowserCapabilities');Kepler.Framework.Core.Browser.PositionStyle.registerClass('Kepler.Framework.Core.Browser.PositionStyle');Kepler.Framework.Core.Browser.ProxyClasses.NodeFilterShowType.registerClass('Kepler.Framework.Core.Browser.ProxyClasses.NodeFilterShowType');Kepler.Framework.Core.Browser.ProxyClasses.Svg.SVGGElement.registerClass('Kepler.Framework.Core.Browser.ProxyClasses.Svg.SVGGElement',SVGElement);Kepler.Framework.Core.Browser.QueryString.CacheBuster.registerClass('Kepler.Framework.Core.Browser.QueryString.CacheBuster');Kepler.Framework.Core.Browser.QueryString.QueryStringParser.registerClass('Kepler.Framework.Core.Browser.QueryString.QueryStringParser');Kepler.Framework.Core.Seperators.registerClass('Kepler.Framework.Core.Seperators');Kepler.Framework.Core.StringUtils.registerClass('Kepler.Framework.Core.StringUtils');Kepler.Framework.Core.Globals.registerClass('Kepler.Framework.Core.Globals');Kepler.Framework.Core.Downloader.FileEventArgs.registerClass('Kepler.Framework.Core.Downloader.FileEventArgs',ss.EventArgs);Kepler.Framework.Core.Downloader.File.registerClass('Kepler.Framework.Core.Downloader.File');Kepler.Engine.Core.FileDownloader.registerClass('Kepler.Engine.Core.FileDownloader');Kepler.Framework.Core.Helper.DelegateHelper.registerClass('Kepler.Framework.Core.Helper.DelegateHelper');Kepler.Framework.Core.Helper.MathHelper.registerClass('Kepler.Framework.Core.Helper.MathHelper');Kepler.Framework.Core.Helper.PathHelper.registerClass('Kepler.Framework.Core.Helper.PathHelper');Kepler.Framework.Core.Messaging.MessageBasedCallbackParams.registerClass('Kepler.Framework.Core.Messaging.MessageBasedCallbackParams');Kepler.Framework.Core.Messaging.PostMessageManager.registerClass('Kepler.Framework.Core.Messaging.PostMessageManager');Kepler.Framework.Core.Messaging.MessageParams.registerClass('Kepler.Framework.Core.Messaging.MessageParams');Kepler.Framework.Core.Messaging.Framework$5.registerClass('Kepler.Framework.Core.Messaging.Framework$5',Kepler.Framework.Core.Messaging.MessageParams);Kepler.Framework.Core.Messaging.MessageProvider.registerClass('Kepler.Framework.Core.Messaging.MessageProvider',null,Kepler.Framework.Core.Messaging.IMessageProvider,ss.IDisposable);Kepler.Framework.Core.Modules.BaseModuleComm.registerClass('Kepler.Framework.Core.Modules.BaseModuleComm');Kepler.Framework.Core.Modules.BaseModule.registerClass('Kepler.Framework.Core.Modules.BaseModule',null,Kepler.Framework.Core.Modules.IModule);Kepler.Framework.Core.Modules.FrameworkModule.registerClass('Kepler.Framework.Core.Modules.FrameworkModule',Kepler.Framework.Core.Modules.BaseModule);Kepler.Framework.Core.Timers.Timer.registerClass('Kepler.Framework.Core.Timers.Timer');Kepler.Framework.Core.Timers.DynamicTimer.registerClass('Kepler.Framework.Core.Timers.DynamicTimer',Kepler.Framework.Core.Timers.Timer);Kepler.Framework.FrameworkObjectFactory.registerClass('Kepler.Framework.FrameworkObjectFactory');Kepler.Framework.UI.Events.DOMEventHandler.registerClass('Kepler.Framework.UI.Events.DOMEventHandler');Kepler.Engine.UI.Controls.Control.registerClass('Kepler.Engine.UI.Controls.Control',Kepler.Framework.UI.Events.DOMEventHandler,Kepler.Framework.Core.Messaging.IMessageProvider,ss.IDisposable);Kepler.Engine.UI.Controls.ContainerControl.registerClass('Kepler.Engine.UI.Controls.ContainerControl',Kepler.Engine.UI.Controls.Control);Kepler.Engine.UI.Controls.AddressBar.registerClass('Kepler.Engine.UI.Controls.AddressBar',Kepler.Engine.UI.Controls.ContainerControl);Kepler.Engine.UI.Controls.AddressButton.registerClass('Kepler.Engine.UI.Controls.AddressButton',Kepler.Engine.UI.Controls.ContainerControl);Kepler.Engine.UI.Controls.FileData.registerClass('Kepler.Engine.UI.Controls.FileData');Kepler.Engine.UI.Controls.AddressMenu.registerClass('Kepler.Engine.UI.Controls.AddressMenu',Kepler.Engine.UI.Controls.ContainerControl);Kepler.Engine.UI.Controls.AddressMenuItem.registerClass('Kepler.Engine.UI.Controls.AddressMenuItem',Kepler.Engine.UI.Controls.Control);Kepler.Engine.UI.Controls.FunctionInfo.registerClass('Kepler.Engine.UI.Controls.FunctionInfo',null,Kepler.Engine.UI.Controls.IFunctionInfo);Kepler.Engine.UI.Controls.CustomInfo.registerClass('Kepler.Engine.UI.Controls.CustomInfo',null,Kepler.Engine.UI.Controls.IFunctionInfo);Kepler.Engine.UI.Controls.ListCtrl.registerClass('Kepler.Engine.UI.Controls.ListCtrl',Kepler.Engine.UI.Controls.ContainerControl,Kepler.Engine.UI.IVisualHint);Kepler.Engine.UI.Controls.DropDownListCtrl.registerClass('Kepler.Engine.UI.Controls.DropDownListCtrl',Kepler.Engine.UI.Controls.ListCtrl);Kepler.Engine.UI.Controls.FunctionList.registerClass('Kepler.Engine.UI.Controls.FunctionList',Kepler.Engine.UI.Controls.DropDownListCtrl);Kepler.Engine.UI.Controls.FunctionSet.registerClass('Kepler.Engine.UI.Controls.FunctionSet');Kepler.Engine.UI.Controls.FunctionTooltip.registerClass('Kepler.Engine.UI.Controls.FunctionTooltip',Kepler.Engine.UI.Controls.Control);Kepler.Engine.UI.Controls.Wnd.registerClass('Kepler.Engine.UI.Controls.Wnd',Kepler.Engine.UI.Controls.ContainerControl);Kepler.Engine.UI.Controls.FunctionWnd.registerClass('Kepler.Engine.UI.Controls.FunctionWnd',Kepler.Engine.UI.Controls.Wnd);Kepler.Engine.UI.Controls.ButtonBase.registerClass('Kepler.Engine.UI.Controls.ButtonBase',Kepler.Engine.UI.Controls.Control);Kepler.Engine.UI.Controls.Button.registerClass('Kepler.Engine.UI.Controls.Button',Kepler.Engine.UI.Controls.ButtonBase);Kepler.Engine.UI.Controls.CheckBox.registerClass('Kepler.Engine.UI.Controls.CheckBox',Kepler.Engine.UI.Controls.ButtonBase);Kepler.Engine.UI.Controls.CssImageButton.registerClass('Kepler.Engine.UI.Controls.CssImageButton',Kepler.Engine.UI.Controls.ButtonBase);Kepler.Engine.UI.Controls.CssImageTextButton.registerClass('Kepler.Engine.UI.Controls.CssImageTextButton',Kepler.Engine.UI.Controls.ButtonBase);Kepler.Engine.UI.Controls.CssStaticImage.registerClass('Kepler.Engine.UI.Controls.CssStaticImage',Kepler.Engine.UI.Controls.ButtonBase);Kepler.Engine.UI.Controls.CSSToggleButton.registerClass('Kepler.Engine.UI.Controls.CSSToggleButton',Kepler.Engine.UI.Controls.ButtonBase);Kepler.Engine.UI.Controls.HyperLink.registerClass('Kepler.Engine.UI.Controls.HyperLink',Kepler.Engine.UI.Controls.ButtonBase);Kepler.Engine.UI.Controls.ImageButton.registerClass('Kepler.Engine.UI.Controls.ImageButton',Kepler.Engine.UI.Controls.ButtonBase);Kepler.Engine.UI.Controls.ImageTextButton.registerClass('Kepler.Engine.UI.Controls.ImageTextButton',Kepler.Engine.UI.Controls.ButtonBase);Kepler.Engine.UI.Controls.PaneHyperLink.registerClass('Kepler.Engine.UI.Controls.PaneHyperLink',Kepler.Engine.UI.Controls.HyperLink);Kepler.Engine.UI.Controls.RadioButton.registerClass('Kepler.Engine.UI.Controls.RadioButton',Kepler.Engine.UI.Controls.ButtonBase);Kepler.Engine.UI.Controls.ComboCtrlSplitButton.registerClass('Kepler.Engine.UI.Controls.ComboCtrlSplitButton',Kepler.Engine.UI.Controls.ButtonBase,Kepler.Engine.UI.IVisualHint);Kepler.Engine.UI.Controls.StaticImage.registerClass('Kepler.Engine.UI.Controls.StaticImage',Kepler.Engine.UI.Controls.ButtonBase);Kepler.Engine.UI.Controls.SvgButton.registerClass('Kepler.Engine.UI.Controls.SvgButton',Kepler.Engine.UI.Controls.ButtonBase);Kepler.Engine.UI.Controls.ToggleButton.registerClass('Kepler.Engine.UI.Controls.ToggleButton',Kepler.Engine.UI.Controls.ButtonBase);Kepler.Engine.UI.Controls.ColorSelectorCtrl.registerClass('Kepler.Engine.UI.Controls.ColorSelectorCtrl',Kepler.Engine.UI.Controls.ContainerControl);Kepler.Engine.UI.Controls.Framework$9.registerClass('Kepler.Engine.UI.Controls.Framework$9',Kepler.Engine.UI.Controls.Control);Kepler.Engine.UI.Controls.ComboCtrl.registerClass('Kepler.Engine.UI.Controls.ComboCtrl',Kepler.Engine.UI.Controls.ContainerControl,Kepler.Engine.UI.IVisualHint,Kepler.Framework.UI.IShowMeControl);Kepler.Engine.UI.Controls.ComboBtnCtrl.registerClass('Kepler.Engine.UI.Controls.ComboBtnCtrl',Kepler.Engine.UI.Controls.ContainerControl,Kepler.Engine.UI.IVisualHint,Kepler.Framework.UI.IShowMeControl);Kepler.Engine.UI.Controls.MultiColComboCtrl.registerClass('Kepler.Engine.UI.Controls.MultiColComboCtrl',Kepler.Engine.UI.Controls.ContainerControl,Kepler.Engine.UI.IVisualHint);Kepler.Engine.UI.Controls.EditSpinCtrl.registerClass('Kepler.Engine.UI.Controls.EditSpinCtrl',Kepler.Engine.UI.Controls.ContainerControl,Kepler.Framework.UI.IShowMeControl);Kepler.Engine.UI.Controls.SpinButton.registerClass('Kepler.Engine.UI.Controls.SpinButton',Kepler.Engine.UI.Controls.ContainerControl);Kepler.Engine.UI.Controls.SingleLineTextControl.registerClass('Kepler.Engine.UI.Controls.SingleLineTextControl',Kepler.Engine.UI.Controls.ContainerControl,Kepler.Framework.UI.IShowMeControl);Kepler.Engine.UI.Controls.TextBox.registerClass('Kepler.Engine.UI.Controls.TextBox',Kepler.Engine.UI.Controls.SingleLineTextControl);Kepler.Engine.UI.Controls.SpinEdit.registerClass('Kepler.Engine.UI.Controls.SpinEdit',Kepler.Engine.UI.Controls.TextBox);Kepler.Engine.UI.Controls.GroupCtrl.registerClass('Kepler.Engine.UI.Controls.GroupCtrl',Kepler.Engine.UI.Controls.Control);Kepler.Engine.UI.Controls.ImageLabel.registerClass('Kepler.Engine.UI.Controls.ImageLabel',Kepler.Engine.UI.Controls.Control);Kepler.Engine.UI.Controls.Label.registerClass('Kepler.Engine.UI.Controls.Label',Kepler.Engine.UI.Controls.Control);Kepler.Engine.UI.Controls.LabelLine.registerClass('Kepler.Engine.UI.Controls.LabelLine',Kepler.Engine.UI.Controls.Control);Kepler.Engine.UI.Controls.GridCell.registerClass('Kepler.Engine.UI.Controls.GridCell',Kepler.Engine.UI.Controls.ContainerControl);Kepler.Engine.UI.Controls.GridHeader.registerClass('Kepler.Engine.UI.Controls.GridHeader',Kepler.Engine.UI.Controls.ContainerControl);Kepler.Engine.UI.Controls.GridList.registerClass('Kepler.Engine.UI.Controls.GridList',Kepler.Engine.UI.Controls.ContainerControl,Kepler.Engine.UI.IVisualHint);Kepler.Engine.UI.Controls.GridRow.registerClass('Kepler.Engine.UI.Controls.GridRow',Kepler.Engine.UI.Controls.ContainerControl);Kepler.Engine.UI.Controls.MultiColListCtrl.registerClass('Kepler.Engine.UI.Controls.MultiColListCtrl',Kepler.Engine.UI.Controls.ContainerControl,Kepler.Engine.UI.IVisualHint);Kepler.Engine.UI.Controls.cellInfo.registerClass('Kepler.Engine.UI.Controls.cellInfo');Kepler.Engine.UI.Controls.ScrollBarBase.registerClass('Kepler.Engine.UI.Controls.ScrollBarBase',Kepler.Engine.UI.Controls.Control);Kepler.Engine.UI.Controls.HScrollBar.registerClass('Kepler.Engine.UI.Controls.HScrollBar',Kepler.Engine.UI.Controls.ScrollBarBase);Kepler.Engine.UI.Controls.ScrollBarParams.registerClass('Kepler.Engine.UI.Controls.ScrollBarParams');Kepler.Engine.UI.Controls.VScrollBar.registerClass('Kepler.Engine.UI.Controls.VScrollBar',Kepler.Engine.UI.Controls.ScrollBarBase);Kepler.Engine.UI.Controls.Span.registerClass('Kepler.Engine.UI.Controls.Span',Kepler.Engine.UI.Controls.Control);Kepler.Engine.UI.Controls.TabBaseControl.registerClass('Kepler.Engine.UI.Controls.TabBaseControl',Kepler.Engine.UI.Controls.ContainerControl,Kepler.Engine.UI.IVisualHint);Kepler.Engine.UI.Controls.TabControl.registerClass('Kepler.Engine.UI.Controls.TabControl',Kepler.Engine.UI.Controls.TabBaseControl,Kepler.Engine.UI.IVisualHint);Kepler.Engine.UI.Controls.TabNavigatorBase.registerClass('Kepler.Engine.UI.Controls.TabNavigatorBase',Kepler.Engine.UI.Controls.ContainerControl,Kepler.Engine.UI.IVisualHint);Kepler.Engine.UI.Controls.TabNavigator.registerClass('Kepler.Engine.UI.Controls.TabNavigator',Kepler.Engine.UI.Controls.TabNavigatorBase);Kepler.Engine.UI.Controls.TabPage.registerClass('Kepler.Engine.UI.Controls.TabPage',Kepler.Engine.UI.Controls.ContainerControl,Kepler.Engine.UI.IVisualHint,Kepler.Framework.UI.IShowMeControl);Kepler.Engine.UI.Controls.TabPageContainer.registerClass('Kepler.Engine.UI.Controls.TabPageContainer',Kepler.Engine.UI.Controls.ContainerControl);Kepler.Engine.UI.Controls.WizardTabBaseControl.registerClass('Kepler.Engine.UI.Controls.WizardTabBaseControl',Kepler.Engine.UI.Controls.TabBaseControl);Kepler.Engine.UI.Controls.WizardTabPage.registerClass('Kepler.Engine.UI.Controls.WizardTabPage',Kepler.Engine.UI.Controls.TabPage);Kepler.Engine.UI.Controls.MultiLineTextControl.registerClass('Kepler.Engine.UI.Controls.MultiLineTextControl',Kepler.Engine.UI.Controls.ContainerControl,Kepler.Framework.UI.IShowMeControl);Kepler.Engine.UI.Controls.RichTextBox.registerClass('Kepler.Engine.UI.Controls.RichTextBox',Kepler.Engine.UI.Controls.MultiLineTextControl);Kepler.Engine.UI.Controls.SearchTextBox.registerClass('Kepler.Engine.UI.Controls.SearchTextBox',Kepler.Engine.UI.Controls.TextBox);Kepler.Engine.UI.Controls.SearchTextControl.registerClass('Kepler.Engine.UI.Controls.SearchTextControl',Kepler.Engine.UI.Controls.ContainerControl);Kepler.Engine.UI.Controls.ECButton.registerClass('Kepler.Engine.UI.Controls.ECButton',Kepler.Engine.UI.Controls.ToggleButton);Kepler.Engine.UI.Controls.Node.registerClass('Kepler.Engine.UI.Controls.Node',Kepler.Engine.UI.Controls.ContainerControl);Kepler.Engine.UI.Controls.TreeControl.registerClass('Kepler.Engine.UI.Controls.TreeControl',Kepler.Engine.UI.Controls.ContainerControl);Kepler.Framework.UI.Controls.ExpandCollapseBtn.registerClass('Kepler.Framework.UI.Controls.ExpandCollapseBtn',Kepler.Engine.UI.Controls.ButtonBase);Kepler.Framework.UI.Controls.OnCommandStruct.registerClass('Kepler.Framework.UI.Controls.OnCommandStruct');Kepler.Framework.UI.Controls.IconListCtrl.registerClass('Kepler.Framework.UI.Controls.IconListCtrl',Kepler.Engine.UI.Controls.MultiColListCtrl);Kepler.Framework.UI.Controls.RadioButtonGroupCtrl.registerClass('Kepler.Framework.UI.Controls.RadioButtonGroupCtrl',Kepler.Engine.UI.Controls.ContainerControl);Kepler.Framework.UI.Controls.Canvas.CanvasControl.registerClass('Kepler.Framework.UI.Controls.Canvas.CanvasControl',Kepler.Engine.UI.Controls.Control);Kepler.Framework.UI.Controls.Debugger.DebugConsole.registerClass('Kepler.Framework.UI.Controls.Debugger.DebugConsole',Kepler.Engine.UI.Controls.ContainerControl);Kepler.Framework.UI.Controls.ListBox.BaseCustomList.registerClass('Kepler.Framework.UI.Controls.ListBox.BaseCustomList',Kepler.Engine.UI.Controls.ContainerControl,Kepler.Engine.UI.IVisualHint);Kepler.Engine.UI.Controls.Ruler.RULER_CONSTANTS.registerClass('Kepler.Engine.UI.Controls.Ruler.RULER_CONSTANTS');Kepler.Engine.UI.Controls.Ruler.RulerMode.registerClass('Kepler.Engine.UI.Controls.Ruler.RulerMode');Kepler.Engine.UI.Controls.Ruler.RulerViewLayout.registerClass('Kepler.Engine.UI.Controls.Ruler.RulerViewLayout');Kepler.Engine.UI.Controls.Ruler.TOOLTIP.registerClass('Kepler.Engine.UI.Controls.Ruler.TOOLTIP');Kepler.Engine.UI.Controls.Ruler.ActionSubtype.registerClass('Kepler.Engine.UI.Controls.Ruler.ActionSubtype');Kepler.Engine.UI.Controls.Ruler.VisualHintData.registerClass('Kepler.Engine.UI.Controls.Ruler.VisualHintData');Kepler.Engine.UI.Controls.Ruler.ActionCheck.registerClass('Kepler.Engine.UI.Controls.Ruler.ActionCheck');Kepler.Engine.UI.Controls.Ruler.BaseRuler.registerClass('Kepler.Engine.UI.Controls.Ruler.BaseRuler',Kepler.Engine.UI.Controls.ContainerControl);Kepler.Engine.UI.Controls.Ruler.BaseHRuler.registerClass('Kepler.Engine.UI.Controls.Ruler.BaseHRuler',Kepler.Engine.UI.Controls.Ruler.BaseRuler);Kepler.Engine.UI.Controls.Ruler.ActionData.registerClass('Kepler.Engine.UI.Controls.Ruler.ActionData');Kepler.Engine.UI.Controls.Ruler.RulerTabs.registerClass('Kepler.Engine.UI.Controls.Ruler.RulerTabs',Object);Kepler.Engine.UI.Controls.Ruler.Column.registerClass('Kepler.Engine.UI.Controls.Ruler.Column',Object);Kepler.Engine.UI.Controls.Ruler.SplitColumns.registerClass('Kepler.Engine.UI.Controls.Ruler.SplitColumns',Object);Kepler.Engine.UI.Controls.Ruler.CurrentAction.registerClass('Kepler.Engine.UI.Controls.Ruler.CurrentAction');Kepler.Engine.UI.Controls.Ruler.BaseVRuler.registerClass('Kepler.Engine.UI.Controls.Ruler.BaseVRuler',Kepler.Engine.UI.Controls.Ruler.BaseRuler);Kepler.Framework.UI.Scroller.ScrollStruct.registerClass('Kepler.Framework.UI.Scroller.ScrollStruct');Kepler.Framework.UI.Scroller.ScrollHandler.registerClass('Kepler.Framework.UI.Scroller.ScrollHandler');Kepler.Framework.UI.Scroller.ScrollView.registerClass('Kepler.Framework.UI.Scroller.ScrollView');Kepler.Framework.UI.Controls.TextControl.BaseTextBox.BaseTextBox.registerClass('Kepler.Framework.UI.Controls.TextControl.BaseTextBox.BaseTextBox');Kepler.Framework.UI.Controls.TextControl.BaseTextBox.TextEventArgs.registerClass('Kepler.Framework.UI.Controls.TextControl.BaseTextBox.TextEventArgs');Kepler.Engine.UI.Controls.TextControl.ScrollData.registerClass('Kepler.Engine.UI.Controls.TextControl.ScrollData');Kepler.Engine.UI.Controls.TextControl.SelectionArgs.registerClass('Kepler.Engine.UI.Controls.TextControl.SelectionArgs');Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.AnchorObject.registerClass('Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.AnchorObject');Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.DocController.registerClass('Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.DocController',null,Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.IDocController);Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.Document.registerClass('Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.Document');Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.Element.registerClass('Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.Element');Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.ElementFactory.registerClass('Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.ElementFactory',null,Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.IElementFactory);Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.MainDoc.registerClass('Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.MainDoc',Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.Document);Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.Paragraph.registerClass('Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.Paragraph');Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.CursorPos.registerClass('Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.CursorPos');Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.DocPos.registerClass('Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.DocPos');Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.ElPos.registerClass('Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.ElPos');Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.CharProperties.registerClass('Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.CharProperties');Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.CharPropertyCache.registerClass('Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.CharPropertyCache');Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.DocumentProperties.registerClass('Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.DocumentProperties');Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.ParagraphProperties.registerClass('Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.ParagraphProperties');Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.UpdateCharProperty.registerClass('Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.UpdateCharProperty');Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.BaseElementRenderer.registerClass('Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.BaseElementRenderer');Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.DefaultRenderFactory.registerClass('Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.DefaultRenderFactory',null,Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.IRenderFactory);Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.DocumentRenderer.registerClass('Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.DocumentRenderer',null,Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.IDocumentRenderer);Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.HitTest.registerClass('Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.HitTest');Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.LayoutArgs.registerClass('Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.LayoutArgs');Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.PagedLine.registerClass('Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.PagedLine');Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.Line.registerClass('Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.Line',Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.PagedLine);Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.LineSection.registerClass('Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.LineSection');Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.MainDocRenderer.registerClass('Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.MainDocRenderer',Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.DocumentRenderer);Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.MainDocRendererPaged.registerClass('Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.MainDocRendererPaged',Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.MainDocRenderer);Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.Page.registerClass('Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.Page');Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.WrapState.registerClass('Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.WrapState');Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.ParagraphRenderer.registerClass('Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.ParagraphRenderer',null,Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.IParagraphRenderer);Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.ParaPage.registerClass('Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.ParaPage');Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.RenderArgs.registerClass('Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.RenderArgs');Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.RenderObject.registerClass('Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.RenderObject');Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.Selection.registerClass('Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.Selection');Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.SelectionRange.registerClass('Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.SelectionRange');Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.TextDecoration.registerClass('Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.TextDecoration');Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.TextElement.registerClass('Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.TextElement',Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.Element);Kepler.Engine.UI.Controls.Tooltip.Tooltip_Params.registerClass('Kepler.Engine.UI.Controls.Tooltip.Tooltip_Params');Kepler.Engine.UI.Controls.Tooltip.TooltipLaunch_Params.registerClass('Kepler.Engine.UI.Controls.Tooltip.TooltipLaunch_Params');Kepler.Engine.UI.Controls.Tooltip.Tooltip.registerClass('Kepler.Engine.UI.Controls.Tooltip.Tooltip',Kepler.Engine.UI.Controls.Control,Kepler.Framework.UI.Events.IEventGenerator);Kepler.Engine.UI.Controls.Tooltip.TooltipManager.registerClass('Kepler.Engine.UI.Controls.Tooltip.TooltipManager',Kepler.Engine.UI.Controls.Wnd);Kepler.Framework.UI.CustomSelection.Comments.InteractableArea.registerClass('Kepler.Framework.UI.CustomSelection.Comments.InteractableArea',null,Kepler.Framework.UI.CustomSelection.Selectables.ISelEvtNotifiable);Kepler.Framework.UI.CustomSelection.Comments.SelInteractionEvtArgs.registerClass('Kepler.Framework.UI.CustomSelection.Comments.SelInteractionEvtArgs');Kepler.Framework.UI.CustomSelection.Comments.Comment.registerClass('Kepler.Framework.UI.CustomSelection.Comments.Comment',Kepler.Framework.UI.CustomSelection.Comments.InteractableArea);Kepler.Framework.UI.CustomSelection.Comments.CommentGroup.registerClass('Kepler.Framework.UI.CustomSelection.Comments.CommentGroup',Kepler.Framework.UI.CustomSelection.Comments.InteractableArea);Kepler.Framework.UI.CustomSelection.CustomSelHelper.registerClass('Kepler.Framework.UI.CustomSelection.CustomSelHelper');Kepler.Framework.UI.CustomSelection.SelectionHandler.registerClass('Kepler.Framework.UI.CustomSelection.SelectionHandler',null,Kepler.Framework.UI.CustomSelection.ISelHandlerCommunicator);Kepler.Framework.UI.CustomSelection.SelVerifier.registerClass('Kepler.Framework.UI.CustomSelection.SelVerifier');Kepler.Framework.UI.CustomSelection.CustomRange.registerClass('Kepler.Framework.UI.CustomSelection.CustomRange');Kepler.Framework.UI.CustomSelection.RangeContainer.registerClass('Kepler.Framework.UI.CustomSelection.RangeContainer');Kepler.Framework.UI.CustomSelection.RangeBound.registerClass('Kepler.Framework.UI.CustomSelection.RangeBound');Kepler.Framework.UI.CustomSelection.SELECTION_CONSTANTS.registerClass('Kepler.Framework.UI.CustomSelection.SELECTION_CONSTANTS');Kepler.Framework.UI.CustomSelection.CharProperties.registerClass('Kepler.Framework.UI.CustomSelection.CharProperties');Kepler.Framework.UI.CustomSelection.CharPropertyCache.registerClass('Kepler.Framework.UI.CustomSelection.CharPropertyCache');Kepler.Framework.UI.CustomSelection.Sel.registerClass('Kepler.Framework.UI.CustomSelection.Sel');Kepler.Framework.UI.CustomSelection.SelRange.registerClass('Kepler.Framework.UI.CustomSelection.SelRange');Kepler.Framework.UI.CustomSelection.ElPos.registerClass('Kepler.Framework.UI.CustomSelection.ElPos');Kepler.Framework.UI.CustomSelection.DocPos.registerClass('Kepler.Framework.UI.CustomSelection.DocPos');Kepler.Framework.UI.CustomSelection.CurPos.registerClass('Kepler.Framework.UI.CustomSelection.CurPos');Kepler.Framework.UI.CustomSelection.HitTest.registerClass('Kepler.Framework.UI.CustomSelection.HitTest');Kepler.Framework.UI.CustomSelection.BoundingElements.registerClass('Kepler.Framework.UI.CustomSelection.BoundingElements');Kepler.Framework.UI.CustomSelection.SelectionHandlerMessages.registerClass('Kepler.Framework.UI.CustomSelection.SelectionHandlerMessages');Kepler.Framework.UI.CustomSelection.UpdateOutLinePreview.registerClass('Kepler.Framework.UI.CustomSelection.UpdateOutLinePreview');Kepler.Framework.UI.CustomSelection.SelectionUpdateData.registerClass('Kepler.Framework.UI.CustomSelection.SelectionUpdateData');Kepler.Framework.UI.CustomSelection.SelDragEvtArgs.registerClass('Kepler.Framework.UI.CustomSelection.SelDragEvtArgs');Kepler.Framework.UI.CustomSelection.ActedKey.registerClass('Kepler.Framework.UI.CustomSelection.ActedKey');Kepler.Framework.UI.CustomSelection.ActionEvtArgs.registerClass('Kepler.Framework.UI.CustomSelection.ActionEvtArgs');Kepler.Framework.UI.CustomSelection.FrameActionData.registerClass('Kepler.Framework.UI.CustomSelection.FrameActionData');Kepler.Framework.UI.CustomSelection.ActionAttributes.registerClass('Kepler.Framework.UI.CustomSelection.ActionAttributes');Kepler.Framework.UI.CustomSelection.HtmlEditCtrl.BaseHtmlEditCtrl.registerClass('Kepler.Framework.UI.CustomSelection.HtmlEditCtrl.BaseHtmlEditCtrl',Kepler.Engine.UI.Controls.Control,Kepler.Framework.UI.CustomSelection.ICustomSelectable);Kepler.Framework.UI.CustomSelection.Selectables.Citation.registerClass('Kepler.Framework.UI.CustomSelection.Selectables.Citation',Kepler.Engine.UI.Controls.Control);Kepler.Framework.UI.CustomSelection.Selectables.SelectableArea.registerClass('Kepler.Framework.UI.CustomSelection.Selectables.SelectableArea');Kepler.Framework.UI.CustomSelection.Selectables.Column.registerClass('Kepler.Framework.UI.CustomSelection.Selectables.Column',Kepler.Framework.UI.CustomSelection.Selectables.SelectableArea);Kepler.Framework.UI.CustomSelection.Selectables.Doc.registerClass('Kepler.Framework.UI.CustomSelection.Selectables.Doc',Kepler.Framework.UI.CustomSelection.Selectables.SelectableArea);Kepler.Framework.UI.CustomSelection.Selectables.SelElement.registerClass('Kepler.Framework.UI.CustomSelection.Selectables.SelElement',Kepler.Framework.UI.CustomSelection.Selectables.SelectableArea);Kepler.Framework.UI.CustomSelection.Selectables.Framework$A.registerClass('Kepler.Framework.UI.CustomSelection.Selectables.Framework$A',Kepler.Framework.UI.CustomSelection.Selectables.SelElement);Kepler.Framework.UI.CustomSelection.Selectables.MainDoc.registerClass('Kepler.Framework.UI.CustomSelection.Selectables.MainDoc',Kepler.Framework.UI.CustomSelection.Selectables.Doc);Kepler.Framework.UI.CustomSelection.Selectables.Framework$B.registerClass('Kepler.Framework.UI.CustomSelection.Selectables.Framework$B',Kepler.Framework.UI.CustomSelection.Selectables.MainDoc);Kepler.Framework.UI.CustomSelection.Selectables.Framework$D.registerClass('Kepler.Framework.UI.CustomSelection.Selectables.Framework$D',Kepler.Framework.UI.CustomSelection.Selectables.Framework$B);Kepler.Framework.UI.CustomSelection.Selectables.Framework$E.registerClass('Kepler.Framework.UI.CustomSelection.Selectables.Framework$E',Kepler.Framework.UI.CustomSelection.Selectables.Framework$B);Kepler.Framework.UI.CustomSelection.Selectables.Para.registerClass('Kepler.Framework.UI.CustomSelection.Selectables.Para',Kepler.Framework.UI.CustomSelection.Selectables.SelectableArea);Kepler.Framework.UI.CustomSelection.Selectables.OutlinePara.registerClass('Kepler.Framework.UI.CustomSelection.Selectables.OutlinePara',Kepler.Framework.UI.CustomSelection.Selectables.Para,Kepler.Framework.UI.CustomSelection.Selectables.ICollapsibleRegion,Kepler.Framework.UI.CustomSelection.Selectables.ICitable,Kepler.Framework.UI.CustomSelection.Selectables.IAction);Kepler.Framework.UI.CustomSelection.Selectables._TablePara.registerClass('Kepler.Framework.UI.CustomSelection.Selectables._TablePara',Kepler.Framework.UI.CustomSelection.Selectables.Para,Kepler.Framework.UI.CustomSelection.Selectables.ICitable);Kepler.Framework.UI.CustomSelection.Selectables.Row.registerClass('Kepler.Framework.UI.CustomSelection.Selectables.Row',Kepler.Framework.UI.CustomSelection.Selectables.SelectableArea);Kepler.Framework.UI.CustomSelection.Selectables.TableRow.registerClass('Kepler.Framework.UI.CustomSelection.Selectables.TableRow',Kepler.Framework.UI.CustomSelection.Selectables.Row);Kepler.Framework.UI.CustomSelection.Selectables.Page.registerClass('Kepler.Framework.UI.CustomSelection.Selectables.Page',Kepler.Framework.UI.CustomSelection.Selectables.SelectableArea);Kepler.Framework.UI.CustomSelection.Selectables._ParaPage.registerClass('Kepler.Framework.UI.CustomSelection.Selectables._ParaPage');Kepler.Framework.UI.CustomSelection.Selectables.RowSection.registerClass('Kepler.Framework.UI.CustomSelection.Selectables.RowSection');Kepler.Framework.UI.CustomSelection.Selectables.Framework$4.registerClass('Kepler.Framework.UI.CustomSelection.Selectables.Framework$4');Kepler.Framework.UI.CustomSelection.Selectables.Framework$6.registerClass('Kepler.Framework.UI.CustomSelection.Selectables.Framework$6',Kepler.Framework.UI.CustomSelection.Selectables.Framework$4,Kepler.Framework.UI.CustomSelection.Selectables.ICollapsibleRegion,Kepler.Framework.UI.CustomSelection.Selectables.ICitable,Kepler.Framework.UI.CustomSelection.Selectables.IAction);Kepler.Framework.UI.CustomSelection.Selectables.Framework$7.registerClass('Kepler.Framework.UI.CustomSelection.Selectables.Framework$7',Kepler.Framework.UI.CustomSelection.Selectables.Framework$4,Kepler.Framework.UI.CustomSelection.Selectables.ICollapsibleRegion);Kepler.Framework.UI.CustomSelection.Selectables.HeaderFooterSection.registerClass('Kepler.Framework.UI.CustomSelection.Selectables.HeaderFooterSection');Kepler.Framework.UI.CustomSelection.Selectables.TableRowElement.registerClass('Kepler.Framework.UI.CustomSelection.Selectables.TableRowElement',Kepler.Framework.UI.CustomSelection.Selectables.SelElement);Kepler.Framework.UI.CustomSelection.Selectables.Framework$8.registerClass('Kepler.Framework.UI.CustomSelection.Selectables.Framework$8',Kepler.Framework.UI.CustomSelection.Selectables.SelElement,Kepler.Framework.UI.CustomSelection.Selectables.ICitable);Kepler.Framework.UI.CustomSelection.Selectables.TextElement.registerClass('Kepler.Framework.UI.CustomSelection.Selectables.TextElement',Kepler.Framework.UI.CustomSelection.Selectables.SelElement);Kepler.Framework.UI.CustomSelection.Selectables.ClearOnClickTextElement.registerClass('Kepler.Framework.UI.CustomSelection.Selectables.ClearOnClickTextElement',Kepler.Framework.UI.CustomSelection.Selectables.TextElement);Kepler.Framework.UI.CustomSelection.Selectables.HoverableText.registerClass('Kepler.Framework.UI.CustomSelection.Selectables.HoverableText',Kepler.Framework.UI.CustomSelection.Selectables.TextElement);Kepler.Framework.UI.CustomSelection.Selectables.Framework$F.registerClass('Kepler.Framework.UI.CustomSelection.Selectables.Framework$F',Kepler.Framework.UI.CustomSelection.Selectables.HoverableText);Kepler.Framework.UI.CustomSelection.Selectables.Framework$C.registerClass('Kepler.Framework.UI.CustomSelection.Selectables.Framework$C',Kepler.Framework.UI.CustomSelection.Selectables.TextElement);Kepler.Framework.UI.Point.registerClass('Kepler.Framework.UI.Point');Kepler.Framework.UI.PointF.registerClass('Kepler.Framework.UI.PointF');Kepler.Framework.UI.Size.registerClass('Kepler.Framework.UI.Size');Kepler.Framework.UI.SizeF.registerClass('Kepler.Framework.UI.SizeF');Kepler.Framework.UI.Rect.registerClass('Kepler.Framework.UI.Rect');Kepler.Framework.UI.RectF.registerClass('Kepler.Framework.UI.RectF');Kepler.Framework.UI.Color.registerClass('Kepler.Framework.UI.Color');Kepler.Framework.UI.Colors.registerClass('Kepler.Framework.UI.Colors');Kepler.Framework.UI.Font.registerClass('Kepler.Framework.UI.Font');Kepler.Framework.UI.Alignment.registerClass('Kepler.Framework.UI.Alignment');Kepler.Framework.UI.Cursors.registerClass('Kepler.Framework.UI.Cursors');Kepler.Framework.UI.MetroUiButtonCssClass.registerClass('Kepler.Framework.UI.MetroUiButtonCssClass');Kepler.Framework.UI.ElementZooming.registerClass('Kepler.Framework.UI.ElementZooming');Kepler.Framework.UI.ThemeDetails.registerClass('Kepler.Framework.UI.ThemeDetails');Kepler.Engine.UI.ContainerPage.registerClass('Kepler.Engine.UI.ContainerPage',Kepler.Engine.UI.Controls.ContainerControl);Kepler.Engine.UI.DialogBase.registerClass('Kepler.Engine.UI.DialogBase',Kepler.Engine.UI.Controls.Wnd);Kepler.Engine.UI.Dialog.registerClass('Kepler.Engine.UI.Dialog',Kepler.Engine.UI.DialogBase);Kepler.Engine.UI.DialogBaseFrame.registerClass('Kepler.Engine.UI.DialogBaseFrame',Kepler.Engine.UI.Controls.ContainerControl);Kepler.Engine.UI.DialogClient.registerClass('Kepler.Engine.UI.DialogClient',Kepler.Engine.UI.Controls.ContainerControl);Kepler.Engine.UI.DialogContainer.registerClass('Kepler.Engine.UI.DialogContainer',Kepler.Engine.UI.Controls.Wnd);Kepler.Engine.UI.DialogTabBaseClient.registerClass('Kepler.Engine.UI.DialogTabBaseClient',Kepler.Engine.UI.DialogClient);Kepler.Engine.UI.DialogTabClient.registerClass('Kepler.Engine.UI.DialogTabClient',Kepler.Engine.UI.DialogTabBaseClient);Kepler.Engine.UI.DialogWizardTabClient.registerClass('Kepler.Engine.UI.DialogWizardTabClient',Kepler.Engine.UI.DialogClient);Kepler.Engine.UI.MetroAppDialogFrame.registerClass('Kepler.Engine.UI.MetroAppDialogFrame',Kepler.Engine.UI.DialogBaseFrame);Kepler.Engine.UI.DialogFrame.registerClass('Kepler.Engine.UI.DialogFrame',Kepler.Engine.UI.DialogBaseFrame);Kepler.Engine.UI.WizardDialogFrame.registerClass('Kepler.Engine.UI.WizardDialogFrame',Kepler.Engine.UI.DialogFrame);Kepler.Engine.UI.PaneDialogFrame.registerClass('Kepler.Engine.UI.PaneDialogFrame',Kepler.Engine.UI.DialogBaseFrame);Kepler.Engine.UI.VisualHintParams.registerClass('Kepler.Engine.UI.VisualHintParams');Kepler.Framework.UI.Events.Capture.CaptureProvider.registerClass('Kepler.Framework.UI.Events.Capture.CaptureProvider');Kepler.Framework.UI.Events.EventArgsNs.EventArgs.registerClass('Kepler.Framework.UI.Events.EventArgsNs.EventArgs',null,Kepler.Framework.Core.Interfaces.IClonable);Kepler.Framework.UI.Events.EventArgsNs.DOMEventArgs.registerClass('Kepler.Framework.UI.Events.EventArgsNs.DOMEventArgs',Kepler.Framework.UI.Events.EventArgsNs.EventArgs);Kepler.Framework.UI.Events.EventArgsNs.ClipboardEventArgs.registerClass('Kepler.Framework.UI.Events.EventArgsNs.ClipboardEventArgs',Kepler.Framework.UI.Events.EventArgsNs.DOMEventArgs);Kepler.Framework.UI.Events.EventArgsNs.CustomEventArgs.registerClass('Kepler.Framework.UI.Events.EventArgsNs.CustomEventArgs',Kepler.Framework.UI.Events.EventArgsNs.EventArgs);Kepler.Framework.UI.Events.EventArgsNs.GestureEventArgs.registerClass('Kepler.Framework.UI.Events.EventArgsNs.GestureEventArgs');Kepler.Framework.UI.Events.EventArgsNs.GestureDragEventArgs.registerClass('Kepler.Framework.UI.Events.EventArgsNs.GestureDragEventArgs',Kepler.Framework.UI.Events.EventArgsNs.GestureEventArgs);Kepler.Framework.UI.Events.EventArgsNs.GesturePinchEventArgs.registerClass('Kepler.Framework.UI.Events.EventArgsNs.GesturePinchEventArgs',Kepler.Framework.UI.Events.EventArgsNs.GestureEventArgs);Kepler.Framework.UI.Events.EventArgsNs.Framework$2.registerClass('Kepler.Framework.UI.Events.EventArgsNs.Framework$2');Kepler.Framework.UI.Events.EventArgsNs.GestureSwipeEventArgs.registerClass('Kepler.Framework.UI.Events.EventArgsNs.GestureSwipeEventArgs',Kepler.Framework.UI.Events.EventArgsNs.GestureEventArgs);Kepler.Framework.UI.Events.EventArgsNs.Framework$3.registerClass('Kepler.Framework.UI.Events.EventArgsNs.Framework$3');Kepler.Framework.UI.Events.EventArgsNs.GestureTapEventArgs.registerClass('Kepler.Framework.UI.Events.EventArgsNs.GestureTapEventArgs',Kepler.Framework.UI.Events.EventArgsNs.GestureEventArgs);Kepler.Framework.UI.Events.EventArgsNs.ModifierKeyEventArgs.registerClass('Kepler.Framework.UI.Events.EventArgsNs.ModifierKeyEventArgs',Kepler.Framework.UI.Events.EventArgsNs.DOMEventArgs);Kepler.Framework.UI.Events.EventArgsNs.KeyEventArgs.registerClass('Kepler.Framework.UI.Events.EventArgsNs.KeyEventArgs',Kepler.Framework.UI.Events.EventArgsNs.ModifierKeyEventArgs);Kepler.Framework.UI.Events.EventArgsNs.MouseEventArgs.registerClass('Kepler.Framework.UI.Events.EventArgsNs.MouseEventArgs',Kepler.Framework.UI.Events.EventArgsNs.ModifierKeyEventArgs);Kepler.Framework.UI.Events.EventArgsNs.MouseWheelEventArgs.registerClass('Kepler.Framework.UI.Events.EventArgsNs.MouseWheelEventArgs',Kepler.Framework.UI.Events.EventArgsNs.MouseEventArgs);Kepler.Framework.UI.Events.EventArgsNs.TouchEventArgs.registerClass('Kepler.Framework.UI.Events.EventArgsNs.TouchEventArgs',Kepler.Framework.UI.Events.EventArgsNs.ModifierKeyEventArgs);Kepler.Framework.UI.Events.EventArgsNs.TouchInfo.registerClass('Kepler.Framework.UI.Events.EventArgsNs.TouchInfo',null,Kepler.Framework.Core.Interfaces.IClonable);Kepler.Engine.UI.Events.GestureManager.registerClass('Kepler.Engine.UI.Events.GestureManager');Framework.UI.Events.Framework$1.registerClass('Framework.UI.Events.Framework$1');Framework.UI.Events.EventDispatcher.registerClass('Framework.UI.Events.EventDispatcher');Kepler.Framework.UI.Events.Hooks.Hook.registerClass('Kepler.Framework.UI.Events.Hooks.Hook');Kepler.Framework.UI.Events.Hooks.TouchHook.registerClass('Kepler.Framework.UI.Events.Hooks.TouchHook',Kepler.Framework.UI.Events.Hooks.Hook);Kepler.Framework.UI.Events.Hooks.KeyboardHook.registerClass('Kepler.Framework.UI.Events.Hooks.KeyboardHook',Kepler.Framework.UI.Events.Hooks.Hook);Kepler.Framework.UI.Events.Hooks.MouseHook.registerClass('Kepler.Framework.UI.Events.Hooks.MouseHook',Kepler.Framework.UI.Events.Hooks.Hook);Kepler.Framework.Core.Factory.SvgFactory.registerClass('Kepler.Framework.Core.Factory.SvgFactory');Kepler.Engine.UI.Helper.CalcHelper.registerClass('Kepler.Engine.UI.Helper.CalcHelper');Kepler.Engine.UI.Helper.LaunchParams.registerClass('Kepler.Engine.UI.Helper.LaunchParams');Kepler.Engine.UI.Helper.FontLoader.registerClass('Kepler.Engine.UI.Helper.FontLoader');Kepler.Engine.UI.Helper.HtmlCssHelper.registerClass('Kepler.Engine.UI.Helper.HtmlCssHelper');Kepler.Engine.UI.Helper.PositionAndSizeOverrideHelper.registerClass('Kepler.Engine.UI.Helper.PositionAndSizeOverrideHelper');Kepler.Engine.UI.Helper.WebkitTransformHelper.registerClass('Kepler.Engine.UI.Helper.WebkitTransformHelper');Kepler.Framework.UI.Helper.FontMetrics.registerClass('Kepler.Framework.UI.Helper.FontMetrics');Kepler.Framework.UI.Helper.IframeWrapper.registerClass('Kepler.Framework.UI.Helper.IframeWrapper');Kepler.Framework.UI.Helper.StyleContainer.registerClass('Kepler.Framework.UI.Helper.StyleContainer');Kepler.Framework.UI.Helper.SvgHelper.registerClass('Kepler.Framework.UI.Helper.SvgHelper');Kepler.Framework.UI.Metro_Ui_Controls.BottomBar.registerClass('Kepler.Framework.UI.Metro_Ui_Controls.BottomBar',Kepler.Engine.UI.Controls.Button);Kepler.Framework.UI.Metro_Ui_Controls.EngineAction.registerClass('Kepler.Framework.UI.Metro_Ui_Controls.EngineAction');Kepler.Framework.UI.Metro_Ui_Controls.PaneItems.registerClass('Kepler.Framework.UI.Metro_Ui_Controls.PaneItems');Kepler.Framework.UI.Metro_Ui_Controls.PaneActionData.registerClass('Kepler.Framework.UI.Metro_Ui_Controls.PaneActionData');Kepler.Framework.UI.Metro_Ui_Controls.StartScreenActionData.registerClass('Kepler.Framework.UI.Metro_Ui_Controls.StartScreenActionData');Kepler.Framework.UI.Metro_Ui_Controls.WindowsMessages.registerClass('Kepler.Framework.UI.Metro_Ui_Controls.WindowsMessages');Kepler.Framework.UI.Metro_Ui_Controls.AppActionData.registerClass('Kepler.Framework.UI.Metro_Ui_Controls.AppActionData');Kepler.Framework.UI.Metro_Ui_Controls.MetroAppTitle.registerClass('Kepler.Framework.UI.Metro_Ui_Controls.MetroAppTitle');Kepler.Framework.UI.Metro_Ui_Controls.MetroTheme.registerClass('Kepler.Framework.UI.Metro_Ui_Controls.MetroTheme');Kepler.Framework.UI.Metro_Ui_Controls.MetroUiRadioButton.registerClass('Kepler.Framework.UI.Metro_Ui_Controls.MetroUiRadioButton',Kepler.Engine.UI.Controls.RadioButton);Kepler.Framework.UI.Metro_Ui_Controls.ScrollContainer.registerClass('Kepler.Framework.UI.Metro_Ui_Controls.ScrollContainer',Kepler.Engine.UI.Controls.ContainerControl);Kepler.Framework.UI.Metro_Ui_Controls.MetroUiColorSelector.ColorSelectorList.registerClass('Kepler.Framework.UI.Metro_Ui_Controls.MetroUiColorSelector.ColorSelectorList',Kepler.Engine.UI.Controls.Control);Kepler.Framework.UI.Metro_Ui_Controls.MetroUiColorSelector.ColorSelectorGrid.registerClass('Kepler.Framework.UI.Metro_Ui_Controls.MetroUiColorSelector.ColorSelectorGrid',Kepler.Engine.UI.Controls.Control);Kepler.Framework.UI.Metro_Ui_Controls.MetroUiColorSelector.MetroUiColorSelector.registerClass('Kepler.Framework.UI.Metro_Ui_Controls.MetroUiColorSelector.MetroUiColorSelector',Kepler.Engine.UI.Controls.ContainerControl);Kepler.Framework.UI.Metro_Ui_Controls.MetroUiColorSelector.Cell.registerClass('Kepler.Framework.UI.Metro_Ui_Controls.MetroUiColorSelector.Cell');Kepler.Framework.UI.Metro_Ui_Controls.MetroUiColorSelector.ColorListItem.registerClass('Kepler.Framework.UI.Metro_Ui_Controls.MetroUiColorSelector.ColorListItem');Kepler.Framework.UI.Metro_Ui_Controls.MetroUiComboBox.MetroUiComboCtrl.registerClass('Kepler.Framework.UI.Metro_Ui_Controls.MetroUiComboBox.MetroUiComboCtrl',Kepler.Engine.UI.Controls.ComboCtrl);Kepler.Framework.UI.Metro_Ui_Controls.MetroUiListBox.MetroUiDropDownListCtrl.registerClass('Kepler.Framework.UI.Metro_Ui_Controls.MetroUiListBox.MetroUiDropDownListCtrl',Kepler.Engine.UI.Controls.DropDownListCtrl);Kepler.Framework.UI.Metro_Ui_Controls.MetroUiListBox.MetroUiListCtrl.registerClass('Kepler.Framework.UI.Metro_Ui_Controls.MetroUiListBox.MetroUiListCtrl',Kepler.Engine.UI.Controls.ListCtrl);Kepler.Framework.UI.Metro_Ui_Controls.MetroUiTab.MetroUiTabControl.registerClass('Kepler.Framework.UI.Metro_Ui_Controls.MetroUiTab.MetroUiTabControl',Kepler.Engine.UI.Controls.TabBaseControl);Kepler.Framework.UI.Metro_Ui_Controls.MetroUiTab.MetroUiTabNavigator.registerClass('Kepler.Framework.UI.Metro_Ui_Controls.MetroUiTab.MetroUiTabNavigator',Kepler.Engine.UI.Controls.TabNavigatorBase);Kepler.Framework.UI.Metro_Ui_Controls.MetroUiTab.MetroUiTabPage.registerClass('Kepler.Framework.UI.Metro_Ui_Controls.MetroUiTab.MetroUiTabPage',Kepler.Engine.UI.Controls.TabPage);Kepler.Framework.UI.Metro_Ui_Controls.MetroUiThemeButton.MetroUiThemeButton.registerClass('Kepler.Framework.UI.Metro_Ui_Controls.MetroUiThemeButton.MetroUiThemeButton',Kepler.Engine.UI.Controls.ButtonBase);Kepler.Framework.UI.Metro_Ui_Controls.OnOffControl.OnOffCtrl.registerClass('Kepler.Framework.UI.Metro_Ui_Controls.OnOffControl.OnOffCtrl',Kepler.Engine.UI.Controls.Control);Kepler.Framework.UI.Metro_Ui_Controls.OnOffControl.OnOffCtrlWithStatus.registerClass('Kepler.Framework.UI.Metro_Ui_Controls.OnOffControl.OnOffCtrlWithStatus',Kepler.Engine.UI.Controls.ContainerControl,Kepler.Engine.UI.IVisualHint);Kepler.Framework.UI.Themed_Controls.CollapsibleList.CollapseController.registerClass('Kepler.Framework.UI.Themed_Controls.CollapsibleList.CollapseController',Kepler.Engine.UI.Controls.ContainerControl);Kepler.Framework.UI.Themed_Controls.CollapsibleList.CollapsibleList.registerClass('Kepler.Framework.UI.Themed_Controls.CollapsibleList.CollapsibleList',Kepler.Engine.UI.Controls.ContainerControl);Kepler.Framework.UI.Themed_Controls.Themed_Buttons.ThemeCheckBox.registerClass('Kepler.Framework.UI.Themed_Controls.Themed_Buttons.ThemeCheckBox',Kepler.Engine.UI.Controls.CheckBox);Kepler.Framework.UI.Themed_Controls.Themed_Buttons.ThemeCssImageButton.registerClass('Kepler.Framework.UI.Themed_Controls.Themed_Buttons.ThemeCssImageButton',Kepler.Engine.UI.Controls.CssImageButton);Kepler.Framework.UI.Themed_Controls.Themed_Buttons.ThemeCssImageTextButton.registerClass('Kepler.Framework.UI.Themed_Controls.Themed_Buttons.ThemeCssImageTextButton',Kepler.Engine.UI.Controls.CssImageTextButton);Kepler.Framework.UI.Themed_Controls.Themed_Buttons.ThemeCssImageButtonBorderLess.registerClass('Kepler.Framework.UI.Themed_Controls.Themed_Buttons.ThemeCssImageButtonBorderLess',Kepler.Framework.UI.Themed_Controls.Themed_Buttons.ThemeCssImageTextButton);Kepler.Framework.UI.Themed_Controls.Themed_Buttons.ThemeCSSToggleButton.registerClass('Kepler.Framework.UI.Themed_Controls.Themed_Buttons.ThemeCSSToggleButton',Kepler.Engine.UI.Controls.CSSToggleButton);Kepler.Framework.UI.Themed_Controls.Themed_Buttons.ThemeRadioButton.registerClass('Kepler.Framework.UI.Themed_Controls.Themed_Buttons.ThemeRadioButton',Kepler.Engine.UI.Controls.RadioButton);Kepler.Framework.UI.Themed_Controls.Themed_Buttons.ThemeButton.registerClass('Kepler.Framework.UI.Themed_Controls.Themed_Buttons.ThemeButton',Kepler.Engine.UI.Controls.Button);Kepler.Framework.UI.Themed_Controls.Themed_ComboBox.ThemeComboCtrl.registerClass('Kepler.Framework.UI.Themed_Controls.Themed_ComboBox.ThemeComboCtrl',Kepler.Engine.UI.Controls.ComboCtrl);Kepler.Framework.UI.Themed_Controls.EditSpinControl.ThemeEditSpinCtrl.registerClass('Kepler.Framework.UI.Themed_Controls.EditSpinControl.ThemeEditSpinCtrl',Kepler.Engine.UI.Controls.EditSpinCtrl);Kepler.Framework.UI.Themed_Controls.EditSpinControl.ThemeSpinButton.registerClass('Kepler.Framework.UI.Themed_Controls.EditSpinControl.ThemeSpinButton',Kepler.Engine.UI.Controls.SpinButton);Kepler.Framework.UI.Themed_Controls.SliderControl.Slider.registerClass('Kepler.Framework.UI.Themed_Controls.SliderControl.Slider',Kepler.Engine.UI.Controls.Control);Kepler.Framework.UI.Themed_Controls.SliderControl.SliderCtrl.registerClass('Kepler.Framework.UI.Themed_Controls.SliderControl.SliderCtrl',Kepler.Engine.UI.Controls.ContainerControl,Kepler.Engine.UI.IVisualHint);Kepler.Framework.UI.Themed_Controls.Themed_ListBox.ThemeListCtrl.registerClass('Kepler.Framework.UI.Themed_Controls.Themed_ListBox.ThemeListCtrl',Kepler.Engine.UI.Controls.ListCtrl);Kepler.Framework.Accessibility.AccessibilitySupport.msG_IS_ACCESSIBILITY_ON='msg_is_accessibility_on';Kepler.Framework.Accessibility.AccessibilitySupport.$0=null;Kepler.Framework.Accessibility.AccessibilitySupport.$A=false;(function(){Kepler.Framework.Accessibility.AccessibilitySupport.$0=new Kepler.Framework.Accessibility.AccessibilitySupport();})();
Kepler.Framework.Core.Browser.BrowserCapabilities.$0=352+45;Kepler.Framework.Core.Browser.BrowserCapabilities.$1=264+45;Kepler.Framework.Core.Browser.BrowserCapabilities.$3=330;Kepler.Framework.Core.Browser.BrowserCapabilities.$4=390;Kepler.Framework.Core.Browser.BrowserCapabilities.$5=0;Kepler.Framework.Core.Browser.BrowserCapabilities.$6=0;Kepler.Framework.Core.Browser.BrowserCapabilities.$7=0;Kepler.Framework.Core.Browser.BrowserCapabilities.$8=0;Kepler.Framework.Core.Browser.BrowserCapabilities.$9=0;Kepler.Framework.Core.Browser.BrowserCapabilities.$A=0;Kepler.Framework.Core.Browser.BrowserCapabilities.$B=false;Kepler.Framework.Core.Browser.BrowserCapabilities.$C=false;Kepler.Framework.Core.Browser.BrowserCapabilities.$E=0;(function(){Kepler.Framework.Core.Browser.BrowserCapabilities.$D();Kepler.Framework.Core.Browser.BrowserCapabilities.$C=ss.isNullOrUndefined(window.document)||!(typeof(document.getElementById)==='function');Kepler.Framework.Core.Browser.BrowserCapabilities.$B=window.top!==window.self;})();
Kepler.Framework.Core.Browser.PositionStyle.strStatic='static';Kepler.Framework.Core.Browser.PositionStyle.strInitial='initial';Kepler.Framework.Core.Browser.PositionStyle.strRelative='relative';Kepler.Framework.Core.Browser.PositionStyle.strAbsolute='absolute';Kepler.Framework.Core.Browser.PositionStyle.strFixed='fixed';Kepler.Framework.Core.Browser.ProxyClasses.NodeFilterShowType.shoW_ALL=4294967295;Kepler.Framework.Core.Browser.ProxyClasses.NodeFilterShowType.shoW_ELEMENT=1;Kepler.Framework.Core.Browser.ProxyClasses.NodeFilterShowType.shoW_ATTRIBUTE=2;Kepler.Framework.Core.Browser.ProxyClasses.NodeFilterShowType.shoW_TEXT=4;Kepler.Framework.Core.Browser.ProxyClasses.NodeFilterShowType.shoW_CDATA_SECTION=8;Kepler.Framework.Core.Browser.ProxyClasses.NodeFilterShowType.shoW_ENTITY_REFERENCE=16;Kepler.Framework.Core.Browser.ProxyClasses.NodeFilterShowType.shoW_ENTITY=32;Kepler.Framework.Core.Browser.ProxyClasses.NodeFilterShowType.shoW_PROCESSING_INSTRUCTION=64;Kepler.Framework.Core.Browser.ProxyClasses.NodeFilterShowType.shoW_COMMENT=128;Kepler.Framework.Core.Browser.ProxyClasses.NodeFilterShowType.shoW_DOCUMENT=256;Kepler.Framework.Core.Browser.ProxyClasses.NodeFilterShowType.shoW_DOCUMENT_TYPE=512;Kepler.Framework.Core.Browser.ProxyClasses.NodeFilterShowType.shoW_DOCUMENT_FRAGMENT=1024;Kepler.Framework.Core.Browser.ProxyClasses.NodeFilterShowType.shoW_NOTATION=2048;Kepler.Framework.Core.Browser.QueryString.CacheBuster.$0='1234fe5dabd777';Kepler.Framework.Core.Browser.QueryString.QueryStringParser.$0=null;(function(){Kepler.Framework.Core.Browser.QueryString.QueryStringParser.$1();})();
Kepler.Framework.Core.Seperators.PIPE='\u00a6';Kepler.Framework.Core.Seperators.OR='|';Kepler.Framework.Core.Seperators.doublE_CROSS='\u2021';Kepler.Framework.Core.Seperators.miD_DOT='\u2022';Kepler.Framework.Core.Seperators.spikeD_CIRCLE='\u00a4';Kepler.Framework.Core.Seperators.COLON=':';Kepler.Framework.Core.Seperators.PLUS='+';Kepler.Framework.Core.Seperators.doublE_DELTA='\u00a7';Kepler.Framework.Core.Seperators.STAR='*';Kepler.Framework.Core.Seperators.COMMA=',';Kepler.Framework.Core.Seperators.v_CROSS='\u00a5';Kepler.Framework.Core.Seperators.CROSS='\u2020';Kepler.Framework.Core.Seperators.EQUAL='=';Kepler.Framework.Core.Seperators.DEGREE='\u00b0';Kepler.Framework.Core.Seperators.pluS_MINUS='\u00b1';Kepler.Framework.Core.Seperators.s_CARON='\u008a';Kepler.Framework.Core.Seperators.z_CARON='\u017d';Kepler.Framework.Core.Seperators.inverteD_QUESTION='\u00bf';Kepler.Framework.Core.Seperators.inverteD_EXCLAMATION='\u00a1';Kepler.Framework.Core.StringUtils.zerO_WIDTH_CHAR='&#8203;';Kepler.Framework.Core.StringUtils.$0=[192,106,107,109,110,111,220,187,46,13,8,9,32,61,47,92];Kepler.Framework.Core.StringUtils.$1=[186,188,190,191,219,221,189,222,59,173];Kepler.Framework.Core.Globals.invaliD_VALUE=-1;Kepler.Engine.Core.FileDownloader.$1=null;Kepler.Framework.Core.Messaging.PostMessageManager.$0=null;Kepler.Framework.Core.Messaging.PostMessageManager.$1=null;(function(){Kepler.Framework.Core.Messaging.PostMessageManager.$0=[];Kepler.Framework.Core.Messaging.PostMessageManager.$1=new Kepler.Framework.Core.Timers.Timer(Kepler.Framework.Core.Messaging.PostMessageManager.$2,1);})();
Kepler.Framework.Core.Modules.FrameworkModule.$7=null;(function(){window.setTimeout(function(){
new Kepler.Framework.Core.Modules.FrameworkModule();},1);})();
Kepler.Framework.Core.Modules.BaseModule.resourcE_DIRECTORY='/office16/res/';Kepler.Framework.Core.Modules.BaseModule.csS_DIRECTORY='/office16/css/';Kepler.Engine.UI.Controls.AddressButton.msG_ACTIVE_ADDRESS_BUTTON='msg_active_address_button';Kepler.Engine.UI.Controls.AddressMenuItem.msG_MENULIST_ITEM_SELECTED='msg_menulist_item_selected';Kepler.Engine.UI.Controls.FunctionSet.$1=null;Kepler.Engine.UI.Controls.FunctionTooltip.$3B=null;Kepler.Engine.UI.Controls.FunctionWnd.msG_PERFORM_FUNCTION_SELECTION='msg_perform_function_selection';Kepler.Engine.UI.Controls.FunctionWnd._instance=null;Kepler.Engine.UI.Controls.Button.csS_CLASSNAME=' button';Kepler.Engine.UI.Controls.ButtonBase.msG_BUTTON_CLICKED='ButtonClicked';Kepler.Engine.UI.Controls.ButtonBase.msG_BUTTON_DOUBLE_CLICKED='ButtonDoubleClicked';Kepler.Engine.UI.Controls.CheckBox.csS_CLASSNAME=' checkbox';Kepler.Engine.UI.Controls.CheckBox.checkboX_IMAGE_CONTAINER_CLASS=' checkbox_image_container';Kepler.Engine.UI.Controls.CSSToggleButton.csS_CLASSNAME=' button';Kepler.Engine.UI.Controls.ComboCtrlSplitButton.csS_CLASSNAME=' button';Kepler.Engine.UI.Controls.ComboCtrlSplitButton.csS_CLASS_ARROW_IMG=' combo_split_btn';Kepler.Engine.UI.Controls.ComboCtrlSplitButton.csS_CLASS_SPLIT='splitclass';Kepler.Engine.UI.Controls.ToggleButton.csS_CLASSNAME=' button';Kepler.Engine.UI.Controls.ComboCtrl.csS_CLASSNAME=' ComboCtrl';Kepler.Engine.UI.Controls.ComboCtrl.buttoN_WIDTH=17;Kepler.Engine.UI.Controls.ComboCtrl.$47=null;Kepler.Engine.UI.Controls.ComboCtrl._bShowDropDownOnArrowKey=false;Kepler.Engine.UI.Controls.ComboCtrl.$48=false;Kepler.Engine.UI.Controls.ComboBtnCtrl.csS_CLASSNAME=' ComboCtrl';Kepler.Engine.UI.Controls.ComboBtnCtrl.buttoN_WIDTH=17;Kepler.Engine.UI.Controls.ComboBtnCtrl.$43=null;Kepler.Engine.UI.Controls.Control.elemenT_CONTROL_FIELD_NAME='Control';Kepler.Engine.UI.Controls.Control.csS_STYLE_IMPORTANT_SPECIFIER=' !important';Kepler.Engine.UI.Controls.Control.csS_CLASS_DISPLAY_NONE=' display_none';Kepler.Engine.UI.Controls.Control.csS_CLASS_DISPLAY_TABLE_CELL=' display_table_cell';Kepler.Engine.UI.Controls.Control.csS_CLASS_POSITION_ABSOLUTE=' position_absolute';Kepler.Engine.UI.Controls.Control.csS_CLASS_SELECTION_ENABLE=' selection_enable';Kepler.Engine.UI.Controls.Control.csS_CLASS_SELECTION_DISABLE=' selection_disable';Kepler.Engine.UI.Controls.Control.csS_CLASS_TEXT_DISABLED=' text_disabled';Kepler.Engine.UI.Controls.Control.csS_CLASS_BORDER_NONE=' border_none';Kepler.Engine.UI.Controls.Control.csS_CLASS_VISUAL_HINT=' class_visual_hint';Kepler.Engine.UI.Controls.Control.csS_CLASS_BOX_SHADOW_VISUAL_HINT=' box_shadow_visual_hint';Kepler.Engine.UI.Controls.Control.csS_CLASS_BOX_SHADOW_VISUAL_HINT_NORMAL=' box_shadow_visual_hint_normal';Kepler.Engine.UI.Controls.Control.csS_CLASS_FOCUS_BORDER=' focus_border';Kepler.Engine.UI.Controls.Control.msG_MOUSE_CLICKED='MouseClicked';Kepler.Engine.UI.Controls.Control.msG_SELECTION_CHANGING='SelectionChanging';Kepler.Engine.UI.Controls.Control.msG_SELECTION_CHANGED='SelectionChanged';Kepler.Engine.UI.Controls.Control.msG_SETTEXT='SetText';Kepler.Engine.UI.Controls.Control.msG_COMMAND='msg_command';Kepler.Engine.UI.Controls.Control.msG_CONTROL_DRAG_START='msg_control_drag_start';Kepler.Engine.UI.Controls.Control.msG_CONTROL_DROP='msg_control_drop';Kepler.Engine.UI.Controls.Control.msG_HIDE_CTRL='hide_child_ctrl';Kepler.Engine.UI.Controls.Control.controL_DRAG_START_TIMER_THRESHOLD=200;Kepler.Engine.UI.Controls.Control.controL_DRAG_START_REGION_THRESHOLD=10;Kepler.Engine.UI.Controls.Control.controL_MSG_FOCUS_CHANGED='control_msg_focus_changed';Kepler.Engine.UI.Controls.Control.controL_MSG_HINT_SCROLL='control_msg_hint_scroll';Kepler.Engine.UI.Controls.Control.$6=new Kepler.Engine.UI.Events.GestureManager();Kepler.Engine.UI.Controls.Control.$7=null;Kepler.Engine.UI.Controls.Control.$9=null;Kepler.Engine.UI.Controls.Control.$A=false;Kepler.Engine.UI.Controls.EditSpinCtrl.msG_EDIT_SPIN_VAL_CHANGED='edit_spin_val_changed';Kepler.Engine.UI.Controls.SpinButton.msG_SPIN_BTN_NOTIFICATION='spin_button_clicked';Kepler.Engine.UI.Controls.SpinEdit.csS_CLASSNAME=' EditSpinCtrl';Kepler.Engine.UI.Controls.GridHeader.msG_GRID_HEADER_WIDTH_CHANGED='grid_header_width_changed';Kepler.Engine.UI.Controls.GridRow.msG_ROW_CLICK='grid_row_click';Kepler.Engine.UI.Controls.GridRow.stR_CSS_NORMAL='_normal';Kepler.Engine.UI.Controls.GridRow.stR_CSS_PRESSED_FOCUSED='_pressed_focused';Kepler.Engine.UI.Controls.GridRow.stR_CSS_PRESSED_NOT_FOCUSED='_pressed_not_focused';Kepler.Engine.UI.Controls.GridRow.msG_ROW_DOUBLE_CLICK='grid_row_click';Kepler.Engine.UI.Controls.GridRow.msG_ROW_HEIGHT_CHANGED='msg_row_height_changed';Kepler.Engine.UI.Controls.GridRow.$45=0;Kepler.Engine.UI.Controls.ListCtrl.roW_ID='listCtrl_Row';Kepler.Engine.UI.Controls.ListCtrl.scrollbaR_WT=15;Kepler.Engine.UI.Controls.ListCtrl.commoN_ITEM_HT=13;Kepler.Engine.UI.Controls.ListCtrl.csS_ROW=' ListCtrl_Row';Kepler.Engine.UI.Controls.MultiColListCtrl.cellID='MultiColList_Cell';Kepler.Engine.UI.Controls.MultiColListCtrl.tableID='MultiColList_Table';Kepler.Engine.UI.Controls.HScrollBar.csS_CLASSNAME_PREFIX=' h_scrollbar';Kepler.Engine.UI.Controls.ScrollBarBase.msG_SCROLL_POS_CHANGING='ScrollPosChanging';Kepler.Engine.UI.Controls.ScrollBarBase.msG_SCROLL_POS_CHANGED='ScrollPosChanged';Kepler.Engine.UI.Controls.ScrollBarBase.msG_SCROLL_LINEDOWN='ScrollLineDown';Kepler.Engine.UI.Controls.ScrollBarBase.msG_SCROLL_LINEUP='ScrollLineUp';Kepler.Engine.UI.Controls.ScrollBarBase.msG_SCROLL_PAGEDOWN='ScrollPageDown';Kepler.Engine.UI.Controls.ScrollBarBase.msG_SCROLL_PAGEUP='ScrollPageUp';Kepler.Engine.UI.Controls.ScrollBarBase.$3D=false;Kepler.Engine.UI.Controls.VScrollBar.csS_CLASSNAME_PREFIX=' v_scrollbar';Kepler.Engine.UI.Controls.TabBaseControl.msG_ENABLE_DISABLE_TABPAGE='msg_enable_disable_tabpage';Kepler.Engine.UI.Controls.SearchTextControl.csS_CLASSNAME=' SearchTextControl';Kepler.Engine.UI.Controls.SearchTextControl.csS_TEXT_CLASSNAME=' SearchTextBox';Kepler.Engine.UI.Controls.TextBox.msG_TEXT_CHANGING='TextChanging';Kepler.Engine.UI.Controls.TextBox.msG_TEXT_CHANGED='TextChanged';Kepler.Engine.UI.Controls.MultiLineTextControl.defaulT_PADDING=4;Kepler.Engine.UI.Controls.MultiLineTextControl.normaL_MODE=0;Kepler.Engine.UI.Controls.MultiLineTextControl.cursoR_POSITION_MODE=1;Kepler.Engine.UI.Controls.MultiLineTextControl.selectioN_MODE=2;Kepler.Engine.UI.Controls.MultiLineTextControl.scrollbaR_WIDTH=17;Kepler.Engine.UI.Controls.MultiLineTextControl.msG_HIDE_KEYBOARD='msg_hide_keyboard';Kepler.Engine.UI.Controls.MultiLineTextControl.msG_SHOW_KEYBOARD='msg_show_keyboard';Kepler.Engine.UI.Controls.MultiLineTextControl._oCharPropCache=null;Kepler.Engine.UI.Controls.MultiLineTextControl.$4A=null;Kepler.Engine.UI.Controls.MultiLineTextControl.$4B=null;Kepler.Engine.UI.Controls.SingleLineTextControl.msG_TYPING_MODE=' msg_typing_mode';Kepler.Engine.UI.Controls.SingleLineTextControl.msG_IS_SHOW_ME_MODE='msg_is_show_me_mode';Kepler.Engine.UI.Controls.SingleLineTextControl.msG_HIDE_KEYBOARD='msg_hide_keyboard';Kepler.Engine.UI.Controls.SingleLineTextControl.msG_SHOW_KEYBOARD='msg_show_keyboard';Kepler.Engine.UI.Controls.SingleLineTextControl.$41=null;Kepler.Engine.UI.Controls.Node.csS_CLASS_LEVEL=' node_level_';Kepler.Engine.UI.Controls.Node.csS_CLASS_CONNECTOR=' connector';Kepler.Engine.UI.Controls.Node.msG_GET_SELECTED_NODE='GetSelectedNode';Kepler.Engine.UI.Controls.Node.msG_TOGGLE_STATE='ToggleState';Kepler.Engine.UI.Controls.Node.msG_UPDATE_PARENT_CONNECTOR='UpdateParentConnector';Kepler.Engine.UI.Controls.Node.apP_MODE=0;Kepler.Engine.UI.Controls.TreeControl.scrollbaR_WIDTH=18;Kepler.Engine.UI.Controls.TreeControl.csS_CLASS_CONNECTOR=' connector';Kepler.Engine.UI.Controls.TreeControl.msG_DETECT_MODE='eONDetectMode';Kepler.Engine.UI.Controls.TreeControl.msG_NONE_SELECTED='NoneSelected';Kepler.Framework.UI.Controls.ExpandCollapseBtn.msG_PERFORM_ENGINE_ACTION_ON_BTN_CLICK='msg_perform_engine_action_on_btn_click';Kepler.Framework.UI.Controls.IconListCtrl.iteM_NAME='IconList_Item';Kepler.Framework.UI.Controls.IconListCtrl.msG_R_BUTTON_DOWN='msg_r_button_down';Kepler.Framework.UI.Controls.Debugger.DebugConsole.$5B=null;Kepler.Framework.UI.Controls.Debugger.DebugConsole.$5C=null;Kepler.Framework.UI.Controls.ListBox.BaseCustomList.roW_ID='CustomListCtrl_Row';Kepler.Engine.UI.Controls.Ruler.RULER_CONSTANTS.positioN_CHECK_TOUCH_DEVICE_THRESHOLD=10;Kepler.Engine.UI.Controls.Ruler.RULER_CONSTANTS.positioN_CHECK_DESKTOP_THRESHOLD=8;Kepler.Engine.UI.Controls.Ruler.RULER_CONSTANTS.taB_STOP_DIALOG='worddb036';Kepler.Engine.UI.Controls.Ruler.RULER_CONSTANTS.paragrapH_DIALOG='worddb017';Kepler.Engine.UI.Controls.Ruler.RulerMode.NONE=0;Kepler.Engine.UI.Controls.Ruler.RulerMode.DEFAULT=1;Kepler.Engine.UI.Controls.Ruler.RulerMode.multI_PARA=2;Kepler.Engine.UI.Controls.Ruler.RulerMode.DISABLED=3;Kepler.Engine.UI.Controls.Ruler.RulerViewLayout.reaD_MORE=0;Kepler.Engine.UI.Controls.Ruler.RulerViewLayout.PRINT=1;Kepler.Engine.UI.Controls.Ruler.RulerViewLayout.WEB=2;Kepler.Engine.UI.Controls.Ruler.RulerViewLayout.OUTLINE=3;Kepler.Engine.UI.Controls.Ruler.RulerViewLayout.DRAFT=4;Kepler.Engine.UI.Controls.Ruler.TOOLTIP.lefT_MARGIN='Left Margin';Kepler.Engine.UI.Controls.Ruler.TOOLTIP.righT_MARGIN='Right Margin';Kepler.Engine.UI.Controls.Ruler.TOOLTIP.baR_TAB='Bar Tab';Kepler.Engine.UI.Controls.Ruler.TOOLTIP.lefT_TAB='Left Tab';Kepler.Engine.UI.Controls.Ruler.TOOLTIP.righT_TAB='Right Tab';Kepler.Engine.UI.Controls.Ruler.TOOLTIP.decimaL_TAB='Decimal Tab';Kepler.Engine.UI.Controls.Ruler.TOOLTIP.centeR_TAB='Center Tab';Kepler.Engine.UI.Controls.Ruler.TOOLTIP.lefT_BAR='Left Bar';Kepler.Engine.UI.Controls.Ruler.TOOLTIP.righT_BAR='Right Bar';Kepler.Engine.UI.Controls.Ruler.TOOLTIP.lefT_INDENT='Left Indent';Kepler.Engine.UI.Controls.Ruler.TOOLTIP.righT_INDENT='Right Indent';Kepler.Engine.UI.Controls.Ruler.TOOLTIP.hanginG_INDENT='Hanging Indent';Kepler.Engine.UI.Controls.Ruler.TOOLTIP.lfeT_HANGING_INDENT='Hanging Indent';Kepler.Engine.UI.Controls.Ruler.TOOLTIP.firsT_LINE_INDENT='First Line Indent';Kepler.Engine.UI.Controls.Ruler.ActionSubtype.deletE_TAB=0;Kepler.Engine.UI.Controls.Ruler.ActionSubtype.changE_POSITION=1;Kepler.Engine.UI.Controls.Ruler.ActionSubtype.doublE_CLICK_FIRST_LINE_INDENT=4;Kepler.Engine.UI.Controls.Ruler.ActionSubtype.doublE_CLICK_HANGING_INDENT=3;Kepler.Engine.UI.Controls.Ruler.ActionSubtype.doublE_CLICK_LEFT_INDENT=17;Kepler.Engine.UI.Controls.Ruler.ActionSubtype.doublE_CLICK_RIGHT_INDENT=6;Kepler.Engine.UI.Controls.Ruler.BaseHRuler.aniT_ALIASING_OFFSET=0.5;Kepler.Engine.UI.Controls.Ruler.BaseHRuler.ruleR_HEIGHT=12;Kepler.Engine.UI.Controls.Ruler.BaseHRuler.baR_STROKE_WIDTH=2;Kepler.Engine.UI.Controls.Ruler.BaseHRuler.baR_HEIGHT=4;Kepler.Engine.UI.Controls.Ruler.BaseHRuler.taB_CHANGER_HEIGHT=23;Kepler.Engine.UI.Controls.Ruler.BaseHRuler.taB_CHANGER_WIDTH=23;Kepler.Engine.UI.Controls.Ruler.BaseHRuler.taB_CHANGER_MARGIN=6;Kepler.Engine.UI.Controls.Ruler.BaseHRuler.firsT_LINE_INDENT_HEIGHT=8;Kepler.Engine.UI.Controls.Ruler.BaseHRuler.hanginG_INDENT_HEIGHT=14;Kepler.Engine.UI.Controls.Ruler.BaseHRuler.righT_INDENT_HEIGHT=8;Kepler.Engine.UI.Controls.Ruler.BaseHRuler.indenT_WIDTH=10;Kepler.Engine.UI.Controls.Ruler.BaseHRuler.hanginG_INDENT_BOTTOM=-8;Kepler.Engine.UI.Controls.Ruler.BaseHRuler.miN_WIDTH=800;Kepler.Engine.UI.Controls.Ruler.BaseHRuler.miN_HEIGHT=20;Kepler.Engine.UI.Controls.Ruler.BaseHRuler.lefT_TAB_CLS='ruler-left-tab';Kepler.Engine.UI.Controls.Ruler.BaseHRuler.centeR_TAB_CLS='ruler-center-tab';Kepler.Engine.UI.Controls.Ruler.BaseHRuler.righT_TAB_CLS='ruler-right-tab';Kepler.Engine.UI.Controls.Ruler.BaseHRuler.decimaL_TAB_CLS='ruler-decimal-tab';Kepler.Engine.UI.Controls.Ruler.BaseHRuler.baR_TAB_CLS='ruler-bar-tab';Kepler.Engine.UI.Controls.Ruler.BaseHRuler.firstlinE_TAB_CLS='ruler-firstline-indent-tab';Kepler.Engine.UI.Controls.Ruler.BaseHRuler.hanginG_TAB_CLS='ruler-hanging-indent-tab';Kepler.Engine.UI.Controls.Ruler.BaseHRuler.csS_CLASS_VISUAL_HINT_OUTLINE='class_visual_hint_outline';Kepler.Engine.UI.Controls.Ruler.BaseHRuler.clicK_STREAM_HEADER='On the Ruler : ';Kepler.Engine.UI.Controls.Ruler.BaseHRuler.hiddeN_TAB_CONST=-100;Kepler.Engine.UI.Controls.Ruler.BaseRuler.msG_VERIFY_USER_SEL='msg_verify_user_sel';Kepler.Engine.UI.Controls.Ruler.BaseRuler.letteR_FONT_SIZE=10;Kepler.Engine.UI.Controls.Ruler.BaseRuler.horZ_RULER_OVERRIDE_DATA='horz_ruler_override_data';Kepler.Engine.UI.Controls.Ruler.BaseRuler.verT_RULER_OVERRIDE_DATA='vert_ruler_override_data';Kepler.Engine.UI.Controls.Ruler.BaseRuler.horZ_RULER_LAYOUT='horz_ruler_layout';Kepler.Engine.UI.Controls.Ruler.BaseRuler.horZ_RULER_OVERRIDE_COLUMN_DATA='horz_ruler_override_column_data';Kepler.Engine.UI.Controls.Ruler.BaseRuler.verT_RULER_OVERRIDE_COLUMN_DATA='vert_ruler_override_column_data';Kepler.Engine.UI.Controls.Ruler.BaseRuler.hruleR_HINT='horz_ruler_hint';Kepler.Engine.UI.Controls.Ruler.BaseRuler.vruleR_HINT='vert_ruler_hint';Kepler.Engine.UI.Controls.Ruler.BaseRuler.horZ_RULER_ACTION_DATA='horz_ruler_action_data';Kepler.Engine.UI.Controls.Ruler.BaseRuler.verT_RULER_ACTION_DATA='vert_ruler_action_data';Kepler.Engine.UI.Controls.Ruler.BaseRuler.hruleR_DEFAULT_TAB__CREATION_DATA='hruler_default_tab_creation_data';Kepler.Engine.UI.Controls.Ruler.BaseRuler.ruleR_OVERRIDE_COLUMN_DATA='horz_ruler_override_column_data';Kepler.Engine.UI.Controls.Ruler.BaseRuler.ruleR_TABSTYLE_OVERRIDE='horz_ruler_tab_style_data';Kepler.Engine.UI.Controls.Ruler.BaseRuler.ruleR_MODE_PARA_SEL='ruler_mode_para_sel';Kepler.Engine.UI.Controls.Ruler.BaseRuler.mousE_HOVER_THRESHOLD=4;Kepler.Engine.UI.Controls.Ruler.BaseRuler._strUnitSrokeColor='#464646';Kepler.Engine.UI.Controls.Ruler.BaseRuler._strTabStrokeColor='black';Kepler.Engine.UI.Controls.Ruler.BaseRuler._strTabMarginFillColor='#DADADA';Kepler.Engine.UI.Controls.Ruler.BaseRuler._strSplitColumnColor='#E6E6E6';Kepler.Engine.UI.Controls.Ruler.BaseRuler._strSpacerFillColor='white';Kepler.Engine.UI.Controls.Ruler.BaseRuler._strBorderStrokeColor='#E2E2E2';Kepler.Engine.UI.Controls.Ruler.BaseRuler._strUnitParaModeSrokeColor='#C7C7C7';Kepler.Engine.UI.Controls.Ruler.BaseRuler.texT_DRAW_THRESHOLD=3;Kepler.Engine.UI.Controls.Ruler.BaseRuler.ruleR_DOUBLE_CLICK_TIMER=155;Kepler.Engine.UI.Controls.Ruler.BaseRuler.hoR_COLUMN_WIDTH=17;Kepler.Engine.UI.Controls.Ruler.BaseRuler.hoR_COLUMN_HEIGHT=10;Kepler.Engine.UI.Controls.Ruler.BaseRuler.hoR_COLUMN_TOP=0;Kepler.Engine.UI.Controls.Ruler.BaseRuler.veR_COLUMN_WIDTH=10;Kepler.Engine.UI.Controls.Ruler.BaseRuler.veR_COLUMN_HEIGHT=7;Kepler.Engine.UI.Controls.Ruler.BaseRuler.taB_CHANGER_TOP=6;Kepler.Engine.UI.Controls.Ruler.BaseVRuler.aniT_ALIASING_OFFSET=0.5;Kepler.Engine.UI.Controls.Ruler.BaseVRuler.vruleR_WIDTH=12;Kepler.Engine.UI.Controls.Ruler.BaseVRuler.deF_PAGE_HEIGHT=1000;Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.CharProperties.$16=null;Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.CharProperties.$17=null;Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.CharProperties.$18=null;Kepler.Engine.UI.Controls.TextControl.MultiLineTextControl.ParagraphProperties.bulleT_INDENT=30;Kepler.Engine.UI.Controls.Tooltip.Tooltip.csS_CLASSNAME=' tooltip ';Kepler.Engine.UI.Controls.Tooltip.Tooltip.csS_IMAGE_PATH_ARR='class_ImgPath_Arrow ';Kepler.Engine.UI.Controls.Tooltip.Tooltip.csS_TOOLTIP_VISUAL_HINT='tooltip_visual_hint ';Kepler.Engine.UI.Controls.Tooltip.Tooltip.$57=11-4;Kepler.Engine.UI.Controls.Tooltip.TooltipManager.csS_CLASS_POINTER_EVENT=' tool_tip_pointer_event';Kepler.Engine.UI.Controls.Tooltip.TooltipManager.$42=null;Kepler.Framework.UI.CustomSelection.Comments.Comment.styleS_COMMENT='';Kepler.Framework.UI.CustomSelection.Comments.Comment.attR_COMMENT_NAME='comment';Kepler.Framework.UI.CustomSelection.Comments.CommentGroup.styleS_COMMENT_GROUP="[name='commentgroup'][hoverstate='hoverin'],[name='commentgroup'][focusstate='focusin']"+'{border-top:solid 1px #B5082E; border-left:solid 1px #B5082E; border-bottom:solid 1px #B5082E; border-right:none; background:#F9F9F9;}\n'+"[name='commentgroup'][hoverstate='hoverout'][focusstate='focusout']"+'{border-top:solid 1px transparent; border-left:solid 1px transparent; border-bottom:solid 1px transparent; border-right:none;background:transparent;}\n'+"[commentelement][visibleonhover][hoverstate='hoverin']{visibility:visible;}\n"+"[commentelement][visibleonhover][hoverstate='hoverout']{visibility:hidden;}\n"+"[commentelement][hiddenonhover][hoverstate='hoverin']{visibility:hidden;}\n"+"[commentelement][hiddenonhover][hoverstate='hoverout']{visibility:visible;}\n"+"[commentelement][visibleonfocus][focusstate='focusin']{visibility:visible;}\n"+"[commentelement][visibleonfocus][focusstate='focusout']{visibility:hidden;}\n"+"[commentelement][hiddenonfocus][focusstate='focusin']{visibility:hidden;}\n"+"[commentelement][hiddenonfocus][focusstate='focusout']{visibility:visible;}\n"+"[commentelement][visibleonhover][visibleonfocus][hoverstate='hoverin']"+",[commentelement][visibleonhover][visibleonfocus][focusstate='focusin']{visibility:visible;}\n"+"[commentelement][visibleonhover visibleonfocus][hoverstate='hoverout'][focusstate='focusout']{visibility:hidden;}\n"+"[commentelement][hiddenonhover][hiddenonfocus][hoverstate='hoverin']"+",[commentelement][hiddenonhover][hiddenonfocus][focusstate='focusin']{visibility:hidden;}\n";Kepler.Framework.UI.CustomSelection.Comments.CommentGroup.attR_COMMENTGROUP_NAME='commentgroup';Kepler.Framework.UI.CustomSelection.Comments.CommentGroup.attR_COMMENTGROUP_INDEX='commentindex';Kepler.Framework.UI.CustomSelection.Comments.CommentGroup.attR_COMMENTGROUP_ANCHOR_NAME='commentgroupanchor';Kepler.Framework.UI.CustomSelection.Comments.CommentGroup.interactioN_TYPE='interaction';Kepler.Framework.UI.CustomSelection.Comments.CommentGroup.interactioN_TYPE_HOVERIN='hoverin';Kepler.Framework.UI.CustomSelection.Comments.CommentGroup.interactioN_TYPE_HOVEROUT='hoverout';Kepler.Framework.UI.CustomSelection.Comments.CommentGroup.interactioN_TYPE_FOCUSIN='focusin';Kepler.Framework.UI.CustomSelection.Comments.CommentGroup.interactioN_TYPE_FOCUSOUT='focusout';Kepler.Framework.UI.CustomSelection.Comments.CommentGroup._bCommentReviewMode=false;Kepler.Framework.UI.CustomSelection.SelectionHandler.seL_HNDLR_TYPING_ELM_ID='typing';Kepler.Framework.UI.CustomSelection.SelectionHandler.seL_HNDLR_KEYCMD_ELM_ID='keycommand';Kepler.Framework.UI.CustomSelection.SelectionHandler.seL_CURSOR_CLASS='selection_cursor';Kepler.Framework.UI.CustomSelection.SelectionHandler.$24='.outline_parent{position:absolute;height:8px;width:15px;background-image:url(data:image/jpg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/2wBDAAMCAgMCAgMDAwMEAwMEBQgFBQQEBQoHBwYIDAoMDAsKCwsNDhIQDQ4RDgsLEBYQERMUFRUVDA8XGBYUGBIUFRT/2wBDAQMEBAUEBQkFBQkUDQsNFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBT/wAARCAAOAA4DASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD3L9oD9oDRPDfhafUtSntNX8cajbQ6lpGh6tazzWkVrJPtUBVwissayEksGLLnptFd34V/aI8P6H4fbxD4S1G48SeE5LptOezkSdfs10FWTMXmqHCbG5UArkrjBzk/aI8K6Vofg7UfCXiFryXwnrc6vavpTqt3bYnWXyj5ilSocABuTtOMZAJ9R8GeDF8cRxa/r8VvNYSQlLHTUZmCAsN0kjYGXO0AADCjPJ3cAH//2Q==) !important;background-repeat:no-repeat;z-index:2;outline:none;}\n'+".outline_child{position:absolute;height:8px;width:8px;background-image:url(data:image/jpg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/2wBDAAMCAgMCAgMDAwMEAwMEBQgFBQQEBQoHBwYIDAoMDAsKCwsNDhIQDQ4RDgsLEBYQERMUFRUVDA8XGBYUGBIUFRT/2wBDAQMEBAUEBQkFBQkUDQsNFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBT/wAARCAAIAAgDASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD62hhj8oQw+Yfij5m1nQsLz7Vu5d+/2fOW5/d+XwOKKKKAP//Z) !important;background-repeat:no-repeat;z-index:2;outline:none;cursor:url('common/res/move.cur'), auto;}\n";Kepler.Framework.UI.CustomSelection.SelectionHandler.csS_DISPLAY_NONE_CLASS=' display_none';Kepler.Framework.UI.CustomSelection.CustomRange.$0='character';Kepler.Framework.UI.CustomSelection.SELECTION_CONSTANTS.parenT_SPAN_TAG='span';Kepler.Framework.UI.CustomSelection.SELECTION_CONSTANTS.deF_HOVERABLE_CURSOR_STYLE='[hoverable]{cursor:text;}\n';Kepler.Framework.UI.CustomSelection.SELECTION_CONSTANTS.ctrL_MODIFIED_HOVERABLE_CURSOR_STYLE='[hoverable]{cursor:pointer;}\n';Kepler.Framework.UI.CustomSelection.SELECTION_CONSTANTS.attR_CONTEXT_MENU_TYPE='context-menu-type';Kepler.Framework.UI.CustomSelection.SELECTION_CONSTANTS.contexT_MENU_NORMAL='context-menu-normal';Kepler.Framework.UI.CustomSelection.SELECTION_CONSTANTS.contexT_MENU_FULL_TABLE='context-menu-full-table';Kepler.Framework.UI.CustomSelection.SELECTION_CONSTANTS.contexT_MENU_PARTIAL_TABLE='context-menu-partial-table';Kepler.Framework.UI.CustomSelection.SELECTION_CONSTANTS.contexT_MENU_TABLE_CELL='context-menu-table-cell';Kepler.Framework.UI.CustomSelection.SELECTION_CONSTANTS.chaR_CODE_PARA_MARK=182;Kepler.Framework.UI.CustomSelection.SELECTION_CONSTANTS.chaR_CODE_NBSP=160;Kepler.Framework.UI.CustomSelection.CharProperties.$14=null;Kepler.Framework.UI.CustomSelection.Sel.$0=null;Kepler.Framework.UI.CustomSelection.SelectionHandlerMessages.msG_SELHAND_GET_SELUPDATE_HANDLE='msg_selhand_get_selupdate_handle';Kepler.Framework.UI.CustomSelection.SelectionHandlerMessages.msG_SELHAND_PROCESS_PRESELECTION='msg_selhand_process_preselection';Kepler.Framework.UI.CustomSelection.SelectionHandlerMessages.msG_SELHAND_RESET_LAST_SEL_VISIBILITY='msg_selhand_reset_last_sel_visibility';Kepler.Framework.UI.CustomSelection.ActionAttributes.attR_FRAME_JUMP_INFO='frame_jump_info';Kepler.Framework.UI.CustomSelection.ActionAttributes.attR_ACTION_STRING='action_string';Kepler.Framework.UI.CustomSelection.ActionAttributes.attR_ACTION_TYPE='action_type';Kepler.Framework.UI.CustomSelection.ActionAttributes.attR_ACTION_CHECK_PARA='action_check_parameter';Kepler.Framework.UI.CustomSelection.HtmlEditCtrl.BaseHtmlEditCtrl.emsG_DHTML_SELECTIONCHG_EVT='msg_selectionchange';Kepler.Framework.UI.CustomSelection.HtmlEditCtrl.BaseHtmlEditCtrl.emsG_DHTML_KEYDOWN_EVT='msg_keydown';Kepler.Framework.UI.CustomSelection.HtmlEditCtrl.BaseHtmlEditCtrl.emsG_DHTML_RCLICK_EVT='msg_rclick';Kepler.Framework.UI.CustomSelection.HtmlEditCtrl.BaseHtmlEditCtrl.emsG_DHTML_DRAGSTART_EVT='msg_dragstart';Kepler.Framework.UI.CustomSelection.HtmlEditCtrl.BaseHtmlEditCtrl.emsG_DHTML_SCROLL_EVT='msg_scroll';Kepler.Framework.UI.CustomSelection.HtmlEditCtrl.BaseHtmlEditCtrl.emsG_DHTML_CLICK_EVT='msg_click';Kepler.Framework.UI.CustomSelection.HtmlEditCtrl.BaseHtmlEditCtrl.emsG_DHTML_MOUSEDOWN_EVT='msg_mousedown';Kepler.Framework.UI.CustomSelection.HtmlEditCtrl.BaseHtmlEditCtrl.emsG_DHTML_SELSTART_EVT='msg_selstart';Kepler.Framework.UI.CustomSelection.HtmlEditCtrl.BaseHtmlEditCtrl.emsG_DHTML_MOUSEUP_EVT='msg_mouseup';Kepler.Framework.UI.CustomSelection.HtmlEditCtrl.BaseHtmlEditCtrl.emsG_DHTML_MOUSEMOVE_EVT='msg_mousemove';Kepler.Framework.UI.CustomSelection.HtmlEditCtrl.BaseHtmlEditCtrl.emsG_DHTML_CONTROLSELECT_EVT='msg_controlselect';Kepler.Framework.UI.CustomSelection.HtmlEditCtrl.BaseHtmlEditCtrl.emsG_DHTML_SELECTSTART_EVT='msg_selectstart';Kepler.Framework.UI.CustomSelection.HtmlEditCtrl.BaseHtmlEditCtrl.emsG_DHTML_LOAD_EVT='msg_load';Kepler.Framework.UI.CustomSelection.HtmlEditCtrl.BaseHtmlEditCtrl.emsG_DHTML_DROP_EVT='msg_drop';Kepler.Framework.UI.CustomSelection.HtmlEditCtrl.BaseHtmlEditCtrl.emsG_DHTML_DRAG_EVT='msg_drag';Kepler.Framework.UI.CustomSelection.HtmlEditCtrl.BaseHtmlEditCtrl.autoscrolL_VERTSCROLLSTEP=24;Kepler.Framework.UI.CustomSelection.HtmlEditCtrl.BaseHtmlEditCtrl.msG_ACTIVE_FOCUSABLE_ELEMENT_CHANGE='msg_active_focusable_element_change';Kepler.Framework.UI.CustomSelection.Selectables.Column.vieW_ATTR_COLUMN_NAME='column';Kepler.Framework.UI.CustomSelection.Selectables.Column.vieW_ATTR_COLUMN_INDEX='columnindex';Kepler.Framework.UI.CustomSelection.Selectables.Doc.vieW_ATTR_DOC_INDEX='docindex';Kepler.Framework.UI.CustomSelection.Selectables.Doc.vieW_ATTR_DOC_NAME='document';Kepler.Framework.UI.CustomSelection.Selectables.Framework$D.$4D='containssection';Kepler.Framework.UI.CustomSelection.Selectables.Framework$D.$4E=70;Kepler.Framework.UI.CustomSelection.Selectables.Framework$E.$4D='header_footer_section_doc';Kepler.Framework.UI.CustomSelection.Selectables.MainDoc.seL_HNDLR_KEYCMD_ELM_ID='keycommand';Kepler.Framework.UI.CustomSelection.Selectables.MainDoc.seL_HNDLR_TYPING_ELM_ID='typing';Kepler.Framework.UI.CustomSelection.Selectables.MainDoc.seL_HNDLR_HIGHLIGHT_ACTION_ELM_ID='highlight_action';Kepler.Framework.UI.CustomSelection.Selectables.MainDoc.attR_HIT_PRIORITY='hitpriority';Kepler.Framework.UI.CustomSelection.Selectables.MainDoc.attR_BASE_MAINDOC='basemaindoc';Kepler.Framework.UI.CustomSelection.Selectables.MainDoc.attR_PAGE_HEIGHT='page_height';Kepler.Framework.UI.CustomSelection.Selectables.MainDoc.attR_PAGE_WIDTH='page_width';Kepler.Framework.UI.CustomSelection.Selectables.MainDoc.attR_BLOCK_EDITING='block_editing';Kepler.Framework.UI.CustomSelection.Selectables.MainDoc.clS_PAGE_PADDING_TOP='cls_page_padding_top';Kepler.Framework.UI.CustomSelection.Selectables.MainDoc.clS_PAGE_PADDING_BOTTOM='cls_page_padding_bottom';Kepler.Framework.UI.CustomSelection.Selectables.MainDoc.highlighT_ELM_ID='highlight';Kepler.Framework.UI.CustomSelection.Selectables.MainDoc.highlighT_FADE_ELM_ID='highlight_fade';Kepler.Framework.UI.CustomSelection.Selectables.MainDoc.nohighlighteD_GREY_COLOR='#717171';Kepler.Framework.UI.CustomSelection.Selectables.MainDoc.defaulT_COLOR='#000000';Kepler.Framework.UI.CustomSelection.Selectables.OutlinePara.attR_VALUE_OUTLINEPARA='outlinepara';Kepler.Framework.UI.CustomSelection.Selectables.OutlinePara.attR_SECTION_ROOT='sectionroot';Kepler.Framework.UI.CustomSelection.Selectables.OutlinePara.attR_VALUE_SECTION_ROOT='1';Kepler.Framework.UI.CustomSelection.Selectables.OutlinePara.attR_IS_COLLAPSIBLE='is_collapsible';Kepler.Framework.UI.CustomSelection.Selectables.OutlinePara.attR_VALUE_IS_COLLAPSIBLE=1;Kepler.Framework.UI.CustomSelection.Selectables.Para.vieW_ATTR_PARA_NAME='para';Kepler.Framework.UI.CustomSelection.Selectables.Para.vieW_ATTR_PARA_INDEX='paraindex';Kepler.Framework.UI.CustomSelection.Selectables.Para.vieW_ATTR_PARA_HALIGN='halignment';Kepler.Framework.UI.CustomSelection.Selectables.Para.vieW_ATTR_PARA_PROPCLASS='propclass';Kepler.Framework.UI.CustomSelection.Selectables.Para.vieW_ATTR_SPLIT_INDEX='splitindex';Kepler.Framework.UI.CustomSelection.Selectables.Para.attR_PARA_TYPE='paratype';Kepler.Framework.UI.CustomSelection.Selectables.Para.clS_PARA_PADDING_TOP='cls_para_padding_top';Kepler.Framework.UI.CustomSelection.Selectables._TablePara.$34='table-para';Kepler.Framework.UI.CustomSelection.Selectables.Row.vieW_ATTR_ROW_NAME='row';Kepler.Framework.UI.CustomSelection.Selectables.Row.vieW_ATTR_RINDEX='rindex';Kepler.Framework.UI.CustomSelection.Selectables.Row.vieW_ATTR_ROWINDEX='rowindex';Kepler.Framework.UI.CustomSelection.Selectables.Row.vieW_ATTR_ROWSELINDEX='rowselindex';Kepler.Framework.UI.CustomSelection.Selectables.TableRow.vieW_ATTR_ROW_NAME='table-row';Kepler.Framework.UI.CustomSelection.Selectables.Page.vieW_ATTR_PAGE_NAME='page';Kepler.Framework.UI.CustomSelection.Selectables.Page.vieW_ATTR_PAGE_INDEX='pageindex';Kepler.Framework.UI.CustomSelection.Selectables.RowSection.vieW_ATTR_ROW_SECT_NAME='rowsection';Kepler.Framework.UI.CustomSelection.Selectables.RowSection.vieW_ATTR_ROW_SECT_INDEX='rowindex';Kepler.Framework.UI.CustomSelection.Selectables.Framework$6.$9='box-section';Kepler.Framework.UI.CustomSelection.Selectables.Framework$6.$A='border';Kepler.Framework.UI.CustomSelection.Selectables.Framework$6.$B='1';Kepler.Framework.UI.CustomSelection.Selectables.Framework$7.$9='parent-collapsible-section-id';Kepler.Framework.UI.CustomSelection.Selectables.Framework$7.$A='self-collapsible-section-id';Kepler.Framework.UI.CustomSelection.Selectables.Framework$7.$B='expanded';Kepler.Framework.UI.CustomSelection.Selectables.Framework$7.$C='level';Kepler.Framework.UI.CustomSelection.Selectables.HeaderFooterSection.attR_HEADER_FOOTER_SECTION_NAME='header_footer_section';Kepler.Framework.UI.CustomSelection.Selectables.HeaderFooterSection.attR_HEADER_TYPE='header';Kepler.Framework.UI.CustomSelection.Selectables.HeaderFooterSection.attR_FOOTER_TYPE='footer';Kepler.Framework.UI.CustomSelection.Selectables.HeaderFooterSection.stylE_HEADER_FOOTER_SECTION='span[name="header_footer_section"]{display:table-row}';Kepler.Framework.UI.CustomSelection.Selectables.SelectableArea.isRevealFormatting=false;Kepler.Framework.UI.CustomSelection.Selectables.SelElement.$25=null;(function(){Kepler.Framework.UI.CustomSelection.Selectables.SelElement.$25=new Kepler.Framework.UI.CustomSelection.CharPropertyCache(new Kepler.Framework.UI.CustomSelection.CharProperties());})();
Kepler.Framework.UI.CustomSelection.Selectables.ClearOnClickTextElement.attR_CLEAR_ON_CLICK='clear_on_click';Kepler.Framework.UI.CustomSelection.Selectables.ClearOnClickTextElement.attR_DEFAULT_TEXT='default_text';Kepler.Framework.UI.CustomSelection.Selectables.ClearOnClickTextElement.attR_CLICKED_FONT_SIZE='clicked_font_size';Kepler.Framework.UI.CustomSelection.Selectables.ClearOnClickTextElement.attR_EDITED_ONCE_REQUIRED='edited_once_required';Kepler.Framework.UI.CustomSelection.Selectables.HoverableText.attR_HOVERABLE='hoverable';Kepler.Framework.UI.CustomSelection.Selectables.HoverableText.attR_HOVERABLE_TYPE='hoverabletype';Kepler.Framework.UI.CustomSelection.Selectables.HoverableText.attR_ACTABLE='actable';Kepler.Framework.UI.CustomSelection.Selectables.Framework$F.$4E='hoverabletooltip';Kepler.Framework.UI.CustomSelection.Selectables.Framework$C.$3E='view_update_provider';Kepler.Framework.UI.Colors.WHITE=new Kepler.Framework.UI.Color(255,255,255,1);Kepler.Framework.UI.Colors.BLACK=new Kepler.Framework.UI.Color(0,0,0,1);Kepler.Framework.UI.Colors.RED=new Kepler.Framework.UI.Color(255,0,0,1);Kepler.Framework.UI.Colors.GREEN=new Kepler.Framework.UI.Color(0,255,0,1);Kepler.Framework.UI.Colors.BLUE=new Kepler.Framework.UI.Color(0,0,255,1);Kepler.Framework.UI.Colors.YELLOW=new Kepler.Framework.UI.Color(255,255,0,1);Kepler.Framework.UI.Colors.ORANGE=new Kepler.Framework.UI.Color(255,165,0,1);Kepler.Framework.UI.Colors.PINK=new Kepler.Framework.UI.Color(255,192,203,1);Kepler.Framework.UI.Colors.PURPLE=new Kepler.Framework.UI.Color(128,0,128,1);Kepler.Framework.UI.Colors.MAGENTA=new Kepler.Framework.UI.Color(255,0,255,1);Kepler.Framework.UI.Colors.CYAN=new Kepler.Framework.UI.Color(0,255,255,1);Kepler.Framework.UI.Cursors.NONE='none';Kepler.Framework.UI.Cursors.DEFAULT='default';Kepler.Framework.UI.Cursors.AUTO='auto';Kepler.Framework.UI.Cursors.POINTER='pointer';Kepler.Framework.UI.Cursors.TEXT='text';Kepler.Framework.UI.Cursors.COLRESIZE='col-resize';Kepler.Framework.UI.Cursors.ROWRESIZE='row-resize';Kepler.Framework.UI.Cursors.INHERIT='inherit';Kepler.Framework.UI.MetroUiButtonCssClass.csS_CLASS_NORMAL_BUTTON='normal_metro_ui_button';Kepler.Framework.UI.MetroUiButtonCssClass.csS_CLASS_BUTTON_IN_IMG_TEXT_CONTAINER='btn_in_imgtext_container';Kepler.Framework.UI.ThemeDetails.$0=null;(function(){Kepler.Framework.UI.ThemeDetails.$0=new Kepler.Framework.UI.ThemeDetails();Kepler.Framework.UI.ThemeDetails.$0.set_colorNormal('#217346');Kepler.Framework.UI.ThemeDetails.$0.set_colorNormalLight('#439467');Kepler.Framework.UI.ThemeDetails.$0.set_colorNormalDark('#0A6332');Kepler.Framework.UI.ThemeDetails.$0.set_colorHover('#D3F0E0');Kepler.Framework.UI.ThemeDetails.$0.set_colorPressed('#86BFA0');Kepler.Framework.UI.ThemeDetails.$0.set_colorChecked('#9FD5B7');Kepler.Framework.UI.ThemeDetails.$0.set_colorCheckedHover('#D4F0E1');Kepler.Framework.UI.ThemeDetails.$0.set_colorCheckedBG('#E9F5EE');Kepler.Framework.UI.ThemeDetails.$0.set_colorBar('#FFFFFF');Kepler.Framework.UI.ThemeDetails.$0.set_appName('');Kepler.Framework.UI.ThemeDetails.$0.set_themeType(0);})();
Kepler.Engine.UI.DialogBase.msG_DIALOG_CLOSE='DialogClosed';Kepler.Engine.UI.DialogBase.msG_LAUNCH_SYSMENU='msg_launch_sys_menu';Kepler.Engine.UI.DialogBase.msG_DIALOG_POS_OVERRIDE_RECIVED='msg_dialog_pos_override_received';Kepler.Engine.UI.DialogBase.msG_LAUNCH_FUNCTION_ARGUMENT='msg_launch_function_argument';Kepler.Engine.UI.DialogBase.msG_SHOW_HIDE_INSERT_FUNCTION='msg_show_hide_inshert_function';Kepler.Engine.UI.DialogBaseFrame.msG_RESET_FRAME_BTN_STATE='msg_reset_frame_btn_state';Kepler.Framework.UI.Events.Capture.CaptureProvider.$0=null;Kepler.Framework.UI.Events.Capture.CaptureProvider.$1=null;(function(){Kepler.Framework.UI.Events.Capture.CaptureProvider.$0=null;Kepler.Framework.UI.Events.Capture.CaptureProvider.$1=new Kepler.Framework.UI.Events.Capture.CaptureProvider();})();
Framework.UI.Events.EventDispatcher.evenT_GENERATOR_FIELD_NAME='EventGenerator';Framework.UI.Events.EventDispatcher.wheeL_ANGLE_TO_LINE_RATIO=40;Framework.UI.Events.EventDispatcher.wheeL_LINE_STEP=3;Framework.UI.Events.EventDispatcher.mousE_UP_EVENT_RECOVERY_INTERVAL=2000;Framework.UI.Events.EventDispatcher.toucH_PREVENT_DEFAULT_RESET_INTERVAL=890;Framework.UI.Events.EventDispatcher.clipboarD_WRAPPER='clipboardWrapper';Framework.UI.Events.EventDispatcher.$0=null;Framework.UI.Events.EventDispatcher.$1=false;Framework.UI.Events.EventDispatcher.$2=false;Framework.UI.Events.EventDispatcher.$3=false;Framework.UI.Events.EventDispatcher.$4=null;Framework.UI.Events.EventDispatcher.$5=null;Framework.UI.Events.EventDispatcher.$6=false;Framework.UI.Events.EventDispatcher.$7=false;Framework.UI.Events.EventDispatcher.$8=false;Framework.UI.Events.EventDispatcher.$9=null;Framework.UI.Events.EventDispatcher.$A=false;Framework.UI.Events.EventDispatcher.$B=null;(function(){Framework.UI.Events.EventDispatcher.$0={};if(Kepler.Framework.Core.Browser.BrowserCapabilities.get_isIFrameScope()&&(Kepler.Framework.Core.Browser.BrowserCapabilities.get_name()===3||!Kepler.Framework.Core.Browser.BrowserCapabilities.get_name())){Framework.UI.Events.EventDispatcher.$9=new Kepler.Framework.Core.Timers.Timer(Framework.UI.Events.EventDispatcher.$1E,2000);}if(Kepler.Framework.Core.Browser.BrowserCapabilities.isJellyBean()&&Kepler.Framework.Core.Browser.BrowserCapabilities.isWebView()){Framework.UI.Events.EventDispatcher.$B=new Kepler.Framework.Core.Timers.Timer(Framework.UI.Events.EventDispatcher.$1A,890);}Framework.UI.Events.EventDispatcher.$C();})();
Kepler.Framework.UI.Events.Hooks.TouchHook.$5=null;(function(){if(Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){Kepler.Framework.UI.Events.Hooks.TouchHook.$5=new Kepler.Framework.UI.Events.Hooks.TouchHook();}})();
Kepler.Framework.UI.Events.Hooks.KeyboardHook.$5=null;(function(){Kepler.Framework.UI.Events.Hooks.KeyboardHook.$5=new Kepler.Framework.UI.Events.Hooks.KeyboardHook();})();
Kepler.Framework.UI.Events.Hooks.MouseHook.$5=null;(function(){if(!Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){Kepler.Framework.UI.Events.Hooks.MouseHook.$5=new Kepler.Framework.UI.Events.Hooks.MouseHook();}})();
Kepler.Framework.Core.Factory.SvgFactory.$0=null;(function(){Kepler.Framework.Core.Factory.SvgFactory.$0=new Kepler.Framework.Core.Factory.SvgFactory();})();
Kepler.Engine.UI.Helper.LaunchParams.docRect=null;Kepler.Engine.UI.Helper.LaunchParams.desktopDocMargin=new Kepler.Framework.UI.Rect(0,0,0,0);Kepler.Engine.UI.Helper.HtmlCssHelper.documenT_POSITION_DISCONNECTED=1;Kepler.Engine.UI.Helper.HtmlCssHelper.documenT_POSITION_PRECEDING=2;Kepler.Engine.UI.Helper.HtmlCssHelper.documenT_POSITION_FOLLOWING=4;Kepler.Engine.UI.Helper.HtmlCssHelper.documenT_POSITION_CONTAINS=8;Kepler.Engine.UI.Helper.HtmlCssHelper.documenT_POSITION_CONTAINED_BY=16;Kepler.Engine.UI.Helper.HtmlCssHelper.documenT_POSITION_IMPLEMENTATION_SPECIFIC=32;Kepler.Engine.UI.Helper.HtmlCssHelper.$2=null;Kepler.Framework.UI.Helper.FontMetrics.$9=null;Kepler.Framework.UI.Metro_Ui_Controls.WindowsMessages.msG_PERFORM_ENGINE_ACTION='msg_desktop_perform_engine_action';Kepler.Framework.UI.Metro_Ui_Controls.WindowsMessages.msG_GET_START_SCREEN_ACTION='msg_get_start_screen_action';Kepler.Framework.UI.Metro_Ui_Controls.WindowsMessages.msG_GET_DESKTOP_WALL='msg_get_desktop_wall';Kepler.Framework.UI.Metro_Ui_Controls.WindowsMessages.stR_MSG_ITEM_COMMAND='str_msg_item_command';Kepler.Framework.UI.Metro_Ui_Controls.WindowsMessages.msG_START_SCREEN_ACTION='start_screen_action';Kepler.Framework.UI.Metro_Ui_Controls.WindowsMessages.msG_PANE_LAUNCHED='msg_pane_launched';Kepler.Framework.UI.Metro_Ui_Controls.WindowsMessages.msG_PANE_CEASED='msg_pane_ceased';Kepler.Framework.UI.Metro_Ui_Controls.WindowsMessages.stR_MSG_PANE_LOST_FOCUS='msg_pane_lost_focus';Kepler.Framework.UI.Metro_Ui_Controls.WindowsMessages.stR_MSG_LAUNCH_SEARCH_FOR_KEYS='str_msg_launch_search_for_keys';Kepler.Framework.UI.Metro_Ui_Controls.MetroTheme.cls_bg_color_bg=' cls_bg_color_bg';Kepler.Framework.UI.Metro_Ui_Controls.MetroTheme.cls_font_color_bg=' cls_font_color_bg';Kepler.Framework.UI.Metro_Ui_Controls.MetroTheme.cls_border_right_color_bg=' cls_border_right_color_bg';Kepler.Framework.UI.Metro_Ui_Controls.MetroTheme.cls_border_left_color_bg=' cls_border_left_color_bg';Kepler.Framework.UI.Metro_Ui_Controls.MetroTheme.cls_border_top_color_bg=' cls_border_top_color_bg';Kepler.Framework.UI.Metro_Ui_Controls.MetroTheme.cls_border_bottom_color_bg=' cls_border_bottom_color_bg';Kepler.Framework.UI.Metro_Ui_Controls.MetroTheme.cls_bg_color_accent=' cls_bg_color_accent';Kepler.Framework.UI.Metro_Ui_Controls.MetroTheme.cls_font_color_accent=' cls_font_color_accent';Kepler.Framework.UI.Metro_Ui_Controls.MetroTheme.cls_border_right_color_accent=' cls_border_right_color_accent';Kepler.Framework.UI.Metro_Ui_Controls.MetroTheme.cls_border_left_color_accent=' cls_border_left_color_accent';Kepler.Framework.UI.Metro_Ui_Controls.MetroTheme.cls_border_top_color_accent=' cls_border_top_color_accent';Kepler.Framework.UI.Metro_Ui_Controls.MetroTheme.cls_border_bottom_color_accent=' cls_border_bottom_color_accent';Kepler.Framework.UI.Metro_Ui_Controls.MetroTheme.$0=null;Kepler.Framework.UI.Metro_Ui_Controls.MetroTheme.$1=null;Kepler.Framework.UI.Metro_Ui_Controls.MetroTheme.$2=null;Kepler.Framework.UI.Metro_Ui_Controls.MetroTheme.$3=null;(function(){Kepler.Framework.UI.Metro_Ui_Controls.MetroTheme.$0=document.createElement('style');Kepler.Framework.UI.Metro_Ui_Controls.MetroTheme.$1=new Kepler.Framework.UI.Color(24,0,83);Kepler.Framework.UI.Metro_Ui_Controls.MetroTheme.$2=new Kepler.Framework.UI.Color(70,23,181);Kepler.Framework.UI.Metro_Ui_Controls.MetroTheme.$6();Kepler.Framework.UI.Metro_Ui_Controls.MetroTheme.$5();Kepler.Framework.UI.Metro_Ui_Controls.MetroTheme.$4();})();
Kepler.Framework.UI.Metro_Ui_Controls.ScrollContainer.stR_CSS_VSCROLLBAR_PREFIX='win8_desktop_scrollbar';Kepler.Framework.UI.Metro_Ui_Controls.MetroUiColorSelector.ColorSelectorList.msG_COLOR_LIST_THUMB_UPDATE='color_list_thumb_update';Kepler.Framework.UI.Metro_Ui_Controls.MetroUiColorSelector.ColorSelectorGrid.msG_COLOR_GRID_CELL_CLICK='color_grid_cell_click';Kepler.Framework.UI.Metro_Ui_Controls.MetroUiListBox.MetroUiListCtrl.csS_CLASS_METRO_UI_LIST_CTRL=' metro_ui_list_ctrl';Kepler.Framework.UI.Metro_Ui_Controls.MetroUiListBox.MetroUiListCtrl.csS_CLASS_METRO_UI_LIST_CTRL_TEXT=' metro_ui_list_ctrl_text';Kepler.Framework.UI.Metro_Ui_Controls.MetroUiListBox.MetroUiListCtrl.csS_CLASS_METRO_UI_LIST_CTRL_ROW=' metro_ui_list_ctrl_row';Kepler.Framework.UI.Metro_Ui_Controls.MetroUiListBox.MetroUiListCtrl.verticaL_SCROLLBAR_WIDTH=17;Kepler.Framework.UI.Metro_Ui_Controls.MetroUiListBox.MetroUiListCtrl.scrollbaR_BTN_SIZE=33;Kepler.Framework.UI.Metro_Ui_Controls.MetroUiTab.MetroUiTabNavigator.navigatoR_WIDTH=400;Kepler.Framework.UI.Metro_Ui_Controls.MetroUiTab.MetroUiTabNavigator.msG_TAB_CHANGED='msg_tab_changed';Kepler.Framework.UI.Metro_Ui_Controls.MetroUiThemeButton.MetroUiThemeButton.csS_CLASSNAME=' button';Kepler.Framework.UI.Metro_Ui_Controls.OnOffControl.OnOffCtrl.msG_STATUS_CHANGE='msg_on_off_status_changed';Kepler.Framework.UI.Themed_Controls.CollapsibleList.CollapseController.msG_COLLAPSE_CLICK='collapse_ctrl_clicked';Kepler.Framework.UI.Themed_Controls.CollapsibleList.CollapsibleList.msG_COLLAPSE_STATUS_CHANGED='msg_collapse_status_changed';Kepler.Framework.UI.Themed_Controls.Themed_Buttons.ThemeButton.csS_CLASS_NAME=' theme_button';Kepler.Framework.UI.Themed_Controls.EditSpinControl.ThemeEditSpinCtrl.csS_CLASS_TEXTBOX=' theme_textbox';Kepler.Framework.UI.Themed_Controls.EditSpinControl.ThemeEditSpinCtrl.csS_BORDER_NONE=' bordernone';Kepler.Framework.UI.Themed_Controls.EditSpinControl.ThemeEditSpinCtrl.csS_CLASS_REMOVE_SHADOW=' remove_shadow';Kepler.Framework.UI.Themed_Controls.EditSpinControl.ThemeEditSpinCtrl.csS_CLASS_THEME_EDITSPINCTRL=' theme_editspinctrl';Kepler.Framework.UI.Themed_Controls.SliderControl.Slider.msG_THUMB_POSITION_CHANGED='thumb_left_changed';Kepler.Framework.UI.Themed_Controls.SliderControl.Slider.msG_THUMB_POSITION_CHANGING='thumb_left_changing';})();// This script was generated using Script# v0.7.4.0

// engine.js
(function(){
window.ESIM_MODE=function(){};ESIM_MODE.prototype = {modE_FROZEN:0,modE_ASSESSMENT:1,modE_TUTORIAL:2,modE_SHOW_ME:4}
ESIM_MODE.registerEnum('ESIM_MODE',false);window.ENOTIFICATION_CODE=function(){};ENOTIFICATION_CODE.prototype = {eBUTTON_CLICKED:0,eTEXT_CHANGED:1,eSELECTION_CHANGED:2,eSPIN_VAL_CHANGED:3}
ENOTIFICATION_CODE.registerEnum('ENOTIFICATION_CODE',false);Type.registerNamespace('Kepler.Engine.Core');Kepler.Engine.Core.ILauncher=function(){};Kepler.Engine.Core.ILauncher.registerInterface('Kepler.Engine.Core.ILauncher');Kepler.Engine.Core.ReportActionDataType=function(){};Kepler.Engine.Core.ReportActionDataType.prototype = {typingAction:2,formatAction:3}
Kepler.Engine.Core.ReportActionDataType.registerEnum('Kepler.Engine.Core.ReportActionDataType',false);Kepler.Engine.Core.XlSheetActionStatus=function(){};Kepler.Engine.Core.XlSheetActionStatus.prototype = {byDefault:0,autoComplete:1,incorrect:2,partialComplete:4}
Kepler.Engine.Core.XlSheetActionStatus.registerEnum('Kepler.Engine.Core.XlSheetActionStatus',false);Kepler.Engine.Core.RbnEvalObserveButtonMode=function(){};Kepler.Engine.Core.RbnEvalObserveButtonMode.prototype = {evaluate:0,observations:1}
Kepler.Engine.Core.RbnEvalObserveButtonMode.registerEnum('Kepler.Engine.Core.RbnEvalObserveButtonMode',false);Kepler.Engine.Core.IDesktopApp=function(){};Kepler.Engine.Core.IDesktopApp.registerInterface('Kepler.Engine.Core.IDesktopApp');Kepler.Engine.Core.RT_RESOURCE_TYPE=function(){};Kepler.Engine.Core.RT_RESOURCE_TYPE.prototype = {eRT_DIALOG:1,eRT_TASKPANE:2,eRT_URL:3}
Kepler.Engine.Core.RT_RESOURCE_TYPE.registerEnum('Kepler.Engine.Core.RT_RESOURCE_TYPE',false);Kepler.Engine.Core.TASK_STATUS=function(){};Kepler.Engine.Core.TASK_STATUS.prototype = {eCORRECT:1,eINCORRECT:2,eINCOMPLETE:3,eUNATTEMPTED:4,eAUTOCOMPLETE:5,eRUNNING:6,eOBSOLATE:20,eCOMPLETE:21}
Kepler.Engine.Core.TASK_STATUS.registerEnum('Kepler.Engine.Core.TASK_STATUS',false);Kepler.Engine.Core.JUMP_TYPE=function(){};Kepler.Engine.Core.JUMP_TYPE.prototype = {eNO_JUMP:0,eSTANDARD_FRAME_JUMP:1,eASSESSMENT_SUBFRAME_JUMP:2,eTUTORIAL_SUBFRAME_JUMP:4,eSUBFRAME_JUMP:6,eSTANDARD_TASK_JUMP:16,eDOCUMENT_JUMP:32,eRELOAD_CURRENT:64,eUNIVERSAL_JUMP:128,ePOP_STACK:512}
Kepler.Engine.Core.JUMP_TYPE.registerEnum('Kepler.Engine.Core.JUMP_TYPE',false);Kepler.Engine.Core.ASSIGNMENT_STATUS=function(){};Kepler.Engine.Core.ASSIGNMENT_STATUS.prototype = {NORMAL:0,RESUME:1,PREVIEW:2,shoW_SOLUTION_PLAY_FROM_CUR_ITEM:3,shoW_ANSWER_LAUNCH_AT_CUR_ITEM:4,shoW_ANSWER_LAUNCH_AT_LAST_ITEM:5,shoW_ANSWER_LAUNCH_AT_FIRST_ITEM:6,shoW_SOLUTION_LAUNCH_AT_FIRST_ITEM:7}
Kepler.Engine.Core.ASSIGNMENT_STATUS.registerEnum('Kepler.Engine.Core.ASSIGNMENT_STATUS',false);Kepler.Engine.Core.ASSIGNMENT_TYPE=function(){};Kepler.Engine.Core.ASSIGNMENT_TYPE.prototype = {NONE:0,hinT_SHOWME:1,HINT:2,SHOWME:3}
Kepler.Engine.Core.ASSIGNMENT_TYPE.registerEnum('Kepler.Engine.Core.ASSIGNMENT_TYPE',false);Kepler.Engine.Core.MGH_TYPE=function(){};Kepler.Engine.Core.MGH_TYPE.prototype = {finance:'finance',accounting:'accounting',analysis:'analysis',commenting:'commenting'}
Kepler.Engine.Core.MGH_TYPE.registerEnum('Kepler.Engine.Core.MGH_TYPE',false);Kepler.Engine.Core.EControlTypes=function(){};Kepler.Engine.Core.EControlTypes.prototype = {ediT_BOX:1,spiN_CONTROL:2,lisT_BOX:3,combO_DROPLIST:4,combO_DROPDOWN:5,checK_BOX:6,BUTTON:7,proP_PAGE:8,radiO_BUTTON:9,statiC_TEXT:10,coloR_DROPLIST:12,custoM_CONTROL:13,multI_COL_LIST:14,icoN_LIST:15,togglE_BUTTON:16,rangE_SELECTOR:17,spliT_BUTTON:18,grouP_CONTROL:19,custoM_LIST:20,griD_LIST:21,menU_ITEM:22,statiC_IMAGE:23,HYPERLINK:24,treE_CONTROL:25,searcH_TEXT_CONTROL:26,multicoL_COMBO:27,htmL_VIEW:28,basE_CUSTOM_LIST:29,tooL_BAR:30}
Kepler.Engine.Core.EControlTypes.registerEnum('Kepler.Engine.Core.EControlTypes',false);Kepler.Engine.Core.EActionCheckingFlags=function(){};Kepler.Engine.Core.EActionCheckingFlags.prototype = {cbX_UNCHECKED:0,comparE_NO_CASE:0,comparE_CASE:1,triM_WHITE_SPACE:2,tuT_TEXT_INPUT:4,tuT_KEYBD_CMD:8,tuT_INDEX_SEL:16,tuT_SINGLE_CLK:32,tuT_DOUBLE_CLK:64,tuT_TRPLE_CLK:128,tuT_SPIN_UP_HIT:256,tuT_SPIN_DN_HIT:512,tuT_BLOCK_TYP_RANGE_SEL:1024,comparE_NO_CASE_2:2048}
Kepler.Engine.Core.EActionCheckingFlags.registerEnum('Kepler.Engine.Core.EActionCheckingFlags',false);Kepler.Engine.Core.IKeplerWidget=function(){};Kepler.Engine.Core.IKeplerWidget.registerInterface('Kepler.Engine.Core.IKeplerWidget');Kepler.Engine.Core.AppMode=function(){};Kepler.Engine.Core.AppMode.prototype = {eAssessment:0,eHint:1,eShowMe:2}
Kepler.Engine.Core.AppMode.registerEnum('Kepler.Engine.Core.AppMode',false);Kepler.Engine.Core.EngineAppMGHStatistics=function(){Kepler.Engine.Core.EngineAppMGHStatistics.initializeBase(this);Kepler.Engine.Core.EngineAppMGHStatistics.clipboard=new Kepler.Engine.Core.Clipboard();}
Kepler.Engine.Core.EngineAppMGHStatistics.prototype={getDataToStore:function(){var $0='';$0=this.getCurrentAppView().sendMessage(Kepler.Engine.Core.EngineAppMGHStatistics.oN_MSG_GET_STORE_DATA,null,null);return $0;},attachMessages:function(){Kepler.Engine.Core.EngineAppMGHStatistics.callBaseMethod(this, 'attachMessages');this.attachMessage('msg_update_state_on_lms_request',ss.Delegate.create(this,this.$1_5F));},loadPlugIn:function(strPlugInName,callBack){var $0=(this.get_taskMaster()).get_pluginPath();$0+='/'+strPlugInName+'/scripts/release/'+strPlugInName+'.js';if(!!strPlugInName){if(!this.$1_5E($0)){var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.createScriptElement(strPlugInName,Kepler.Framework.Core.Browser.QueryString.CacheBuster.addCacheBuster($0),true);$1.addEventListener('load',function($p1_0){
callBack($p1_0);},false);Kepler.Engine.UI.Helper.HtmlCssHelper.addElementToHead($1);}else{callBack(null);}}},isEngineGlobalKeys:function(eType,eKey,bCtrl,bShift,bAlt){var $0=false;if(eType===Kepler.Framework.UI.Events.EventArgsNs.EventType.keyDown){switch(eKey){case Kepler.Framework.UI.Events.EventArgsNs.Keys.f2:if(bCtrl&&!bAlt&&!bShift){$0=true;}break;}}return $0;},processEngineGolbalKeys:function(eType,eKey,bCtrl,bShift,bAlt){$(window).trigger('focus-player');return true;},$1_5E:function($p0){$p0=$p0.toLowerCase();var $0=document.getElementsByTagName('script');var $1=0;for($1=0;$1<$0.length;$1++){if(($0[$1]).src.toLowerCase().indexOf($p0)!==-1){return true;}}return false;},$1_5F:function($p0,$p1){var $0=this._oCurrentApp.getAppView().sendMessage('msg_update_state_on_lms_request',$p0,$p1);var $1=this._oTaskMaster.getCurrentItem();$1.get_userActions().clear();$1.get_reportActionData().clear();var $enum1=ss.IEnumerator.getEnumerator($0);while($enum1.moveNext()){var $2=$enum1.current;this.addActionStringAsPerSimMode($2,true);}return null;}}
Kepler.Engine.Core.UserAction=function(){}
Kepler.Engine.Core.UserAction.prototype={iTargetFrame:0}
Kepler.Engine.Core.DynamicTutorialData=function(){}
Kepler.Engine.Core.DynamicTutorialData.prototype={hintText:null,audioStartOffset:0,audioEndOffset:0,targetSubFrame:0}
Kepler.Engine.Core.ReportActionData=function(){}
Kepler.Engine.Core.ReportActionData.prototype={iType:0,bIsCorrect:false,iIsAutoCompleted:0,strActionIndices:null,iRemainingAttempts:0}
Kepler.Engine.Core.XlReportTypingActionData=function(){Kepler.Engine.Core.XlReportTypingActionData.initializeBase(this);}
Kepler.Engine.Core.XlReportTypingActionData.prototype={iSheetIndex:0,strCell:null,strUserInput:null,strFormula:null}
Kepler.Engine.Core.XlReportFormatActionData=function(){Kepler.Engine.Core.XlReportFormatActionData.initializeBase(this);}
Kepler.Engine.Core.XlReportFormatActionData.prototype={iSheetIndex:0,strCell:null}
Kepler.Engine.Core.Clipboard=function(){this.bIsCopying=false;}
Kepler.Engine.Core.Clipboard.prototype={bIsCopying:false,oClipboardData:null}
Kepler.Engine.Core.DialogApp=function(strAppName,bWebAppPartitioning){Kepler.Engine.Core.DialogApp.initializeBase(this,[strAppName,bWebAppPartitioning,false]);this.$1_B={};this.$1_C={};if(!Kepler.Engine.Core.DialogApp.$1_15){Kepler.Engine.Core.DialogApp.$1_15=true;}this.$1_E=false;this.$1_10=0;this.$1_16=false;}
Kepler.Engine.Core.DialogApp.prototype={$1_B:null,$1_C:null,$1_D:0,$1_E:false,get_$1_F:function(){return this.$1_E;},$1_10:0,get_$1_11:function(){return this.$1_10;},set_$1_11:function($p0){this.$1_10=$p0;return $p0;},$1_12:0,get_$1_13:function(){return this.$1_12;},set_$1_13:function($p0){this.$1_12=$p0;return $p0;},$1_14:null,get_dialog:function(){return this.$1_14;},$1_16:false,register:function(){this.sendMessageToEngine('eONRegisterDialogApp',this._strAppName,this);},$1_17:function(){if(this.$1_14==null){this.$1_14=this.createDialog();}return this.$1_14;},$1_18:function(){if(this.$1_14!=null){var $0=Kepler.Engine.UI.UIManager.get_instance();if($0!=null){$0.$4_35(this.$1_14);}}},addImage:function(strKey,strValue){if(String.isNullOrEmpty(strKey)||String.isNullOrEmpty(strValue)){return;}this.$1_B[strKey]=strValue;},getCachedImagePath:function(strKey){return this.$1_B[strKey];},precacheImages:function(){var $dict1=this.$1_B;for(var $key2 in $dict1){var $0={key:$key2,value:$dict1[$key2]};var $1=new Image();this.$1_C[$0.key]=$1;this.$1_D++;$1.onload=ss.Delegate.create(this,this.onImageLoad);$1.src=$0.value;}},onImageLoad:function(e){this.$1_D--;},init:function(){Kepler.Engine.Core.DialogApp.callBaseMethod(this, 'init');},loadCss:function(){},loadExternalCssFiles:function(){var $0=Kepler.Engine.Core.EngineApp.get_engine().get_taskMaster();if((($0.get_useDialogPreLoading()&&$0.isDialogMergedWithApp(this.get_appName().toLowerCase()))||(!$0.get_useDialogPreLoading()))&&!this.$1_16){Kepler.Engine.Core.DialogApp.callBaseMethod(this, 'loadCss');this.$1_16=true;}},dispose:function(){try{var $0=Kepler.Engine.UI.DesktopWnd.get_instance().get_dialogManager();$0.$4_6(this.$1_14);this.$1_14.dispose();this.$1_C=null;this.$1_B=null;Kepler.Engine.Core.DialogApp.callBaseMethod(this, 'dispose');}finally{this.$1_14=null;}},setData:function(mapFrameData,bIsDummyFrame){if(ss.isNullOrUndefined(this.get_dialog())){return;}this.get_dialog().sendMessage('msg_dialog_data',mapFrameData,bIsDummyFrame);}}
Kepler.Engine.Core.EngineAppMGHExcel=function(){Kepler.Engine.Core.EngineAppMGHExcel.initializeBase(this);}
Kepler.Engine.Core.EngineAppMGHExcel.prototype={getDefaultCSS:function(){var $0=[];Kepler.Engine.UI.Controls.ScrollBarBase.set_themE_WIN8(true);return $0;},bootStrap:function(){var $0=true;this._oTaskMaster=new Kepler.Engine.Core.TaskMasterMGHExcel(this);this._bIsTaskMaseterCreated=true;$0=this._oTaskMaster.$1_3B();if($0){this.$1_9();}if($0){this._oTaskMaster.beginDownloadPlayerAndDesktop();}},createUIManager:function(){this._oUiMgr=new Kepler.Engine.UI.UIManagerMGHExcel();},isHintFreeNavigation:function(){return (this._oTaskMaster).get_isHintFreeNavigation();},shouldSendCommandToApp:function(){var $0=true;if(this.get_isTutorial()&&!this.get_isShowMe()&&!this.isHintFreeNavigation()){$0=false;}return $0;},preventDialogLaunching:function(){return (this.get_isShowMe()||(this.get_isTutorial()&&!Kepler.Engine.Core.EngineApp.get_engine().isHintFreeNavigation())||Kepler.Engine.Core.EngineApp.get_engine().get_taskMaster().get_isShowAnswerOrSolution());},attachMessages:function(){Kepler.Engine.Core.EngineAppMGHExcel.callBaseMethod(this, 'attachMessages');this.attachMessage('msg_get_dynamic_hint_data',ss.Delegate.create(this,this.$1_54));this.attachMessage('msg_start_stop_dynamic_hint',ss.Delegate.create(this,this.$1_55));this.attachMessage('msg_show_hide_dynamic_hint',ss.Delegate.create(this,this.$1_56));this.attachMessage('msg_get_report_action_data',ss.Delegate.create(this,this.$1_59));this.attachMessage('msg_get_generated_cell_data',ss.Delegate.create(this,this.$1_5A));this.attachMessage('msg_remove_report_action_data',ss.Delegate.create(this,this.$1_57));this.attachMessage('msg_update_report_action_data',ss.Delegate.create(this,this.$1_58));this.attachMessage('msg_should_start_tutorial',ss.Delegate.create(this,this.$1_5C));this.attachMessage('msg_hint',ss.Delegate.create(this,this.$1_5D));this.attachMessage('msg_lock_workbook',ss.Delegate.create(this,this.$1_5B));},$1_54:function($p0,$p1){var $0=this._oCurrentApp.getAppView();if($0!=null){try{return $0.sendMessage('msg_get_dynamic_hint_data',$p0,$p1);}catch($1){}}return null;},$1_55:function($p0,$p1){this._bIsDynamicHint=($p0)?true:false;if(this._bIsDynamicHint){this.unloadDialogsZeroRef();}var $0=this._oCurrentApp.getAppView();if($0!=null){try{return $0.sendMessage('msg_start_stop_dynamic_hint',this._bIsDynamicHint,$p1);}catch($1){}}return null;},$1_56:function($p0,$p1){var $0=this._oCurrentApp.getAppView();if($0!=null){try{return $0.sendMessage('msg_show_hide_dynamic_hint',$p0,$p1);}catch($1){}}return null;},$1_57:function($p0,$p1){var $0=this._oTaskMaster;$0.$1_85($p0);$0.$1_84($p0);return null;},$1_58:function($p0,$p1){var $0=this._oTaskMaster;$0.$1_87($p0);return null;},$1_59:function($p0,$p1){return this._oTaskMaster.$1_7D();},$1_5A:function($p0,$p1){return this._oTaskMaster.$1_7E();},$1_5B:function($p0,$p1){var $0=this._oCurrentApp.getAppView();if($0!=null){try{return $0.sendMessage('msg_lock_workbook',$p0,$p1);}catch($1){}}return null;},addActionStringAsPerSimMode:function(oAction,bIsCorrectAction){if(!this._bIsTutorial||(this._bIsTutorial&&!this._bIsShowMe)){this._oTaskMaster.$1_6F(oAction.get_userAction(),bIsCorrectAction,oAction.get_reportActionData());}},addResetSelectionTagInFrameData:function(bIsTaskJump,oCurrentFrameData){},$1_5C:function($p0,$p1){var $0=this.getCurrentAppView();if($0!=null){return $0.sendMessage('msg_should_start_tutorial',$p0,$p1);}return true;},$1_5D:function($p0,$p1){var $0=this.getPlayerAppFrame();if($0!=null){return $0.sendMessage('msg_hint',$p0,$p1);}return null;}}
Kepler.Engine.Core.ProgressTracker=function(){}
Kepler.Engine.Core.ProgressTracker.engineInit=function(){Kepler.Engine.Core.ProgressTracker.$6=document.getElementById('loadingBox-progressbar-fill');Kepler.Engine.Core.ProgressTracker.$7=20;Kepler.Engine.Core.ProgressTracker.$C();Kepler.Engine.Core.ProgressTracker.$8=80;Kepler.Engine.Core.ProgressTracker.$9=0;}
Kepler.Engine.Core.ProgressTracker.runProgressToEnd=function(callbackProgressEnd){Kepler.Engine.Core.ProgressTracker.$B=(ss.isValue(callbackProgressEnd))?callbackProgressEnd:null;if(Kepler.Engine.Core.ProgressTracker.$7>=100){return false;}Kepler.Engine.Core.ProgressTracker.$D();return true;}
Kepler.Engine.Core.ProgressTracker.taskCount=function(iCount){if(iCount>0){Kepler.Engine.Core.ProgressTracker.$A=80/iCount;}else{Kepler.Engine.Core.ProgressTracker.$7+=80;Kepler.Engine.Core.ProgressTracker.$C();}}
Kepler.Engine.Core.ProgressTracker.appCount=function(iCount){if(iCount>0){Kepler.Engine.Core.ProgressTracker.$8=(60*Kepler.Engine.Core.ProgressTracker.$A)/(100*iCount);}else{Kepler.Engine.Core.ProgressTracker.$7+=(60*Kepler.Engine.Core.ProgressTracker.$A/100);Kepler.Engine.Core.ProgressTracker.$C();}}
Kepler.Engine.Core.ProgressTracker.dlgCount=function(iCount){if(iCount>0){Kepler.Engine.Core.ProgressTracker.$9=(40*Kepler.Engine.Core.ProgressTracker.$A)/(100*iCount);}else{Kepler.Engine.Core.ProgressTracker.$7+=(40*Kepler.Engine.Core.ProgressTracker.$A/100);Kepler.Engine.Core.ProgressTracker.$C();}}
Kepler.Engine.Core.ProgressTracker.appLoaded=function(){Kepler.Engine.Core.ProgressTracker.$7+=Kepler.Engine.Core.ProgressTracker.$8;Kepler.Engine.Core.ProgressTracker.$C();}
Kepler.Engine.Core.ProgressTracker.dlgLoaded=function(){Kepler.Engine.Core.ProgressTracker.$7+=Kepler.Engine.Core.ProgressTracker.$9;Kepler.Engine.Core.ProgressTracker.$C();}
Kepler.Engine.Core.ProgressTracker.$C=function(){try{if(Kepler.Engine.Core.ProgressTracker.$7>100){Kepler.Engine.Core.ProgressTracker.$7=100;}if(Kepler.Engine.Core.ProgressTracker.$6==null){return;}Kepler.Engine.Core.ProgressTracker.$6.style.width=new ss.StringBuilder().append((270*Kepler.Engine.Core.ProgressTracker.$7)/100).append('px').toString();}catch($0){}}
Kepler.Engine.Core.ProgressTracker.$D=function(){Kepler.Engine.Core.ProgressTracker.$7+=1;if(Kepler.Engine.Core.ProgressTracker.$7>=100){Kepler.Engine.Core.ProgressTracker.$7=100;Kepler.Engine.Core.ProgressTracker.$C();if(Kepler.Engine.Core.ProgressTracker.$B!=null){Kepler.Engine.Core.ProgressTracker.$B(null);}}else{Kepler.Engine.Core.ProgressTracker.$C();window.setTimeout(Kepler.Engine.Core.ProgressTracker.$D,10);}}
Kepler.Engine.Core.JsonQuestionMGHExcel=function(){Kepler.Engine.Core.JsonQuestionMGHExcel.initializeBase(this);}
Kepler.Engine.Core.JsonQuestionMGHExcel.prototype={shouldCreateJsonItem:function(){return Kepler.Engine.Core.ReportGenerator._bEztoApiPresent;}}
Kepler.Engine.Core.JsonItemMGHExcel=function(){Kepler.Engine.Core.JsonItemMGHExcel.initializeBase(this);}
Kepler.Engine.Core.JsonItemMGHExcel.prototype={shouldConsiderForUserPoint:function(oClickStream){var $0=oClickStream.crt;var $1=(!!$0);var $2=($0===3);return $1&&(!$2);}}
Kepler.Engine.Core.JsonClickStreamMGHExcel=function(){Kepler.Engine.Core.JsonClickStreamMGHExcel.initializeBase(this);}
Kepler.Engine.Core.JsonClickStreamMGHExcel.prototype={shouldClearText:function(){return true;}}
Kepler.Engine.Core.JsonReport=function(){}
Kepler.Engine.Core.JsonReport.$2=function($p0){Kepler.Engine.Core.JsonAssignment.$3($p0.assignment);}
Kepler.Engine.Core.JsonReport.prototype={assignment:null,createNode:function(oAssignment,iActiveQuestionIndex){this.assignment=new Kepler.Engine.Core.JsonAssignment();this.assignment.createNode(oAssignment,iActiveQuestionIndex);},$0:function($p0){if($p0!=null){this.assignment.$0($p0.assignment);}},$1:function($p0){if($p0!=null){this.assignment.$1($p0.assignment);}}}
Kepler.Engine.Core.JsonAssignment=function(){}
Kepler.Engine.Core.JsonAssignment.$2=function($p0){$p0.points=0;$p0.max_points=0;var $0=Kepler.Engine.Core.JsonQuestions.$2($p0.questions);if($0>0){var $1=1;for(var $2=0;$2<$p0.questions.count;$2++){$p0.points+=Kepler.Engine.Core.JsonQuestion.$4($p0.questions.question[$2],$1);$p0.max_points+=$p0.questions.question[$2].max_points;}}$p0.score=($p0.points*100)/$p0.max_points;return $p0.points;}
Kepler.Engine.Core.JsonAssignment.$3=function($p0){for(var $0=0;$0<$p0.questions.count;$0++){Kepler.Engine.Core.JsonQuestion.$5($p0.questions.question[$0]);}}
Kepler.Engine.Core.JsonAssignment.prototype={id:null,date:null,questions:null,uid:0,score:0,points:0,max_points:0,createNode:function(oAssignment,iActiveQuestionIndex){this.questions=new Kepler.Engine.Core.JsonQuestions();this.id=oAssignment.get_assignmentId();this.date=Date.get_now().toUTCString();this.questions.createNode(oAssignment.get_tasks(),iActiveQuestionIndex);this.uid=0;},$0:function($p0){this.date=null;this.date=Date.get_now().toUTCString();this.questions.$0($p0.questions);},$1:function($p0){this.date=null;this.date=Date.get_now().toUTCString();this.questions.$1($p0.questions);}}
Kepler.Engine.Core.JsonQuestions=function(){}
Kepler.Engine.Core.JsonQuestions.$2=function($p0){var $0=0;for(var $1=0;$1<$p0.count;$1++){$0+=Kepler.Engine.Core.JsonQuestion.$2($p0.question[$1]);}return $0;}
Kepler.Engine.Core.JsonQuestions.prototype={count:0,question:null,createNode:function(olstTask,iActiveQuestionIndex){this.question=[];if(iActiveQuestionIndex===-1){this.count=0;var $0=olstTask.length;for(var $1=0;$1<$0;$1++){if(olstTask[$1].get_itemCount()>0){var $2=Kepler.Engine.EngineObjectFactory.getJsonQuestionObject();$2.createNode(olstTask[$1]);this.question.add($2);this.count++;}}}else{this.count=1;var $3=Kepler.Engine.EngineObjectFactory.getJsonQuestionObject();$3.createNode(olstTask[iActiveQuestionIndex]);this.question.add($3);}},$0:function($p0){var $0=this.question.length;var $1=$p0.count;var $2={};for(var $3=0;$3<$0;$3++){$2[this.question[$3].id]=this.question[$3];}for(var $4=0;$4<$1;$4++){if(Object.keyExists($2,$p0.question[$4].id)){$2[$p0.question[$4].id].$0($p0.question[$4]);}else{this.question.add(Kepler.Engine.Core.JsonQuestion.clone($p0.question[$4]));}}this.count=this.question.length;},$1:function($p0){var $0=this.question.length;var $1=$p0.count;var $2={};for(var $3=0;$3<$0;$3++){$2[this.question[$3].id]=this.question[$3];}for(var $4=0;$4<$1;$4++){if(Object.keyExists($2,$p0.question[$4].id)){$2[$p0.question[$4].id].$1($p0.question[$4]);}else{this.question.add(Kepler.Engine.Core.JsonQuestion.clone($p0.question[$4]));}}this.count=this.question.length;}}
Kepler.Engine.Core.JsonQuestion=function(){}
Kepler.Engine.Core.JsonQuestion.clone=function(srcQuestion){if(ss.isNullOrUndefined(srcQuestion)){return null;}var $0=Kepler.Engine.EngineObjectFactory.getJsonQuestionObject();$0.id=srcQuestion.id;$0.sts=srcQuestion.sts;$0.ra=srcQuestion.ra;$0.tt=srcQuestion.tt;if(ss.isValue(srcQuestion.title)){$0.title=srcQuestion.title;}if(ss.isValue(srcQuestion.items)){$0.items=Kepler.Engine.Core.JsonItems.clone(srcQuestion.items);}if(ss.isValue(srcQuestion.clickstreams)){$0.clickstreams=Kepler.Engine.Core.JsonClickStreams.clone(srcQuestion.clickstreams);}return $0;}
Kepler.Engine.Core.JsonQuestion.$2=function($p0){if(ss.isValue($p0.items)){return $p0.items.cnt;}return 0;}
Kepler.Engine.Core.JsonQuestion.$3=function($p0){if(ss.isValue($p0.items)){var $0=0;var $1=$p0.items.cnt;for(var $2=0;$2<$1;$2++){if($p0.items.item[$2].crt){$0++;}}return $0;}return 0;}
Kepler.Engine.Core.JsonQuestion.$4=function($p0,$p1){$p0.points=0;$p0.max_points=0;if(ss.isValue($p0.items)){for(var $0=0;$0<$p0.items.cnt;$0++){$p0.points+=$p0.items.item[$0].$2($p1);$p0.max_points+=$p0.items.item[$0].max_points;}}return $p0.points;}
Kepler.Engine.Core.JsonQuestion.$5=function($p0){if(ss.isValue($p0.items)){for(var $0=0;$0<$p0.items.cnt;$0++){Kepler.Engine.Core.JsonItem.$5($p0.items.item[$0]);}}}
Kepler.Engine.Core.JsonQuestion.prototype={id:null,title:null,sts:0,ra:0,tt:null,items:null,clickstreams:null,points:0,max_points:0,generated_cell_data:null,createNode:function(oTask){this.id=oTask.get_questionId();this.sts=oTask.getTaskStatusMaskForLms();this.ra=oTask.get_remainingAttempts();this.tt=Math.round(oTask.get_timeTaken()/1000).toString();this.generated_cell_data=[];var $0;var $1=0;if(this.shouldCreateJsonItem()){this.title=oTask.get_taskName();this.items=new Kepler.Engine.Core.JsonItems();this.items.createNode(oTask.get_items());}else{this.clickstreams=new Kepler.Engine.Core.JsonClickStreams();this.clickstreams.createNodeForAllItems(oTask.get_items());}for($1=0;$1<oTask.lstGeneratedCellsData.length;$1++){$0=new Kepler.Engine.Core.JsonGeneratedCellData();$0.createNode(oTask.lstGeneratedCellsData[$1]);this.generated_cell_data.add($0);}},shouldCreateJsonItem:function(){return Kepler.Engine.Core.Lms.LmsApi.get_isLmsBuiltinApiPresent();},$0:function($p0){this.sts=$p0.sts;if($p0.ra<this.ra){this.ra=$p0.ra;}if(parseInt($p0.tt,10)>parseInt(this.tt,10)){this.tt=$p0.tt;}if(ss.isValue($p0.title)){this.title=$p0.title;}if(ss.isValue(this.items)){this.items.$0($p0.items);}if(ss.isValue(this.clickstreams)){this.clickstreams.$0($p0.clickstreams);}},$1:function($p0){this.sts=$p0.sts;if($p0.ra<this.ra){this.ra=$p0.ra;}if(parseInt($p0.tt,10)>parseInt(this.tt,10)){this.tt=$p0.tt;}if(ss.isValue($p0.title)){this.title=$p0.title;}if(ss.isValue(this.items)){this.items.$1($p0.items);}if(ss.isValue(this.clickstreams)){this.clickstreams.$1($p0.clickstreams);}}}
Kepler.Engine.Core.JsonItems=function(){}
Kepler.Engine.Core.JsonItems.clone=function(srcItems){var $0=new Kepler.Engine.Core.JsonItems();$0.item=[];for(var $1=0;$1<srcItems.cnt;$1++){$0.item.add(Kepler.Engine.EngineObjectFactory.getJsonItemObject().clone(srcItems.item[$1]));}$0.cnt=srcItems.cnt;return $0;}
Kepler.Engine.Core.JsonItems.prototype={cnt:0,item:null,createNode:function(lstItem){this.cnt=0;this.item=[];var $0=lstItem.length;for(var $1=0;$1<$0;$1++){var $2=Kepler.Engine.EngineObjectFactory.getJsonItemObject();$2.createNode(lstItem[$1]);this.item.add($2);}this.cnt=$0;},$0:function($p0){if(ss.isNullOrUndefined($p0)){return;}var $0=this.item.length;var $1=$p0.item.length;if($0===$1&&this.item[0].desc===$p0.item[0].desc){for(var $2=0;$2<$0;$2++){this.item[$2].$0($p0.item[$2]);}}else{var $3={};for(var $4=0;$4<$0;$4++){$3[this.item[$4].desc]=this.item[$4];}for(var $5=0;$5<$1;$5++){if(Object.keyExists($3,$p0.item[$5].desc)){$3[$p0.item[$5].desc].$0($p0.item[$5]);}else{this.item.add(Kepler.Engine.EngineObjectFactory.getJsonItemObject().clone($p0.item[$5]));}}}this.cnt=this.item.length;},$1:function($p0){if(ss.isNullOrUndefined($p0)){return;}var $0=this.item.length;var $1=$p0.item.length;if($0===$1&&this.item[0].desc===$p0.item[0].desc){for(var $2=0;$2<$0;$2++){this.item[$2].$1($p0.item[$2]);}}else{var $3={};for(var $4=0;$4<$0;$4++){$3[this.item[$4].desc]=this.item[$4];}for(var $5=0;$5<$1;$5++){if(Object.keyExists($3,$p0.item[$5].desc)){$3[$p0.item[$5].desc].$1($p0.item[$5]);}else{this.item.add(Kepler.Engine.EngineObjectFactory.getJsonItemObject().clone($p0.item[$5]));}}}this.cnt=this.item.length;}}
Kepler.Engine.Core.JsonItem=function(){}
Kepler.Engine.Core.JsonItem.$4=function($p0,$p1){var $0=$p0.cnt;for(var $1=0;$1<$0;$1++){var $2=$p0.clickstream[$1].data;if(ss.isValue($2)){var $3=null;if($2.iType===2){$3=($2).strCell;}else if($2.iType===3){$3=($2).strCell;}if($3!=null){var $4;if(Object.keyExists($p1,$3)){$4=$p1[$3];}else{$4=[];$p1[$3]=$4;}$4.add($1);}}}}
Kepler.Engine.Core.JsonItem.$5=function($p0){if(!$p0.crt&&$p0.ra>0){Kepler.Engine.Core.JsonClickStreams.$3($p0.clickstreams,true);}}
Kepler.Engine.Core.JsonItem.prototype={desc:null,ra:0,crt:false,guided:false,clickstreams:null,points:0,points_deduct:0,max_points:0,createNode:function(item){this.clickstreams=new Kepler.Engine.Core.JsonClickStreams();this.desc=item.get_description();this.ra=item.get_remainingAttempts();this.crt=item.get_isCorrect();this.guided=item.get_isGuided();this.clickstreams.createNodeForItem(item);var $0=Kepler.Engine.Core.EngineApp.get_engine().get_taskMaster().get_assignment().get_deductPointIfGuided();this.points_deduct=(($0&&this.guided)?1:0);this.max_points=item.get_gradingPoint();},$0:function($p0){if($p0.ra<this.ra){this.ra=$p0.ra;}if(!!$p0.crt){this.crt=$p0.crt;}if(!!$p0.guided){this.guided=$p0.guided;}this.clickstreams.$0($p0.clickstreams);},$1:function($p0){if($p0.ra<this.ra){this.ra=$p0.ra;}if(!!$p0.crt){this.crt=$p0.crt;}if(!!$p0.guided){this.guided=$p0.guided;}this.clickstreams.$1($p0.clickstreams);},clone:function(oItem){var $0=Kepler.Engine.EngineObjectFactory.getJsonItemObject();$0.desc=oItem.desc;$0.ra=oItem.ra;$0.crt=oItem.crt;$0.guided=oItem.guided;$0.clickstreams=Kepler.Engine.Core.JsonClickStreams.clone(oItem.clickstreams);return $0;},$2:function($p0){if(ss.isNullOrUndefined(this.max_points)&&isNaN(this.max_points)){this.points=(this.crt)?$p0:0;this.max_points=$p0;}else{this.points=this.$3();}if(this.points>this.max_points){this.points=this.max_points;}if(this.points>=this.points_deduct){this.points-=this.points_deduct;}return this.points;},$3:function(){var $0=0;var $1={};Kepler.Engine.Core.JsonItem.$4(this.clickstreams,$1);var $2=[];var $dict1=$1;for(var $key2 in $dict1){var $4={key:$key2,value:$dict1[$key2]};var $enum3=ss.IEnumerator.getEnumerator($4.value);while($enum3.moveNext()){var $5=$enum3.current;$2.add($5);if(this.shouldConsiderForUserPoint(this.clickstreams.clickstream[$5])){var $6=this.clickstreams.clickstream[$5].data;if(ss.isValue($6)){if($6.iType===2||$6.iType===3){if($6.iIsAutoCompleted===0||$6.iIsAutoCompleted===1){$0++;}}}else{$0++;}}}}var $3=this.clickstreams.cnt;for(var $7=0;$7<$3;$7++){if(this.shouldConsiderForUserPoint(this.clickstreams.clickstream[$7])){var $8=this.clickstreams.clickstream[$7].data;if(ss.isNullOrUndefined($8)){$0++;}}}return $0;},shouldConsiderForUserPoint:function(oClickStream){var $0=(!!oClickStream.crt);var $1=oClickStream.text;return ($0&&$1!=null&&!!$1.trim());}}
Kepler.Engine.Core.JsonClickStreams=function(){}
Kepler.Engine.Core.JsonClickStreams.clone=function(srcClickStreams){var $0=new Kepler.Engine.Core.JsonClickStreams();$0.clickstream=[];for(var $1=0;$1<srcClickStreams.cnt;$1++){$0.clickstream.add(Kepler.Engine.Core.JsonClickStream.clone(srcClickStreams.clickstream[$1]));}$0.cnt=srcClickStreams.cnt;return $0;}
Kepler.Engine.Core.JsonClickStreams.$2=function($p0){var $0=0;for(var $1=0;$1<$p0.cnt;$1++){if($p0.clickstream[$1].crt===1){$0++;}}return $0;}
Kepler.Engine.Core.JsonClickStreams.$3=function($p0,$p1){for(var $0=$p0.cnt-1;$0>=0;$0--){if($p0.clickstream[$0].crt===1&&ss.isNullOrUndefined($p0.clickstream[$0].data)||(!$p1)){$p0.clickstream.removeAt($0);$p0.cnt--;}}}
Kepler.Engine.Core.JsonClickStreams.prototype={cnt:0,clickstream:null,createNodeForAllItems:function(_lstItem){this.clickstream=[];this.cnt=0;var $0=_lstItem.length;for(var $1=0;$1<$0;$1++){var $2=_lstItem[$1].get_userActions().length;this.cnt+=$2;for(var $3=0;$3<$2;$3++){var $4=Kepler.Engine.EngineObjectFactory.getJsonClickStreamObject();$4.createNode(_lstItem[$1].get_userActions()[$3],_lstItem[$1].get_reportActionData()[$3]);this.clickstream.add($4);}}},createNodeForItem:function(item){this.clickstream=[];var $0=item.get_userActions().length;for(var $1=0;$1<$0;$1++){var $2=Kepler.Engine.EngineObjectFactory.getJsonClickStreamObject();$2.createNode(item.get_userActions()[$1],item.get_reportActionData()[$1]);this.clickstream.add($2);}this.cnt=$0;},$0:function($p0){var $0=$p0.clickstream.length;for(var $1=0;$1<$0;$1++){this.clickstream.add(Kepler.Engine.Core.JsonClickStream.clone($p0.clickstream[$1]));}this.cnt=this.clickstream.length;},$1:function($p0){var $0=$p0.clickstream.length;for(var $1=$0-1;$1>=0;$1--){this.clickstream.insert(0,Kepler.Engine.Core.JsonClickStream.clone($p0.clickstream[$1]));}this.cnt=this.clickstream.length;}}
Kepler.Engine.Core.JsonClickStream=function(){}
Kepler.Engine.Core.JsonClickStream.clone=function(srcClickStream){var $0=Kepler.Engine.EngineObjectFactory.getJsonClickStreamObject();$0.crt=srcClickStream.crt;if(ss.isValue(srcClickStream.text)){$0.text=srcClickStream.text;}if(ss.isValue(srcClickStream.data)){$0.data=srcClickStream.data;}return $0;}
Kepler.Engine.Core.JsonClickStream.prototype={crt:0,text:null,data:null,createNode:function(strAction,oActionData){var $0=' | (incorrect)';if(strAction.endsWith($0)){var $1=strAction.lastIndexOf($0);strAction=strAction.substr(0,$1);this.crt=0;}else{this.crt=1;}this.text=Kepler.Engine.Core.ReportGenerator.decodeActionString(strAction);if(this.text==null||!this.text.trim()){this.crt=3;}if(this.shouldClearText()){this.text='';}if(ss.isValue(oActionData)){this.data=oActionData;}},shouldClearText:function(){return false;}}
Kepler.Engine.Core.JsonGeneratedCellData=function(){}
Kepler.Engine.Core.JsonGeneratedCellData.prototype={cell_data:null,createNode:function(mapGeneratedCellData){if(ss.isNullOrUndefined(this.cell_data)){this.cell_data=[];}var $0;var $dict1=mapGeneratedCellData;for(var $key2 in $dict1){var $1={key:$key2,value:$dict1[$key2]};$0=new Kepler.Engine.Core.JsonCellData();$0.cell_ref=$1.key;$0.cell_value=$1.value;this.cell_data.add($0);}}}
Kepler.Engine.Core.JsonCellData=function(){}
Kepler.Engine.Core.JsonCellData.prototype={cell_ref:null,cell_value:null}
Kepler.Engine.Core.JsonReportConstants=function(){}
Kepler.Engine.Core.JsZipHelper=function(){}
Kepler.Engine.Core.JsZipHelper.compressReport=function(strData,strFileName){var $0=null;$0=window.JSZip;if(ss.isNullOrUndefined($0)){return null;}var $1=null;var $2=null;$1=new window.JSZip();$1.file(strFileName,strData,{base64:false});$2=$1.generate({compression:"DEFLATE"});return $2;}
Kepler.Engine.Core.JsZipHelper.deCompressReport=function(strData,strFileName){var $0=null;$0=window.JSZip;if(ss.isNullOrUndefined($0)){return null;}var $1=null;var $2=null;$1=new window.JSZip(strData,{base64:true});$2=$1.file(strFileName).asText();return $2;}
Kepler.Engine.Core.ReportGenerator=function(){}
Kepler.Engine.Core.ReportGenerator.generateXmlReport=function(oTaskMaster,iTaskIndx){var $0=Kepler.Engine.EngineObjectFactory.getXmlReportGeneratorObject();return $0.generate(oTaskMaster,iTaskIndx);}
Kepler.Engine.Core.ReportGenerator.generateJSONReport=function(oTaskMaster,iTaskIndx){var $0=new Kepler.Engine.Core.JsonReport();$0.createNode(oTaskMaster.get_assignment(),(ss.isValue(iTaskIndx))?iTaskIndx:-1);return $0;}
Kepler.Engine.Core.ReportGenerator.decodeActionString=function(strEncoded){var $0='';if(Kepler.Engine.Core.EngineApp.get_engine().get_isActionStringOptimization()){$0=strEncoded;}else{var $1=strEncoded.split(Kepler.Framework.Core.Seperators.doublE_DELTA);var $enum1=ss.IEnumerator.getEnumerator($1);while($enum1.moveNext()){var $2=$enum1.current;$0+=Kepler.Engine.Core.ReportGenerator.decodeActionStringToken($2);}if($0.endsWith(Kepler.Framework.Core.Seperators.COMMA)){$0=$0.remove($0.length-1,1);}}return $0;}
Kepler.Engine.Core.ReportGenerator.decodeActionStringToken=function(strToken){var $0=strToken;var $1=strToken.split(Kepler.Framework.Core.Seperators.v_CROSS);if($1.length>=2){var $2=parseInt($1[0],10);if(!isNaN($2)){$0=Kepler.Engine.UI.ActionStringDict._mapDict[$2];if(!String.isNullOrEmpty($0)){$1=$1.extract(1,$1.length-1);for(var $3=0;$3<$1.length;$3++){$0=$0.replaceAll('{'+$3+'}',$1[$3]);}}}}return $0;}
Kepler.Engine.Core.Engine$B=function(iUid,oReport,lmsFunId){this.$0=false;this.$2=iUid;this.$4=oReport;this.$6=lmsFunId;}
Kepler.Engine.Core.Engine$B.prototype={$0:false,get_$1:function(){return this.$0;},$2:0,get_$3:function(){return this.$2;},$4:null,get_$5:function(){return this.$4;},$6:0,get_$7:function(){return this.$6;},dispose:function(){if(this.$0){return;}this.$4=null;this.$0=true;},$8:function($p0){var $0=$p0.get_$5();if(ss.isValue(this.$4)&&ss.isValue($0)&&Type.getInstanceType(this.$4)===Kepler.Engine.Core.JsonReport&&Type.getInstanceType($0)===Kepler.Engine.Core.JsonReport){(this.$4).$0($0);if(this.$6===3&&$p0.get_$7()!==3){this.$6=$p0.get_$7();}}}}
Kepler.Engine.Core.ReportSubmitter=function(){this.$3={};}
Kepler.Engine.Core.ReportSubmitter.prototype={$4:null,submitFinalReport:function(oTaskMaster,bSaveForLater){if(Kepler.Engine.Core.Lms.LmsApi.get_isApiPresent()){return this.$5(oTaskMaster,(bSaveForLater)?5:4);}else{return this.$C(oTaskMaster);}},submitIntermediateReport:function(oTaskMaster,iTaskIndx){if(Kepler.Engine.Core.Lms.LmsApi.get_isApiPresent()){return this.$5(oTaskMaster,3,iTaskIndx);}else{return this.$C(oTaskMaster,iTaskIndx);}},$5:function($p0,$p1,$p2){var $0=Kepler.Engine.Core.ReportGenerator.generateJSONReport($p0,$p2);if($p1===4){Kepler.Engine.Core.ReportSubmitter.$2++;var $1=new Kepler.Engine.Core.Engine$B(Kepler.Engine.Core.ReportSubmitter.$2,$0,$p1);this.$3[Kepler.Engine.Core.ReportSubmitter.$2]=$1;this.$9();}else{this.$6($0,$p1);}return true;},$6:function($p0,$p1){var $0=(Type.getInstanceType($p0)===Kepler.Engine.Core.JsonReport);if(!$0){throw new Error('Invalid Argument Exception : '+'Report is not valid');}Kepler.Engine.Core.ReportSubmitter.$2++;var $1=new Kepler.Engine.Core.Engine$B(Kepler.Engine.Core.ReportSubmitter.$2,$p0,$p1);this.$3[Kepler.Engine.Core.ReportSubmitter.$2]=$1;if(ss.isNullOrUndefined(this.$4)){this.$4=new Kepler.Framework.Core.Timers.Timer(ss.Delegate.create(this,this.$8),3000);Kepler.Engine.Core.Lms.LmsApi.addMsgFromLmsEventListener(6,ss.Delegate.create(this,this.$A));}this.$4.start();if($0){($p0).assignment.uid=Kepler.Engine.Core.ReportSubmitter.$2;this.$7($1);}},$7:function($p0){var $0=JSON.stringify($p0.get_$5());var $1=new Kepler.Engine.Core.Lms.LmsApiData();if(Kepler.Engine.Core.EngineApp.get_engine().get_taskMaster().get_isReportCompression()){$1.set_messageData(this.$D($0,new ss.StringBuilder('report').append('.json').toString()));}else{$1.set_messageData($0);}Kepler.Engine.Core.Lms.LmsApi.sendMessageToLms($p0.get_$7(),$1);},$8:function(){this.$9();},$9:function(){var $0=null;var $dict1=this.$3;for(var $key2 in $dict1){var $1={key:$key2,value:$dict1[$key2]};if(ss.isNull($0)){$0=$1.value;}else{$0.$8($1.value);$1.value.dispose();}}Object.clearKeys(this.$3);if(!ss.isNull($0)){this.$6($0.get_$5(),$0.get_$7());}},$A:function($p0){try{var $0=$p0.get_messageData();if(Kepler.Engine.Core.EngineApp.get_engine().get_taskMaster().get_isReportCompression()){$0=this.$E($0,new ss.StringBuilder('report').append('.json').toString());if($0==null){throw new Error('Null Reference Exception : '+'Report de-compression failed.');}}var $1=JSON.parse($0);var $2=($1).assignment.uid;this.$B($2);}catch($3){throw new Error('Not Implemented Exception : '+'Unrecognized response format');}},$B:function($p0){if(Object.keyExists(this.$3,$p0)){this.$3[$p0].dispose();delete this.$3[$p0];}if(!Object.getKeyCount(this.$3)){this.$4.stop();}},$C:function($p0,$p1){var $0=Kepler.Engine.Core.ReportGenerator.generateXmlReport($p0,$p1);var $1=$0.html();var $2=Kepler.Framework.Core.StringUtils.markupToText($1,'&lt;br/&gt;');var $3='';var $4='';var $5=false;var $6=document.getElementById('idTxtReport');if(ss.isValue($6)){var $7=Kepler.Framework.Core.Browser.QueryString.QueryStringParser.getQueryStringValue('srcPage');if(!String.isNullOrEmpty($7)){var $8=document.getElementById('formSubmit');if(ss.isValue($8)){var $9=null;var $A=new ss.StringBuilder('report').append('.xml');var $B=document.getElementById('idTxtReportZipFileName');if(Kepler.Engine.Core.EngineApp.get_engine().get_taskMaster().get_isReportCompression()&&ss.isValue($B)){$9=this.$D($1,$A.toString());}if(ss.isValue($9)){$6.value=$9;$B.value=$A.toString();}else{$6.value=$2;}$8.action=$7;$5=true;$8.submit();}}}if(!$5){$3=Kepler.Framework.Core.StringUtils.beautifyXml($1,'&nbsp;&nbsp;&nbsp;');$4=Kepler.Framework.Core.StringUtils.markupToText($3);console.log(Kepler.Framework.Core.StringUtils.beautifyXml($1));}return $5;},$D:function($p0,$p1){var $0=null;$0=window.JSZip;if(ss.isNullOrUndefined($0)){return null;}var $1=null;var $2=null;$1=new window.JSZip();$1=new window.JSZip();$1.file($p1,$p0,{base64:false});$2=$1.generate({compression:"DEFLATE"});return $2;},$E:function($p0,$p1){var $0=null;$0=window.JSZip;if(ss.isNullOrUndefined($0)){return null;}var $1=null;var $2=null;$1=new window.JSZip($p0,{base64:true});$2=$1.file($p1).asText();return $2;}}
Kepler.Engine.Core.XmlReportGenerator=function(){}
Kepler.Engine.Core.XmlReportGenerator.prototype={generate:function(oTaskMaster,iTaskIndx){var $0=this.newReportXmlRoot();$0.append(this.createAssignmentNode(oTaskMaster.get_assignment(),iTaskIndx));return $0;},newReportXmlRoot:function(){return $('<'+'KeplerReport'+' />');},createAssignmentNode:function(oAssignment,iTaskIndx){var $0;var $1;var $2=oAssignment.get_taskCount();var $3=oAssignment.get_tasks();$0=$('<assignment />');$0.attr('id',oAssignment.get_assignmentId());$0.append(this.createDateNode());$1=$('<tasks />');if(iTaskIndx>=0&&iTaskIndx<$2){$1.attr('count','1');$1.append(this.createTaskNode($3[iTaskIndx]));}else{var $4=0;for(var $5=0;$5<$2;$5++){if($3[$5].get_itemCount()>0){$1.append(this.createTaskNode($3[$5]));$4++;}}$1.attr('count',$4.toString());}$0.append($1);return $0;},createDateNode:function(){var $0;$0=$('<date />');$0.text(Date.get_now().toUTCString());return $0;},createTaskNode:function(oTask){var $0;var $1=oTask.get_itemCount();$0=$('<task />');$0.attr('id',oTask.get_questionId());$0.attr('sts',oTask.getTaskStatusMaskForLms().toString());$0.attr('ra',oTask.get_remainingAttempts().toString());$0.attr('tt',Math.round(oTask.get_timeTaken()/1000).toString());if(Kepler.Engine.Core.ReportGenerator._bBypassItemLevelReporting){$0.append(this.createTaskActions(oTask));}else{var $2;$2=$('<items />');$2.attr('cnt',$1.toString());for(var $3=0;$3<$1;$3++){$2.append(this.createItemNode(oTask.get_items()[$3],$3));}$0.append($2);}return $0;},createItemNode:function(oItem,iIndex){var $0;var $1;$0=$('<item />');$0.attr('id',iIndex.toString());$0.attr('sts',(oItem.get_isCorrect())?'1':'0');$1=$('<desc />');$1.text('<![CDATA['+oItem.get_description()+']]>');$0.append($1);$0.append(this.createItemActions(oItem));return $0;},createTaskActions:function(oTask){var $0;var $1;var $2=oTask.get_itemCount();var $3;var $4=0;$0=$('<actions />');for(var $5=0;$5<$2;$5++){var $6=oTask.get_items()[$5];$3=$6.get_userActions();var $7=$3.length;var $8=' | (incorrect)';for(var $9=0;$9<$7;$9++){var $A=$3[$9];$1=$('<action />');var $B;if($A.endsWith($8)){var $C=$A.lastIndexOf($8);$A=$A.substr(0,$C);$B=0;}else{$B=1;}$A=Kepler.Engine.Core.ReportGenerator.decodeActionString($A);$1.attr('crt',$B.toString());$1.text('<![CDATA['+$A+']]>');$0.append($1);}$4+=$7;}$0.attr('cnt',$4.toString());return $0;},createItemActions:function(oItem){var $0;var $1;var $2=oItem.get_userActions();$0=$('<actions />');$0.attr('cnt',$2.length.toString());var $3=$2.length;var $4=' | (incorrect)';for(var $5=0;$5<$3;$5++){var $6=$2[$5];$1=$('<action />');var $7;if($6.endsWith($4)){var $8=$6.lastIndexOf($4);$6=$6.substr(0,$8);$7=0;}else{$7=1;}$6=Kepler.Engine.Core.ReportGenerator.decodeActionString($6);$1.attr('crt',$7.toString());$1.text('<![CDATA['+$6+']]>');$0.append($1);}return $0;}}
Kepler.Engine.Core.XmlReportParser=function(){}
Kepler.Engine.Core.XmlReportParser.prototype={parseXmlReport:function(oAssignment,jQXml){var $0=jQXml.children('KeplerReport');var $1=$0.children('assignment');if($1.length===1){oAssignment.$4D($1);}}}
Kepler.Engine.Core.TaitHelper=function(){}
Kepler.Engine.Core.TaitHelper.parseDataTag=function(strTagName,mapData,strCountSeperator,strItemSeperator,bForceDataCount,strPersistValue){var $0=mapData[strTagName];if(ss.isValue($0)&&$0.length>0){if(ss.isValue(strPersistValue)&&strPersistValue===$0){return [strPersistValue];}if(ss.isNullOrUndefined(strCountSeperator)||!strCountSeperator){strCountSeperator=Kepler.Framework.Core.Seperators.PIPE;}if(ss.isNullOrUndefined(strItemSeperator)||!strItemSeperator){strItemSeperator=Kepler.Framework.Core.Seperators.PIPE;}if(ss.isNullOrUndefined(bForceDataCount)){bForceDataCount=false;}var $1=$0.split(strCountSeperator);var $2=$1.length;if($2>0){var $3=$1[0].trim();var $4=parseInt($3,10);if($4.toString()===$3||bForceDataCount){if(!$4){}else{if(strCountSeperator===strItemSeperator){if($4<0||$4>=$2){}else{return $1.extract(1,$4);}}else{if($2>1){$1=$1[1].split(strItemSeperator);$2=$1.length;}else{$2=0;}if($4<0||$4>$2){}else{return $1;}}}}else{if(strCountSeperator===strItemSeperator){return $1;}else{return $0.split(strItemSeperator);}}}}return null;}
Kepler.Engine.Core.TaitHelper.parseCountDataTags=function(mapData,strCountTagName,strDataTagName,strSeperator){var $0=null;var $1=0;var $2=mapData[strCountTagName];if(ss.isValue($2)&&$2.length>0){$2=$2.trim();$1=parseInt($2,10);var $3=mapData[strDataTagName];if(ss.isValue($3)&&$3.length>0){$3=$3.trim();strSeperator=(String.isNullOrEmpty(strSeperator))?Kepler.Framework.Core.Seperators.PIPE:strSeperator;$0=$3.split(strSeperator,$1);var $4=$0.length;}else if($1>0){}}return $0;}
Kepler.Engine.Core.TaitHelper.parsePoint=function(strValue){if(ss.isValue(strValue)){var $0=strValue.split(Kepler.Framework.Core.Seperators.COMMA);return new Kepler.Framework.UI.Point(parseInt($0[0],10),parseInt($0[1],10));}return null;}
Kepler.Engine.Core.TaitHelper.parsePointF=function(strValue){if(ss.isValue(strValue)){var $0=strValue.split(Kepler.Framework.Core.Seperators.COMMA);return new Kepler.Framework.UI.PointF(parseFloat($0[0]),parseFloat($0[1]));}return null;}
Kepler.Engine.Core.TaitHelper.parseRect=function(strValue){if(ss.isValue(strValue)){var $0=strValue.split(Kepler.Framework.Core.Seperators.COMMA);return new Kepler.Framework.UI.Rect(parseInt($0[0],10),parseInt($0[1],10),parseInt($0[2],10),parseInt($0[3],10));}return null;}
Kepler.Engine.Core.TaitHelper.parseRectF=function(strValue){if(ss.isValue(strValue)){var $0=strValue.split(Kepler.Framework.Core.Seperators.COMMA);return new Kepler.Framework.UI.RectF(parseFloat($0[0]),parseFloat($0[1]),parseFloat($0[2]),parseFloat($0[3]));}return null;}
Kepler.Engine.Core.TaitHelper.parseThreeState=function(strValue){if(strValue==='0'){return false;}else if(strValue==='1'){return true;}else{return null;}}
Kepler.Engine.Core.TaskMasterMGHExcel=function(engineApp){Kepler.Engine.Core.TaskMasterMGHExcel.initializeBase(this,[engineApp]);this.set_isHintFreeNavigation(false);this.$1_83=1;this.set_useDialogPreLoading(false);}
Kepler.Engine.Core.TaskMasterMGHExcel.prototype={$1_81:false,get_isHintFreeNavigation:function(){return this.$1_81;},set_isHintFreeNavigation:function(value){this.$1_81=value;return value;},$1_82:null,get_pluginPath:function(){return this.$1_82;},set_pluginPath:function(value){this.$1_82=value;return value;},$1_83:0,get_mghAttemptNo:function(){return this.$1_83;},set_mghAttemptNo:function(value){this.$1_83=value;return value;},get_isBopMode:function(){return (this.$1_83>1);},tryToDownloadTaskFiles:function(){if(this.get_isPregrade()){this._bNoData=true;}else{Kepler.Engine.Core.TaskMasterMGHExcel.callBaseMethod(this, 'tryToDownloadTaskFiles');}},getTaskDownloadingHTMLContent:function(){return "<br><img src='common/res/loader.gif' style=\"height:32px; width:32px;\"></img><br><br>Loading resources...";},$1_84:function($p0){this.$1_86($p0,this._jsonReport);},$1_85:function($p0){this.$1_86($p0,this._jsonReportForMerging);},$1_86:function($p0,$p1){if(ss.isNullOrUndefined($p1)){return;}var $0=this.getCurrentTask();var $1=this._oState.get_itemNumber()-1;var $2=$p1.assignment.questions;var $3=$2.count;for(var $4=0;$4<$3;$4++){if($2.question[$4].id===$0.get_questionId()){var $5=$2.question[$4].items;if(ss.isValue($5)){var $6=$5.item[$1].clickstreams;var $7=$6.cnt;for(var $8=$7-1;$8>=0;$8--){var $9=$6.clickstream[$8].data;if(ss.isValue($9)){var $A=null;if($9.iType===2){$A=($9).strCell;}else if($9.iType===3){$A=($9).strCell;}if($A!=null&&$A===$p0){$6.clickstream.removeAt($8);$6.cnt--;}}}}break;}}},$1_87:function($p0){var $0=this.getCurrentTask();var $1=this._oState.get_itemNumber()-1;var $2=this._jsonReport.assignment.questions;var $3=$2.count;for(var $4=0;$4<$3;$4++){if($2.question[$4].id===$0.get_questionId()){var $5=$2.question[$4].items;if(ss.isValue($5)){var $6=$5.item[$1].clickstreams;var $7=$6.cnt;for(var $8=0;$8<$7;$8++){if($6.clickstream[$8].data===$p0){var $9=this._jsonReportForMerging.assignment.questions.question[$4].items.item[$1].clickstreams.clickstream[$8].data;if($9==null){return;}$9.bIsCorrect=$p0.bIsCorrect;$9.iIsAutoCompleted=$p0.iIsAutoCompleted;$9.iRemainingAttempts=$p0.iRemainingAttempts;$9.iType=$p0.iType;$9.strActionIndices=$p0.strActionIndices;if($p0.iType===2){($9).strUserInput=($p0).strUserInput;($9).strFormula=($p0).strFormula;}return;}}}break;}}},setRemainingAttemptsFromDynamicHintData:function(oCurrentItem){var $0=this._oEngine.sendMessage('msg_get_dynamic_hint_data',null,null);if(ss.isValue($0)){var $1=this._oEngine.sendMessage('msg_get_remaining_attempts',null,this);oCurrentItem.set_remainingAttempts($1);}},createConfiguration:function(){return new Kepler.Engine.Core.ConfigurationMGHExcel();}}
Kepler.Engine.Core.ASSIGNMENT_MGHExcel=function(){Kepler.Engine.Core.ASSIGNMENT_MGHExcel.initializeBase(this);}
Kepler.Engine.Core.ASSIGNMENT_MGHExcel.prototype={$50:'parameters.mghattempt',$51:'questionaudiourl',extractParameters:function(mapAssignment){Kepler.Engine.Core.ASSIGNMENT_MGHExcel.callBaseMethod(this, 'extractParameters',[mapAssignment]);var $0=Kepler.Engine.Core.EngineApp.get_engine().get_taskMaster();var $1=mapAssignment[this.$50];$0.set_mghAttemptNo((ss.isValue($1))?($1):1);},getKeyForAudioURL:function(){return this.$51;},fixHttpUrl:function(strUrl){return strUrl;}}
Kepler.Engine.Core.ASSIGNMENT=function(){this.$11={};this.$15=false;var $0=Kepler.Framework.Core.Browser.QueryString.QueryStringParser.getQueryStringValue('pbq');if(ss.isValue($0)&&$0==='1'){this.$30='pbq.';this.$31='pbq.count';}}
Kepler.Engine.Core.ASSIGNMENT.$3F=function($p0){var $0={};var $dict1=$p0;for(var $key2 in $dict1){var $1={key:$key2,value:$dict1[$key2]};$0[$1.key.toLowerCase()]=$1.value;}return $0;}
Kepler.Engine.Core.ASSIGNMENT.prototype={$0:false,get_isDocumentBased:function(){return this.$0;},$1:0,get_assignmentType:function(){return this.$1;},$2:false,get_isTutorial:function(){return this.$2;},$3:false,get_audioPlaybackRequired:function(){return this.$3;},$4:false,get_previewMode:function(){return this.$4;},$5:false,get_trapKeys:function(){return this.$5;},$6:false,get_displayResultsAtEnd:function(){return this.$6;},$7:null,get_userName:function(){return this.$7;},$8:null,get_assignmentName:function(){return this.$8;},$9:null,get_assignmentId:function(){return this.$9;},$A:0,get_assignmentTime:function(){return this.$A;},$B:0,get_maxIncorrectAttempts:function(){return this.$B;},$C:0,get_taskCount:function(){return this.$C;},$D:0,get_documentCount:function(){return this.$D;},$E:null,get_tasks:function(){return this.$E;},$F:null,get_docs:function(){return this.$F;},$10:null,get_taskNames:function(){return this.$10;},$11:null,get_params:function(){return this.$11;},$12:false,get_showHintsInQTIMode:function(){return this.$12;},$13:null,get_messageId:function(){return this.$13;},$14:0,get_qtiCount:function(){return this.$14;},$15:false,get_isEnded:function(){return this.$15;},$16:null,get_visualHintColor:function(){return this.$16;},$17:0,get_visualHintBorderWidth:function(){return this.$17;},$18:false,get_deductPointIfGuided:function(){return this.$18;},$19:false,get_xlProtectFormula:function(){return this.$19;},$1A:null,get_mghType:function(){return this.$1A;},$1B:null,get_randomNumber:function(){if(this.$1B==null){var $0=Kepler.Engine.Core.EngineApp.get_engine().get_taskMaster().get_config();this.$1B=$0.get_randomNumber();if(this.$1B==null||isNaN(this.$1B)){var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getCookie('random');if(ss.isValue($1)&&$1.length>0){this.$1B=parseFloat($1);}}if(this.$1B==null||isNaN(this.$1B)){this.$1B=Math.random();}}return this.$1B;},$1C:null,get_submissionDate:function(){return this.$1C;},$1D:'header.assignmentid',$1E:'header.assignmentid',$1F:'parameters.assignmentname',$20:'parameters.questionattemptcount',$21:'parameters.totaltime',$22:'parameters.assignmenttype',$23:'parameters.assignmentpreview',$24:'parameters.documentbased',$25:'parameters.playaudio',$26:'parameters.displayresults',$27:'parameters.visualhintcolor',$28:'parameters.visualhintborderwidth',$29:'parameters.deductpointifguided',$2A:'parameters.xl.protectformula',$2B:'parameters.mghtype',$2C:'document.',$2D:'document.count',$2E:'name',$2F:'image',$30:'question.',$31:'question.count',$32:'questionid',$33:'filename',$34:'skipquestion',$35:'remainingattempts',$36:'itemattempts',$37:'timetaken',$38:'questionmetadata',$39:'questionname',$3A:'questionstatus',$3B:'questionstephintsoundurl',$3C:'playaudio',$3D:'webappvideourl',$3E:'documentid',end:function(){this.$15=true;},$40:function($p0){if(ss.isNullOrUndefined($p0)){throw new Error(new ss.StringBuilder('Null Reference Exception : ').append(' mapAssignment.').toString());}try{$p0=Kepler.Engine.Core.ASSIGNMENT.$3F($p0);this.$41($p0);}catch($0){}},$41:function($p0){this.$42($p0);this.extractParameters($p0);this.$43($p0);this.$44($p0);},$42:function($p0){this.$9=$p0[this.$1D];if(ss.isNullOrUndefined(this.$9)){this.$9='';}this.$13=$p0[this.$1E];if(ss.isNullOrUndefined(this.$13)){this.$13='';}},extractParameters:function(mapAssignment){this.$8=mapAssignment[this.$1F];if(ss.isNullOrUndefined(this.$8)){throw new Error(new ss.StringBuilder('Directive Missing :- "').append(this.$1F).append('"').toString());}this.$B=mapAssignment[this.$20];if(ss.isNullOrUndefined(this.$B)){throw new Error(new ss.StringBuilder('Directive Missing :- "').append(this.$20).append('"').toString());}this.$A=mapAssignment[this.$21]*1000;if(ss.isNullOrUndefined(this.$A)){throw new Error(new ss.StringBuilder('Directive Missing :- "').append(this.$21).append('"').toString());}this.$1=parseInt(mapAssignment[this.$22].toString());if(ss.isNullOrUndefined(this.$1)){throw new Error(new ss.StringBuilder('Directive Missing :- "').append(this.$22).append('"').toString());}this.$2=(!!this.$1);this.$4=mapAssignment[this.$23];if(ss.isNullOrUndefined(this.$4)){this.$4=false;}if(this.$2){this.$3=mapAssignment[this.$25];if(ss.isNullOrUndefined(this.$3)){this.$3=true;}}this.$6=mapAssignment[this.$26];if(ss.isNullOrUndefined(this.$6)){this.$6=true;}this.$16=mapAssignment[this.$27];if(ss.isNullOrUndefined(this.$16)){this.$16='#F00';}this.$17=mapAssignment[this.$28];if(ss.isNullOrUndefined(this.$17)){this.$17=2;}var $0=mapAssignment[this.$29];this.$18=($0===1||!!$0);$0=mapAssignment[this.$2A];this.$19=($0===1||!!$0);$0=mapAssignment[this.$2B];this.$1A=(ss.isValue($0))?($0.toString()):'finance';},$43:function($p0){this.$D=$p0[this.$2D];if(ss.isValue(this.$D)&&this.$D>0){this.$0=true;if(ss.isValue($p0[this.$24])){this.$0=(!$p0[this.$24])?false:true;}this.$F=[];var $0;var $1;var $2;for(var $3=0;$3<this.$D;$3++){var $4=new Kepler.Engine.Core.DOCUMENT();$2=new ss.StringBuilder(this.$2C).append($3+1).append('.').toString();$1=new ss.StringBuilder($2).append(this.$2E).toString();$0=$p0[$1];if(ss.isValue($0)){$4.set_documentName($0);}else{throw new Error(new ss.StringBuilder('Directive Missing :- ').append($1).toString());}$1=new ss.StringBuilder($2).append(this.$2F).toString();$0=$p0[$1];if(ss.isValue($0)){$4.set_documentImage($0);}this.$F.add($4);}}else{this.$0=false;}},$44:function($p0){this.$C=$p0[this.$31];if(ss.isNullOrUndefined(this.$C)){throw new Error(new ss.StringBuilder('Directive Missing :- "').append(this.$31).append('"').toString());}this.$E=new Array(this.$C);this.$10=new Array(this.$C);var $0;var $1;var $2;var $3;var $4;var $5;var $6=0;for(var $7=1;$7<=this.$C;++$7){var $8=new Kepler.Engine.Core.TASK();this.$E[$7-1]=$8;$3=new ss.StringBuilder(this.$30).append($7).append('.').toString();$2=new ss.StringBuilder($3).append(this.$32).toString();$1=$p0[$2];if(ss.isValue($1)){$8.set_questionId($1);$2=new ss.StringBuilder($3).append(this.$33).toString();$1=$p0[$2];if(ss.isNullOrUndefined($1)||String.isNullOrEmpty($1)){throw new Error(new ss.StringBuilder('This version of the engine requires the filename associated with each question to be stored within the assignment configuration file. (e.g. ').append($2).append(' = xyz.cab (Zeus programmers can specify the filename with a .tait extension)').toString());}$4=Kepler.Framework.Core.Browser.QueryString.QueryStringParser.getQueryStringValue('tait');if($4!=null){$1=$4;$1=Kepler.Framework.Core.Browser.QueryString.QueryStringParser.getQueryStringValue('taskpath')+$1;}this.$10[$7-1]=$1;$8.set_fileName($1);}else{throw new Error(new ss.StringBuilder('Directive Missing :- ').append($2).toString());}$2=new ss.StringBuilder($3).append(this.$34).toString();$0=$p0[$2];if(ss.isValue($0)){if(!$0){$8.set_taskStatusMask(4);}else{if(this.$0){$8.set_taskStatusMask(5);}else{$8.set_taskStatusMask(1);}}}else{throw new Error(new ss.StringBuilder('Directive Missing :- ').append($2).toString());}var $9=false;$2=new ss.StringBuilder($3).append(this.$35).toString();$0=$p0[$2];if(ss.isValue($0)){$8.set_remainingAttempts($0);$9=true;}$2=new ss.StringBuilder($3).append(this.$36).toString();$0=$p0[$2];if(ss.isValue($0)){$8.set_maxItemAttempts($0);$8.set_displayItemLevelAttemptOnPlayer(true);}else if(!$9){throw new Error('Directive Missing :- Task or Item level max-attmpts must be defined');}$2=new ss.StringBuilder($3).append(this.$37).toString();$0=$p0[$2];if(ss.isValue($0)){$8.set_timeTaken($0);}$2=new ss.StringBuilder($3).append(this.$38).toString();$1=$p0[$2];if(ss.isValue($1)){$8.set_questionMetaData($1);}else{$8.set_questionMetaData('');}$2=new ss.StringBuilder($3).append(this.$39).toString();$1=$p0[$2];if(ss.isValue($1)){$8.set_taskName($1);}else{throw new Error(new ss.StringBuilder('Directive Missing :- ').append($2).toString());}if(this.$2&&this.$3){$2=new ss.StringBuilder($3).append(this.getKeyForAudioURL()).toString();$1=$p0[$2];if(ss.isValue($1)){$8.set_audioUrl(this.fixHttpUrl($1));}else{}$2=new ss.StringBuilder($3).append(this.$3C).toString();$1=$p0[$2];if(ss.isNullOrUndefined($1)||!!parseInt($1,10)){$8.set_audioHandler(new Kepler.Engine.UI.Helper.AudioHandler());}}if(this.$2){$2=new ss.StringBuilder($3).append(this.$3D).toString();$1=$p0[$2];if(ss.isValue($1)){$8.set_webAppVideoUrl(this.fixHttpUrl($1));}}if(ss.isValue(this.$F)&&this.$F.length>0){$2=new ss.StringBuilder($3).append(this.$3E).toString();$1=$p0[$2];if(ss.isValue($1)){$5=parseInt($1,10);if(isNaN($5)||$5<=0||$5>this.$D){throw new Error(new ss.StringBuilder('Directive Out of Bound :- ').append($2).toString());}if($5>$6){this.$F[$6].set_taskOffset($7);$6++;}}else{throw new Error(new ss.StringBuilder('Directive Missing :- ').append($2).toString());}}var $A=Kepler.Engine.Core.EngineApp.get_engine().get_taskMaster();if(!Kepler.Engine.Core.Lms.LmsApi.get_isApiPresent()||$A.get_assignmentStatus()===1||$A.get_isShowAnswerOrSolution()){$2=new ss.StringBuilder($3).append(this.$3A).toString();$0=$p0[$2];if(ss.isValue($0)){$8.setTaskStatusMaskByLms($0);}}}},getKeyForAudioURL:function(){return this.$3B;},fixHttpUrl:function(strUrl){if(!strUrl.toLowerCase().startsWith('http://')){strUrl=new ss.StringBuilder('http://').append(strUrl).toString();}return strUrl;},$45:function($p0,$p1,$p2,$p3,$p4){$p1.set_fontSize($p0[new ss.StringBuilder($p2).append('fontsize').toString()]);if(ss.isNullOrUndefined($p1.get_fontSize())){$p1.set_fontSize(46);}$p1.set_fontColor($p0[new ss.StringBuilder($p2).append('fontcolor').toString()]);if(ss.isNullOrUndefined($p1.get_fontColor())){$p1.set_fontColor($p3);}$p1.set_fontName($p0[new ss.StringBuilder($p2).append('font').toString()]);if(ss.isNullOrUndefined($p1.get_fontName())){$p1.set_fontName('Verdana');}$p1.set_text($p0[new ss.StringBuilder($p2).append('text').toString()]);if(ss.isNullOrUndefined($p1.get_text())){$p1.set_text($p4);}$p1.set_flashTime($p0[new ss.StringBuilder($p2).append('flashtime').toString()]);if(ss.isNullOrUndefined($p1.get_flashTime())){$p1.set_flashTime(2000);}},$46:function($p0){if(ss.isNullOrUndefined($p0)){throw new Error(new ss.StringBuilder('Null Reference Exception : ').append(' mapAssignment.').toString());}try{Kepler.Framework.Core.StringUtils.toLowerCaseMapKeys($p0);this.$47($p0);}catch($0){}},$47:function($p0){this.$48($p0);this.$49($p0);this.$4A($p0);this.$4B($p0);},$48:function($p0){},$49:function($p0){$p0[this.$20]=this.$B;$p0[this.$21]=this.$A/1000;},$4A:function($p0){},$4B:function($p0){var $0;var $1;for(var $2=1;$2<=this.$C;++$2){var $3=this.$E[$2-1];$1=new ss.StringBuilder(this.$30).append($2).append('.').toString();$0=new ss.StringBuilder($1).append(this.$35).toString();$p0[$0]=$3.get_remainingAttempts();$0=new ss.StringBuilder($1).append(this.$37).toString();$p0[$0]=$3.get_timeTaken();$0=new ss.StringBuilder($1).append(this.$3A).toString();$p0[$0]=$3.getTaskStatusMaskForLms();}},$4C:function($p0){if(this.$13===$p0.assignment.id){var $0={};for(var $2=0;$2<this.$C;$2++){$0[this.$E[$2].get_questionId()]=this.$E[$2];}var $1=$p0.assignment.questions;for(var $3=0;$3<$1.count;$3++){var $4=$0[$1.question[$3].id];if(ss.isValue($4)){$4.$3B($1.question[$3]);delete $0[$1.question[$3].id];}}Object.clearKeys($0);}},$4D:function($p0){this.$9=$p0.attr('id');this.$4E($p0);this.$4F($p0);},$4E:function($p0){var $0=$p0.children('date');this.$1C=Date.parseDate($0.text());},$4F:function($p0){var $0=$p0.children('tasks');var $1=$0.children('task');this.$C=parseInt($0.attr('count'),10);if($1.length<this.$C){this.$C=$1.length;}this.$E=new Array(this.$C);this.$10=new Array(this.$C);for(var $2=0;$2<this.$C;$2++){this.$E[$2].$3C($($1[$2]));}}}
Kepler.Engine.Core.ConfigurationMGHExcel=function(){Kepler.Engine.Core.ConfigurationMGHExcel.initializeBase(this);}
Kepler.Engine.Core.ConfigurationMGHExcel.prototype={$3E:'parameters.hintfreenavigation',$3F:'parameters.pluginpath',extractParameters:function(mapConfiguration){Kepler.Engine.Core.ConfigurationMGHExcel.callBaseMethod(this, 'extractParameters',[mapConfiguration]);var $0=Kepler.Engine.Core.EngineApp.get_engine().get_taskMaster();var $1=mapConfiguration[this.$3E];if(ss.isValue($1)){$0.set_isHintFreeNavigation(($1==='1')?true:false);}$1=mapConfiguration[this.$3F];if(ss.isValue($1)){$0.set_pluginPath($1);}$0.set_isShowTaskbar(false);},getTrainingCompleteMessage:function(){return '';}}
Kepler.Engine.Core.Configuration=function(){this.$C=[];this.$7='';}
Kepler.Engine.Core.Configuration.prototype={$0:null,$1:null,$2:null,$3:null,$4:null,$5:null,$6:false,$7:null,get_restartFromQuestionId:function(){return this.$7;},$8:0,$9:null,get_displayName:function(){return this.$9;},$A:null,get_assignmentTitle:function(){return this.$A;},$B:0,get_attemptNumber:function(){return this.$B;},$C:null,$D:null,get_randomNumber:function(){return this.$D;},$E:null,get_incorrectMsg:function(){return this.$E;},$F:null,get_correctMsg:function(){return this.$F;},$10:null,get_trainigCompleteMsg:function(){return this.$10;},$11:'header.userid',$12:'header.assignmentid',$13:'header.sessionid',$14:'header.repositorytokenid',$15:'header.sectionid',$16:'app.tokenid',$17:'parameters.assignmentstatus',$18:'parameters.displayname',$19:'parameters.attemptnumber',$1A:'parameters.assignmenttitle',$1B:'parameters.doubleclickinterval',$1C:'parameters.doubleclickregion',$1D:'parameters.longtapinterval',$1E:'parameters.doubleclickregion',$1F:'parameters.transitioncorrect',$20:'parameters.transitionincorrect',$21:'parameters.transitiontrainingcomplete',$22:'parameters.usedynamicdialogloading',$23:'parameters.taitcrypt',$24:'parameters.resourcepath',$25:'parameters.extresourcepath',$26:'parameters.intermediatereport',$27:'parameters.reportcompression',$28:'parameters.actionstringoptimization',$29:'parameters.showtaskbar',$2A:'parameters.accessibility',$2B:'parameters.blockframeincorrect',$2C:'parameters.attemptwarninginterval',$2D:'parameters.pinribbon',$2E:'parameters.random',$2F:'parameters.touchdesktopmargine',$30:'parameters.businesscommunication',$31:'parameters.donotusedialogpreloading',$32:'recoveryparams.restartfromquestionid',$33:'recoveryparams.restartquestiontype',$34:function($p0){if(ss.isNullOrUndefined($p0)){throw new Error(new ss.StringBuilder('Null Reference Exception : ').append(' mapConfiguration.').toString());}try{this.$35(Kepler.Engine.Core.ASSIGNMENT.$3F($p0));}catch($0){}},$35:function($p0){this.$36($p0);this.$37($p0);this.extractParameters($p0);},$36:function($p0){this.$0=$p0[this.$11];if(ss.isNullOrUndefined(this.$0)){this.$0='';}this.$1=$p0[this.$13];if(ss.isNullOrUndefined(this.$1)){this.$1='';}this.$2=$p0[this.$12];if(ss.isNullOrUndefined(this.$2)){this.$2='';}this.$3=$p0[this.$14];if(ss.isNullOrUndefined(this.$3)){this.$3='';}this.$4=$p0[this.$15];if(ss.isNullOrUndefined(this.$4)){this.$4='';}},$37:function($p0){this.$5=$p0[this.$16];if(ss.isNullOrUndefined(this.$5)){this.$5='';}var $0=Kepler.Engine.Core.EngineApp.get_engine().get_taskMaster();var $1=parseInt($p0[this.$17],10);if(ss.isNullOrUndefined($1)||isNaN($1)){$0.set_assignmentStatus(0);}else{$0.set_assignmentStatus($1);this.$6=$0.get_assignmentStatus()>0;}if(this.$6){this.$39($p0);}},extractParameters:function(mapConfiguration){this.$9=mapConfiguration[this.$18];if(ss.isNullOrUndefined(this.$9)){this.$9='';}this.$B=parseInt(mapConfiguration[this.$19],10);if(ss.isNullOrUndefined(this.$B)){this.$B=0;}this.$A=mapConfiguration[this.$1A];if(ss.isNullOrUndefined(this.$A)){this.$A='';}var $0=Kepler.Engine.UI.Controls.Control.get_gestureManager();var $1=mapConfiguration[this.$1B];if(ss.isValue($1)){$0.set_doubleClickInterval(parseInt($1)|0);}$1=mapConfiguration[this.$1C];if(ss.isValue($1)){$0.set_doubleClickRegion(parseInt($1)|0);}$1=mapConfiguration[this.$1D];if(ss.isValue($1)){$0.set_longTapInterval(parseInt($1)|0);}$1=mapConfiguration[this.$1E];if(ss.isValue($1)){$0.set_longTapRegion(parseInt($1)|0);}var $2=Kepler.Engine.Core.EngineApp.get_engine().get_taskMaster();$1=mapConfiguration[this.$22];if(ss.isValue($1)){$2.set_useDynamicDialogLoading(($1==='1')?true:false);}$1=mapConfiguration[this.$31];if(ss.isValue($1)){$2.set_useDialogPreLoading(($1==='1')?false:true);}$1=mapConfiguration[this.$23];if(ss.isValue($1)){$2.set_useTaitEncryption(($1==='1')?true:false);}$1=mapConfiguration[this.$24];if(ss.isValue($1)){$2.set_keplerPath($1);}$1=mapConfiguration[this.$25];if(ss.isValue($1)){$2.set_extResourcePath($1);}$1=mapConfiguration[this.$26];if(ss.isValue($1)){$2.set_isIntermediateReporting(($1==='1')?true:false);}$1=mapConfiguration[this.$27];if(ss.isValue($1)){$2.set_isReportCompression(($1==='1')?true:false);}$1=mapConfiguration[this.$28];if(ss.isValue($1)){$2.set_isActionstringOptimization(($1==='1')?true:false);}$1=mapConfiguration[this.$2B];if(ss.isValue($1)){$2.set_attemptsDeductionBlocked(($1==='1')?true:false);}$1=mapConfiguration[this.$2C];if(ss.isValue($1)){$2.set_attemptWarningInterval(parseInt($1)|2500);}$1=mapConfiguration[this.$2D];if(ss.isValue($1)){$2.set_isPinRibbon(($1==='1')?true:false);}$1=mapConfiguration[this.$29];if(ss.isValue($1)){$2.set_isShowTaskbar((ss.isValue($1)&&$1==='0')?false:true);}$1=mapConfiguration[this.$2A];if(ss.isValue($1)){Kepler.Engine.UI.WeapAppFrame.appframE_ACCESSIBILITY=($1==='1')?true:false;}$1=mapConfiguration[this.$2E];if(ss.isValue($1)){this.$D=parseFloat($1);}$1=mapConfiguration[this.$2F];if(ss.isValue($1)){var $3=parseInt($1,10);if(isFinite($3)){Kepler.Engine.UI.DesktopWnd.get_instance().changeTouchMargine($3);}}$1=mapConfiguration[this.$30];if(ss.isValue($1)){$2.set_isBusinessCommunication(($1==='1')?true:false);}this.$38(mapConfiguration,this.$F=new Kepler.Engine.Core.TRANSITION_MSG(),this.$1F,'#70AD47','CORRECT',2000,'#548135');this.$38(mapConfiguration,this.$E=new Kepler.Engine.Core.TRANSITION_MSG(),this.$20,'#FF4040','INCORRECT',2000,'#BF0000');this.$38(mapConfiguration,this.$10=new Kepler.Engine.Core.TRANSITION_MSG(),this.$21,'#70AD47',this.getTrainingCompleteMessage(),2000,'#548135',36);},getTrainingCompleteMessage:function(){return 'TRAINING COMPLETE';},$38:function($p0,$p1,$p2,$p3,$p4,$p5,$p6,$p7){if(!ss.isNullOrUndefined($p7)){$p1.set_fontSize($p7);}else{$p1.set_fontSize(50);}if(String.isNullOrEmpty($p1.get_fontColor())){$p1.set_fontColor($p3);}if(String.isNullOrEmpty($p1.get_fontName())){$p1.set_fontName('Verdana');}if(String.isNullOrEmpty($p1.get_text())){$p1.set_text($p4);}$p1.set_flashTime($p5);if(ss.isNullOrUndefined($p1.get_strokeColor())){$p1.set_strokeColor($p6);}},$39:function($p0){this.$7=$p0[this.$32];if(ss.isNullOrUndefined(this.$7)){this.$7='';}this.$8=parseInt($p0[this.$33],10);if(ss.isNullOrUndefined(this.$8)){this.$8=-1;}},$3A:function($p0){if(ss.isNullOrUndefined($p0)){throw new Error(new ss.StringBuilder('Null Reference Exception : ').append(' mapConfiguration.').toString());}try{Kepler.Framework.Core.StringUtils.toLowerCaseMapKeys($p0);this.$3B($p0);}catch($0){}},$3B:function($p0){this.$3C($p0);this.$3D($p0);},$3C:function($p0){$p0[this.$17]=(1).toString();},$3D:function($p0){$p0[this.$32]='';}}
Kepler.Engine.Core.CURRENT_STATE=function(){this.$0=new Kepler.Engine.Core.ENLITE_GENERAL_FRAMEDATA();}
Kepler.Engine.Core.CURRENT_STATE.prototype={$0:null,get_currentFrameAppView:function(){return this.$0;},$1:null,get_primaryDialogName:function(){return this.$1;},set_primaryDialogName:function(value){this.$1=value;return value;},$2:null,get_$3:function(){return this.$2;},set_$3:function($p0){this.$2=$p0;return $p0;}}
Kepler.Engine.Core.DIALOG_SCENE=function(){this.$1={};}
Kepler.Engine.Core.DIALOG_SCENE.prototype={$0:null,get_name:function(){return this.$0;},set_name:function(value){this.$0=value;return value;},$1:null,get_uiScene:function(){return this.$1;},$2:function(){Object.clearKeys(this.$1);}}
Kepler.Engine.Core.DOCUMENT=function(){}
Kepler.Engine.Core.DOCUMENT.prototype={$0:0,get_taskOffset:function(){return this.$0;},set_taskOffset:function(value){this.$0=value;return value;},$1:null,get_documentImage:function(){return this.$1;},set_documentImage:function(value){this.$1=value;return value;},$2:null,get_documentName:function(){return this.$2;},set_documentName:function(value){this.$2=value;return value;}}
Kepler.Engine.Core.ENLITE_FRAME_ACTIONS=function(iJump,iJumpMask,iJumpExtra,strUserAction){this.$4=true;this.$7=true;if(ss.isValue(iJump)){this.$1=iJump;}if(ss.isValue(iJumpMask)){this.$0=iJumpMask;}if(ss.isValue(iJumpExtra)){this.$2=iJumpExtra;}if(ss.isValue(strUserAction)){this.$3=strUserAction;}this.$5=null;this.$6=null;}
Kepler.Engine.Core.ENLITE_FRAME_ACTIONS.prototype={$0:0,get_jumpMask:function(){return this.$0;},$1:0,get_jump:function(){return this.$1;},set_jump:function(value){this.$1=value;return value;},$2:0,get_jumpExtra:function(){return this.$2;},$3:null,get_userAction:function(){return this.$3;},$4:false,get_deductAttempts:function(){return this.$4;},set_deductAttempts:function(value){this.$4=value;return value;},$5:null,get_reportActionData:function(){return this.$5;},set_reportActionData:function(value){this.$5=value;return value;},$6:null,get_actionMessage:function(){return this.$6;},set_actionMessage:function(value){this.$6=value;return value;},$7:false,get_flashTransitionMessage:function(){return this.$7;},set_flashTransitionMessage:function(value){this.$7=value;return value;},addActionString:function(strUserAction){if(strUserAction!=null){}this.$3=strUserAction;},shouldNotJump:function(){this.$0=this.$1=0;},shouldJumpToFrame:function(iTargetFrame){this.$0=1;this.$1=iTargetFrame;},reloadFrame:function(){this.$0=64;},shouldJumpToSubFrame:function(iTargetSubFrame){this.$0=6;this.$1=iTargetSubFrame;},$8:function(){this.$0=16;this.$1=0;},$9:function(){this.$0=512;this.$1=0;},universalJump:function(strJump){var $0=strJump.length;if($0!==4){}this.$1=parseInt(strJump.substr(0,2),10);this.$2=parseInt(strJump.substr(2,2),10);this.$0=128;},$A:function(){return new Kepler.Engine.Core.ENLITE_FRAME_ACTIONS(this.$1,this.$0,this.$2,this.$3);}}
Kepler.Engine.Core.ENLITE_GENERAL_FRAMEDATA=function(){}
Kepler.Engine.Core.ENLITE_GENERAL_FRAMEDATA.prototype={$0:false,get_isTerminatingFrame:function(){return this.$0;},set_isTerminatingFrame:function(value){this.$0=value;return value;},$1:0,$2:null,get_viewData:function(){return this.$2;},set_viewData:function(value){this.$2=value;return value;},$3:null,$4:null,$5:null,get_frameDataInactiveApp:function(){return this.$5;},$6:null,get_desktopAppData:function(){return this.$6;},set_desktopAppData:function(value){this.$6=value;return value;},$7:function(){return ((this.$1&1)===1);},$8:function(){return ((this.$1&2)===2);},$9:function(){this.$1|=1;},$A:function(){this.$1=0;},$B:function(){this.$1|=2;},$C:function($p0){if(ss.isValue(this.$5)){Object.clearKeys(this.$5);}if(ss.isNullOrUndefined($p0)||$p0.length<=0){return;}if(ss.isNullOrUndefined(this.$5)){this.$5={};}var $0=this.clone();$0.set_viewData($p0[0]);this.$5[this.$D($p0[0],0)]=$0;for(var $1=1;$1<$p0.length;$1++){$0=$0.clone();$0.set_viewData($p0[$1]);this.$5[this.$D($p0[$1],$1)]=$0;}},$D:function($p0,$p1){var $0=$p1;var $1=$p0['@id'];if(ss.isValue($1)){$0=parseInt($1,10);if(isNaN($0)){$0=$p1;}}return $0;},clone:function(){var $0=new Kepler.Engine.Core.ENLITE_GENERAL_FRAMEDATA();$0.$0=this.$0;$0.$1=this.$1;$0.$2=this.$2;if(ss.isValue(this.$3)){$0.$3=this.$3;}if(ss.isValue(this.$4)){$0.$4=this.$4;}return $0;}}
Kepler.Engine.Core.ENLITE_JUMP_DIRECTIVE=function(){this.$0=0;this.$1=0;this.$2=0;this.$3=-1;}
Kepler.Engine.Core.ENLITE_JUMP_DIRECTIVE.prototype={$0:0,get_task:function(){return this.$0;},$1:0,get_item:function(){return this.$1;},$2:0,get_frame:function(){return this.$2;},$3:0,get_subFrame:function(){return this.$3;},jump:function(iTaskNumber,iItemNumber,iFrameNumber,iSubFrameNumber){this.$0=iTaskNumber-1;this.$1=iItemNumber-1;this.$2=iFrameNumber-1;if(ss.isValue(iSubFrameNumber)){this.$3=iSubFrameNumber-1;}},isValid:function(oCurrentAssignment,IsTutorialMode){var $0;var $1;var $2;if(this.$0<0||this.$0>=oCurrentAssignment.get_taskCount()){return false;}$0=oCurrentAssignment.get_tasks()[this.$0];if(this.$1<0||this.$1>=$0.get_itemCount()){return false;}$1=$0.get_items()[this.$1];if(this.$2<0||this.$2>=$1.get_frameCount()){return false;}$2=$1.get_frames()[this.$2];if(IsTutorialMode){if(this.$3<0||this.$3>=$2.get_tutorialSubFrameCount()){return false;}}else{if(this.$3<-1||this.$3>=$2.get_assesmentSubFrameCount()){return false;}}return true;},toString:function(){var $0='';$0=this.$0.toString().padLeft(2,'0');$0+=this.$1.toString().padLeft(2,'0');$0+=this.$2.toString().padLeft(2,'0');$0+=this.$3.toString().padLeft(2,'0');return $0;}}
Kepler.Engine.Core.ENLITE_DBG_JUMP_INFO=function(){Kepler.Engine.Core.ENLITE_DBG_JUMP_INFO.initializeBase(this);}
Kepler.Engine.Core.ENLITE_DBG_JUMP_INFO.prototype={$4:false,get_tutorialMode:function(){return this.$4;},set_tutorialMode:function(value){this.$4=value;return value;}}
Kepler.Engine.Core.FRAME=function(){this.$7=[];this.$9=[];this.$B=[];this.$10=[];this.$11=[];this.$12=[];this.$C={};}
Kepler.Engine.Core.FRAME.toMSec=function(strTime){var $0=strTime.split(Kepler.Framework.Core.Seperators.COLON);return parseInt($0[0],10)*60000+parseInt($0[1],10)*1000+parseInt($0[2],10);}
Kepler.Engine.Core.FRAME.prototype={$5:0,get_frameNumber:function(){return this.$5;},_iSubFrameNumber:0,get_subFrameNumber:function(){return this._iSubFrameNumber;},$6:0,get_assesmentSubFrameCount:function(){return this.$6;},$7:null,get_assesmentSubFrames:function(){return this.$7;},$8:0,get_tutorialSubFrameCount:function(){return this.$8;},$9:null,get_tutorialSubFrames:function(){return this.$9;},$A:0,get_dialogCount:function(){return this.$A;},$B:null,get_dialogs:function(){return this.$B;},$C:null,get_uiScene:function(){return this.$C;},$D:null,get_inactiveAppUIScenes:function(){return this.$D;},$E:null,get_desktopAppData:function(){return this.$E;},$F:false,get_isTerminatingFrame:function(){return this.$F;},get_audioStartOffset:function(){if(!this.$10.length){return 0;}return this.$10[0];},get_audioStopOffset:function(){if(!this.$11.length){return 0;}return this.$11[0];},$10:null,get_listAudioStartOffset:function(){return this.$10;},$11:null,get_listAudioEndOffset:function(){return this.$11;},$12:null,get_listTextualHint:function(){return this.$12;},$13:function($p0,$p1){this.$17($p0);switch($p1){case 0:this.$14($p0['inactive_apps']);this.$15($p0['desktop_app']);this.$16($p0,1);this.$16($p0,2);this.$1A($p0);break;case 1:break;case 2:this.$14($p0['inactive_apps']);this.$15($p0['desktop_app']);this.$1A($p0);break;}if(!$p1){this.$18($p0,this.$C,true);}else{this.$18($p0,this.$C,false);}},$14:function($p0){if(ss.isValue(this.$D)){this.$D.clear();}if(ss.isNullOrUndefined($p0)){return;}this.$D=$p0['app'];if(ss.isNullOrUndefined(this.$D)||this.$D.length<=0){throw new Error('Node /task/items/item/frames/frame/inactive_apps must have atleast one app.');}else if(ss.isNullOrUndefined(this.$D.length)){var $0=this.$D;this.$D=[];this.$D.add($0);$0=null;}if(Type.getInstanceType(this.$D)!==Array){this.$D=[this.$D];}for(var $1=0;$1<this.$D.length;$1++){var $2={};this.$18(this.$D[$1],$2,false);this.$D[$1]=$2;}},$15:function($p0){if(ss.isValue(this.$E)){Object.clearKeys(this.$E);}if(ss.isNullOrUndefined($p0)){return;}if(ss.isNullOrUndefined(this.$E)){this.$E={};}this.$E=$p0;for(var $0=0;$0<Object.getKeyCount(this.$E);$0++){var $1={};this.$18(this.$E,$1,false);this.$E=$1;}},$16:function($p0,$p1){if(!$p1){throw new Error('Invalid frame type found.');}var $0=($p1===1)?'a_subframes':'t_subframes';var $1=$p0[$0];if(ss.isValue($1)&&Object.getKeyCount($1)>0){var $2=parseInt($1['@count']);if(ss.isNullOrUndefined($2)||$2<=0){throw new Error(new ss.StringBuilder('Node /task/items/item/frames/').append($0).append(' must have "count" attribute with value greater than zero.').toString());}var $3=$1['frame'];if(ss.isNullOrUndefined($3)||$3.length<=0){throw new Error(new ss.StringBuilder('Node /task/items/item/frames/').append($0).append(' must have atleast one frame.').toString());}if(Type.getInstanceType($3)!==Array){$3=[$3];}if($2!==$3.length){throw new Error(new ss.StringBuilder('The frame count specified within the ').append($0+' element and the actual number of frames extracted from the XML do not seem to match!').toString());}var $4=new Array($3.length);for(var $5=0;$5<$3.length;$5++){var $6=new Kepler.Engine.Core.FRAME();$4[$5]=$6;$6.$13($3[$5],$p1);}if($p1===1){this.$7=$4;this.$6=$2;}else if($p1===2){this.$9=$4;this.$8=$2;}}else{}},$17:function($p0){var $0=$p0['db'];if(ss.isNullOrUndefined($0)||$0.length<=0){return;}if(Type.getInstanceType($0)!==Array){$0=[$0];}this.$A=$0.length;for(var $1=0;$1<this.$A;$1++){var $2=new Kepler.Engine.Core.DIALOG_SCENE();this.$B[$1]=$2;$2.set_name($0[$1]['@name']);this.$18($0[$1],$2.get_uiScene(),true);}},$18:function($p0,$p1,$p2){var $0=0;var $dict1=$p0;for(var $key2 in $dict1){var $1={key:$key2,value:$dict1[$key2]};if(this.$19($1.key)){var $2=$1.value;if($2!=null){$p1[$1.key]=Kepler.Engine.Core.TASK.$27($2);}}else{$0++;}}if(Object.getKeyCount($p0)===$0&&$p2){alert('We apologize for the inconvenience. The application has encountered a non-recoverable error and needs to be shut. JSon Data Extraction Error: No data was extracted from a node that requires data to be present.');throw new Error('Frame has no data.');}},$19:function($p0){switch($p0){case 'db':case 'a_subframes':case 't_subframes':return false;default:return true;}},$1A:function($p0){var $0=$p0['@type'];if(ss.isNullOrUndefined($0)||$0==='0'){this.$F=false;}else if($0===(4).toString()){this.$F=true;}else{throw new Error('A frame type parameter can either contain 0 or 4.');}},$1B:function($p0){var $0=$p0['mp3'];if(ss.isNullOrUndefined($0)){return;}if(Type.getInstanceType($0)!==Array){$0=[$0];}var $1=[''];var $2=0;for(var $3=0;$3<this.$9.length;$3++){var $4=this.$9[$3];if($4.$1C($0[$2],$1)){$2++;}}},$1C:function($p0,$p1){var $0=this.$1E();if(!$0){if(Object.keyExists($p0,'virtual_mp3')){var $1=$p0['virtual_mp3'];var $enum1=ss.IEnumerator.getEnumerator($1);while($enum1.moveNext()){var $2=$enum1.current;this.$1D($2,$p1);}}else{this.$1D($p0,$p1);}}return !$0;},$1D:function($p0,$p1){var $0=this.$1E();if(!$0){$p1[0]=Kepler.Engine.Core.TASK.$27($p0);this.$10.add(Kepler.Engine.Core.FRAME.toMSec($p0['@start']));this.$11.add(Kepler.Engine.Core.FRAME.toMSec($p0['@stop']));}this.$12.add($p1[0]);return !$0;},$1E:function(){if(Object.keyExists(this.$C,'@noaudio')){return parseInt(this.$C['@noaudio'])===1;}return false;},$1F:function(){var $0;for($0=0;$0<this.$7.length;$0++){this.$7[$0].$1F();}this.$7.clear();this.$6=0;for($0=0;$0<this.$9.length;$0++){this.$9[$0].$1F();}this.$9.clear();this.$8=0;for($0=0;$0<this.$B.length;$0++){this.$B[$0].$2();}this.$B.clear();this.$A=0;Object.clearKeys(this.$C);}}
Kepler.Engine.Core.ITEM=function(){this.$2=[];this.$3=[];this.$4=[];this.$5=0;this.$6=65535;this.$7=false;this.$A=0;}
Kepler.Engine.Core.ITEM.prototype={$0:null,get_description:function(){return this.$0;},$1:0,get_frameCount:function(){return this.$1;},$2:null,get_frames:function(){return this.$2;},$3:null,get_userActions:function(){return this.$3;},$4:null,get_reportActionData:function(){return this.$4;},$5:0,get_incorrectActionCount:function(){return this.$5;},set_incorrectActionCount:function(value){this.$5=value;return value;},$6:0,get_remainingAttempts:function(){return this.$6;},set_remainingAttempts:function(value){this.$6=value;return value;},$7:false,get_isCorrect:function(){return this.$7;},set_isCorrect:function(value){this.$7=value;return value;},$8:false,get_isGuided:function(){return this.$8;},set_isGuided:function(value){this.$8=value;return value;},$9:0,get_gradingPoint:function(){return this.$9;},$A:0,get_userPoints:function(){return this.$A;},$B:function($p0,$p1,$p2){if(ss.isValue($p1)){if(!$p0){$p1=$p1+' | (incorrect)';}this.$3.add($p1);this.$4.add((ss.isValue($p2))?$p2:null);}},$C:function($p0){this.$D($p0['description']);var $0=$p0['frames'];if(ss.isNullOrUndefined($0)){throw new Error('Node /task/items/item must have "frames" tag.');}this.$1=parseInt($0['@count']);if(ss.isNullOrUndefined(this.$1)||this.$1<=0){throw new Error('Node /task/items/item/frames must have "count" attribute with value greater than zero.');}var $1=$0['frame'];if(ss.isNullOrUndefined($1)||$1.length<=0){throw new Error('Node /task/items/item/frames must have atleast one frame.');}if(Type.getInstanceType($1)!==Array){$1=[$1];}if($1.length!==this.$1){throw new Error('The frame count specified within the frames element and the actual number of frames extracted from the XML do not seem to match!');}for(var $2=0;$2<$1.length&&$2<this.$1;$2++){var $3=this.$2[$2]=new Kepler.Engine.Core.FRAME();$3.$13($1[$2],0);}},$D:function($p0){var $0=Kepler.Engine.Core.TASK.$27($p0);if(ss.isValue($0)){this.$0=$0;}else{throw new Error("The item's description is mandatory! Please ensure that the task file contains a <description> element.");}},$E:function($p0){var $0;this.$D($p0['description']);$0=$p0['pts'];this.$9=(ss.isValue($0))?parseInt($0,10):1;if(isNaN(this.$9)){this.$9=1;}if(Kepler.Engine.Core.EngineApp.get_engine().get_taskMaster().get_assignment().get_isTutorial()&&this.$2.length>0){this.$2[0].$1B($p0['mp3data']);}},$F:function($p0){for(var $0=0;$0<this.$2.length;$0++){this.$2[$0].$1F();}this.$2.clear();this.$1=0;if(!$p0){this.$3.clear();}},$10:function($p0){this.$6=$p0.ra;this.$7=$p0.crt;this.$8=$p0.guided;},$11:function($p0){this.$7=$p0.attr('sts')==='1';this.$12($p0);this.$13($p0);},$12:function($p0){var $0=$p0.children('desc');this.$0=$0.text();},$13:function($p0){var $0=$p0.children('actions');var $1=$0.children('action');this.$5=0;var $2=parseInt($0.attr('cnt'),10);if($1.length<$2){$2=$1.length;}this.$3=[];this.$4=[];var $3=false;var $4=null;var $5=' | (incorrect)';for(var $6=0;$6<$2;$6++){$4=$($1[$6]);$3=($4.attr('crt')==='1');if($3){this.$3.add($4.text());}else{this.$3.add(new ss.StringBuilder($4.text()).append($5).toString());this.$5++;}this.$4.add(null);}}}
Kepler.Engine.Core.SECTION=function(){}
Kepler.Engine.Core.SECTION.prototype={$0:null,get_title:function(){return this.$0;},$1:0,get_startItemIndex:function(){return this.$1;},$2:0,get_endItemIndex:function(){return this.$2;},$3:function($p0){var $0=Kepler.Engine.Core.TASK.$27($p0['title']);if(ss.isValue($0)){this.$0=$0;}else{throw new Error("The section's title is mandatory! Please ensure that the task file contains a <description> element.");}var $1=$p0['itemcount'];if(ss.isNullOrUndefined($1)){throw new Error('itme count missing for section');}this.$2=$1;var $2=$p0['startindex'];if(ss.isNullOrUndefined($2)){throw new Error('start index of item missing for section');}this.$1=$2;}}
Kepler.Engine.Core.TASK=function(){this.$3=false;this.$5=true;this.$13=[];this.$14=[];this.$15=[];this.$16=[];this.$17=[];this.$1A=[];this.$19=[];this.$11=null;this.$1F=0;this.$1D=false;this.$26=0;this.lstGeneratedCellsData=[];}
Kepler.Engine.Core.TASK.$27=function($p0){if(Type.getInstanceType($p0)!==Object){return $p0;}else{return $p0['#cdata-section'];}}
Kepler.Engine.Core.TASK.prototype={$2:0,$3:false,$4:0,$5:false,$6:null,$7:0,get_$8:function(){return this.$7;},set_$8:function($p0){this.$7=$p0;return $p0;},$9:0,get_$A:function(){return this.$9;},set_$A:function($p0){this.$9=$p0;return $p0;},$B:0,get_iTaskLMSID:function(){return this.$B;},$C:0,get_itemCount:function(){return this.$C;},$D:0,get_sectionCount:function(){return this.$D;},$E:0,$F:0,$10:null,get_fileName:function(){return this.$10;},set_fileName:function(value){this.$10=value;return value;},$11:null,get_audioHandler:function(){return this.$11;},set_audioHandler:function(value){this.$11=value;return value;},$12:null,get_taskName:function(){return this.$12;},set_taskName:function(value){this.$12=value;return value;},$13:null,get_appName:function(){return this.$13[0];},get_appNames:function(){return this.$13.clone();},$14:null,get_appNamesLowerCase:function(){return this.$14.clone();},$15:null,get_modulesNames:function(){return this.$15.clone();},$16:null,get_moduleNamesLowerCase:function(){return this.$16.clone();},$17:null,get_fontsRequired:function(){return this.$17.clone();},$18:null,get_audioUrl:function(){return this.$18;},set_audioUrl:function(value){this.$18=value;return value;},$19:null,get_sections:function(){return this.$19;},$1A:null,get_items:function(){return this.$1A;},$1B:0,get_taskStatusMask:function(){return this.$1B;},set_taskStatusMask:function(value){this.$1B=value;return value;},$1C:0,get_remainingAttempts:function(){return this.$1C;},set_remainingAttempts:function(value){this.$1C=value;return value;},$1D:false,get_displayItemLevelAttemptOnPlayer:function(){return this.$1D;},set_displayItemLevelAttemptOnPlayer:function(value){this.$1D=value;return value;},$1E:0,get_maxItemAttempts:function(){return this.$1E;},set_maxItemAttempts:function(value){this.$1E=value;return value;},$1F:0,get_timeTaken:function(){return this.$1F;},set_timeTaken:function(value){this.$1F=value;return value;},$20:null,get_questionMetaData:function(){return this.$20;},set_questionMetaData:function(value){this.$20=value;return value;},$21:null,get_questionId:function(){return this.$21;},set_questionId:function(value){this.$21=value;return value;},$22:null,get_webAppVideoUrl:function(){return this.$22;},set_webAppVideoUrl:function(value){this.$22=value;return value;},get_isAttempted:function(){return (this.$1B!==3&&this.$1B!==4&&this.$1B!==5&&this.$1B!==6);},get_isGuided:function(){var $0=false;var $enum1=ss.IEnumerator.getEnumerator(this.$1A);while($enum1.moveNext()){var $1=$enum1.current;if($1.get_isGuided()){$0=true;break;}}return $0;},$23:null,get_commonStyle:function(){return this.$23;},set_commonStyle:function(value){this.$23=value;return value;},$24:null,get_frameStyle:function(){return this.$24;},set_frameStyle:function(value){this.$24=value;return value;},$25:null,$26:0,get_noOfIncorrectAttempt:function(){return this.$26;},set_noOfIncorrectAttempt:function(value){this.$26=value;return value;},lstGeneratedCellsData:null,$28:function($p0,$p1){var $0=$p0['task'];this.$6=$p1;this.$2C($0['engine']);this.$2D($0['image-cache']);this.$31($0['items']);this.$2A($0);this.$29($0);this.$2B($0['font-required']);},$29:function($p0){if(!ss.isNullOrUndefined($p0['data_uri_frame_style'])){this.set_frameStyle($p0['data_uri_frame_style']);}else{this.set_frameStyle('');}},$2A:function($p0){if(!ss.isNullOrUndefined($p0['data_uri_style'])){this.set_commonStyle($p0['data_uri_style']);}else{this.set_commonStyle('');}},$2B:function($p0){if(!String.isNullOrEmpty($p0)){Kepler.Framework.Core.StringUtils.getTokenizedArray($p0,',',this.$17,true);Kepler.Framework.Core.StringUtils.trimArray(this.$17);}this.$5=(!this.$17.length);},$2C:function($p0){if(ss.isValue($p0)){var $0;$0=$p0['app'];if(ss.isValue($0)&&!!$0.trim()){Kepler.Framework.Core.StringUtils.getTokenizedArray($0,',',this.$13,true);Kepler.Framework.Core.StringUtils.trimArray(this.$13);this.$14.clear();this.$14=this.$13.clone();Kepler.Framework.Core.StringUtils.toLowerCaseArray(this.$14);}$0=$p0['modules'];if(ss.isValue($0)&&!!$0.trim()){var $1=$0.split(',');for(var $2=0;$2<$1.length;$2++){var $3=$1[$2].trim();var $4=$3.toLowerCase();if(!String.isNullOrEmpty($3)&&!this.$16.contains($4)){this.$15.add($3);this.$16.add($4);}}}}else{}},$2D:function($p0){if(!String.isNullOrEmpty($p0)){var $0=Kepler.Engine.Core.EngineApp.get_engine().get_taskMaster();var $1=$p0.split(Kepler.Framework.Core.Seperators.PIPE);var $2=[];var $enum1=ss.IEnumerator.getEnumerator($1);while($enum1.moveNext()){var $3=$enum1.current;if(!$2.contains($3)){var $4=new Image();this.$2++;$4.onload=ss.Delegate.create(this,this.$2E);if($3.indexOf('/')===-1){$4.src=$0.getKeplerRelativePath(this.$10.substring(0,this.$10.lastIndexOf('/')+1)+$3);}else{$4.src=$3;}$2.add($3);}}}else{this.$3=true;}},$2E:function($p0){this.$2--;if(this.$2<=0){this.$3=true;this.$6.get_sender().sendMessage(this.$6.get_message(),this.$6.get_wParam(),this.$6.get_lParam());}},preloadFonts:function(mapLoadedFonts){this.$4=0;if(!this.$5){var $enum1=ss.IEnumerator.getEnumerator(this.$17);while($enum1.moveNext()){var $0=$enum1.current;if(!Object.keyExists(mapLoadedFonts,$0)){mapLoadedFonts[$0]=new Kepler.Engine.UI.Helper.FontLoader($0,ss.Delegate.create(this,this.$2F));this.$4++;}}this.$5=(!this.$4);}return !this.$5;},$2F:function($p0){this.$4--;if(this.$4<=0){this.$5=true;this.$6.get_sender().sendMessage(this.$6.get_message(),this.$6.get_wParam(),this.$6.get_lParam());}},$30:function($p0){this.$D=parseInt($p0['@count']);if(!(ss.isNullOrUndefined(this.$C)||this.$C<=0)){var $0=$p0['section'];if(ss.isNullOrUndefined($0)||$0.length<=0){throw new Error('Node /task/items must have atleast one item.');}if(Type.getInstanceType($0)!==Array){$0=[$0];}for(var $1=0;$1<$0.length&&$1<this.$D;$1++){var $2=this.$19[$1]=new Kepler.Engine.Core.SECTION();$2.$3($0[$1]);}}},$31:function($p0){this.$C=parseInt($p0['@count']);if(ss.isNullOrUndefined(this.$C)||this.$C<=0){throw new Error('Node /task/items must have "count" attribute with value greater than zero.');}var $0=$p0['item'];if(ss.isNullOrUndefined($0)||$0.length<=0){throw new Error('Node /task/items must have atleast one item.');}if(Type.getInstanceType($0)!==Array){$0=[$0];}if(ss.isValue(this.$1E)&&this.$1E>0){this.$1C=this.$1E*this.$C;}else{this.$1E=this.$1C/this.$C;}for(var $1=0;$1<$0.length&&$1<this.$C;$1++){var $2=this.$1A[$1]=Kepler.Engine.EngineObjectFactory.getItemObject();$2.set_remainingAttempts(this.$1E);$2.$C($0[$1]);}if(ss.isValue(this.$25)){this.$3B(this.$25);}},$32:function($p0){$p0=$p0['task'];this.$33($p0['description']);this.$34($p0['items']);if(ss.isValue($p0['sections'])){this.$30($p0['sections']);}else{this.$D=0;}},$33:function($p0){var $0=Kepler.Engine.Core.TASK.$27($p0);if(ss.isValue($0)){this.$12=$0;}else{throw new Error("The task's description is mandatory! Please ensure that the task file contains a <description> element.");}},$34:function($p0){var $0=$p0['item'];if(ss.isNullOrUndefined($0)){return;}if(Type.getInstanceType($0)!==Array){$0=[$0];}for(var $1=0;$1<$0.length&&$1<this.$1A.length;$1++){var $2=this.$1A[$1];$2.$E($0[$1]);}},$35:function(){return (this.$7===2&&this.$9===2);},$36:function(){return this.$3;},$37:function(){return this.$5;},$38:function($p0){for(var $0=0;$0<this.$1A.length;$0++){this.$1A[$0].$F($p0);}if(!$p0){this.$1A.clear();this.$C=0;}this.$7=0;this.$9=0;},getTaskStatusMaskForLms:function(){if(Kepler.Engine.Core.Lms.LmsApi.get_isApiPresent()&&(!Kepler.Engine.Core.Lms.LmsApi.get_isEztoApiPresent())){var $0=this.get_isGuided();switch(this.get_taskStatusMask()){case 1:if(!$0){return ((0));}else{return ((4));}case 2:if(!$0){return ((1));}else{return ((5));}case 5:case 3:if(!$0){return ((3));}else{return ((6));}case 6:if(!$0){return ((7));}else{return ((8));}case 4:return ((2));case 20:default:return ((-1));}}else{switch(this.get_taskStatusMask()){case 1:return ((2));case 2:case 3:case 4:return ((0));case 6:return ((3));case 5:case 20:default:return ((1));}}},setTaskStatusMaskByLms:function(eStatus){if(Kepler.Engine.Core.Lms.LmsApi.get_isApiPresent()&&(!Kepler.Engine.Core.Lms.LmsApi.get_isEztoApiPresent())){switch(eStatus){case (4):case (5):case (6):case (8):var $enum1=ss.IEnumerator.getEnumerator(this.$1A);while($enum1.moveNext()){var $0=$enum1.current;$0.set_isGuided(true);}break;case (0):case (1):case (3):case (7):default:break;}switch(eStatus){case (0):case (4):this.$1B=1;break;case (1):case (5):this.$1B=2;break;case (3):case (6):this.$1B=3;break;case (7):case (8):this.$1B=6;break;case (2):this.$1B=4;break;default:this.$1B=20;break;}}else{switch(eStatus){case (2):this.$1B=1;break;case (0):this.$1B=4;break;case (3):this.$1B=6;break;default:this.$1B=20;break;}}},$39:function($p0,$p1,$p2){if(ss.isNullOrUndefined($p1)){$p1=false;}if(ss.isNullOrUndefined($p2)){$p2=true;}var $0=($p2)?this.$13:this.$14;var $1=$0.length;if(!$p2&&!$p1){$p0=$p0.clone();Kepler.Framework.Core.StringUtils.toLowerCaseArray($p0);}for(var $2=0;$2<$1;$2++){if(!$p0.contains($0[$2])){return false;}}return true;},$3A:function($p0){return (($p0)?this.$14.join(','):this.$13.join(','));},$3B:function($p0){if(ss.isValue($p0.items)&&this.$21===$p0.id){if(this.$C===$p0.items.cnt&&this.$7===2){for(var $0=0;$0<this.$C;$0++){this.$1A[$0].$10($p0.items.item[$0]);}this.$25=null;}else if($p0.items.cnt>0){this.$25=Kepler.Engine.Core.JsonQuestion.clone($p0);}}},addGeneratedCellData:function(sheetNo,strCell,strCellData){if(ss.isNullOrUndefined(this.lstGeneratedCellsData[sheetNo])){this.lstGeneratedCellsData[sheetNo]={};}this.lstGeneratedCellsData[sheetNo][strCell]=strCellData;},$3C:function($p0){this.$21=$p0.attr('id');this.setTaskStatusMaskByLms(parseInt($p0.attr('sts'),10));this.$1C=parseInt($p0.attr('ra'),10);this.$1F=parseInt($p0.attr('tt'),10)*1000;},$3D:function($p0){var $0=$p0.children('items');var $1=$0.children('item');this.$C=parseInt($0.attr('cnt'),10);if($1.length<this.$C){this.$C=$1.length;}this.$1A=new Array(this.$C);for(var $2=0;$2<this.$C;$2++){this.$1A[$2].$11($($1[$2]));}}}
Kepler.Engine.Core.TaskMasterState=function(){this.$0=0;this.$1=0;this.$2=0;this.$3=0;this.$4=true;this.$5=false;}
Kepler.Engine.Core.TaskMasterState.prototype={$0:0,get_taskNumber:function(){return this.$0;},$1:0,get_itemNumber:function(){return this.$1;},$2:0,get_frameNumber:function(){return this.$2;},$3:0,get_subFrameNumber:function(){return this.$3;},$4:false,get_isAssessment:function(){return this.$4;},$5:false,get_isInSubFrameMode:function(){return this.$5;},changeTask:function(iTask,iItem,iFrame){if(ss.isNullOrUndefined(iItem)){iItem=0;}if(ss.isNullOrUndefined(iFrame)){iFrame=0;}this.$0=iTask+1;this.$1=iItem+1;this.$2=iFrame+1;this.$3=0;this.$5=false;},changeItem:function(iItem){this.$1=iItem+1;this.$2=1;this.$3=0;this.$5=false;},changeFrame:function(iFrame){this.$2=iFrame+1;this.$3=0;this.$5=false;},changeSubFrame:function(iSubFrame){this.$3=iSubFrame+1;this.$5=true;},toString:function(){var $0='';$0+=new ss.StringBuilder('Task=').append(this.$0).append(', Item=').append(this.$1).append(', Frame=').append(this.$2).append(', SubFrame=').append(this.$3).toString();return $0;},toShortString:function(){var $0='';$0+=new ss.StringBuilder('[').append(this.$0).append(', ').append(this.$1).append(', ').append(this.$2).append(', ').append(this.$3).append(']').toString();return $0;},clone:function(){var $0=new Kepler.Engine.Core.TaskMasterState();$0.$0=this.$0;$0.$1=this.$1;$0.$2=this.$2;$0.$3=this.$3;$0.$4=this.$4;$0.$5=this.$5;return $0;}}
Kepler.Engine.Core.TRANSITION_MSG=function(){}
Kepler.Engine.Core.TRANSITION_MSG.prototype={$0:0,get_fontSize:function(){return this.$0;},set_fontSize:function(value){this.$0=value;return value;},$1:null,get_fontName:function(){return this.$1;},set_fontName:function(value){this.$1=value;return value;},$2:null,get_fontColor:function(){return this.$2;},set_fontColor:function(value){this.$2=value;return value;},$3:null,get_text:function(){return this.$3;},set_text:function(value){this.$3=value;return value;},$4:0,get_flashTime:function(){return this.$4;},set_flashTime:function(value){this.$4=value;return value;},$5:null,get_strokeColor:function(){return this.$5;},set_strokeColor:function(value){this.$5=value;return value;}}
Kepler.Engine.Core.DIALOG_LAUNCH_ACTION=function(){this._strDialog='';this._iFrameToJump=0;this._iCheckWithView=0;}
Kepler.Engine.Core.DIALOG_LAUNCH_ACTION.prototype={_strDialog:null,_idbMode:0,_iCheckWithView:0,_strCheckWithViewString:null,_iFrameToJump:0}
Kepler.Engine.Core.CONTROL_ID=function(iPgNo,iSeqNo){this.iPageNo=iPgNo;this.iSequenceNo=iSeqNo;}
Kepler.Engine.Core.CONTROL_ID.prototype={iPageNo:0,iSequenceNo:0,copy:function(rhs){this.iPageNo=rhs.iPageNo;this.iSequenceNo=rhs.iSequenceNo;},equals:function(rhs){return ((this.iPageNo===rhs.iPageNo)&&(this.iSequenceNo===rhs.iSequenceNo));},$0:function($p0){return ((this.iPageNo!==$p0.iPageNo)&&(this.iSequenceNo!==$p0.iSequenceNo));}}
Kepler.Engine.Core.REPOSITORY_INFO=function(iSerialNo,ctrlId,iCmdId,iCtrlType,bEnabled,iStIdx,iSelIdx,sContents,sName,iAcc,iNextTabStop){if(ss.isValue(iSerialNo)&&ss.isValue(ctrlId)&&ss.isValue(iCmdId)&&ss.isValue(iCtrlType)&&ss.isValue(bEnabled)&&ss.isValue(iStIdx)&&ss.isValue(iSelIdx)&&ss.isValue(iAcc)&&ss.isValue(iNextTabStop)){this._iSerialNo=iSerialNo;this._scControlId=ctrlId;this._iCommandId=iCmdId;this._iControlType=iCtrlType;this._bIsEnabled=bEnabled;this._iStartIndex=iStIdx;this._iSelIndex=iSelIdx;this._sContents=sContents;this._sName=sName;this._iAccelerator=iAcc;this._iNextTabStop=iNextTabStop;}else{this._iSerialNo=-1;this._scControlId=null;this._iCommandId=-1;this._iControlType=-1;this._bIsEnabled=false;this._iStartIndex=-1;this._iSelIndex=-1;this._sContents='';this._sName='';this._iAccelerator=-1;this._iNextTabStop=-1;}}
Kepler.Engine.Core.REPOSITORY_INFO.prototype={_iSerialNo:0,_scControlId:null,_iCommandId:0,_iControlType:0,_bIsEnabled:false,_iStartIndex:0,_iSelIndex:0,_sContents:null,_sName:null,_iAccelerator:0,_iNextTabStop:0,equalTo:function(rhs){this._iSerialNo=rhs._iSerialNo;this._scControlId=rhs._scControlId;this._iCommandId=rhs._iCommandId;this._iControlType=rhs._iControlType;this._bIsEnabled=rhs._bIsEnabled;this._iStartIndex=rhs._iStartIndex;this._iSelIndex=rhs._iSelIndex;this._sContents=rhs._sContents;this._sName=rhs._sName;this._iAccelerator=rhs._iAccelerator;this._iNextTabStop=rhs._iNextTabStop;}}
Kepler.Engine.Core.CONTROL_STATE=function(){this.scControlId=new Kepler.Engine.Core.CONTROL_ID(-1,-1);this.iFlags=-1;this.iIndexVal=-1;this.sContents=null;}
Kepler.Engine.Core.CONTROL_STATE.prototype={scControlId:null,iFlags:0,iIndexVal:0,sContents:null}
Kepler.Engine.Core.DIALOG_HINTS=function(oCtrlID,iSelIdx,rcHintRect,iHintType){if(ss.isValue(oCtrlID)){this.scVisualHintControlId=oCtrlID;}else{this.scVisualHintControlId=new Kepler.Engine.Core.CONTROL_ID(-1,-1);}if(ss.isValue(iSelIdx)){this.iSelIndex=iSelIdx;}if(ss.isValue(rcHintRect)){this.rcVisualHintRectangle=rcHintRect;}if(ss.isValue(iHintType)){this.iVisualHintType=iHintType;}}
Kepler.Engine.Core.DIALOG_HINTS.prototype={scVisualHintControlId:null,iSelIndex:0,rcVisualHintRectangle:null,iVisualHintType:0,copy:function(oCtrlID,iSelIdx,rcHintRect,iHintType){this.scVisualHintControlId=oCtrlID;this.iSelIndex=iSelIdx;this.rcVisualHintRectangle=rcHintRect;this.iVisualHintType=iHintType;}}
Kepler.Engine.Core.DLG_JUMP_INFO=function(){this.iConditionCount=[];this.scPivotInfo=[];this.$0=[];this.iFrameToJump=[];this.iPivotCount=0;this.iNoOfHints=0;this.iDialogHintType=0;this.scVisualHint=[];this.scCheckWithView={};}
Kepler.Engine.Core.DLG_JUMP_INFO.prototype={iPivotCount:0,iConditionCount:null,scPivotInfo:null,$0:null,iFrameToJump:null,iNoOfHints:0,iDialogHintType:0,scVisualHint:null,scCheckWithView:null,getConditionInfo:function(iPivotIndx,iConditionIndx){return this.$0[iPivotIndx][iConditionIndx];},setConditionInfo:function(iIndex,lstControlState){this.$0[iIndex]=lstControlState;},clearActionInfo:function(){this.iPivotCount=0;this.iConditionCount.clear();this.scPivotInfo.clear();this.$0.clear();this.iFrameToJump.clear();Object.clearKeys(this.scCheckWithView);this.iNoOfHints=0;this.iDialogHintType=0;}}
Kepler.Engine.Core.FOCUS_INFO=function(){this.scControlId=new Kepler.Engine.Core.CONTROL_ID(-1,-1);this.strMiscInfo='';}
Kepler.Engine.Core.FOCUS_INFO.prototype={scControlId:null,iStartIdx:0,iEndIdx:0,strMiscInfo:null,clone:function(){var $0=new Kepler.Engine.Core.FOCUS_INFO();$0.scControlId.copy(this.scControlId);$0.iStartIdx=this.iStartIdx;$0.iEndIdx=this.iEndIdx;$0.strMiscInfo=this.strMiscInfo;return $0;}}
Kepler.Engine.Core.FRAME_JUMP_DATA=function(){}
Kepler.Engine.Core.FRAME_JUMP_DATA.prototype={$0:false,$1:0,$2:null}
Kepler.Engine.Core.DialogInfo=function(strDialog,bModal){this.$0=strDialog;this.$1={};}
Kepler.Engine.Core.DialogInfo.prototype={$0:null,get_dialog:function(){return this.$0;},$1:null,get_map:function(){return this.$1;},keY_DB_MODE:'db_mode',keY_DB_OVERRIDE:'db_overridearray',keY_DB_FOCUS:'db_focusinfo',keY_DB_DY_LAUNCH:'db_dynlaunch_info',setDBMode:function(strDbMode){this.$1[this.keY_DB_MODE]=strDbMode;},setDBOverride:function(strDbOverride){this.$1[this.keY_DB_OVERRIDE]=strDbOverride;},setDBFocus:function(strDbFocus){this.$1[this.keY_DB_FOCUS]=strDbFocus;},setDynamicLaunch:function(strDynamicLaunch){this.$1[this.keY_DB_DY_LAUNCH]=strDynamicLaunch;}}
Kepler.Engine.Core.BaseApp=function(strAppName,bWebAppPartitioning,bAyncDependencyExtraction){Kepler.Engine.Core.BaseApp.initializeBase(this);this._strAppName=strAppName;this.$1_2=bWebAppPartitioning;this.$1_3=bAyncDependencyExtraction;this.$1_4=strAppName.toLowerCase()+'/office16/res/';this.$1_5=strAppName.toLowerCase()+'/office16/css/';}
Kepler.Engine.Core.BaseApp.callMeAfterBootstrap=function(fnFireAfterBootstrap){if(Kepler.Engine.Core.BaseApp.$1_1){fnFireAfterBootstrap();}else{Kepler.Engine.Core.BaseApp.$1_0.add(fnFireAfterBootstrap);}}
Kepler.Engine.Core.BaseApp.prototype={_strAppName:null,get_appName:function(){return this._strAppName;},_strResourcePrefix:null,get_resourcePrefix:function(){return this._strResourcePrefix;},get_idPrefix:function(){return this._strAppName.charAt(0)+'_';},$1_2:false,get_webAppPartitioning:function(){return this.$1_2;},$1_3:false,get_ayncDependencyExtraction:function(){return this.$1_3;},$1_4:null,get_resourcePath:function(){return this.$1_4;},$1_5:null,get_cssPath:function(){return this.$1_5;},get_commonResourcePath:function(){return Kepler.Engine.Core.BaseApp.$1_6;},get_commonCssPath:function(){return Kepler.Engine.Core.BaseApp.$1_7;},get_commonFontPath:function(){return Kepler.Engine.Core.BaseApp.$1_8;},get_commonFontCss:function(){return 'font.min.css';},$1_9:function(){Kepler.Engine.Core.BaseApp.$1_1=true;var $0=Kepler.Engine.Core.BaseApp.$1_0.length;for(var $1=0;$1<$0;$1++){Kepler.Engine.Core.BaseApp.$1_0[$1]();}Kepler.Engine.Core.BaseApp.$1_0.clear();},getDefaultDependencies:function(){return null;},extractDependencies:function(task){return null;},beginExtractDependencies:function(task){return null;},getMergedApps:function(){return null;},init:function(){var $0=Kepler.Engine.Core.EngineApp.get_engine();if(ss.isValue($0)&&ss.isValue($0.get_taskMaster())){this.loadCss();}else{Kepler.Engine.Core.BaseApp.callMeAfterBootstrap(ss.Delegate.create(this,this.loadCss));}},loadCss:function(){var $0=Kepler.Engine.Core.EngineApp.get_engine().get_taskMaster();var $1=this.getDefaultCSS();if($1!=null&&$1.length>0){var $enum1=ss.IEnumerator.getEnumerator($1);while($enum1.moveNext()){var $2=$enum1.current;Kepler.Engine.UI.Helper.HtmlCssHelper.addElementToHead(Kepler.Engine.UI.Helper.HtmlCssHelper.createLinkElement('',Kepler.Framework.Core.Browser.QueryString.CacheBuster.addCacheBuster($0.getKeplerRelativePath($2))));}}},getDefaultCSS:function(){return null;}}
Kepler.Engine.Core.App=function(strAppName,bWebAppPartitioning,bAyncDependencyExtraction){Kepler.Engine.Core.App.initializeBase(this,[strAppName,bWebAppPartitioning,bAyncDependencyExtraction]);this._oEngine=Kepler.Engine.Core.EngineApp.get_engine();}
Kepler.Engine.Core.App.prototype={_oEngine:null,get_engine:function(){return this._oEngine;},get_isShowMe:function(){return this._oEngine.get_isShowMe();},get_isTutorial:function(){return this._oEngine.get_isTutorial();},get_isDocAutocomplete:function(){return this._oEngine.get_isDocAutocomplete();},init:function(){Kepler.Engine.Core.App.callBaseMethod(this, 'init');this.register();},sendMessageToEngine:function(strMessage,wParam,lParam){return this._oEngine.sendMessage(strMessage,wParam,lParam);},postMessageToEngine:function(strMessage,wParam,lParam){this._oEngine.postMessage(strMessage,wParam,lParam);}}
Kepler.Engine.Core.MainApp=function(strAppName,bWebAppPartitioning,bAyncDependencyExtraction){Kepler.Engine.Core.MainApp.initializeBase(this,[strAppName,bWebAppPartitioning,bAyncDependencyExtraction]);}
Kepler.Engine.Core.MainApp.prototype={_oAppFrame:null,get_$1_A:function(){var $0=ss.isNullOrUndefined(this._oAppFrame);return $0;},_bInactive:false,get_$1_B:function(){return this._bInactive;},set_$1_B:function($p0){this._bInactive=$p0;return $p0;},register:function(){this.sendMessageToEngine('eONRegisterApp',this._strAppName,this);},getAppView:function(){if(this._oAppFrame!=null){return this._oAppFrame.get_appView();}return null;},$1_C:function($p0){this._oAppFrame=$p0;},dispose:function(){try{this._oAppFrame.dispose();Kepler.Engine.Core.MainApp.callBaseMethod(this, 'dispose');}finally{this._oAppFrame=null;}}}
Kepler.Engine.Core.EngineApp=function(){Kepler.Engine.Core.EngineApp.initializeBase(this,['engine',false,false]);this.$1_F=1;this.$1_10=new Kepler.Engine.Core.CURRENT_STATE();this._mapInactiveApps={};this.$1_B=ss.Delegate.create(this,this.keyboardHookProc);}
Kepler.Engine.Core.EngineApp.get_engine=function(){return Kepler.Engine.Core.EngineApp.$1_A;}
Kepler.Engine.Core.EngineApp.$1_1C=function(){}
Kepler.Engine.Core.EngineApp.getTopLevelFrame=function(){return Kepler.Engine.Core.EngineApp.get_engine().get_currentApp().getAppFrame();}
Kepler.Engine.Core.EngineApp.loadImage=function(src,eevent){var $0=Kepler.Engine.Core.EngineApp.get_engine().get_taskMaster().getKeplerRelativePath(null);eevent.target.setAttribute('src',$0+src);}
Kepler.Engine.Core.EngineApp.prototype={$1_B:null,_bIsTaskMaseterCreated:false,get_isTaskMasterCreated:function(){return this._bIsTaskMaseterCreated;},_oTaskMaster:null,get_taskMaster:function(){return this._oTaskMaster;},$1_C:null,get_$1_D:function(){return this.$1_C;},_oDesktopApp:null,get_desktopApp:function(){return this._oDesktopApp;},_oUiMgr:null,get_uiMrg:function(){return this._oUiMgr;},$1_E:null,_oCurrentApp:null,get_currentApp:function(){return this._oCurrentApp;},_mapInactiveApps:null,get_inactiveApps:function(){return this._mapInactiveApps;},$1_F:0,$1_10:null,get_oState:function(){return this.$1_10;},_bIsShowMe:false,get_isShowMe:function(){return this._bIsShowMe;},_bIsTutorial:false,get_isTutorial:function(){return this._bIsTutorial;},_bIsDynamicHint:false,get_isDynamicHint:function(){return this._bIsDynamicHint;},$1_11:false,get_isDocAutocomplete:function(){return this.$1_11;},get_applicationMode:function(){var $0=0;if(this._bIsShowMe){$0=2;}else if(this._bIsTutorial){$0=1;}return $0;},$1_12:null,$1_13:null,$1_14:null,$1_15:null,$1_16:'',get_haltedDialogName:function(){return this.$1_16;},set_haltedDialogName:function(value){this.$1_16=value;return value;},$1_1D:function($p0){Kepler.Engine.UI.Helper.HtmlCssHelper.setElementHeight(document.body,'100%');this.init();},init:function(){Kepler.Engine.Core.EngineApp.callBaseMethod(this, 'init');Kepler.Engine.Core.ProgressTracker.engineInit();this.attachMessages();this.attachEvents();this.createUIManager();this.bootStrap();},createUIManager:function(){this._oUiMgr=new Kepler.Engine.UI.UIManager();},attachEvents:function(){Kepler.Framework.UI.Events.Hooks.KeyboardHook.register(this.$1_B,true);},keyboardHookProc:function(evt){var $0=(evt).get_shiftKey();var $1=(evt).get_ctrlKey();var $2=(evt).get_altKey();var $3=(evt).get_key();var $4=(evt).get_type();if(this.isEngineGlobalKeys($4,$3,$1,$0,$2)){return this.processEngineGolbalKeys($4,$3,$1,$0,$2);}return false;},isEngineFocusOutKey:function(eventArgs){if(eventArgs.get_key()===Kepler.Framework.UI.Events.EventArgsNs.Keys.f7&&eventArgs.get_ctrlKey()&&!eventArgs.get_shiftKey()&&!eventArgs.get_altKey()){return true;}return false;},isEngineGlobalKeys:function(eType,eKey,bCtrl,bShift,bAlt){return false;},processEngineGolbalKeys:function(eType,eKey,bCtrl,bShift,bAlt){return false;},getDefaultCSS:function(){var $0=[];$0.add(this.get_commonFontPath()+this.get_commonFontCss());var $1=this._oTaskMaster.get_assignment();if(ss.isValue($1)&&$1.get_mghType()==='accounting'){$0.add(this.get_commonCssPath()+'common_accounting.min.css');}else{$0.add(this.get_commonCssPath()+'common.min.css');}$0.add(this.get_commonCssPath()+'iframecss/iframecss.min.css');Kepler.Engine.UI.Controls.ScrollBarBase.set_themE_WIN8(true);return $0;},getDialogCss:function(){var $0=[];$0.add(this.get_commonCssPath()+'dialog_win8.css');$0.add(this.get_commonCssPath()+'control_button_win8.css');$0.add(this.get_commonCssPath()+'control_color_selector_win8.css');$0.add(this.get_commonCssPath()+'control_combo_box_win8.css');$0.add(this.get_commonCssPath()+'control_edit_spin_win8.css');$0.add(this.get_commonCssPath()+'control_list_box_win8.css');$0.add(this.get_commonCssPath()+'control_scrollbar_win8.css');$0.add(this.get_commonCssPath()+'control_tab_win8.css');$0.add(this.get_commonCssPath()+'control_slider_win8.css');$0.add(this.get_commonCssPath()+'control_collapse.css');Kepler.Engine.UI.Controls.ScrollBarBase.set_themE_WIN8(true);return $0;},bootStrap:function(){var $0=true;this._oTaskMaster=new Kepler.Engine.Core.TaskMaster(this);this._bIsTaskMaseterCreated=true;$0=this._oTaskMaster.$1_3B();if($0){this.$1_9();}if($0){this._oTaskMaster.beginDownloadPlayerAndDesktop();this._oTaskMaster.beginDownloadContracts();}},getModule:function(strModuleName){if(this._oTaskMaster!=null){return this._oTaskMaster.$1_3C(strModuleName);}return null;},attachMessages:function(){this.attachMessage('eONRegisterApp',ss.Delegate.create(this,this.$1_20));this.attachMessage('eONRegisterDialogApp',ss.Delegate.create(this,this.$1_21));this.attachMessage('eONRegisterPlayer',ss.Delegate.create(this,this.$1_22));this.attachMessage('eONRegisterDesktop',ss.Delegate.create(this,this.$1_24));this.attachMessage('eONRegisterModule',ss.Delegate.create(this,this.$1_23));this.attachMessage('eONAppReady',ss.Delegate.create(this,this.$1_26));this.attachMessage('eONModuleReady',ss.Delegate.create(this,this.$1_27));this.attachMessage('eONLaunchDialog',ss.Delegate.create(this,this.$1_29));this.attachMessage('eONFrameData',ss.Delegate.create(this,this.$1_25));this.attachMessage('eONEngineAction',ss.Delegate.create(this,this.$1_33));this.attachMessage('eONJumpDirective',ss.Delegate.create(this,this.$1_34));this.attachMessage('eONSendToDescendantsExt',ss.Delegate.create(this,this.$1_42));this.attachMessage('eONExitDirective',ss.Delegate.create(this,this.$1_35));this.attachMessage('eONDebugJump',ss.Delegate.create(this,this.$1_36));this.attachMessage('eONFrameModeChange',ss.Delegate.create(this,this.$1_37));this.attachMessage('eONShowMeDirective',ss.Delegate.create(this,this.$1_38));this.attachMessage('eONTutorialDirective',ss.Delegate.create(this,this.$1_3A));this.attachMessage('eONDocAutocompleteDirective',ss.Delegate.create(this,this.$1_39));this.attachMessage('eONUnloadDialog',ss.Delegate.create(this,this.$1_32));this.attachMessage('msg_dynamic_dialog_creation_timeout',ss.Delegate.create(this,this.$1_2A));this.attachMessage('msg_get_item_status',ss.Delegate.create(this,this.$1_2B));this.attachMessage('msg_get_action_count',ss.Delegate.create(this,this.$1_2C));this.attachMessage('msg_skip_dyn_action',ss.Delegate.create(this,this.$1_2D));this.attachMessage('msg_set_remaining_attempts',ss.Delegate.create(this,this.$1_2E));this.attachMessage('msg_get_remaining_attempts',ss.Delegate.create(this,this.$1_2F));this.attachMessage('msg_set_xl_data',ss.Delegate.create(this,this.$1_1F));this.attachMessage('msg_import_from_tait',ss.Delegate.create(this,this.$1_1E));},$1_1E:function($p0,$p1){var $0=$p1;this.$1_10.get_currentFrameAppView().set_viewData($0);return null;},$1_1F:function($p0,$p1){var $0=this.$1_10.get_currentFrameAppView();var $1=this._oCurrentApp.getAppView();$1.sendMessage('eONFrameData',null,$0);return null;},$1_20:function($p0,$p1){if(!($p1).get_$1_B()){this._oCurrentApp=$p1;}this._oTaskMaster.$1_62($p0,$p1);return null;},$1_21:function($p0,$p1){this._oTaskMaster.registerDialogApp($p0,$p1);return null;},$1_22:function($p0,$p1){this.$1_C=$p1;this._oUiMgr.$4_37(this.$1_C.getAppFrame());return null;},$1_23:function($p0,$p1){this._oTaskMaster.$1_63($p0,$p1);return null;},$1_24:function($p0,$p1){if(ss.isNullOrUndefined(this._oCurrentApp)){this._oCurrentApp=$p1;}this._oDesktopApp=$p1;this._oTaskMaster.$1_64($p0,$p1);return null;},$1_25:function($p0,$p1){var $0=($p1).get_viewData();var $1=$0['office_theme_override'];var $2=$0['office_color_override'];if(!String.isNullOrEmpty($1)){Kepler.Engine.UI.OfficeThemeNs.OfficeTheme.get_instance().setActiveTheme(parseInt($1));}else if(!String.isNullOrEmpty($2)){Kepler.Engine.UI.OfficeThemeNs.OfficeTheme.get_instance().setActiveColor(parseInt($2));}else{Kepler.Engine.UI.OfficeThemeNs.OfficeTheme.get_instance().setDefaultTheme();}return null;},$1_26:function($p0,$p1){if(this._oTaskMaster!=null){var $0=(ss.isValue($p1)&&Type.canCast($p1,Kepler.Engine.UI.BaseAppFrame))?(Type.safeCast($p1,Kepler.Engine.UI.BaseAppFrame)).get_app():Kepler.Engine.Core.EngineApp.$1_A.get_uiMrg().get_$4_11().get_app();if(ss.isValue($0)&&$0.get_appName().toLowerCase()==='excel'){}this._oTaskMaster.sendMessage('eONAppReady',$p0,$p1);if(this.$1_C!=null){this._oUiMgr.$4_2D();}}return null;},$1_27:function($p0,$p1){if(this._oTaskMaster!=null){this._oTaskMaster.sendMessage('eONModuleReady',$p0,$p1);}return null;},$1_28:function($p0){this.$1_15.stop();var $0=this._oTaskMaster.get_dialogApps();var $1=$0[this.get_haltedDialogName()];if(ss.isValue($1)){($1.get_dialog()).set_allowAnimation(true);this.$1_4E($1,$p0);this.set_haltedDialogName(null);this.$1_30(1);}},$1_29:function($p0,$p1){if(ss.isNullOrUndefined(this.$1_15)){this.$1_15=new Kepler.Framework.Core.Timers.Timer(ss.Delegate.create(this,this.$1_28),3000);}var $0=false;var $1=$p0;var $2=$p1;var $3=this._oTaskMaster.get_dialogApps();var $4=$3[$1];if(!this.$1_15.get_isRunning()&&ss.isNullOrUndefined($4)){this.$1_15.start($2);this.$1_30(1);}if(ss.isValue($4)){if(!Kepler.Engine.UI.DesktopWnd.get_instance().get_dialogManager().$4_8($4.get_dialog())){if(this._oTaskMaster.get_useDialogPreLoading()){this._oTaskMaster.addDialogInToDom($4);}if(!this.$1_15.get_isRunning()){var $5=$4.get_dialog();if(ss.isValue(this.get_haltedDialogName())&&this.get_haltedDialogName().length>0){($5).set_allowAnimation(true);}this.$1_4E($4,$2);this.set_haltedDialogName(null);}else{this.set_haltedDialogName($1);}$0=true;}}else{var $6=null;var $7='';if(this._oTaskMaster.get_useDynamicDialogLoading()){this.$1_4D($2.get_map());var $8=new Kepler.Engine.Core.DIALOG_SCENE();$8.set_name($1.toLowerCase());var $9=new Kepler.Framework.Core.Messaging.MessageBasedCallbackParams(this,'eONLaunchDialog',$p0,$p1);this._oTaskMaster.$1_5F($8,$9);}else{if(ss.isNullOrUndefined(this.$1_13)){this.$1_13=new Kepler.Engine.UI.Controls.MessageBox.MessageBox('',1);this.$1_13.set_minimumWidth(350);this.$1_13.set_minimumHeight(150);this.$1_13.addBtnClickEventHandler(ss.Delegate.create(this,this.$1_30));}$6='Kepler';$7='In the Live application the dialog box you are trying to access should '+'appear, however, it will not be displayed in the simulation as it is not relevant to the task.';Kepler.Engine.UI.Controls.MessageBox.MessageBox.show($6,$7,this.$1_13);}}return $0;},$1_2A:function($p0,$p1){this.$1_30(1);this.$1_13=null;this.$1_13=new Kepler.Engine.UI.Controls.MessageBox.MessageBox('',50);Kepler.Engine.UI.Controls.MessageBox.MessageBox.show(null,'Sorry! We are unable to load the resource at this time.',this.$1_13,3000);return null;},$1_2B:function($p0,$p1){return this._oTaskMaster.$1_7C();},$1_2C:function($p0,$p1){var $0=this._oCurrentApp.getAppView();if($0!=null){try{return $0.sendMessage('msg_get_action_count',$p0,$p1);}catch($1){}}return null;},$1_2D:function($p0,$p1){var $0=this._oCurrentApp.getAppView();if($0!=null){try{return $0.sendMessage('msg_skip_dyn_action',$p0,$p1);}catch($1){}}return null;},$1_2E:function($p0,$p1){var $0=this.$1_C.getAppFrame();if($0!=null){try{$0.postMessage('msg_set_remaining_attempts',$p0,$p1);return null;}catch($1){}}return null;},$1_2F:function($p0,$p1){var $0=this._oCurrentApp.getAppView();if($0!=null){try{return $0.sendMessage('msg_get_remaining_attempts',$p0,$p1);}catch($1){}}return null;},$1_30:function($p0){Kepler.Engine.UI.Controls.MessageBox.MessageBox.hide(this.$1_13);if(this.$1_14!=null){this.$1_14.show(false);}},$1_31:function($p0){var $0=this._oCurrentApp.getAppFrame().get_element();$0.removeEventListener('webkitTransitionEnd',ss.Delegate.create(this,this.$1_31),false);$0.removeEventListener('oTransitionEnd',ss.Delegate.create(this,this.$1_31),false);$0.removeEventListener('transitionend',ss.Delegate.create(this,this.$1_31),false);$0.removeEventListener('MSTransitionEnd',ss.Delegate.create(this,this.$1_31),false);Kepler.Engine.UI.Helper.HtmlCssHelper.refreshDOM();},$1_32:function($p0,$p1){this._oUiMgr.$4_35($p0);this._oTaskMaster.postMessage('msg_dispose_dynamic_loaded_dialog',null,null);return null;},addActionStringAsPerSimMode:function(oAction,bIsCorrectAction){if(!this._bIsTutorial){this._oTaskMaster.$1_6F(oAction.get_userAction(),bIsCorrectAction,oAction.get_reportActionData());}},addResetSelectionTagInFrameData:function(bIsTaskJump,oCurrentFrameData){if(bIsTaskJump&&Kepler.Engine.Core.Lms.LmsApi.get_isLmsStrataApiPresent()){oCurrentFrameData.get_viewData()['reset_selection']='1';}},$1_33:function($p0,$p1){Kepler.Engine.Core.EngineApp.get_engine().get_taskMaster().set_isAccessibility(false);this.$1_12=this._oTaskMaster.get_state().clone();if(this._oUiMgr.get_typingModeStarted()){Kepler.Engine.UI.UIManager.hideKeyboard();}var $0=$p0;var $1=$p1;this.addActionStringAsPerSimMode($1,$0);var $2=this._bIsDynamicHint;this.$1_C.getAppFrame().sendMessage('eONPlayerAction',$0,$1);if($2){Kepler.Engine.Core.EngineApp.get_engine().get_taskMaster().set_isAccessibility(Kepler.Engine.UI.WeapAppFrame.appframE_ACCESSIBILITY);return null;}if($1.get_jumpMask()===128){this.$1_3B($1);Kepler.Engine.Core.EngineApp.get_engine().get_taskMaster().set_isAccessibility(Kepler.Engine.UI.WeapAppFrame.appframE_ACCESSIBILITY);return null;}if($1.get_jumpMask()===64){this.$1_40(false);Kepler.Engine.Core.EngineApp.get_engine().get_taskMaster().set_isAccessibility(Kepler.Engine.UI.WeapAppFrame.appframE_ACCESSIBILITY);return null;}if($1.get_jumpMask()===0){Kepler.Engine.Core.EngineApp.get_engine().get_taskMaster().set_isAccessibility(Kepler.Engine.UI.WeapAppFrame.appframE_ACCESSIBILITY);return null;}if(($1.get_jumpMask()&1)===1){this.$1_3C($1);}else if(($1.get_jumpMask()&6)===6){this.$1_3D($1);}else if(($1.get_jumpMask()&16)===16){Kepler.Engine.Core.EngineApp.get_engine().get_taskMaster().set_isAccessibility(Kepler.Engine.UI.WeapAppFrame.appframE_ACCESSIBILITY);return null;}else{Kepler.Engine.Core.EngineApp.get_engine().get_taskMaster().set_isAccessibility(Kepler.Engine.UI.WeapAppFrame.appframE_ACCESSIBILITY);return null;}Kepler.Engine.Core.EngineApp.get_engine().get_taskMaster().set_isAccessibility(Kepler.Engine.UI.WeapAppFrame.appframE_ACCESSIBILITY);return null;},$1_34:function($p0,$p1){Kepler.Engine.Core.EngineApp.get_engine().get_$1_D().getAppFrame().sendMessage('msg_pause_assignment_timer',null,null);var $0=$p1;this.$1_12=this._oTaskMaster.get_state().clone();var $1;var $2=($0.get_subFrame()>-1)?true:false;if($2&&this._oTaskMaster.get_assignmentStatus()===3){if($0.get_task()!==(this.$1_12.get_taskNumber()-1)||$0.get_item()!==(this.$1_12.get_itemNumber()-1)||$0.get_frame()!==(this.$1_12.get_frameNumber()-1)){$2=false;}}if($2){if(this.$1_F===1){return null;}$1=this._oTaskMaster.$1_72(this.$1_10.get_currentFrameAppView(),$0.get_subFrame()+1,this.$1_F);if(!!$1){return null;}if(ss.isValue($p0)){this.$1_40((!$p0)?false:true);}else{this.$1_40(false);}}else{if(!this._oTaskMaster.get_assignment().get_tasks()[$0.get_task()].get_$8()){var $3=new Kepler.Framework.Core.Messaging.MessageBasedCallbackParams(this,'eONJumpDirective',$p0,$p1);this._oTaskMaster.downloadTaskFile($0.get_task(),$3);return null;}$1=this._oTaskMaster.$1_70(this.$1_10.get_currentFrameAppView(),$0.get_task(),$0.get_item(),$0.get_frame());if(!!$1){return null;}if(this._oTaskMaster.get_assignmentStatus()===3&&($0.get_subFrame()>-1)){$1=this._oTaskMaster.$1_72(this.$1_10.get_currentFrameAppView(),$0.get_subFrame()+1,this.$1_F);if(!!$1){return null;}}this.$1_40(false);}return null;},$1_35:function($p0,$p1){this._oTaskMaster.get_assignment().end();window.onbeforeunload=null;window.onunload=null;return null;},$1_36:function($p0,$p1){var $0=$p1;var $1;var $2;var $3=this._oTaskMaster.get_state();$1=(!this.get_applicationMode());$2=$3.get_isInSubFrameMode();if($1&&$0.get_tutorialMode()&&$0.get_subFrame()>=0){this.sendMessage('eONTutorialDirective',1,0);if($0.isValid(this._oTaskMaster.get_assignment(),!$1)){return null;}this.sendMessage('eONJumpDirective',null,$0);return null;}if(this.$1_F===4&&$0.get_subFrame()<0){this.sendMessage('eONTutorialDirective',0,0);this.sendMessage('eONJumpDirective',null,$0);alert('The system will place the application within the master assignment frame. You will then be able to jump into the subframe.');return null;}if($0.get_subFrame()>=0){if($3.get_taskNumber()-1!==$0.get_task()||$3.get_itemNumber()-1!==$0.get_item()||$3.get_frameNumber()-1!==$0.get_frame()){this.sendMessage('eONJumpDirective',null,$0);alert('You cannot jump to this subframe directly. The system will place the application within the master frame containing this subframe. You will then be able to jump into the subframe.');return null;}this.$1_F=($0.get_tutorialMode())?4:2;}else{this.$1_F=1;}if($0.get_subFrame()>=0&&!$0.get_tutorialMode()){this.sendMessage('eONJumpDirective',1,$0);}else{this.sendMessage('eONJumpDirective',0,$0);}return null;},$1_37:function($p0,$p1){return null;},$1_38:function($p0,$p1){if(!$p0){this._bIsShowMe=false;Kepler.Framework.Accessibility.AccessibilitySupport.set_isShowMeRunning(false);Kepler.Engine.UI.Controls.Control.set_isShowMe(false);this._oUiMgr.get_$4_11().sendMessage('eONShowMeDirective',$p0,null);this._oUiMgr.get_$4_12().sendMessage('eONShowMeDirective',$p0,null);}else{this._bIsShowMe=true;Kepler.Framework.Accessibility.AccessibilitySupport.set_isShowMeRunning(true);Kepler.Engine.UI.Controls.Control.set_isShowMe(true);this._oUiMgr.get_$4_11().sendMessage('eONShowMeDirective',$p0,null);this._oUiMgr.get_$4_12().sendMessage('eONShowMeDirective',$p0,null);}return null;},$1_39:function($p0,$p1){if(!$p0){this.$1_11=false;}else{this.$1_11=true;}return null;},$1_3A:function($p0,$p1){if(!$p0){this.$1_F=1;this._oUiMgr.get_$4_11().sendMessage('eONTutorialDirective',$p0,null);this._oUiMgr.get_$4_12().sendMessage('eONTutorialDirective',$p0,null);this._bIsTutorial=false;Kepler.Engine.UI.Controls.Node.apP_MODE=Kepler.Engine.Core.EngineApp.get_engine().get_applicationMode();}else{this._oTaskMaster.$1_71(this.$1_10.get_currentFrameAppView(),1);this.$1_F=4;this._oUiMgr.get_$4_11().sendMessage('eONTutorialDirective',$p0,null);this._oUiMgr.get_$4_12().sendMessage('eONTutorialDirective',$p0,null);this._bIsTutorial=true;}return null;},$1_3B:function($p0){var $0=this._oTaskMaster.get_state();if($0.get_frameNumber()===$p0.get_jump()&&$0.get_subFrameNumber()===$p0.get_jumpExtra()){if(this.$1_F===6){var $1=$p0.$A();$1.set_jump($1.get_jumpExtra());this.$1_3D($1);}else{this.$1_3C($p0);}return;}if($0.get_frameNumber()!==$p0.get_jump()||($0.get_frameNumber()===$p0.get_jump()&&!$p0.get_jumpExtra())){this.$1_3C($p0);return;}if($0.get_frameNumber()===$p0.get_jump()&&$0.get_subFrameNumber()!==$p0.get_jumpExtra()){var $2=$p0.$A();$2.set_jump($2.get_jumpExtra());this.$1_3D($2);return;}},$1_3C:function($p0){var $0=this.$1_F;this.$1_F=1;var $1=this._oTaskMaster.get_state().clone();if(!!this._oTaskMaster.$1_71(this.$1_10.get_currentFrameAppView(),$p0.get_jump())){throw new Error('Invalid State Exception : '+'FrameJump');}if($0===2&&$p0.get_jump()===$1.get_frameNumber()){return this.$1_40(true);}else{return this.$1_40(false);}},$1_3D:function($p0){this.$1_3E($p0);switch(this.$1_F){case 2:if(!!this._oTaskMaster.$1_72(this.$1_10.get_currentFrameAppView(),$p0.get_jump(),2)){throw new Error('Invalid State Exception : '+'SubFrameJump');}return this.$1_40(true);case 4:if(!!this._oTaskMaster.$1_72(this.$1_10.get_currentFrameAppView(),$p0.get_jump(),4)){throw new Error('Invalid State Exception : '+'SubFrameJump');}return this.$1_40(false);}throw new Error('Invalid State Exception : '+'SubFrameJump');},$1_3E:function($p0){switch(this.$1_F){case 1:this.$1_F=2;break;case 4:this.$1_F=4;break;case 2:this.$1_F=2;break;default:alert('The application is in an unknown frame/subframe mode! Subframe jumps cannot be performed!');throw new Error('Invalid State Exception : '+'SwitchSubframeMode');}},$1_3F:function($p0,$p1,$p2){if(!ss.isNullOrUndefined($p0)){if($p2){Kepler.Engine.UI.Helper.HtmlCssHelper.applyTransition($p0,'opacity','2s');}else{Kepler.Engine.UI.Helper.HtmlCssHelper.remvoeAllTransition($p0);}if(!ss.isNullOrUndefined($p1)){Kepler.Engine.UI.Helper.HtmlCssHelper.setElementOpacity($p0,$p1);}}},$1_40:function($p0){var $0=null;var $1=false;var $2=0;if(this.$1_12.get_taskNumber()!==this._oTaskMaster.get_state().get_taskNumber()){var $4=this._oTaskMaster.get_assignment().get_tasks();if(this.$1_12.get_taskNumber()>0&&this.$1_12.get_taskNumber()<=$4.length){switch($4[this.$1_12.get_taskNumber()-1].get_taskStatusMask()){case 5:case 1:case 2:case 3:if($4[this.$1_12.get_taskNumber()-1].get_taskStatusMask()!==3){$0=$4[this.$1_12.get_taskNumber()-1];}if(this._oTaskMaster.get_isIntermediateReporting()){this.$1_C.getAppFrame().sendMessage('eONLmsReport',null,this.$1_12.get_taskNumber());$1=false;}else{$1=true;}break;case 6:$4[this.$1_12.get_taskNumber()-1].set_taskStatusMask(3);break;default:break;}}if(ss.isValue(this._oDesktopApp)){var $5=this._oDesktopApp.getAppView().get_element();$5.addEventListener('webkitTransitionEnd',ss.Delegate.create(this,this.$1_31),false);$5.addEventListener('oTransitionEnd',ss.Delegate.create(this,this.$1_31),false);$5.addEventListener('transitionend',ss.Delegate.create(this,this.$1_31),false);$5.addEventListener('MSTransitionEnd',ss.Delegate.create(this,this.$1_31),false);this.$1_3F($5,'0.2',false);}}if(this.$1_F===4){this.$1_10.get_currentFrameAppView().$9();if(this._bIsShowMe){this.$1_10.get_currentFrameAppView().$B();}}else{this.$1_10.get_currentFrameAppView().$A();}Kepler.Engine.UI.Helper.HtmlCssHelper.refreshDOM();var $3=this.$1_43();if($3){var $6=new Kepler.Framework.Core.Messaging.MessageBasedCallbackParams(this,'eONSendToDescendantsExt',$p0,null);this._oTaskMaster.waitForAppReady($6);$2=0;}else{$2=this.$1_41($p0);}if($0!=null){$0.$38($1);}return $2;},$1_41:function($p0){var $0;var $1=0;var $2=this.$1_12.get_taskNumber()!==this._oTaskMaster.get_state().get_taskNumber();var $3=this._oCurrentApp.getAppFrame();var $4=this._oCurrentApp.getAppView();var $5=this.$1_10.get_currentFrameAppView();var $6=$5.get_frameDataInactiveApp();Kepler.Framework.UI.Events.Capture.CaptureProvider.releaseCapture();this.addResetSelectionTagInFrameData($2,$5);try{try{this.sendMessage('eONFrameData',null,$5);}catch($7){this.$1_4B('Engine App',$7);}try{this.$1_C.getAppFrame().sendMessage('eONFrameData',null,$5);}catch($8){this.$1_4B('Player',$8);}++$1;if(!$p0){try{if(ss.isValue(this._oDesktopApp)&&$3!==this._oDesktopApp.getAppFrame()){this._oDesktopApp.getAppFrame().sendMessage('eONFrameData',null,$5);++$1;}}catch($B){this.$1_4B('Desktop',$B);}++$1;try{$3.sendMessage('eONFrameData',null,$5);$3.sendMessage('eONTaskData',null,this._oTaskMaster.getCurrentTask());++$1;}catch($C){this.$1_4B('AppFrame',$C);}try{$4.sendMessage('eONFrameData',null,$5);$4.sendMessage('eONTaskData',null,this._oTaskMaster.getCurrentTask());++$1;}catch($D){this.$1_4B('AppView',$D);}try{var $E=0;var $F=null;var $dict1=this._mapInactiveApps;for(var $key2 in $dict1){var $10={key:$key2,value:$dict1[$key2]};var $11=$6[$10.key];if(ss.isValue($11)){var $12=$10.value.getAppFrame();$12.show(true);$12.sendMessage('eONFrameData',null,$11);$12.sendMessage('eONTaskData',null,this._oTaskMaster.getCurrentTask());$12.set_isInactiveAppFrame(true);if($12.get_elementStyle().zIndex>$E){$F=$12.get_elementStyle();$E=$F.zIndex;}var $13=$10.value.getAppView();$13.sendMessage('eONFrameData',null,$11);$13.sendMessage('eONTaskData',null,this._oTaskMaster.getCurrentTask());}}if($3.get_elementStyle().zIndex<$E){$F.zIndex=$3.get_elementStyle().zIndex;$3.get_elementStyle().zIndex=$E;}}catch($14){this.$1_4B('InactiveApp Frame&View',$14);}++$1;var $9=$5.get_viewData();var $A=$9['persist_keyboard'];if(!String.isNullOrEmpty($A)&&Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){Kepler.Engine.UI.UIManager.set_persistKeyboardOnFrameJmp((parseInt($A)===1)?true:false);}}$0=this.$1_45();}catch($15){}finally{if(!this._bIsShowMe&&!this._bIsTutorial&&!this.$1_11&&!(ss.isValue($5)&&$5.get_isTerminatingFrame())){Kepler.Engine.Core.EngineApp.get_engine().get_uiMrg().freezeApp(0);}if($2&&ss.isValue(this._oDesktopApp)){var $16=this._oDesktopApp.getAppView().get_element();this.$1_3F($16,'1',true);}this.get_$1_D().getAppFrame().postMessage('msg_frame_data_done',null,null);this._oCurrentApp.getAppFrame().sendMessage('msg_frame_data_done',null,null);}return 0;},$1_42:function($p0,$p1){this.$1_41($p0);return null;},$1_43:function(){var $0=false;var $1;var $2=null;var $3=this.$1_10.get_currentFrameAppView();$1=$3.get_viewData()['eapi_switchapp'];var $4=$3.get_frameDataInactiveApp();if(ss.isValue($1)){$1=$1.trim();$1=$1.toLowerCase();$2=this._oTaskMaster.get_$1_9()[$1];}else{$2=this._oTaskMaster.get_$1_9()[this._oTaskMaster.getCurrentTask().get_appName()];}if(ss.isValue($2)){$0=($0|this.$1_44($4))===1;if(this.$1_E!==$2){$0=($0|$2.get_$1_A())===1;if(this._oCurrentApp!==$2){this._oCurrentApp=$2;}this.$1_E=$2;this.get_uiMrg().$4_2C($2);}else if(this.$1_E!==this._oCurrentApp&&this._oTaskMaster.getCurrentTask().get_appNames().length>1){this._oCurrentApp=this.$1_E;}}else{}return $0;},$1_44:function($p0){var $0=false;var $1=[];var $dict1=this._mapInactiveApps;for(var $key2 in $dict1){var $2={key:$key2,value:$dict1[$key2]};$1.add($2.value);}Object.clearKeys(this._mapInactiveApps);if(ss.isValue($p0)){var $3=null;var $4=null;var $dict3=$p0;for(var $key4 in $dict3){var $5={key:$key4,value:$dict3[$key4]};var $6=$5.value.get_viewData()['@name'];if(ss.isValue($6)){$6=$6.toLowerCase();$4=this._oTaskMaster.get_$1_9()[$6];if(ss.isValue($4)){$3=new $4.constructor();if(ss.isValue($3)){var $7;for($7=0;$7<$1.length;$7++){if($1[$7].get_appName()===$6){break;}}if($7<$1.length){$3=$1[$7];$1.removeAt($7);}else{$3.set_$1_B(true);this._oTaskMaster.$1_7B($3);$3.init();$0=true;}this._mapInactiveApps[$5.key]=$3;}}}}}var $enum5=ss.IEnumerator.getEnumerator($1);while($enum5.moveNext()){var $8=$enum5.current;this._oUiMgr.$4_2A($8);this._oTaskMaster.$1_7A($8);}$1.clear();return $0;},$1_45:function(){this.$1_10.set_$3(null);this.$1_10.set_primaryDialogName('');var $0=this.$1_48(false);if(!!$0){return $0;}this.$1_10.set_$3(this._oTaskMaster.$1_6D(this.$1_F));if(!this.$1_10.get_$3().get_dialogCount()){var $5=this._oCurrentApp.getAppFrame();var $6=(Type.canCast($5,Kepler.Engine.UI.WeapAppFrame))?($5).get_ribbonManager():null;var $7=(Type.canCast($5,Kepler.Engine.UI.WeapAppFrame))?($5).get_docProperties():null;if(ss.isValue($6)&&$6.get_isFileTabActive()){$6.setFocus();}else if(ss.isValue($7)&&$7.get_visible()){$7.setFocus();}else{$5.setFocus();}$0=this.unloadDialogsZeroRef();if(!!$0){return $0;}return 0;}var $1=this.$1_10.get_$3();var $2=$1.get_dialogs();var $3=$1.get_dialogCount();for(var $8=0;$8<$3;$8++){$0=this.$1_49($2[$8].get_name());if(!!$0){return $0;}}$0=this.unloadDialogsZeroRef();if(!!$0){return $0;}var $4=this.$1_47($2,$3);for(var $9=$3-1;$9>=0;--$9){var $A=$2[$9];if($9!==$4){this.$1_46($A.get_name(),$A.get_uiScene(),false,false);}else{this.$1_10.set_primaryDialogName($A.get_name());this.$1_46($A.get_name(),$A.get_uiScene(),true,true);}}return 0;},$1_46:function($p0,$p1,$p2,$p3){var $0;if(ss.isNullOrUndefined($0=this._oTaskMaster.get_dialogApps()[$p0])){throw new Error('Invalid State Exception : '+'SendDataIfImplicitlyLoaded');}if(!$0.get_$1_11()){if($p3){$0.get_dialog().setFocus();}try{var $1=$0.$1_17();var $2;if((Kepler.Engine.UI.KeplerDialog).isInstanceOfType($1)){$2=$1;$2.updatePositionOnLaunchFromEngine();}$0.setData($p1,false);}catch($3){this.$1_4B('Dialog',$3);}return;}},$1_47:function($p0,$p1){var $0=0;for(var $1=0;$1<$p1;++$1){var $2;if(ss.isValue($2=this._oTaskMaster.get_dialogApps()[$p0[$1].get_name()])){if(!$2.get_$1_F()&&!$2.get_$1_11()){return $0;}$0++;}}return 0;},$1_48:function($p0){var $0=this._oTaskMaster.get_dialogApps();var $dict1=$0;for(var $key2 in $dict1){var $1={key:$key2,value:$dict1[$key2]};var $2=$1.key;if(ss.isValue($2)&&$2.length>0){var $3=$1.value;if(ss.isValue($3)){if(!$3.get_$1_F()&&!$3.get_$1_11()){$3.set_$1_13(0);if($p0){this.$1_4A($3);}}}}}return 0;},$1_49:function($p0){var $0=this._oTaskMaster.get_dialogApps();var $1=$p0.toLowerCase();if(!Object.keyExists($0,$1)){throw new Error('Invalid State Exception : '+$p0+' not found.');}var $2=$0[$1];if(ss.isNullOrUndefined($2)){throw new Error('Invalid State Exception : '+$p0+' not found.');}else{if($2.get_$1_11()===1){$2.set_$1_11(0);}if(!$2.get_$1_F()&&!$2.get_$1_11()){try{this._oUiMgr.$4_34($2.$1_17());}catch($3){this.$1_4C('Dialog:'+$2.get_appName()+' launching failed.',$3);}$2.set_$1_13($2.get_$1_13()+1)-1;}}return 0;},unloadDialogsZeroRef:function(){var $0=this._oTaskMaster.get_dialogApps();var $dict1=$0;for(var $key2 in $dict1){var $1={key:$key2,value:$dict1[$key2]};var $2=$1.key;if(ss.isValue($2)&&$2.length>0){var $3=$1.value;if(ss.isValue($3)){if(!$3.get_$1_F()&&!$3.get_$1_13()){this.$1_4A($3);}}}}return 0;},$1_4A:function($p0){try{$p0.$1_18();}catch($0){}},$1_4B:function($p0,$p1){this.$1_4C($p0+' data sending failed : ',$p1);},$1_4C:function($p0,$p1){},$1_4D:function($p0){if(ss.isNullOrUndefined(this.$1_14)){this.$1_14=new Kepler.Engine.UI.Controls.MessageBox.DummyDialog();}if(Object.keyExists($p0,'db_dynlaunch_info')){var $2=Kepler.Engine.Core.TaitHelper.parseDataTag('db_dynlaunch_info',$p0);if($2.length>=3){var $3=new Kepler.Engine.UI.Controls.MessageBox.DynDialogLaunchParams();$3.set_title($2[0]);$3.get_dialogSize().set_width(parseInt($2[1]));$3.get_dialogSize().set_height(parseInt($2[2]));$3.set_dialogType(1);if(ss.isValue($2[3])&&$2[3]==='1'){$3.set_dialogType(2);}else{$3.get_dialogSize().set_width($3.get_dialogSize().get_width()+12);$3.get_dialogSize().set_height($3.get_dialogSize().get_height()+6);}this.$1_14.setLaunchParams($3);}else{}}else{}var $0="<br/>We are fetching this resource!<br/><br/>(Won't be long...)<br/><br/><div class='loader_message_box' style=\"margin-left:45%;\" ></div>"+'';if(ss.isNullOrUndefined(this.$1_13)){this.$1_13=new Kepler.Engine.UI.Controls.MessageBox.MessageBox('');this.$1_13.set_minimumWidth(270);this.$1_13.set_minimumHeight(135);}this.$1_13.set_allowBouncingAnimation(false);this.$1_14.showCentered();var $1=new Kepler.Framework.UI.Point(this.$1_14.get_left()+(this.$1_14.get_width()/2-this.$1_13.get_width()/2),this.$1_14.get_top()+(this.$1_14.get_height()/2-this.$1_13.get_height()/2));Kepler.Engine.UI.Controls.MessageBox.MessageBox.show(null,$0,this.$1_13,-1,null);this.$1_13.set_position($1);},$1_4E:function($p0,$p1){if(!ss.isNullOrUndefined($p1)){$p0.setData($p1.get_map(),true);}var $0=$p0.$1_17();var $1;if((Kepler.Engine.UI.KeplerDialog).isInstanceOfType($0)){$1=$0;$1.updatePositionOnLaunchFromEngine();}this._oUiMgr.$4_34($0);},isHintFreeNavigation:function(){return false;},shouldSendCommandToApp:function(){return !Kepler.Engine.Core.EngineApp.get_engine().get_isTutorial();},preventDialogLaunching:function(){return this.get_isTutorial();},$1_4F:function($p0){return 0;},$1_50:function($p0){return 0;},$1_51:function($p0){return 0;},$1_52:null,get_isActionStringOptimization:function(){if(this.$1_52==null){this.$1_52=this._oTaskMaster.get_isActionstringOptimization();}return this.$1_52;},getPlayerAppFrame:function(){if(ss.isValue(this.$1_C)){var $0=this.$1_C.getAppFrame();if(ss.isValue($0)){return $0;}}return null;},getCurrentAppFrame:function(){if(ss.isValue(this._oCurrentApp)){var $0=this._oCurrentApp.getAppFrame();if(!ss.isUndefined($0)){return $0;}}return null;},getCurrentAppView:function(){if(ss.isValue(this._oCurrentApp)){var $0=this._oCurrentApp.getAppView();if(!ss.isUndefined($0)){return $0;}}return null;},getSystemDesktopRect:function(){var $0=null;var $1=Kepler.Engine.UI.DesktopWnd.get_instance();if(ss.isValue($1)){$0=new Kepler.Framework.UI.Rect($1.get_left(),$1.get_top(),$1.get_width(),$1.get_height());}return $0;},getDesktopViewRect:function(bIncludeTaskbar){var $0=null;if(ss.isValue(this._oDesktopApp)){if(ss.isNullOrUndefined(bIncludeTaskbar)){bIncludeTaskbar=false;}$0=(this._oDesktopApp).getWinDesktopRect(bIncludeTaskbar);}if($0==null){var $1=Kepler.Engine.UI.DesktopWnd.get_instance();if(ss.isValue($1)){var $2=this.getPlayerAppFrame();if($2!=null){$0=new Kepler.Framework.UI.Rect($1.get_left(),$1.get_top(),$1.get_width(),$1.get_height()-$2.get_height());}else{$0=new Kepler.Framework.UI.Rect($1.get_left(),$1.get_top(),$1.get_width(),$1.get_height());}}}return $0;},getDesktopFrameRect:function(){var $0=null;if(ss.isValue(this._oDesktopApp)){var $1=this._oDesktopApp.getAppFrame();if(ss.isValue($1)){$0=new Kepler.Framework.UI.Rect($1.get_left(),$1.get_top(),$1.get_width(),$1.get_height());}}if($0==null){var $2=Kepler.Engine.UI.DesktopWnd.get_instance();if(ss.isValue($2)){var $3=this.getPlayerAppFrame();if($3!=null){$0=new Kepler.Framework.UI.Rect($2.get_left(),$2.get_top(),$2.get_width(),$2.get_height()-$3.get_height());}else{$0=new Kepler.Framework.UI.Rect($2.get_left(),$2.get_top(),$2.get_width(),$2.get_height());}}}return $0;},$1_53:function($p0){var $0=null;if(ss.isValue(this._oDesktopApp)){$0=this._oDesktopApp.getAppFrame();}var $1=this.getCurrentAppFrame();if($1!=null){if($1!==$0){$1.updatePositionAndSizeOverride($p0);}var $dict1=this._mapInactiveApps;for(var $key2 in $dict1){var $2={key:$key2,value:$dict1[$key2]};var $3=$2.value.getAppFrame();if($3!==$0){$3.updatePositionAndSizeOverride($p0);}}}}}
Kepler.Engine.Core.DownloadTaskCustomData=function(callbackParams,task){this.$0=callbackParams;this.$1=task;}
Kepler.Engine.Core.DownloadTaskCustomData.prototype={$0:null,get_callbackParams:function(){return this.$0;},$1:null,get_task:function(){return this.$1;}}
Kepler.Engine.Core.TaskMaster=function(engineApp){Kepler.Engine.Core.TaskMaster.initializeBase(this);this._oEngine=engineApp;this.$1_8={};this.$1_C={};this.$1_A={};this.$1_D=[];this.$1_E={};this._oState=new Kepler.Engine.Core.TaskMasterState();this.$1_10=new Kepler.Engine.UI.Controls.MessageBox.MessageBox();this.$1_11=null;this.attachMessages();this.$1_1D=null;this.$1_1F=false;this.$1_20=true;this.$1_22='';this.$1_23='resources';this.$1_2B=true;this.$1_30=false;this._bNoData=false;this.$1_2A=true;this.$1_27=false;this.$1_2D=false;this.$1_31=3;this.$1_32=new Kepler.Framework.Core.Timers.Timer(ss.Delegate.create(this,this.handleErrorMessage),2000);this.$1_33=null;this.$1_34=-1;this.$1_35=[];this.$1_35.add('cpdb001');this.$1_35.add('cpdb002');this.$1_35.add('cpdb003');}
Kepler.Engine.Core.TaskMaster.DownloadModule=function(strModuleName){var $0=Kepler.Engine.Core.EngineApp.get_engine().get_taskMaster();var $1=$0.getKeplerRelativePath(Kepler.Engine.Core.TaskMaster.$1_73(strModuleName));if(!$0.$1_78($1)){Kepler.Engine.UI.Helper.HtmlCssHelper.addElementToHead(Kepler.Engine.UI.Helper.HtmlCssHelper.createScriptElement($1,Kepler.Framework.Core.Browser.QueryString.CacheBuster.addCacheBuster($1),true));}else{Kepler.Engine.Core.TaskMaster.$1_18.remove(strModuleName.toLowerCase());}}
Kepler.Engine.Core.TaskMaster.$1_73=function($p0){var $0;$0=$p0+'/scripts/release/'+Kepler.Engine.Core.TaskMaster.$1_77($p0);return $0;}
Kepler.Engine.Core.TaskMaster.$1_74=function($p0){var $0;$0='dialog/css/'+Kepler.Engine.Core.TaskMaster.$1_75($p0);return $0;}
Kepler.Engine.Core.TaskMaster.$1_75=function($p0){var $0=Kepler.Engine.Core.EngineApp.get_engine().get_taskMaster();$p0=$p0+'.min.css';return $p0;}
Kepler.Engine.Core.TaskMaster.$1_76=function($p0){var $0;$0='dialog/scripts/release/'+Kepler.Engine.Core.TaskMaster.$1_77($p0);return $0;}
Kepler.Engine.Core.TaskMaster.$1_77=function($p0){var $0=Kepler.Engine.Core.EngineApp.get_engine().get_taskMaster();if(ss.isValue($0)){var $1=$0.get_assignment();if(ss.isValue($1)&&$1.get_mghType()==='accounting'&&($p0==='excel'||$p0==='player')){$p0=$p0+'_accounting';}}$p0=$p0+'.js';return $p0;}
Kepler.Engine.Core.TaskMaster.prototype={_oEngine:null,$1_6:null,get_config:function(){return this.$1_6;},$1_7:null,get_assignment:function(){return this.$1_7;},_oState:null,get_state:function(){return this._oState;},$1_8:null,get_$1_9:function(){return this.$1_8;},$1_A:null,get_$1_B:function(){return this.$1_A;},$1_C:null,get_dialogApps:function(){return this.$1_C;},$1_D:null,$1_E:null,$1_F:null,$1_10:null,$1_11:null,$1_1D:null,$1_1E:null,$1_1F:false,get_useDynamicDialogLoading:function(){return this.$1_1F;},set_useDynamicDialogLoading:function(value){this.$1_1F=value;return value;},$1_20:false,get_useDialogPreLoading:function(){return this.$1_20;},set_useDialogPreLoading:function(value){this.$1_20=value;return value;},$1_21:false,get_useTaitEncryption:function(){return this.$1_21;},set_useTaitEncryption:function(value){this.$1_21=value;return value;},$1_22:null,get_keplerPath:function(){return this.$1_22;},set_keplerPath:function(value){this.$1_22=value;return value;},$1_23:null,get_extResourcePath:function(){return this.$1_23;},set_extResourcePath:function(value){this.$1_23=value;return value;},$1_24:false,get_isIntermediateReporting:function(){return this.$1_24;},set_isIntermediateReporting:function(value){this.$1_24=value;return value;},$1_25:false,get_isReportCompression:function(){return this.$1_25;},set_isReportCompression:function(value){this.$1_25=value;return value;},$1_26:false,get_isActionstringOptimization:function(){return this.$1_26;},set_isActionstringOptimization:function(value){this.$1_26=value;return value;},$1_27:false,get_attemptsDeductionBlocked:function(){return this.$1_27;},set_attemptsDeductionBlocked:function(value){this.$1_27=value;return value;},$1_28:false,get_showMeScrllingAnimation:function(){return this.$1_28;},set_showMeScrllingAnimation:function(value){this.$1_28=value;return value;},$1_29:2500,get_attemptWarningInterval:function(){return this.$1_29;},set_attemptWarningInterval:function(value){this.$1_29=value;return value;},$1_2A:false,get_isPinRibbon:function(){return this.$1_2A;},set_isPinRibbon:function(value){this.$1_2A=value;return value;},$1_2B:false,get_isShowTaskbar:function(){return this.$1_2B;},set_isShowTaskbar:function(value){this.$1_2B=value;return value;},$1_2C:false,get_isAccessibility:function(){if(Kepler.Framework.Accessibility.AccessibilitySupport.get_isShowMeRunning()){return false;}return this.$1_2C;},set_isAccessibility:function(value){this.$1_2C=value;Kepler.Framework.Accessibility.AccessibilitySupport.get_instance().set_isAccessibilityOn(value);return value;},$1_2D:false,get_isBusinessCommunication:function(){return this.$1_2D;},set_isBusinessCommunication:function(value){this.$1_2D=value;return value;},$1_2E:0,get_assignmentStatus:function(){return this.$1_2E;},set_assignmentStatus:function(value){this.$1_2E=value;return value;},get_isShowAnswerOrSolution:function(){return (this.$1_2E===3||this.$1_2E===4||this.$1_2E===5||this.$1_2E===6||this.$1_2E===7);},get_isShowAnswer:function(){return (this.$1_2E===4||this.$1_2E===5||this.$1_2E===6);},get_isShowSolution:function(){return (this.$1_2E===3||this.$1_2E===7);},get_isPregrade:function(){return (this.$1_2E===4);},get_isPostTest:function(){return (this.$1_2E===6);},get_isStartShowme:function(){return (this.$1_2E===3);},get_isLaunchAtCurItem:function(){return (this.$1_2E===3||this.$1_2E===4);},get_isLaunchAtLastItem:function(){return (this.$1_2E===5);},get_isLaunchAtFirstItem:function(){return (this.$1_2E===6||this.$1_2E===7);},$1_2F:null,_jsonReport:null,_jsonReportForMerging:null,$1_30:false,get_isReportUiOnly:function(){return this.$1_30;},_bNoData:false,get_isNoDataAvailable:function(){return this._bNoData;},$1_31:0,$1_32:null,$1_33:null,$1_34:0,$1_35:null,attachMessages:function(){this.attachMessage('msg_download_next_task',ss.Delegate.create(this,this.onMsgDownloadNextTask));this.attachMessage('msg_first_task_download_complate',ss.Delegate.create(this,this.onMsgEngineStartUpTaskDownloadComplete));Kepler.Engine.Core.Lms.LmsApi.addMsgFromLmsEventListener(0,ss.Delegate.create(this,this.$1_38));Kepler.Engine.Core.Lms.LmsApi.addMsgFromLmsEventListener(8,ss.Delegate.create(this,this.$1_36));Kepler.Engine.Core.Lms.LmsApi.addMsgFromLmsEventListener(9,ss.Delegate.create(this,this.$1_37));this.attachMessage('eONAppReady',ss.Delegate.create(this,this.$1_65));this.attachMessage('eONModuleReady',ss.Delegate.create(this,this.$1_66));this.attachMessage('msg_image_caching_done',ss.Delegate.create(this,this.$1_4F));this.attachMessage('msg_dispose_dynamic_loaded_dialog',ss.Delegate.create(this,this.$1_7F));},$1_36:function($p0){this.getStateConfigData($p0);Kepler.Engine.Core.Lms.LmsApi.sendMessageToLms(8,$p0);},getStateConfigData:function(oData){if(ss.isNullOrUndefined(this.$1_2F)||!(Kepler.Engine.Core.Lms.LmsApiDataMsgConfig).isInstanceOfType(oData.get_messageData())){return;}var $0=oData.get_messageData();var $1=JSON.parse(this.$1_2F.get_config());this.$1_6.$3A($1);$0.set_config(JSON.stringify($1));var $2=this.getCurrentTask();var $3=this.getCurrentItem();var $4=$2.get_taskStatusMask();var $5=$2.get_timeTaken();var $6=$3.get_remainingAttempts();if(!this.$1_7.get_isEnded()){$2.set_taskStatusMask(6);var $8=this._oEngine.get_$1_D().getAppFrame().sendMessage('msg_player_get_task_start_time',null,null);if(ss.isValue($8)){$2.set_timeTaken($2.get_timeTaken()+(Date.get_now().getTime()-$8.getTime()));}this.setRemainingAttemptsFromDynamicHintData($3);}var $7=JSON.parse(this.$1_2F.get_assignment());this.$1_7.$46($7);$0.set_assignment(JSON.stringify($7));this._oEngine.sendMessage('msg_update_comment_data',this.$1_7.get_mghType(),null);if((Kepler.Engine.Core.Lms.LmsApiDataMsgConfig4Ezto).isInstanceOfType($0)){this._oEngine.sendMessage('msg_update_state_on_lms_request',null,null);var $9=Kepler.Engine.Core.ReportGenerator.generateJSONReport(this);$9.$1(this._jsonReportForMerging);($0).set_report(JSON.stringify($9));}if(!this.$1_7.get_isEnded()){$2.set_taskStatusMask($4);$2.set_timeTaken($5);$3.set_remainingAttempts($6);}},setRemainingAttemptsFromDynamicHintData:function(oCurrentItem){},$1_37:function($p0){var $0=Kepler.Engine.Core.ReportGenerator.generateJSONReport(this);$0.$1(this._jsonReportForMerging);Kepler.Engine.Core.JsonAssignment.$2($0.assignment);$p0.set_messageData($0.assignment.score);Kepler.Engine.Core.Lms.LmsApi.sendMessageToLms(9,$p0);},createConfiguration:function(){return new Kepler.Engine.Core.Configuration();},$1_38:function($p0){var $0=Kepler.Engine.Core.Lms.LmsApiData.fromObject($p0);this.$1_2F=null;this._jsonReport=null;this._jsonReportForMerging=null;if((Kepler.Engine.Core.Lms.LmsApiDataMsgConfig).isInstanceOfType($0.get_messageData())){this.$1_2F=$0.get_messageData();if((Kepler.Engine.Core.Lms.LmsApiDataMsgConfig4Ezto).isInstanceOfType(this.$1_2F)){this._jsonReport=JSON.parse((this.$1_2F).get_report());this._jsonReportForMerging=JSON.parse((this.$1_2F).get_report());}}else{return;}var $1=ss.isValue(this.$1_2F.get_config());var $2=ss.isValue(this.$1_2F.get_assignment());if($2&&$1){this.$1_30=false;this.beginDownloadPlayerAndDesktop();this.beginDownloadContracts();if(ss.isNullOrUndefined(this.$1_6)){this.$1_6=this.createConfiguration();this.$1_6.$34(JSON.parse(this.$1_2F.get_config()));}else{}if(ss.isNullOrUndefined(this.$1_7)){this.$1_7=Kepler.Engine.EngineObjectFactory.getASSIGNMENTObject();this.$1_7.$40(JSON.parse(this.$1_2F.get_assignment()));if(this._jsonReport!=null){Kepler.Engine.Core.JsonReport.$2(this._jsonReportForMerging);this.$1_7.$4C(this._jsonReportForMerging);}this.tryToDownloadTaskFiles();}else{}this._oEngine.$1_9();if(this._bNoData){this._oEngine.get_uiMrg().$4_2F();}}else if($1){this._oEngine.$1_9();this.$1_30=true;if(this._jsonReport!=null){var $3='LMS/css/';var $4=$3+'report.css';var $5=Kepler.Engine.UI.Helper.HtmlCssHelper.createLinkElement('',$4);$5.addEventListener('load',ss.Delegate.create(this,this.$1_39),true);Kepler.Engine.UI.Helper.HtmlCssHelper.addElementToHead($5);}else{this._bNoData=true;this._oEngine.get_uiMrg().$4_2F();}}else{this._oEngine.$1_9();this._bNoData=true;this._oEngine.get_uiMrg().$4_2F();}},tryToDownloadTaskFiles:function(){this.$1_45();},$1_39:function($p0){$p0.target.removeEventListener('load',ss.Delegate.create(this,this.$1_39),true);Kepler.Engine.Core.ProgressTracker.runProgressToEnd(ss.Delegate.create(this,this.$1_3A));},$1_3A:function($p0){this._oEngine.get_uiMrg().$4_2F();},getFirstLaunchTaskIndex:function(){if(this.$1_6!=null&&this.$1_7!=null){if(this.get_assignmentStatus()===1||this.get_assignmentStatus()===2||this.get_isShowAnswerOrSolution()){var $0=this.$1_6.get_restartFromQuestionId();var $1=this.$1_7.get_taskCount();if(String.isNullOrEmpty($0)){for(var $2=0;$2<$1;$2++){if(this.$1_7.get_tasks()[$2].get_taskStatusMask()===6){return $2;}}}else{for(var $3=0;$3<$1;$3++){if(!this.$1_7.get_tasks()[$3].get_questionId().compareTo($0,true)){return $3;}}}}}return 0;},$1_3B:function(){if(!Kepler.Engine.Core.Lms.LmsApi.get_isApiPresent()){this.$1_3F();this.$1_42();return true;}else{Kepler.Engine.Core.Lms.LmsApi.sendMessageToLms(10,null);return false;}},$1_3C:function($p0){var $0=this.$1_A[$p0];if(ss.isValue($0)){return $0;}return null;},handleErrorMessage:function(){this.$1_31--;this.$1_3E();if(this.$1_31>0){Kepler.Engine.Core.FileDownloader.get_instance().addToDownloadQueue(this.$1_33);}else{Kepler.Engine.Core.EngineApp.get_engine().sendMessage('msg_dynamic_dialog_creation_timeout',null,null);if(this._oState!=null){var $0=new Kepler.Engine.Core.ENLITE_JUMP_DIRECTIVE();$0.jump(this._oState.get_taskNumber(),this._oState.get_itemNumber(),this._oState.get_frameNumber());Kepler.Engine.Core.EngineApp.get_engine().sendMessage('eONJumpDirective',null,$0);Kepler.Engine.Core.EngineApp.get_engine().getPlayerAppFrame().sendMessage(Kepler.Engine.Messages.msG_UPDATE_UI_PLAYER,null,this);}if(this.$1_34!==-1){var $1=this.$1_7.get_tasks()[this.$1_34];$1.$38(true);this.$1_34=-1;}Kepler.Engine.UI.Controls.MessageBox.MessageBox.hide(this.$1_10);}},$1_3D:function(){if(!this.$1_32.get_isRunning()){this.$1_32.start();}},$1_3E:function(){if(this.$1_32.get_isRunning()){this.$1_32.stop();}},$1_3F:function(){var $0=Kepler.Framework.Core.Browser.QueryString.QueryStringParser.getQueryStringValue('config');if(String.isNullOrEmpty($0)){$0=Kepler.Framework.Core.Browser.QueryString.CacheBuster.addCacheBuster(this.getKeplerRelativePath('resources/'+'config.json'));}var $1=new Kepler.Framework.Core.Downloader.File($0,true,true,Kepler.Framework.Core.Downloader.FilePriority.high,ss.Delegate.create(this,this.$1_40),ss.Delegate.create(this,this.$1_41));this.$1_33=$1;Kepler.Engine.Core.FileDownloader.get_instance().addToDownloadQueue($1);},$1_40:function($p0,$p1){this.$1_6=this.createConfiguration();this.$1_6.$34(JSON.parse($p1.get_data()));if(this.$1_7!=null){this.$1_45();}this.$1_31=3;return true;},$1_41:function($p0,$p1){throw new Error('Not Implemented Exception.');},$1_42:function(){var $0=Kepler.Framework.Core.Browser.QueryString.QueryStringParser.getQueryStringValue('assignment');if(String.isNullOrEmpty($0)){$0=Kepler.Framework.Core.Browser.QueryString.CacheBuster.addCacheBuster(this.getKeplerRelativePath('resources/'+'assignment.txt'));}var $1=new Kepler.Framework.Core.Downloader.File($0,true,true,Kepler.Framework.Core.Downloader.FilePriority.high,ss.Delegate.create(this,this.$1_43),ss.Delegate.create(this,this.$1_44));this.$1_33=$1;Kepler.Engine.Core.FileDownloader.get_instance().addToDownloadQueue($1);},$1_43:function($p0,$p1){this.$1_7=Kepler.Engine.EngineObjectFactory.getASSIGNMENTObject();this.$1_7.$40(JSON.parse($p1.get_data()));if(this.$1_6!=null){this.$1_45();}this.$1_31=3;return true;},$1_44:function($p0,$p1){throw new Error('Not Implemented Exception.');},$1_45:function($p0){if(ss.isNullOrUndefined($p0)){if(this.get_isBusinessCommunication()){var $0='common/scripts/release/jsdiff.min.js';Kepler.Engine.UI.Helper.HtmlCssHelper.addElementToHead(Kepler.Engine.UI.Helper.HtmlCssHelper.createScriptElement('jsdiff',Kepler.Framework.Core.Browser.QueryString.CacheBuster.addCacheBuster(this.getKeplerRelativePath($0)),true));}if(this.get_isReportCompression()){var $1='common/scripts/release/jszip.min.js';Kepler.Engine.UI.Helper.HtmlCssHelper.addElementToHead(Kepler.Engine.UI.Helper.HtmlCssHelper.createScriptElement('jszip',Kepler.Framework.Core.Browser.QueryString.CacheBuster.addCacheBuster(this.getKeplerRelativePath($1)),true));}$p0=this.getFirstLaunchTaskIndex();}this.$1_34=$p0;if(Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()||(this.$1_6!=null&&(this.get_assignmentStatus()===2||this.get_isShowAnswerOrSolution()))){Kepler.Engine.Core.ProgressTracker.taskCount(1);var $2=new Kepler.Framework.Core.Messaging.MessageBasedCallbackParams(this,'msg_first_task_download_complate',$p0,null);this.downloadTaskFile($p0,$2);}else{if(Kepler.Engine.Core.Lms.LmsApi.get_isEztoApiPresent()){$p0=0;}var $3=this.$1_7.get_tasks();var $4=$3.length;Kepler.Engine.Core.ProgressTracker.taskCount($4);while($p0<$4){var $5=$3[$p0];if(!$5.get_$8()){var $6;if($p0===$4-1){$6=new Kepler.Framework.Core.Messaging.MessageBasedCallbackParams(this,'msg_first_task_download_complate',$p0,null);}else{$6=new Kepler.Framework.Core.Messaging.MessageBasedCallbackParams(this,'msg_download_next_task',$p0,null);}this.downloadTaskFile($p0,$6);break;}else{$p0++;}}}},showLoadingResourceMessageBox:function(bShow){if(bShow){this.$1_F=this.getTaskDownloadingHTMLContent();Kepler.Engine.UI.Controls.MessageBox.MessageBox.show(null,this.$1_F,this.$1_10);if(Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){Kepler.Engine.UI.Helper.HtmlCssHelper.setElementOpacity(this.$1_10.get_parent().get_element(),'0');Kepler.Engine.UI.Helper.HtmlCssHelper.applyTransition(this.$1_10.get_parent().get_element(),'opacity','2s');Kepler.Engine.UI.Helper.HtmlCssHelper.setElementOpacity(this.$1_10.get_parent().get_element(),'0.9');}}else{if(this.$1_10.get_isCreated()){this.$1_10.get_parent().get_elementStyle().opacity='0';Kepler.Engine.UI.Controls.MessageBox.MessageBox.hide(this.$1_10);}}},downloadTaskFile:function(iTask,callbackParams){var $0=this.$1_7.get_tasks();var $1=$0[iTask];if(!$1.get_$8()){this.$1_F='Task File Downloading...';this.showLoadingResourceMessageBox(true);$1.set_$8(1);$1.set_$A(1);var $2=new Kepler.Engine.Core.DownloadTaskCustomData(callbackParams,$1);this.$1_11=$2;var $3;$3=new Kepler.Engine.Core.Downloader.Engine$18(Kepler.Framework.Core.Browser.QueryString.CacheBuster.addCacheBuster(this.getKeplerRelativePath($1.get_fileName())),true,true,Kepler.Framework.Core.Downloader.FilePriority.high,ss.Delegate.create(this,this.$1_46),ss.Delegate.create(this,this.$1_4A),$2);this.$1_34=iTask;this.$1_33=$3;Kepler.Engine.Core.FileDownloader.get_instance().addToDownloadQueue($3);}},getTaskDownloadingHTMLContent:function(){return "<br><div class='loader_message_box' style=\"margin-left:45%;\" ></div><br><br>Loading resources...";},$1_46:function($p0,$p1){var $0=($p0).get_customData();var $1=$0.get_task();$1.set_$8(2);var $2=Kepler.Framework.Core.Browser.QueryString.CacheBuster.addCacheBuster(Kepler.Framework.Core.Helper.PathHelper.removeExtension(this.getKeplerRelativePath($1.get_fileName()))+'_manifest.json');var $3=new Kepler.Framework.Core.Downloader.File($2,true,true,Kepler.Framework.Core.Downloader.FilePriority.high,ss.Delegate.create(this,this.$1_4B),ss.Delegate.create(this,this.$1_4C),$0);this.$1_33=$3;Kepler.Engine.Core.FileDownloader.get_instance().addToDownloadQueue($3);try{var $4=$p1.get_data();if(this.$1_21){$4=this.$1_80($4);}$1.$28(JSON.parse($4),new Kepler.Framework.Core.Messaging.MessageBasedCallbackParams(this,'msg_image_caching_done',null,null));$1.preloadFonts(this.$1_E);this.$1_47($1);Kepler.Engine.Core.ProgressTracker.appCount(Kepler.Engine.Core.TaskMaster.$1_13.length);Kepler.Engine.Core.ProgressTracker.dlgCount(Kepler.Engine.Core.TaskMaster.$1_1A.length);this.$1_52($1);this.$1_54();if(this.get_useDialogPreLoading()){this.$1_5C($1);this.$1_55($1.get_appNames());}this.$1_4D();this.$1_31=3;}catch($5){}return true;},$1_47:function($p0){Kepler.Engine.Core.TaskMaster.$1_13.clear();var $enum1=ss.IEnumerator.getEnumerator($p0.get_appNamesLowerCase());while($enum1.moveNext()){var $0=$enum1.current;if(!!$0&&!Kepler.Engine.Core.TaskMaster.$1_13.contains($0)&&!Kepler.Engine.Core.TaskMaster.$1_12.contains($0)){Kepler.Engine.Core.TaskMaster.$1_13.add($0);}}Kepler.Engine.Core.TaskMaster.$1_1A.clear();for(var $1=0;$1<$p0.get_itemCount();$1++){var $2=$p0.get_items()[$1];this.$1_49($2.get_frames(),$2.get_frameCount());}var $enum2=ss.IEnumerator.getEnumerator($p0.get_moduleNamesLowerCase());while($enum2.moveNext()){var $3=$enum2.current;if(!String.isNullOrEmpty($3)&&!Kepler.Engine.Core.TaskMaster.$1_18.contains($3)&&!this.$1_48($3)){Kepler.Engine.Core.TaskMaster.$1_18.add($3);}}},$1_48:function($p0){for(var $0=0;$0<Kepler.Engine.Core.TaskMaster.$1_17.length;$0++){if(Kepler.Engine.Core.TaskMaster.$1_17[$0].get_name()===$p0){return true;}}return false;},$1_49:function($p0,$p1){var $0;for(var $1=0;$1<$p1;$1++){$0=$p0[$1];for(var $2=0;$2<$0.get_dialogCount();$2++){var $3=$0.get_dialogs()[$2].get_name().toLowerCase();if(!Kepler.Engine.Core.TaskMaster.$1_1A.contains($3)&&!Kepler.Engine.Core.TaskMaster.$1_19.contains($3)){Kepler.Engine.Core.TaskMaster.$1_1A.add($3);}}if(ss.isValue($0.get_assesmentSubFrames())){this.$1_49($0.get_assesmentSubFrames(),$0.get_assesmentSubFrameCount());}if(ss.isValue($0.get_tutorialSubFrames())){this.$1_49($0.get_tutorialSubFrames(),$0.get_tutorialSubFrameCount());}}},$1_4A:function($p0,$p1){throw new Error('Not Implemented Exception.');},$1_4B:function($p0,$p1){var $0=($p0).get_customData();var $1=$0.get_task();$1.set_$A(2);try{$1.$32(JSON.parse($p1.get_data()));this.$1_4D();this.$1_34=3;}catch($2){}return true;},$1_4C:function($p0,$p1){throw new Error('Not Implemented Exception.');},$1_4D:function(){var $0=false;var $1=this.$1_50();var $2=false;var $3=false;if(ss.isValue(this.$1_11)){var $4=this.$1_11.get_task();if(ss.isValue($4)){$0=$4.$35();$2=$4.$36();$3=$4.$37();}else{$0=$2=true;}}if($0&&$1&&$2&&$3){var $5=this.$1_11.get_callbackParams();this.$1_11=null;if(this.$1_10.get_isCreated()){this.$1_10.get_parent().get_elementStyle().opacity='0';Kepler.Engine.UI.Controls.MessageBox.MessageBox.hide(this.$1_10);}if(ss.isValue($5)){$5.get_sender().sendMessage($5.get_message(),$5.get_wParam(),$5.get_lParam());}}if(this.get_useDynamicDialogLoading()&&ss.isValue(this.$1_1D)){this.$1_1D.get_sender().sendMessage(this.$1_1D.get_message(),this.$1_1D.get_wParam(),this.$1_1D.get_lParam());this.$1_1D=null;}},onMsgDownloadNextTask:function(wParam,lParam){this.$1_45(wParam+1);return null;},onMsgEngineStartUpTaskDownloadComplete:function(wParam,lParam){this.$1_4E();return null;},$1_4E:function(){this._oEngine.get_uiMrg().$4_2E();},$1_4F:function($p0,$p1){this.$1_4D();return null;},$1_50:function(){return (!Kepler.Engine.Core.TaskMaster.$1_13.length&&!Kepler.Engine.Core.TaskMaster.$1_16.length&&!Kepler.Engine.Core.TaskMaster.$1_1A.length&&!Kepler.Engine.Core.TaskMaster.$1_18.length);},$1_51:function(){var $0='';if(Kepler.Engine.Core.TaskMaster.$1_1A.length>0){$0+=' ['+Kepler.Engine.Core.TaskMaster.$1_1A.length+' Dialog]';}if(Kepler.Engine.Core.TaskMaster.$1_13.length>0){$0+=' ['+Kepler.Engine.Core.TaskMaster.$1_13.length+' App]';}if(Kepler.Engine.Core.TaskMaster.$1_18.length>0){$0+=' ['+Kepler.Engine.Core.TaskMaster.$1_18.length+' Module]';}if(!String.isNullOrEmpty($0)){$0=this.$1_F+'<br>Remaining:'+$0;}else{$0=this.$1_F;}this.$1_10.set_messageHtml($0);},beginDownloadPlayerAndDesktop:function(){return;if(this.$1_30||this._bNoData){return;}var $0;$0=Kepler.Framework.Core.Browser.QueryString.CacheBuster.addCacheBuster(this.getKeplerRelativePath(Kepler.Engine.Core.TaskMaster.$1_73('player')));Kepler.Engine.UI.Helper.HtmlCssHelper.addElementToHead(Kepler.Engine.UI.Helper.HtmlCssHelper.createScriptElement('player',$0,true));$0=Kepler.Framework.Core.Browser.QueryString.CacheBuster.addCacheBuster(this.getKeplerRelativePath(Kepler.Engine.Core.TaskMaster.$1_73('desktop')));Kepler.Engine.UI.Helper.HtmlCssHelper.addElementToHead(Kepler.Engine.UI.Helper.HtmlCssHelper.createScriptElement('desktop',$0,true));},beginDownloadContracts:function(){},$1_52:function($p0){var $enum1=ss.IEnumerator.getEnumerator($p0.get_appNames());while($enum1.moveNext()){var $1=$enum1.current;this.$1_53($1);}var $0=$p0.$39(Kepler.Engine.Core.TaskMaster.$1_12,true,false);if($0){this.$1_59($p0);}else{if(!this.$1_D.contains($p0)){this.$1_D.add($p0);}}},$1_53:function($p0){var $0=$p0.toLowerCase();var $1=this.getKeplerRelativePath(Kepler.Engine.Core.TaskMaster.$1_73($p0));if(!Object.keyExists(this.$1_8,$0)){if(Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){if(this._oEngine.get_currentApp()!=null&&this._oEngine.get_currentApp().get_appName()!==$p0){this.$1_56(this._oEngine.get_currentApp().get_appName());}}this.$1_8[$0]=null;if(!!$p0){if(!this.$1_78($1)){Kepler.Engine.UI.Helper.HtmlCssHelper.addElementToHead(Kepler.Engine.UI.Helper.HtmlCssHelper.createScriptElement($p0,Kepler.Framework.Core.Browser.QueryString.CacheBuster.addCacheBuster($1),true));}}return true;}else{var $2=Type.safeCast(this.$1_8[$0],Kepler.Engine.Core.MainApp);if(ss.isValue($2)&&!$2.get_$1_A()){this._oEngine.sendMessage('eONAppReady',null,$2.getAppFrame());}}return false;},$1_54:function(){var $enum1=ss.IEnumerator.getEnumerator(Kepler.Engine.Core.TaskMaster.$1_18);while($enum1.moveNext()){var $0=$enum1.current;Kepler.Engine.Core.TaskMaster.DownloadModule($0);}},$1_55:function($p0){var $enum1=ss.IEnumerator.getEnumerator($p0);while($enum1.moveNext()){var $3=$enum1.current;var $4=this.getKeplerRelativePath(Kepler.Engine.Core.TaskMaster.$1_76($3+'db'));var $5=this.getKeplerRelativePath(Kepler.Engine.Core.TaskMaster.$1_74($3+'db'));if(!this.$1_78($4)){Kepler.Engine.UI.Helper.HtmlCssHelper.addElementToHead(Kepler.Engine.UI.Helper.HtmlCssHelper.createScriptElement($4,Kepler.Framework.Core.Browser.QueryString.CacheBuster.addCacheBuster($4),true));Kepler.Engine.UI.Helper.HtmlCssHelper.addElementToHead(Kepler.Engine.UI.Helper.HtmlCssHelper.createLinkElement('',Kepler.Framework.Core.Browser.QueryString.CacheBuster.addCacheBuster($5)));}}var $0='commondb';var $1=this.getKeplerRelativePath(Kepler.Engine.Core.TaskMaster.$1_76($0));var $2=this.getKeplerRelativePath(Kepler.Engine.Core.TaskMaster.$1_74($0));if(!this.$1_78($1)){Kepler.Engine.UI.Helper.HtmlCssHelper.addElementToHead(Kepler.Engine.UI.Helper.HtmlCssHelper.createScriptElement($1,Kepler.Framework.Core.Browser.QueryString.CacheBuster.addCacheBuster($1),true));Kepler.Engine.UI.Helper.HtmlCssHelper.addElementToHead(Kepler.Engine.UI.Helper.HtmlCssHelper.createLinkElement('',Kepler.Framework.Core.Browser.QueryString.CacheBuster.addCacheBuster($2)));}},$1_56:function($p0){var $0=$p0.toLowerCase();if(Object.keyExists(this.$1_8,$0)&&ss.isValue(this.$1_8[$0])){this._oEngine.get_uiMrg().$4_2A(Type.safeCast(this.$1_8[$0],Kepler.Engine.Core.MainApp));}},$1_57:function($p0){var $0=Kepler.Engine.Core.TaskMaster.$1_77($p0).toLowerCase();var $1=document.getElementsByTagName('head')[0];for(var $2=0;$2<$1.childNodes.length;$2++){var $3=$1.childNodes[$2];if(!String.compare($3.tagName,'script',true)){var $4=($3).src.toLowerCase();if($4.indexOf($0)!==-1){$1.removeChild($3);break;}}}},$1_58:function(){var $0=this.$1_D.length;for(var $1=0;$1<$0;){if(this.$1_D[$1].$39(Kepler.Engine.Core.TaskMaster.$1_12,true,false)){try{this.$1_59(this.$1_D[$1]);}catch($2){}this.$1_D.removeAt($1);$0--;}else{$1++;}}},$1_59:function($p0){if(this.$1_20){return;}var $0=$p0.get_items();var $1=$p0.get_itemCount();for(var $2=0;$2<$1;$2++){var $3=$0[$2];this.$1_5A($3.get_frames(),$3.get_frameCount());}},$1_5A:function($p0,$p1){for(var $0=0;$0<$p1;$0++){var $1=$p0[$0];this.$1_5B($1.get_dialogs(),$1.get_dialogCount());this.$1_5A($1.get_assesmentSubFrames(),$1.get_assesmentSubFrameCount());this.$1_5A($1.get_tutorialSubFrames(),$1.get_tutorialSubFrameCount());}},$1_5B:function($p0,$p1){for(var $0=0;$0<$p1;$0++){var $1=$p0[$0];if(!this.$1_20){this.$1_5F($1);}}},$1_5C:function($p0){var $0=$p0.get_items();var $1=$p0.get_itemCount();for(var $2=0;$2<$1;$2++){var $3=$0[$2];this.$1_5D($3.get_frames(),$3.get_frameCount());}},$1_5D:function($p0,$p1){for(var $0=0;$0<$p1;$0++){var $1=$p0[$0];this.$1_5E($1.get_dialogs(),$1.get_dialogCount());this.$1_5D($1.get_assesmentSubFrames(),$1.get_assesmentSubFrameCount());this.$1_5D($1.get_tutorialSubFrames(),$1.get_tutorialSubFrameCount());}},$1_5E:function($p0,$p1){for(var $0=0;$0<$p1;$0++){var $1=$p0[$0];if(this.$1_20&&!Kepler.Engine.Core.TaskMaster.$1_1C.contains($1.get_name())){Kepler.Engine.Core.TaskMaster.$1_1C.add($1.get_name());if(this.$1_C[$1.get_name().toLocaleLowerCase()]!=null&&!Kepler.Engine.Core.TaskMaster.$1_19.contains($1.get_name().toLocaleLowerCase())){this.$1_67($1.get_name().toLocaleLowerCase(),this.$1_C[$1.get_name()]);}}}},$1_5F:function($p0,$p1){var $0=$p0.get_name();var $1=$0.toLowerCase();if(this.$1_35.contains($1)){$0='windb003';$1=$0.toLowerCase();}var $2=Kepler.Engine.Core.TaskMaster.$1_73($0);if(!Object.keyExists(this.$1_C,$1)){this.$1_C[$1]=null;Kepler.Engine.UI.Helper.HtmlCssHelper.addElementToHead(Kepler.Engine.UI.Helper.HtmlCssHelper.createScriptElement($0,Kepler.Framework.Core.Browser.QueryString.CacheBuster.addCacheBuster(this.getKeplerRelativePath($2)),true));}if(ss.isValue($p1)&&this.get_useDynamicDialogLoading()){if(this.$1_1E==null){this.$1_1E=new Kepler.Framework.Core.Timers.Timer(ss.Delegate.create(this,this.$1_60),5000);}this.$1_1E.start();this.$1_1D=$p1;}},$1_60:function($p0){if(this.$1_1D!=null){var $0=this.$1_1D.get_wParam();if(Object.keyExists(this.$1_C,$0)){Kepler.Engine.Core.EngineApp.get_engine().sendMessage('msg_dynamic_dialog_creation_timeout',$0,this);this.$1_1D=null;}}if(this.$1_1E!=null){this.$1_1E.stop();}},$1_61:function(){var $0=this._oEngine.get_uiMrg();while(Kepler.Engine.Core.TaskMaster.$1_14.length>0){var $1=Kepler.Engine.Core.TaskMaster.$1_14[0];Kepler.Engine.Core.TaskMaster.$1_14.removeAt(0);$0.$4_29($1);}},$1_62:function($p0,$p1){if(String.isNullOrEmpty($p0)){throw new Error("strAppName can't be null or empty.");}if(ss.isNull($p1)){throw new Error('Null Reference Exception : baseApp');}if(!Kepler.Engine.Core.TaskMaster.$1_16.contains($p1)){var $0=$p0.toLowerCase();this.$1_8[$0]=$p1;}if(!Kepler.Engine.Core.TaskMaster.$1_18.length){this._oEngine.get_uiMrg().$4_29($p1);}else{Kepler.Engine.Core.TaskMaster.$1_14.add($p1);}},$1_63:function($p0,$p1){if(String.isNullOrEmpty($p0)){throw new Error("strModuleName can't be null or empty.");}if(ss.isNull($p1)){throw new Error('Null Reference Exception : module');}this.$1_A[$p0]=$p1;},$1_64:function($p0,$p1){if(String.isNullOrEmpty($p0)){throw new Error("strAppName can't be null or empty.");}if(ss.isNull($p1)){throw new Error('Null Reference Exception : baseApp');}var $0=$p0.toLowerCase();this.$1_8[$0]=$p1;Kepler.Engine.Core.TaskMaster.$1_12.add($0);Kepler.Engine.Core.TaskMaster.$1_13.remove($0);this._oEngine.get_uiMrg().$4_36($p1);this.$1_4D();},waitForAppReady:function(callbackParams){var $0=new Kepler.Engine.Core.DownloadTaskCustomData(callbackParams,null);this.$1_11=$0;},$1_65:function($p0,$p1){var $0=(ss.isValue($p1)&&Type.canCast($p1,Kepler.Engine.UI.BaseAppFrame))?(Type.safeCast($p1,Kepler.Engine.UI.BaseAppFrame)).get_app():this._oEngine.get_uiMrg().get_$4_11().get_app();if(ss.isValue($0)){var $1=$0.get_appName().toLowerCase();if(Kepler.Engine.Core.TaskMaster.$1_13.contains($1)){Kepler.Engine.Core.TaskMaster.$1_12.add($1);Kepler.Engine.Core.TaskMaster.$1_13.remove($1);Kepler.Engine.Core.ProgressTracker.appLoaded();if(!Kepler.Engine.Core.TaskMaster.$1_13.length){if(Object.getKeyCount(Kepler.Engine.Core.TaskMaster.$1_1B)>0){var $dict1=Kepler.Engine.Core.TaskMaster.$1_1B;for(var $key2 in $dict1){var $3={key:$key2,value:$dict1[$key2]};this.$1_67($3.key,$3.value);}Object.clearKeys(Kepler.Engine.Core.TaskMaster.$1_1B);}}}else if(Kepler.Engine.Core.TaskMaster.$1_16.contains($0)){Kepler.Engine.Core.TaskMaster.$1_15.add($0);Kepler.Engine.Core.TaskMaster.$1_16.remove($0);}var $2=$0.getMergedApps();if($2!=null){for(var $4=0;$4<$2.length;$4++){var $5=$2[$4].toLowerCase();if(!Object.keyExists(this.$1_C,$5)){this.$1_C[$5]=null;if(!Kepler.Engine.Core.TaskMaster.$1_1A.contains($5)){Kepler.Engine.Core.TaskMaster.$1_1A.add($5);}}}}if(!this.$1_20){this.$1_58();}this.$1_4D();}return null;},$1_66:function($p0,$p1){var $0=$p1;if(ss.isValue($0)){Kepler.Engine.Core.TaskMaster.$1_18.remove($0.get_name().toLowerCase());if(!Kepler.Engine.Core.TaskMaster.$1_17.contains($0)){Kepler.Engine.Core.TaskMaster.$1_17.add($0);}}if(!Kepler.Engine.Core.TaskMaster.$1_18.length&&Kepler.Engine.Core.TaskMaster.$1_14.length>0){this.$1_61();}return null;},registerDialogApp:function(strDialogAppName,dialogApp){if(String.isNullOrEmpty(strDialogAppName)){throw new Error('Null Reference Exception : '+'strDialogAppName');}if(ss.isNull(dialogApp)){throw new Error('Null Reference Exception : '+'app');}var $0=strDialogAppName.toLowerCase();if(this.$1_1D!=null){if(this.$1_1D.get_wParam()!==$0){dialogApp.dispose();dialogApp=null;return;}else{dialogApp.set_$1_11(1);}}this.$1_C[$0]=dialogApp;try{this.$1_67($0,dialogApp);}catch($1){this.$1_60(null);}this.$1_4D();},$1_67:function($p0,$p1){if(!Kepler.Engine.Core.TaskMaster.$1_19.contains($p0)){if(Kepler.Engine.Core.TaskMaster.$1_13.length>0){Kepler.Engine.Core.TaskMaster.$1_1B[$p0]=$p1;}else if(!this.get_useDialogPreLoading()||this.isDialogToBeLoadedInternally($p0)){$p1.loadExternalCssFiles();var $0=$p1.$1_17();var $1=Kepler.Engine.UI.DesktopWnd.get_instance().get_dialogManager();$1.$4_4($0);$1.$4_7($0);Kepler.Engine.Core.TaskMaster.$1_19.add($p0);Kepler.Engine.Core.TaskMaster.$1_1A.remove($p0);if(!Object.keyExists(Kepler.Engine.Core.TaskMaster.$1_1B,$p0)){Kepler.Engine.Core.ProgressTracker.dlgLoaded();}}}},addDialogInToDom:function(oDialogApp){var $0=oDialogApp.$1_17();var $1=Kepler.Engine.UI.DesktopWnd.get_instance().get_dialogManager();$1.$4_4($0);$1.$4_7($0);var $2=oDialogApp.get_appName().toLowerCase();Kepler.Engine.Core.TaskMaster.$1_19.add($2);Kepler.Engine.Core.TaskMaster.$1_1A.remove($2);},isDialogToBeLoadedInternally:function(strDialogAppNameLower){return (this.isDialogMergedWithApp(strDialogAppNameLower)||this.$1_68(strDialogAppNameLower));},isDialogMergedWithApp:function(strDialogAppNameLower){var $0=false;var $enum1=ss.IEnumerator.getEnumerator(Kepler.Engine.Core.TaskMaster.$1_12);while($enum1.moveNext()){var $1=$enum1.current;var $2=this.get_$1_9()[$1];var $3=$2.getMergedApps();if(ss.isValue($3)&&$3.contains(strDialogAppNameLower)){$0=true;break;}}return $0;},$1_68:function($p0){return Kepler.Engine.Core.TaskMaster.$1_1C.contains($p0);},$1_69:function(){var $enum1=ss.IEnumerator.getEnumerator(this.$1_7.get_tasks());while($enum1.moveNext()){var $0=$enum1.current;if($0.get_$8()!==2){return;}}var $dict2=this.$1_8;for(var $key3 in $dict2){var $1={key:$key3,value:$dict2[$key3]};if(ss.isNullOrUndefined($1.value)){return;}}},getCurrentTask:function(){return this.$1_7.get_tasks()[this._oState.get_taskNumber()-1];},getCurrentItem:function(){return this.$1_7.get_tasks()[this._oState.get_taskNumber()-1].get_items()[this._oState.get_itemNumber()-1];},getCurrentFrame:function(){return this.$1_7.get_tasks()[this._oState.get_taskNumber()-1].get_items()[this._oState.get_itemNumber()-1].get_frames()[this._oState.get_frameNumber()-1];},$1_6A:function($p0){if($p0===2){return this.$1_7.get_tasks()[this._oState.get_taskNumber()-1].get_items()[this._oState.get_itemNumber()-1].get_frames()[this._oState.get_frameNumber()-1].get_assesmentSubFrames()[this._oState.get_subFrameNumber()-1];}else{return this.$1_7.get_tasks()[this._oState.get_taskNumber()-1].get_items()[this._oState.get_itemNumber()-1].get_frames()[this._oState.get_frameNumber()-1].get_tutorialSubFrames()[this._oState.get_subFrameNumber()-1];}},getMaxTasks:function(){return this.$1_7.get_taskCount();},getMaxItemsInTask:function(iTaskNumber){return this.$1_7.get_tasks()[iTaskNumber-1].get_itemCount();},getMaxFramesInItem:function(iTaskNumber,iItemNumber){return this.$1_7.get_tasks()[iTaskNumber-1].get_items()[iItemNumber-1].get_frameCount();},getFirstTaskInDocumentOfGivenTask:function(iTaskNumber){if(this.$1_7.get_isDocumentBased()){var $0=1;var $1=this.$1_7.get_documentCount();var $2=this.$1_7.get_docs();for(var $3=0;$3<$1;$3++){if(iTaskNumber>=$2[$3].get_taskOffset()){$0=$2[$3].get_taskOffset();}}return $0;}else{return 1;}},getLastTaskInDocumentOfGivenTask:function(iTaskNumber){if(this.$1_7.get_isDocumentBased()){var $0=-1;var $1=-1;var $2=this.$1_7.get_documentCount();var $3=this.$1_7.get_docs();for(var $4=0;$4<$2;$4++){if(iTaskNumber>=$3[$4].get_taskOffset()){$0=$4;}else if($0>=0){$1=$3[$4].get_taskOffset()-1;}}if($1===-1){$1=this.getMaxTasks();}return $1;}else{return this.getMaxTasks();}},$1_6B:function($p0,$p1,$p2){return this.$1_7.get_tasks()[$p0-1].get_items()[$p1-1].get_frames()[$p2-1].get_assesmentSubFrameCount();},$1_6C:function($p0,$p1,$p2){return this.$1_7.get_tasks()[$p0-1].get_items()[$p1-1].get_frames()[$p2-1].get_tutorialSubFrameCount();},$1_6D:function($p0){if(this._oState.get_isInSubFrameMode()){return this.$1_6A($p0);}else{return this.getCurrentFrame();}},$1_6E:function($p0){if(this.$1_7.get_tasks()[this._oState.get_taskNumber()-1].get_appName().toLowerCase()===this.$1_7.get_tasks()[$p0].get_appName().toLowerCase()){return false;}return true;},$1_6F:function($p0,$p1,$p2){if(this.get_isBusinessCommunication()){return;}var $0=this.getCurrentItem();$0.$B($p1,$p0,$p2);if(!$p1){$0.set_incorrectActionCount($0.get_incorrectActionCount()+1);}},$1_70:function($p0,$p1,$p2,$p3){if(this.getMaxTasks()<$p1+1){}if(this.getMaxItemsInTask($p1+1)<$p2+1){}if(this.getMaxFramesInItem($p1+1,$p2+1)<$p3+1){}var $0;if(this._oState.get_taskNumber()!==$p1+1&&!!this._oState.get_taskNumber()){if(this.$1_6E($p1)){$0=this._oEngine.$1_4F(this.$1_7.get_tasks()[$p1].get_appName());if(!!$0){throw new Error('Invalid State Exception : '+'Jump');}$0=this._oEngine.$1_50($p1);if(!!$0){throw new Error('Invalid State Exception : '+'Jump');}}}if(!this._oState.get_taskNumber()){$0=this._oEngine.$1_51(this.$1_7.get_tasks()[$p1].get_appName());if(!!$0){throw new Error('Invalid State Exception : '+'Jump');}}this._oState.changeTask($p1,$p2,$p3);return this.$1_71($p0,$p3+1);},$1_71:function($p0,$p1){var $0=this.getCurrentItem();--$p1;this._oState.changeFrame($p1);var $1=this.getCurrentFrame();$p0.set_viewData($1.get_uiScene());$p0.set_isTerminatingFrame($1.get_isTerminatingFrame());$p0.$C($1.get_inactiveAppUIScenes());$p0.set_desktopAppData($1.get_desktopAppData());return 0;},$1_72:function($p0,$p1,$p2){if($p2===2){}else{}--$p1;this._oState.changeSubFrame($p1);var $0=this.$1_6A($p2);$p0.set_viewData($0.get_uiScene());$p0.set_isTerminatingFrame($0.get_isTerminatingFrame());$p0.$C($0.get_inactiveAppUIScenes());$p0.set_desktopAppData($0.get_desktopAppData());if($p2===2){}else{}return 0;},getKeplerRelativePath:function(strFilePath){if(!this.$1_22){return strFilePath;}else{var $0=new ss.StringBuilder();$0.append(this.$1_22);$0.append(strFilePath);return $0.toString();}},$1_78:function($p0){$p0=$p0.toLowerCase();var $0=document.getElementsByTagName('script');var $1=0;for($1=0;$1<$0.length;$1++){if(($0[$1]).src.toLowerCase().indexOf($p0)!==-1){return true;}}return false;},$1_79:function(){Kepler.Engine.Core.TaskMaster.$1_15.clear();},$1_7A:function($p0){Kepler.Engine.Core.TaskMaster.$1_15.remove($p0);},$1_7B:function($p0){Kepler.Engine.Core.TaskMaster.$1_16.add($p0);},$1_7C:function(){if(ss.isNullOrUndefined(this._jsonReport)||(!this.get_isShowAnswerOrSolution())){return null;}var $0=this.getCurrentTask();var $1=this._oState.get_itemNumber()-1;var $2=this._jsonReport.assignment.questions;var $3=$2.count;for(var $4=0;$4<$3;$4++){if($2.question[$4].id===$0.get_questionId()){var $5=$2.question[$4].items;if(ss.isValue($5)){return $5.item[$1].crt;}}}return false;},$1_7D:function(){if(ss.isNullOrUndefined(this._jsonReport)){return null;}var $0=[];var $1=this.getCurrentTask();var $2=this._oState.get_itemNumber()-1;var $3=this._jsonReport.assignment.questions;var $4=$3.count;for(var $5=0;$5<$4;$5++){if($3.question[$5].id===$1.get_questionId()){var $6=$3.question[$5].items;if(ss.isValue($6)){var $7=$6.item[$2].clickstreams;var $8=$7.cnt;for(var $9=0;$9<$8;$9++){var $A=$7.clickstream[$9].data;if(ss.isValue($A)){$0.add($A);}}}break;}}return $0;},$1_7E:function(){if(ss.isNullOrUndefined(this._jsonReport)){return null;}var $0=this.getCurrentTask();var $1=this._oState.get_itemNumber()-1;var $2=[];var $3=0;var $4;var $5=this._jsonReport.assignment.questions;var $6=$5.count;for(var $7=0;$7<$6;$7++){if($5.question[$7].id===$0.get_questionId()){for($3=0;$3<$5.question[$7].generated_cell_data.length;$3++){$4=$5.question[$7].generated_cell_data[$3];$2[$3]={};var $enum1=ss.IEnumerator.getEnumerator($4.cell_data);while($enum1.moveNext()){var $8=$enum1.current;$2[$3][$8.cell_ref]=$8.cell_value;}}break;}}return $2;},$1_7F:function($p0,$p1){if(Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){var $0=Object.getKeyCount(this.$1_C);for(var $1=0;$1<$0;$1++){var $2=this.$1_C[Object.keys(this.$1_C)[$1]];if($2.get_$1_11()===1){delete this.$1_C[Object.keys(this.$1_C)[$1]];Kepler.Engine.Core.TaskMaster.$1_19.remove($2.get_appName().toLowerCase());$2.dispose();}}}return null;},$1_80:function($p0){var $0=new Array($p0.length*2);for(var $5=0;$5<$p0.length;$5++){var $6=$p0.charCodeAt($5);$0[2*$5]=($6>>8);$0[2*$5+1]=($6&255);}var $1='0123456789';var $2=new Array($1.length);for(var $7=0;$7<$1.length;$7++){$2[$7]=$1.charCodeAt($7);}var $3=new Kepler.Engine.Core.EncryptDecrypt.Engine$14();$3.$1($0,$2);var $4=[Math.ceil($0.length/2)];for(var $8=0;$8<$0.length;$8+=2){$4[$8/2]=String.fromCharCode($0[$8]<<8|$0[$8+1]);}return $4.join('');}}
Kepler.Engine.Core.XmlParser=function(strXmlFile){this._jQXml=null;this.$6=[];this.$7={};this.$8=[];this.$9={};this._strDbgLogPrefix='[Xml_Parser] ';this.$4=strXmlFile;this.$D=new Kepler.Framework.Core.Timers.Timer(ss.Delegate.create(this,this.handleErrorMessage),2000);this.$E=null;this.$C=-1;}
Kepler.Engine.Core.XmlParser.prototype={_jQXml:null,get_xmlNode:function(){return this._jQXml;},set_xmlNode:function(value){this._jQXml=value;return value;},get_downloaded:function(){return this._jQXml!=null;},$2:false,$3:false,_bWipParsing:false,_strDbgLogPrefix:null,get_debugLogPrefix:function(){return this._strDbgLogPrefix;},set_debugLogPrefix:function(value){this._strDbgLogPrefix=value;return value;},$4:null,get_filePath:function(){return this.$4;},_strRootNode:null,$5:null,$6:null,$7:null,$8:null,$9:null,add_downloadSuccess:function(value){this.$A=ss.Delegate.combine(this.$A,value);},remove_downloadSuccess:function(value){this.$A=ss.Delegate.remove(this.$A,value);},$A:null,add_downloadError:function(value){this.$B=ss.Delegate.combine(this.$B,value);},remove_downloadError:function(value){this.$B=ss.Delegate.remove(this.$B,value);},$B:null,$C:0,$D:null,$E:null,addParserRoleDelegate:function(iRole,fnParseNode){this.$7[iRole]=fnParseNode;},addParserTagNameDelegate:function(strTagName,fnParseNode){this.$9[strTagName.toLowerCase()]=fnParseNode;},downloadXml:function(evtDownloadSuccess,evtDownloadError){if(this._bWipParsing){throw new Error(this._strDbgLogPrefix+'Xml parsing is already in progress');}if(this.$3){throw new Error(this._strDbgLogPrefix+'Xml file downloading is already in progress');}this._jQXml=null;if(ss.isValue(evtDownloadSuccess)){this.add_downloadSuccess(evtDownloadSuccess);}if(ss.isValue(evtDownloadError)){this.add_downloadError(evtDownloadError);}var $0=Kepler.Engine.Core.EngineApp.get_engine().get_taskMaster();var $1=new Kepler.Framework.Core.Downloader.File(Kepler.Framework.Core.Browser.QueryString.CacheBuster.addCacheBuster($0.getKeplerRelativePath(this.$4)),true,true,Kepler.Framework.Core.Downloader.FilePriority.high,ss.Delegate.create(this,this.$F),ss.Delegate.create(this,this.$10));this.$3=true;Kepler.Engine.Core.FileDownloader.get_instance().addToDownloadQueue($1);},startXmlParsing:function(strRootNode,oParents){if(this._bWipParsing){throw new Error(this._strDbgLogPrefix+'Xml parsing is already in progress');}this._strRootNode=strRootNode.toLowerCase();this.$5=oParents;if(this._jQXml==null){this.$2=true;if(!this.$3){this.downloadXml(null,null);}}else{this.$11();}},$F:function($p0,$p1){var $0=$.parseXML($p1.get_data());this._jQXml=$($0.documentElement);this.$3=false;if(ss.isValue(this.$A)){this.$A(this);}if(this.$2){this.$2=false;this.$11();}this.$C=3;return true;},$10:function($p0,$p1){if(ss.isValue(this.$B)){this.$B(this);}throw new Error('XmlParser parsing XML file downloading error...!!!');},$11:function(){this._bWipParsing=true;if(ss.isValue(this._jQXml)&&this._jQXml.length!==1){return;}var $0=(this._jQXml.is(this._strRootNode))?this._jQXml:this._jQXml.find(this._strRootNode);if($0.length!==1){this._bWipParsing=false;return;}this.parseXmlNode(this.$5,$0[0]);this.parseXmlNodes(this.$5,$0.children());this._bWipParsing=false;},parseXmlNodes:function(oParents,jQNodes){for(var $0=0;$0<jQNodes.length;$0++){this.parseXmlNode(oParents,jQNodes[$0]);}},parseXmlNode:function(oParents,elmNode){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt(elmNode,'role',Number.NaN);var $1=elmNode.tagName.toLowerCase();if(!isNaN($0)&&Object.keyExists(this.$7,$0)){this.$7[$0](oParents,elmNode);}else if(Object.keyExists(this.$9,$1)){this.$9[$1](oParents,elmNode);}else if(!!$1.compareTo(this._strRootNode)){var $2=this._strDbgLogPrefix+' Parsing function not available for ';if(!isNaN($0)){$2+='role "'+$0+'"';}else{$2+='"'+$1+'" node';}}},handleErrorMessage:function(){this.$C--;this.$13();if(this.$C>0){Kepler.Engine.Core.FileDownloader.get_instance().addToDownloadQueue(this.$E);}else{Kepler.Engine.Core.EngineApp.get_engine().sendMessage('msg_dynamic_dialog_creation_timeout',null,null);}},$12:function(){if(!this.$D.get_isRunning()){this.$D.start();}},$13:function(){if(this.$D.get_isRunning()){this.$D.stop();}},dispose:function(){Object.clearKeys(this.$7);Object.clearKeys(this.$9);this.$A=null;this.$B=null;this.$5=null;this._jQXml=null;}}
Kepler.Engine.Core.BaseXmlParser_ParentParam=function(){}
Kepler.Engine.Core.Engine$F=function(){}
Kepler.Engine.Core.Engine$F.$0=function($p0){var $0=$p0.stack.toString();alert('Error :- '+$p0.message+'\nLocation :- '+$0);}
Type.registerNamespace('Kepler.Engine.UI.Controls');Kepler.Engine.UI.Controls.EDiaplayMode=function(){};Kepler.Engine.UI.Controls.EDiaplayMode.prototype = {TEXT:0,PICTURE:1,BOTH:2}
Kepler.Engine.UI.Controls.EDiaplayMode.registerEnum('Kepler.Engine.UI.Controls.EDiaplayMode',false);Kepler.Engine.UI.Controls.EIcon=function(){};Kepler.Engine.UI.Controls.EIcon.prototype = {BITMAP:0,DATE:1,STRING:2,WORD:3,EXCEL:4,POWER:5,ACCESS:6,PUBLISHER:7,INFOPATH:8,WEB:9,CUSTOM:10}
Kepler.Engine.UI.Controls.EIcon.registerEnum('Kepler.Engine.UI.Controls.EIcon',false);Kepler.Engine.UI.Controls.SplitButtonType=function(){};Kepler.Engine.UI.Controls.SplitButtonType.prototype = {withSplit:0,withOutSplit:1}
Kepler.Engine.UI.Controls.SplitButtonType.registerEnum('Kepler.Engine.UI.Controls.SplitButtonType',false);Kepler.Engine.UI.Controls.TextFloatingControlModes=function(){};Kepler.Engine.UI.Controls.TextFloatingControlModes.prototype = {unknown:-1,twoBtnMode:0,threeBtnMode:1}
Kepler.Engine.UI.Controls.TextFloatingControlModes.registerEnum('Kepler.Engine.UI.Controls.TextFloatingControlModes',false);Kepler.Engine.UI.Controls.ComboColorButton=function(ptPosition,oCtrlSize,iMenuNo,strId){this.$3_6=new RegExp('\\<[^\\>]*\\>');Kepler.Engine.UI.Controls.ComboColorButton.initializeBase(this,['div','ComboCtrl_style content_align_center'+Kepler.Engine.UI.Controls.Control.csS_CLASS_POSITION_ABSOLUTE,strId,null]);Kepler.Engine.UI.Helper.HtmlCssHelper.addElementAttribute(this.get_element(),'name',(Kepler.Engine.UI.Controls.ComboColorButton).get_name());if(ss.isValue(ptPosition)){this.set_position(ptPosition);}oCtrlSize.set_width(oCtrlSize.get_width()-2);oCtrlSize.set_height(oCtrlSize.get_height()-2);this.set_size(oCtrlSize);this.createContentPart();this.createButtonPart();this.$3_2=iMenuNo;this.set_focusChildCtrlsOnTab(false);this.$3_4='0';this.$3_7=false;this.$3_8='';this.$3_5=[];}
Kepler.Engine.UI.Controls.ComboColorButton.prototype={_btnDropDown:null,_elmColorContainer:null,$3_2:0,get_menuNumber:function(){return this.$3_2;},set_menuNumber:function(value){this.$3_2=value;return value;},$3_3:null,$3_4:null,$3_5:null,get_menuItems:function(){return this.$3_5;},$3_7:false,get_resetToOverride:function(){return this.$3_7;},set_resetToOverride:function(value){this.$3_7=value;return value;},$3_8:null,get_overrideString:function(){return this.$3_8;},set_overrideString:function(value){this.$3_8=value;return value;},get_ariaSpeech:function(){return Kepler.Engine.UI.Controls.ComboColorButton.callBaseMethod(this, 'get_ariaSpeech')+' '+this.getSelectedText()+' button ';},set_ariaSpeech:function(value){Kepler.Engine.UI.Controls.ComboColorButton.callBaseMethod(this, 'set_ariaSpeech',[value]);return value;},onLoad:function(){Kepler.Engine.UI.Controls.ComboColorButton.callBaseMethod(this, 'onLoad');this.$3_9();this.$3_A();if(this.$3_2!==-1){Kepler.Engine.Core.EngineApp.get_engine().get_currentApp().getAppFrame().sendMessage('msg_create_menus_in_advance',this.$3_2,this);}},$3_9:function(){this.addEvents(Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseDown);this.addEvents(Kepler.Framework.UI.Events.EventArgsNs.EventType.touchStart);},$3_A:function(){this.attachMessage('msg_menu_item_clicked',ss.Delegate.create(this,this.onMsgMenuItemClicked));this.attachMessage(Kepler.Engine.UI.Controls.ButtonBase.msG_BUTTON_CLICKED,ss.Delegate.create(this,this.$3_E));this.attachMessage('msg_menu_close',ss.Delegate.create(this,this.onMsgMenuClose));this.attachMessage('msg_menu_created',ss.Delegate.create(this,this.$3_F));},$3_B:function(){if(this.$3_2>-1){var $0=Kepler.Engine.Core.EngineApp.get_engine().get_currentApp();this.$3_5=$0.getAppFrame().sendMessage('msg_get_color_menu_items',this.$3_2,null);if(ss.isNullOrUndefined(this.$3_5)){this.$3_5=[];}}},createContentPart:function(){var $0=(this.get_size().get_width()-17);var $1=this.get_size().get_height();this._elmColorContainer=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div',null,'absolute',3,3,$0-6,$1-6,'content_align_center',null);this._elmColorContainer.style.backgroundColor='Black';this.get_element().appendChild(this._elmColorContainer);},createButtonPart:function(){this._btnDropDown=new Kepler.Engine.UI.Controls.CSSToggleButton(null,new Kepler.Framework.UI.Point(this.get_width()-17,0),new Kepler.Framework.UI.Size(17,this.get_size().get_height()),null,' combo_button',null,' combo_image');this.add(this._btnDropDown);},updateText:function(strText){this._elmColorContainer.style.backgroundColor='';Kepler.Engine.UI.Helper.HtmlCssHelper.setElementInnerText(this._elmColorContainer,strText);},$3_C:function($p0){if($p0!=null&&this.get_enable()){this._elmColorContainer.innerHTML='';if(Type.getInstanceType($p0)===Kepler.Framework.UI.Color){this._elmColorContainer.style.backgroundColor=$p0.toString();}else if(Type.getInstanceType($p0)===String){this._elmColorContainer.style.backgroundColor=$p0.toString();}}},setSelectionIndex:function(strIndex,bSendMsgToParent){var $0=null;if(!String.isNullOrEmpty(strIndex)){var $1=strIndex.split(Kepler.Framework.Core.Seperators.doublE_DELTA);var $2=-1;var $3=-1;var $4=this.$3_4.split(Kepler.Framework.Core.Seperators.doublE_DELTA);if((ss.isNullOrUndefined(bSendMsgToParent)||bSendMsgToParent)&&$4.length===2&&$1.length===1){$2=parseInt($4[0]);$3=parseInt($4[1]);if($2>-1){$0=this.$3_5[$2];var $5=$0;if(ss.isValue($5)){$5.set_checkedSubItem(-1);$5.drawItem(null,Kepler.Framework.UI.Controls.EItemState.eNormal);}}}this.$3_4=strIndex;$2=parseInt($1[0]);$3=-1;if($1.length>1){$3=parseInt($1[1]);}if($2>-1){$0=this.$3_5[$2];if(Type.getInstanceType($0)===Kepler.Engine.UI.Menu.WindowsMenuItem){var $6=$0;$6.set_checked(true);var $7=$6.get_text();while($7.search(this.$3_6)!==-1){$7=$7.replace(this.$3_6,'');}this.updateText($7);}else if(Type.getInstanceType($0)===Kepler.Engine.UI.Menu.ColorGridMenuItem&&$3>-1&&$3<$0.get_menuSubItemCount()){var $8=$0;$8.set_checkedSubItem($3);$8.drawItem(null,Kepler.Framework.UI.Controls.EItemState.eNormal);this.$3_C($8.getColorFromIndex($3).get_color());}}}if(ss.isValue(bSendMsgToParent)&&!bSendMsgToParent){return;}this.$3_10($0);},getSelectionIndex:function(){var $0=this.$3_4.split(Kepler.Framework.Core.Seperators.doublE_DELTA);if($0.length>1){if(String.isNullOrEmpty($0[1])){return $0[0];}}return this.$3_4;},launchMenu:function(){var $0=Kepler.Engine.Core.EngineApp.get_engine().get_currentApp();var $1=new Kepler.Engine.UI.MenuWnd_MenuParams(this,this.$3_2,2,Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientRect(this.get_element()),null);$1.setPositioningOrder(7);this.setSelectionIndex(this.$3_4,false);if(this._btnDropDown!=null){this._btnDropDown.set_state(Kepler.Engine.UI.Controls.ECheckBoxState.eChecked);}$0.getAppFrame().sendMessage('msg_show_menu',null,$1);},$3_D:function(){var $0=null;var $1=this.$3_4.split(Kepler.Framework.Core.Seperators.doublE_DELTA);var $2=parseInt($1[0]);if($2>-1){$0=this.$3_5[$2];}if(Type.getInstanceType($0)===Kepler.Engine.UI.Menu.WindowsMenuItem){($0).set_checked(false);($0).drawItem(null,Kepler.Framework.UI.Controls.EItemState.eNormal);}else if(Type.getInstanceType($0)===Kepler.Engine.UI.Menu.ColorGridMenuItem){if(this.$3_7&&!String.isNullOrEmpty(this.$3_8)){this.setSelectionIndex(this.$3_8,false);}else{($0).set_checkedSubItem(-1);}($0).drawItem(null,Kepler.Framework.UI.Controls.EItemState.eNormal);}},getColorFromIndex:function(iIndex){for(var $0=0;$0<this.$3_5.length;$0++){if(Type.getInstanceType(this.$3_5[$0])===Kepler.Engine.UI.Menu.ColorGridMenuItem){var $1=this.$3_5[$0];if(iIndex>-1&&iIndex<$1.get_menuSubItemCount()){return $1.getColorFromIndex(iIndex).get_color();}}}return null;},getIndexFromColor:function(cColor){for(var $0=0;$0<this.$3_5.length;$0++){if(Type.getInstanceType(this.$3_5[$0])===Kepler.Engine.UI.Menu.ColorGridMenuItem){var $1=this.$3_5[$0];return $1.getIndexFromColor(cColor);}}return 0;},getFocusRect:function(){var $0=new Kepler.Framework.UI.Rect(0,0,0,0);$0.set_left(this._elmColorContainer.offsetLeft+this.get_position().get_x());$0.set_top(this._elmColorContainer.offsetTop+this.get_position().get_y());$0.set_size(new Kepler.Framework.UI.Size(this._elmColorContainer.offsetWidth,this._elmColorContainer.offsetHeight));return $0;},getSelectedText:function(){var $0=this.$3_4.split(Kepler.Framework.Core.Seperators.doublE_DELTA);var $1=parseInt($0[0]);var $2=-1;if($0.length>1){$2=parseInt($0[1]);}if($1>-1){var $3=this.$3_5[$1];if(Type.getInstanceType($3).get_name()==='WindowsMenuItem'){var $4=$3;var $5=$4.get_text();while($5.search(this.$3_6)!==-1){$5=$5.replace(this.$3_6,'');}return $5;}else if(Type.getInstanceType($3).get_name()==='ColorGridMenuItem'&&$2>-1){return ($3).getColorFromIndex($2).get_tooltip();}}return null;},onLButtonDown:function(mouseEventArgs){this.launchMenu();Kepler.Engine.UI.Controls.ComboColorButton.callBaseMethod(this, 'onLButtonDown',[mouseEventArgs]);},onKeyDown:function(evt){Kepler.Engine.UI.Controls.ComboColorButton.callBaseMethod(this, 'onKeyDown',[evt]);if(evt.get_key()===Kepler.Framework.UI.Events.EventArgsNs.Keys.down||evt.get_key()===Kepler.Framework.UI.Events.EventArgsNs.Keys.space){this.launchMenu();}return;},onMsgMenuItemClicked:function(wParam,lParam){var $0=wParam;this.$3_D();$0.set_checked(true);var $1;var $2=Type.getInstanceType($0);if(!$2.get_name().compareTo('ColorGridMenuItem')){var $3=$0;$1=$3.get_menuHoverSubItem();if($1>-1){var $4=$3.getColorFromIndex($1).get_color();$3.set_checkedSubItem($1);this.$3_3=$4;this.$3_C($4);var $5=[];var $6=this.$3_5.indexOf($0);this.$3_4=$6+Kepler.Framework.Core.Seperators.doublE_DELTA+$1;}}if(!$2.get_name().compareTo('WindowsMenuItem')){var $7=$0;var $8=$7.get_text();while($8.search(this.$3_6)!==-1){$8=$8.replace(this.$3_6,'');}if(!$8.compareTo('Automatic')||!$8.compareTo('No Color')||!$8.compareTo('No Fill')){this.updateText($8);var $9=this.$3_5.indexOf($0);this.$3_4=$9.toString();}}return this.$3_10(wParam);},$3_E:function($p0,$p1){if(($p1)===this._btnDropDown){this.launchMenu();}return null;},onMsgMenuClose:function(wParam,lParam){if(this._btnDropDown!=null){this._btnDropDown.set_state(Kepler.Engine.UI.Controls.ECheckBoxState.eUnchecked);}this.$3_D();return null;},$3_F:function($p0,$p1){if($p0!=null){this.$3_5=$p0;}return null;},$3_10:function($p0){var $0=new Kepler.Framework.UI.Controls.OnCommandStruct($p0,Kepler.Framework.UI.Controls.NotificationCode.menU_ITEM_CLICKED);var $1=this.sendMessageToParent(Kepler.Engine.UI.Controls.Control.msG_COMMAND,$0,this);if(!$1){$1=this.sendMessageToParent('msg_menu_item_clicked',$p0,this);}return $1;}}
Kepler.Engine.UI.Controls.CustomList=function(ptPosition,oCtrlSize,iMenuNo,iCommonItemHeight,oCommonCtrlSize,strCommonImgSrc,strId,bIsButton,bIsDragNDrop){this.$3_3=-1;Kepler.Engine.UI.Controls.CustomList.initializeBase(this,['div','position_absolute content_align_center_custom CustomListCtrl_div',strId,null]);Kepler.Engine.UI.Helper.HtmlCssHelper.addElementAttribute(this.get_element(),'name',(Kepler.Engine.UI.Controls.CustomList).get_name());if(ss.isValue(ptPosition)){this.set_position(ptPosition);}this.$3_6=(ss.isNullOrUndefined(iCommonItemHeight)||iCommonItemHeight===-1)?56:iCommonItemHeight;this.$3_4=oCommonCtrlSize;if(strCommonImgSrc!=null){this.$3_5=strCommonImgSrc;}if(ss.isNullOrUndefined(oCtrlSize)){return;}this._iSelectedIdx=-1;this._iHoverIdx=-1;this._iVisualHintIndex=-1;this._iMenuNumber=iMenuNo;var $0=document.createElement('Div');this.get_element().appendChild($0);this.$3_9=Kepler.Engine.UI.Controls.EScrollbarMode.AUTO;this.$3_7=new Kepler.Engine.UI.Controls.VScrollBar(new Kepler.Framework.UI.Point(-17+3,1),new Kepler.Framework.UI.Size(17,this.get_height()-2));this.$3_7.set_mfcBehaviour(false);this._elemTable=document.createElement('table');this._elemTable.className='custom_table_style ';this._elemTable.style.width=(oCtrlSize.get_width()-17-1)+'px';$0.appendChild(this._elemTable);this._lstItemControl=[];this.set_size(oCtrlSize);if(ss.isValue(strId)){this.$3_1=strId;}if(ss.isNullOrUndefined(bIsButton)||(ss.isValue(bIsButton)&&bIsButton)){this.$3_15(-1);this.$3_F=true;}if(ss.isValue(bIsDragNDrop)){this.$3_10=bIsDragNDrop;}this.set_focusChildCtrlsOnTab(false);this.$3_12=[];this.$3_13=-1;this.$3_14=false;this.set_rightClickEventNeeded(true);this.set_alwaysSpeechOnSetFocus(true);}
Kepler.Engine.UI.Controls.CustomList.prototype={_btnDropDown:null,$3_1:null,$3_2:'CustomListCtrl_text',get_textClassName:function(){return this.$3_2;},set_textClassName:function(value){this.$3_2=value;return value;},_iSelectedIdx:0,get_selectedIdx:function(){return this._iSelectedIdx;},get_menuItemIdx:function(){return this.$3_3;},_iHoverIdx:0,get_hoverIndex:function(){return this._iHoverIdx;},$3_4:null,$3_5:'',$3_6:0,_elemTable:null,_lstItemControl:null,get_itemList:function(){return this._lstItemControl;},get_count:function(){return this._lstItemControl.length;},$3_7:null,_iVisualHintIndex:0,$3_8:0,get_displayMode:function(){return this.$3_8;},set_displayMode:function(value){this.$3_8=value;return value;},$3_9:0,get_scrollbarMode:function(){return this.$3_9;},set_scrollbarMode:function(value){this.$3_9=value;return value;},_iMenuNumber:0,$3_A:0,get_rightClickMenuNumber:function(){return this.$3_A;},set_rightClickMenuNumber:function(value){this.$3_A=value;return value;},$3_B:null,$3_C:0,$3_D:null,get_themeColor:function(){return this.$3_D;},set_themeColor:function(value){this.$3_D=value;return value;},$3_E:'',get_rowClassName:function(){return this.$3_E;},set_rowClassName:function(value){this.$3_E=value;return value;},$3_F:false,$3_10:false,_bIsShowButtonWhileLaunchingMenu:true,$3_11:true,get_showHover:function(){return this.$3_11;},set_showHover:function(value){this.$3_11=value;return value;},$3_12:null,$3_13:0,get_controlIndex:function(){return this.$3_13;},set_controlIndex:function(value){this.$3_13=value;return value;},$3_14:false,get_isRightClickMenuOpen:function(){return this.$3_14;},set_isRightClickMenuOpen:function(value){this.$3_14=value;return value;},get_ariaSpeech:function(){var $0='';var $1=-1;if(this._iHoverIdx!==-1){$0=this.get_itemList()[this._iHoverIdx];$1=this._iHoverIdx;}else if(this._iSelectedIdx!==-1){$0=this.get_itemList()[this._iSelectedIdx];$1=this._iSelectedIdx;}else{if(this.get_count()>0){$0=this.get_itemList()[0];$1=0;}}if(String.isNullOrEmpty($0)){return '';}if(!this.get_ariaSpeechFromOnFocus()){return $0;}return this._strAriaSpeech+' list box '+$0+' '+$1+' out of '+this.get_count();},set_ariaSpeech:function(value){Kepler.Engine.UI.Controls.CustomList.callBaseMethod(this, 'set_ariaSpeech',[value]);return value;},onLoad:function(){Kepler.Engine.UI.Controls.CustomList.callBaseMethod(this, 'onLoad');this.add(this.$3_7);if(this.$3_F){this.add(this._btnDropDown);}this.$3_17();this.$3_16();if(this._iMenuNumber>-1){var $0=Kepler.Engine.Core.EngineApp.get_engine().get_currentApp();this.$3_B=[];this.$3_B=$0.getAppFrame().sendMessage('msg_menu_item_clicked',this._iMenuNumber,null);}this.onSize();},onSize:function(){Kepler.Engine.UI.Controls.CustomList.callBaseMethod(this, 'onSize');var $0=this.get_width()-17-1;this._elemTable.parentNode.style.pixelWidth=this.get_width()-1;this._elemTable.style.pixelWidth=$0;if(this._btnDropDown!=null){this._btnDropDown.set_left($0-15);}this.$3_7.set_left(this.get_width()-17-1);this.$3_7.set_height(this.get_height()-2);var $1=this.get_height();var $2=this.get_count()*this.$3_6;this.updateScrollBar($1,$2);},launchMenu:function(iMenuNo){var $0=Kepler.Engine.Core.EngineApp.get_engine().get_currentApp();var $1=new Kepler.Engine.UI.MenuWnd_MenuParams(this,iMenuNo,-1,Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientRect(this.get_element().lastChild),null);if(iMenuNo===this._iMenuNumber){$1.setPositioningOrder(8);}else{$1.setPositioningOrder(9);}$0.getAppFrame().sendMessage('msg_show_menu',null,$1);},$3_15:function($p0){this._btnDropDown=new Kepler.Framework.UI.Themed_Controls.Themed_Buttons.ThemeCSSToggleButton(null,new Kepler.Framework.UI.Point(this.get_width()-17-15,$p0*this.$3_6+3),new Kepler.Framework.UI.Size(15,this.$3_6-3),null,' custom_list_button',null,' custom_list_button_image');this._btnDropDown.set_sendClickMsgOnMouseDown(true);this._btnDropDown.set_focusable(false);},$3_16:function(){this.attachMessage(Kepler.Engine.UI.Controls.ScrollBarBase.msG_SCROLL_POS_CHANGED,ss.Delegate.create(this,this.$3_1B));this.attachMessage(Kepler.Engine.UI.Controls.ScrollBarBase.msG_SCROLL_POS_CHANGING,ss.Delegate.create(this,this.$3_1C));this.attachMessage(Kepler.Engine.UI.Controls.ButtonBase.msG_BUTTON_CLICKED,ss.Delegate.create(this,this.$3_1D));this.attachMessage(Kepler.Engine.UI.Controls.Control.msG_COMMAND,ss.Delegate.create(this,this.$3_1F));this.attachMessage('msg_menu_item_clicked',ss.Delegate.create(this,this.$3_1E));this.attachMessage(Kepler.Engine.UI.Controls.Control.msG_CONTROL_DRAG_START,ss.Delegate.create(this,this.$3_20));this.attachMessage(Kepler.Engine.UI.Controls.Control.msG_CONTROL_DROP,ss.Delegate.create(this,this.$3_21));},$3_17:function(){this.addEvents(Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseDown|Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseUp|Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseMove|Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseOut|Kepler.Framework.UI.Events.EventArgsNs.EventType.touchStart|Kepler.Framework.UI.Events.EventArgsNs.EventType.touchEnd|Kepler.Framework.UI.Events.EventArgsNs.EventType.touchMove);},addItems:function(eDisplayMode,strPassString,eIcon,bIsLeftOrRight,ptImgPos,oImgSize,bIsPaddingTop,bIsReqRightIcon,ptRtImgPos,oRtImgSize){var $0=this._elemTable;var $1=0;var $2=$0.rows.length;var $3=$2;var $4=$0.insertRow($3);$4.id='CustomListCtrl_Row';$4.style.height=this.$3_6+'px';$4.className=this.$3_E;var $5="url('"+this.$3_5+"')";oImgSize=(ss.isNullOrUndefined(oImgSize))?new Kepler.Framework.UI.Size(0,0):oImgSize;this.$3_C=oImgSize.get_width();var $6=null;if(!ss.isNullOrUndefined(eIcon)){$6=$4.insertCell($4.cells.length);var $A=document.createElement('div');if(ss.isNullOrUndefined(bIsPaddingTop)||(ss.isValue(bIsPaddingTop)&&bIsPaddingTop)){$A.className+=' class_ribbon_top_margin_2';}var $B='';if(eIcon===10){ptImgPos=(ss.isUndefined(ptImgPos))?new Kepler.Framework.UI.Point(0,0):ptImgPos;if(ss.isValue(ptImgPos)){var $C=-ptImgPos.get_x()+'px '+-ptImgPos.get_y()+'px';$A.style.backgroundPosition=$C;$A.style.backgroundImage=$5;}}else{$B=this.$3_18(eIcon);}$A.style.backgroundRepeat='no-repeat';if(ss.isValue(oImgSize)&&!!oImgSize.get_width()&&!!oImgSize.get_height()){$B+=' img-'+oImgSize.get_width()+'x'+oImgSize.get_height();}else{$B+=' img-16x16';this.$3_C=16;}$A.className+=$B;$6.style.width=this.$3_C+5+'px';$6.appendChild($A);$1++;}this.$3_8=eDisplayMode;var $7=$4.insertCell($4.cells.length);if(!!this.$3_C){$7.style.width=(this.get_width()-17-this.$3_C-7)+'px';}else{$7.style.width=(this.get_width()-17)+'px';}this._lstItemControl.add(strPassString);switch(eDisplayMode){case 0:var $D=document.createElement('div');$D.className=this.$3_2;$D.innerHTML=strPassString;$D.style.width=(this.get_width()-this.$3_C-17-7)+'px';$7.appendChild($D);$1++;break;case 1:var $E=strPassString.split(',');if($E.length===2){var $F=document.createElement('div');$F.className='CustomListCtrl_picture';var $10=this.get_width()-this.$3_C-17-35;$F.style.backgroundPosition='-'+$E[0]+'px -'+$E[1]+'px';$F.style.backgroundImage=$5;$F.style.backgroundRepeat='no-repeat';$F.style.width=$10+'px';$F.style.height=(this.$3_6-10)+'px';$7.appendChild($F);$1++;}break;case 2:break;default:break;}if(ss.isValue(bIsReqRightIcon)&&bIsReqRightIcon){$7.style.width=(this.get_width()-17-oRtImgSize.get_width()-this.$3_C-7)+'px';$6=$4.insertCell($4.cells.length);$6.style.cssFloat='right';var $11=document.createElement('div');if(ss.isNullOrUndefined(bIsPaddingTop)||(ss.isValue(bIsPaddingTop)&&bIsPaddingTop)){$11.className+=' class_ribbon_top_margin_2';}ptRtImgPos=(ss.isUndefined(ptRtImgPos))?new Kepler.Framework.UI.Point(0,0):ptRtImgPos;var $12=-ptRtImgPos.get_x()+'px '+-ptRtImgPos.get_y()+'px';$11.style.backgroundPosition=$12;$11.style.backgroundImage=$5;$11.style.backgroundRepeat='no-repeat';var $13;if(ss.isValue(oRtImgSize)&&!!oRtImgSize.get_width()&&!!oRtImgSize.get_height()){$13=' img-'+oRtImgSize.get_width()+'x'+oRtImgSize.get_height();}else{$13=' img-16x16';this.$3_C=16;}$11.className+=$13;$6.style.width=oRtImgSize.get_width()+2+'px';$6.appendChild($11);$1++;}if(ss.isValue(eIcon)){if(ss.isValue(bIsLeftOrRight)&&!bIsLeftOrRight){var $14=$6.innerHTML;$6.innerHTML=$7.innerHTML;$7.innerHTML=$14;$7.style.width=this.$3_C+'px';$6.style.width=(this.get_width()-17-this.$3_C-21)+'px';}}var $8=this.get_height();var $9=this.get_count()*this.$3_6;this.updateScrollBar($8,$9);},addControls:function(oControl,strClassName,bIsDummy){var $0=this._elemTable;var $1=0;var $2=$0.rows.length;var $3=$2;var $4=$0.insertRow($3);$4.id='CustomListCtrl_Row';$4.style.height=this.$3_6+'px';if(!ss.isNullOrUndefined(strClassName)){this.$3_E=strClassName;$4.className=this.$3_E;}var $5=$4.insertCell($4.cells.length);$5.style.paddingTop='1px';$5.style.paddingLeft='2px';this.add(oControl,$5);this._lstItemControl.add(oControl.get_text());$1++;var $6=this.get_height();var $7=this.get_count()*this.$3_6;this.updateScrollBar($6,$7);if(!ss.isNullOrUndefined(bIsDummy)&&bIsDummy){this.$3_12.add(this.get_count()-1);}},setSelectedIndex:function(iRowIdx,bIsSendMsgToParent){if(this.$3_11){this.hoverSelectedIndex(iRowIdx);}else{if(iRowIdx!==this._iSelectedIdx){this.drawItem(this._elemTable.rows[this._iSelectedIdx],Kepler.Framework.UI.Controls.EItemState.eNormal);this._iSelectedIdx=iRowIdx;if(iRowIdx!==-1){this.drawItem(this._elemTable.rows[this._iSelectedIdx],Kepler.Framework.UI.Controls.EItemState.ePressedHover);if(this.$3_F){this._btnDropDown.get_elementStyle().pixelTop=((this._iHoverIdx-this.$3_7.get_curPos())*this.$3_6)+3;}}}}if(iRowIdx===-1){this.drawItem(this._elemTable.rows[this._iSelectedIdx],Kepler.Framework.UI.Controls.EItemState.eNormal);}else{this.drawItem(this._elemTable.rows[this._iSelectedIdx],Kepler.Framework.UI.Controls.EItemState.ePressed);if(this.$3_F){this._btnDropDown.show(true);}}if(ss.isNullOrUndefined(bIsSendMsgToParent)||(ss.isValue(bIsSendMsgToParent)&&bIsSendMsgToParent)){var $0=new Kepler.Framework.UI.Controls.OnCommandStruct(iRowIdx,Kepler.Framework.UI.Controls.NotificationCode.selectioN_CHANGED);var $1=this.sendMessageToParent(Kepler.Engine.UI.Controls.Control.msG_COMMAND,$0,this);if(!$1){this.sendMessageToParent(Kepler.Engine.UI.Controls.Control.msG_SELECTION_CHANGED,iRowIdx,this);}}},drawItem:function(element,eState){var $0=element;var $1='';if(ss.isNullOrUndefined($0)){return;}var $2=$($0);switch(eState){case Kepler.Framework.UI.Controls.EItemState.eNormal:$2.removeClass('CustomListCtrl_SelectedRow');$1='_normal';if(this.$3_F){this._btnDropDown.show(false);}break;case Kepler.Framework.UI.Controls.EItemState.eHover:if(!!this.$3_E){$1='_hover';}break;case Kepler.Framework.UI.Controls.EItemState.ePressed:if(!!this.$3_E){$1='_pressed';}else{$2.addClass('CustomListCtrl_SelectedRow');}element.firstChild.style.borderColor=this.$3_D;if(this.$3_F){this._btnDropDown.show(true);}break;case Kepler.Framework.UI.Controls.EItemState.ePressedHover:if(!!this.$3_E){$1='_pressed_hover';}break;case Kepler.Framework.UI.Controls.EItemState.eFocus:break;case Kepler.Framework.UI.Controls.EItemState.eFocusHover:break;default:break;}if($1.length>0){var $3=this.$3_E;$0.className=this.$3_E+' '+this.$3_E+$3+$1;}},hoverSelectedIndex:function(iRowIdx){if(iRowIdx!==this._iHoverIdx){if(!this.$3_11){if(iRowIdx===this._iSelectedIdx){this.drawItem(this._elemTable.rows[this._iHoverIdx],Kepler.Framework.UI.Controls.EItemState.ePressedHover);}}else{this._iSelectedIdx=iRowIdx;}if(this._iHoverIdx!==this._iSelectedIdx){this.drawItem(this._elemTable.rows[this._iHoverIdx],Kepler.Framework.UI.Controls.EItemState.eNormal);}this._iHoverIdx=iRowIdx;if(iRowIdx!==-1){if(this.$3_11){this.drawItem(this._elemTable.rows[this._iHoverIdx],Kepler.Framework.UI.Controls.EItemState.ePressed);}else{if(this._iHoverIdx===this._iSelectedIdx){this.drawItem(this._elemTable.rows[this._iHoverIdx],Kepler.Framework.UI.Controls.EItemState.ePressedHover);}else{this.drawItem(this._elemTable.rows[this._iHoverIdx],Kepler.Framework.UI.Controls.EItemState.eHover);}}if(this.$3_F){var $0=((this._iHoverIdx-this.$3_7.get_curPos())*this.$3_6)+3;this._btnDropDown.get_elementStyle().top=$0+'px';}}}},setTopIndex:function(iIndex){if(iIndex<this.$3_7.get_maxPos()){this.$3_7.set_curPos(iIndex);this._elemTable.parentNode.scrollTop=(this.$3_7.get_curPos()*this.$3_6);}else if(iIndex>=this.$3_7.get_maxPos()){this.$3_7.set_curPos(this.$3_7.get_maxPos());this._elemTable.parentNode.scrollTop=(this.$3_7.get_curPos()*this.$3_6);}},removeItem:function(iIndex){var $0=this._elemTable;$0.deleteRow(iIndex);this._lstItemControl.removeAt(iIndex);var $1=this.get_height();var $2=this.get_count()*this.$3_6;this.updateScrollBar($1,$2);},resetList:function(){var $0=1;if(this.$3_F){$0++;}if(this.get_controls().length>0){for(var $2=$0;$2<this.get_controls().length;){this.removeAt($2);}}this._lstItemControl.clear();this.$3_12.clear();if(this.$3_F){this._btnDropDown.show(false);}var $1=this._elemTable.rows.length;for(var $3=0;$3<$1;$3++){this._elemTable.deleteRow(0);}this.updateScrollBar(this.get_height(),this.get_height());},updateScrollBar:function(iVisibleHeight,iScrollableHeight){var $0=0;var $1=(iScrollableHeight-iVisibleHeight)/this.$3_6;var $2=true;if($1<=$0){$1=$0;$2=false;}else{$2=true;}if(Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){this.$3_7.show(true);}else{this.$3_7.show(false);}this.$3_7.set_enable($2);var $3=new Kepler.Engine.UI.Controls.ScrollBarParams();$3.setBounds($0,$1);$3._iPageStep=iVisibleHeight/this.$3_6;$3._iSingleStep=1;$3._iCurPos=0;this.$3_7.updateScrollbarParams($3);},onEventSetSelection:function(iRowIdx){var $0=new Kepler.Framework.UI.Events.EventArgsNs.CustomEventArgs(Kepler.Engine.UI.Controls.Control.msG_SELECTION_CHANGING);$0.set_data(iRowIdx);if(!this.onPretranslateEvent(this,$0)){this.setSelectedIndex(iRowIdx);}},getRowIndex:function(elemRow){var $0=-1;var $1=this._elemTable.rows;for(var $2=0;$2<$1.length;$2++){if($1[$2]===elemRow){$0=$2;break;}}return $0;},$3_18:function($p0){var $0='';switch($p0){case 0:$0=' custom_list_icon_bitmap';break;case 1:case 2:$0=' custom_list_icon_date';break;case 3:$0=' custom_list_icon_word';break;case 4:$0=' custom_list_icon_excel';break;case 5:$0=' custom_list_icon_power';break;case 6:$0=' custom_list_icon_access';break;case 7:$0=' custom_list_icon_publisher';break;case 8:case 9:$0=' custom_list_icon_web';break;default:$0=' custom_list_icon_date';break;}return $0;},onLostFocus:function(oFocusedNewControl){Kepler.Engine.UI.Controls.CustomList.callBaseMethod(this, 'onLostFocus',[oFocusedNewControl]);if(this._iHoverIdx!==this._iSelectedIdx){this.drawItem(this._elemTable.rows[this._iHoverIdx],Kepler.Framework.UI.Controls.EItemState.eNormal);this._iHoverIdx=-1;}if(this.$3_F){this._btnDropDown.show(false);}this.releaseCapture();if(!Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){this.$3_7.show(false);}},setFocusRectParams:function(){if(this._iHoverIdx!==-1){this.hoverSelectedIndex(this._iHoverIdx);}else{this.hoverSelectedIndex(0);}},drawVisualHint:function(oHintData){var $0=oHintData.iIndex;if($0!==-1&&$0<this._lstItemControl.length){this._iVisualHintIndex=$0;this.get_element().style['outline']='2px solid red';var $1=this._elemTable.rows[this._iVisualHintIndex];if($1!=null){$1.style.border='1px solid red';}this.setTopIndex($0);}},eraseVisualHint:function(){if(this._iVisualHintIndex!==-1){this.get_element().style['outline']='';var $0=this._elemTable.rows[this._iVisualHintIndex];if($0!=null){$0.style.border='';}this._iVisualHintIndex=-1;}},getIndexElement:function(iIndex){return this._elemTable.rows[this._iVisualHintIndex];},isContainChildCtrl:function(iCommandId){var $enum1=ss.IEnumerator.getEnumerator(this.get_controls());while($enum1.moveNext()){var $0=$enum1.current;if($0.get_id()===iCommandId){return true;}}return false;},$3_19:function($p0,$p1){var $0;var $1;var $2=new Kepler.Framework.UI.Controls.OnCommandStruct($p0,Kepler.Framework.UI.Controls.NotificationCode.menU_ITEM_CLICKED);if(Type.getInstanceType($p1)!==Number){$0=new Kepler.Engine.UI.Controls.MenuclickData(this,($p1).get_id());$1=this.sendMessageToParent(Kepler.Engine.UI.Controls.Control.msG_COMMAND,$2,$0);if(!$1){return this.sendMessageToParent('msg_menu_item_clicked',$p0,$0);}}else{$1=this.sendMessageToParent(Kepler.Engine.UI.Controls.Control.msG_COMMAND,$2,this);if(!$1){return this.sendMessageToParent('msg_menu_item_clicked',$p0,this);}}return false;},$3_1A:function($p0){var $0=this.get_controls().length;for(var $1=0;$1<$0;$1++){if(this.get_controls()[$1].get_id()===$p0){this.$3_13=$1;break;}}if(this.$3_13!==-1){var $2=1;$2=(this.$3_F)?++$2:$2;this.$3_13-=$2;this.setSelectedIndex(this.$3_13,false);}},onMouseMove:function(mouseEventArgs){Kepler.Engine.UI.Controls.CustomList.callBaseMethod(this, 'onMouseOver',[mouseEventArgs]);var $0=this.getCapture();if($0!==this){if(!!this.$3_7.get_enable()){this.$3_7.show(true);}var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getParentElementById(mouseEventArgs.get_target(),'CustomListCtrl_Row');if($1!=null){var $2=this.getRowIndex($1);if(this.$3_12.contains($2)){if(this._iHoverIdx!==-1){this.drawItem(this._elemTable.rows[this._iHoverIdx],Kepler.Framework.UI.Controls.EItemState.eNormal);this._iHoverIdx=-1;}}else if($2!==-1){this.hoverSelectedIndex($2);if(this.$3_F){this._btnDropDown.show(true);}}}}},onMouseOut:function(mouseEventArgs){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementFromId(mouseEventArgs.get_target().id);if($0!=null){if($0.id===this.$3_1){this.drawItem(this._elemTable.rows[this._iHoverIdx],Kepler.Framework.UI.Controls.EItemState.eNormal);this._iHoverIdx=-1;if(this.$3_11){this._iSelectedIdx=-1;}if(this.$3_F){this._btnDropDown.show(false);}this.releaseCapture();this.$3_7.show(false);}}Kepler.Engine.UI.Controls.CustomList.callBaseMethod(this, 'onMouseOut',[mouseEventArgs]);},onLButtonDown:function(mouseEventArgs){Kepler.Engine.UI.Controls.CustomList.callBaseMethod(this, 'onLButtonDown',[mouseEventArgs]);this.setCapture();},onLButtonUp:function(mouseEventArgs){var $0=this.getCapture();this.releaseCapture();if(this.$3_F){this._btnDropDown.set_state(Kepler.Engine.UI.Controls.ECheckBoxState.eUnchecked);}var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getParentElementById(mouseEventArgs.get_target(),'CustomListCtrl_Row');var $2=this.getRowIndex($1);if(!(this.$3_F&&this._btnDropDown.get_element().contains(mouseEventArgs.get_target()))&&!this.$3_12.contains($2)&&$2!==-1){this.onEventSetSelection($2);}},onRButtonDown:function(mouseEventArgs){this.setCapture();},onRButtonUp:function(mouseEventArgs){this.releaseCapture();var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getParentElementById(mouseEventArgs.get_target(),'CustomListCtrl_Row');var $1=this.getRowIndex($0);if($1!==-1){this.$3_13=$1;}this.$3_14=true;this.launchMenu(this.$3_A);},$3_1B:function($p0,$p1){var $0=($p1);if($0===this.$3_7){this._elemTable.parentNode.scrollTop=(this.$3_7.get_curPos()*this.$3_6);if(this.$3_F){var $1=((this._iHoverIdx-this.$3_7.get_curPos())*this.$3_6)+3;this._btnDropDown.get_elementStyle().top=$1+'px';}}return null;},$3_1C:function($p0,$p1){var $0=($p1);if($0===this.$3_7){this._elemTable.parentNode.scrollTop=(this.$3_7.get_curPos()*this.$3_6);if(this.$3_F){var $1=((this._iHoverIdx-this.$3_7.get_curPos())*this.$3_6)+3;this._btnDropDown.get_elementStyle().top=$1+'px';}}return null;},$3_1D:function($p0,$p1){var $0=$p1;if($0===this._btnDropDown){this.setCapture();this.launchMenu(this._iMenuNumber);if(this.$3_F&&this._bIsShowButtonWhileLaunchingMenu){this._btnDropDown.show(true);this._btnDropDown.set_state(Kepler.Engine.UI.Controls.ECheckBoxState.eChecked);}}else{var $1=$0.get_id();this.$3_1A($1);return true;}return null;},$3_1E:function($p0,$p1){var $0=null;this.$3_3=-1;if(this.$3_F){this._btnDropDown.set_state(Kepler.Engine.UI.Controls.ECheckBoxState.eUnchecked);this._btnDropDown.show(false);}if((Kepler.Engine.UI.Controls.Control).isInstanceOfType($p1)){var $1=$p0;var $2=Type.getInstanceType($1);if(!$2.get_name().compareTo('WindowsMenuItem')){var $3=$1;$0=this.$3_19($1,$p1);}else{$0=this.$3_19($1,$p1);}}else{var $4=$p1;this.$3_3=$4;if((Kepler.Engine.UI.Menu.WindowsMenuItem).isInstanceOfType($p0)){$0=this.$3_19($4,$p1);}else{$0=this.$3_19($p0,$p1);}}this.$3_14=false;return $0;},$3_1F:function($p0,$p1){if($p1!==this._btnDropDown){var $0=$p1;var $1=$0.get_id();this.$3_1A($1);return this.sendMessageToParent(Kepler.Engine.UI.Controls.Control.msG_COMMAND,$p0,$p1);}return false;},$3_20:function($p0,$p1){var $0=($p1).get_id();this.$3_1A($0);return this.sendMessageToParent(Kepler.Engine.UI.Controls.Control.msG_CONTROL_DRAG_START,$p0,$p1);},$3_21:function($p0,$p1){var $0=this.sendMessageToParent(Kepler.Engine.UI.Controls.Control.msG_CONTROL_DROP,$p0,$p1);this.$3_13=-1;this.setSelectedIndex(-1,false);return $0;}}
Kepler.Engine.UI.Controls.MenuclickData=function(oItem,iControlID){this._oItem=oItem;this._iControlID=iControlID;}
Kepler.Engine.UI.Controls.MenuclickData.prototype={_oItem:null,_iControlID:0}
Kepler.Engine.UI.Controls.IconListControl=function(oPosition,oSize,iRows,iCols,iPaddingTopBottom,iPaddingLeftRt,iColSpacing,iRowSpacing,strNormalCls,strSelCls,strPressedClass,strHoveredClass,strSelHoveredClass,strFocusedHoverCls,strFocusedCls,strUnfocusedSelCls,bDropDown,strId,bIsVscroll,iMenuNo){Kepler.Engine.UI.Controls.IconListControl.initializeBase(this,[oPosition,oSize,iRows,iCols,iPaddingTopBottom,iPaddingLeftRt,iColSpacing,iRowSpacing,strNormalCls,strSelCls,strPressedClass,strHoveredClass,strSelHoveredClass,strFocusedHoverCls,strFocusedCls,strUnfocusedSelCls,bDropDown,strId,bIsVscroll]);if(ss.isValue(iMenuNo)){this.$5_0=iMenuNo;}else{this.$5_0=-1;}}
Kepler.Engine.UI.Controls.IconListControl.prototype={$5_0:0,get_menuNumber:function(){return this.$5_0;},set_menuNumber:function(value){this.$5_0=value;return value;},$5_1:null,get_selectedMenuItemText:function(){return this.$5_1;},onLoad:function(){Kepler.Engine.UI.Controls.IconListControl.callBaseMethod(this, 'onLoad');this.attachMessage('msg_menu_item_clicked',ss.Delegate.create(this,this.$5_4));this.attachMessage('msg_menu_close',ss.Delegate.create(this,this.$5_5));if(this.$5_0!==-1){Kepler.Engine.Core.EngineApp.get_engine().get_currentApp().getAppFrame().sendMessage('msg_create_menus_in_advance',this.$5_0,this);}},$5_2:function($p0,$p1){var $0=new Kepler.Engine.UI.MenuWnd_MenuParams(this,$p0,null,$p1,null);Kepler.Engine.Core.EngineApp.get_engine().get_currentApp().getAppFrame().sendMessage('msg_show_menu',null,$0);},$5_3:function(){if(this.isIndexInRange(this._iSelectedIndex)){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientRect(this.getCellElementFromIndex(this._iSelectedIndex)).get_centerPoint();var $1=new Kepler.Framework.UI.Rect($0.get_x(),$0.get_y(),1,1);this.$5_2(this.$5_0,$1);}},$5_4:function($p0,$p1){this.$5_1=($p0).get_text();var $0=new Kepler.Framework.UI.Controls.OnCommandStruct($p1,Kepler.Framework.UI.Controls.NotificationCode.menU_ITEM_CLICKED);var $1=this.sendMessageToParent(Kepler.Engine.UI.Controls.Control.msG_COMMAND,$0,this);if(!$1){return this.sendMessageToParent('msg_menu_item_clicked',$p0,this);}return $1;},$5_5:function($p0,$p1){if(this.isIndexInRange(this._iFocusIndex)&&Kepler.Engine.Core.EngineApp.get_engine().get_applicationMode()===1){this.drawItem(this.getCellElementFromIndex(this._iFocusIndex),Kepler.Framework.UI.Controls.EItemState.eNormal);this.resetSelection();}return null;},onRButtonUp:function(mouseEventArgs){var $0=this.getCapture();Kepler.Engine.UI.Controls.IconListControl.callBaseMethod(this, 'onRButtonUp',[mouseEventArgs]);if($0===this&&this.isIndexInRange(this._iSelectedIndex)&&this.isMouseEventInElementRect(mouseEventArgs,this.getCellElementFromIndex(this._iSelectedIndex).firstChild)){var $1=Kepler.Engine.UI.Controls.Control.getClientPointFromEventArgs(mouseEventArgs);var $2=new Kepler.Framework.UI.Rect($1.get_x(),$1.get_y(),1,1);this.$5_2(this.$5_0,$2);}},onKeyDown:function(keyboardEventArgs){Kepler.Engine.UI.Controls.IconListControl.callBaseMethod(this, 'onKeyDown',[keyboardEventArgs]);if((Kepler.Framework.Core.Browser.BrowserCapabilities.get_name()===Kepler.Framework.Core.Browser.BrowserName.chrome&&keyboardEventArgs.get_key()===Kepler.Framework.UI.Events.EventArgsNs.Keys.apps)||(keyboardEventArgs.get_shiftKey()&&keyboardEventArgs.get_key()===Kepler.Framework.UI.Events.EventArgsNs.Keys.f10)){this.$5_3();}},onKeyUp:function(keyboardEventArgs){Kepler.Engine.UI.Controls.IconListControl.callBaseMethod(this, 'onKeyUp',[keyboardEventArgs]);if(keyboardEventArgs.get_key()===Kepler.Framework.UI.Events.EventArgsNs.Keys.apps){this.$5_3();}}}
Kepler.Engine.UI.Controls.MenuLaunchBase=function(oPosition,oSize,iMenuNumber,strClassName,strId){Kepler.Engine.UI.Controls.MenuLaunchBase.initializeBase(this,['div',oPosition,oSize,null,strId,null]);if(!ss.isNullOrUndefined(iMenuNumber)){this._iMenuNumber=iMenuNumber;}else{this._iMenuNumber=-1;}}
Kepler.Engine.UI.Controls.MenuLaunchBase.prototype={$3_0:null,get_menuLauncherApp:function(){return this.$3_0;},set_menuLauncherApp:function(value){this.$3_0=value;return value;},_iMenuNumber:0,get_menuNumber:function(){return this._iMenuNumber;},set_menuNumber:function(value){this._iMenuNumber=value;return value;},_strSelectedIndex:null,_lstMenuItems:null,$3_1:function(){this.attachMessage('msg_menu_item_clicked',ss.Delegate.create(this,this.onMsgMenuItemClicked));this.attachMessage('msg_menu_close',ss.Delegate.create(this,this.onMsgMenuClose));this.attachMessage('msg_menu_created',ss.Delegate.create(this,this.onMsgMenuCreated));},sendMsgToParent:function(wParam){var $0=new Kepler.Framework.UI.Controls.OnCommandStruct(wParam,Kepler.Framework.UI.Controls.NotificationCode.menU_ITEM_CLICKED);var $1=this.sendMessageToParent(Kepler.Engine.UI.Controls.Control.msG_COMMAND,$0,this);if(!$1){return this.sendMessageToParent('msg_menu_item_clicked',wParam,this);}return $1;},onLoad:function(){Kepler.Engine.UI.Controls.MenuLaunchBase.callBaseMethod(this, 'onLoad');this.$3_1();},launchMenu:function(rcLauncher,ePosition){var $0;if(ss.isNullOrUndefined(rcLauncher)){$0=new Kepler.Engine.UI.MenuWnd_MenuParams(this,this._iMenuNumber,-1,Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientRect(this.get_element()),null);}else{$0=new Kepler.Engine.UI.MenuWnd_MenuParams(this,this._iMenuNumber,-1,rcLauncher,null);}if(ss.isNullOrUndefined(ePosition)){$0.setPositioningOrder(7);}else{$0.setPositioningOrder(ePosition);}if(this.get_menuLauncherApp()!=null){this.get_menuLauncherApp().getAppFrame().sendMessage('msg_show_menu',null,$0);}else{var $1=Kepler.Engine.Core.EngineApp.get_engine().get_currentApp();$1.getAppFrame().sendMessage('msg_show_menu',null,$0);}},onMsgMenuCreated:function(wParam,lParam){if(wParam!=null){this._lstMenuItems=wParam;}return null;},onMsgMenuClose:function(wParam,lParam){return false;},onMsgMenuItemClicked:function(wParam,lParam){var $0=lParam;var $1=wParam;if((Kepler.Engine.UI.Menu.WindowsMenuItem).isInstanceOfType(wParam)){var $2=wParam;this._strSelectedIndex=$0.toString();return this.sendMsgToParent($0);}else{return this.sendMsgToParent(wParam);}}}
Kepler.Engine.UI.Controls.ScrollableContainer=function(strTagName){Kepler.Engine.UI.Controls.ScrollableContainer.initializeBase(this,[strTagName]);this.get_elementStyle().overflow='hidden';this._elmScrollableContainer=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div','scrollable-container','absolute',null,null,490,null,null,null);this._elmScrollableContainer.style.overflow='hidden';this.$3_2=new Kepler.Engine.UI.Controls.VScrollBar(null);this.$3_2.set_mfcBehaviour(false);this.$3_2.set_width(18);this.$3_4=null;this.$3_3=false;}
Kepler.Engine.UI.Controls.ScrollableContainer.prototype={_elmScrollableContainer:null,$3_2:null,get_verticalScrollbar:function(){return this.$3_2;},set_verticalScrollbar:function(value){this.$3_2=value;return value;},get_scrollAreaElement:function(){return this._elmScrollableContainer;},$3_3:false,$3_4:null,$3_5:function(){this.addEvents(Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseWheel);this.addEvents(Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseDown);this.attachMessage(Kepler.Engine.UI.Controls.Control.msG_COMMAND,ss.Delegate.create(this,this.$3_9));},$3_6:function(){this.attachMessage(Kepler.Engine.UI.Controls.ScrollBarBase.msG_SCROLL_POS_CHANGED,ss.Delegate.create(this,this.$3_7));this.attachMessage(Kepler.Engine.UI.Controls.ScrollBarBase.msG_SCROLL_POS_CHANGING,ss.Delegate.create(this,this.$3_8));},updateScrollbar:function(){if(!this.get_loaded()){return;}var $0=$(this._elmScrollableContainer).outerHeight();if($0<=this.get_height()){this.$3_2.set_enable(false);this.$3_3=false;}else{var $1=new Kepler.Engine.UI.Controls.ScrollBarParams();$1.setBounds(0,$0-this.get_height());$1.setSteps(2,this.get_height());this.$3_2.updateScrollbarParams($1);this.$3_2.set_enable(true);this.$3_3=true;}},$3_7:function($p0,$p1){var $0=($p1);if($0===this.$3_2){Kepler.Engine.UI.Helper.HtmlCssHelper.setElementTransformOrigin(this._elmScrollableContainer,'0px 0px');Kepler.Engine.UI.Helper.HtmlCssHelper.setElementTransform(this._elmScrollableContainer,'translate(0px, -'+$0.get_curPos()+'px) scale(1) translateZ(0px)');if(this.$3_4!=null){this.$3_A($0.get_curPos());}}return null;},$3_8:function($p0,$p1){var $0=($p1);if($0===this.$3_2){Kepler.Engine.UI.Helper.HtmlCssHelper.setElementTransformOrigin(this._elmScrollableContainer,'0px 0px');Kepler.Engine.UI.Helper.HtmlCssHelper.setElementTransform(this._elmScrollableContainer,'translate(0px, -'+$0.get_curPos()+'px) scale(1) translateZ(0px)');if(this.$3_4!=null){this.$3_A($0.get_curPos());}}return null;},$3_9:function($p0,$p1){var $0=$p1;if(this.$3_4!=null&&$0===this.$3_4){Kepler.Engine.UI.Helper.HtmlCssHelper.setElementTransformOrigin(this._elmScrollableContainer,'0px 0px');Kepler.Engine.UI.Helper.HtmlCssHelper.setElementTransform(this._elmScrollableContainer,'translate(0px, 0px) scale(1) translateZ(0px)');this.$3_2.performScrollTo(0);}return true;},onLoad:function(){Kepler.Engine.UI.Controls.ScrollableContainer.callBaseMethod(this, 'onLoad');this.$3_5();this.$3_6();this.get_element().appendChild(this._elmScrollableContainer);Kepler.Engine.UI.Controls.ScrollableContainer.callBaseMethod(this, 'add',[this.$3_2]);this.updateScrollbar();},onSize:function(){Kepler.Engine.UI.Controls.ScrollableContainer.callBaseMethod(this, 'onSize');this._elmScrollableContainer.style.width=new ss.StringBuilder().append(this.get_width()-18).append('px').toString();this.$3_2.set_left(this.get_width()-18);this.$3_2.set_height(this.get_height());this.updateScrollbar();if(this.$3_4!=null){var $0=this.get_width()-18-this.$3_4.get_width()-1;var $1=this.get_height()-this.$3_4.get_height();this.$3_4.set_position(new Kepler.Framework.UI.Point($0,$1));}},onMouseWheel:function(evt){Kepler.Engine.UI.Controls.ScrollableContainer.callBaseMethod(this, 'onMouseWheel',[evt]);if(this.$3_3){var $0=evt.get_deltaY()*15;this.$3_2.performScroll(-$0);}if(this.$3_4!=null){this.$3_A(this.$3_2.get_curPos());}},insert:function(iIndex,control,oParentElement){if(ss.isNullOrUndefined(oParentElement)){oParentElement=this._elmScrollableContainer;}return Kepler.Engine.UI.Controls.ScrollableContainer.callBaseMethod(this, 'insert',[iIndex,control,oParentElement]);},add:function(control,oParentElement,bAlreadyInDom){if(ss.isNullOrUndefined(oParentElement)){oParentElement=this._elmScrollableContainer;}var $0=Kepler.Engine.UI.Controls.ScrollableContainer.callBaseMethod(this, 'add',[control,oParentElement,bAlreadyInDom]);this.updateScrollbar();return $0;},setBackToTopControl:function(ctrlBackToTop){this.$3_4=((ss.isValue(ctrlBackToTop))?ctrlBackToTop:null);if(this.$3_4!=null){var $0=this.get_width()-18-this.$3_4.get_width()-1;var $1=this.get_height()-this.$3_4.get_height();this.$3_4.set_position(new Kepler.Framework.UI.Point($0,$1));}},$3_A:function($p0){if($p0>0){this.$3_4.set_top($p0+this.get_height()-this.$3_4.get_height());this.$3_4.show(true);}else{this.$3_4.show(false);}},accessOnMouseWheel:function(evt){this.onMouseWheel(evt);}}
Kepler.Engine.UI.Controls.SplitButton=function(strHtml,oPosition,oSize,strClassName,strImgPath,ptImgPosition,sizeImgSize,iMenuNum,strSelectionIndex,eMode,strId,element){Kepler.Engine.UI.Controls.SplitButton.initializeBase(this,['div',oPosition,oSize,null,strId,element]);if(ss.isValue(strHtml)){this._bText=true;this._strText=strHtml;}if(ss.isValue(iMenuNum)){this._iMenuNumber=iMenuNum;}if(ss.isValue(strSelectionIndex)){this._strSelectedIndex=strSelectionIndex;}else{this._strSelectedIndex='';}if(ss.isValue(ptImgPosition)&&ss.isValue(strImgPath)&&ss.isValue(sizeImgSize)){this.$3_4=true;this.$3_2=ptImgPosition;this.$3_1=strImgPath;this.$3_3=sizeImgSize;}if(ss.isValue(eMode)){this.$3_0=eMode;}else{this.$3_0=1;}if(this.$3_0===1){this.set_sendClickMsgOnMouseDown(true);}else{this.set_sendClickMsgOnMouseDown(false);}this.$3_7='';this._strClassName=((ss.isValue(strClassName)&&''!==strClassName)?' '+strClassName:' button');this.get_element().className=this._strClassName+' '+this._strClassName+'_normal';this.createContentPart();this.$3_8=false;}
Kepler.Engine.UI.Controls.SplitButton.prototype={_iVisualHintIndex:0,get_height:function(){return Kepler.Engine.UI.Controls.SplitButton.callBaseMethod(this, 'get_height');},set_height:function(value){Kepler.Engine.UI.Controls.SplitButton.callBaseMethod(this, 'set_height',[value]);this.get_elementStyle().lineHeight=value+'px';return value;},get_html:function(){return this._strText;},$3_0:0,get_mode:function(){return this.$3_0;},_strText:null,$3_1:null,$3_2:null,$3_3:null,$3_4:false,_bText:false,_elmImage:null,_elmText:null,_elmArrowImage:null,get_eleArrowImage:function(){return this._elmArrowImage.parentNode.parentNode;},_iMenuNumber:0,$3_5:0,_strClassName:null,_strSelectedIndex:null,_lstMenuItems:null,$3_6:0,$3_7:null,get_selectedMenuItemText:function(){return this.$3_7;},$3_8:false,get_tabFocusOnWholeCtrl:function(){return this.$3_8;},set_tabFocusOnWholeCtrl:function(value){this.$3_8=value;return value;},$3_9:null,get_menuLauncherApp:function(){return this.$3_9;},set_menuLauncherApp:function(value){this.$3_9=value;return value;},get_ariaSpeech:function(){var $0='';if(this.get_setFocusUsingTab()){$0=' To activate press Spacebar ';if(!String.isNullOrEmpty(this.get_altChar().toString().trim())){$0+='or '+this.get_altChar();}}return 'Menu '+this._strAriaSpeech+' button menu'+$0;},set_ariaSpeech:function(value){Kepler.Engine.UI.Controls.SplitButton.callBaseMethod(this, 'set_ariaSpeech',[value]);return value;},$3_A:function(){this.attachMessage('msg_menu_item_clicked',ss.Delegate.create(this,this.$3_D));this.attachMessage('msg_menu_close',ss.Delegate.create(this,this.$3_E));this.attachMessage('msg_menu_created',ss.Delegate.create(this,this.$3_C));},getSelectedIndex:function(){return this._strSelectedIndex;},drawVisualHint:function(oHintData){if(!this.$3_0){var $0=oHintData.iIndex;this._iVisualHintIndex=$0;if($0===-1){this._elmText.style['outline']='red solid 2px';this._elmText.style['outline-offset']='0px';this._elmText.style.zIndex=1;}else{if(this._lstMenuItems.length>this._iVisualHintIndex){this._lstMenuItems[this._iVisualHintIndex].set_highlight(1);}this._elmArrowImage.parentNode.parentNode.style['outline']='red solid 2px';this._elmArrowImage.parentNode.parentNode.style['outline-offset']='0px';this._elmArrowImage.parentNode.parentNode.style.zIndex=1;}}else{this.get_element().style['outline']='red solid 2px';this.get_element().style['outline-offset']='0px';this.get_element().style.zIndex=1;}},eraseVisualHint:function(){if(!this.$3_0){if(this._iVisualHintIndex>-1&&this._lstMenuItems.length>this._iVisualHintIndex){this._lstMenuItems[this._iVisualHintIndex].set_highlight(0);}this._elmText.style['outline']='';this._elmText.style['outline-offset']='';this._elmText.style.zIndex=0;this._elmArrowImage.parentNode.parentNode.style['outline']='';this._elmArrowImage.parentNode.parentNode.style['outline-offset']='';this._elmArrowImage.parentNode.parentNode.style.zIndex=0;}else{this.get_element().style['outline']='';this.get_element().style['outline-offset']='';this.get_element().style.zIndex=0;}},getIndexElement:function(iIndex){if(!this.$3_0){if(iIndex===-1){return this._elmText;}else{return this._elmArrowImage;}}else{return this.get_element();}},drawItem:function(eState){var $0='';switch(eState){case Kepler.Framework.UI.Controls.EItemState.eFocus:case Kepler.Framework.UI.Controls.EItemState.eHover:$0='_hover';break;case Kepler.Framework.UI.Controls.EItemState.eNormal:$0='_normal';break;case Kepler.Framework.UI.Controls.EItemState.ePressed:$0='_pressed';break;case Kepler.Framework.UI.Controls.EItemState.eDisabled:if(!this.get_visible()){$0='_disabled'+Kepler.Engine.UI.Controls.Control.csS_CLASS_DISPLAY_NONE;}else{$0='_disabled';}break;default:throw new Error('Not Implemented Exception : '+'eState');}if($0.length>0){this.get_element().className=this._strClassName+this._strClassName+$0;this._elmArrowImage.className='splitclass'+' splitButton_Arrow_image'+' splitButton_Arrow_image'+$0;}},setFocus:function(){if(!this.$3_0){this.$3_5=0;if(!ss.isNull(this._elmText)){}if(!ss.isNull(this._elmImage)){}}return Kepler.Engine.UI.Controls.SplitButton.callBaseMethod(this, 'setFocus');},getFocusRect:function(){var $0=Kepler.Engine.UI.Controls.SplitButton.callBaseMethod(this, 'getFocusRect');$0.set_width($0.get_width()-22);return $0;},onLoad:function(){Kepler.Engine.UI.Controls.SplitButton.callBaseMethod(this, 'onLoad');this.$3_A();if(this._iMenuNumber!==-1){Kepler.Engine.Core.EngineApp.get_engine().get_currentApp().getAppFrame().sendMessage('msg_create_menus_in_advance',this._iMenuNumber,this);}this.$3_6=0;},changeImagePosition:function(pt){this._elmImage.style.backgroundPosition='-'+pt.get_x()+'px  -'+pt.get_y()+'px';},showHideImage:function(bfalg){if(bfalg){this._elmImage.style.display='inline-block';}else{this._elmImage.style.display='none';}},createContentPart:function(){this.get_element().style.verticalAlign='middle';var $0=document.createElement('table');$0.style.width='100%';Kepler.Engine.UI.Helper.HtmlCssHelper.setStyleProperty($0,'border-spacing','0px');var $1=$0.insertRow(0);$1.style.height='100%';this._elmText=$1.insertCell(0);if(this._bText){this._elmText.style.padding='0px';this._elmText.innerHTML=this._strText;}var $2=$1.insertCell(1);$2.style.height=this.get_height()+'px';$2.style.padding='0px';if(this.$3_4){this._elmImage=document.createElement('div');this._elmImage.style.backgroundPosition='-'+this.$3_2.get_x()+'px -'+this.$3_2.get_y()+'px';this._elmImage.style.width=this.$3_3.get_width()+'px';this._elmImage.style.height=this.$3_3.get_height()+'px';this._elmImage.style.backgroundRepeat='no-repeat';this._elmImage.style.backgroundImage="url(' "+this.$3_1+"')";this._elmImage.style.display='inline-block';$2.appendChild(this._elmImage);}switch(this.$3_0){case 1:var $3=$1.insertCell(2);$3.style.verticalAlign='middle';$3.className='splitclass';this._elmArrowImage=document.createElement('div');this._elmArrowImage.className=' splitButton_Arrow_image'+' splitButton_Arrow_image'+'_normal';this._elmArrowImage.style.height='12px';$3.appendChild(this._elmArrowImage);break;case 0:var $4=$1.insertCell(2);$4.style.verticalAlign='middle';$4.className='splitclass';$4.style.width='20px';var $5=document.createElement('div');$5.className='splitclass';$5.style.height=this.get_height()-5+'px';$5.style.borderLeftWidth='thin';$5.style.borderLeftStyle='groove';$5.style.display='table-cell';$5.style.verticalAlign='middle';this._elmArrowImage=document.createElement('div');this._elmArrowImage.className='splitclass'+' splitButton_Arrow_image'+' splitButton_Arrow_image'+'_normal';this._elmArrowImage.style.height='12px';$5.appendChild(this._elmArrowImage);$4.appendChild($5);break;}this.get_element().appendChild($0);},launchMenu:function(){var $0=new Kepler.Engine.UI.MenuWnd_MenuParams(this,this._iMenuNumber,-1,Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientRect(this.get_element()),null);$0.setPositioningOrder(7);this.setSelectionIndex(this._strSelectedIndex,false);if(this.get_menuLauncherApp()!=null){this.get_menuLauncherApp().getAppFrame().sendMessage('msg_show_menu',null,$0);}else{var $1=Kepler.Engine.Core.EngineApp.get_engine().get_currentApp();$1.getAppFrame().sendMessage('msg_show_menu',null,$0);}},setText:function(strText){this._elmText.innerHTML=strText;},setHtml:function(strText){this._elmText.innerHTML=strText;},changeMenuNumber:function(iMenuNumber){this._iMenuNumber=iMenuNumber;if(this._iMenuNumber!==-1){Kepler.Engine.Core.EngineApp.get_engine().get_currentApp().getAppFrame().sendMessage('msg_create_menus_in_advance',this._iMenuNumber,this);}},setSelectionIndex:function(strIndex,bSendMsgToParent){this._strSelectedIndex=strIndex;var $0=null;if(!String.isNullOrEmpty(strIndex)){var $1=strIndex.split(Kepler.Framework.Core.Seperators.doublE_DELTA);var $2=parseInt($1[0]);var $3=-1;if($1.length>1){$3=parseInt($1[1]);}if(ss.isValue(this._lstMenuItems)&&$2>-1&&$2<this._lstMenuItems.length){$0=this._lstMenuItems[$2];if(Type.getInstanceType($0)===Kepler.Engine.UI.Menu.WindowsMenuItem){var $4=$0;$4.set_checked(true);}else if(Type.getInstanceType($0)===Kepler.Engine.UI.Menu.MiscMenuItem&&$3>-1){var $5=$0;$5.set_checkedSubItem($3);$5.drawItem(null,Kepler.Framework.UI.Controls.EItemState.eNormal);this.$3_6=$3;}}}if(ss.isValue(bSendMsgToParent)&&!bSendMsgToParent){return;}this.sendMsgToParent($0);},$3_B:function($p0){var $0=$p0.lastIndexOf('<span');if($0>-1){var $1=$p0.remove($0);$p0=$p0.substr($0);var $2=$p0.indexOf('>')+1;$1+=$p0.charAt($2);$p0=$1;}if($p0.indexOf('<u>')!==-1){var $3=$p0.replace('<u>','');$3=$3.replace('</u>','');return $3;}return $p0;},onLButtonDown:function(mouseEventArgs){this.setCapture();if(this.$3_0===1){this.launchMenu();}this.changeState(Kepler.Framework.UI.Controls.EItemState.ePressed);},onLButtonUp:function(mouseEventArgs){var $0=this.getCapture();var $1=mouseEventArgs.get_target();this.releaseCapture();if(!this.get_sendClickMsgOnMouseDown()&&$0===this&&this.isMouseEventInElementRect(mouseEventArgs)){if(!this.$3_0){var $2=this._elmArrowImage.parentNode.parentNode;if($2===$1||$2.contains($1)){this.launchMenu();}else{this.onEventProcessClick(mouseEventArgs);}}}this.changeState(Kepler.Framework.UI.Controls.EItemState.eNormal);},onKeyDown:function(evt){if(evt.get_key()===Kepler.Framework.UI.Events.EventArgsNs.Keys.tab){if(!this.$3_0&&!this.$3_8){var $0=evt.get_shiftKey();if(ss.isValue(this.get_parent())&&this.get_parent().get_defaultTabHandling()){if($0){if(!this.$3_5){this.get_parent().processTabOnControl(evt,this);return;}else{this.$3_5=0;return;}}else{if(this.$3_5===1){this.get_parent().processTabOnControl(evt,this);return;}else{this.$3_5=1;return;}}}}}if(evt.get_key()===Kepler.Framework.UI.Events.EventArgsNs.Keys.space||evt.get_key()===Kepler.Framework.UI.Events.EventArgsNs.Keys.up||evt.get_key()===Kepler.Framework.UI.Events.EventArgsNs.Keys.down){this.launchMenu();}else{Kepler.Engine.UI.Controls.SplitButton.callBaseMethod(this, 'onKeyDown',[evt]);}this._bKeyDown=true;},onKeyUp:function(keyboardEventArgs){Kepler.Engine.UI.Controls.SplitButton.callBaseMethod(this, 'onKeyUp',[keyboardEventArgs]);if(keyboardEventArgs.get_key()===Kepler.Framework.UI.Events.EventArgsNs.Keys.space&&this._bKeyDown){this.changeState(Kepler.Framework.UI.Controls.EItemState.eNormal);if(this.$3_5===1&&!this.$3_0){this.launchMenu();}else if(!this.$3_5&&!this.$3_0){this.onEventProcessClick(null);}this.invalidate();}this._bKeyDown=false;},$3_C:function($p0,$p1){if($p0!=null){this._lstMenuItems=$p0;}return null;},$3_D:function($p0,$p1){var $0=$p1;var $1=$p0;this.$3_7=this.$3_B($1.get_text());if((Kepler.Engine.UI.Menu.WindowsMenuItem).isInstanceOfType($p0)){var $2=$p0;this._strSelectedIndex=$0.toString();return this.sendMsgToParent($0);}else{return this.sendMsgToParent($p0);}},$3_E:function($p0,$p1){this.releaseCapture();this.changeState(Kepler.Framework.UI.Controls.EItemState.eNormal);if(ss.isValue($p0)){var $0=($p0).get_target();if(!this.$3_0){var $1=this._elmArrowImage.parentNode.parentNode;if($1===$0||$1.contains($0)){return true;}}else{if(this.get_element()===$0||this.get_element().contains($0)){return true;}}}return false;},sendMsgToParent:function(wParam){var $0=new Kepler.Framework.UI.Controls.OnCommandStruct(wParam,Kepler.Framework.UI.Controls.NotificationCode.menU_ITEM_CLICKED);var $1=this.sendMessageToParent(Kepler.Engine.UI.Controls.Control.msG_COMMAND,$0,this);if(!$1){return this.sendMessageToParent('msg_menu_item_clicked',wParam,this);}return $1;}}
Kepler.Engine.UI.Controls.TextFloatingControl=function(){Kepler.Engine.UI.Controls.TextFloatingControl.initializeBase(this,['text_floating_control']);var $0=Kepler.Engine.Core.EngineApp.get_engine().get_commonResourcePath()+'frame_common_image.png';this.$4_2=new Kepler.Engine.UI.Controls.StaticImage('',null,new Kepler.Framework.UI.Size(32,32),null,new Kepler.Framework.UI.Rect(95,43,32,32));this.$4_2.get_element().style.top='10px';this.$4_2.get_element().style.right='170px';this.$4_2.get_element().style.position='absolute';this.$4_2.get_element().className='static_image';this.$4_3=new Kepler.Engine.UI.Controls.CssImageButton('',null,null,'DoneBtn');this.$4_4=new Kepler.Engine.UI.Controls.CssImageButton('',null,null,'CancelBtn');this.$4_5=0;this.$4_6=new Kepler.Engine.UI.Controls.CssImageTextButton('StartTyping',new Kepler.Framework.UI.Point(40,2),new Kepler.Framework.UI.Size(0,0),null,'cls_css_text_floating_control');this.$4_3.set_focusable(this.$4_4.set_focusable(this.$4_6.set_focusable(false)));this.set_size(new Kepler.Framework.UI.Size(200,38));this.show(false);this.$4_3.get_element().style.position='absolute';this.$4_3.get_element().style.top='12px';this.$4_3.get_element().style.right='88px';this.$4_4.get_element().style.position='absolute';this.$4_4.get_element().style.top='12px';this.$4_4.get_element().style.right='8px';}
Kepler.Engine.UI.Controls.TextFloatingControl.prototype={$4_2:null,$4_3:null,$4_4:null,$4_5:0,get_mode:function(){return this.$4_5;},set_mode:function(value){this.$4_5=value;this.processModeChange();return value;},$4_6:null,onLoad:function(){Kepler.Engine.UI.Controls.TextFloatingControl.callBaseMethod(this, 'onLoad');this.$4_7();this.$4_8();this.processModeChange();},$4_7:function(){this.add(this.$4_2);this.add(this.$4_3);this.add(this.$4_4);this.add(this.$4_6);},$4_8:function(){this.attachMessage(Kepler.Engine.UI.Controls.ButtonBase.msG_BUTTON_CLICKED,ss.Delegate.create(this,this.$4_9));},$4_9:function($p0,$p1){var $0=Kepler.Engine.Core.EngineApp.get_engine().get_currentApp().getAppView();if($p1===this.$4_3){Kepler.Engine.UI.UIManager.get_instance().fireKeyEventSequence(Kepler.Framework.UI.Events.EventArgsNs.Keys.done,'Done',this);this.showHideForTyping(false);}else if($p1===this.$4_4){Kepler.Engine.UI.UIManager.get_instance().fireKeyEventSequence(Kepler.Framework.UI.Events.EventArgsNs.Keys.cancel,'Cancel',this);this.showHideForTyping(false);}else if($p1===this.$4_6){var $1=$0.sendMessage('msg_edit_start',false,null);if(ss.isValue($1)&&!!($1)){this.showHideForTyping(true);}}return null;},processModeChange:function(){this.$4_3.show(false);this.$4_4.show(false);this.$4_6.show(false);switch(this.get_mode()){case 0:this.$4_3.show(true);this.$4_4.show(true);break;}},showHideForTyping:function(bStarted){if(bStarted){this.$4_6.show(false);this.$4_3.show(true);this.$4_4.show(true);}else{}}}
Kepler.Engine.UI.Controls.MenuButton=function(strHtml,oPosition,oSize,iMenuNum,sID,strCssClass){Kepler.Engine.UI.Controls.MenuButton.initializeBase(this,[strHtml,oPosition,oSize,(ss.isValue(sID))?sID:null,(ss.isValue(strCssClass)&&!String.isNullOrEmpty(strCssClass))?strCssClass:' menu_button']);this.set_fireOnFocusOnChildElementClick(true);this.$4_1=iMenuNum;this.$4_2=false;this.$4_4='';this.$4_5=-1;}
Kepler.Engine.UI.Controls.MenuButton.prototype={$4_1:0,$4_2:false,$4_3:null,get_menuLauncherApp:function(){return this.$4_3;},set_menuLauncherApp:function(value){this.$4_3=value;return value;},$4_4:null,get_selectedMenuItemText:function(){return this.$4_4;},$4_5:0,get_selectedIndex:function(){return this.$4_5;},set_selectedIndex:function(value){this.$4_5=value;return value;},onLoad:function(){Kepler.Engine.UI.Controls.MenuButton.callBaseMethod(this, 'onLoad');this.$4_6();},$4_6:function(){this.attachMessage('msg_menu_close',ss.Delegate.create(this,this.$4_9));this.attachMessage('msg_menu_item_clicked',ss.Delegate.create(this,this.$4_7));},onLButtonDown:function(mouseEventArgs){Kepler.Engine.UI.Controls.MenuButton.callBaseMethod(this, 'onLButtonDown',[mouseEventArgs]);this.changeState(Kepler.Framework.UI.Controls.EItemState.ePressed);this.launchMenu();},onMouseOver:function(mouseEventArgs){Kepler.Engine.UI.Controls.MenuButton.callBaseMethod(this, 'onMouseOver',[mouseEventArgs]);this.sendMessageToParent('on_msg_child_mouse_over',this,null);},onMouseMove:function(mouseEventArgs){},onKeyDown:function(keyboardEventArgs){var $0=keyboardEventArgs.get_key();if($0===Kepler.Framework.UI.Events.EventArgsNs.Keys.down||$0===Kepler.Framework.UI.Events.EventArgsNs.Keys.up){this.launchMenu();}},onKeyUp:function(keyboardEventArgs){},launchMenu:function(){var $0=new Kepler.Engine.UI.MenuWnd_MenuParams(this,this.$4_1,-1,Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientRect(this.get_element()),null);$0.setPositioningOrder(7);if(this.$4_3!=null){this.$4_3.getAppFrame().sendMessage('msg_show_menu',null,$0);}else{var $1=Kepler.Engine.Core.EngineApp.get_engine().get_currentApp();$1.getAppFrame().sendMessage('msg_show_menu',null,$0);}},$4_7:function($p0,$p1){var $0=$p1;var $1=$p0;this.$4_4=this.$4_8($1.get_actionString());if((Kepler.Engine.UI.Menu.WindowsMenuItem).isInstanceOfType($p0)){var $2=$p0;this.$4_5=$0;return this.sendMsgToParent($0);}else{return this.sendMsgToParent($p0);}},sendMsgToParent:function(wParam){var $0=new Kepler.Framework.UI.Controls.OnCommandStruct(wParam,Kepler.Framework.UI.Controls.NotificationCode.menU_ITEM_CLICKED);var $1=this.sendMessageToParent(Kepler.Engine.UI.Controls.Control.msG_COMMAND,$0,this);if(!$1){return this.sendMessageToParent('msg_menu_item_clicked',wParam,this);}return $1;},$4_8:function($p0){var $0=$p0.lastIndexOf('<span');if($0>-1){var $1=$p0.remove($0);$p0=$p0.substr($0);var $2=$p0.indexOf('>')+1;$1+=$p0.charAt($2);$p0=$1;}if($p0.indexOf('<u>')!==-1){var $3=$p0.replace('<u>','');$3=$3.replace('</u>','');return $3;}return $p0;},$4_9:function($p0,$p1){this.releaseCapture();this.changeState(Kepler.Framework.UI.Controls.EItemState.eNormal);if(ss.isValue($p0)){var $0=($p0).get_target();if(this.get_element()===$0||this.get_element().contains($0)){return true;}}else{this.changeState(Kepler.Framework.UI.Controls.EItemState.ePressed);}return false;},onFocus:function(oFocusedPrevControl){Kepler.Engine.UI.Controls.MenuButton.callBaseMethod(this, 'onFocus',[oFocusedPrevControl]);this.changeState(Kepler.Framework.UI.Controls.EItemState.ePressed);},onLostFocus:function(oFocusedNewControl){Kepler.Engine.UI.Controls.MenuButton.callBaseMethod(this, 'onLostFocus',[oFocusedNewControl]);if(oFocusedNewControl!==Kepler.Engine.Core.EngineApp.get_engine().get_currentApp().getAppFrame().get_menuManager().getMenuWnd(this.$4_1)){this.changeState(Kepler.Framework.UI.Controls.EItemState.eNormal);}},getFocusRect:function(){return null;},setItemState:function(eState){this.changeState(eState);},showHideAccelerator:function(bIsShowAccelerator){this.$4_2=bIsShowAccelerator;var $0=this.get_html();if(bIsShowAccelerator){var $1=String.fromCharCode(this._icharAcc);var $2=$0.indexOf($1);$0=$0.insert($2,'<u>');$0=$0.insert($2+4,'</u>');}else{var $3=$0.indexOf('<u>');if($3!==-1){$0=$0.remove($0.indexOf('<u>'),3);$0=$0.remove($0.indexOf('</u>'),4);}}this.setHtml($0);}}
Kepler.Engine.UI.Controls.ToolBar=function(oPosition,oSize,strId,strClassName,bIsDock){Kepler.Engine.UI.Controls.ToolBar.initializeBase(this,['div',(ss.isValue(strClassName))?strClassName:' toolbar',strId]);if(ss.isValue(oPosition)){this.set_position(oPosition);}if(ss.isValue(oSize)){this.set_size(oSize);}this.$3_7=(ss.isValue(bIsDock))?bIsDock:true;this.$3_3=[];this.$3_2=[];this.$3_8=null;this._ctrlPrevFocus=null;}
Kepler.Engine.UI.Controls.ToolBar.prototype={$3_2:null,$3_3:null,get_childButtons:function(){return this.$3_3;},$3_4:false,get_messageNeeded:function(){return this.$3_4;},set_messageNeeded:function(value){this.$3_4=value;return value;},$3_5:0,get_buttonIndex:function(){return this.$3_5;},set_buttonIndex:function(value){this.$3_5=value;return value;},$3_6:0,get_menuIndex:function(){return this.$3_6;},set_menuIndex:function(value){this.$3_6=value;return value;},get_enable:function(){return Kepler.Engine.UI.Controls.ToolBar.callBaseMethod(this, 'get_enable');},set_enable:function(value){Kepler.Engine.UI.Controls.ToolBar.callBaseMethod(this, 'set_enable',[value]);this.$3_A(value);return value;},$3_7:false,get_isDock:function(){return this.$3_7;},set_isDock:function(value){this.$3_7=value;return value;},$3_8:null,_ctrlPrevFocus:null,onLoad:function(){Kepler.Engine.UI.Controls.ToolBar.callBaseMethod(this, 'onLoad');this.addEvents(Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseOver|Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseOut);this.$3_9();},$3_9:function(){this.attachMessage('on_msg_child_lbutton_down',ss.Delegate.create(this,this.$3_C));this.attachMessage('on_msg_child_mouse_over',ss.Delegate.create(this,this.$3_D));this.attachMessage('msg_menu_item_clicked',ss.Delegate.create(this,this.$3_B));},addMenuButton:function(control,iIndex,strClassName,chAccelerator){var $0=document.createElement('div');$0.className=(ss.isValue(strClassName))?strClassName:' item_container';if(ss.isValue(iIndex)&&iIndex!==-1){this.get_element().insertBefore($0,this.get_element().childNodes[iIndex]);this.insert(iIndex,control,$0);this.$3_3.insert(iIndex,control);}else{this.get_element().appendChild($0);this.add(control,$0);this.$3_3.add(control);}if(ss.isValue(chAccelerator)){this.$3_2.add(chAccelerator);}},isAcceleratorExists:function(chAccelerator){return this.$3_2.contains(chAccelerator);},getFocusRect:function(){return null;},changeAccelerator:function(bIsShowAccelerator){var $enum1=ss.IEnumerator.getEnumerator(this.$3_3);while($enum1.moveNext()){var $0=$enum1.current;if(Type.canCast($0,Kepler.Engine.UI.Controls.MenuButton)){($0).showHideAccelerator(bIsShowAccelerator);}}},$3_A:function($p0){for(var $0=0;$0<this.$3_3.length;$0++){(this.$3_3[$0]).changeState(Kepler.Framework.UI.Controls.EItemState.eNormal);this.$3_3[$0].set_enable($p0);}},installMouseHook:function(){this.$3_8=ss.Delegate.create(this,this.$3_E);Kepler.Framework.UI.Events.Hooks.MouseHook.register(this.$3_8);Kepler.Framework.UI.Events.Hooks.KeyboardHook.register(this.$3_8);},uninstallMouseHook:function(){if(this.$3_8!=null){Kepler.Framework.UI.Events.Hooks.MouseHook.unRegister(this.$3_8);Kepler.Framework.UI.Events.Hooks.KeyboardHook.unRegister(this.$3_8);this.$3_8=null;}},onAttach:function(){Kepler.Engine.UI.Controls.ToolBar.callBaseMethod(this, 'onAttach');if(!this.$3_7){this.installMouseHook();}},onDetach:function(){if(!this.$3_7){this.uninstallMouseHook();}Kepler.Engine.UI.Controls.ToolBar.callBaseMethod(this, 'onDetach');},removeThis:function(){if(this._ctrlPrevFocus!=null){this._ctrlPrevFocus.setFocus();}else{this.get_parent().setFocus();}this._ctrlPrevFocus=null;this.get_parent().remove(this);},onFocus:function(oFocusedPrevControl){if(!this.$3_7){this._ctrlPrevFocus=oFocusedPrevControl;}Kepler.Engine.UI.Controls.ToolBar.callBaseMethod(this, 'onFocus',[oFocusedPrevControl]);},onMouseOut:function(evt){Kepler.Engine.UI.Controls.ToolBar.callBaseMethod(this, 'onMouseOut',[evt]);var $0=evt.get_relatedTarget();var $1=this.get_element().childNodes;var $2=false;for(var $3=0;$3<$1.length;$3++){if($1[$3].contains($0)){$2=true;}}if(!$2){var $4=this.getFocus();if(this.get_controls().contains($4)){($4).changeState(Kepler.Framework.UI.Controls.EItemState.eNormal);}this.setFocus();}},$3_B:function($p0,$p1){this.set_buttonIndex(this.get_controls().indexOf($p1));this.set_menuIndex($p0);if(this.$3_4){return this.get_parent().sendMessage('msg_menu_item_clicked',null,this);}else{return null;}},$3_C:function($p0,$p1){return null;},$3_D:function($p0,$p1){var $0=this.getFocus();var $1=$p0;if($0===this||this.get_controls().contains($0)){if(this.get_controls().contains($0)){($0).changeState(Kepler.Framework.UI.Controls.EItemState.eNormal);}$1.setFocus();($1).changeState(Kepler.Framework.UI.Controls.EItemState.ePressed);}return null;},onPretranslateEvent:function(sender,eventArgs){if(eventArgs.get_categoryType()===Kepler.Framework.UI.Events.EventArgsNs.EventCategoryType.key){var $0=eventArgs;var $1=$0.get_key();if(eventArgs.get_type()===Kepler.Framework.UI.Events.EventArgsNs.EventType.keyDown&&($1===Kepler.Framework.UI.Events.EventArgsNs.Keys.right||$1===Kepler.Framework.UI.Events.EventArgsNs.Keys.left||$1===Kepler.Framework.UI.Events.EventArgsNs.Keys.escape)){var $2=this.getFocus();if($1===Kepler.Framework.UI.Events.EventArgsNs.Keys.right){if($2===this){this.get_controls()[0].setFocus();(this.get_controls()[0]).changeState(Kepler.Framework.UI.Controls.EItemState.ePressed);}else if(this.get_controls().contains($2)){var $3=this.get_controls().indexOf($2);(this.get_controls()[$3]).changeState(Kepler.Framework.UI.Controls.EItemState.eNormal);$3=($3===this.get_controls().length-1)?0:$3+1;this.get_controls()[$3].setFocus();(this.get_controls()[$3]).changeState(Kepler.Framework.UI.Controls.EItemState.ePressed);}}else if($1===Kepler.Framework.UI.Events.EventArgsNs.Keys.left){if($2===this){this.get_controls()[this.get_controls().length-1].setFocus();(this.get_controls()[this.get_controls().length-1]).changeState(Kepler.Framework.UI.Controls.EItemState.ePressed);}else if(this.get_controls().contains($2)){var $4=this.get_controls().indexOf($2);(this.get_controls()[$4]).changeState(Kepler.Framework.UI.Controls.EItemState.eNormal);$4=(!$4)?this.get_controls().length-1:$4-1;this.get_controls()[$4].setFocus();(this.get_controls()[$4]).changeState(Kepler.Framework.UI.Controls.EItemState.ePressed);}}else if($1===Kepler.Framework.UI.Events.EventArgsNs.Keys.escape&&this.get_parent()!=null){if(this.get_isDock()){return false;}if(this.get_controls().contains($2)){($2).changeState(Kepler.Framework.UI.Controls.EItemState.eNormal);}this.removeThis();return true;}return true;}}return Kepler.Engine.UI.Controls.ToolBar.callBaseMethod(this, 'onPretranslateEvent',[sender,eventArgs]);},$3_E:function($p0){if(Kepler.Engine.Core.EngineApp.get_engine().get_currentApp().getAppFrame().get_menuManager().isAnyMenuInView()){return false;}if($p0.get_type()===Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseDown){return this.handleMouseDown($p0);}else if($p0.get_type()===Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseMove){return this.handleMouseMove($p0);}else if($p0.get_type()===Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseUp){return this.handleMouseUp($p0);}else if($p0.get_type()===Kepler.Framework.UI.Events.EventArgsNs.EventType.keyDown){return this.handleKeyDown($p0);}else if($p0.get_type()===Kepler.Framework.UI.Events.EventArgsNs.EventType.keyUp){return this.handleKeyUp($p0);}return false;},handleMouseDown:function(evt){if(evt.get_target()===this.get_element()||this.get_element().contains(evt.get_target())||!!Kepler.Engine.Core.EngineApp.get_engine().get_applicationMode()){return false;}return true;},handleMouseMove:function(evt){if(evt.get_target()===this.get_element()||this.get_element().contains(evt.get_target())||!!Kepler.Engine.Core.EngineApp.get_engine().get_applicationMode()){return false;}return true;},handleMouseUp:function(evt){if(evt.get_target()===this.get_element()||this.get_element().contains(evt.get_target())||!!Kepler.Engine.Core.EngineApp.get_engine().get_applicationMode()){return false;}this.removeThis();return true;},handleKeyDown:function(evt){var $0=evt.get_key();var $1=String.fromCharCode($0);if(this.$3_2.contains($1)||!!Kepler.Engine.Core.EngineApp.get_engine().get_applicationMode()){return false;}if(Kepler.Framework.Core.StringUtils.isNum($0)||Kepler.Framework.Core.StringUtils.isAlpha($0)||Kepler.Framework.Core.StringUtils.isPunct($0)||$0===Kepler.Framework.UI.Events.EventArgsNs.Keys.escape){this.removeThis();return true;}return false;},handleKeyUp:function(keyEventArgs){var $0=keyEventArgs.get_key();if($0===Kepler.Framework.UI.Events.EventArgsNs.Keys.menu){this.removeThis();return true;}return false;}}
Type.registerNamespace('Kepler.Engine.UI');Kepler.Engine.UI.Weap_Nodes=function(){};Kepler.Engine.UI.Weap_Nodes.prototype = {db:'db',image:'image',theme:'theme'}
Kepler.Engine.UI.Weap_Nodes.registerEnum('Kepler.Engine.UI.Weap_Nodes',false);Kepler.Engine.UI.Weap_Attr=function(){};Kepler.Engine.UI.Weap_Attr.prototype = {dbname:'dbname',rbnid:'rbnid',menuid:'menuid',imgkey:'imgkey',imgpath:'imgpath',appname:'appname',colornormal:'colornormal',colornormallight:'colornormallight',colornormaldark:'colornormaldark',colorhover:'colorhover',colorpressed:'colorpressed',colorchecked:'colorchecked',colorcheckedhover:'colorcheckedhover',colorcheckedbg:'colorcheckedbg',colorbar:'colorbar',theme_type:'theme_type',colorstatusbar:'colorstatusbar',colorstatusbartext:'colorstatusbartext',colorstatusbarhover:'colorstatusbarhover',colorstatusbarchecked:'colorstatusbarchecked',colorbartext:'colorbartext',colortabandheader:'colortabandheader',colorsharebtnnormal:'colorsharebtnnormal',colorsharebtnhover:'colorsharebtnhover',colorsharebtnpressed:'colorsharebtnpressed',colorsharebtntext:'colorsharebtntext',colorsharebtntextpressed:'colorsharebtntextpressed',colorfilepagetext:'colorfilepagetext',colorview:'colorview',colorstatusbarcheckedhover:'colorstatusbarcheckedhover',fontname:'fontname',actionindex:'actionindex',menuitemcheckedstatebgcolor:'menuitemcheckedstatebgcolor',menuitemcheckedstatebordercolor:'menuitemcheckedstatebordercolor',colorviewnormallight:'colorviewnormallight',colorviewnormaldark:'colorviewnormaldark',colorviewhover:'colorviewhover',colorviewpressed:'colorviewpressed',colorviewchecked:'colorviewchecked',colorviewcheckedhover:'colorviewcheckedhover',colorviewpressedborder:'colorviewpressedborder',colorfiletabhover:'colorfiletabhover'}
Kepler.Engine.UI.Weap_Attr.registerEnum('Kepler.Engine.UI.Weap_Attr',false);Kepler.Engine.UI.MenuWnd_MenuPositioning=function(){};Kepler.Engine.UI.MenuWnd_MenuPositioning.prototype = {eBottom:0,eRight:1,eLeft:2,eTop:3,eTopCenter:4}
Kepler.Engine.UI.MenuWnd_MenuPositioning.registerEnum('Kepler.Engine.UI.MenuWnd_MenuPositioning',false);Kepler.Engine.UI.MenuWnd_MenuPositioning_Order=function(){};Kepler.Engine.UI.MenuWnd_MenuPositioning_Order.prototype = {eDefault:0,eFromMenuItem:2,eFromRibbonMiscCtrl:3,eRightLeft:4,eBottom:5,eBottomRightLeftTop:6,eFromDBCombo:7,eBottomTop:8,eFromMainViewRtClk:9,eTopCenter:10}
Kepler.Engine.UI.MenuWnd_MenuPositioning_Order.registerEnum('Kepler.Engine.UI.MenuWnd_MenuPositioning_Order',false);Kepler.Engine.UI.KeyActionHandlerType=function(){};Kepler.Engine.UI.KeyActionHandlerType.prototype = {ribbon:0,menu:1,view:2}
Kepler.Engine.UI.KeyActionHandlerType.registerEnum('Kepler.Engine.UI.KeyActionHandlerType',false);Kepler.Engine.UI.RoleAccessibility=function(){};Kepler.Engine.UI.RoleAccessibility.prototype = {application:'application',button:'button',document:'document',presentation:'presentation',grid:'grid',gridcell:'gridcell',row:'row'}
Kepler.Engine.UI.RoleAccessibility.registerEnum('Kepler.Engine.UI.RoleAccessibility',false);Kepler.Engine.UI.TypingModeLayout=function(){};Kepler.Engine.UI.TypingModeLayout.prototype = {none:0,view:1,dialog:2,dialogView:3}
Kepler.Engine.UI.TypingModeLayout.registerEnum('Kepler.Engine.UI.TypingModeLayout',false);Kepler.Engine.UI.FreezeType=function(){};Kepler.Engine.UI.FreezeType.prototype = {NONE:0,APP:1,PLAYER:2,ALL:255}
Kepler.Engine.UI.FreezeType.registerEnum('Kepler.Engine.UI.FreezeType',false);Kepler.Engine.UI.FreezeMode=function(){};Kepler.Engine.UI.FreezeMode.prototype = {dDefault:0,orientation:1}
Kepler.Engine.UI.FreezeMode.registerEnum('Kepler.Engine.UI.FreezeMode',false);Kepler.Engine.UI.CorrectAction=function(){};Kepler.Engine.UI.CorrectAction.prototype = {eFalse:0,eTrue:1,eDoNotHandle:2}
Kepler.Engine.UI.CorrectAction.registerEnum('Kepler.Engine.UI.CorrectAction',false);Kepler.Engine.UI.eActionString=function(){};Kepler.Engine.UI.eActionString.prototype = {dialogStart:0,inTheDialogBox:1,changedTo:2,checked:3,unchecked:4,indeterminate:5,selected:6,clicked:7,inTreeSelected:8,notInActionString:9,typed:10,opened:11,inserted:12,closed:13,inTheApp:14,dialogEnd:29,menuStart:30,menuCommand:31,correctSel:32,inCorrectSel:33,rowCol:34,filter:35,menuEnd:39,rbnStart:40,rbnContainerCommand:41,itemClicked:42,itemDblClicked:43,pinClicked:44,textChanged:45,rbnEnd:49,renameTo:50}
Kepler.Engine.UI.eActionString.registerEnum('Kepler.Engine.UI.eActionString',false);Kepler.Engine.UI.Engine$E=function(eOperation,oData){this.$0=eOperation;this.$1=oData;}
Kepler.Engine.UI.Engine$E.prototype={$0:0,$1:null,get_$2:function(){return this.$0;},get_$3:function(){return this.$1;}}
Kepler.Engine.UI.Engine$D=function(oAltModeMngr,oData,strKbrdShortcut){this.$2=oAltModeMngr;this.$3=oData;this.$5=strKbrdShortcut.toUpperCase();}
Kepler.Engine.UI.Engine$D.prototype={$2:null,$3:null,get_$4:function(){return this.$3;},$5:null,get_$6:function(){return this.$5;},$7:null,$8:null,get_$9:function(){return this.$8;},set_$9:function($p0){this.$8=$p0;return $p0;},$A:null,get_$B:function(){return this.$A;},set_$B:function($p0){this.$A=$p0;return $p0;},$C:function($p0,$p1){if(ss.isNullOrUndefined(this.$2)||(ss.isNullOrUndefined(this.$8)&&ss.isNullOrUndefined(this.$A))){throw new Error('Null Reference Exception : ');}var $0=($p0)?'altmode_shortcut':'altmode_shortcut_inactive';if(ss.isNullOrUndefined(this.$7)){this.$7=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div','alt_shortcut_'+this.$5,Kepler.Framework.Core.Browser.PositionStyle.strAbsolute,null,null,null,null,null,null);Kepler.Engine.UI.Helper.HtmlCssHelper.setElementInnerText(this.$7,this.$5);}this.$7.style.display='inline';if(Kepler.Engine.Core.EngineApp.get_engine().get_currentApp().get_appName()==='explorer'){this.$7.className='explorer_'+$0;}else{this.$7.className=$0;}this.$2.get_element().appendChild(this.$7);var $1=0;var $2=0;var $3=this.$7.clientWidth;var $4=this.$7.clientHeight;if(ss.isValue(this.$8)){$1=this.$8.get_x()-($3/2);$2=this.$8.get_y()-($4/2);}else if(ss.isValue(this.$A)){$2=this.$A.get_y();$1=this.$A.get_x();}else{throw new Error('Invalid Argument Exception : ');}if(ss.isNullOrUndefined($p1)){$p1=Kepler.Engine.Core.EngineApp.get_engine().getDesktopViewRect();}var $5=new Kepler.Framework.UI.Rect($1,$2,$3,$4);if(!$p1.isRectInRect($5)){this.$7.style.display='none';}else{this.$7.style.display='';}Kepler.Engine.UI.Helper.HtmlCssHelper.setElementLeft(this.$7,$1.toString());Kepler.Engine.UI.Helper.HtmlCssHelper.setElementTop(this.$7,$2.toString());},$D:function(){if(ss.isValue(this.$7)){this.$7.style.display='none';}},dispose:function(){this.$3=null;if(ss.isValue(this.$7)){if(ss.isValue(this.$7.parentNode)){this.$7.parentNode.removeChild(this.$7);}this.$7=null;}this.$8=null;this.$A=null;}}
Kepler.Engine.UI.Engine$11=function(eOperation,oData){this.$0=eOperation;this.$1=oData;this.$2=[];this.$3=[];}
Kepler.Engine.UI.Engine$11.prototype={$0:0,$1:null,$2:null,$3:null,get_$4:function(){return this.$0;},get_$5:function(){return this.$1;},get_$6:function(){return this.$2;},get_$7:function(){return this.$3;},$8:function($p0){var $enum1=ss.IEnumerator.getEnumerator(this.$2);while($enum1.moveNext()){var $0=$enum1.current;$0.$C(true,$p0);}var $enum2=ss.IEnumerator.getEnumerator(this.$3);while($enum2.moveNext()){var $1=$enum2.current;$1.$C(false,$p0);}},$9:function($p0,$p1){var $enum1=ss.IEnumerator.getEnumerator(this.$2);while($enum1.moveNext()){var $0=$enum1.current;if($0.get_$6().startsWith($p0)){$0.$C(true,$p1);}else{$0.$D();}}var $enum2=ss.IEnumerator.getEnumerator(this.$3);while($enum2.moveNext()){var $1=$enum2.current;if($1.get_$6().startsWith($p0)){$1.$C(false,$p1);}else{$1.$D();}}},$A:function(){var $enum1=ss.IEnumerator.getEnumerator(this.$2);while($enum1.moveNext()){var $0=$enum1.current;$0.$D();}var $enum2=ss.IEnumerator.getEnumerator(this.$3);while($enum2.moveNext()){var $1=$enum2.current;$1.$D();}},$B:function(){var $enum1=ss.IEnumerator.getEnumerator(this.$2);while($enum1.moveNext()){var $0=$enum1.current;$0.dispose();}this.$2.clear();},$C:function(){var $enum1=ss.IEnumerator.getEnumerator(this.$3);while($enum1.moveNext()){var $0=$enum1.current;$0.dispose();}this.$3.clear();},dispose:function(){this.$1=null;this.$B();this.$C();}}
Kepler.Engine.UI.Engine$10=function(){this.$0=null;}
Kepler.Engine.UI.Engine$10.prototype={$0:null,$1:function($p0,$p1){var $0=0;var $1=null;var $2=$p0.join('');var $3;var $4=$p1.length;var $5=false;var $6=[];for($3=0;$3<$4;$3++){if($p1[$3].get_$6()===$2){$6.add($p1[$3]);continue;}else if(!$5&&$p1[$3].get_$6().startsWith($2)){$5=true;}}if($6.length>0){if($6.length>1){var $7=-1;if(ss.isValue(this.$0)){$7=$6.indexOf(this.$0,0);}$7++;$7=$7%$6.length;this.$0=$6[$7];return this.$3(this.$0,true);}else{return this.$3($6[0],false);}}else if($5){$0=8;}return new Kepler.Engine.UI.Engine$E($0,$1);},$2:function($p0,$p1,$p2,$p3){},$3:function($p0,$p1){return new Kepler.Engine.UI.Engine$E(0,null);}}
Kepler.Engine.UI.Engine$16=function(){Kepler.Engine.UI.Engine$16.initializeBase(this);}
Kepler.Engine.UI.Engine$16.prototype={$7:function($p0,$p1,$p2,$p3){var $0=($p1.get_enabled())?$p2:$p3;var $1=$p1.get_grid();var $2=$1.get_groups();var $enum1=ss.IEnumerator.getEnumerator($2);while($enum1.moveNext()){var $3=$enum1.current;var $4=$3.get_items();var $5=$3.get_itemsElement();var $6=$4.length;for(var $7=0;$7<$6;$7++){var $8=$4[$7].get_kbrdShortcut().toUpperCase();if(!!$8){var $9=new Kepler.Engine.UI.Engine$D($p0,$4[$7],$8);var $A=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientRect($5[$7]);$9.set_$B(new Kepler.Framework.UI.Point($A.get_left()+16,$A.get_top()+Kepler.Engine.UI.Engine$16.$6));$0.add($9);}}}},$2:function($p0,$p1,$p2,$p3){Kepler.Engine.UI.Engine$16.callBaseMethod(this, '$2',[$p0,$p1,$p2,$p3]);if(!(Kepler.Engine.UI.Menu.MenuWnd).isInstanceOfType($p1)){return;}var $0=$p1;var $1=$0.get_menuItems();var $2=$1.length;var $3;var $4;for($3=0;$3<$2;$3++){$4=$1[$3];if((Kepler.Engine.UI.Menu.MiscMenuItem).isInstanceOfType($4)){this.$7($p0,$4,$p2,$p3);continue;}var $5=$4.get_kbrdShortcut().toUpperCase();if(!!$5){var $6=new Kepler.Engine.UI.Engine$D($p0,$4,$5);var $7=$4.get_elemMenuItem();var $8=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientRect($7);$6.set_$B(new Kepler.Framework.UI.Point($8.get_left()+12,$8.get_centerPoint().get_y()));if($4.get_enabled()){$p2.add($6);}else{$p3.add($6);}}if((Kepler.Engine.UI.Menu.Items.SplitBtnTypeMenuItem).isInstanceOfType($4)&&($4).get_isSubMenuBtn()){var $9=($4).get_arrowBtnMenuItem();var $A=this.$8($9,$p0);if($9.get_enabled()){$p2.add($A);}else{$p3.add($A);}}}},$8:function($p0,$p1){var $0=$p0.get_kbrdShortcut().toUpperCase();var $1=new Kepler.Engine.UI.Engine$D($p1,$p0,$0);var $2=$p0.get_elemMenuItem();var $3=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientRect($2);$1.set_$B(new Kepler.Framework.UI.Point($3.get_left()+12,$3.get_centerPoint().get_y()));return $1;},$3:function($p0,$p1){var $0=0;var $1=null;if((Kepler.Engine.UI.Menu.BaseMenuItem).isInstanceOfType($p0.get_$4())){var $2=$p0.get_$4();$1=$2;if($p1){$2.get_parentMenu().setActiveItem($2,$2.get_elemMenuItem());}else{$0=$2.$11($1);}}else if(Type.canCast($p0.get_$4(),Kepler.Engine.UI.Menu.ImageItem)){var $3=$p0.get_$4();$1=$3.get_parentMenuItem();if($p1){$3.get_parentMenuItem().get_parentMenu().setActiveItem($3.get_parentMenuItem(),$3.get_itemElement());}else{$0=$3.get_parentMenuItem().$11($3);}}return new Kepler.Engine.UI.Engine$E($0,$1);}}
Kepler.Engine.UI.Engine$17=function(){Kepler.Engine.UI.Engine$17.initializeBase(this);this.$A(false);}
Kepler.Engine.UI.Engine$17.prototype={$4:0,$5:0,$6:0,$7:0,$8:0,$9:0,$A:function($p0){if(!$p0){this.$4=14;this.$5=11;this.$6=-9;this.$7=26;this.$8=63;this.$9=63+8;}else{this.$4=16;this.$5=23;this.$6=-6;this.$7=42;this.$8=93;this.$9=93+8;}},$B:function($p0,$p1,$p2,$p3){var $enum1=ss.IEnumerator.getEnumerator($p1);while($enum1.moveNext()){var $0=$enum1.current;if($0.get_visible()&&this.$C($0)){this.$D($p0,$0,$p2,$p3);}}},$C:function($p0){if(Type.canCast($p0,Ribbon.RibbonTabListItem)&&Type.canCast($p0.get_msgParent(),Ribbon.BaseRibbonManager)&&($p0.get_msgParent()!=null&&$p0.get_parentRibbonItem()!=null&&($p0.get_msgParent()).get_isFileTabActive())){var $0=this.$12($p0);var $1=$0.inflate(10);return $p0.get_parentRibbonItem().isItemVisible($1);}return $p0.isItemVisibleInParent();},$D:function($p0,$p1,$p2,$p3){var $0=Type.getInstanceType($p1);while($0!=null){if($0===Ribbon.RibbonTabForFileTab){this.$17($p0,$p1,$p2,$p3);break;}else if($0===Ribbon.RibbonTab){this.$13($p0,$p1,$p2,$p3);break;}else if($0===Ribbon.RibbonTabContainer){this.$18($p0,$p1,$p2,$p3);break;}else if($0===Ribbon.RibbonPane){this.$15($p0,$p1,$p2,$p3);break;}else if($0===Ribbon.RibbonItemScrollableContainer||$0===Ribbon.RibbonItemGroupContainer||$0===Ribbon.FileTabBtnContentGrp||$0===Ribbon.RibbonItemListCtrl){this.$B($p0,$p1.get_listRibbonItems(),$p2,$p3);}$0=$0.get_baseType();}if($0==null){this.$10($p0,$p1,$p2,$p3);}},$E:function($p0,$p1,$p2,$p3){var $0=$p1.get_qatButtons();var $enum1=ss.IEnumerator.getEnumerator($0);while($enum1.moveNext()){var $3=$enum1.current;this.$F($p0,$3,$p2,$p3);}var $1=$p1.get_ribbonTabs();var $2=$p1.get_visibleTabs();var $enum2=ss.IEnumerator.getEnumerator($1);while($enum2.moveNext()){var $4=$enum2.current;if($2.contains($4.get_id())){var $5=$4.get_kbrdShortcut().toUpperCase();if(!String.isNullOrEmpty($5)){var $6=new Kepler.Engine.UI.Engine$D($p0,$4,$5);var $7=$4.get_elemTabButton();var $8=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientRect($7);$6.set_$9(new Kepler.Framework.UI.Point($8.get_left()+($8.get_width()/2),$8.get_bottom()));if(!!$4.get_enabled()){$p2.add($6);}else{$p3.add($6);}}}}},$F:function($p0,$p1,$p2,$p3){if($p1.get_visible()){var $0=$p1.get_kbrdShortcut().toUpperCase();if(!String.isNullOrEmpty($0)){var $1=new Kepler.Engine.UI.Engine$D($p0,$p1,$0);var $2=$p1.get_elementItem();var $3=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientRect($2);$1.set_$9(new Kepler.Framework.UI.Point($3.get_left()+($3.get_width()/2),$3.get_bottom()));if(!!$p1.get_enabled()){$p2.add($1);}else{$p3.add($1);}}}},$10:function($p0,$p1,$p2,$p3){if($p1.get_visible()){var $0=$p1.get_kbrdShortcut().toUpperCase();if(!String.isNullOrEmpty($0)){var $1=new Kepler.Engine.UI.Engine$D($p0,$p1,$0);$1.set_$9(this.$12($p1));if(!!$p1.get_enabled()){$p2.add($1);}else{$p3.add($1);}}}},$11:function($p0,$p1,$p2,$p3){},$12:function($p0){var $0=null;var $1=$p0.get_elementItem();var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientRect($1);switch($p0.get_altModeType()){case 1:$0=$2.get_centerPoint();break;case 2:$0=$2.get_topLeft();break;case 0:if(($2.get_width()===$2.get_height())||($2.get_width()>$2.get_height()&&$2.get_width()<$2.get_height()*1.5)||($2.get_height()>$2.get_width()&&$2.get_height()<$2.get_width()*1.5)){$0=$2.get_centerPoint();}else{$0=$2.get_topLeft();}break;}return $0;},$13:function($p0,$p1,$p2,$p3){var $0=$p1.getPanes();var $enum1=ss.IEnumerator.getEnumerator($0);while($enum1.moveNext()){var $1=$enum1.current;this.$14($p0,$1,$p2,$p3);}},$14:function($p0,$p1,$p2,$p3){if($p1.get_visible()){if($p1.get_shrinkable()){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientRect($p1.$1E());var $1=$p1.get_kbrdShortcut().toUpperCase();if(!String.isNullOrEmpty($1)){var $2=new Kepler.Engine.UI.Engine$D($p0,$p1,$1);$2.set_$9(new Kepler.Framework.UI.Point($0.get_centerPoint().get_x(),$0.get_bottom()+12));if(!!$p1.get_enabled()){$p2.add($2);}else{$p3.add($2);}}}else{this.$15($p0,$p1,$p2,$p3);}}},$15:function($p0,$p1,$p2,$p3){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientRect($p1.get_elementItem());$0.set_bottom($0.get_bottom()-this.$4);var $1=$p1.getRibbonItems();var $enum1=ss.IEnumerator.getEnumerator($1);while($enum1.moveNext()){var $2=$enum1.current;var $3=$2;if($3.get_visible()){if(Type.canCast($3,Ribbon.RibbonMiscCtrl)){$3=$3.get_listRibbonItems()[2];}var $4=$3.get_kbrdShortcut().toUpperCase();if(!String.isNullOrEmpty($4)){var $5=new Kepler.Engine.UI.Engine$D($p0,$3,$4);var $6=$3.get_elementItem();var $7=new Kepler.Framework.UI.Point(0,0);var $8=this.$16($7,$6,$0);if($8){$5.set_$9($7);}else{$5.set_$B($7);}if(!!$3.get_enabled()){$p2.add($5);}else{$p3.add($5);}}}}},$16:function($p0,$p1,$p2){if(ss.isNullOrUndefined($p0)){$p0=new Kepler.Framework.UI.Point(0,0);}var $0=false;var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientRect($p1);$p0.set_x($1.get_left()+this.$5);if($p1.className.indexOf('dlg_launcher')>=0){$0=true;$p0.set_x($1.get_centerPoint().get_x());$p0.set_y($1.get_bottom()+8);}else{var $2=$1.get_centerPoint();var $3=$p2.get_height()/3;var $4=$p2.get_top()+$3;var $5=$p2.get_bottom()-$3;var $6=0;if($1.get_height()<$p2.get_height()/2){if($2.get_y()<$4){$6=this.$6;}else if($2.get_y()>$4&&$2.get_y()<$5){$6=this.$7;}else if($2.get_y()>$5){$6=this.$8;}}else{$6=this.$9;$p0.set_x($1.get_centerPoint().get_x());$0=true;}$p0.set_y($p2.get_top()+$6);}return $0;},$17:function($p0,$p1,$p2,$p3){this.$B($p0,$p1.get_listRibbonItems(),$p2,$p3);},$18:function($p0,$p1,$p2,$p3){var $0=$p1.get_listRibbonItems();var $1;var $2;var $3=false;switch($p1.get_ribbonTabType()){case 2:$1=42;$2=-2;$3=true;break;default:$1=13;$2=1;break;}var $enum1=ss.IEnumerator.getEnumerator($0);while($enum1.moveNext()){var $4=$enum1.current;if($4.get_visible()){var $5=$4.get_kbrdShortcut().toUpperCase();if(!String.isNullOrEmpty($5)){var $6=new Kepler.Engine.UI.Engine$D($p0,$4,$5);var $7;if((Ribbon.RibbonTab).isInstanceOfType($4)){$7=($4).get_elemTabButton();}else{$7=$4.get_elementItem();}var $8=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientRect($7);$6.set_$B(new Kepler.Framework.UI.Point($8.get_left()+$1,$8.get_top()+$2));if(!!$4.get_enabled()){$p2.add($6);}else{$p3.add($6);}}}}if($3){this.$D($p0,$p1.getActiveTab(),$p2,$p3);}},$2:function($p0,$p1,$p2,$p3){Kepler.Engine.UI.Engine$17.callBaseMethod(this, '$2',[$p0,$p1,$p2,$p3]);var $0=Type.getInstanceType($p1);while($0!=null){if($0===Ribbon.BaseRibbonManager){this.$E($p0,$p1,$p2,$p3);break;}else if($0===Ribbon.RibbonItem){this.$D($p0,$p1,$p2,$p3);break;}$0=$0.get_baseType();}},$3:function($p0,$p1){var $0=0;var $1=null;if((Ribbon.RibbonItem).isInstanceOfType($p0.get_$4())){var $2=$p0.get_$4();$1=$2;$0=$2.$A();}return new Kepler.Engine.UI.Engine$E($0,$1);}}
Kepler.Engine.UI.Engine$1D=function(){Kepler.Engine.UI.Engine$1D.initializeBase(this,[Kepler.Engine.UI.Controls.Control.csS_CLASS_POSITION_ABSOLUTE+' tool_tip_pointer_event','ALTMODE_LAYER']);this.set_showHideProperty(Kepler.Framework.UI.ShowHideProperty.display);this.show(false);this.set_zIndex(Kepler.Framework.UI.Controls.ZIndexConstants.frame_AltMode);this.$4_3=new Kepler.Engine.UI.Engine$17();this.$4_4=new Kepler.Engine.UI.Engine$16();this.$4_5=false;this.$4_6=[];this.$4_8=ss.Delegate.create(this,this.$4_1B);this.$4_9=ss.Delegate.create(this,this.$4_1C);this.$4_A=[];this.$4_B=false;}
Kepler.Engine.UI.Engine$1D.get_$4_2=function(){if(Kepler.Engine.UI.Engine$1D.$4_1==null){Kepler.Engine.UI.Engine$1D.$4_1=new Kepler.Engine.UI.Engine$1D();}return Kepler.Engine.UI.Engine$1D.$4_1;}
Kepler.Engine.UI.Engine$1D.prototype={$4_3:null,$4_4:null,$4_5:false,$4_6:null,get_$4_7:function(){return (this.$4_6.length>0);},$4_8:null,$4_9:null,$4_A:null,$4_B:false,$4_C:null,$4_D:function($p0){if(this.get_$4_7()){var $0=$p0.get_altKey();var $1=$p0.get_ctrlKey();var $2=$p0.get_shiftKey();var $3=$p0.get_key();var $4=$p0.get_type();if($4===Kepler.Framework.UI.Events.EventArgsNs.EventType.keyDown){if($3===Kepler.Framework.UI.Events.EventArgsNs.Keys.f6&&!Kepler.Engine.Core.EngineApp.get_engine().getCurrentAppFrame().get_ribbonManager().get_isFileTabActive()){this.$4_F();}else if($1&&$3===Kepler.Framework.UI.Events.EventArgsNs.Keys.f7){this.$4_F();if(Kepler.Engine.Core.EngineApp.get_engine().getCurrentAppFrame().get_ribbonManager().get_isFileTabActive()){var $5=Kepler.Engine.Core.EngineApp.get_engine().getCurrentAppFrame().get_ribbonManager().get_focusItem();return Kepler.Engine.Core.EngineApp.get_engine().get_$1_D().getAppFrame().sendMessage('msg_set_focus_on_player',$5,Kepler.Engine.Core.EngineApp.get_engine().getCurrentAppFrame().get_ribbonManager());}else{return Kepler.Engine.Core.EngineApp.get_engine().get_$1_D().getAppFrame().sendMessage('msg_set_focus_on_player',null,Kepler.Engine.Core.EngineApp.get_engine().getCurrentAppView());}}else if($3===Kepler.Framework.UI.Events.EventArgsNs.Keys.escape||($3===Kepler.Framework.UI.Events.EventArgsNs.Keys.controlKey&&$0)||($3===Kepler.Framework.UI.Events.EventArgsNs.Keys.shiftKey&&$0)){this.$4_A.clear();if(this.$4_6.length>1){var $6=this.$4_11();$6.dispose();this.$4_14();}else{this.$4_F();}}else if($3===Kepler.Framework.UI.Events.EventArgsNs.Keys.tab||$3===Kepler.Framework.UI.Events.EventArgsNs.Keys.right||$3===Kepler.Framework.UI.Events.EventArgsNs.Keys.left||$3===Kepler.Framework.UI.Events.EventArgsNs.Keys.up||$3===Kepler.Framework.UI.Events.EventArgsNs.Keys.down){var $7=(Kepler.Engine.Core.EngineApp.get_engine().get_currentApp().getAppFrame()).get_ribbonManager();$7.altModeStoped($p0);this.$4_A.clear();this.$4_F();}else{var $8=Kepler.Framework.Core.StringUtils.getCharCodeFromKeyAndLocation($p0.get_key(),$p0.get_keyLocation());this.$4_16($8);}}else if($4===Kepler.Framework.UI.Events.EventArgsNs.EventType.keyUp&&$3===Kepler.Framework.UI.Events.EventArgsNs.Keys.menu){if(this.$4_5){this.$4_5=false;this.$4_F();}else{this.$4_5=true;}}return true;}else{var $9;var $A;var $B;$9=$p0.get_altKey();$A=$p0.get_ctrlKey();$B=$p0.get_shiftKey();if($p0.get_type()===Kepler.Framework.UI.Events.EventArgsNs.EventType.keyDown&&$p0.get_key()===Kepler.Framework.UI.Events.EventArgsNs.Keys.menu&&$9&&!$A&&!$B){this.$4_5=false;var $C=(Kepler.Engine.Core.EngineApp.get_engine().get_currentApp().getAppFrame()).get_ribbonManager();$C.altModeStarted();if($C.get_isFileTabActive()){this.$4_E(1,$C.getActiveTab());}else{this.$4_E(1,$C);}return true;}}return false;},$4_E:function($p0,$p1){var $0=false;if(Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.set_altKey(true);}switch($p0){case 1:case 2:this.$4_10($p0,$p1);break;default:$0=true;break;}if(!$0){var $1=Kepler.Engine.Core.EngineApp.get_engine().get_currentApp().getAppFrame();this.$4_3.$A($1.get_touchMode());}else{throw new Error('Invalid Argument Exception : ');}this.$4_A.clear();this.$4_19();this.show(true);if(Kepler.Engine.Core.EngineApp.get_engine().get_taskMaster().get_isAccessibility()&&!Kepler.Engine.Core.EngineApp.get_engine().getCurrentAppFrame().get_ribbonManager().get_isFileTabActive()){var $2='upper ribbon '+Kepler.Engine.Core.EngineApp.get_engine().getCurrentAppFrame().get_ribbonManager().getActiveTab().get_text()+' tab. To change ribbon use left or right arrow keys. To Navigate current  ribbon use tab or shift tab.';Kepler.Framework.Accessibility.AccessibilitySupport.get_instance().setRole('label');Kepler.Framework.Accessibility.AccessibilitySupport.get_instance().setAccessibilitySpeech($2);Kepler.Framework.Accessibility.AccessibilitySupport.get_instance().setFocusOnAccessibilityElement();}this.$4_13();this.$4_14();},$4_F:function(){var $0=(Kepler.Engine.Core.EngineApp.get_engine().get_currentApp().getAppFrame()).get_ribbonManager();if($0!=null){$0.sendMessage('msg_reset_focus_check_alt_mode',null,this);}this.$4_1A();if(Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.set_altKey(false);}this.show(false);var $1=null;while(ss.isValue($1=this.$4_11())){$1.dispose();}Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.set_altKey(false);},$4_10:function($p0,$p1){this.$4_6.push(new Kepler.Engine.UI.Engine$11($p0,$p1));},$4_11:function(){return this.$4_6.pop();},$4_12:function($p0){switch($p0){case 1:case 4:case 5:return this.$4_3;case 2:case 3:case 6:return this.$4_4;default:return null;}},$4_13:function(){var $0=this.$4_6.peek();var $1=this.$4_12($0.get_$4());if($1!=null){$0.$B();$0.$C();$1.$2(this,$0.get_$5(),$0.get_$6(),$0.get_$7());}else{throw new Error('Null Reference Exception : ');}},$4_14:function(){var $0=this.$4_6.peek();var $1=this.$4_12($0.get_$4());if($1!=null){if(!this.$4_A.length){if(Type.getInstanceType($0.get_$5())===Ribbon.FileTab){this.$4_B=true;}else if(this.$4_B){this.$4_B=false;}$0.$8(this.$4_C);}else{$0.$9(this.$4_A.join(''),this.$4_C);}}else{throw new Error('Null Reference Exception : ');}},$4_15:function(){var $0=this.$4_6.peek();$0.$A();},$4_16:function($p0){this.$4_A.add(String.fromCharCode($p0).toUpperCase().charAt(0));var $0=this.$4_6.peek();var $1=this.$4_12($0.get_$4());if($1!=null){var $2=$1.$1(this.$4_A,$0.get_$6());this.$4_17($2);}else{throw new Error('Null Reference Exception : ');}},$4_17:function($p0){switch($p0.get_$2()){case 8:this.$4_14();break;case 9:this.$4_A.clear();this.$4_13();this.$4_14();break;case 5:this.$4_A.clear();this.$4_15();this.$4_10($p0.get_$2(),$p0.get_$3());this.$4_13();this.$4_14();break;case 7:this.$4_F();break;case 3:case 6:var $0=null;if((Kepler.Engine.UI.Menu.MenuWnd).isInstanceOfType($p0.get_$3())){$0=$p0.get_$3();}else{var $1=Kepler.Engine.Core.EngineApp.get_engine().get_currentApp().getAppFrame();if((Kepler.Engine.UI.WeapAppFrame).isInstanceOfType($1)){$0=($1).get_menuManager().getLatestMenuInView();}}if($0==null){this.$4_F();}else{this.$4_A.clear();this.$4_15();this.$4_10($p0.get_$2(),$0);this.$4_13();this.$4_14();}break;default:this.$4_A.removeAt(this.$4_A.length-1);break;}},$4_18:function($p0){this.$4_17($p0);},$4_19:function(){if(!Kepler.Framework.UI.Events.Hooks.MouseHook.isRegistered(this.$4_8)){Kepler.Framework.UI.Events.Hooks.MouseHook.register(this.$4_8);}if(!Kepler.Framework.UI.Events.Hooks.TouchHook.isRegistered(this.$4_8)){Kepler.Framework.UI.Events.Hooks.TouchHook.register(this.$4_8);}if(!Kepler.Framework.UI.Events.Hooks.KeyboardHook.isRegistered(this.$4_9)){Kepler.Framework.UI.Events.Hooks.KeyboardHook.register(this.$4_9);}},$4_1A:function(){Kepler.Framework.UI.Events.Hooks.MouseHook.unRegister(this.$4_8);Kepler.Framework.UI.Events.Hooks.TouchHook.unRegister(this.$4_8);Kepler.Framework.UI.Events.Hooks.KeyboardHook.unRegister(this.$4_9);},$4_1B:function($p0){var $0=false;switch($p0.get_type()){case Kepler.Framework.UI.Events.EventArgsNs.EventType.touchStart:case Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseDown:case Kepler.Framework.UI.Events.EventArgsNs.EventType.touchEnd:case Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseUp:if(Kepler.Engine.UI.Helper.HtmlCssHelper.isElemOut('[id="keyboard"]',$p0.get_target())){this.$4_F();}break;case Kepler.Framework.UI.Events.EventArgsNs.EventType.touchMove:case Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseOver:case Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseOut:case Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseMove:break;default:break;}return $0;},$4_1C:function($p0){var $0=$p0.get_type();var $1=false;$p0.set_defaultPrevented(true);$p0.set_propogationStopped(true);$1=true;if($0===Kepler.Framework.UI.Events.EventArgsNs.EventType.keyDown){if(($p0).get_key()===Kepler.Framework.UI.Events.EventArgsNs.Keys.escape&&this.$4_B){$1=false;}else if(($p0).get_key()===Kepler.Framework.UI.Events.EventArgsNs.Keys.f6){$1=false;}}switch($0){case Kepler.Framework.UI.Events.EventArgsNs.EventType.keyDown:case Kepler.Framework.UI.Events.EventArgsNs.EventType.keyUp:this.$4_D($p0);break;default:break;}return $1;},onParentResized:function($p0){Kepler.Engine.UI.Engine$1D.callBaseMethod(this, 'onParentResized',[$p0]);this.$4_C=Kepler.Engine.Core.EngineApp.get_engine().getDesktopViewRect();},onUnload:function(){Kepler.Engine.UI.Engine$1D.callBaseMethod(this, 'onUnload');Kepler.Framework.Core.Helper.DelegateHelper.deReference(this.$4_8);Kepler.Framework.Core.Helper.DelegateHelper.deReference(this.$4_9);this.$4_8=this.$4_9=null;}}
Kepler.Engine.UI.BaseAppFrame=function(oApp){Kepler.Engine.UI.BaseAppFrame.initializeBase(this,[Kepler.Engine.UI.Controls.Control.csS_CLASS_POSITION_ABSOLUTE,oApp.get_appName().toUpperCase()+'_LAYER']);Kepler.Engine.UI.Helper.HtmlCssHelper.addElementAttribute(this.get_element(),'name',(Kepler.Engine.UI.BaseAppFrame).get_name());this._oApp=oApp;this._oApp.$1_C(this);this._oThemeDetails=new Kepler.Framework.UI.ThemeDetails();this.initialiseThemeDetails();this._bTouchMode=Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice();this._lstImgPreCacheQueue=[];this._lstPreCachedImages=[];this._iImageCacheCounter=0;this._mapImageDict={};this._lstDialogAction=[];this._mapLastDialogLaunchInfo={};this._mapDlgPanesForDynamicUpdates={};this._oPositionAndSizeOverride=new Kepler.Engine.UI.Helper.PositionAndSizeOverrideHelper(this);this.constructor_RbnMnu();this.$4_9=document.createElement('style');}
Kepler.Engine.UI.BaseAppFrame.get_toucH_MODE=function(){return Kepler.Engine.Core.EngineApp.get_engine().get_currentApp().getAppFrame().get_touchMode();}
Kepler.Engine.UI.BaseAppFrame.prototype={_oApp:null,get_app:function(){return this._oApp;},_oAppView:null,get_appView:function(){return this._oAppView;},get_engine:function(){return Kepler.Engine.Core.EngineApp.get_engine();},_oThemeDetails:null,get_themeDetails:function(){return this._oThemeDetails;},_bTouchMode:false,get_touchMode:function(){return this._bTouchMode;},_lstImgPreCacheQueue:null,_lstPreCachedImages:null,_mapImageDict:null,_iImageCacheCounter:0,add_$4_0:function($p0){this.$4_1=ss.Delegate.combine(this.$4_1,$p0);},remove_$4_0:function($p0){this.$4_1=ss.Delegate.remove(this.$4_1,$p0);},$4_1:null,add_oThemeParsingCompleteNotify:function(value){this.$4_2=ss.Delegate.combine(this.$4_2,value);},remove_oThemeParsingCompleteNotify:function(value){this.$4_2=ss.Delegate.remove(this.$4_2,value);},$4_2:null,_mapLastDialogLaunchInfo:null,_lstDialogAction:null,_mapDlgPanesForDynamicUpdates:null,_oPositionAndSizeOverride:null,get_positionAndSizeOverrideHandler:function(){return this._oPositionAndSizeOverride;},$4_3:false,$4_4:null,$4_5:false,$4_6:0,$4_7:0,$4_8:false,get_isInactiveAppFrame:function(){return this.$4_8;},set_isInactiveAppFrame:function(value){this.$4_8=value;return value;},$4_9:null,initialiseThemeDetails:function(){},onLoad:function(){Kepler.Engine.UI.BaseAppFrame.callBaseMethod(this, 'onLoad');this.initialise();this.$4_D();},initialise:function(){this.createImageList();this.$4_1E();},processTabOnControl:function(keyEvent,oCtrl){return false;},createImageList:function(){this.$4_20();},processShowMe:function(){this.$4_21();},addImage:function(strKey,strValue){if(!String.isNullOrEmpty(strKey)&&String.isNullOrEmpty(strValue)){strValue=this._mapImageDict[strKey];}if(!String.isNullOrEmpty(strValue)){if(!this._lstImgPreCacheQueue.contains(strValue)&&!this._lstPreCachedImages.contains(strValue)){this._lstImgPreCacheQueue.add(strValue);}}},precacheImages:function(imgPreCache){if(ss.isValue(imgPreCache)){this.add_$4_0(imgPreCache);}if(this._lstImgPreCacheQueue.length>0){var $0=this.get_engine().get_taskMaster();var $1='';var $2=null;for(var $3=0;$3<this._lstImgPreCacheQueue.length;$3++){$1=this._lstImgPreCacheQueue[$3];if(!this._lstPreCachedImages.contains($1)){this._lstPreCachedImages.add($1);this._lstImgPreCacheQueue.removeAt($3);$3--;this._iImageCacheCounter++;$2=new Image();$2.source=this._lstImgPreCacheQueue[$3];$2.onload=ss.Delegate.create(this,this.$4_A);$2.src=$0.getKeplerRelativePath($1);}}}else{this.$4_B();}},$4_A:function($p0){this._iImageCacheCounter--;this.$4_B();},$4_B:function(){if(this._iImageCacheCounter<=0&&ss.isValue(this.$4_1)){this.$4_1();this.$4_1=null;}},themeParsingCompleteCallBack:function(){if(ss.isValue(this.$4_2)){this.$4_2();}},issueAppReady:function(){this._oApp.get_engine().postMessage('eONAppReady',null,this);},parseDialogAction:function(mapViewData){this._lstDialogAction.clear();if(Object.keyExists(mapViewData,'dialog_action_count')){var $0=0;var $1=mapViewData['dialog_action_count'];if($1.length>0){$0=parseInt($1);}if($0>0){var $2=mapViewData['dialog_action_data'];var $3=$2.split(Kepler.Framework.Core.Seperators.PIPE);var $4;for(var $5=0;$5<$0;$5++){$4=new Kepler.Engine.Core.DIALOG_LAUNCH_ACTION();var $6=$3[$5].split(Kepler.Framework.Core.Seperators.miD_DOT);$4._strDialog=$6[0];$4._idbMode=parseInt($6[1]);$4._iFrameToJump=parseInt($6[2],10);$4._iCheckWithView=parseInt($6[3]);$4._strCheckWithViewString=$6[4];this._lstDialogAction.add($4);}}}},launchDialog:function(oDialogInfo){if(Kepler.Engine.Core.EngineApp.get_engine().get_taskMaster().get_isBusinessCommunication()&&Kepler.Engine.Core.EngineApp.get_engine().get_taskMaster().get_isShowAnswerOrSolution()){return false;}if(this.get_engine().preventDialogLaunching()){return false;}if(ss.isNullOrUndefined(oDialogInfo)){return false;}var $0=null;if(!Object.keyExists(this._mapLastDialogLaunchInfo,oDialogInfo.get_dialog())){$0=new Kepler.Engine.Core.DialogInfo(oDialogInfo.get_dialog());$0=oDialogInfo;}else{$0=oDialogInfo;}this._mapLastDialogLaunchInfo[oDialogInfo.get_dialog()]=$0;var $1=-1;if(Object.keyExists(oDialogInfo.get_map(),'db_mode')){$1=parseInt($0.get_map()['db_mode']);}if(this.isDialogLaunchingCorrectAction(oDialogInfo,$1)){return true;}return Kepler.Engine.Core.EngineApp.get_engine().sendMessage('eONLaunchDialog',oDialogInfo.get_dialog(),oDialogInfo);},hideDialog:function(oDialogBase){Kepler.Engine.Core.EngineApp.get_engine().sendMessage('eONUnloadDialog',oDialogBase,null);},isDialogLaunchingCorrectAction:function(oDialogInfo,idbMode){var $0=oDialogInfo.get_dialog();for(var $1=0;$1<this._lstDialogAction.length;++$1){var $2=this._lstDialogAction[$1];if(!$2._strDialog.compareTo($0)&&($2._idbMode===-1||$2._idbMode===idbMode)){var $3=$2._strCheckWithViewString;var $4=[];var $5=this._oApp.get_engine().get_taskMaster().get_dialogApps()[$0];var $6=true;var $7=true;var $8=null;if(!!$2._iCheckWithView){if(!$3.compareTo('dialog_exist')){$7=false;}else{if(!this._oAppView.verifyUserSelection($4,[$3])){$6=false;}else{if($4.length>0){$8='With correct selection,';}var $9=$5.get_dialog().getDialogNameForMode(idbMode);if(oDialogInfo.get_map()!=null&&Object.keyExists(oDialogInfo.get_map(),'db_caption')){$9=oDialogInfo.get_map()['db_caption'];}$8+=' launched "'+$9+'" dialog';}}}if($6){var $A=new Ribbon.ItemAction();$A.set_text($8);$A.set_frameJump($2._iFrameToJump);$A.set_subFrameJump(0);this.sendMessage('eONActionEngine',$7,$A);return true;}}}return false;},updatePositionAndSizeOverride:function(szParent,bSetSizeToParentIfOverrideFail){return this._oPositionAndSizeOverride.update(szParent,bSetSizeToParentIfOverrideFail);},onPretranslateEvent:function(sender,eventArgs){if(this.$4_8){if(eventArgs.get_categoryType()===Kepler.Framework.UI.Events.EventArgsNs.EventCategoryType.mouse){if(eventArgs.get_type()===Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseMove||eventArgs.get_type()===Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseOut||eventArgs.get_type()===Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseOver){return Kepler.Engine.UI.BaseAppFrame.callBaseMethod(this, 'onPretranslateEvent',[sender,eventArgs]);}}return true;}return Kepler.Engine.UI.BaseAppFrame.callBaseMethod(this, 'onPretranslateEvent',[sender,eventArgs]);},performAppKeyAction:function(oKeyAction){switch(oKeyAction.eHandlerType){case 0:return this.performAppKeyRibbonAction(oKeyAction);case 1:return this.performAppKeyMenuAction(oKeyAction);case 2:return this.$4_C(oKeyAction);default:throw new Error('Not Implemented Exception : '+'Application Shortcut Handler Type : '+oKeyAction.eHandlerType);}},$4_C:function($p0){return this.get_appView().$4_7($p0);},$4_D:function(){this.attachMessage('eONTaskData',ss.Delegate.create(this,this.onMsgTaskData));this.attachMessage('eONFrameData',ss.Delegate.create(this,this.onMsgFrameData));this.attachMessage('eONEngineAction',ss.Delegate.create(this,this.$4_F));this.attachMessage('eONActionEngine',ss.Delegate.create(this,this.onMsgSendActionEngine));this.attachMessage('msg_data_parsing_done',ss.Delegate.create(this,this.onMsgDataParsingDone));this.attachMessage('msg_focus_view',ss.Delegate.create(this,this.onMsgFocusView));this.attachMessage('eONDetectMode',ss.Delegate.create(this,this.onMsgDetectMode));this.attachMessage('msg_verify_user_sel',ss.Delegate.create(this,this.onMsgVerifyUserSelection));this.attachMessage('msg_dynamic_ribbon_update',ss.Delegate.create(this,this.onMsgDynamicUpdate));this.attachMessage('msg_add_ctrl',ss.Delegate.create(this,this.onMsgAddCtrl));this.attachMessage('msg_dialog_info',ss.Delegate.create(this,this.$4_10));this.attachMessage('msg_subscribe_dlg_dynamic_updates',ss.Delegate.create(this,this.onMsgSubscribeDlgPaneDynamicUpdates));this.attachMessage('msg_unsubscribe_dlg_dynamic_updates',ss.Delegate.create(this,this.onMsgUnsubscribeDlgPaneDynamicUpdates));this.attachMessage('msg_notify_dlg_selection_change',ss.Delegate.create(this,this.onMsgNotifyDlgPaneDynamicUpdates));this.attachMessage('msg_query_view_dynamic_updates',ss.Delegate.create(this,this.onMsgQueryDlgPaneDynamicUpdates));this.attachMessage('msg_dynamic_dialog_launch',ss.Delegate.create(this,this.onMsgDynamicDialogLaunch));this.attachMessage('msg_mouse_hook_rbn_src_ele',ss.Delegate.create(this,this.onMsgMouseHookRbnEle));this.attachMessage('msg_toggle_touch_mode',ss.Delegate.create(this,this.onMsgToggleTouchMode));this.attachMessage('msg_toggle_ribbon_pin',ss.Delegate.create(this,this.onMsgToggleRibbonPin));this.attachMessage('msg_hide_ribbon',ss.Delegate.create(this,this.onMsgHideRibbon));this.attachMessage('msg_change_tab_mode',ss.Delegate.create(this,this.onMsgChangeTabMode));this.attachMessage('msg_ribbon_dynamic_update',ss.Delegate.create(this,this.onMsgDynamicUpdateRibbonTab));this.attachMessage('msg_update_active_menu',ss.Delegate.create(this,this.onMsgUpdateActiveMenu));this.attachMessage('msg_hide_pane_as_menu',ss.Delegate.create(this,this.onMsgHidePaneAsMenu));this.attachMessage('msg_get_color_menu_items',ss.Delegate.create(this,this.$4_2B));this.attachMessage('msg_dynamic_update_minitoolbar',ss.Delegate.create(this,this.onMsgDynamicUpdateForMiniToolbar));this.attachMessage('msg_hide_minitoolbar',ss.Delegate.create(this,this.onMsgHideMiniToolbar));this.attachMessage('msg_show_minitoolbar',ss.Delegate.create(this,this.onMsgShowMiniToolbar));this.attachMessage('msg_is_any_menu_in_view',ss.Delegate.create(this,this.onMsgIsAnyMenuInView));this.attachMessage('msg_menu_count_in_view',ss.Delegate.create(this,this.onMsgGetMenuCountInView));this.attachMessage('msg_hide_menu',ss.Delegate.create(this,this.onMsgHideMenu));this.attachMessage('msg_show_menu',ss.Delegate.create(this,this.onMsgShowMenu));this.attachMessage('msg_get_menu_wnd',ss.Delegate.create(this,this.onMsgGetMenuWnd));this.attachMessage('msg_get_menu_rect',ss.Delegate.create(this,this.onGetMenuRect));this.attachMessage('msg_setdata_minitoolbar',ss.Delegate.create(this,this.onMsgSetDataMiniToolbar));this.attachMessage('msg_get_rect_minitoolbar',ss.Delegate.create(this,this.onMsgGetRectMiniToolbar));this.attachMessage('msg_view_navigation',ss.Delegate.create(this,this.$4_28));this.attachMessage('msg_view_navigation_statusbar',ss.Delegate.create(this,this.$4_27));this.attachMessage('msg_menu_item_addremove',ss.Delegate.create(this,this.$4_24));this.attachMessage('msg_create_menus_in_advance',ss.Delegate.create(this,this.$4_22));this.attachMessage('msg_parsing_done',ss.Delegate.create(this,this.onMsgAutomationParsingDone));this.attachMessage('msg_set_zoom',ss.Delegate.create(this,this.onMsgSetZoom));this.attachMessage('eONAppSwitchEnd',ss.Delegate.create(this,this.onMsgSwitchEnd));this.attachMessage('msg_menu_item_command',ss.Delegate.create(this,this.onMsgMenuItemCommand));this.attachMessage('msg_show_qat_btn',ss.Delegate.create(this,this.onMsgShowQatBtn));this.attachMessage('msg_hide_qat_btn',ss.Delegate.create(this,this.onMsgHideQatBtn));this.attachMessage('msg_query_rbnitem_state',ss.Delegate.create(this,this.onMsgQueryRibbonItemState));this.attachMessage('msg_ribbon_item_command',ss.Delegate.create(this,this.onMsgRibbonItemCommand));this.attachMessage('msg_view_parshing_done_to_rbn',ss.Delegate.create(this,this.onMsgViewParshingDone));this.attachMessage('eONTutorialDirective',ss.Delegate.create(this,this.onMsgTutorialDirective));this.attachMessage('eONShowMeDirective',ss.Delegate.create(this,this.onMsgShowMeDirective));this.attachMessage('msg_frame_data_done',ss.Delegate.create(this,this.onMsgFrameDataDone));this.attachMessage('msg_show-eval_button',ss.Delegate.create(this,this.$4_E));},$4_E:function($p0,$p1){this._oRbnMngr.$4_61($p0);return null;},setCommonFrameStyle:function(strFrameStyle){strFrameStyle=(ss.isNull(strFrameStyle))?'':strFrameStyle;this.$4_9.innerHTML=strFrameStyle;if(String.isNullOrEmpty(strFrameStyle)){if(ss.isValue(this.$4_9)&&ss.isValue(this.$4_9.parentNode)){this.$4_9.parentNode.removeChild(this.$4_9);}}else{if(ss.isValue(this.$4_9)&&ss.isNullOrUndefined(this.$4_9.parentNode)){Kepler.Engine.UI.Helper.HtmlCssHelper.addElementToHead(this.$4_9);}}},onMsgFocusView:function(wParam,lParam){return null;},onMsgAddCtrl:function(wParam,lParam){this.add(wParam);return null;},onMsgDynamicUpdate:function(wParam,lParam){return this.$4_29(wParam,lParam);},onMsgDynamicDialogLaunch:function(wParam,lParam){return this.$4_2A(wParam,lParam);},onMsgVerifyUserSelection:function(wParam,lParam){return null;},onMsgDetectMode:function(wParam,lParam){return Kepler.Engine.Core.EngineApp.get_engine().get_applicationMode();},onMsgFrameData:function(wParam,lParam){this.parseDialogAction((lParam).get_viewData());return this.$4_26(wParam,lParam);},onMsgTaskData:function(wParam,lParam){var $0=lParam;this.setCommonFrameStyle($0.get_frameStyle());return null;},onMsgFrameDataDone:function(wParam,lParam){if(this._oAppView!=null){this._oAppView.sendMessage('msg_frame_data_done',wParam,lParam);}return null;},onMsgSendActionEngine:function(wParam,lParam){if(2===this.onMsgDetectMode(null,null)){return null;}var $0=wParam;var $1=(lParam).get_text();var $2=(lParam).get_frameJump();var $3=(lParam).get_subFrameJump();if(!this.$4_3){this.$4_3=true;this.$4_5=$0;this.$4_4=$1;this.$4_6=$2;this.$4_7=$3;this.sendMessage('eONEngineAction',0,0);}return null;},onMsgDataParsingDone:function(wParam,lParam){return this.$4_25(wParam,lParam);},$4_F:function($p0,$p1){this.$4_3=false;var $0=new Kepler.Engine.Core.ENLITE_FRAME_ACTIONS();$0.addActionString(this.$4_4);if(this.$4_5){$0.universalJump(this.$4_6.toString().padLeft(4,'0'));}else{$0.shouldNotJump();}var $1=Kepler.Engine.Core.EngineApp.get_engine().get_taskMaster().get_attemptsDeductionBlocked();if($1){$0.set_deductAttempts(false);}this.get_engine().sendMessage('eONEngineAction',this.$4_5,$0);return null;},$4_10:function($p0,$p1){var $0=$p1;var $1=$p0;if(Object.keyExists(this._mapLastDialogLaunchInfo,$1)){var $2=this._mapLastDialogLaunchInfo[$1].get_map();for(var $3=0;$3<Object.getKeyCount($2);$3++){$0.get_map()[Object.keys($2)[$3]]=$2[Object.keys($2)[$3]];}}return null;},onMsgSubscribeDlgPaneDynamicUpdates:function(wParam,lParam){var $0=false;var $1=wParam;var $2=lParam;if(!String.isNullOrEmpty($1)&&ss.isValue($2)){if(!Object.keyExists(this._mapDlgPanesForDynamicUpdates,$1)){this._mapDlgPanesForDynamicUpdates[$1]=$2;}$0=true;}return $0;},onMsgUnsubscribeDlgPaneDynamicUpdates:function(wParam,lParam){var $0=false;var $1=wParam;var $2=lParam;if(!String.isNullOrEmpty($1)&&ss.isValue($2)){if(Object.keyExists(this._mapDlgPanesForDynamicUpdates,$1)&&this._mapDlgPanesForDynamicUpdates[$1]===$2){delete this._mapDlgPanesForDynamicUpdates[$1];}$0=true;}return $0;},onMsgQueryDlgPaneDynamicUpdates:function(wParam,lParam){var $0=wParam;var $1=lParam;return this.get_appView().handleDlgPaneDynamicUpdate($0,$1);},onMsgNotifyDlgPaneDynamicUpdates:function(wParam,lParam){var $0=Object.keys(this._mapDlgPanesForDynamicUpdates);var $1;var $enum1=ss.IEnumerator.getEnumerator($0);while($enum1.moveNext()){var $2=$enum1.current;$1=this._mapDlgPanesForDynamicUpdates[$2];if(ss.isValue($1)){$1.sendMessage('msg_notify_dlg_selection_change',wParam,lParam);}}return true;},onUnload:function(){this.$4_2C();Kepler.Engine.UI.BaseAppFrame.callBaseMethod(this, 'onUnload');},$4_15:null,_oCommonParser:null,_oAppParser:null,_oThemeParser:null,_oStartUpParser:null,$4_16:0,$4_17:false,$4_18:null,_oAppDownloadParser:null,_oCommonDownloadParser:null,_oRbnMngr:null,get_ribbonManager:function(){return this._oRbnMngr;},_oMenuMngr:null,get_menuManager:function(){return this._oMenuMngr;},_oStatusBar:null,get_statusBar:function(){return this._oStatusBar;},_oMiniToolbar:null,get_miniToolbar:function(){return this._oMiniToolbar;},_oQatManager:null,get_qatManager:function(){return this._oQatManager;},_bParsingDone:false,get_parsingDone:function(){return this._bParsingDone;},_bAddAppViewInternallyOnLoad:false,constructor_RbnMnu:function(){this.$4_18=this.get_app().get_appName()+'.xml';this.$4_15={};this.$4_16=-1;this._bParsingDone=false;this.$4_17=false;var $0=new Kepler.Engine.UI.Helper.FontLoader('k_Segoeui',ss.Delegate.create(this,this.$4_1F));this._bAddAppViewInternallyOnLoad=false;this.$4_1A();this.createParsers();},$4_1A:function(){var $0=this.get_app().get_resourcePath()+this.$4_18;this._oAppDownloadParser=new Kepler.Engine.UI.AppFrameParser($0);if(Object.keyExists(Kepler.Engine.UI.BaseAppFrame._mapStaticParsers,$0)){this._oAppDownloadParser=Kepler.Engine.UI.BaseAppFrame._mapStaticParsers[$0];}else{Kepler.Engine.UI.BaseAppFrame._mapStaticParsers[$0]=this._oAppDownloadParser;}$0=this.get_app().get_commonResourcePath()+'common.xml';this._oCommonDownloadParser=new Kepler.Engine.UI.AppFrameParser($0);if(Object.keyExists(Kepler.Engine.UI.BaseAppFrame._mapStaticParsers,$0)){this._oCommonDownloadParser=Kepler.Engine.UI.BaseAppFrame._mapStaticParsers[$0];}else{Kepler.Engine.UI.BaseAppFrame._mapStaticParsers[$0]=this._oCommonDownloadParser;}},createParsers:function(){},startFullParsing:function(){var $0=(this._oThemeParser==null||this._oThemeParser.get_downloaded());var $1=(this._oCommonParser==null||this._oCommonParser.get_downloaded());var $2=(this._oAppParser==null||this._oAppParser.get_downloaded());var $3=(this._oStartUpParser==null||this._oStartUpParser.get_downloaded());if(!$1||!$2||!this.get_loaded()||!$3||!$0||this._bParsingDone){return;}this.parseThemeXML();this.parseXmlFile(this._oCommonParser);this.parseXmlFile(this._oAppParser);this.parsingCompleted();},parseThemeXML:function(){var $0;if(this._oThemeParser!=null){$0=new Kepler.Engine.UI.AppFrameParserParents(this._oRbnMngr,this._oMenuMngr,this);this._oThemeParser.startXmlParsing('theme_details',$0);}},parsingCompleted:function(){this._bParsingDone=true;this.onMsgAutomationParsingDone(null,null);},parseXmlFile:function(oParser){if(oParser!=null&&(this._oRbnMngr!=null||this._oMenuMngr!=null)){var $0=new Kepler.Engine.UI.AppFrameParserParents(this._oRbnMngr,this._oMenuMngr,this);oParser.startXmlParsing('dialog',$0);$0=new Kepler.Engine.UI.AppFrameParserParents(this._oRbnMngr,this._oMenuMngr,this);oParser.startXmlParsing('images',$0);}},commonWeapXmlDownloadComplete:function(oParser){this._oCommonParser.set_xmlNode(oParser.get_xmlNode());this.startFullParsing();},startUpXmlDownloadComplete:function(oParser){if(ss.isValue(this._oStartUpParser)){this._oStartUpParser.set_xmlNode(oParser.get_xmlNode());this.startFullParsing();}},weapXmlDownloadComplete:function(oParser){this._oAppParser.set_xmlNode(oParser.get_xmlNode());this.startFullParsing();},weapXmlDownloadFailed:function(oParser){},themeXmlDownloadComplete:function(oParser){if(!this._oThemeParser.get_downloaded()){this._oThemeParser.set_xmlNode(oParser.get_xmlNode());this.startFullParsing();}},themeXmlDownloadFailed:function(oParser){},$4_1B:function($p0){throw new Error('Not Implemented Exception : '+' Parser Downloading Failed. File path='+$p0.get_filePath());},$4_1C:function(){var $dict1=this.$4_15;for(var $key2 in $dict1){var $0={key:$key2,value:$dict1[$key2]};if(!$0.value.get_downloaded()){return false;}}return true;},getAppParser:function(evtComplete,evtFailed){if(this._oAppDownloadParser.get_downloaded()){evtComplete(this._oAppDownloadParser);}else{var $0=this._oAppDownloadParser.get_filePath().toLowerCase();try{this._oAppDownloadParser.downloadXml(evtComplete,evtFailed);}catch($1){}finally{if(ss.isValue(evtComplete)){this._oAppDownloadParser.add_downloadSuccess(evtComplete);}if(ss.isValue(evtFailed)){this._oAppDownloadParser.add_downloadError(evtFailed);}}}return this._oAppDownloadParser;},getCommonAppParser:function(evtComplete,evtFailed){if(this._oCommonDownloadParser.get_downloaded()){evtComplete(this._oCommonDownloadParser);}else{var $0=this._oCommonDownloadParser.get_filePath().toLowerCase();try{this._oCommonDownloadParser.downloadXml(evtComplete,evtFailed);}catch($1){}finally{if(ss.isValue(evtComplete)){this._oCommonDownloadParser.add_downloadSuccess(evtComplete);}if(ss.isValue(evtFailed)){this._oCommonDownloadParser.add_downloadError(evtFailed);}}}return this._oCommonDownloadParser;},$4_1D:function(){return ((this._oRbnMngr==null||this._oRbnMngr.get_parsingDone())&&(this._oStatusBar==null||this._oStatusBar.get_parsingDone())&&(this._oMiniToolbar==null||this._oMiniToolbar.get_parsingDone())&&(this._oMenuMngr==null||this._oMenuMngr.get_parsingDone())&&(this._oQatManager==null||this._oQatManager.get_parsingDone()));},$4_1E:function(){this.startFullParsing();if(this._oRbnMngr!=null){this.add(this._oRbnMngr);}if(this._oStatusBar!=null){this.add(this._oStatusBar);}if(this._bAddAppViewInternallyOnLoad){this.add(this._oAppView);}if(this._oMiniToolbar!=null){this.add(this._oMiniToolbar,this._oMenuMngr.get_element());}if(this._oQatManager!=null){this.add(this._oQatManager);}if(this._oMenuMngr!=null){this.add(this._oMenuMngr);}},$4_1F:function($p0){if(!this.$4_17){this.$4_17=true;this.$4_23();}},$4_20:function(){var $0=Kepler.Engine.Core.EngineApp.get_engine().get_commonResourcePath();if(this._oRbnMngr!=null){this._oRbnMngr.createImageList();}if(this._oMenuMngr!=null){this._oMenuMngr.createImageList();}if(this._oMiniToolbar!=null){this._oMiniToolbar.createImageList();}if(this._oStatusBar!=null){this._oStatusBar.createImageList();}if(this._oQatManager!=null){this._oQatManager.createImageList();}},$4_21:function(){if(this._oMiniToolbar!=null){this._oMiniToolbar.hideMiniToolbar();}if(this._oMenuMngr!=null){this._oMenuMngr.hideMenu(-1);}this._oAppView.processShowMe();},performAppKeyRibbonAction:function(oKeyAction){if(this._oRbnMngr==null){return false;}var $0=this._oRbnMngr.sendMessage('msg_app_shortcut_key',oKeyAction,null);if(ss.isNull($0)){return false;}return $0;},performAppKeyMenuAction:function(oKeyAction){if(this._oMenuMngr==null){return false;}var $0=this._oMenuMngr.sendMessage('msg_app_shortcut_key',oKeyAction,null);if(ss.isNull($0)){return false;}return $0;},onMsgShowQatBtn:function(wParam,lParam){return null;if(this._oQatManager==null){return null;}var $0=wParam;var $1=lParam;this._oQatManager.showQatButton($0,$1);return null;},onMsgMouseHookRbnEle:function(wParam,lParam){if(this._oRbnMngr==null){return null;}return this._oRbnMngr.sendMessage('msg_mouse_hook_rbn_src_ele',wParam,lParam);},onMsgHideQatBtn:function(wParam,lParam){if(this._oQatManager==null){return null;}var $0=wParam;this._oQatManager.hideQatButton($0);return null;},onMsgMenuItemCommand:function(wParam,lParam){if(this._oMenuMngr==null){return null;}var $0=false;if(this.get_engine().get_taskMaster().get_isBusinessCommunication()&&!$0&&wParam===41013){$0=this._oAppView.sendMessage('msg_add_new_comment',wParam,lParam);}if(!$0){$0=this._oAppView.sendMessage('msg_menu_item_command',wParam,lParam);}return $0;},onMsgRibbonItemCommand:function(wParam,lParam){if(this._oRbnMngr==null){return null;}var $0=false;if(!$0&&wParam===20000001){this.sendMessage('msg_toggle_ribbon_pin',null,null);return true;}if(this.get_engine().get_taskMaster().get_isBusinessCommunication()){if(!$0&&wParam===120701){$0=this._oAppView.sendMessage('msg_add_new_comment',wParam,lParam);}if(!$0&&wParam===20000001){this.sendMessage('msg_toggle_ribbon_pin',null,null);return true;}}if(!$0){$0=this._oAppView.sendMessage('msg_ribbon_item_command',wParam,lParam);}return $0;},onMsgViewParshingDone:function(wParam,lParam){if(this._oRbnMngr!=null&&wParam){this._oRbnMngr.set_parseViewDone(true);}return true;},onMsgSwitchEnd:function(wParam,lParam){var $0=wParam;if(ss.isValue($0)&&this._bTouchMode!==$0.get_touchMode()){this.onMsgToggleTouchMode(null,null);}return null;},show:function(bShow){Kepler.Engine.UI.BaseAppFrame.callBaseMethod(this, 'show',[bShow]);if(bShow&&ss.isValue(this.get_ribbonManager())){this.get_ribbonManager().updateOnAppSwitch();}},onMsgSetZoom:function(wParam,lParam){return this._oAppView.sendMessage('msg_set_zoom',wParam,lParam);},$4_22:function($p0,$p1){if(this._oMenuMngr==null){return null;}var $0=$p0;var $1=$p1;this._oMenuMngr.fillMenuListToCreateInAdvance($0,$1);return null;},onMsgAutomationParsingDone:function(wParam,lParam){if(this.$4_1C()&&this.$4_1D()){this.createImageList();this.precacheImages(ss.Delegate.create(this,this.$4_23));}return null;},$4_23:function(){if(this._iImageCacheCounter<=0&&this.$4_1C()&&this.$4_1D()&&this.$4_17){this.issueAppReady();}},$4_24:function($p0,$p1){if(this._oMenuMngr==null){return null;}var $0=$p1;if(!ss.isNullOrUndefined(this._oMenuMngr)){this._oMenuMngr.parseAddRemoveMenuItemOverride($0,false);return true;}return false;},$4_25:function($p0,$p1){if(this._oQatManager!=null){this._oQatManager.sendMessage('msg_view_ready',$p0,$p1);}var $0=this.get_engine().get_applicationMode();switch($0){case 0:break;case 1:break;case 2:this.processShowMe();break;default:break;}return null;},onMsgTutorialDirective:function(wParam,lParam){if(this._oRbnMngr!=null){if(!wParam){this._oRbnMngr.tutorialModeEnd();}else{this._oRbnMngr.tutorialModeStart();}}return null;},onMsgShowMeDirective:function(wParam,lParam){if(this._oRbnMngr!=null){if(!wParam){this._oRbnMngr.tutorialModeEnd();}else{this._oRbnMngr.tutorialModeStart();}}return null;},$4_26:function($p0,$p1){var $0=$p1;if(this._oMiniToolbar!=null){this._oMiniToolbar.setData($0.get_viewData());}if(this._oRbnMngr!=null){this._oRbnMngr.setData($0.get_viewData());}if(this._oMenuMngr!=null){this._oMenuMngr.setData($0.get_viewData());}if(this._oStatusBar!=null){this._oStatusBar.setData($0.get_viewData());}if(this._oQatManager!=null){this._oQatManager.setData($0.get_viewData());}return null;},$4_27:function($p0,$p1){if(this._oStatusBar==null){return null;}var $0=$p0;if(ss.isValue(this._oStatusBar)){this._oStatusBar.onViewNavigation($0);}return null;},$4_28:function($p0,$p1){var $0=$p0;if(this._oRbnMngr!=null){this._oRbnMngr.onViewNavigation($0);}if(this._oMenuMngr!=null){this._oMenuMngr.$4_3F($0);}return null;},onMsgSetDataMiniToolbar:function(wParam,lParam){if(this._oMiniToolbar==null){return null;}this._oMiniToolbar.setTaitDataFromRibbon(wParam,lParam);return null;},onMsgGetRectMiniToolbar:function(wParam,lParam){if(this._oMiniToolbar!=null){var $0=this._oMiniToolbar.getRibbonItemFromId(wParam);if(ss.isValue($0)&&(Ribbon.RibbonPane).isInstanceOfType($0)){var $1=$0;return $1.get_rectangleMouse();}}return null;},onGetMenuRect:function(wParam,lParam){if(this._oMenuMngr==null){return null;}return Type.safeCast(this._oMenuMngr.getMenuWndRect(wParam),Object);},onMsgGetMenuWnd:function(wParam,lParam){if(this._oMenuMngr==null){return null;}var $0=wParam;return this._oMenuMngr.getMenuWnd($0);},onMsgHideMenu:function(wParam,lParam){if(this._oMenuMngr==null){return null;}this._oMenuMngr.hideMenu(this.$4_16);return null;},onMsgShowMenu:function(wParam,lParam){if(this._oMenuMngr==null){return null;}var $0=lParam;if($0._iMenuNo===-1){return null;}this.$4_16=$0._iMenuNo;this._oMenuMngr.showMenu($0);return this._oMenuMngr.getMenuWnd(this.$4_16);},onMsgGetMenuCountInView:function(wParam,lParam){if(this._oMenuMngr==null){return null;}return this._oMenuMngr.getMenuCountInView();},onMsgIsAnyMenuInView:function(wParam,lParam){if(this._oMenuMngr==null){return null;}return this._oMenuMngr.isAnyMenuInView();},onMsgShowMiniToolbar:function(wParam,lParam){if(this._oMiniToolbar==null){return null;}var $0=wParam;var $1=lParam;var $2=$1[0];var $3=$1[1];this._oMiniToolbar.showMiniToolbar($0);var $4=this._oMiniToolbar.get_clientRect();var $5=Kepler.Engine.UI.DesktopWnd.get_instance();var $6=Kepler.Engine.Core.EngineApp.get_engine().getDesktopViewRect();var $7=new Kepler.Engine.UI.Helper.LaunchParams(null,$3,null,$4.get_size(),$6,$5.get_margin());$7.clearPositioningOrder();if($3.get_top()<$2.get_y()){$7.addPositioningOrder(Kepler.Engine.UI.Helper.Launch_Positioning_Dir.eBottom);$7.addPositioningOrder(Kepler.Engine.UI.Helper.Launch_Positioning_Dir.eTop);}else{$7.addPositioningOrder(Kepler.Engine.UI.Helper.Launch_Positioning_Dir.eTop);$7.addPositioningOrder(Kepler.Engine.UI.Helper.Launch_Positioning_Dir.eBottom);}$7.rcLauncher.set_top($7.rcLauncher.get_top()-15);$7.rcLauncher.set_height($7.rcLauncher.get_height()+(15*2));var $8=Kepler.Engine.UI.Helper.CalcHelper.getSuggestedLaunchRect($7);this._oMiniToolbar.set_position($8.get_topLeft());return null;},onMsgHideMiniToolbar:function(wParam,lParam){if(this._oMiniToolbar==null){return null;}this._oMiniToolbar.hideMiniToolbar();return null;},onMsgDynamicUpdateForMiniToolbar:function(wParam,lParam){if(this._oMiniToolbar==null){return null;}var $0=wParam;this._oMiniToolbar.dynamicRibbonChange($0);return null;},$4_29:function($p0,$p1){if(this._oRbnMngr!=null){this._oRbnMngr.updateRibbon($p0);}if(this._oMenuMngr!=null){this._oMenuMngr.updateMenu($p0);}return null;},$4_2A:function($p0,$p1){if(this._oRbnMngr!=null){this._oRbnMngr.updateRibbonDialogMap($p0);}if(this._oMenuMngr!=null){this._oMenuMngr.updateMenuDialogMap($p1);}return null;},$4_2B:function($p0,$p1){if(this._oMenuMngr==null){return null;}var $0=$p0;return this._oMenuMngr.getMenuItemsFromMenuNum($0);},onMsgHidePaneAsMenu:function(wParam,lParam){if(this._oRbnMngr==null){return null;}return this._oRbnMngr.onMsgHidePaneAsMenu(null,null);},onMsgHideRibbon:function(wParam,lParam){if(this._oRbnMngr==null){return null;}if(!this._oRbnMngr.get_pin()){this._oRbnMngr.hideActiveTab();}return null;},onMsgToggleRibbonPin:function(wParam,lParam){if(this._oRbnMngr!=null){this._oRbnMngr.$4_58();}if(this._oMenuMngr!=null){this._oMenuMngr.toggleRibbonPinMode(this._oRbnMngr.get_pin());}return null;},onMsgToggleTouchMode:function(wParam,lParam){this._bTouchMode=!this._bTouchMode;if(this._oRbnMngr!=null){this._oRbnMngr.toggleTouchMode(this._bTouchMode);}if(this._oStatusBar!=null){this._oStatusBar.toggleTouchMode(this._bTouchMode);}this._oAppView.$4_3(this._bTouchMode);if(this._oMenuMngr!=null){this._oMenuMngr.toggleTouchMode(this._bTouchMode);}return null;},onMsgChangeTabMode:function(wParam,lParam){if(this._oRbnMngr==null){return null;}this._oRbnMngr.setRibbonTabMode(wParam);return null;},onMsgDynamicUpdateRibbonTab:function(wParam,lParam){if(this._oRbnMngr==null){return null;}var $0=wParam;this._oRbnMngr.dynamicRibbonChange($0);return null;},onMsgUpdateActiveMenu:function(wParam,lParam){this.$4_16=wParam;return null;},onMsgQueryRibbonItemState:function(wParam,lParam){if(this._oRbnMngr==null){return null;}var $0=wParam;var $1=this._oRbnMngr.getCurrentState($0);return $1;},$4_2C:function(){var $dict1=this.$4_15;for(var $key2 in $dict1){var $0={key:$key2,value:$dict1[$key2]};$0.value.dispose();}Object.clearKeys(this.$4_15);}}
Kepler.Engine.UI.BaseAppView=function(){Kepler.Engine.UI.BaseAppView.initializeBase(this,[Kepler.Engine.UI.Controls.Control.csS_CLASS_POSITION_ABSOLUTE,'BaseAppView_LAYER']);this._lstAppKeyActions=[];this.$4_0=new Kepler.Framework.UI.Size(0,0);this.get_elementStyle().backgroundColor='white';this.$4_2();}
Kepler.Engine.UI.BaseAppView.prototype={_lstAppKeyActions:null,$4_0:null,$4_1:false,get_blockAltMode:function(){return this.$4_1;},set_blockAltMode:function(value){this.$4_1=value;if(this.$4_1){Kepler.Engine.UI.Engine$1D.get_$4_2().$4_F();}return value;},$4_2:function(){this.attachMessage('msg_set_zoom',ss.Delegate.create(this,this.onMsgSetZoom));this.attachMessage('msg_menu_item_command',ss.Delegate.create(this,this.onMsgMenuItemCommand));this.attachMessage('msg_ribbon_item_command',ss.Delegate.create(this,this.onMsgRibbonItemCommand));this.attachMessage('eONTutorialDirective',ss.Delegate.create(this,this.onMsgTutorialDirective));this.attachMessage('eONShowMeDirective',ss.Delegate.create(this,this.onMsgShowMeDirective));},onLoad:function(){Kepler.Engine.UI.BaseAppView.callBaseMethod(this, 'onLoad');this.fillAppKeyActions();},verifyUserSelection:function(lstUserSelectionByRef,lstVerifySelectionByRef){var $0=true;return $0;},dataParsingDone:function(){(this.get_parent()).sendMessage('msg_data_parsing_done',null,null);},onPretranslateEvent:function(sender,eventArgs){if(eventArgs.get_categoryType()===Kepler.Framework.UI.Events.EventArgsNs.EventCategoryType.key){if(eventArgs.get_type()===Kepler.Framework.UI.Events.EventArgsNs.EventType.keyDown&&!Kepler.Engine.Core.EngineApp.get_engine().get_isShowMe()){if((eventArgs).get_key()===Kepler.Framework.UI.Events.EventArgsNs.Keys.f2&&(eventArgs).get_ctrlKey()&&!(eventArgs).get_shiftKey()&&!(eventArgs).get_altKey()){if(Kepler.Engine.Core.EngineApp.get_engine().get_currentApp().get_appName()==='excel'||Kepler.Engine.Core.EngineApp.get_engine().get_currentApp().get_appName()==='powerpoint'){return Kepler.Engine.Core.EngineApp.get_engine().get_$1_D().getAppFrame().sendMessage('msg_set_focus_on_player',null,this);}else{return Kepler.Engine.Core.EngineApp.get_engine().get_$1_D().getAppFrame().sendMessage('msg_set_focus_on_player',null,null);}}}if(!Kepler.Engine.Core.EngineApp.get_engine().get_isTutorial()){if(eventArgs.get_type()===Kepler.Framework.UI.Events.EventArgsNs.EventType.keyDown||eventArgs.get_type()===Kepler.Framework.UI.Events.EventArgsNs.EventType.keyUp||eventArgs.get_type()===Kepler.Framework.UI.Events.EventArgsNs.EventType.keyPress){var $0=false;if((eventArgs).get_key()===Kepler.Framework.UI.Events.EventArgsNs.Keys.menu&&!(eventArgs).get_ctrlKey()&&!(eventArgs).get_shiftKey()){if(!this.$4_1){$0=Kepler.Engine.UI.Engine$1D.get_$4_2().$4_D(eventArgs);}else{return false;}}if(!$0){var $1=this.$4_5(eventArgs);if($1!=null){return $1;}}}}}return Kepler.Engine.UI.BaseAppView.callBaseMethod(this, 'onPretranslateEvent',[sender,eventArgs]);},$4_3:function($p0){var $0=(this.get_parent());if($0.get_ribbonManager()!=null){this.set_top($0.get_ribbonManager().get_height());}this.set_height(this.evaluateRequiredHeight());},onParentResized:function(szParent){if(Type.canCast(this.get_parent(),Kepler.Engine.UI.WeapAppFrame)){this.$4_0.set_width(szParent.get_width());this.$4_0.set_height(szParent.get_height());if(this.get_visible()){this.$4_4(this.$4_0);}}else{this.set_size(szParent);}},$4_4:function($p0){var $0;var $1=(this.get_parent());if((this.get_parent()).get_docProperties().get_visible()){$0=parseInt((this.get_parent()).get_docProperties().get_element().style.height);}else{$0=0;}if($1.get_ribbonManager()!=null){this.set_top($0+$1.get_ribbonManager().get_height());}this.set_size(new Kepler.Framework.UI.Size($p0.get_width(),this.evaluateRequiredHeight()));},show:function(bShow,bForceVisible){Kepler.Engine.UI.BaseAppView.callBaseMethod(this, 'show',[bShow,bForceVisible]);if(this.get_visible()){this.$4_4(this.$4_0);}},evaluateRequiredHeight:function(){var $0=this.get_parent().get_height()-this.get_top();var $1=(this.get_parent());if($1.get_statusBar()!=null){$0-=$1.get_statusBar().get_height();}return $0;},onMsgSetZoom:function(wParam,lParam){return false;},onMsgTutorialDirective:function(wParam,lParam){return null;},onMsgShowMeDirective:function(wParam,lParam){return null;},onMsgMenuItemCommand:function(wParam,lParam){return false;},onMsgRibbonItemCommand:function(wParam,lParam){return false;},onMsgFillDynamicData:function(wParam,lParam){return null;},onMsgUpdateSelectionPoints:function(wParam,lParam){return null;},onMsgFillShowMeEventData:function(wParam,lParam){return null;},handleShowmeScrollToPoint:function(wParam,lParam){return false;},fillAppKeyActions:function(){},$4_5:function($p0){var $0=this.$4_6($p0);if($0!=null){return (this.get_parent()).performAppKeyAction($0);}return null;},$4_6:function($p0){for(var $0=0;$0<this._lstAppKeyActions.length;$0++){var $1=this._lstAppKeyActions[$0];if($1.$3===$p0.get_type()&&$1.eKey===$p0.get_key()){var $2=true;if(($1.$0!=null&&($1.$0!==$p0.get_ctrlKey()))||($1.$2!=null&&($1.$2!==$p0.get_shiftKey()))||($1.$1!=null&&($1.$1!==$p0.get_altKey()))){$2=false;}if($2){return $1;}}}return null;},processShowMe:function(){},setViewType:function(iViewType){},launchMiniToolbarOnRBtn:function(ptClient,rcMenuAfterLaunch,iMiniToolbarPaneId){if(!(Type.canCast(this.get_parent(),Kepler.Engine.UI.WeapAppFrame))){return;}var $0=this.get_parent();var $1=[];$1.add(ptClient);$1.add(rcMenuAfterLaunch);$0.sendMessage('msg_show_minitoolbar',iMiniToolbarPaneId,$1);},launchRtClkMenuOnRBtn:function(iMenuNo,ptClient,iMiniToolbarPaneId,oLaunchFrom){if(!(Type.canCast(this.get_parent(),Kepler.Engine.UI.WeapAppFrame))){return;}if(ss.isNullOrUndefined(oLaunchFrom)){oLaunchFrom=this;}var $0=this.get_parent();var $1=new Kepler.Framework.UI.Rect(ptClient.get_x()-1,ptClient.get_y()-1,2,2);var $2=new Kepler.Engine.UI.MenuWnd_MenuParams(oLaunchFrom,iMenuNo,null,$1,null);var $3=Kepler.Engine.Core.EngineApp.get_engine().getDesktopViewRect().get_height();var $4=0;if($0.get_miniToolbar()!=null){if(ptClient.get_y()-this.get_top()>this.get_height()/2){var $6=$0.get_miniToolbar().getRibbonItemFromId(iMiniToolbarPaneId);if(ss.isValue($6)){$4=$6.get_rectangleMouse().get_height();}}}var $5=$3-$4-15;$2.setSpace(null,null,null,$5);$2.setPositioningOrder(9);$2.addPositioningOrder(1);$2.addPositioningOrder(2);$0.sendMessage('msg_show_menu',iMenuNo,$2);},showMenu:function(iMenuNo,pt,oLaunchFrom){var $0=new Kepler.Framework.UI.Rect(pt.get_x()-1,pt.get_y()-1,2,2);if(ss.isNull(oLaunchFrom)){oLaunchFrom=this;}var $1=new Kepler.Engine.UI.MenuWnd_MenuParams(oLaunchFrom,iMenuNo,null,$0,null);$1.setPositioningOrder(9);$1.addPositioningOrder(1);$1.addPositioningOrder(2);this.get_parent().sendMessage('msg_show_menu',iMenuNo,$1);},handleDlgPaneDynamicUpdate:function(strDlgPaneName,mapUpdates){return false;},$4_7:function($p0){return Kepler.Engine.Core.EngineApp.get_engine().getCurrentAppView().sendMessage('msg_app_shortcut_key',$p0,null);}}
Kepler.Engine.UI.CommonImgPathConstants=function(){}
Kepler.Engine.UI.CommonCssClasses=function(){}
Kepler.Engine.UI.DesktopWndBorder=function(){this.$0=document.createElement('div');this.$1=this.$0.style;this.$0.className=Kepler.Engine.UI.Controls.Control.csS_CLASS_POSITION_ABSOLUTE;Kepler.Engine.UI.Helper.HtmlCssHelper.addElementAttribute(this.$0,'name','kepler_desktop_border');this.$0.style['border-image-slice']='20 20 20 20';this.$0.style['border-image-outset']='0px 0px 0px 0px';this.$0.style['border-image-repeat']='round round';this.$0.style['border-image-source']=this.$3;}
Kepler.Engine.UI.DesktopWndBorder.prototype={$0:null,get_element:function(){return this.$0;},$1:null,reLayout:function(rcParent,border){Kepler.Engine.UI.Helper.HtmlCssHelper.setElementLeft(this.$0,this.$2(rcParent.get_left()));Kepler.Engine.UI.Helper.HtmlCssHelper.setElementTop(this.$0,this.$2(rcParent.get_top()));Kepler.Engine.UI.Helper.HtmlCssHelper.setElementWidth(this.$0,this.$2(rcParent.get_width()-border.get_left()-border.get_right()));Kepler.Engine.UI.Helper.HtmlCssHelper.setElementHeight(this.$0,this.$2(rcParent.get_height()-border.get_top()-border.get_bottom()));this.$0.style['border-image-width']=new ss.StringBuilder().append(border.get_top()).append('px ').append(border.get_left()).append('px ').append(border.get_bottom()).append('px ').append(border.get_right()).append('px');Kepler.Engine.UI.Helper.HtmlCssHelper.setElementBorderLeft(this.$0,this.$2(border.get_left()));Kepler.Engine.UI.Helper.HtmlCssHelper.setElementBorderTop(this.$0,this.$2(border.get_top()));Kepler.Engine.UI.Helper.HtmlCssHelper.setElementBorderRight(this.$0,this.$2(border.get_right()));Kepler.Engine.UI.Helper.HtmlCssHelper.setElementBorderBottom(this.$0,this.$2(border.get_bottom()));this.$1.borderStyle='solid';},$2:function($p0){return new ss.StringBuilder().append($p0).append('px').toString();},$3:'url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMAUExURQAAAAQEBAkJCQ4ODhMTExgYGB0dHSIiIicnJywsLDExMTU1NTo6Oj8/P0RERElJSU5OTlNTU1hYWF1dXWJiYmZmZmtra3BwcHV1dXp6egAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOV1uRIAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My4zNqnn4iUAAACsSURBVEhLldBHEoNAEEPRwTnnAPe/qI0BT+og/f2rLnXo6ELL9iVvrh95MY3kifcnD7SE3LEyckMqyNWvIhcvgZztRHKyUshRTyUHLYPs5Uyyk3LIts4lmzKArPMgskoDyTIGk8UUQeZDFJn1kaRpGpoEnvBX+C38x6ZwEkNJGkbyEFLmkzqPSNlEziJaOtHTiJVM7CTiVRO/kiDlBCslaJHgTYRpIFw9IWu7D/Seosxc8PLlAAAAAElFTkSuQmCC)'}
Kepler.Engine.UI.AppFrameParser=function(strPath){Kepler.Engine.UI.AppFrameParser.initializeBase(this,[strPath]);this._strDbgLogPrefix='[Weap Parser] ';this.addParserTagNameDelegate('db',ss.Delegate.create(this,this.$14));this.addParserTagNameDelegate('image',ss.Delegate.create(this,this.$15));}
Kepler.Engine.UI.AppFrameParser.prototype={$14:function($p0,$p1){var $0=$($p1);var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'dbname');var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'rbnid');var $3=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'menuid');var $4=null;var $5=new Kepler.Engine.Core.DialogInfo($1);var $6=$0.children();var $7=null;for(var $8=0;$8<$6.length;$8++){$7=$6[$8];$5.get_map()[$7.tagName]=$7.textContent;}$4=$2.split(Kepler.Framework.Core.Seperators.PIPE);var $enum1=ss.IEnumerator.getEnumerator($4);while($enum1.moveNext()){var $9=$enum1.current;if(!String.isNullOrEmpty($9)){$p0._oRbnManager.addToDialogMap(parseInt($9,10),$5);}}$4=$3.split(Kepler.Framework.Core.Seperators.PIPE);var $enum2=ss.IEnumerator.getEnumerator($4);while($enum2.moveNext()){var $A=$enum2.current;if(!String.isNullOrEmpty($A)){$p0._oMenuManager.addToDialogMap(parseInt($A,10),$5);}}},$15:function($p0,$p1){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'imgkey');var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'imgpath');$p0._oAppFrame._mapImageDict[$0]=$1;}}
Kepler.Engine.UI.AppFrameParserParents=function(oRbnManager,oMenuManager,oAppFrame){Kepler.Engine.UI.AppFrameParserParents.initializeBase(this);this._oRbnManager=oRbnManager;this._oMenuManager=oMenuManager;this._oAppFrame=oAppFrame;}
Kepler.Engine.UI.AppFrameParserParents.prototype={_oRbnManager:null,_oMenuManager:null,_oAppFrame:null}
Kepler.Engine.UI.EngineThemeDetails=function(){}
Kepler.Engine.UI.EngineThemeDetails.getThemeDetails=function(){var $0=Kepler.Engine.Core.EngineApp.get_engine().get_currentApp();if(ss.isValue($0)){Kepler.Engine.UI.EngineThemeDetails._oTheme=$0.getAppFrame().get_themeDetails();}else{if(ss.isNullOrUndefined(Kepler.Engine.UI.EngineThemeDetails._oTheme)){Kepler.Engine.UI.EngineThemeDetails._oTheme=new Kepler.Framework.UI.ThemeDetails();Kepler.Engine.UI.EngineThemeDetails._oTheme.set_colorNormal('#217346');Kepler.Engine.UI.EngineThemeDetails._oTheme.set_colorNormalLight('#439467');Kepler.Engine.UI.EngineThemeDetails._oTheme.set_colorNormalDark('#0A6332');Kepler.Engine.UI.EngineThemeDetails._oTheme.set_colorHover('#D3F0E0');Kepler.Engine.UI.EngineThemeDetails._oTheme.set_colorPressed('#86BFA0');Kepler.Engine.UI.EngineThemeDetails._oTheme.set_colorChecked('#9FD5B7');Kepler.Engine.UI.EngineThemeDetails._oTheme.set_colorCheckedHover('#D4F0E1');}}return Kepler.Engine.UI.EngineThemeDetails._oTheme;}
Kepler.Engine.UI.KeplerDialog=function(strId,strDialogName,oTypeDialogClient,bPaneDialog,oDialogFrameType,oDialogBaseFrame,strClassName){Kepler.Engine.UI.KeplerDialog.initializeBase(this,[strId,strDialogName,oTypeDialogClient,bPaneDialog,oDialogFrameType,oDialogBaseFrame,strClassName]);this.$6_3=strId;this.set_position(new Kepler.Framework.UI.Point(150,150));this.g_BaseStateRepository=[];this.g_OverrideStateRepository=[];this._bDummyFrame=false;this._scUserActions=new Kepler.Engine.Core.DLG_JUMP_INFO();this._iSimMode=Kepler.Framework.Core.Globals.invaliD_VALUE;this._scFocusInfo=new Kepler.Engine.Core.FOCUS_INFO();this._scFrameInfo=new Kepler.Engine.Core.FRAME_JUMP_DATA();this.$6_5=false;this.$6_6=false;if(bPaneDialog){this.$6_4=10151;}else{this.$6_4=10140;}this._lstEditableControlsToAllowTypingInTutMode=[];this._lstEditableControlsToAllowTypingInTutMode.add(Kepler.Engine.UI.Controls.TextBox);this._lstEditableControlsToAllowTypingInTutMode.add(Kepler.Engine.UI.Controls.RichTextBox);this._lstTargetControlsWhoseAllChildAsSlave=[];this.$6_7=false;this.$6_8=null;this.$6_E();this._bNeverAppendInCorrect=false;this._bIsApp=false;this._bClosingFromDefaultIncorrect=false;this._bSetPosToCenterOfDesktop=true;}
Kepler.Engine.UI.KeplerDialog.getCount=function(strTagName,mapData,lstArrayData){var $0;var $1=0;$0=mapData[strTagName];if(ss.isValue($0)){var $2=$0.split(Kepler.Framework.Core.Seperators.PIPE);var $3=$2.length;if($3>0){try{$1=parseInt($2[0].trim());if($1>=$2.length){throw new Error('');}lstArrayData[0]=$2.extract(1);}catch($4){}}}return $1;}
Kepler.Engine.UI.KeplerDialog.prototype={_bIsApp:false,$6_3:null,get_dialogAppName:function(){return this.$6_3;},g_BaseStateRepository:null,g_OverrideStateRepository:null,get_overrideRepository:function(){return this.g_OverrideStateRepository;},_iSimMode:0,get_simMode:function(){return this._iSimMode;},_bDummyFrame:false,get_dummyFrame:function(){return this._bDummyFrame;},_scUserActions:null,_scFocusInfo:null,_scFrameInfo:null,_mapFrameData:null,$6_4:0,get_systemMenuNum:function(){return this.$6_4;},set_systemMenuNum:function(value){this.$6_4=value;return value;},maX_REPOSITORY_ITEMS:0,$6_5:false,get_WIP:function(){return this.$6_5;},set_WIP:function(value){if(this.$6_5!==value){this.$6_5=value;}return value;},$6_6:false,get_parseWIP:function(){return this.$6_6;},set_parseWIP:function(value){if(this.$6_6!==value){this.$6_6=value;}return value;},_lstEditableControlsToAllowTypingInTutMode:null,_lstTargetControlsWhoseAllChildAsSlave:null,$6_7:false,$6_8:null,$6_9:false,get_allowAnimation:function(){return this.$6_9;},set_allowAnimation:function(value){this.$6_9=value;return value;},$6_A:null,_bNeverAppendInCorrect:false,_bClosingFromDefaultIncorrect:false,_bSetPosToCenterOfDesktop:false,get_setPosToCenterOfDesktop:function(){return this._bSetPosToCenterOfDesktop;},set_setPosToCenterOfDesktop:function(value){this._bSetPosToCenterOfDesktop=value;return value;},onLoad:function(){Kepler.Engine.UI.KeplerDialog.callBaseMethod(this, 'onLoad');this.$6_B();},onSize:function(){Kepler.Engine.UI.KeplerDialog.callBaseMethod(this, 'onSize');if(this._bSetPosToCenterOfDesktop){this.setPosToCenterOfDesktopExcludePlayer();}},$6_B:function(){this.attachMessage('msg_dialog_data',ss.Delegate.create(this,this.onMsgLoadDialogData));this.attachMessage('msg_send_action_msg_to_engine',ss.Delegate.create(this,this.$6_14));this.attachMessage('handle_key_navigation',ss.Delegate.create(this,this.onMsgHandleAltKeyNavigation));this.attachMessage(Kepler.Engine.UI.DialogBase.msG_LAUNCH_SYSMENU,ss.Delegate.create(this,this.$6_1A));this.attachMessage('msg_block_or_transmit_action_in_tut',ss.Delegate.create(this,this.onMsgCheckTutBlockActionOrTransmit));this.attachMessage('msg_menu_item_clicked',ss.Delegate.create(this,this.$6_1B));this.attachMessage('msg_menu_close',ss.Delegate.create(this,this.$6_1D));this.attachMessage('msg_set_focus',ss.Delegate.create(this,this.$6_17));},isEditableCtrlToAllowTypingInTutMode:function(ctrlToCheck){var $0=Type.getInstanceType(ctrlToCheck);if(this._lstEditableControlsToAllowTypingInTutMode.contains($0)||this._lstEditableControlsToAllowTypingInTutMode.contains($0.get_baseType())){return true;}return false;},addControlToAllowTypingInTutMode:function(typeOfEditableControl){if(!this._lstEditableControlsToAllowTypingInTutMode.contains(typeOfEditableControl)){this._lstEditableControlsToAllowTypingInTutMode.add(typeOfEditableControl);}},addControlsToTargetControlsTypeList:function(typeofTargetControl){if(!this._lstTargetControlsWhoseAllChildAsSlave.contains(typeofTargetControl)){this._lstTargetControlsWhoseAllChildAsSlave.add(typeofTargetControl);}},removeControlToAllowTypingInTutMode:function(typeOfEditableControl){if(this._lstEditableControlsToAllowTypingInTutMode.contains(typeOfEditableControl)){this._lstEditableControlsToAllowTypingInTutMode.remove(typeOfEditableControl);}},updatePositionOnLaunchFromEngine:function(){if(!this.$6_7){this.setPosToCenterOfDesktopExcludePlayer();this.$6_7=true;}},setPosToCenterOfMainView:function(){this.setPositionRespectToMainView(new Kepler.Framework.UI.Alignment(Kepler.Framework.UI.HorzAlignment.center,Kepler.Framework.UI.VertAlignment.middle));},setPosToCenterOfDesktopExcludePlayer:function(){this.setPositionRespectToDesktopExcludingPlayer(new Kepler.Framework.UI.Alignment(Kepler.Framework.UI.HorzAlignment.center,Kepler.Framework.UI.VertAlignment.middle));},setPositionRespectToMainView:function(oAlignment,iHMargin,iVMargin){var $0=Kepler.Engine.Core.EngineApp.get_engine().get_currentApp();if(ss.isValue($0)){var $1=$0.getAppView();if(ss.isValue($1)){var $2=Kepler.Engine.UI.Helper.CalcHelper.getPositionRespectToRect(new Kepler.Framework.UI.Rect($1.get_left(),$1.get_top(),$1.get_width(),$1.get_height()),new Kepler.Framework.UI.Rect(this.get_left(),this.get_top(),this.get_width(),this.get_height()),oAlignment,iHMargin,iVMargin);if($2!=null){this.set_position($2.toInt());}}}},setPositionRespectToDesktopExcludingPlayer:function(oAlignment,iHMargin,iVMargin){var $0;if(this.get_dialogFrameType()===Kepler.Engine.UI.DialogFrameType.metroAppDialog){var $1=this.get_container();$0=new Kepler.Framework.UI.Rect(0,0,this.get_container().get_width(),$1.get_height());}else{$0=this.getDesktopViewRect();}if(ss.isValue($0)){var $2=Kepler.Engine.UI.Helper.CalcHelper.getPositionRespectToRect($0,new Kepler.Framework.UI.Rect(this.get_left(),this.get_top(),this.get_width(),this.get_height()),oAlignment,iHMargin,iVMargin);if($2!=null){if($2.get_x()<$0.get_left()){$2.set_x($0.get_left());}if($2.get_y()<$0.get_top()){$2.set_y($0.get_top());}this.set_position($2.toInt());}}},getDesktopViewRect:function(){var $0=Kepler.Engine.UI.KeplerDialog.callBaseMethod(this, 'getDesktopViewRect');if($0==null){if(this._eDialogFrameType===Kepler.Engine.UI.DialogFrameType.metroAppDialog){$0=Kepler.Engine.Core.EngineApp.get_engine().getDesktopViewRect(true);}else{$0=Kepler.Engine.Core.EngineApp.get_engine().getDesktopViewRect();}}return $0;},getDesktopFrameRect:function(){var $0=Kepler.Engine.UI.KeplerDialog.callBaseMethod(this, 'getDesktopFrameRect');if($0==null){return Kepler.Engine.Core.EngineApp.get_engine().getDesktopFrameRect();}return $0;},$6_C:function(){if(this.$6_A!=null){document.body.appendChild(this.$6_A);}},$6_D:function(){if(this.$6_A!=null){document.body.removeChild(this.$6_A);}},$6_E:function(){this.$6_A=document.createElement('div');this.$6_A.style.left='0px';this.$6_A.style.top='0px';this.$6_A.style.position='absolute';this.$6_A.style.height=this.get_element().style.width='100%';this.$6_A.style.cursor='none';this.$6_A.style.zIndex=Kepler.Framework.UI.Controls.ZIndexConstants.showMeController;},checkCorrectActionForControl:function(oConditionInfo){var $0=this.getCommandIdFromPageAndSeqNo(oConditionInfo.scControlId.iPageNo,oConditionInfo.scControlId.iSequenceNo);var $1=this.getControlFromCommandId($0);var $2=this.getControlTypeFromCommandId($0);var $3=false;switch($2){case 17:var $5=$1.get_text();var $6=oConditionInfo.sContents;var $7=oConditionInfo.iFlags;if(($7&2)===2){$5=$5.trim();}var $8=new RegExp('^[0-9]*[.]?[0-9]*$');if(!String.isNullOrEmpty($5)&&$8.test($5)){$5=parseFloat($5).toFixed(2);$6=parseFloat($6).toFixed(2);$3=(!$5.compareTo($6));}else{if(($7&1)===1){$3=(!$5.compareTo($6));}else{$3=(!$5.compareTo($6,true));}}if(!$3){$3=this.$6_F($5,$6,oConditionInfo.iFlags);}break;case 5:case 1:var $9=$1.get_text();var $A=oConditionInfo.sContents;var $B=oConditionInfo.iFlags;if(($B&2)===2){$9=$9.trim();}var $C=new RegExp('^[0-9]*[.]?[0-9]*$');if(!String.isNullOrEmpty($9)&&$C.test($9)){$9=parseFloat($9).toFixed(2);$A=parseFloat($A).toFixed(2);$3=(!$9.compareTo($A));}else{if(($B&1)===1){$3=(!$9.compareTo($A));}else{$3=(!$9.compareTo($A,true));}}break;case 3:var $D=($1).getSelectedIndex();$3=($D===oConditionInfo.iIndexVal);break;case 9:var $E=($1).get_state();var $F=(!!$E)?1:0;$3=($F===oConditionInfo.iIndexVal);break;case 4:var $10=($1).getSelectedIndex();$3=($10===oConditionInfo.iIndexVal);break;case 6:var $11=($1).get_state();$3=($11===oConditionInfo.iIndexVal);break;case 18:$3=true;break;case 7:$3=true;break;case 2:var $4=($1).getEditText();if(!$4.compareTo(oConditionInfo.sContents)){$3=true;}break;case 13:$3=true;break;case 12:oConditionInfo.sContents=oConditionInfo.sContents.replaceAll(Kepler.Framework.Core.Seperators.doublE_CROSS,Kepler.Framework.Core.Seperators.doublE_DELTA);var $12=($1).getSelectionIndex();if(!$12.compareTo(oConditionInfo.sContents)){$3=true;}break;case 15:case 14:var $13=-1;$13=($1).getSelectedIndex();$3=($13===oConditionInfo.iIndexVal);break;case 16:var $14=($1).get_state();$3=($14===oConditionInfo.iIndexVal);break;case 20:var $15=-1;$15=($1).get_selectedIdx();var $16=oConditionInfo.sContents.split(Kepler.Framework.Core.Seperators.v_CROSS);if($16.length>1){var $17=($1).get_menuItemIdx();var $18=parseInt($16[1]);$3=($15===oConditionInfo.iIndexVal&&$17===$18);}else{$3=($15===oConditionInfo.iIndexVal);}break;case 21:var $19=-1;$19=($1).get_selectedRow();$3=($19===oConditionInfo.iIndexVal);break;case 27:var $1A=($1).getSelectedIndex();$3=($1A===oConditionInfo.iIndexVal);break;case 25:var $1B=($1).getNodeFromIndex(oConditionInfo.sContents);$3=($1B===($1).get_selectedNode());break;}return $3;},$6_F:function($p0,$p1,$p2){var $0=false;var $1=$p1.split(Kepler.Framework.Core.Seperators.doublE_CROSS);for(var $2=0;$2<$1.length;$2++){var $3=new RegExp(this.$6_10($1[$2]),(!$p2)?'i':'');$0=$3.test($p0);if($0){return true;}}return $0;},$6_10:function($p0){if(ss.isValue($p0)){if(!$p0.startsWith('^')){$p0='^'+$p0;}if(!$p0.endsWith('$')){$p0=$p0+'$';}}return $p0;},handleUserEvent:function(iCommandId,iNotificationMsg){var $0=false;if(this.get_parseWIP()){return $0;}if(this._iSimMode===2){var $1=this.checkForTerminatingTutAction(iCommandId,iNotificationMsg);if($1){var $2=[];$2.add(this.createActionStringForControl(this._scUserActions.$0[0][0].scControlId,true));this.sendMsgToEngine(true,$2,this._scUserActions.iFrameToJump[0]);$0=true;}}else if(this._iSimMode===1){if(this.checkIfExitButtonClicked(iCommandId)){$0=true;this.handleExitButtonEvent(iCommandId);}}return $0;},checkForTerminatingTutAction:function(iCommandId,iNotificationMsg){var $0=false;if((this._scUserActions.iPivotCount>0)&&(this._scUserActions.iConditionCount[0]>=1)){var $1=this._scUserActions.$0[0][0].scControlId;var $2=this.getSeqNoFromControlId($1);if(($2>=0)&&($2<this.maX_REPOSITORY_ITEMS)&&(this.g_BaseStateRepository[$2]._iCommandId===iCommandId||this.g_BaseStateRepository[$2]._iControlType===8)){var $3=this.getControlFromCommandId(this.g_BaseStateRepository[$2]._iCommandId);switch(this.g_BaseStateRepository[$2]._iControlType){case 17:case 1:if(iNotificationMsg===Kepler.Framework.UI.Controls.NotificationCode.texT_CHANGED){var $4=this._scUserActions.$0[0][0];var $5=$3;var $6;$6=$5.get_text();if($4.iFlags===2){$6=$6.trim();}if($4.iFlags===1){$0=(!$6.compareTo($4.sContents));}else{$0=(!$6.compareTo($4.sContents,true));}}break;case 3:if(iNotificationMsg===Kepler.Framework.UI.Controls.NotificationCode.selectioN_CHANGED){var $7=$3;var $8=$7.getSelectedIndex();$0=(this._scUserActions.$0[0][0].iIndexVal===$8);}break;case 4:if(iNotificationMsg===Kepler.Framework.UI.Controls.NotificationCode.selectioN_CHANGED){var $9=$3;var $A=$9.getSelectedIndex();$0=(this._scUserActions.$0[0][0].iIndexVal===$A);}break;case 5:var $B=$3;var $C=this._scUserActions.$0[0][0].iIndexVal;if($C>=0&&iNotificationMsg===Kepler.Framework.UI.Controls.NotificationCode.texT_CHANGED){$0=($B.getSelectedIndex()===$C);}else if(iNotificationMsg===Kepler.Framework.UI.Controls.NotificationCode.texT_CHANGED){var $D=$B.get_text();$0=(!this._scUserActions.$0[0][0].sContents.compareTo($D));}break;case 6:if(iNotificationMsg===Kepler.Framework.UI.Controls.NotificationCode.buttoN_CLICK){if(this.g_BaseStateRepository[$2]._iCommandId===iCommandId){var $E=$3;var $F=$E.get_state();$0=($F===this._scUserActions.$0[0][0].iIndexVal);}}break;case 9:if(iNotificationMsg===Kepler.Framework.UI.Controls.NotificationCode.buttoN_CLICK){if(this.g_BaseStateRepository[$2]._iCommandId===iCommandId){var $10=$3;var $11=$10.get_state();var $12=(!!$11)?1:0;$0=($12===this._scUserActions.$0[0][0].iIndexVal);}}break;case 18:if(iNotificationMsg===Kepler.Framework.UI.Controls.NotificationCode.buttoN_CLICK&&(!this._scUserActions.$0[0][0].sContents.compareTo('-1')||String.isNullOrEmpty(this._scUserActions.$0[0][0].sContents))){$0=true;}else if(iNotificationMsg===Kepler.Framework.UI.Controls.NotificationCode.menU_ITEM_CLICKED){var $13=($3).getSelectedIndex();if(!$13.compareTo(this._scUserActions.$0[0][0].sContents)){$0=true;}}break;case 7:if(iNotificationMsg===Kepler.Framework.UI.Controls.NotificationCode.buttoN_CLICK){$0=true;}break;case 2:if(!Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()&&iNotificationMsg===Kepler.Framework.UI.Controls.NotificationCode.spiN_CTRL_VAL_CHANGED||(iNotificationMsg===Kepler.Framework.UI.Controls.NotificationCode.typinG_DONE)||(!Kepler.Engine.UI.UIManager.get_instance().get_typingModeStarted()&&iNotificationMsg===Kepler.Framework.UI.Controls.NotificationCode.spiN_CTRL_VAL_CHANGED)){var $14=($3).getEditText();$0=(!$14.compareTo(this._scUserActions.$0[0][0].sContents));if($0){($3).stopTimer();}}break;case 14:case 15:if(iNotificationMsg===Kepler.Framework.UI.Controls.NotificationCode.selectioN_CHANGED){var $15=$3;var $16=$15.getSelectedIndex();$0=(this._scUserActions.$0[0][0].iIndexVal===$16);}break;case 12:this._scUserActions.$0[0][0].sContents=this._scUserActions.$0[0][0].sContents.replaceAll(Kepler.Framework.Core.Seperators.doublE_CROSS,Kepler.Framework.Core.Seperators.doublE_DELTA);var $17=($3).getSelectionIndex();if(!$17.compareTo(this._scUserActions.$0[0][0].sContents)){$0=true;}break;case 16:if(iNotificationMsg===Kepler.Framework.UI.Controls.NotificationCode.buttoN_CLICK){if(this.g_BaseStateRepository[$2]._iCommandId===iCommandId){var $18=$3;var $19=$18.get_state();$0=($19===this._scUserActions.$0[0][0].iIndexVal);}}break;case 8:if(iNotificationMsg===Kepler.Framework.UI.Controls.NotificationCode.selectioN_CHANGED){$0=true;}break;case 20:if(iNotificationMsg===Kepler.Framework.UI.Controls.NotificationCode.selectioN_CHANGED){var $1A=$3;var $1B=$1A.get_selectedIdx();$0=(this._scUserActions.$0[0][0].iIndexVal===$1B);}break;case 21:if(iNotificationMsg===Kepler.Framework.UI.Controls.NotificationCode.selectioN_CHANGED){var $1C=$3;var $1D=$1C.get_selectedRow();$0=(this._scUserActions.getConditionInfo(0,0).iIndexVal===$1D);}break;case 22:$0=true;break;case 27:if(iNotificationMsg===Kepler.Framework.UI.Controls.NotificationCode.selectioN_CHANGED){var $1E=$3;var $1F=$1E.getSelectedIndex();$0=(this._scUserActions.$0[0][0].iIndexVal===$1F);}break;case 25:if(iNotificationMsg===Kepler.Framework.UI.Controls.NotificationCode.selectioN_CHANGED){var $20=$3;var $21=$20.getNodeFromIndex(this._scUserActions.$0[0][0].sContents);$0=($21===$20.get_selectedNode());}break;}}}return $0;},checkIfExitButtonClicked:function(iCommandId){return this.get_client().isExitButtonClicked(iCommandId);},handleExitButtonEvent:function(commandId){var $0=new Kepler.Engine.Core.CONTROL_ID(-1,-1);$0=this.getPageAndSeqNoOfCommandId(commandId);var $1=false;var $2=Kepler.Framework.Core.Globals.invaliD_VALUE;var $3=[];var $4=Kepler.Framework.Core.Globals.invaliD_VALUE;var $5=0;var $6=0;var $7='';if($0.iPageNo!==Kepler.Framework.Core.Globals.invaliD_VALUE){for(var $9=0;$9<this._scUserActions.iPivotCount;$9++){var $A=0;$3.clear();if(this._scUserActions.scPivotInfo[$9].equals($0)){var $B=true;for(var $C=0;$C<this._scUserActions.iConditionCount[$9];$C++){var $D=this._scUserActions.$0[$9][$C];var $E=this.checkCorrectActionForControl($D);if($E){$A++;}$B=($B&$E)===1;if(!$D.scControlId.equals(this._scUserActions.scPivotInfo[$9])){$3.add(this.createActionStringForControl($D.scControlId,$E));}}if($B){$4=this._scUserActions.iFrameToJump[$9];var $F=true;if(this._scUserActions.iConditionCount[$9]!==Kepler.Framework.Core.Globals.invaliD_VALUE){for(var $10=0;$10<this.maX_REPOSITORY_ITEMS;$10++){var $11=this.g_OverrideStateRepository[$10]._scControlId;if(!this.$6_11($9,$11)){var $12=this.confirmOverrideStateForControl($10);if(!$12){$3.add(this.createActionStringForControl(this.g_BaseStateRepository[$10]._scControlId,false));}$F=($F&$12)===1;}}}if($F){$1=true;$2=$9;break;}}}if(($A>0)&&($A>=$6)){if(($A>$6)||(this._scUserActions.iConditionCount[$9]<this._scUserActions.iConditionCount[$5])){$6=$A;$5=$9;}}}}var $8=this.getSeqNoFromControlId($0);if(Object.keyExists(this._scUserActions.scCheckWithView,$2)){var $13=[];var $14=[];$14.add(this._scUserActions.scCheckWithView[$2]);var $15=Kepler.Engine.Core.EngineApp.get_engine().get_currentApp().getAppFrame().sendMessage('msg_verify_user_sel',$13,$14);if($15){$7='With Correct Selection '+$13[0];}else{$7='With Incorrect Selection '+$13[0];}$1=($1&$15)===1;}if(!this._bNeverAppendInCorrect&&this._bDummyFrame){$7=' With Incorrect Selection';}if($1){this.$6_C();$3.add(this.createActionStringForControl(this.g_BaseStateRepository[$8]._scControlId,$1));$3.add($7);this.sendMsgToEngine(true,$3,$4);this.$6_D();}else{$3.clear();for(var $16=0;$16<this.maX_REPOSITORY_ITEMS;$16++){var $17=this.g_OverrideStateRepository[$16]._scControlId;var $18=false;if(this._scUserActions.iPivotCount>1){for(var $19=0;$19<this._scUserActions.iConditionCount[$5];$19++){if($17.equals(this._scUserActions.$0[$5][$19].scControlId)){var $1A=this._scUserActions.$0[$5][$19];$18=true;var $1B=this.checkCorrectActionForControl($1A);if(!$1A.scControlId.equals(this._scUserActions.scPivotInfo[$5])){$3.add(this.createActionStringForControl(this.g_BaseStateRepository[$16]._scControlId,$1B));}break;}}}if(!$18){var $1C=this.confirmOverrideStateForControl($16);if(!$1C&&!$17.equals($0)){$3.add(this.createActionStringForControl(this.g_BaseStateRepository[$16]._scControlId,false));}}}$3.add(this.createActionStringForControl(this.g_BaseStateRepository[$8]._scControlId,false));$3.add($7);this.sendMsgToEngine(false,$3,Kepler.Framework.Core.Globals.invaliD_VALUE);if(commandId===this.get_defaultButtonID()&&this.get_closeOnDefaultIncorrect()){var $1D=this.get_WIP();this.set_WIP(false);this._bClosingFromDefaultIncorrect=true;var $1E=Kepler.Framework.UI.Controls.FromAction.eFromIncorrectAction;var $1F=new Kepler.Framework.UI.Controls.OnCommandStruct($1E,Kepler.Framework.UI.Controls.NotificationCode.dialoG_CLOSE);var $20=this.get_client().sendMessage(Kepler.Engine.UI.Controls.Control.msG_COMMAND,$1F,this);if(!$20){this.get_client().sendMessage(Kepler.Engine.UI.DialogBase.msG_DIALOG_CLOSE,$1F,this);}this.set_WIP($1D);this._bClosingFromDefaultIncorrect=false;}else{this.set_parseWIP(true);this.initControls();this.set_parseWIP(false);}}},$6_11:function($p0,$p1){var $0=false;for(var $1=0;$1<this._scUserActions.iConditionCount[$p0];$1++){if(this._scUserActions.$0[$p0][$1].scControlId.equals($p1)){$0=true;break;}}return $0;},confirmOverrideStateForControl:function(iSerialIndex){var $0=false;var $1=this.getControlFromCommandId(this.g_OverrideStateRepository[iSerialIndex]._iCommandId);if(ss.isNull($1)&&this.g_OverrideStateRepository[iSerialIndex]._iControlType===7){return true;}switch(this.g_OverrideStateRepository[iSerialIndex]._iControlType){case 17:case 1:if($1.get_enable()){var $2=$1;var $3=$2.get_text();$3.trim();if(!$3.compareTo(this.g_OverrideStateRepository[iSerialIndex]._sContents)){$0=true;}}else{$0=true;}break;case 3:var $4=$1;var $5=$4.getSelectedIndex();if($5===this.g_OverrideStateRepository[iSerialIndex]._iSelIndex){$0=true;}break;case 5:var $6=($1).get_text();$0=(!this.g_OverrideStateRepository[iSerialIndex]._sContents.compareTo($6));break;case 4:var $7=($1).getSelectedIndex();if($7===this.g_OverrideStateRepository[iSerialIndex]._iSelIndex){$0=true;}break;case 2:var $8=$1;var $9=$8.getEditText();if(!$9.compareTo(this.g_OverrideStateRepository[iSerialIndex]._sContents)){$0=true;}break;case 6:var $A=$1;var $B=$A.get_state();if($B===this.g_OverrideStateRepository[iSerialIndex]._iSelIndex){$0=true;}break;case 18:case 7:$0=true;break;case 24:case 23:case 10:case 19:$0=true;break;case 9:var $C=$1;var $D=$C.get_state();var $E=(!!$D)?1:0;if($E===this.g_OverrideStateRepository[iSerialIndex]._iSelIndex){$0=true;}break;case 13:$0=true;break;case 14:case 15:var $F=-1;$F=($1).getSelectedIndex();if($F===this.g_OverrideStateRepository[iSerialIndex]._iSelIndex){$0=true;}break;case 12:var $10=($1).getSelectionIndex();if(!$10.compareTo(this.g_OverrideStateRepository[iSerialIndex]._sContents)){$0=true;}break;case 8:$0=true;break;case 16:var $11=$1;var $12=$11.get_state();if($12===this.g_OverrideStateRepository[iSerialIndex]._iSelIndex){$0=true;}break;case 20:var $13=($1).get_selectedIdx();if($13===this.g_OverrideStateRepository[iSerialIndex]._iSelIndex){$0=true;}break;case 21:var $14=($1).get_selectedRow();if($14===this.g_OverrideStateRepository[iSerialIndex]._iSelIndex){$0=true;}break;case 25:var $15=$1;var $16=this.g_OverrideStateRepository[iSerialIndex]._sContents.split(Kepler.Framework.Core.Seperators.doublE_DELTA,1);if($15.get_selectedNode()===$15.getNodeFromIndex($16[0])){$0=true;}break;case 26:var $17=$1;var $18=$17.get_text();$18.trim();if(!$18.compareTo(this.g_OverrideStateRepository[iSerialIndex]._sContents)){$0=true;}break;case 27:var $19=($1).getSelectedIndex();if($19===this.g_OverrideStateRepository[iSerialIndex]._iSelIndex){$0=true;}break;case 28:$0=true;break;case 30:$0=true;break;}return $0;},createActionStringForControl:function(oControlID,bCorrectAction){var $0=this.getSeqNoFromControlId(oControlID);var $1;$1=2+Kepler.Framework.Core.Seperators.v_CROSS+this.g_BaseStateRepository[$0]._sName+Kepler.Framework.Core.Seperators.v_CROSS;var $2='';var $3=this.getControlFromCommandId(this.getCommandIdFromPageAndSeqNo(oControlID.iPageNo,oControlID.iSequenceNo));if(ss.isNullOrUndefined($3)&&this.getControlTypeFromCommandId(this.getCommandIdFromPageAndSeqNo(oControlID.iPageNo,oControlID.iSequenceNo))!==7){return $1;}var $4=this.getCommandIdFromPageAndSeqNo(oControlID.iPageNo,oControlID.iSequenceNo);switch(this.g_BaseStateRepository[$0]._iControlType){case 5:$2=($3).get_text();break;case 1:case 17:$2=$3.get_text();break;case 3:$2=($3).getSelectedIndexText();break;case 4:if(($3).getSelectedIndex()!==-1){$2=($3).getSelectedText();}break;case 6:var $5=($3).get_state();if($5===Kepler.Engine.UI.Controls.ECheckBoxState.eChecked){$2=3+Kepler.Framework.Core.Seperators.v_CROSS;}else if($5===Kepler.Engine.UI.Controls.ECheckBoxState.eUnchecked){$2=4+Kepler.Framework.Core.Seperators.v_CROSS;}else if($5===Kepler.Engine.UI.Controls.ECheckBoxState.eIntermediate){$2=5+Kepler.Framework.Core.Seperators.v_CROSS;}$1='';$2+=this.g_BaseStateRepository[$0]._sName;break;case 9:var $6=($3).get_state();if($6){$2=6+Kepler.Framework.Core.Seperators.v_CROSS+this.g_BaseStateRepository[$0]._sName;}$1='';break;case 2:$2=($3).getWholeText();break;case 13:break;case 18:case 7:case 24:var $7=this.getCancelButtonCtrlID();if(oControlID.equals($7)){if(!this.get_isCancleBtnClicked()){$1='Dialog Closed';this.set_isCancleBtnClicked(true);break;}}$1=7+Kepler.Framework.Core.Seperators.v_CROSS+this.g_BaseStateRepository[$0]._sName;break;case 16:var $8=($3).get_state();if($8===Kepler.Engine.UI.Controls.ECheckBoxState.eChecked){$2=3+Kepler.Framework.Core.Seperators.v_CROSS;}else{$2=4+Kepler.Framework.Core.Seperators.v_CROSS;}$1='';$2+=this.g_BaseStateRepository[$0]._sName;break;case 12:$2=($3).getSelectedText();break;case 14:case 15:$2=($3).getSelectedIndexName();break;case 20:$2=($3).get_selectedIdx().toString();break;case 21:break;case 22:$2='clicked';break;case 27:if(($3).getSelectedIndex()!==-1){$2=($3).getSelectedIndex().toString();}break;case 25:$1=8+Kepler.Framework.Core.Seperators.v_CROSS+this.g_BaseStateRepository[$0]._sName+Kepler.Framework.Core.Seperators.v_CROSS+($3).get_selectedNode().get_nodeControl().get_text();break;case 26:$2=($3).get_text();break;case 30:var $9=$3;var $A=$9.get_childButtons()[$9.get_buttonIndex()];$1=31+Kepler.Framework.Core.Seperators.v_CROSS+$A.get_selectedMenuItemText();break;default:$2=(9).toString();break;}$1+=$2;return $1;},sendMsgToEngine:function(bActionStatus,lstUserActionString,targetFrame){if(this.get_simMode()===2&&!!bActionStatus){this._scUserActions.clearActionInfo();}this._scFrameInfo.$0=bActionStatus;this._scFrameInfo.$1=targetFrame;if(this._bIsApp){this._scFrameInfo.$2=14+Kepler.Framework.Core.Seperators.v_CROSS+this.get_name()+Kepler.Framework.Core.Seperators.doublE_DELTA;}else{this._scFrameInfo.$2=1+Kepler.Framework.Core.Seperators.v_CROSS+this.get_name()+Kepler.Framework.Core.Seperators.doublE_DELTA;}var $0=[];for(var $1=0;$1<lstUserActionString.length;$1++){if(!String.isNullOrEmpty(lstUserActionString[$1])){$0.add(lstUserActionString[$1]);}}this._scFrameInfo.$2+=$0.join(Kepler.Framework.Core.Seperators.doublE_DELTA);if(this._bClosingFromDefaultIncorrect){this._scFrameInfo.$2=null;}this.sendMessage('msg_send_action_msg_to_engine',this._scFrameInfo,0);},chkTargetCtrlAndMsgFromSlave:function(oTargetCtrl,oSenderCtrl,oEventData){var $0=false;if(ss.isValue(oTargetCtrl)&&ss.isValue(oSenderCtrl)){var $1=Type.getInstanceType(oTargetCtrl);if(oTargetCtrl===oSenderCtrl||(Kepler.Engine.UI.Controls.ScrollBarBase).isInstanceOfType(oSenderCtrl)){$0=true;}if((Kepler.Engine.UI.Controls.ContainerControl).isInstanceOfType(oTargetCtrl)){if((Kepler.Engine.UI.Controls.ComboCtrl).isInstanceOfType(oTargetCtrl)&&(oSenderCtrl===(oTargetCtrl).get_attachedList()||(oTargetCtrl).containsControl(oSenderCtrl))){$0=true;}else if((Kepler.Engine.UI.Controls.EditSpinCtrl).isInstanceOfType(oTargetCtrl)&&(oTargetCtrl).isMessageFromSlaveCtrl(oSenderCtrl)){$0=true;}else if((Kepler.Engine.UI.Controls.ComboColorButton).isInstanceOfType(oTargetCtrl)&&(oTargetCtrl).containsControl(oSenderCtrl)){$0=true;}else if((Kepler.Engine.UI.Controls.MultiColListCtrl).isInstanceOfType(oTargetCtrl)&&(oTargetCtrl).containsControl(oSenderCtrl)){$0=true;}else if((Kepler.Engine.UI.Controls.TabPage).isInstanceOfType(oTargetCtrl)&&((Kepler.Engine.UI.Controls.TabNavigator).isInstanceOfType(oSenderCtrl)||(Kepler.Engine.UI.Controls.TabControl).isInstanceOfType(oSenderCtrl))){if((Kepler.Engine.UI.Controls.TabControl).isInstanceOfType(oSenderCtrl)){var $2=oEventData;if(ss.isValue($2)&&$2.get_data()===this._scUserActions.getConditionInfo(0,0).scControlId.iPageNo-1){$0=true;}}else{$0=true;}}else if((Kepler.Framework.UI.Themed_Controls.SliderControl.SliderCtrl).isInstanceOfType(oTargetCtrl)){$0=(oTargetCtrl).isMsgFromSlaveControl(oSenderCtrl);}else if(this._lstTargetControlsWhoseAllChildAsSlave.contains($1)){if((oTargetCtrl).containsControl(oSenderCtrl)){$0=true;}}else if((Kepler.Engine.UI.Controls.GridList).isInstanceOfType(oTargetCtrl)&&(oTargetCtrl).isMsgFromSlaveControl(oSenderCtrl)){$0=true;}}}return $0;},$6_12:function($p0,$p1){var $0=false;if(this._scUserActions.$0.length>0&&(!this._scUserActions.$0[0][0].sContents.compareTo('-1')||String.isNullOrEmpty(this._scUserActions.$0[0][0].sContents))){var $1=$p1;if(!$1.get_mode()){var $2=false;var $3=false;var $4=null;if($p0.get_type()===Kepler.Framework.UI.Events.EventArgsNs.EventType.touchStart||$p0.get_type()===Kepler.Framework.UI.Events.EventArgsNs.EventType.touchEnd){var $5=$p0;$2=true;$4=$5.get_target();if($p0.get_type()===Kepler.Framework.UI.Events.EventArgsNs.EventType.touchEnd){$3=true;}}else if($p0.get_type()===Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseDown||$p0.get_type()===Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseUp){var $6=($p0);$4=$6.get_target();if($6.get_button()===Kepler.Framework.UI.Events.EventArgsNs.MouseButton.left){$2=true;if($p0.get_type()===Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseUp){$3=true;}}}if($2&&($1.get_eleArrowImage()===$4||$1.get_eleArrowImage().contains($4)||$1.get_element()===$4)){$0=true;}else{if($3){$0=this.handleUserEvent($p1.get_id(),Kepler.Framework.UI.Controls.NotificationCode.buttoN_CLICK);}}}}return $0;},$6_13:function($p0,$p1){if(this._scUserActions.$0.length<=0){return false;}var $0=this._scUserActions.$0[0][0];if(($0.iFlags&8)===8){if($p1.get_type()===Kepler.Framework.UI.Events.EventArgsNs.EventType.keyDown){var $1=($0.iFlags&2048)===2048;var $2=$p1;var $3=$0.sContents.split(Kepler.Engine.UI.KeplerDialog.keY_BORD_ACTION);if($3.length===2){var $4=parseInt($3[1]);if($2.get_key()===$4&&!$p0.get_text().compareTo($3[0],$1)){var $5=[];$5.add(this.createActionStringForControl($0.scControlId,true));this.sendMsgToEngine(true,$5,this._scUserActions.iFrameToJump[0]);return true;}else{return true;}}}return true;}else{return false;}},$6_14:function($p0,$p1){var $0=$p0;var $1=new Kepler.Engine.Core.ENLITE_FRAME_ACTIONS();$1.addActionString($0.$2);if((!!$0.$0)&&($0.$1===Kepler.Framework.Core.Globals.invaliD_VALUE)){$1.shouldNotJump();Kepler.Engine.Core.EngineApp.get_engine().sendMessage('eONUnloadDialog',this,null);}else{if($0.$0){var $2;$2=$0.$1.toString().padLeft(4,'0');$1.universalJump($2);}else{$1.shouldNotJump();}if(this._iSimMode!==4){var $3=Kepler.Engine.Core.EngineApp.get_engine().get_taskMaster().get_attemptsDeductionBlocked();if($3){$1.set_deductAttempts(false);}Kepler.Engine.Core.EngineApp.get_engine().sendMessage('eONEngineAction',$0.$0,$1);}}return null;},onMsgCheckTutBlockActionOrTransmit:function(wParam,lParam){if(this.get_simMode()===2){var $0;var $1;if(this._scUserActions.$0.length<=0){$1=this._scUserActions.scVisualHint[0].scVisualHintControlId;$0=null;}else{$0=this._scUserActions.$0[0][0];$1=$0.scControlId;}var $2=lParam;var $3=wParam;var $4=this.getSeqNoFromControlId($1);if(($4>=0)&&($4<this.maX_REPOSITORY_ITEMS)){var $5=this.getControlFromCommandId(this.g_BaseStateRepository[$4]._iCommandId);var $6=(Type.getInstanceType($5)===Kepler.Engine.UI.Controls.ComboCtrl);var $7=(Type.getInstanceType($5)===Kepler.Engine.UI.Controls.EditSpinCtrl);var $8=false;if((Kepler.Framework.UI.Controls.HtmlDiv).isInstanceOfType($2)&&(Kepler.Framework.UI.Controls.DlgHtmlCtrl).isInstanceOfType($5)){return false;}if(this.chkTargetCtrlAndMsgFromSlave($5,$2,$3)){$8=true;}if(!$8){if(Type.getInstanceType($2)===Kepler.Engine.UI.Controls.TextBox&&$3.get_type()===Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseDown){($3).set_defaultPrevented(true);}return true;}else{var $9=this.isEditableCtrlToAllowTypingInTutMode($2);if((!$9||$0.iFlags===1024)&&($3.get_type()===Kepler.Framework.UI.Events.EventArgsNs.EventType.keyDown||$3.get_type()===Kepler.Framework.UI.Events.EventArgsNs.EventType.keyUp)){return true;}this.$6_13($2,$3);if($3.get_type()===Kepler.Framework.UI.Events.EventArgsNs.EventType.keyDown){var $C=$3;if((Kepler.Engine.UI.Controls.TextBox).isInstanceOfType($2)&&$C.get_key()===Kepler.Framework.UI.Events.EventArgsNs.Keys.tab){return true;}if(Type.getInstanceType($2)===Kepler.Engine.UI.Controls.TextBox&&Type.getInstanceType($5)===Kepler.Engine.UI.Controls.ComboCtrl){if(!Kepler.Framework.Core.StringUtils.isPrintable($C.get_key(),'')){return true;}}}var $A=Kepler.Framework.UI.Controls.NotificationCode.buttoN_CLICK;var $B=this.getControlTypeFromCommandId($5.get_id());if(this.getControlTypeFromCommandId($2.get_id())===1||($6&&Type.getInstanceType($2)===Kepler.Engine.UI.Controls.TextBox)||$9){if($6||$9){$2=$5;}$A=Kepler.Framework.UI.Controls.NotificationCode.texT_CHANGED;}if($B===7&&((($3.get_type()===Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseDown||$3.get_type()===Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseUp)&&($3).get_button()===Kepler.Framework.UI.Events.EventArgsNs.MouseButton.right)||($3.get_type()===Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseDown&&($3).get_button()===Kepler.Framework.UI.Events.EventArgsNs.MouseButton.left))){return true;}if($B===7&&($3.get_type()===Kepler.Framework.UI.Events.EventArgsNs.EventType.touchStart)){return true;}if($B===4||$B===14||$B===2||($B===5&&$A===Kepler.Framework.UI.Controls.NotificationCode.buttoN_CLICK)){return false;}if($B===18){return this.$6_12($3,$2);}if($B===15&&(($3.get_type()===Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseDown||$3.get_type()===Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseUp)&&($3).get_button()===Kepler.Framework.UI.Events.EventArgsNs.MouseButton.right)){return true;}return this.handleUserEvent($2.get_id(),$A);}}}return false;},$6_15:null,parseFrameTags:function(){var $0;$0=this._mapFrameData['db_mode'];switch(parseInt($0)){case 1:this._iSimMode=1;break;case 2:this._iSimMode=2;if(Kepler.Engine.Core.EngineApp.get_engine().get_isShowMe()){this._iSimMode=4;}break;case 4:this._iSimMode=4;break;default:this._iSimMode=1;break;}var $1=[];var $2;if(($2=Kepler.Engine.UI.KeplerDialog.getCount('db_overridearray',this._mapFrameData,$1))>0){var $4=$1[0];var $5=$4.length;for(var $6=0;$6<$5;$6++){var $7=$4[$6];var $8=$7.split(Kepler.Framework.Core.Seperators.miD_DOT);var $9=$8[0];var $A=$8[1];var $B=$8[2];var $C=$8[3];var $D=$8[4];var $E=new Kepler.Engine.Core.CONTROL_ID(parseInt($9),parseInt($A));var $F=this.getSeqNoFromControlId($E);this.g_OverrideStateRepository[$F]._bIsEnabled=(parseInt($B)>0)?true:false;this.g_OverrideStateRepository[$F]._iStartIndex=parseInt($C);this.g_OverrideStateRepository[$F]._iSelIndex=parseInt($D);this.g_OverrideStateRepository[$F]._sContents=$8[5];}}$1.clear();if(($2=Kepler.Engine.UI.KeplerDialog.getCount('db_ctrl_show_hide',this._mapFrameData,$1))>0){var $10=$1[0];var $11=$10.length;for(var $12=0;$12<$11;$12++){var $13=$10[$12];var $14=$13.split(Kepler.Framework.Core.Seperators.miD_DOT);var $15=$14[0];var $16=$14[1];var $17=$14[2];var $18=this.getControlFromCommandId(this.getCommandIdFromPageAndSeqNo(parseInt($15),parseInt($16)));if(ss.isValue($18)){var $19=(parseInt($17)===1)?true:false;$18.show($19);}}}$1.clear();var $3=0;this._scUserActions.clearActionInfo();if(($3=Kepler.Engine.UI.KeplerDialog.getCount('db_actionarray',this._mapFrameData,$1))>0){this._scUserActions.iPivotCount=$3;var $1A=$1[0];var $1B=$1A.length;for(var $1C=0;$1C<$1B;$1C++){var $1D=$1A[$1C];var $1E=$1D.split(Kepler.Framework.Core.Seperators.miD_DOT);this._scUserActions.iConditionCount[$1C]=parseInt($1E[0]);this._scUserActions.iFrameToJump[$1C]=parseInt($1E[1],10);this._scUserActions.scPivotInfo[$1C]=new Kepler.Engine.Core.CONTROL_ID(-1,-1);this._scUserActions.scPivotInfo[$1C].iPageNo=parseInt($1E[2]);this._scUserActions.scPivotInfo[$1C].iSequenceNo=parseInt($1E[3]);var $1F=4;var $20=[];for(var $21=0;$21<this._scUserActions.iConditionCount[$1C];$21++){var $22=$1E[$1F].split(Kepler.Framework.Core.Seperators.doublE_DELTA);var $23=new Kepler.Engine.Core.CONTROL_STATE();$23.scControlId.iPageNo=parseInt($22[0]);$23.scControlId.iSequenceNo=parseInt($22[1]);$23.iFlags=parseInt($22[2]);$23.iIndexVal=parseInt($22[3]);$23.sContents=$22[4];$20.add($23);$1F++;}this._scUserActions.$0[$1C]=$20;}}else{this._scUserActions.iPivotCount=0;for(var $24=0;$24<this._scUserActions.iConditionCount.length;$24++){this._scUserActions.iConditionCount[$24]=0;this._scUserActions.iFrameToJump[$24]=Kepler.Framework.Core.Globals.invaliD_VALUE;}}$1.clear();if(($2=Kepler.Engine.UI.KeplerDialog.getCount('db_checkwithview',this._mapFrameData,$1))>0){var $25=$1[0];var $26=$25.length;for(var $27=0;$27<$26;$27++){var $28=$25[$27];var $29=$28.split(Kepler.Framework.Core.Seperators.miD_DOT);var $2A=parseInt($29[0]);var $2B=$29[1];this._scUserActions.scCheckWithView[$2A]=$2B;}}$0=this._mapFrameData['db_focusinfo'];if(ss.isValue($0)){var $2C=$0.split(Kepler.Framework.Core.Seperators.PIPE);if(parseInt($2C[0])===-1){var $2E=this._mapFrameData['@name'];if(!String.isNullOrEmpty($2E)){var $2F=new Kepler.Engine.Core.DialogInfo($2E);Kepler.Engine.Core.EngineApp.getTopLevelFrame().sendMessage('msg_dialog_info',$2E,$2F);if(Object.keyExists($2F.get_map(),'db_focusinfo')){$0=$2F.get_map()['db_focusinfo'];$2C=$0.split(Kepler.Framework.Core.Seperators.PIPE);}}}this._scFocusInfo.scControlId.iPageNo=parseInt($2C[0]);this._scFocusInfo.scControlId.iSequenceNo=parseInt($2C[1]);this._scFocusInfo.iStartIdx=parseInt($2C[2]);this._scFocusInfo.iEndIdx=parseInt($2C[3]);var $2D=this.getSeqNoFromControlId(this._scFocusInfo.scControlId);if(($2D<0)||($2D>=this.maX_REPOSITORY_ITEMS)){}}this.eraseVisualHint();$2=0;$1.clear();if(Type.canCast(this.get_client(),Kepler.Engine.UI.DialogTabBaseClient)&&this._scFocusInfo.scControlId.iPageNo>0){(this.get_client()).get_tabControl().setActiveTabIndex(this._scFocusInfo.scControlId.iPageNo-1);}else if(Type.getInstanceType(this.get_client()).get_baseType()===Kepler.Engine.UI.DialogWizardTabClient&&this._scFocusInfo.scControlId.iPageNo>0){(this.get_client()).get_tabControl().setActiveTabIndex(this._scFocusInfo.scControlId.iPageNo-1);}if(($2=Kepler.Engine.UI.KeplerDialog.getCount('db_visualhint',this._mapFrameData,$1))>0){var $30=$1[0];var $31=$30.length;this._scUserActions.iNoOfHints=$2;for(var $32=0;$32<$31;$32++){var $33=$30[$32];var $34=$33.split(Kepler.Framework.Core.Seperators.miD_DOT);var $35=$34[0];var $36=parseInt($34[1]);var $37=parseInt($34[2]);var $38=parseInt($34[3]);var $39=parseInt($34[4]);var $3A=parseInt($34[5]);var $3B=parseInt($34[6]);var $3C=parseInt($34[7]);var $3D=parseInt($34[8]);var $3E;if(($3A===-1||isNaN($3A))||($3B===-1||isNaN($3B))||($3C===-1||isNaN($3C))||($3D===-1||isNaN($3D))){$3E=new Kepler.Framework.UI.Rect(0,0,0,0);}else{$3E=new Kepler.Framework.UI.Rect($3A,$3B,$3C-$3A,$3D-$3B);}this._scUserActions.scVisualHint[$32]=new Kepler.Engine.Core.DIALOG_HINTS(new Kepler.Engine.Core.CONTROL_ID($36,$37),$39,$3E,$38);}if(this.get_simMode()!==1){this.drawVisualHint();}}$0='';$0=this._mapFrameData['db_caption'];if(!String.isNullOrEmpty($0)){this.setTitle($0);}$0='';$0=this._mapFrameData['db_file_tab_visible'];if(ss.isValue($0)&&!!$0){var $3F=parseInt($0);var $40=(!$3F)?false:true;var $41=Kepler.Engine.Core.EngineApp.get_engine().get_currentApp().getAppFrame();($41).get_ribbonManager().setFileTabActive($40);}$0='';$0=this._mapFrameData['db_modal'];if(!String.isNullOrEmpty($0)){var $42=parseInt($0);this.set_dialogType($42);}else{this.set_dialogType(this.get_defaultDialogType());}$0='';$0=this._mapFrameData['db_container_position'];this.get_container().get_positionAndSizeOverrideHandler().setOverride($0,true,false);if(this._oExitGestureManager!=null){this._oExitGestureManager.sendMessage(Kepler.Engine.UI.DialogBase.msG_DIALOG_POS_OVERRIDE_RECIVED,null,this);}},initializeRepository:function(lstRepInfo){this.g_BaseStateRepository.clear();this.g_OverrideStateRepository.clear();for(var $0=0;$0<lstRepInfo.length;$0++){this.g_BaseStateRepository[$0]=new Kepler.Engine.Core.REPOSITORY_INFO();this.g_BaseStateRepository[$0].equalTo(lstRepInfo[$0]);this.g_OverrideStateRepository[$0]=new Kepler.Engine.Core.REPOSITORY_INFO();this.g_OverrideStateRepository[$0].equalTo(lstRepInfo[$0]);var $1=this.getControlFromCommandId(lstRepInfo[$0]._iCommandId);if($1!=null&&!String.isNullOrEmpty(lstRepInfo[$0]._sName)){$1.set_ariaSpeech(lstRepInfo[$0]._sName);if(lstRepInfo[$0]._iAccelerator!==-1){$1.set_altChar(lstRepInfo[$0]._iAccelerator);}}}this.maX_REPOSITORY_ITEMS=this.g_BaseStateRepository.length;},initControls:function(){for(var $0=0;$0<this.g_OverrideStateRepository.length;$0++){if(this.g_OverrideStateRepository[$0]._iCommandId!==-1){this.setControlToState(this.g_OverrideStateRepository[$0]);if(this.get_defaultButtonID()===-1){var $1=new Kepler.Engine.Core.CONTROL_ID(0,10);if(this.g_OverrideStateRepository[$0]._scControlId.equals($1)){this.set_defaultButtonID(this.g_OverrideStateRepository[$0]._iCommandId);}}}}this.postMessage('msg_set_focus',null,this);},setControlToState:function(oStateInfo){var $0=this.getControlFromCommandId(oStateInfo._iCommandId);if(ss.isNullOrUndefined($0)){return;}var $1;var $2;$2=$0.get_enable();if($2!==oStateInfo._bIsEnabled){$0.set_enable(oStateInfo._bIsEnabled);}switch(oStateInfo._iControlType){case 2:var $3=$0;if(!String.isNullOrEmpty(oStateInfo._sContents)){$3.setEditText(oStateInfo._sContents,false);}break;case 17:case 1:if(oStateInfo._iControlType===17){$0.sendMessage('msg_reset_range_selector',null,null);}$1=$0.get_text();if(ss.isValue(oStateInfo._sContents)&&!!$1.compareTo(oStateInfo._sContents)){($0).setText(oStateInfo._sContents);}var $4;$4=($0).getSelection();if(($4.get_startIndex()!==oStateInfo._iStartIndex)||($4.get_endIndex()!==oStateInfo._iSelIndex)){($0).setSelection(oStateInfo._iStartIndex,oStateInfo._iSelIndex);}break;case 3:var $5=$0;var $6=$5.getSelectedIndex();if($6!==oStateInfo._iSelIndex){$5.setSelectedIndex(oStateInfo._iSelIndex);}break;case 5:case 4:if(oStateInfo._iControlType===5){var $7=$0;if(oStateInfo._iSelIndex>=0){$7.setSelectedIndex(oStateInfo._iSelIndex);}else if(ss.isValue(oStateInfo._sContents)){$7.setText(oStateInfo._sContents);}if(oStateInfo._iStartIndex>-1){$7.setTopIndex(oStateInfo._iStartIndex);}}else{var $8=$0;var $9=$8.getSelectedIndex();if($9!==oStateInfo._iSelIndex){$8.setSelectedIndex(oStateInfo._iSelIndex);}if(oStateInfo._iStartIndex>-1){$8.setTopIndex(oStateInfo._iStartIndex);}}break;case 6:var $A=$0;if(oStateInfo._iSelIndex===2){$A.set_threeState(true);}else{$A.set_threeState(false);}var $B=oStateInfo._iSelIndex;var $C=($B===Kepler.Engine.UI.Controls.ECheckBoxState.eChecked||$B===Kepler.Engine.UI.Controls.ECheckBoxState.eUnchecked||($B===Kepler.Engine.UI.Controls.ECheckBoxState.eIntermediate&&$A.get_threeState()));if(!$C){$B=Kepler.Engine.UI.Controls.ECheckBoxState.eUnchecked;}if($A.get_state()!==$B){$A.set_state($B);var $D=$A.get_parent();if(ss.isValue($D)){var $E=new Kepler.Framework.UI.Controls.OnCommandStruct(null,Kepler.Framework.UI.Controls.NotificationCode.buttoN_CLICK);var $F=$D.sendMessage(Kepler.Engine.UI.Controls.Control.msG_COMMAND,$E,$A);if(!$F){$D.sendMessage(Kepler.Engine.UI.Controls.ButtonBase.msG_BUTTON_CLICKED,null,$A);}}}break;case 9:var $10=$0;var $11=$10.get_state();var $12=(!!$11)?1:0;if(oStateInfo._iSelIndex!==$12){var $13=$10.get_parent();if(ss.isValue($13)){var $14=new Kepler.Framework.UI.Controls.OnCommandStruct(null,Kepler.Framework.UI.Controls.NotificationCode.buttoN_CLICK);var $15=$13.sendMessage(Kepler.Engine.UI.Controls.Control.msG_COMMAND,$14,$10);if(!$15){$13.sendMessage(Kepler.Engine.UI.Controls.ButtonBase.msG_BUTTON_CLICKED,null,$10);}}}break;case 18:case 7:if(oStateInfo._scControlId.iPageNo>=0&&(oStateInfo._iSelIndex===1)){$0.show(false);}if(!String.isNullOrEmpty(oStateInfo._sContents)&&!!oStateInfo._sContents.compareTo($0.get_text())){var $16=oStateInfo._sContents;if(!!$16){this.$6_16(oStateInfo,$16,true);}}break;case 10:if(!String.isNullOrEmpty(oStateInfo._sContents)&&!!oStateInfo._sContents.compareTo($0.get_text())){var $17=oStateInfo._sContents;this.$6_16(oStateInfo,$17,false);}break;case 19:if(!String.isNullOrEmpty(oStateInfo._sContents)&&!!oStateInfo._sContents.compareTo($0.get_text())){($0).setGroupHeading(oStateInfo._sContents);}break;case 12:var $18=$0;var $19=$18.getSelectionIndex();oStateInfo._sContents=oStateInfo._sContents.replaceAll(Kepler.Framework.Core.Seperators.doublE_CROSS,Kepler.Framework.Core.Seperators.doublE_DELTA);if(!String.isNullOrEmpty(oStateInfo._sContents)&&!!$19.compareTo(oStateInfo._sContents)){$18.setSelectionIndex(oStateInfo._sContents);}break;case 14:var $1A=$0;var $1B;$1B=$1A.getSelectedIndex();if($1B!==oStateInfo._iSelIndex){$1A.setSelectedIndex(oStateInfo._iSelIndex);}if(oStateInfo._iStartIndex>-1){$1A.setTopIndex(oStateInfo._iStartIndex);}break;case 16:var $1C=$0;if($1C.get_state()!==oStateInfo._iSelIndex){$1C.set_state(oStateInfo._iSelIndex);var $1D=$1C.get_parent();if(ss.isValue($1D)){var $1E=new Kepler.Framework.UI.Controls.OnCommandStruct(null,Kepler.Framework.UI.Controls.NotificationCode.buttoN_CLICK);var $1F=$1D.sendMessage(Kepler.Engine.UI.Controls.Control.msG_COMMAND,$1E,$1C);if(!$1F){$1D.sendMessage(Kepler.Engine.UI.Controls.ButtonBase.msG_BUTTON_CLICKED,null,$1C);}}}break;case 21:var $20=$0;var $21=$20.get_selectedRow();if($21!==oStateInfo._iSelIndex){$20.setRowSelection(oStateInfo._iSelIndex);}break;case 27:var $22=$0;var $23=$22.getSelectedIndex();if($23!==oStateInfo._iSelIndex){$22.setSelectedIndex(oStateInfo._iSelIndex);}if(oStateInfo._iStartIndex>-1){$22.setTopIndex(oStateInfo._iStartIndex);}break;case 28:($0).resetControls();if(!String.isNullOrEmpty(oStateInfo._sContents)){var $24=parseInt(oStateInfo._sContents);if(isNaN($24)){}($0).set_rightClickMenuNo($24);}break;case 26:var $25=$0;$25.set_defaultText(oStateInfo._sContents);break;}},$6_16:function($p0,$p1,$p2){var $0=this.getControlFromCommandId($p0._iCommandId);if(!!$p1){var $1=$p1.indexOf('&&');if($1!==-1){$p1=$p1.replaceAll('&&','&');}$1=$p1.indexOf('&');var $2=-1;var $3=this.getSeqNoFromControlId($p0._scControlId);if($1!==-1){var $4=$p1.charAt($1+1);var $5='&'+$4;var $6='<u>'+$4+'</u>';this.g_BaseStateRepository[$3]._sName=this.g_OverrideStateRepository[$3]._sName=$p1.replaceAll($5,$4);$p1=$p1.replaceAll($5,$6);$2=$4;if($p2){this.g_BaseStateRepository[$3]._iAccelerator=this.g_OverrideStateRepository[$3]._iAccelerator=$2;}}}$0.setHtml($p1);},setCorrectFocus:function(){var $0=this.getCommandIdFromPageAndSeqNo(this._scFocusInfo.scControlId.iPageNo,this._scFocusInfo.scControlId.iSequenceNo);var $1=this.getControlFromCommandId($0);if(this._scFocusInfo.scControlId.iPageNo>0&&(Kepler.Engine.UI.DialogTabBaseClient).isInstanceOfType(this.get_client())){var $2=this.get_client();$2.get_tabControl().setActiveTabIndex(this._scFocusInfo.scControlId.iPageNo-1);if(!this._scFocusInfo.scControlId.iSequenceNo){$2.get_tabControl().setFocus();return;}}else if(this._scFocusInfo.scControlId.iPageNo>0&&(Kepler.Engine.UI.DialogWizardTabClient).isInstanceOfType(this.get_client())){var $3=this.get_client();$3.get_tabControl().setActiveTabIndex(this._scFocusInfo.scControlId.iPageNo-1);if(!this._scFocusInfo.scControlId.iSequenceNo){$3.get_tabControl().setFocus();return;}}if(ss.isValue($1)){var $4=this.getControlTypeFromCommandId($0);$1.setFocus();if($4===1||$4===17){if($1.get_visible()&&$1.get_parent().get_visible()){($1).setSelection(this._scFocusInfo.iStartIdx,this._scFocusInfo.iEndIdx);}}else if(($4===5)||($4===2)){($1).setEditSelection(this._scFocusInfo.iStartIdx,this._scFocusInfo.iEndIdx);}}else{this.setDefaultFocus();}},setDefaultFocus:function(){this.get_client().setDefaultFocus();},getDataFromView:function(){this.get_client().getDataFromView();},eraseVisualHint:function(){for(var $0=0;$0<this._scUserActions.scVisualHint.length;$0++){var $1=this._scUserActions.scVisualHint[$0].scVisualHintControlId;var $2=this.getControlFromCommandId(this.getCommandIdFromPageAndSeqNo($1.iPageNo,$1.iSequenceNo));var $3=(Kepler.Engine.UI.IVisualHint).isAssignableFrom(Type.getInstanceType($2));if($3){($2).eraseVisualHint();}else{$2.get_elementStyle()['outline']='none';$2.set_zIndex(0);}}},drawVisualHint:function(){var $0;for(var $1=0;$1<this._scUserActions.iNoOfHints;$1++){if(!this._scUserActions.scVisualHint[$1].rcVisualHintRectangle.get_isZero()){}$0=this._scUserActions.scVisualHint[$1].scVisualHintControlId;var $2=this.getControlFromCommandId(this.getCommandIdFromPageAndSeqNo($0.iPageNo,$0.iSequenceNo));if(ss.isValue($2)){var $3=(Kepler.Engine.UI.IVisualHint).isAssignableFrom(Type.getInstanceType($2));if($3){var $5=new Kepler.Engine.UI.VisualHintParams(this._scUserActions.scVisualHint[$1].iSelIndex);if((Kepler.Engine.UI.Controls.TabPage).isAssignableFrom(Type.getInstanceType($2))){$5.iIndex=$0.iPageNo-1;}($2).drawVisualHint($5);}else{$2.get_elementStyle()['outline']='2px solid red';$2.get_elementStyle()['outline-offset']='0px';$2.set_zIndex(1);}var $4=$2.get_parentWnd();if($4!=null){$4.sendMessage(Kepler.Engine.UI.Controls.Control.controL_MSG_HINT_SCROLL,null,$2);}}else{}}},showComboDropDown:function(bShowDropDown){if(this._iSimMode===4){if(bShowDropDown&&this._scUserActions.iPivotCount>0){var $0=this.getSeqNoFromControlId(this._scUserActions.$0[0][0].scControlId);if((this.g_OverrideStateRepository[$0]._iControlType===5&&this._scUserActions.$0[0][0].iIndexVal>-1)||this.g_OverrideStateRepository[$0]._iControlType===4){var $1=this.getControlFromCommandId(this.g_OverrideStateRepository[$0]._iCommandId);$1.showList();}else if(this.g_OverrideStateRepository[$0]._iControlType===12){var $2=this.getControlFromCommandId(this.g_OverrideStateRepository[$0]._iCommandId);$2.launchMenu();}else if(this.g_OverrideStateRepository[$0]._iControlType===18&&(this._scUserActions.$0[0][0].sContents!=='-1'&&!String.isNullOrEmpty(this._scUserActions.$0[0][0].sContents))){var $3=this.getControlFromCommandId(this.g_OverrideStateRepository[$0]._iCommandId);$3.launchMenu();}}else{for(var $4=0;$4<this.maX_REPOSITORY_ITEMS;$4++){if(this.g_OverrideStateRepository[$4]._iControlType===5||this.g_OverrideStateRepository[$4]._iControlType===4){var $5=this.getControlFromCommandId(this.g_OverrideStateRepository[$4]._iCommandId);if(!ss.isNull($5)){$5.sendMessage(Kepler.Engine.UI.Controls.Control.msG_HIDE_CTRL,null,null);}}}}}},getControlFromCommandId:function(iCommandId){if(iCommandId===-1){return null;}if(Type.getInstanceType(this.get_client())!==Kepler.Engine.UI.Controls.TabBaseControl){var $0=this.get_client().get_controls();for(var $1=0;$1<$0.length;$1++){var $2=$0[$1];if(ss.isValue($2)&&(Type.getInstanceType($2)===Kepler.Engine.UI.Controls.ContainerControl||Type.getInstanceType($2).get_baseType()===Kepler.Engine.UI.Controls.ContainerControl)){var $3=($2).get_controls();for(var $4=0;$4<$3.length;$4++){var $5=$3[$4];if(ss.isValue($5)&&iCommandId===$5.get_id()){return $5;}}}if(iCommandId===$2.get_id()){return $2;}else if(Type.getInstanceType($2)===Kepler.Engine.UI.Controls.ContainerControl||Type.getInstanceType($2).get_baseType()===Kepler.Engine.UI.Controls.ContainerControl){var $6=($2).get_controls();for(var $7=0;$7<$6.length;$7++){var $8=$6[$7];if(ss.isValue($8)&&iCommandId===$8.get_id()){return $8;}}}}}return null;},getCommandIdFromPageAndSeqNo:function(iPageNo,iSeqNo){var $0=Kepler.Framework.Core.Globals.invaliD_VALUE;for(var $1=0;$1<this.maX_REPOSITORY_ITEMS;$1++){if((this.g_BaseStateRepository[$1]._scControlId.iPageNo===iPageNo)&&(this.g_BaseStateRepository[$1]._scControlId.iSequenceNo===iSeqNo)){$0=this.g_BaseStateRepository[$1]._iCommandId;break;}}return $0;},getPageAndSeqNoOfCommandId:function(commandId){for(var $0=0;$0<this.maX_REPOSITORY_ITEMS;$0++){if(this.g_BaseStateRepository[$0]._iCommandId===commandId){return this.g_BaseStateRepository[$0]._scControlId;}}return null;},resetOverrideArrayToBase:function(){for(var $0=0;$0<this.maX_REPOSITORY_ITEMS;$0++){this.g_OverrideStateRepository[$0].equalTo(this.g_BaseStateRepository[$0]);}if(this._iSimMode!==1){this.initControls();}},getControlTypeFromCommandId:function(iCommandId){for(var $0=0;$0<this.maX_REPOSITORY_ITEMS;$0++){if(iCommandId===this.g_BaseStateRepository[$0]._iCommandId){return this.g_BaseStateRepository[$0]._iControlType;}}return -1;},getCancelButtonCtrlID:function(){return this.get_client().getCancelButtonCtrlId();},getSeqNoFromControlId:function(controlID){var $0=Kepler.Framework.Core.Globals.invaliD_VALUE;for(var $1=0;$1<this.maX_REPOSITORY_ITEMS;$1++){if(controlID.equals(this.g_BaseStateRepository[$1]._scControlId)){$0=$1;break;}}return $0;},show:function(bShow){if(!bShow){this.$6_8=null;}if(this.get_visible()!==bShow){for(var $0=0;$0<this.g_BaseStateRepository.length;$0++){if(this.g_BaseStateRepository[$0]._iControlType===17){var $1=this.getControlFromCommandId(this.g_BaseStateRepository[$0]._iCommandId);if(ss.isValue($1)){$1.sendMessage('msg_dialog_showhide',bShow,this);}}}if(bShow&&this.get_paneDialog()){this.setTitle(this.get_name());(this.get_frame()).updateFrameBtnCss(Kepler.Engine.Core.EngineApp.get_engine().get_currentApp().get_appName());}}if(this.get_allowAnimation()){Kepler.Engine.UI.KeplerDialog.callBaseMethod(this, 'show',[bShow]);if(bShow){Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this.get_element(),'fadeInAnim');}else{Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(this.get_element(),'fadeInAnim');this.get_element().style.opacity='1';this.set_allowAnimation(false);}}else{Kepler.Engine.UI.KeplerDialog.callBaseMethod(this, 'show',[bShow]);this.get_element().style.opacity='1';}},fillDynamicEventData:function(){if(this.$6_15!=null){return this.$6_15.fillDynamicShowMeEventData();}return null;},onMsgLoadDialogData:function(wParam,lParam){try{this.set_parseWIP(true);this._mapFrameData=wParam;if(ss.isNullOrUndefined(this._mapFrameData)){return null;}this._bDummyFrame=lParam;this.resetOverrideArrayToBase();if(this._bDummyFrame){this.parseFrameTags();var $0=this.getCancelButtonCtrlID();this._scUserActions.iPivotCount=1;this._scUserActions.iConditionCount[0]=Kepler.Framework.Core.Globals.invaliD_VALUE;this._scUserActions.iFrameToJump[0]=Kepler.Framework.Core.Globals.invaliD_VALUE;this._scUserActions.scPivotInfo[0]=$0;this._iSimMode=1;this.getDataFromView();}else{this.getDataFromView();this.parseFrameTags();}if(this._iSimMode!==1){this.confirmDialogBoundsInView();}this.initControls();}finally{this.set_parseWIP(false);this.set_WIP(false);}if(!String.isNullOrEmpty(this.get_name())){Kepler.Framework.Accessibility.AccessibilitySupport.get_instance().set_dontSkipText(this.get_name()+'  window. ');}return null;},$6_17:function($p0,$p1){this.setCorrectFocus();return null;},onMsgHandleAltKeyNavigation:function(wParam,lParam){var $0=wParam;if($0.get_ctrlKey()){return false;}var $1=$0.get_target();if($0.get_key()!==Kepler.Framework.UI.Events.EventArgsNs.Keys.space){var $2=this.getFocus();if(Type.canCast($2,Kepler.Engine.UI.Controls.TabNavigatorBase)){$2=($2.get_parent()).get_activeTab();}var $3=this.$6_19($2);var $4;if($3===this.maX_REPOSITORY_ITEMS-1){$4=0;}else{$4=$3+1;}while(true){var $5=this.g_OverrideStateRepository[$4];if(!$5._iAccelerator.toString().compareTo(String.fromCharCode($0.get_key()))){var $6=this.getControlFromCommandId($5._iCommandId);if(this.$6_18($6)){return true;}}if(($4===$3)){break;}if($4===this.maX_REPOSITORY_ITEMS-1){$4=0;}else{$4++;}}}else{if(Type.canCast(this.get_frame(),Kepler.Engine.UI.DialogFrame)&&$0.get_altKey()){$0.set_defaultPrevented(true);$0.set_propogationStopped(true);var $7=new Kepler.Framework.UI.Rect(this.get_frame().get_frameBorder().get_left(),this.get_frame().get_titleBarHeight(),1,1);$7.set_top($7.get_top()+this.get_clientRect().get_top());$7.set_left($7.get_left()+this.get_clientRect().get_left());this.$6_1A($7,null);return true;}}return false;},$6_18:function($p0){if(ss.isValue($p0)){var $0=null;if((Kepler.Engine.UI.DialogTabBaseClient).isInstanceOfType(this.get_client())){$0=(this.get_client()).get_tabControl().get_activeTab();}else if((Kepler.Engine.UI.DialogWizardTabClient).isInstanceOfType(this.get_client())){$0=(this.get_client()).get_tabControl().get_activeTab();}if(($p0.get_visible()&&$p0.get_enable()&&$p0.get_parent().get_visible())&&($0==null||($0!=null&&$0.containsNestedControl($p0))||Type.canCast($p0.get_parent(),Kepler.Engine.UI.DialogClient)||Type.canCast($p0.get_parent().get_parent(),Kepler.Engine.UI.DialogClient))||(Kepler.Engine.UI.Controls.TabPage).isInstanceOfType($p0)){if((Kepler.Engine.UI.Controls.TabPage).isInstanceOfType($p0)){var $1=(this.get_client()).get_tabControl();$1.setActiveTab($p0);$1.setFocus();}else{$p0.setFocus();if(Type.getInstanceType($p0)===Kepler.Engine.UI.Controls.ComboCtrl){($p0).showList();}else if(Type.getInstanceType($p0)===Kepler.Engine.UI.Controls.ComboColorButton){($p0).launchMenu();}else if((Kepler.Engine.UI.Controls.SplitButton).isInstanceOfType($p0)&&($p0).get_mode()===1){($p0).launchMenu();}else if((Kepler.Engine.UI.Controls.MenuButton).isInstanceOfType($p0)){($p0).launchMenu();}else{var $2=Type.getInstanceType($p0);var $3=(Kepler.Engine.UI.Controls.ButtonBase).get_fullName();var $4=false;while(ss.isValue($2)){var $5=$2.get_fullName();if($5===$3){($p0).setClickOnAltKeyFocus();$4=true;break;}$2=$2.get_baseType();}if(!$4){this.get_client().sendMessage('msg_handle_custom_alt_key_focus',$p0,null);}}}return true;}}return false;},$6_19:function($p0){while($p0!=null&&!(Type.canCast($p0,Kepler.Engine.UI.DialogBase))){var $enum1=ss.IEnumerator.getEnumerator(this.g_OverrideStateRepository);while($enum1.moveNext()){var $0=$enum1.current;if($0._iCommandId===$p0.get_id()){return this.g_OverrideStateRepository.indexOf($0);}}$p0=$p0.get_parent();}return 0;},$6_1A:function($p0,$p1){if(this.get_simMode()===1){var $0='msg_show_menu';var $1=$p0;var $2=Kepler.Engine.Core.EngineApp.get_engine().get_currentApp();var $3=new Kepler.Engine.UI.MenuWnd_MenuParams(this,this.$6_4,0,$1,null);$3.setPositioningOrder(5);$2.getAppFrame().sendMessage($0,null,$3);}return null;},$6_1B:function($p0,$p1){var $0=$p0;if(ss.isValue($0)){var $1=new RegExp('\\<[^\\>]*\\>');var $2=$0.get_text();while($2.search($1)!==-1){$2=$2.replace($1,'');}if($2.startsWith('Close')){var $3=this.getCancelButtonCtrlID();if($3!=null){this.set_isCancleBtnClicked(false);var $4=this.getControlFromCommandId(this.getCommandIdFromPageAndSeqNo($3.iPageNo,$3.iSequenceNo));var $5=new Kepler.Framework.UI.Controls.OnCommandStruct($p0,Kepler.Framework.UI.Controls.NotificationCode.dialoG_CLOSE);if(this.get_paneDialog()){this.get_client().postMessage(Kepler.Engine.UI.Controls.Control.msG_COMMAND,$5,$4);}else{var $6=this.get_client().sendMessage(Kepler.Engine.UI.Controls.Control.msG_COMMAND,$5,$4);if(!$6){this.get_client().sendMessage(Kepler.Engine.UI.DialogBase.msG_DIALOG_CLOSE,null,null);}}}else{this.get_client().sendMessage(Kepler.Engine.UI.DialogBase.msG_DIALOG_CLOSE,null,null);}}else{this.$6_6=true;this.initControls();this.$6_6=false;this.sendMsgToEngine(false,['Clicked '+$0.get_text()],-1);}return true;}return false;},onPretranslateEvent:function(sender,eventArgs){var $0=false;if(!(Kepler.Engine.UI.DialogBaseFrame).isInstanceOfType(sender)){if(Kepler.Engine.Core.EngineApp.get_engine().isHintFreeNavigation()){$0=false;}else{$0=this.sendMessage('msg_block_or_transmit_action_in_tut',eventArgs,sender);}}if($0){return true;}if(eventArgs.get_type()===Kepler.Framework.UI.Events.EventArgsNs.EventType.keyDown||eventArgs.get_type()===Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseDown){if(!!this.get_visible()){this.$6_8=sender;}}if(eventArgs.get_type()===Kepler.Framework.UI.Events.EventArgsNs.EventType.keyDown||eventArgs.get_type()===Kepler.Framework.UI.Events.EventArgsNs.EventType.keyUp){var $1=eventArgs;var $2=false;if(eventArgs.get_type()===Kepler.Framework.UI.Events.EventArgsNs.EventType.keyUp){if(this.$6_8===sender){switch($1.get_key()){case Kepler.Framework.UI.Events.EventArgsNs.Keys.returnKey:if(!Kepler.Engine.Core.EngineApp.get_engine().get_applicationMode()){$2=this.$6_1C(sender);this.$6_8=sender;}break;}}this.$6_8=null;}else{if((eventArgs).get_key()===Kepler.Framework.UI.Events.EventArgsNs.Keys.f7&&(eventArgs).get_ctrlKey()&&!(eventArgs).get_shiftKey()&&!(eventArgs).get_altKey()){var $3=this.getFocus();if((Kepler.Engine.UI.Controls.DropDownListCtrl).isInstanceOfType($3)||(Kepler.Engine.UI.Controls.MultiColListCtrl).isInstanceOfType($3)){$3=($3).get_parent();}return Kepler.Engine.Core.EngineApp.get_engine().get_$1_D().getAppFrame().sendMessage('msg_set_focus_on_player',$3,this);}switch($1.get_key()){case Kepler.Framework.UI.Events.EventArgsNs.Keys.f4:case Kepler.Framework.UI.Events.EventArgsNs.Keys.escape:if($1.get_ctrlKey()||(!$1.get_altKey()&&$1.get_key()===Kepler.Framework.UI.Events.EventArgsNs.Keys.f4)||($1.get_altKey()&&$1.get_key()===Kepler.Framework.UI.Events.EventArgsNs.Keys.escape)){break;}var $4=this.getFocus();if(!(Kepler.Engine.UI.Controls.DropDownListCtrl).isInstanceOfType($4)||($1.get_altKey()&&$1.get_key()===Kepler.Framework.UI.Events.EventArgsNs.Keys.f4)){var $5=this.getCancelButtonCtrlID();var $6=this.getCommandIdFromPageAndSeqNo($5.iPageNo,$5.iSequenceNo);var $7=this.getControlFromCommandId($6);if(ss.isValue($7)){this.set_isCancleBtnClicked(false);var $8=new Kepler.Framework.UI.Controls.OnCommandStruct(null,Kepler.Framework.UI.Controls.NotificationCode.buttoN_CLICK);$7.get_parent().sendMessage(Kepler.Engine.UI.Controls.Control.msG_COMMAND,$8,$7);$2=true;}}break;default:if(($1.get_altKey()||(Kepler.Engine.UI.Controls.ButtonBase).isInstanceOfType(this.getFocus()))&&$1.get_key()!==Kepler.Framework.UI.Events.EventArgsNs.Keys.menu){$2=this.sendMessage('handle_key_navigation',$1,this);}break;}}if($2){return true;}}return Kepler.Engine.UI.KeplerDialog.callBaseMethod(this, 'onPretranslateEvent',[sender,eventArgs]);},$6_1C:function($p0){var $0=this.getFocus();var $1=new Kepler.Framework.UI.Controls.OnCommandStruct(null,Kepler.Framework.UI.Controls.NotificationCode.buttoN_CLICK);var $2=false;var $3=this.getControlTypeFromCommandId($0.get_id());if($3===7){$0.get_parent().sendMessage(Kepler.Engine.UI.Controls.Control.msG_COMMAND,$1,$0);$2=true;}else{var $4=this.getControlFromCommandId(this.get_defaultButtonID());if(!(Type.getInstanceType($0)===Kepler.Engine.UI.Controls.ComboColorButton||(Type.getInstanceType($0)===Kepler.Engine.UI.Controls.RichTextBox)||(Type.getInstanceType($0)===Kepler.Engine.UI.Controls.ColorSelectorCtrl))&&$4!=null&&$4.get_enable()){$4.setFocus();$4.get_parent().sendMessage(Kepler.Engine.UI.Controls.Control.msG_COMMAND,$1,$4);$2=true;}}return $2;},$6_1D:function($p0,$p1){if(this.get_paneDialog()){this.get_frame().sendMessage(Kepler.Engine.UI.DialogBaseFrame.msG_RESET_FRAME_BTN_STATE,null,null);}return null;}}
Kepler.Engine.UI.KeplerMetroDbFlipAnimationCtrl=function(oPosition,oSize){Kepler.Engine.UI.KeplerMetroDbFlipAnimationCtrl.initializeBase(this,['div','flip_3d_animation'+Kepler.Engine.UI.Controls.Control.csS_CLASS_POSITION_ABSOLUTE,'flip_ctrl']);this.set_position(oPosition);this.$3_7();this.$3_8();this.get_element().style.visibility='hidden';this.get_element().style.zIndex=1;this.$3_5=false;this.$3_6=false;}
Kepler.Engine.UI.KeplerMetroDbFlipAnimationCtrl.prototype={$3_0:null,$3_1:null,$3_2:null,$3_3:null,$3_4:null,$3_5:false,$3_6:false,$3_7:function(){this.$3_1=document.createElement('div');this.$3_2=document.createElement('div');this.$3_1.className=this.$3_2.className='flip-3d-side';Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this.$3_1,'flip-3d-front');Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this.$3_2,'flip-3d-back');this.$3_3=document.createElement('div');this.$3_4=document.createElement('div');this.$3_0=document.createElement('div');this.$3_0.className='flip-3d-container';},$3_8:function(){this.$3_0.appendChild(this.$3_2);this.$3_0.appendChild(this.$3_1);this.$3_1.appendChild(this.$3_3);this.$3_2.appendChild(this.$3_4);this.get_element().appendChild(this.$3_0);},setFrontDivStyle:function(oPoint,oSize,bgColor,oimgSize,img,strImgPosition){if(!(ss.isNull(oPoint)||ss.isNull(oSize))){this.$3_5=true;Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this.$3_2,'flip-3d-back');Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(this.$3_2,'flip-3d-back-normal');Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(this.$3_0,'flip-3d-container_scale');this.$3_1.style.left=oPoint.get_x()+'px';this.$3_1.style.top=oPoint.get_y()+'px';this.$3_1.style.width=oSize.get_width()+'px';this.$3_1.style.height=oSize.get_height()+'px';this.$3_1.style.backgroundColor=bgColor.toString();this.$3_3.style.width=oimgSize.get_width()+'px';this.$3_3.style.height=oimgSize.get_height()+'px';if(!ss.isNullOrUndefined(strImgPosition)){this.$3_3.style.backgroundImage='url(desktop/res/'+img+')';if(!ss.isNull(strImgPosition)){this.$3_3.style.backgroundPosition=strImgPosition;}}else{Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this.$3_3,img);}this.$3_3.style.left='50%';this.$3_3.style.top='50%';this.$3_3.style.marginLeft=-(oimgSize.get_width()/2)+'px';this.$3_3.style.marginTop=-(oimgSize.get_height()/2)+'px';this.$3_3.style.position='absolute';}else{this.$3_5=false;this.$3_1.style.visibility='hidden';Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this.$3_2,'flip-3d-container_scale');if(!this.$3_6){Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this.$3_2,'flip-3d-back-normal');}else{Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this.$3_2,'flip-3d-back-normal_ie');}Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(this.$3_2,'flip-3d-back');}},setBackDivStyle:function(oPoint,oSize,bgColor,oimgSize,img,strImgPosition){this.$3_2.style.width=this.get_element().style.width=this.$3_0.style.width=oSize.get_width()+'px';this.$3_2.style.height=this.get_element().style.width=this.$3_0.style.height=oSize.get_height()+'px';this.$3_2.style.backgroundColor=bgColor.toString();this.$3_4.style.width=oimgSize.get_width()+'px';this.$3_4.style.height=oimgSize.get_height()+'px';if(!ss.isNullOrUndefined(strImgPosition)){this.$3_4.style.backgroundImage='url(desktop/res/'+img+')';if(!ss.isNull(strImgPosition)){this.$3_4.style.backgroundPosition=strImgPosition;}}else{Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this.$3_4,img);}this.$3_4.style.left='50%';this.$3_4.style.top='50%';this.$3_4.style.marginLeft=-(oimgSize.get_width()/2)+'px';this.$3_4.style.marginTop=-(oimgSize.get_height()/2)+'px';this.$3_4.style.position='absolute';},startAnimation:function(){if(this.$3_5&&this.$3_0.className.indexOf('flipped')===-1){this.get_element().style.visibility='visible';if(!this.$3_6){Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this.$3_0,'flipped');}else{Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this.$3_2,'flipped_back_ie');Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this.$3_1,'flipped_front_ie');}}else if(!this.$3_5&&this.$3_0.className.indexOf('flipped-normal')===-1){this.get_element().style.visibility='visible';if(!this.$3_6){Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this.$3_0,'flipped-normal');Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this.$3_2,'flip-3d-back-flip');}else{Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this.$3_0,'flipped-normal_ie');Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this.$3_2,'flip-3d-back-flip_ie');}}window.setTimeout(ss.Delegate.create(this,function(){
this.sendMessageToParent('Msg_animation_over',null,this);}),1500);},$3_9:function(){this.get_elementStyle().visibility='hidden';if(!this.$3_6){Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(this.$3_0,'flipped');Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(this.$3_0,'flipped-normal');Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(this.$3_2,'flip-3d-back-flip');}else{Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(this.$3_2,'flipped_back_ie');Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(this.$3_1,'flipped_front_ie');Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(this.$3_0,'flipped-normal_ie');Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(this.$3_2,'flip-3d-back-flip_ie');}},onParentResized:function(szParent){this.set_size(szParent);},$3_A:function($p0){this.$3_6=true;}}
Kepler.Engine.UI.KeplerMetroDialog=function(strId,strDialogName,oTypeDialogClient,bPaneDialog,oDialogFrameType,oDialogBaseFrame,strClassName){Kepler.Engine.UI.KeplerMetroDialog.initializeBase(this,[strId,strDialogName,oTypeDialogClient,bPaneDialog,oDialogFrameType,oDialogBaseFrame,strClassName]);this.$6_1E=new Kepler.Engine.UI.KeplerMetroDbFlipAnimationCtrl(new Kepler.Framework.UI.Point(0,0),this.get_size());this._bIsShowScrollar=false;this.$6_29();this.$6_2A();this._oRightClickTopPane=null;this._oRightClickBottomPane=null;this.set_defaultDialogType(Kepler.Engine.UI.DialogType.modeless);this._bIsApp=true;}
Kepler.Engine.UI.KeplerMetroDialog.prototype={$6_1E:null,$6_1F:null,$6_20:null,get_frontIconImage:function(){return this.$6_20;},set_frontIconImage:function(value){this.$6_20=value;return value;},$6_21:null,get_backIconImage:function(){return this.$6_21;},set_backIconImage:function(value){this.$6_21=value;return value;},$6_22:null,get_bgColor:function(){return this.$6_22;},set_bgColor:function(value){this.$6_22=value;return value;},$6_23:null,get_imgFrontSize:function(){return this.$6_23;},set_imgFrontSize:function(value){this.$6_23=value;return value;},$6_24:null,get_imgBackSize:function(){return this.$6_24;},set_imgBackSize:function(value){this.$6_24=value;return value;},$6_25:null,get_frontImgPosition:function(){return this.$6_25;},set_frontImgPosition:function(value){this.$6_25=value;return value;},$6_26:null,get_backImgPosition:function(){return this.$6_26;},set_backImgPosition:function(value){this.$6_26=value;return value;},$6_27:null,get_frontImageClass:function(){return this.$6_27;},set_frontImageClass:function(value){this.$6_27=value;return value;},$6_28:null,get_backImageClass:function(){return this.$6_28;},set_backImageClass:function(value){this.$6_28=value;return value;},_oRightClickTopPane:null,_oRightClickBottomPane:null,iSettingWndId:0,iSharedWndId:0,iDevicesWndId:0,get_communicationData:function(){return new Kepler.Engine.UI.AppPaneCommunication(this.iSettingWndId,this.iSharedWndId,this.iDevicesWndId);},$6_29:function(){this.add(this.$6_1E,this.get_container().get_element());},$6_2A:function(){this.attachMessage('Msg_animation_over',ss.Delegate.create(this,this.onAnimationOver));},setAnimationStyle:function(color,oFrontImgSize,oBackImgSize,strFrontImg,strFrontImgPosition){this.set_bgColor(color);this.set_imgFrontSize(oFrontImgSize);this.set_imgBackSize(oBackImgSize);if(!ss.isNullOrUndefined(strFrontImgPosition)){this.set_frontImgPosition(strFrontImgPosition);this.set_frontIconImage(strFrontImg);}else{this.set_frontImageClass(strFrontImg);}},setBackImageStyle:function(strBackImg,strBackImgPosition){if(!ss.isNullOrUndefined(strBackImgPosition)){this.set_backImgPosition(strBackImgPosition);this.set_backIconImage(strBackImg);}else{this.set_backImageClass(strBackImg);}},startFlipAnimation:function(){this.$6_1F=(Kepler.Engine.Core.EngineApp.get_engine().get_desktopApp()).getLauncherInterface().getLastAppRect();this.$6_1E.$3_A(Kepler.Framework.Core.Browser.BrowserCapabilities.get_name()===Kepler.Framework.Core.Browser.BrowserName.internetExplorer);if(!(ss.isNull(this.get_bgColor())||ss.isNull(this.get_imgFrontSize())||ss.isNull(this.get_imgBackSize()))){if(!ss.isNullOrUndefined(this.$6_1F)){if(!ss.isNullOrUndefined(this.get_frontImgPosition())){this.$6_1E.setFrontDivStyle(new Kepler.Framework.UI.Point(this.$6_1F.get_left(),this.$6_1F.get_top()),new Kepler.Framework.UI.Size(this.$6_1F.get_width(),this.$6_1F.get_height()),this.get_bgColor(),this.get_imgFrontSize(),this.get_frontIconImage(),this.get_frontImgPosition());}else{this.$6_1E.setFrontDivStyle(new Kepler.Framework.UI.Point(this.$6_1F.get_left(),this.$6_1F.get_top()),new Kepler.Framework.UI.Size(this.$6_1F.get_width(),this.$6_1F.get_height()),this.get_bgColor(),this.get_imgFrontSize(),this.get_frontImageClass());}}else{if(!ss.isNullOrUndefined(this.get_frontImgPosition())){this.$6_1E.setFrontDivStyle(null,null,this.get_bgColor(),this.get_imgFrontSize(),this.get_frontIconImage(),this.get_frontImgPosition());}else{this.$6_1E.setFrontDivStyle(null,null,this.get_bgColor(),this.get_imgFrontSize(),this.get_frontImageClass());}}if(!ss.isNullOrUndefined(this.get_backImgPosition())){this.$6_1E.setBackDivStyle(new Kepler.Framework.UI.Point(0,0),this.get_size(),this.get_bgColor(),this.get_imgBackSize(),this.get_backIconImage(),this.get_backImgPosition());}else{this.$6_1E.setBackDivStyle(new Kepler.Framework.UI.Point(0,0),this.get_size(),this.get_bgColor(),this.get_imgBackSize(),this.get_backImageClass());}this.show(false);this.$6_1E.startAnimation();}},onAnimationOver:function(wParam,lParam){this.show(true);this.$6_1E.$3_9();return null;},parseFrameTags:function(){var $0=this._mapFrameData['show_animation'];Kepler.Engine.UI.KeplerMetroDialog.callBaseMethod(this, 'parseFrameTags');if(!ss.isNull($0)&&$0==='1'){this.startFlipAnimation();}},onLoad:function(){Kepler.Engine.UI.KeplerMetroDialog.callBaseMethod(this, 'onLoad');},onParentResized:function(szParent){if(!this._bHandleParentResize){return;}Kepler.Engine.UI.KeplerMetroDialog.callBaseMethod(this, 'onParentResized',[szParent]);this.set_size(szParent);},onPretranslateEvent:function(sender,eventArgs){var $0=this.isControlWithinRightClickPane(sender);if(!$0){if(eventArgs.get_type()===Kepler.Framework.UI.Events.EventArgsNs.EventType.touchStart){if(this.isPaneVisible()){this.showHideRightClickPane(false);}}if(eventArgs.get_type()===Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseUp){if(this.isPaneVisible()){this.showHideRightClickPane(false);}else{var $1=eventArgs;if($1.get_button()===Kepler.Framework.UI.Events.EventArgsNs.MouseButton.right){this.showHideRightClickPane(true);}}}}return Kepler.Engine.UI.KeplerMetroDialog.callBaseMethod(this, 'onPretranslateEvent',[sender,eventArgs]);},isControlWithinRightClickPane:function(oSender){var $0=false;if(this._iSimMode!==1){$0=true;}else if(this.isPaneVisible()){var $1=oSender;if((this._oRightClickBottomPane!=null&&this._oRightClickBottomPane.containsNestedControl(oSender))||(this._oRightClickTopPane!=null&&this._oRightClickTopPane.containsNestedControl(oSender))){$0=true;}}return $0;},showHideRightClickPane:function(bShow){if(this._oRightClickBottomPane!=null){this._oRightClickBottomPane.showHidePane(bShow);}if(this._oRightClickTopPane!=null){this._oRightClickTopPane.showHidePane(bShow);}},isPaneVisible:function(){if(this._oRightClickBottomPane!=null){return this._oRightClickBottomPane.get_isVisible();}if(this._oRightClickTopPane!=null){return this._oRightClickTopPane.get_isVisible();}return false;},exitGestureManagerDraggingStarted:function(){this.showHideRightClickPane(false);},$6_2B:function(){var $0=Kepler.Engine.Core.EngineApp.get_engine().get_desktopApp().getAppView();var $1=new Kepler.Engine.UI.AppPaneCommunication(this.iSettingWndId,this.iSharedWndId,this.iDevicesWndId);$0.sendMessage(Kepler.Engine.UI.KeplerMetroDialog.msG_SHOW_DIALOG_PANE,$1,this);},show:function(bShow,bForceVisible){Kepler.Engine.UI.KeplerMetroDialog.callBaseMethod(this, 'show',[bShow,bForceVisible]);if(bShow){this.$6_2B();}}}
Kepler.Engine.UI.KeplerMetroDialogClient=function(){Kepler.Engine.UI.KeplerMetroDialogClient.initializeBase(this);this.set_dontAddScrollar(true);}
Kepler.Engine.UI.AppPaneCommunication=function(iSetting,iShared,iDevices){this.iSettingWndId=iSetting;this.iSharedWndId=iShared;this.iDevicesWndId=iDevices;}
Kepler.Engine.UI.AppPaneCommunication.prototype={iSettingWndId:123,iSharedWndId:123,iDevicesWndId:123}
Kepler.Engine.UI.MenuWnd_MenuParams=function(oLaunchFrom,iMenuNo,iDefActiveItem,rcLauncher,strLaunchFrom,iDefActiveSubItem){this._oLaunchFrom=oLaunchFrom;this._iMenuNo=iMenuNo;this._iDefaultActiveItem=iDefActiveItem;this._iDefaultActiveSubItem=iDefActiveSubItem;this._rcLauncher=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientRectWithRespectToDesktop(rcLauncher);this._strLaunchFrom=(!String.isNullOrEmpty(strLaunchFrom))?strLaunchFrom:'';this._rcSpace=Kepler.Engine.Core.EngineApp.get_engine().getDesktopViewRect();this._ePositioningOrder=[];this.setPositioningOrder(0);}
Kepler.Engine.UI.MenuWnd_MenuParams.prototype={_oLaunchFrom:null,_iMenuNo:0,_iDefaultActiveItem:null,_iDefaultActiveSubItem:null,_rcLauncher:null,_strLaunchFrom:null,_ePositioningOrder:null,_rcSpace:null,addPositioningOrder:function(ePositioning){this._ePositioningOrder.add(ePositioning);},setPositioningOrder:function(eOrderType){this._ePositioningOrder.clear();switch(eOrderType){case 2:case 4:this._ePositioningOrder.add(1);this._ePositioningOrder.add(2);break;case 3:case 5:this._ePositioningOrder.add(0);break;case 7:case 8:case 9:this._ePositioningOrder.add(0);this._ePositioningOrder.add(3);break;case 10:this._ePositioningOrder.add(4);break;case 0:case 6:default:this._ePositioningOrder.add(0);this._ePositioningOrder.add(1);this._ePositioningOrder.add(2);this._ePositioningOrder.add(3);break;}},setSpace:function(iLeft,iTop,iWidth,iHeight){if(ss.isValue(iLeft)&&!isNaN(iLeft)){this._rcSpace.set_left(iLeft);}if(ss.isValue(iTop)&&!isNaN(iTop)){this._rcSpace.set_top(iTop);}if(ss.isValue(iWidth)&&!isNaN(iWidth)){this._rcSpace.set_width(iWidth);}if(ss.isValue(iHeight)&&!isNaN(iHeight)){this._rcSpace.set_height(iHeight);}}}
Kepler.Engine.UI.KeyAction=function(eKey,bCtrlKey,bAltKey,bShiftKey,eEventType,eHandlerType,iActionId){this.eKey=eKey;this.$3=eEventType;this.$0=bCtrlKey;this.$1=bAltKey;this.$2=bShiftKey;this.eHandlerType=eHandlerType;this.iActionId=iActionId;}
Kepler.Engine.UI.KeyAction.prototype={$0:null,$1:null,$2:null,eKey:0,$3:0,eHandlerType:0,iActionId:0,getActionString:function(){var $0='Keyboard Command : ';if(this.$0){$0+='Ctrl,';}if(this.$2){$0+='Shift,';}if(this.$1){$0+='Alt,';}if($0.charAt($0.length-1)===','){$0=$0.substr(0,$0.length-1)+'+';}$0+=String.fromCharCode(this.eKey);return $0;},clone:function(){return new Kepler.Engine.UI.KeyAction(this.eKey,this.$0,this.$1,this.$2,this.$3,this.eHandlerType,this.iActionId);},fullFills:function(oActedKey){return (this.eKey===oActedKey.key&&this.$0===oActedKey.ctrl&&this.$1===oActedKey.alt&&this.$2===oActedKey.shift);}}
Kepler.Engine.UI.ActedKey=function(eKey,bShift,bAlt,bCtrl){this.key=eKey;this.shift=(ss.isValue(bShift))?bShift:false;this.alt=(ss.isValue(bAlt))?bAlt:false;this.ctrl=(ss.isValue(bCtrl))?bCtrl:false;}
Kepler.Engine.UI.ActedKey.prototype={shift:false,alt:false,ctrl:false,key:0,isEqual:function(oActedKey,bIgnoreCmdKeys){var $0=(ss.isValue(oActedKey))?this.key===oActedKey.key:false;if($0&&((ss.isValue(bIgnoreCmdKeys))?!bIgnoreCmdKeys:true)){$0=$0&&(this.shift===oActedKey.shift)&&(this.alt===oActedKey.alt)&&(this.ctrl===oActedKey.ctrl);}return $0;}}
Kepler.Engine.UI.Transparency_Animation=function(oCtrl,callback){this.$0=oCtrl;this.$1=callback;}
Kepler.Engine.UI.Transparency_Animation.prototype={_bAnimation:false,_iDistCur:0,_iDistTransparentAnim1:0,_iDistTransparentAnimX:0,_iDistOpaqueAnim1:0,_iDistOpaqueAnimX:0,_iDistVisibleAnim1:0,_iDistVisibleAnimX:0,_dTransparency:0,$0:null,$1:null,transparentControl:function(evt){var $0=Kepler.Engine.UI.Controls.Control.getFrameClientPointFromEventArgs(this.$0.get_element(),evt);var $1=this.$0.get_clientRect().clone();var $2=$0.get_x()<$1.get_left();var $3=$0.get_x()>$1.get_right();var $4=$0.get_y()<$1.get_top();var $5=$0.get_y()>$1.get_bottom();if($2){if($4){this._iDistCur=Math.round(Kepler.Engine.UI.Helper.CalcHelper.getDistance($0.toPointF(),$1.get_topLeft().toPointF()));}else if($5){this._iDistCur=Math.round(Kepler.Engine.UI.Helper.CalcHelper.getDistance($0.toPointF(),$1.get_bottomLeft().toPointF()));}else{this._iDistCur=$1.get_left()-$0.get_x();}}else if($3){if($5){this._iDistCur=Math.round(Kepler.Engine.UI.Helper.CalcHelper.getDistance($0.toPointF(),$1.get_bottomRight().toPointF()));}else if($4){this._iDistCur=Math.round(Kepler.Engine.UI.Helper.CalcHelper.getDistance($0.toPointF(),$1.get_topRight().toPointF()));}else{this._iDistCur=$0.get_x()-$1.get_right();}}else if($4){this._iDistCur=$1.get_top()-$0.get_y();}else if($5){this._iDistCur=$0.get_y()-$1.get_bottom();}var $6;var $7;var $8;if(this._bAnimation){$6=this._iDistVisibleAnim1;$7=this._iDistTransparentAnim1;$8=this._iDistOpaqueAnim1;}else{$6=this._iDistVisibleAnimX;$7=this._iDistTransparentAnimX;$8=this._iDistOpaqueAnimX;}if(this._iDistCur>$6){if(ss.isValue(this.$1)){this.$1();}}else if(this._iDistCur>$7){this.$0.get_elementStyle().opacity='0';}else{var $9;$9=this._iDistCur-$8;$9/=$7;this._dTransparency=1-$9;this.$0.get_elementStyle().opacity=this._dTransparency.toString();}}}
Kepler.Engine.UI.ActionStringDict=function(){}
Kepler.Engine.UI.DesktopWnd=function(oBorder){Kepler.Engine.UI.DesktopWnd.initializeBase(this,[Kepler.Engine.UI.Controls.Control.csS_CLASS_POSITION_ABSOLUTE+' desktopwnd','KEPLER_DESKTOP_LAYER']);if(Kepler.Engine.UI.DesktopWnd.$4_3!=null){throw new Error('Already Exists Exception : '+'Multiple objects of Desktop wnd created.');}Kepler.Engine.UI.DesktopWnd.$4_3=this;this.$4_D=oBorder;this.$4_C=new Kepler.Framework.UI.Rect(0,0,0,0);if(Kepler.Engine.Core.Lms.LmsApi.get_isEztoApiPresent()){this.changeMghMargin(2);}this.$4_4=Kepler.Engine.UI.Controls.Tooltip.TooltipManager.get_instance();this.$4_6=Kepler.Engine.UI.Engine$1D.get_$4_2();this.$4_5=new Kepler.Engine.UI.DialogManager();this.$4_A=[];this.$4_B=new Kepler.Framework.Core.Timers.Timer(ss.Delegate.create(this,this.$4_11),60000);this.get_element().setAttribute('role','presentation');this.get_element().setAttribute('aria-hidden',true);}
Kepler.Engine.UI.DesktopWnd.get_instance=function(){return Kepler.Engine.UI.DesktopWnd.$4_3;}
Kepler.Engine.UI.DesktopWnd.prototype={$4_4:null,get_tooltipManager:function(){return this.$4_4;},$4_5:null,get_dialogManager:function(){return this.$4_5;},$4_6:null,get_$4_7:function(){return this.$4_6;},$4_8:null,get_$4_9:function(){return this.$4_8;},$4_A:null,$4_B:null,$4_C:null,get_margin:function(){return this.$4_C;},$4_D:null,onLoad:function(){Kepler.Engine.UI.DesktopWnd.callBaseMethod(this, 'onLoad');this.$4_E();},$4_E:function(){this.add(this.$4_5);this.add(this.$4_4);this.add(this.$4_6);},$4_F:function(){this.get_element().appendChild(Kepler.Framework.Accessibility.AccessibilitySupport.get_instance().get_accessibilityElm1());this.get_element().appendChild(Kepler.Framework.Accessibility.AccessibilitySupport.get_instance().get_accessibilityElm2());this.get_element().appendChild(Kepler.Framework.Accessibility.AccessibilitySupport.get_instance().get_accessibilityElm3());},onParentResized:function(szParent){var $0=this.get_parent();var $1=$0.get_typingLayout();switch($0.get_typingLayout()){case 0:case 2:this.set_size(new Kepler.Framework.UI.Size(szParent.get_width()-this.$4_C.get_left()-this.$4_C.get_right(),szParent.get_height()-this.$4_C.get_top()-this.$4_C.get_bottom()));this.$4_D.reLayout(new Kepler.Framework.UI.Rect(0,0,szParent.get_width(),szParent.get_height()),this.$4_C);break;case 1:case 3:if(Kepler.Framework.Core.Browser.BrowserCapabilities.get_deviceType()===Kepler.Framework.Core.Browser.DeviceType.surface&&Kepler.Framework.Core.Browser.BrowserCapabilities.get_mode()!==Kepler.Framework.Core.Browser.BrowserMode.metro){this.set_size(new Kepler.Framework.UI.Size(szParent.get_width()-this.$4_C.get_left()-this.$4_C.get_right(),szParent.get_height()-this.$4_C.get_top()-this.$4_C.get_bottom()));}else{this.set_size(new Kepler.Framework.UI.Size(szParent.get_width()-this.$4_C.get_left()-this.$4_C.get_right(),szParent.get_height()-Kepler.Framework.Core.Browser.BrowserCapabilities.get_keyboardHeight()-this.$4_C.get_top()-this.$4_C.get_bottom()));}this.$4_D.reLayout(new Kepler.Framework.UI.Rect(0,0,szParent.get_width(),szParent.get_height()),this.$4_C);break;}},onSize:function(){this.$4_10();Kepler.Engine.UI.DesktopWnd.callBaseMethod(this, 'onSize');Kepler.Engine.UI.Helper.LaunchParams.docRect=this.get_clientRect();},changeTouchMargine:function(iMargin){if(Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()||(!Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()&&Kepler.Framework.Core.Browser.BrowserCapabilities.get_mode()===Kepler.Framework.Core.Browser.BrowserMode.metro)){this.$4_C.set_left(iMargin);this.$4_C.set_top(10);this.$4_C.set_right(iMargin);this.$4_C.set_bottom(5);this.set_position(new Kepler.Framework.UI.Point(this.$4_C.get_left(),this.$4_C.get_top()));}},changeMghMargin:function(iMargin){this.$4_C.set_left(iMargin);this.$4_C.set_top(iMargin);this.$4_C.set_right(iMargin);this.$4_C.set_bottom(iMargin);Kepler.Engine.UI.Helper.HtmlCssHelper.setStyleProperty(this.get_element(),'box-shadow',' 0px 0px  '+this.$4_C.get_left()+'px '+this.$4_C.get_top()+'px #5A5A5A');this.set_position(new Kepler.Framework.UI.Point(this.$4_C.get_left(),this.$4_C.get_top()));},setDesktopApp:function(oDesktopApp){if(this.$4_8!==oDesktopApp&&ss.isValue(this.$4_8)&&!this.$4_8.get_$1_A()){this.remove(this.$4_8.getAppFrame());}if(ss.isNullOrUndefined(oDesktopApp)){this.$4_8=null;}else{this.$4_8=oDesktopApp;this.add(this.$4_8.getAppFrame());if(this.$4_B!=null){this.$4_B.stop();this.$4_B=null;}if(this.$4_A!=null){var $enum1=ss.IEnumerator.getEnumerator(this.$4_A);while($enum1.moveNext()){var $0=$enum1.current;var $1=$0.$1.get_parent();if($1!=null){$1.remove($0.$1);var $2=(this.$4_8).insertApplication($0.$0,$0.$1);if(!$2){this.insert($0.$0,$0.$1);}}}}this.$4_5.onSetDesktopApp(this.$4_8);}},insertAppFrame:function(iIndex,oAppFrame){if(this.$4_8==null||(!(this.$4_8).insertApplication(iIndex,oAppFrame))){if(this.insert(iIndex,oAppFrame)){if(this.$4_A!=null){this.$4_A.add(new Kepler.Engine.UI.Engine$C(iIndex,oAppFrame));}}}},removeAppFrame:function(oAppFrame){if(this.$4_8==null||(!(this.$4_8).removeApplication(oAppFrame))){this.remove(oAppFrame);}if(this.$4_A!=null){var $0=[];var $enum1=ss.IEnumerator.getEnumerator(this.$4_A);while($enum1.moveNext()){var $1=$enum1.current;if($1.$1===oAppFrame){$0.add($1);}}var $enum2=ss.IEnumerator.getEnumerator($0);while($enum2.moveNext()){var $2=$enum2.current;this.$4_A.remove($2);}$0.clear();}},addElement:function(element){this.get_element().appendChild(element);},insertElement:function(iIndex,element){if(iIndex<this.get_element().children.length){this.get_element().insertBefore(element,this.get_element().children[iIndex]);}else{this.addElement(element);}},$4_10:function(){var $0=this.get_parent();var $1=$0.get_typingLayout();var $2=this.get_size();var $3=$0.get_playerAppFrame();var $4=$0.get_desktopAppFrame();var $5=$0.get_$4_11();var $6=null;if($3==null||$5==null){return;}$6=($4==null)?$5:$4;switch($1){case 0:if(Kepler.Engine.UI.UIManager.get_isPlayerAtTop()){$6.set_top(Kepler.Engine.UI.UIManager.playeR_CURRENT_HEIGHT);}var $8=[];$8.add(0);$8.add(0);Kepler.Engine.Core.EngineApp.get_engine().getPlayerAppFrame().sendMessage('msg_player_position_change',$8,this);$3.set_size(new Kepler.Framework.UI.Size($2.get_width(),Kepler.Engine.UI.UIManager.playeR_CURRENT_HEIGHT));$6.set_size(new Kepler.Framework.UI.Size($2.get_width(),$2.get_height()-Kepler.Engine.UI.UIManager.playeR_CURRENT_HEIGHT));break;case 1:case 3:$3.set_size(new Kepler.Framework.UI.Size($2.get_width(),Kepler.Engine.UI.UIManager.playeR_COMPACT_HEIGHT));$6.set_size(new Kepler.Framework.UI.Size($2.get_width(),$2.get_height()-Kepler.Engine.UI.UIManager.playeR_COMPACT_HEIGHT));break;case 2:$3.set_size(new Kepler.Framework.UI.Size($2.get_width(),Kepler.Engine.UI.UIManager.playeR_COMPACT_HEIGHT));if(Kepler.Framework.Core.Browser.BrowserCapabilities.get_deviceType()===Kepler.Framework.Core.Browser.DeviceType.surface&&Kepler.Framework.Core.Browser.BrowserCapabilities.get_mode()!==Kepler.Framework.Core.Browser.BrowserMode.metro){$6.set_size(new Kepler.Framework.UI.Size($2.get_width(),$2.get_height()-Kepler.Engine.UI.UIManager.playeR_COMPACT_HEIGHT));}break;}Kepler.Engine.UI.DesktopWnd.callBaseMethod(this, 'onSize');var $7=Kepler.Engine.Core.EngineApp.get_engine().getDesktopViewRect();if(this.get_position().get_y()<this.$4_C.get_top()){this.get_position().set_y(this.$4_C.get_top());}Kepler.Engine.Core.EngineApp.get_engine().$1_53($7.get_size());},$4_11:function(){this.$4_B.stop();this.$4_B=null;this.$4_A.clear();this.$4_A=null;}}
Kepler.Engine.UI.Engine$C=function(iIndex,oAppFrame){this.$0=iIndex;this.$1=oAppFrame;}
Kepler.Engine.UI.Engine$C.prototype={$0:0,$1:null}
Kepler.Engine.UI.Engine$1C=function(){Kepler.Engine.UI.Engine$1C.initializeBase(this,[null,null,document.getElementById('splashScreenDiv')]);}
Kepler.Engine.UI.BaseStatusBar=function(oAppFrame){Kepler.Engine.UI.BaseStatusBar.initializeBase(this,['status_bar','class_statusbar',oAppFrame.get_touchMode()]);this.set_rightClickEventNeeded(true);this._lstRbnItems=[];this._lstVisibleItems=[];this._strTaitPrefix='statusbar';this.set_strIDPrefix('stb');this.set_height((this._bTouchMode)?Ribbon.BaseRibbonManager.statusbaR_HEIGHT_TOUCH:Ribbon.BaseRibbonManager.statusbaR_HEIGHT_NORMAL);this.set_zIndex(Kepler.Framework.UI.Controls.ZIndexConstants.frame_Min);this.get_elementStyle().backgroundColor=oAppFrame.get_themeDetails().get_colorStatusBar();this.attachMessages();this.createParsers(oAppFrame);}
Kepler.Engine.UI.BaseStatusBar.prototype={_lstRbnItems:null,_lstVisibleItems:null,_oStatusbarParser:null,createParsers:function(oAppFrame){if((Kepler.Engine.UI.WeapAppFrame).isInstanceOfType(oAppFrame)){var $0=oAppFrame;var $1=$0.get_resourcePath()+Kepler.Engine.UI.BaseAppFrame.xmL_AUTOMATION_FILE;this._oStatusbarParser=new Kepler.Engine.UI.StatusBar.StatusbarParser($1);}},$4_17:function(){if(!this._oStatusbarParser.get_downloaded()||!this.get_loaded()||this._bParsingDone){return;}var $0=new Ribbon.XmlParser_ParentParam();$0.oRbnItem=null;$0.element=null;$0.oRbnContainer=this;this._oStatusbarParser.startXmlParsing('statusbar',$0);this.setInnerHtmlForStatusBar();this.parsingCompleted();},onLoad:function(){Kepler.Engine.UI.BaseStatusBar.callBaseMethod(this, 'onLoad');(this.get_parent()).getAppParser(ss.Delegate.create(this,this.statusBarDownloadComplete),ss.Delegate.create(this,this.statusBarDownloadFailed));},statusBarDownloadComplete:function(oParser){this._oStatusbarParser.set_xmlNode(oParser.get_xmlNode());this.$4_17();},statusBarDownloadFailed:function(oParser){},onPretranslateEvent:function(sender,eventArgs){if(eventArgs.get_categoryType()===Kepler.Framework.UI.Events.EventArgsNs.EventCategoryType.key){if(eventArgs.get_type()===Kepler.Framework.UI.Events.EventArgsNs.EventType.keyDown&&!Kepler.Engine.Core.EngineApp.get_engine().get_isShowMe()){if((eventArgs).get_key()===Kepler.Framework.UI.Events.EventArgsNs.Keys.f7&&(eventArgs).get_ctrlKey()&&!(eventArgs).get_shiftKey()&&!(eventArgs).get_altKey()){return Kepler.Engine.Core.EngineApp.get_engine().get_$1_D().getAppFrame().sendMessage('msg_set_focus_on_player',null,this);}}}return Kepler.Engine.UI.BaseStatusBar.callBaseMethod(this, 'onPretranslateEvent',[sender,eventArgs]);},setInnerHtmlForStatusBar:function(){this.get_elementStyle().backgroundColor=(this.get_parent()).get_themeDetails().get_colorStatusBar();var $enum1=ss.IEnumerator.getEnumerator(this._lstRbnItems);while($enum1.moveNext()){var $0=$enum1.current;this.get_element().appendChild($0.get_elementItem());}var $enum2=ss.IEnumerator.getEnumerator(this._lstRbnItems);while($enum2.moveNext()){var $1=$enum2.current;$1.invalidate();$1.get_elementItem().style.color=(this.get_parent()).get_themeDetails().get_colorStatusBarText();}},addItemToContainer:function(oRibbonItem){Kepler.Engine.UI.BaseStatusBar.callBaseMethod(this, 'addItemToContainer',[oRibbonItem]);var $0=oRibbonItem;if($0.get_rightAlign()){this._lstRbnItems.insert(0,$0);}else{this._lstRbnItems.add($0);}$0.set_visible($0.get_visible());if($0.get_visible()){this._lstVisibleItems.add($0.get_id());}},toggleTouchMode:function(bMode){Kepler.Engine.UI.BaseStatusBar.callBaseMethod(this, 'toggleTouchMode',[bMode]);this.set_height((bMode)?Ribbon.BaseRibbonManager.statusbaR_HEIGHT_TOUCH:Ribbon.BaseRibbonManager.statusbaR_HEIGHT_NORMAL);var $enum1=ss.IEnumerator.getEnumerator(this._lstRbnItems);while($enum1.moveNext()){var $0=$enum1.current;$0.toggleMode(bMode);}},setFocusOnRbnItem:function(oRbnItem,mouseEventArgs){if(ss.isValue(this._oFocusRbnItem)){this._oFocusRbnItem.changeState(Kepler.Framework.UI.Controls.EItemState.eNormal,this._oFocusRbnItem.get_elementItem());}this._oFocusRbnItem=oRbnItem;if(ss.isValue(this._oFocusRbnItem)){this._oFocusRbnItem.changeState(Kepler.Framework.UI.Controls.EItemState.eFocus,this._oFocusRbnItem.get_elementItem());}},setStatisticalInfo:function(mapItems,mapViewData){var $0='';var $1=null;var $2=new Ribbon.RibbonItemState();var $3={};var $4='';var $5=-1;var $dict1=mapItems;for(var $key2 in $dict1){var $6={key:$key2,value:$dict1[$key2]};$4=$6.key;$5=$6.value;$1=this._mapRibbonItem[$5];if(ss.isValue($1)){if(Object.keyExists(mapViewData,$4)){$0=mapViewData[$4];if($0==null){if($1.get_visible()){$1.set_visible(false);}}else{$2=this.getCurrentState($1.get_id());$2.set_enabled(1000);$2.set_checked(1000);$2.set_highlighted(1000);$2.set_text($0.toUpperCase());$3[$1.get_id()]=$2;if(!$1.get_visible()&&!(Object.keyExists(this._mapOverrideShowHideState,$5)&&!this._mapOverrideShowHideState[$5])){$1.set_visible(true);}}}}}this.setOverrides($3);var $dict3=$3;for(var $key4 in $dict3){var $7={key:$key4,value:$dict3[$key4]};this._mapTempOverrideState[$7.key]=$7.value;}},setViewTypeNormal:function(){var $0=null;var $1=null;var $2=this.getVisibleItemsForViewType();for(var $3=0;$3<this._lstRbnItems.length;$3++){$1=this._lstRbnItems[$3];if($3<4){$0=this._mapDefaultState[$1.get_id()];if($1.get_enabled()!==$0.get_enabled()){$1.set_enabled($0.get_enabled());}var $4=($0.get_checked()===1);if($1.get_checked()!==$4){$1.set_checked($4);$1.drawItem($1.get_elementItem());}}else{if(this._lstVisibleItems.contains($1.get_id())){if(!$1.get_visible()){$1.set_visible(true);}}else{if($1.get_visible()){if(Object.keyExists(this._mapOverrideShowHideState,$1.get_id())&&this._mapOverrideShowHideState[$1.get_id()]){$1.set_visible(true);}else{$1.set_visible(false);}}}}}},setViewTypeNoFile:function(){var $0=null;var $1=this.getVisibleItemsForViewType();for(var $2=0;$2<this._lstRbnItems.length;$2++){$0=this._lstRbnItems[$2];if($2<4){if(!!$0.get_enabled()){$0.set_enabled(0);}if(!!$0.get_checked()){$0.set_checked(false);$0.drawItem($0.get_elementItem());}}else{if($1.contains($0.get_id())){if(!$0.get_visible()){$0.set_visible(true);}}else{if($0.get_visible()){$0.set_visible(false);}}}}},getVisibleItemsForViewType:function(){return null;},attachMessages:function(){Kepler.Engine.UI.BaseStatusBar.callBaseMethod(this, 'attachMessages');this.attachMessage('msg_set_zoom',ss.Delegate.create(this,this.onMsgSetZoom));},onMsgSetZoom:function(wParam,lParam){return this.sendMessageToParent('msg_set_zoom',wParam,lParam);},$4_18:function(){var $0=this._oFocusRbnItem;if(ss.isNullOrUndefined($0)){$0=this.$4_1A();}if(ss.isValue($0)){var $1=false;if(Type.canCast($0,Kepler.Engine.UI.StatusBar.Items.StatusBarZoomCtrl)){$1=($0).setFocusOnNextItem();}if(!$1){$0=this.$4_1A();if(ss.isValue($0)){$0.setFocusOnItem();if(Type.canCast($0,Kepler.Engine.UI.StatusBar.Items.StatusBarZoomCtrl)){($0).setFocusOnNextItem();}}}}},$4_19:function(){var $0=this._oFocusRbnItem;if(ss.isNullOrUndefined($0)){$0=this.$4_1B();}if(ss.isValue($0)){var $1=false;if(Type.canCast($0,Kepler.Engine.UI.StatusBar.Items.StatusBarZoomCtrl)){$1=($0).setFocusOnPreviousItem();}if(!$1){$0=this.$4_1B();if(ss.isValue($0)){$0.setFocusOnItem();if(Type.canCast($0,Kepler.Engine.UI.StatusBar.Items.StatusBarZoomCtrl)){($0).setFocusOnPreviousItem();}}}}},$4_1A:function(){var $0=-1;var $1=null;if(ss.isValue(this._oFocusRbnItem)){$0=this._lstVisibleItems.indexOf(this._oFocusRbnItem.get_id());}do{$0++;if($0===this._lstVisibleItems.length){$0=0;}$1=this.getRibbonItemFromId(this._lstVisibleItems[$0]);if(ss.isNullOrUndefined($1)){break;}}while(!$1.get_focusable());return $1;},$4_1B:function(){var $0=this._lstVisibleItems.length;var $1=null;if(ss.isValue(this._oFocusRbnItem)){$0=this._lstVisibleItems.indexOf(this._oFocusRbnItem.get_id());}do{$0--;if($0<0){$0=this._lstVisibleItems.length-1;}$1=this.getRibbonItemFromId(this._lstVisibleItems[$0]);if(ss.isNullOrUndefined($1)){break;}}while(!$1.get_focusable());return $1;},getAriaSpeech:function(){var $0='';if(Type.canCast(this._oFocusRbnItem,Kepler.Engine.UI.StatusBar.Items.StatusBarZoomCtrl)){$0=(this._oFocusRbnItem).getAriaSpeechText();}if(!String.isNullOrEmpty($0)){return $0;}var $1=' button';if(Type.canCast(this._oFocusRbnItem,Kepler.Engine.UI.StatusBar.Items.StatusBarZoomCtrl)){$1='';}return Kepler.Engine.UI.BaseStatusBar.callBaseMethod(this, 'getAriaSpeech')+$1;},initialise:function(){this.$4_17();},onParentResized:function(size){this.set_width(size.get_width());},onFocus:function(oFocusedPrevControl){Kepler.Engine.UI.BaseStatusBar.callBaseMethod(this, 'onFocus',[oFocusedPrevControl]);Kepler.Framework.Accessibility.AccessibilitySupport.get_instance().set_dontSkipText('In Status bar');if(ss.isNullOrUndefined(this._oFocusRbnItem)){this._oFocusRbnItem=this.$4_1A();}if(ss.isValue(this._oFocusRbnItem)){this._oFocusRbnItem.setFocusOnItem();}},onLostFocus:function(oFocusedNewControl){Kepler.Engine.UI.BaseStatusBar.callBaseMethod(this, 'onLostFocus',[oFocusedNewControl]);if(ss.isValue(this._oFocusRbnItem)){this._oFocusRbnItem.changeState(Kepler.Framework.UI.Controls.EItemState.eNormal,this._oFocusRbnItem.get_elementItem());}},onKeyDown:function(oKeyEventArgs){this.hideTooltip();var $0=oKeyEventArgs.get_altKey();var $1=oKeyEventArgs.get_shiftKey();var $2=oKeyEventArgs.get_key();if(ss.isValue(this._oFocusRbnItem)&&($2===Kepler.Framework.UI.Events.EventArgsNs.Keys.space||$2===Kepler.Framework.UI.Events.EventArgsNs.Keys.enter||$2===Kepler.Framework.UI.Events.EventArgsNs.Keys.escape)){this._oFocusRbnItem.onKeyDown(oKeyEventArgs);}if(!$0){if($2===Kepler.Framework.UI.Events.EventArgsNs.Keys.right||$2===Kepler.Framework.UI.Events.EventArgsNs.Keys.down||($2===Kepler.Framework.UI.Events.EventArgsNs.Keys.tab&&!$1)){this.$4_18();}else if($2===Kepler.Framework.UI.Events.EventArgsNs.Keys.left||$2===Kepler.Framework.UI.Events.EventArgsNs.Keys.up||($2===Kepler.Framework.UI.Events.EventArgsNs.Keys.tab&&$1)){this.$4_19();}}}}
Kepler.Engine.UI.ThemeParser=function(strPath){Kepler.Engine.UI.ThemeParser.initializeBase(this,[strPath]);this._strDbgLogPrefix='[Weap Parser] ';this.addParserTagNameDelegate('theme',ss.Delegate.create(this,this.$14));}
Kepler.Engine.UI.ThemeParser.prototype={$14:function($p0,$p1){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'appname');var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'colornormal');var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'colornormallight');var $3=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'colornormaldark');var $4=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'colorhover');var $5=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'colorpressed');var $6=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'colorchecked');var $7=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'colorcheckedhover');var $8=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'colorcheckedbg');var $9=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'colorbar');var $A=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'colorbartext');var $B=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'colortabandheader');var $C=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'colorfilepagetext');var $D=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'colorfiletabhover');var $E=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'colorview');var $F=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'colorviewnormallight');var $10=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'colorviewnormaldark');var $11=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'colorviewhover');var $12=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'colorviewpressed');var $13=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'colorviewchecked');var $14=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'colorviewcheckedhover');var $15=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'colorviewpressedborder');var $16=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'colorstatusbar');var $17=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'colorstatusbarhover');var $18=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'colorstatusbartext');var $19=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'colorstatusbarchecked');var $1A=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'colorstatusbarcheckedhover');var $1B=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'colorsharebtnnormal');var $1C=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'colorsharebtnhover');var $1D=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'colorsharebtnpressed');var $1E=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'colorsharebtntext');var $1F=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'colorsharebtntextpressed');var $20=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'theme_type',0);var $21=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'menuitemcheckedstatebordercolor');var $22=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'menuitemcheckedstatebgcolor');var $23=$p0._oAppFrame.get_themeDetails();$23.set_appName($0);$23.set_colorNormal($1);$23.set_colorNormalDark($3);$23.set_colorNormalLight($2);$23.set_colorHover($4);$23.set_colorPressed($5);$23.set_colorChecked($6);$23.set_colorCheckedHover($7);$23.set_colorCheckedBG($8);$23.set_colorBar($9);$23.set_colorBarText($A);$23.set_colorTabAndHeader($B);$23.set_colorFilePageText($C);$23.set_colorFileTabHover($D);$23.set_colorView($E);$23.set_colorViewNormalDark($10);$23.set_colorViewNormalLight($F);$23.set_colorViewHover($11);$23.set_colorViewPressed($12);$23.set_colorViewChecked($13);$23.set_colorViewCheckedHover($14);$23.set_colorViewPressedBorder($15);$23.set_colorStatusBar($16);$23.set_colorStatusBarHover($17);$23.set_colorStatusBarChecked($19);$23.set_colorStatusBarText($18);$23.set_colorStatusBarCheckedHover($1A);$23.set_colorShareButtonNormal($1B);$23.set_colorShareButtonHover($1C);$23.set_colorShareButtonPressed($1D);$23.set_colorShareButtonText($1E);$23.set_colorShareButtonTextPressed($1F);$23.set_colorMenuItemCheckedStateBackground($22);$23.set_colorMenuItemCheckedStateBorder($21);$23.set_isParsingDone(true);$23.set_themeType($20);Kepler.Framework.UI.ThemeDetails.set_currentTheme($23);$p0._oAppFrame.get_themeDetails().clone($23);$p0._oAppFrame.themeParsingCompleteCallBack();}}
Kepler.Engine.UI.UIManagerMGHExcel=function(){Kepler.Engine.UI.UIManagerMGHExcel.initializeBase(this);}
Kepler.Engine.UI.UIManagerMGHExcel.prototype={showPreloadMsgBox:function(oTaskMaster){this._playerAppFrame.sendMessage('eONBeginAssignmentJump',null,null);this.onMsgBoxPreloadOK(1);},getMessageBoxStringAsPerMode:function(oTaskMaster){if(oTaskMaster.get_isPregrade()){return 'This mode is not supported with this content type.';}else{return Kepler.Engine.UI.UIManagerMGHExcel.callBaseMethod(this, 'getMessageBoxStringAsPerMode',[oTaskMaster]);}},onMsgHideKeyboard:function(wParam,lParam){Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.get_instance().show(false);return null;}}
Kepler.Engine.UI.UIManager=function(){this.$4_19=(Kepler.Engine.Core.Lms.LmsApi.get_isEztoApiPresent())?1000:0;Kepler.Engine.UI.UIManager.initializeBase(this,[Kepler.Engine.UI.Controls.Control.csS_CLASS_SELECTION_DISABLE,null,document.body]);this.$4_15=false;this.$4_1A=false;this.$4_1B=null;Kepler.Engine.UI.UIManager.$4_8=this;Kepler.Engine.UI.UIManager.$4_6=document.documentElement;this.$4_1F=ss.Delegate.create(this,this.$4_3D);this.$4_24=true;this.$4_B=new Kepler.Engine.UI.DesktopWndBorder();this.$4_A=new Kepler.Engine.UI.DesktopWnd(this.$4_B);this.$4_A.show(false);this.get_element().appendChild(this.$4_B.get_element());this.add(this.$4_A);Kepler.Engine.UI.UIManager.$4_27();this.$4_3F();this.$4_D=new Kepler.Engine.UI.Engine$1C();this.$4_D.set_showHideProperty(Kepler.Framework.UI.ShowHideProperty.display);if(Kepler.Engine.Core.Lms.LmsApi.get_isEztoApiPresent()){Kepler.Engine.UI.UIManager.playeR_NORMAL_HEIGHT=55;Kepler.Engine.UI.UIManager.playeR_COMPACT_HEIGHT=30;}this._msgBoxPreload=new Kepler.Engine.UI.Controls.MessageBox.MessageBox('Loaded...',1);(this._msgBoxPreload).show(true);this._msgBoxPreload.addBtnClickEventHandler(ss.Delegate.create(this,this.onMsgBoxPreloadOK));this.$4_22=false;this.$4_23=new Kepler.Engine.UI.VirtualTypingControl();this.$4_26();this.get_element().setAttribute('role','application');this.$4_25=false;}
Kepler.Engine.UI.UIManager.get_isPlayerAtTop=function(){return Kepler.Engine.UI.UIManager.$4_5;}
Kepler.Engine.UI.UIManager.set_isPlayerAtTop=function(value){Kepler.Engine.UI.UIManager.$4_5=value;return value;}
Kepler.Engine.UI.UIManager.get_zoomFactor=function(){return Kepler.Engine.UI.UIManager.$4_7/100;}
Kepler.Engine.UI.UIManager.get_instance=function(){return Kepler.Engine.UI.UIManager.$4_8;}
Kepler.Engine.UI.UIManager.get_persistKeyboardOnFrameJmp=function(){return Kepler.Engine.UI.UIManager.$4_C;}
Kepler.Engine.UI.UIManager.set_persistKeyboardOnFrameJmp=function(value){Kepler.Engine.UI.UIManager.$4_C=value;return value;}
Kepler.Engine.UI.UIManager.$4_27=function(){Kepler.Engine.UI.UIManager.$4_9=document.createElement('input');Kepler.Engine.UI.UIManager.$4_9.setAttribute('type','text');Kepler.Engine.UI.UIManager.$4_9.style.position=Kepler.Framework.Core.Browser.PositionStyle.strAbsolute;Kepler.Engine.UI.UIManager.$4_9.style.top='-100px';Kepler.Engine.UI.UIManager.$4_9.style.left='-100px';document.body.appendChild(Kepler.Engine.UI.UIManager.$4_9);}
Kepler.Engine.UI.UIManager.hideKeyboard=function(){if(Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()&&!Kepler.Engine.UI.UIManager.get_instance().get_dontHideKeyboard()){Kepler.Engine.Core.EngineApp.get_engine().get_uiMrg().sendMessage('msg_hide_keyboard',null,null);}}
Kepler.Engine.UI.UIManager.showKeyBoard=function(){if(Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){Kepler.Engine.Core.EngineApp.get_engine().get_uiMrg().sendMessage('msg_show_keyboard',null,null);}}
Kepler.Engine.UI.UIManager.resetCursor=function(){if(Kepler.Framework.Core.Browser.BrowserCapabilities.get_name()===Kepler.Framework.Core.Browser.BrowserName.chrome){Kepler.Engine.UI.UIManager.setCursor(Kepler.Framework.UI.Cursors.DEFAULT);}else{document.body.style.cursor=Kepler.Engine.UI.UIManager.$4_13=Kepler.Framework.UI.Cursors.DEFAULT;}}
Kepler.Engine.UI.UIManager.setCursor=function(strCursorName,bIsDataUri){if(ss.isNullOrUndefined(bIsDataUri)){bIsDataUri=false;}if(ss.isValue(strCursorName)&&Kepler.Engine.UI.UIManager.$4_13!==strCursorName){var $0=strCursorName.indexOf('.')>=0;if(!bIsDataUri){strCursorName=Kepler.Engine.Core.EngineApp.get_engine().get_taskMaster().getKeplerRelativePath(strCursorName);}if(Kepler.Framework.Core.Browser.BrowserCapabilities.get_name()===Kepler.Framework.Core.Browser.BrowserName.chrome){var $1='cursor_'+Kepler.Framework.Core.Helper.PathHelper.getFileNameWithoutExtension(Kepler.Engine.UI.UIManager.$4_13);var $2='cursor_'+Kepler.Framework.Core.Helper.PathHelper.getFileNameWithoutExtension(strCursorName);document.body.style.cursor='';var $3=$(document.body);$3.removeClass($1);if(bIsDataUri){document.body.style.cursor='url('+strCursorName+'), auto';}else if($0){$3.addClass($2);}else{document.body.style.cursor=strCursorName;}Kepler.Engine.UI.UIManager.$4_13=strCursorName;}else{Kepler.Engine.UI.UIManager.$4_13=strCursorName;if($0||bIsDataUri){document.body.style.cursor='url('+strCursorName+'),auto';}else{document.body.style.cursor=strCursorName;}}}}
Kepler.Engine.UI.UIManager.getDocumentWidth=function(){return Kepler.Engine.UI.UIManager.$4_6.clientWidth;}
Kepler.Engine.UI.UIManager.getDocumentHeight=function(){return Kepler.Engine.UI.UIManager.$4_6.clientHeight;}
Kepler.Engine.UI.UIManager.$4_43=function(){return false;}
Kepler.Engine.UI.UIManager.isOnScreenKeyboardVisible=function(){if(!document.body.scrollTop){return false;}return true;}
Kepler.Engine.UI.UIManager.prototype={$4_A:null,$4_B:null,$4_D:null,_msgBoxPreload:null,_playerAppFrame:null,get_playerAppFrame:function(){return this._playerAppFrame;},$4_E:null,get_desktopAppFrame:function(){return this.$4_E;},$4_F:0,$4_10:null,get_$4_11:function(){return this.$4_10;},get_$4_12:function(){return this.$4_10.get_appView();},$4_14:null,$4_15:false,get_isFreezed:function(){return ss.isValue(this.$4_14);},$4_16:false,$4_17:false,$4_18:false,get_isEngineStartupDone:function(){return this.$4_18;},$4_1A:false,get_typingModeStarted:function(){return this.$4_1A;},$4_1B:null,get_typingControl:function(){return this.$4_1B;},$4_1C:null,$4_1D:null,$4_1E:null,$4_1F:null,$4_20:0,get_typingLayout:function(){return this.$4_20;},$4_21:null,$4_22:false,$4_23:null,get_virtualTypingControl:function(){return this.$4_23;},$4_24:false,$4_25:false,get_dontHideKeyboard:function(){return this.$4_25;},set_dontHideKeyboard:function(value){this.$4_25=value;return value;},$4_26:function(){this.get_element().appendChild(Kepler.Framework.Accessibility.AccessibilitySupport.get_instance().get_accessibilityElm1());this.get_element().appendChild(Kepler.Framework.Accessibility.AccessibilitySupport.get_instance().get_accessibilityElm2());this.get_element().appendChild(Kepler.Framework.Accessibility.AccessibilitySupport.get_instance().get_accessibilityElm3());},freezeApp:function(eFreezeType,eFreezeMode){if(ss.isNullOrUndefined(this.$4_14)&&!!eFreezeType){if(ss.isNullOrUndefined(eFreezeMode)){eFreezeMode=0;}var $0='0.2';var $1='';var $2=document.body;if(ss.isValue(this.$4_A)){$2=this.$4_A.get_element();}this.$4_15=false;if(eFreezeType===1){if(ss.isValue(this.$4_E)){$0='0.2';$2=this.$4_E.get_element();this.$4_15=true;}}else if(eFreezeType===255){$0='0.01';}this.$4_14=document.createElement('div');this.$4_14.id=new ss.StringBuilder('freeze_app_').append(eFreezeType).toString();this.$4_14.style.position='absolute';this.$4_14.style.zIndex=Kepler.Framework.UI.Controls.ZIndexConstants.freezeApp;Kepler.Engine.UI.Helper.HtmlCssHelper.setElementWidth(this.$4_14,'100%');Kepler.Engine.UI.Helper.HtmlCssHelper.setElementHeight(this.$4_14,'100%');if(!eFreezeMode){$1='white';}else if(eFreezeMode===1){$0='0.5';$1='#666666';}this.$4_14.style.opacity=$0;this.$4_14.style.backgroundColor=$1;$2.appendChild(this.$4_14);}else if(ss.isValue(this.$4_14)&&!eFreezeType){this.postMessage('msg_unfreeze_app',null,null);}},$4_28:function($p0,$p1){if(this.$4_14!=null&&ss.isValue(this.$4_14.parentNode)){this.$4_14.parentNode.removeChild(this.$4_14);this.$4_14=null;}return null;},$4_29:function($p0){if(this._playerAppFrame!=null){var $0=$p0.get_$1_B();if(!$0){if(ss.isValue(this.$4_10)&&(Kepler.Engine.UI.WeapAppFrame).isInstanceOfType(this.$4_10)){this.$4_10.show(false);this.$4_10=$p0.getAppFrame();}else{this.$4_10=$p0.getAppFrame();this.$4_10.show(false);}this.$4_A.insertAppFrame(0,this.$4_10);this.$4_A.onSize();if(this.$4_15&&ss.isValue(this.$4_14)){this.$4_10.get_element().appendChild(this.$4_14);}this.$4_F++;}else{this.$4_A.insertAppFrame(0,$p0.getAppFrame());this.$4_A.onSize();}}},$4_2A:function($p0){if(this._playerAppFrame!=null&&(!$p0.get_$1_A())){var $0=$p0.get_$1_B();if(this.$4_10===$p0.getAppFrame()){if(this.$4_15&&ss.isValue(this.$4_14)){this.$4_10.get_element().removeChild(this.$4_14);}this.$4_10=null;}var $1=$p0.getAppFrame();if($1!==this.$4_E&&$1!==this._playerAppFrame){$1.get_element().innerHTML='';this.$4_A.removeAppFrame($1);$p0.dispose();}this.$4_A.onSize();if(!$0){this.$4_F--;}}},$4_2B:function($p0){if(this.$4_10===$p0.getAppFrame()){if(!this.$4_10.get_visible()){this.$4_10.show(true);}}else{if(ss.isValue(this.$4_10)&&(Kepler.Engine.UI.WeapAppFrame).isInstanceOfType(this.$4_10)){this.$4_10.show(false);}this.$4_10=$p0.getAppFrame();this.$4_10.show(true);this.$4_A.onSize();if(this.$4_15&&ss.isValue(this.$4_14)){this.$4_10.get_element().appendChild(this.$4_14);}}this.$4_45();},$4_2C:function($p0){var $0=$p0.get_$1_A();if(this.$4_10===$p0.getAppFrame()){if($0){this.$4_29($p0);}else{this.$4_2B($p0);}}else{var $1=null;if(ss.isValue(this.$4_10)&&(Kepler.Engine.UI.WeapAppFrame).isInstanceOfType(this.$4_10)){$1=this.$4_10;this.$4_10.sendMessage('eONAppSwitchBegin',$p0.getAppFrame(),null);}if($0){this.$4_29($p0);}else{this.$4_2B($p0);}this.$4_10.sendMessage('eONAppSwitchEnd',$1,null);}},$4_2D:function(){var $0=false;if(!this.$4_16){if(ss.isValue(this._playerAppFrame)&&ss.isValue(this.$4_E)){var $1=Kepler.Engine.Core.EngineApp.get_engine().get_taskMaster();var $2=$1.get_assignment();if(ss.isValue($2)){var $3=$1.get_assignment().get_tasks();if(ss.isValue($3)){var $4=$3[$1.getFirstLaunchTaskIndex()];if(ss.isValue($4)&&$4.get_$8()===2){$0=true;}}}}}if($0){this.onLoad();this.$4_24=true;this.onResize(null);this.$4_44();this.$4_16=true;if(this.$4_17){if(Kepler.Engine.Core.Lms.LmsApi.get_isApiPresent()){this.$4_2F();}else{this.$4_32();}}}},$4_2E:function(){this.$4_17=true;if(this.$4_16){if(Kepler.Engine.Core.Lms.LmsApi.get_isApiPresent()){this.$4_2F();}else{this.$4_32();}}},$4_2F:function(){this.$4_31();Kepler.Engine.Core.Lms.LmsApi.addMsgFromLmsEventListener(2,ss.Delegate.create(this,this.$4_30));Kepler.Engine.Core.Lms.LmsApi.sendMessageToLms(1,null);this.$4_31();},$4_30:function($p0){Kepler.Engine.Core.Lms.LmsApi.removeMsgFromLmsEventListener(2,ss.Delegate.create(this,this.$4_30));this.$4_32();},$4_31:function(){var $0=document.getElementsByTagName('html');if($0.length>0){$0[0].style.overflow='auto';Kepler.Engine.UI.Helper.HtmlCssHelper.refreshDOM();$0[0].style.overflow='';}},$4_32:function(){if(this.$4_18){return;}if(this.$4_19>0){Kepler.Engine.Core.ProgressTracker.runProgressToEnd();window.setTimeout(ss.Delegate.create(this,this.$4_32),this.$4_19);this.$4_19=0;return;}this.$4_18=true;this.$4_31();this.$4_A.get_elementStyle().visibility='';this.$4_D.show(false);var $0=Kepler.Engine.Core.EngineApp.get_engine().get_taskMaster();if(!this._msgBoxPreload.get_isCreated()&&(!$0.get_isReportUiOnly())&&(!$0.get_isNoDataAvailable())){this.showPreloadMsgBox($0);}else{if($0.get_isReportUiOnly()||$0.get_isNoDataAvailable()){var $1=document.getElementById('player-container');if(ss.isValue($1)){$1.style.display='none';}if(ss.isValue(this.$4_E)){this.$4_E.set_showHideProperty(Kepler.Framework.UI.ShowHideProperty.display);this.$4_E.show(false);}this.onResize(null);}if($0.get_isNoDataAvailable()){var $2=this.getMessageBoxStringAsPerMode($0);Kepler.Engine.UI.Controls.MessageBox.MessageBox.show('',$2);}}this.$4_31();$(window).trigger('scratchpad-ready');Kepler.Engine.Core.EngineApp.get_engine().get_taskMaster().set_isAccessibility(Kepler.Engine.UI.WeapAppFrame.appframE_ACCESSIBILITY);},getMessageBoxStringAsPerMode:function(oTaskMaster){if(oTaskMaster.get_isReportUiOnly()){return 'You have not attempted this question. No information is available to be displayed.';}else{return 'This question does not support Design Mode and cannot be customised.';}},showPreloadMsgBox:function(oTaskMaster){var $0;var $1=oTaskMaster.getMaxTasks();$0=($1<=1)?' question':' questions';var $2=0;var $3=[];var $4=oTaskMaster.get_assignment();for(var $9=0;$9<$4.get_taskCount();$9++){var $A='';var $B=$4.get_tasks()[$9];if(!$B.get_displayItemLevelAttemptOnPlayer()){$2=$B.get_remainingAttempts();}if(String.isNullOrEmpty($B.get_appName())){var $C=$B.get_fileName().toLowerCase();if($C.indexOf('xl_')>=0||$C.indexOf('excel_')>=0){$A='Excel';}else if($C.indexOf('w8_')>=0){$A='Windows 8.1';}else if($C.indexOf('wd_')>=0){$A='Word';}else if($C.indexOf('ppt_')>=0||$C.indexOf('pp_')>=0){$A='PowerPoint';}else if($C.indexOf('ac_')>=0){$A='Access';}}else{if($B.get_appName()==='powerpoint'){$A='PowerPoint';}else if($B.get_appName()==='desktop'){$A='Windows 8.1';}else{$A=Kepler.Framework.Core.StringUtils.toCamelCase($B.get_appName());}}if(!String.isNullOrEmpty($A)&&!$3.contains($A)){$3.add($A);}}var $5=$3[0];for(var $D=1;$D<$3.length;$D++){if($D===$3.length-1){$5+=' and '+$3[$D];}else{$5+=', '+$3[$D];}}var $6=new ss.StringBuilder();var $7=new ss.StringBuilder();var $8=($2>1)?' attempts':' attempt';if(Kepler.Engine.Core.Lms.LmsApi.get_isEztoApiPresent()){if(oTaskMaster.get_isBusinessCommunication()){if(oTaskMaster.get_isShowAnswerOrSolution()){this.onMsgBoxPreloadOK(1);return;}$7.append("Let's Begin!");this._msgBoxPreload.set_minimumWidth(370);this._msgBoxPreload.set_minimumHeight(180);$6.append('Your document will now launch in HIGHLIGHT Mode.<br/><br/>');$6.append('Start by highlighting the errors and then proceed to edit the document in Edit mode.');}else{$7.append(' ');if(oTaskMaster.get_isStartShowme()){this._msgBoxPreload.set_minimumHeight(150);$6.append('The application will now playback the correct sequence of actions');$6.append(' required to complete the question.');}else if(oTaskMaster.get_isShowSolution()){this._msgBoxPreload.set_minimumHeight(170);$6.append('Final sheet with all correct cell values and formatting will be displayed.');}else if(oTaskMaster.get_isShowAnswer()){this._msgBoxPreload.set_minimumWidth(350);this._msgBoxPreload.set_minimumHeight(200);$6.append('Cells highlighted in red have been filled automatically,');$6.append(' as all attempts are exhausted.<br/>');$6.append('Cells highlighted in green are correct responses.<br/>');$6.append('Cells highlighted in yellow are partially attempted or left blank.');}else{this._msgBoxPreload.set_minimumHeight(140);$6.append('Your assignment has loaded.');}if($3.length>1){}else{}}$6.append('<br/><br/>Click OK to begin.');}else if($4.get_isDocumentBased()){$7.append('Instruction for Exam');this._msgBoxPreload.set_minimumWidth(350);this._msgBoxPreload.set_minimumHeight(215);$6.append('This is a document-based assignment. There are a total of ');$6.append($1.toString());$6.append($0);$6.append(' in this assignment');if(Kepler.Engine.Core.Lms.LmsApi.get_isLmsStrataApiPresent()){$6.append(', ');$6.append('with ');$6.append($2.toString());$6.append($8);$6.append(' per question');}$6.append('.');$6.append('<br/><br/>You will not be able to navigate to the next question unless you complete the one you are on. If you are unable to attempt a question click the Next button on the content player and the SIM will autocomplete it and move to the next question.');if(Kepler.Framework.Core.Browser.BrowserCapabilities.get_platform()===Kepler.Framework.Core.Browser.BrowserPlatform.mac&&!Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){$6.append('<br/><br/>Press control+command+F7 to navigate between the application and the content player.');}else{$6.append('<br/><br/>Press Ctrl+F7 to navigate between the application and the content player.');}}else{if(oTaskMaster.get_isBusinessCommunication()){if(Kepler.Engine.Core.EngineApp.get_engine().get_taskMaster().get_isShowAnswerOrSolution()){this._msgBoxPreload.set_minimumWidth(this._msgBoxPreload.get_minimumWidth());this._msgBoxPreload.set_minimumHeight(150);if($4.get_mghType()==='commenting'){$7.append('Comment Review');$6.append('The comments added by the student are ready for your review.');}else{$7.append('Analysis');$6.append('Analysis view for your last attempt has been loaded.');}}else{$7.append('Instruction for Assignment');this._msgBoxPreload.set_minimumWidth(this._msgBoxPreload.get_minimumWidth());this._msgBoxPreload.set_minimumHeight(150);$6.append('This is an assignment in Business Communication.');$6.append('<br/><br/>Click Ok to begin.');}}else{$7.append('Instruction for Exam');this._msgBoxPreload.set_minimumWidth((Kepler.Engine.Core.Lms.LmsApi.get_isLmsStrataApiPresent())?368:this._msgBoxPreload.get_minimumWidth());this._msgBoxPreload.set_minimumHeight(225);$6.append('This is an exam in ');$6.append($5);$6.append(' containing ');$6.append($1.toString());$6.append($0);if(Kepler.Engine.Core.Lms.LmsApi.get_isLmsStrataApiPresent()){$6.append(', ');$6.append('with ');$6.append($2.toString());$6.append($8);$6.append(' per question');}$6.append('.');if(Kepler.Framework.Core.Browser.BrowserCapabilities.get_platform()===Kepler.Framework.Core.Browser.BrowserPlatform.mac&&!Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){if($3.length>1){$6.append('<br/><br/>Press control+command+F7 to navigate between the application and the content player.');}else{$6.append('<br/><br/>Press control+command+F7 to navigate between '+$3[0]+' and the content player.');}}else{if($3.length>1){$6.append('<br/><br/>Press Ctrl+F7 to navigate between the application and the content player.');}else{$6.append('<br/><br/>Press Ctrl+F7 to navigate between '+$3[0]+' and the content player.');}}$6.append('<br/><br/>Click OK to begin.');}}Kepler.Engine.Core.EngineApp.get_engine().get_taskMaster().set_isAccessibility(Kepler.Engine.UI.WeapAppFrame.appframE_ACCESSIBILITY);Kepler.Engine.UI.Controls.MessageBox.MessageBox.show($7.toString(),$6.toString(),this._msgBoxPreload);this._msgBoxPreload.setOverlayOpacity(1);},onMsgBoxPreloadOK:function(eType){Kepler.Engine.UI.Controls.MessageBox.MessageBox.hide(this._msgBoxPreload);this.$4_33();if(this.$4_41()){}},$4_33:function(){this._playerAppFrame.sendMessage('eONStartAssignment',this,null);},$4_34:function($p0){this.$4_A.get_dialogManager().$4_5($p0);},$4_35:function($p0){if(this.$4_A.get_dialogManager().$4_8($p0)){this.$4_A.get_dialogManager().$4_7($p0);if(!Kepler.Engine.Core.EngineApp.get_engine().get_isShowMe()&&!this.$4_A.get_dialogManager().get_visibleDialogs().length){var $0=(Type.canCast(this.$4_10,Kepler.Engine.UI.WeapAppFrame))?(this.$4_10).get_ribbonManager():null;if(ss.isValue($0)&&$0.get_isFileTabActive()){$0.setFocus();}else{this.$4_10.get_appView().setFocus();}}else if(!Kepler.Engine.Core.EngineApp.get_engine().get_isShowMe()&&!!this.$4_A.get_dialogManager().get_visibleDialogs().length){var $enum1=ss.IEnumerator.getEnumerator(this.$4_A.get_dialogManager().get_visibleDialogs());while($enum1.moveNext()){var $1=$enum1.current;if($1.get_dialogFrameType()!==Kepler.Engine.UI.DialogFrameType.paneDialog){($1).sendMessage('msg_set_focus',null,this);}}}}},$4_36:function($p0){this.$4_E=$p0.getAppFrame();Kepler.Engine.UI.Helper.HtmlCssHelper.set_desktopElement(this.$4_E.get_element());var $0=false;if(this.$4_10==null){this.$4_10=this.$4_E;$0=true;}this.$4_F++;this.$4_A.setDesktopApp($p0);if($0){this.$4_45();}},$4_37:function($p0){this._playerAppFrame=$p0;this.$4_F++;this.$4_A.add(this._playerAppFrame);var $0=Kepler.Engine.Core.EngineApp.get_engine().get_taskMaster();if($0.get_isBusinessCommunication()&&$0.get_isShowAnswerOrSolution()){if($0.get_assignment().get_mghType()==='commenting'){Kepler.Engine.UI.UIManager.playeR_NORMAL_HEIGHT=25;Kepler.Engine.UI.UIManager.playeR_COMPACT_HEIGHT=25;}else{Kepler.Engine.UI.UIManager.playeR_NORMAL_HEIGHT=100;Kepler.Engine.UI.UIManager.playeR_COMPACT_HEIGHT=53;}}var $1=Kepler.Engine.Core.EngineApp.get_engine().get_taskMaster().get_$1_9();var $dict1=$1;for(var $key2 in $dict1){var $2={key:$key2,value:$dict1[$key2]};if((Kepler.Engine.Core.MainApp).isInstanceOfType($2.value)){if(this.$4_A.get_$4_9()!==(Type.safeCast($2.value,Kepler.Engine.Core.MainApp))){this.$4_29(Type.safeCast($2.value,Kepler.Engine.Core.MainApp));}else{this.$4_2B(Type.safeCast($2.value,Kepler.Engine.Core.MainApp));}}}},onLoad:function(){Kepler.Engine.UI.UIManager.callBaseMethod(this, 'onLoad');if(Kepler.Engine.Core.Lms.LmsApi.get_isLmsBuiltinApiPresent()&&Kepler.Engine.Core.EngineApp.get_engine().get_taskMaster().get_isShowAnswerOrSolution()&&Kepler.Engine.Core.EngineApp.get_engine().get_taskMaster().get_isBusinessCommunication()){this.$4_A.changeMghMargin(5);}this.$4_38();this.$4_39();this.$4_3A();document.execCommand('AutoUrlDetect',false,false);if(Kepler.Framework.Core.Browser.BrowserCapabilities.get_isIFrameScope()&&Kepler.Engine.UI.UIManager.$4_9!=null){Kepler.Engine.UI.UIManager.$4_9.focus();Kepler.Engine.UI.UIManager.$4_9.blur();}this.onBlur(null);},$4_38:function(){var $0=document.createElement('div');$0.style.overflow='hidden';$0.style.width='100%';$0.style.height='100%';this.get_element().appendChild($0);this.add(Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.get_instance(),$0);if(this.$4_23!=null){this.add(this.$4_23);}},$4_39:function(){window.addEventListener('resize',ss.Delegate.create(this,this.onResize),false);this.addEvents(Kepler.Framework.UI.Events.EventArgsNs.EventType.keyDown);this.addEvents(Kepler.Framework.UI.Events.EventArgsNs.EventType.keyUp);this.addEvents(Kepler.Framework.UI.Events.EventArgsNs.EventType.keyPress);this.addEvents(Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseDown);this.addEvents(Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseUp);this.addEvents(Kepler.Framework.UI.Events.EventArgsNs.EventType.selectionStart);this.addEvents(Kepler.Framework.UI.Events.EventArgsNs.EventType.selectionEnd);this.addEvents(Kepler.Framework.UI.Events.EventArgsNs.EventType.touchStart);this.addEvents(Kepler.Framework.UI.Events.EventArgsNs.EventType.touchMove);this.addEvents(Kepler.Framework.UI.Events.EventArgsNs.EventType.touchEnd);this.addEvents(Kepler.Framework.UI.Events.EventArgsNs.EventType.touchCancel);window.addEventListener('blur',ss.Delegate.create(this,this.onBlur),true);window.addEventListener('focus',ss.Delegate.create(this,this.onFocus),true);window.addEventListener('scroll',ss.Delegate.create(this,this.onScroll),false);window.addEventListener('orientationchange',ss.Delegate.create(this,this.onOrientationChange),true);if(Kepler.Framework.Core.Browser.BrowserCapabilities.get_deviceType()===Kepler.Framework.Core.Browser.DeviceType.surface){window.addEventListener('MSHoldVisual',ss.Delegate.create(this,this.onHoldVisual),true);}},$4_3A:function(){this.attachMessage('msg_hide_keyboard',ss.Delegate.create(this,this.onMsgHideKeyboard));this.attachMessage('msg_show_keyboard',ss.Delegate.create(this,this.$4_3C));this.attachMessage(Kepler.Engine.UI.Controls.SingleLineTextControl.msG_TYPING_MODE,ss.Delegate.create(this,this.$4_46));this.attachMessage('msg_unfreeze_app',ss.Delegate.create(this,this.$4_28));this.attachMessage(Kepler.Engine.UI.Controls.SingleLineTextControl.msG_IS_SHOW_ME_MODE,ss.Delegate.create(this,this.$4_47));this.attachMessage('msg_player_mode_change',ss.Delegate.create(this,this.$4_3B));this.attachMessage('msg_remove_focus',ss.Delegate.create(this,this.$4_49));},$4_3B:function($p0,$p1){if(this.$4_A!=null){this.$4_A.$4_10();}return null;},$4_3C:function($p0,$p1){Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.get_instance().show(true);return null;},onMsgHideKeyboard:function(wParam,lParam){Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.get_instance().show(false);if(Kepler.Framework.Core.Browser.BrowserCapabilities.get_mode()!==Kepler.Framework.Core.Browser.BrowserMode.metro){var $0=(document.activeElement.tagName.toLowerCase()==='iframe');if(Kepler.Framework.Core.Browser.BrowserCapabilities.get_version()>=6&&!$0){var $1=document.activeElement;if(!($1===document.body||$1===Kepler.Framework.Accessibility.AccessibilitySupport.get_instance().get_accessibilityElm1()||$1===Kepler.Framework.Accessibility.AccessibilitySupport.get_instance().get_accessibilityElm2()||$1===Kepler.Framework.Accessibility.AccessibilitySupport.get_instance().get_accessibilityElm3())){$1.blur();}}else if(Kepler.Engine.UI.UIManager.$4_9!=null){Kepler.Engine.UI.UIManager.$4_9.focus();Kepler.Engine.UI.UIManager.$4_9.blur();}}return null;},resetCursor_:function(){Kepler.Engine.UI.UIManager.resetCursor();},setCursor_:function(strCursorName){Kepler.Engine.UI.UIManager.setCursor(strCursorName);},onScroll:function(evt){if(!!this.get_element().scrollTop&&Kepler.Framework.Core.Browser.BrowserCapabilities.get_deviceType()!==Kepler.Framework.Core.Browser.DeviceType.chromeOS){this.get_element().scrollTop=0;}},onFocus:function(evt){if(Kepler.Framework.Core.Browser.BrowserCapabilities.get_isIFrameScope()){Kepler.Framework.UI.Events.Hooks.MouseHook.unRegister(this.$4_1F,true);Kepler.Framework.UI.Events.Hooks.TouchHook.unRegister(this.$4_1F,true);}},onBlur:function(evt){if(Kepler.Framework.Core.Browser.BrowserCapabilities.get_isIFrameScope()){if(!Kepler.Framework.UI.Events.Hooks.MouseHook.isRegistered(this.$4_1F,true)){Kepler.Framework.UI.Events.Hooks.MouseHook.register(this.$4_1F,true);}if(!Kepler.Framework.UI.Events.Hooks.TouchHook.isRegistered(this.$4_1F,true)){Kepler.Framework.UI.Events.Hooks.TouchHook.register(this.$4_1F,true);}}},$4_3D:function($p0){if($p0.get_type()===Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseDown||$p0.get_type()===Kepler.Framework.UI.Events.EventArgsNs.EventType.touchStart){Kepler.Framework.UI.Events.Hooks.MouseHook.unRegister(this.$4_1F,true);Kepler.Framework.UI.Events.Hooks.TouchHook.unRegister(this.$4_1F,true);$p0.set_defaultPrevented($p0.set_propogationStopped(false));if(Kepler.Framework.Core.Browser.BrowserCapabilities.get_name()===Kepler.Framework.Core.Browser.BrowserName.internetExplorer&&Kepler.Engine.UI.UIManager.$4_9!=null){Kepler.Engine.UI.UIManager.$4_9.focus();}}return false;},onOrientationChange:function(evt){if(Kepler.Framework.Core.Browser.BrowserCapabilities.get_deviceType()===Kepler.Framework.Core.Browser.DeviceType.nexus){window.setTimeout(ss.Delegate.create(this,function(){
this.performOrientationChange(evt);}),300);}else{this.performOrientationChange(evt);}},performOrientationChange:function(evt){if(this.$4_41()){this.$4_42();this.$4_24=true;this.onResize(evt);if(Kepler.Framework.Core.Browser.BrowserCapabilities.get_deviceType()===Kepler.Framework.Core.Browser.DeviceType.xoom){this.$4_24=true;}}},onHoldVisual:function(evt){evt.preventDefault();},onWindowClosing:function(e){e.returnValue='You may lose valuable data required to process your report.';return 'You may lose valuable data required to process your report.';;},onWindowUnload:function(e){this.get_playerAppFrame().sendMessage('eONEndAssignment',false,this);},onPretranslateEvent:function(sender,evt){return false;},onSize:function(){Kepler.Engine.UI.UIManager.callBaseMethod(this, 'onSize');},$4_3E:function(){if(this.$4_21==null){this.$4_21=new Kepler.Engine.UI.Controls.MessageBox.ZoomNotificationControl();}return this.$4_21;},$4_3F:function(){Kepler.Engine.UI.UIManager.$4_7=Kepler.Framework.Core.Browser.BrowserCapabilities.getZoom();},$4_40:function($p0){var $0=this.$4_A.get_margin();var $1=Kepler.Engine.UI.UIManager.$4_6.clientHeight;var $2=$1-$0.get_top()-$0.get_bottom();if(!!this.get_typingLayout()){this.fireKeyEventSequence(Kepler.Framework.UI.Events.EventArgsNs.Keys.cancel,'Cancel',this);if(Kepler.Framework.Core.Browser.BrowserCapabilities.get_platform()===Kepler.Framework.Core.Browser.BrowserPlatform.android){$2+=Kepler.Framework.Core.Browser.BrowserCapabilities.get_keyboardHeight();}}var $3=Kepler.Engine.UI.UIManager.$4_6.clientWidth;var $4=$3-$0.get_left()-$0.get_right();Kepler.Engine.UI.Controls.MessageBox.MessageBox.show(null,$p0,this.$4_3E());this.$4_21.setOverlayOpacity(1);this.$4_A.get_elementStyle().height=$2+'px';this.$4_A.get_elementStyle().width=$4+'px';this.$4_B.reLayout(new Kepler.Framework.UI.Rect(0,0,$3,$1),this.$4_A.get_margin());if(ss.isValue(this.$4_21.get_parent())){this.$4_21.get_parent().set_size(new Kepler.Framework.UI.Size($4,$2));}this.$4_22=true;},$4_41:function(){return true;},$4_42:function(){if(this.$4_22){Kepler.Engine.UI.Controls.MessageBox.MessageBox.hide(this.$4_3E());this.$4_21=null;var $0=Kepler.Engine.UI.UIManager.$4_6.clientHeight;var $1=Kepler.Engine.UI.UIManager.$4_6.clientWidth;var $2=this.$4_A.get_margin();this.$4_A.get_elementStyle().height=($0-$2.get_top()-$2.get_bottom())+'px';this.$4_A.get_elementStyle().width=($1-$2.get_left()-$2.get_right())+'px';this.$4_22=false;}},onResize:function(evt){if(Kepler.Framework.Core.Browser.BrowserCapabilities.get_platform()===Kepler.Framework.Core.Browser.BrowserPlatform.android&&!this.$4_24){return;}this.$4_3F();if(Kepler.Framework.Core.Browser.BrowserCapabilities.get_deviceType()===Kepler.Framework.Core.Browser.DeviceType.nexus){window.setTimeout(ss.Delegate.create(this,function(){
this.performResize();}),300);}else{this.performResize();}},performResize:function(){var $0=Math.round(window.innerHeight);var $1=Math.round(window.innerWidth);var $2=new Kepler.Framework.UI.Size($1,$0);var $3=$2;if(!this.get_size().equals($3)){if(!!this.get_typingLayout()&&Kepler.Framework.Core.Browser.BrowserCapabilities.get_platform()===Kepler.Framework.Core.Browser.BrowserPlatform.android){$3.set_height($3.get_height()+Kepler.Framework.Core.Browser.BrowserCapabilities.get_keyboardHeight());}var $4=this.$4_1B;if($4!=null){this.endTypingMode(false);}this.set_size($3);if($4!=null){}}},checkDocSizeSupport:function(){var $0=new Kepler.Framework.UI.Size(Math.round(document.documentElement.clientWidth),Math.round(document.documentElement.clientHeight));var $1=true;this.$4_42();var $2=Kepler.Engine.Core.EngineApp.get_engine().getCurrentAppFrame();var $3;if($2!=null&&Type.canCast($2,Kepler.Engine.UI.BaseAppFrame)){var $4=($2);var $5=$4.get_ribbonManager();if(this.get_loaded()&&!this._msgBoxPreload.get_visible()){var $6=300;if(ss.isValue($5)&&!$5.get_isFileTabActive()){if(!this.get_typingLayout()){var $7=($5.get_visible())?$5.get_height():0;var $8=$4.get_statusBar().get_height();$6=$7+Kepler.Engine.UI.UIManager.playeR_NORMAL_HEIGHT+40+$8+100;}}else{$6=400+Kepler.Engine.UI.UIManager.playeR_NORMAL_HEIGHT;}if(document.documentElement.clientHeight<$6){if(Kepler.Framework.Core.Browser.BrowserCapabilities.get_deviceType()===Kepler.Framework.Core.Browser.DeviceType.surface){Kepler.Engine.Core.EngineApp.get_engine().getPlayerAppFrame().show(false);$3=Kepler.Engine.Core.EngineApp.get_engine().get_desktopApp();if(ss.isValue($3)){$3.getAppFrame().show(false);}Kepler.Engine.UI.Helper.HtmlCssHelper.refreshDOM();}this.$4_40('\n\n\nThis document size is not supported, please increase browser size or change orientation...');$1=false;}else{Kepler.Engine.Core.EngineApp.get_engine().getPlayerAppFrame().show(true);$3=Kepler.Engine.Core.EngineApp.get_engine().get_desktopApp();if(ss.isValue($3)){$3.getAppFrame().show(true);}}}}return $1;},fireKeyEvent:function(eEventType,eKeyCode,strKeyIdentifier,oEventGenerator){var $0=Framework.UI.Events.EventDispatcher.getEventArgs(eEventType);$0.initEventArgs(oEventGenerator);$0.initDomEventArgs(document.body,null);$0.initModifierKeyEventArgs(Framework.UI.Events.EventDispatcher.get_ctrlKey(),Framework.UI.Events.EventDispatcher.get_shiftKey(),Framework.UI.Events.EventDispatcher.get_altKey());$0.initKeyEventArgs(eKeyCode,eKeyCode,strKeyIdentifier);Framework.UI.Events.EventDispatcher.processKeyEvent($0);},fireKeyEventSequence:function(eKeyCode,strKeyIdentifier,oEventGenerator){try{this.fireKeyEvent(Kepler.Framework.UI.Events.EventArgsNs.EventType.keyDown,eKeyCode,strKeyIdentifier,oEventGenerator);}catch($0){}try{this.fireKeyEvent(Kepler.Framework.UI.Events.EventArgsNs.EventType.keyUp,eKeyCode,strKeyIdentifier,oEventGenerator);}catch($1){}},setEventModifierKeys:function(bCtrlKey,bShiftKey,bAltKey,oEventGenerator){if(bCtrlKey!=null){Framework.UI.Events.EventDispatcher.set_ctrlKey(bCtrlKey);this.fireKeyEventSequence(Kepler.Framework.UI.Events.EventArgsNs.Keys.controlKey,'Control',oEventGenerator);}if(bShiftKey!=null){Framework.UI.Events.EventDispatcher.set_shiftKey(bShiftKey);this.fireKeyEventSequence(Kepler.Framework.UI.Events.EventArgsNs.Keys.shiftKey,'Shift',oEventGenerator);}if(bAltKey!=null){Framework.UI.Events.EventDispatcher.set_altKey(bAltKey);this.fireKeyEventSequence(Kepler.Framework.UI.Events.EventArgsNs.Keys.menu,'Alter',oEventGenerator);}},$4_44:function(){var $0=Kepler.Engine.Core.EngineApp.get_engine().get_taskMaster();Kepler.Framework.Core.Modules.FrameworkModule.get_instance().set_uiManager(this);Kepler.Framework.UI.CustomSelection.Comments.CommentGroup.set_commentReviewMode($0.get_isShowAnswerOrSolution());Kepler.Framework.Accessibility.AccessibilitySupport.get_instance().set_isAccessibilityOn($0.get_isAccessibility());},$4_45:function(){if(this.$4_10!=null){Kepler.Engine.UI.Controls.ComboCtrl.set_dropDownListContainer(this.$4_10.get_menuManager());Kepler.Engine.UI.Controls.ComboBtnCtrl.set_dropDownListContainer(this.$4_10.get_menuManager());Kepler.Framework.UI.ThemeDetails.set_currentTheme(Kepler.Engine.UI.EngineThemeDetails.getThemeDetails());}},$4_46:function($p0,$p1){var $0=$p0;if($0){this.startTypingMode($p1);}else{this.endTypingMode($p1);}return null;},$4_47:function($p0,$p1){return Kepler.Engine.Core.EngineApp.get_engine().get_isShowMe();},startTypingMode:function(elmControl,eLayout){return;},$4_48:function($p0){if($p0>0){var $0=this.getFocus();if(ss.isValue($0)){var $1=$0.get_parentWnd();if($1!=null&&(Kepler.Engine.UI.DialogBase).isInstanceOfType($1)){var $2=$1.get_top()-$p0;$1.set_top($2);}}}},endTypingMode:function(bHideKeyboard){return;},setTypingModeLayout:function(eTypingLayout){this.$4_20=eTypingLayout;this.onSize();},$4_49:function($p0,$p1){if(Kepler.Engine.UI.UIManager.$4_9==null){Kepler.Engine.UI.UIManager.$4_27();}Kepler.Engine.UI.UIManager.$4_9.focus();Kepler.Engine.UI.UIManager.$4_9.blur();return null;},setFocusToActiveDialog:function(){if(!this.$4_A.get_dialogManager().get_visibleDialogs().length){return false;}else{(this.$4_A.get_dialogManager().get_visibleDialogs()[this.$4_A.get_dialogManager().get_visibleDialogs().length-1]).sendMessage('msg_set_focus',null,null);return true;}}}
Kepler.Engine.UI.WeapAppFrame=function(oApp){Kepler.Engine.UI.WeapAppFrame.initializeBase(this,[oApp]);this.set_showHideProperty(Kepler.Framework.UI.ShowHideProperty.display);this.$4_38=document.createElement('style');Kepler.Engine.UI.Helper.HtmlCssHelper.setStyleProperty(this.get_element(),'box-shadow','0px 0px 6px #5E5E5E');this.get_elementStyle().overflow='hidden';this.get_elementStyle().border='1px solid';this.get_elementStyle().borderColor=Kepler.Engine.UI.EngineThemeDetails.getThemeDetails().get_colorNormal();this._bAddAppViewInternallyOnLoad=true;}
Kepler.Engine.UI.WeapAppFrame.prototype={$4_2D:null,$4_2E:false,_oDocProperties:null,get_docProperties:function(){return this._oDocProperties;},get_left:function(){return Kepler.Engine.UI.WeapAppFrame.callBaseMethod(this, 'get_left');},set_left:function(value){Kepler.Engine.UI.WeapAppFrame.callBaseMethod(this, 'set_left',[value]);this.updatePositionOverrideRect();return value;},get_top:function(){return Kepler.Engine.UI.WeapAppFrame.callBaseMethod(this, 'get_top');},set_top:function(value){Kepler.Engine.UI.WeapAppFrame.callBaseMethod(this, 'set_top',[value]);this.updatePositionOverrideRect();return value;},$4_2F:0,get_viewType:function(){return this.$4_2F;},createParsers:function(){var $0=Kepler.Engine.Core.EngineApp.get_engine().get_commonResourcePath()+Kepler.Engine.UI.BaseAppFrame.xmL_AUTOMATION_FILE;this._oCommonParser=new Kepler.Engine.UI.AppFrameParser($0);$0=this.get_resourcePath()+Kepler.Engine.UI.BaseAppFrame.xmL_AUTOMATION_FILE;this._oThemeParser=new Kepler.Engine.UI.ThemeParser($0);this._oAppParser=new Kepler.Engine.UI.AppFrameParser($0);$0=this.get_resourcePath()+Kepler.Engine.UI.BaseAppFrame.xmL_FILE_STURT_UP_AUTOMATION;this._oStartUpParser=new Ribbon.FileAndStartUpParser($0);Kepler.Engine.UI.WeapAppFrame.callBaseMethod(this, 'createParsers');},$4_30:function(){this.add(this._oAppView);},$4_31:function(){if(this.get_ribbonManager()!=null&&!!this.get_ribbonManager().get_documentTitle()&&Kepler.Framework.Accessibility.AccessibilitySupport.get_instance().get_isAccessibilityOn()){var $0=this.get_ribbonManager().get_documentTitle()+' Window';Kepler.Framework.Accessibility.AccessibilitySupport.get_instance().setRole('label');Kepler.Framework.Accessibility.AccessibilitySupport.get_instance().setAccessibilitySpeech($0);Kepler.Framework.Accessibility.AccessibilitySupport.get_instance().setFocusOnAccessibilityElement();}},onMsgFrameData:function(wParam,lParam){var $0=Kepler.Engine.UI.WeapAppFrame.callBaseMethod(this, 'onMsgFrameData',[wParam,lParam]);var $1=lParam;this.setData($1.get_viewData());return $0;},handleF6Navigation:function(bShiftKey){if(this.get_ribbonManager().get_isFileTabActive()){return false;}var $0=null;var $1=false;if(bShiftKey){$0=this.getPreviousControlForF6Navigation();}else{$0=this.getNextControlForF6Navigation();}if(ss.isValue($0)){if($0===this.get_ribbonManager()){this.get_ribbonManager().altModeStarted();Kepler.Engine.UI.Engine$1D.get_$4_2().$4_E(1,$0);}else if($0===this.get_appView()){this.$4_31();}$0.setFocus();}return $1;},getNextControlForF6Navigation:function(){var $0=null;var $1=this.getParentForF6Navigation();if(ss.isValue($1)){if($1===this.get_statusBar()){$0=this.get_ribbonManager();}else if($1===this.get_ribbonManager()){$0=this.get_appView();}else if($1===this.get_appView()){$0=this.get_statusBar();}}return $0;},getPreviousControlForF6Navigation:function(){var $0=null;var $1=this.getParentForF6Navigation();if(ss.isValue($1)){if($1===this.get_statusBar()){$0=this.get_appView();}else if($1===this.get_ribbonManager()){$0=this.get_statusBar();}else if($1===this.get_appView()){$0=this.get_ribbonManager();}}return $0;},getParentForF6Navigation:function(){var $0=this.getFocus();if(ss.isValue($0)){if($0.get_parentWnd()===this.get_appView()){$0=this.get_appView();}else if($0.get_parentWnd()===this){while($0.get_parent()!==this){$0=$0.get_parent();}}}return $0;},attachMessages:function(){this.attachMessage('msg_get_view_type',ss.Delegate.create(this,this.onMsgGetViewType));this.attachMessage('msg_showme_scroll_to_point',ss.Delegate.create(this,this.$4_32));},onMsgGetViewType:function(wParam,lParam){return this.$4_2F;},onMsgTaskData:function(wParam,lParam){var $0=lParam;this.setCommonFrameStyle($0.get_frameStyle());return null;},onMsgFocusView:function(wParam,lParam){this._oAppView.setFocus();return null;},$4_32:function($p0,$p1){this._oAppView.handleShowmeScrollToPoint($p0,$p1);return 0;},onMsgVerifyUserSelection:function(wParam,lParam){return this.get_appView().verifyUserSelection(wParam,lParam);},updatePositionOverrideRect:function(){if(this.$4_2E){return;}if(ss.isNullOrUndefined(this.$4_2D)){this.$4_2D=new Kepler.Framework.UI.Rect(this.get_left(),this.get_top(),this.get_width(),this.get_height());}else{this.$4_2D.set_top(this.get_top());this.$4_2D.set_left(this.get_left());}},updateSizeOverrideRect:function(){if(this.$4_2E){return;}if(ss.isNullOrUndefined(this.$4_2D)){this.$4_2D=new Kepler.Framework.UI.Rect(this.get_left(),this.get_top(),this.get_width(),this.get_height());}else{this.$4_2D.set_width(this.get_width());this.$4_2D.set_height(this.get_height());}},updatePositionAndSizeOverride:function(szParent,bSetSizeToParentIfOverrideFail){var $0;if(ss.isValue(this.$4_2D)){this.$4_2E=true;this.set_top(this.$4_2D.get_top());this.set_left(this.$4_2D.get_left());this.set_width(this.$4_2D.get_width());this.set_height(this.$4_2D.get_height());this.$4_2E=false;}$0=Kepler.Engine.UI.WeapAppFrame.callBaseMethod(this, 'updatePositionAndSizeOverride',[szParent,bSetSizeToParentIfOverrideFail]);this.$4_2E=true;this.set_top(this.get_top()-1)+1;this.set_left(this.get_left()-1)+1;this.$4_2E=false;return $0;},onLoad:function(){this.attachMessages();this.getAppParser(ss.Delegate.create(this,this.startUpXmlDownloadComplete),ss.Delegate.create(this,this.weapXmlDownloadFailed));this.getAppParser(ss.Delegate.create(this,this.themeXmlDownloadComplete),ss.Delegate.create(this,this.themeXmlDownloadFailed));this.getAppParser(ss.Delegate.create(this,this.weapXmlDownloadComplete),ss.Delegate.create(this,this.weapXmlDownloadFailed));this.getCommonAppParser(ss.Delegate.create(this,this.commonWeapXmlDownloadComplete),ss.Delegate.create(this,this.weapXmlDownloadFailed));Kepler.Engine.UI.WeapAppFrame.callBaseMethod(this, 'onLoad');},onFocus:function(oFocusedPrevControl){this.$4_31();this._oAppView.setFocus();},onSize:function(){Kepler.Engine.UI.WeapAppFrame.callBaseMethod(this, 'onSize');this.updateSizeOverrideRect();},onPretranslateEvent:function(sender,eventArgs){if(eventArgs.get_categoryType()===Kepler.Framework.UI.Events.EventArgsNs.EventCategoryType.key){var $0=eventArgs;var $1=$0.get_altKey();var $2=$0.get_ctrlKey();var $3=$0.get_shiftKey();var $4=$0.get_key();if($0.get_type()===Kepler.Framework.UI.Events.EventArgsNs.EventType.keyDown){if($4===Kepler.Framework.UI.Events.EventArgsNs.Keys.f6&&!$1&&!$2&&!Kepler.Engine.Core.EngineApp.get_engine().get_isTutorial()){if(this.get_app().get_appName().toLowerCase()==='excel'){this.handleF6Navigation($3);}}}}return Kepler.Engine.UI.WeapAppFrame.callBaseMethod(this, 'onPretranslateEvent',[sender,eventArgs]);},$4_38:null,setData:function($p0){this.$4_39($p0);var $0=Object.keyExists($p0,'document_properties');if($0){this.add(this._oDocProperties);this._oDocProperties.show(true);var $1=this.get_ribbonManager().get_height()+parseInt(this.get_docProperties().get_element().style.height);this._oAppView.set_height(this.get_height()-$1-this.get_statusBar().get_height());this._oAppView.set_top($1);this._oDocProperties.setData($p0);}else{this.remove(this._oDocProperties);this._oDocProperties.show(false);var $2=this.get_ribbonManager().get_height();this._oAppView.set_height(this.get_height()-$2-this.get_statusBar().get_height());this._oAppView.set_top($2);this._oDocProperties.setData($p0);}},$4_39:function($p0){this.$4_3A($p0);this.$4_3B($p0);this.$4_3C($p0);},$4_3A:function($p0){var $0=$p0['frame_style_tag'];$0=(ss.isNull($0))?'':$0;var $1=$p0['frame_style_ext_res_tag'];if(!ss.isNullOrUndefined($1)){$0+=$1.replaceAll(Kepler.Framework.Core.Seperators.inverteD_QUESTION,Kepler.Engine.Core.EngineApp.get_engine().get_taskMaster().getKeplerRelativePath('')).replaceAll(Kepler.Framework.Core.Seperators.inverteD_EXCLAMATION,Kepler.Engine.Core.EngineApp.get_engine().get_taskMaster().get_extResourcePath());}this.$4_38.innerHTML=$0;if(String.isNullOrEmpty($0)){if(ss.isValue(this.$4_38)&&ss.isValue(this.$4_38.parentNode)){this.$4_38.parentNode.removeChild(this.$4_38);}}else{if(ss.isValue(this.$4_38)&&ss.isNullOrUndefined(this.$4_38.parentNode)){Kepler.Engine.UI.Helper.HtmlCssHelper.addElementToHead(this.$4_38);}}},$4_3B:function($p0){var $0=$p0['frame_position_and_size'];this._oPositionAndSizeOverride.setOverride($0);},$4_3C:function($p0){var $0=this.$4_2F;var $1=$p0['view_type'];if(ss.isValue($1)&&!!$1){this.$4_2F=parseInt($1,10)|0;}else{this.$4_2F=0;}if(this.$4_2F!==$0){if(this.$4_2F===10){this._oAppView.show(false);this._oRbnMngr.show(false);this._oStatusBar.show(false);this._oDocProperties.show(false);}else{this._oAppView.show(true);this._oRbnMngr.show(true);this._oStatusBar.show(true);this._oDocProperties.show(true);this._oAppView.setViewType(this.$4_2F);this._oRbnMngr.setViewType(this.$4_2F);this._oStatusBar.setViewType(this.$4_2F);}}}}
Kepler.Engine.UI.VirtualTypingControl=function(){Kepler.Engine.UI.VirtualTypingControl.initializeBase(this,['input',Kepler.Engine.UI.Controls.Control.csS_CLASS_POSITION_ABSOLUTE]);this.$2_3='';this.$2_1=new Kepler.Framework.Core.Timers.Timer(ss.Delegate.create(this,this.$2_5),50);this.set_position(new Kepler.Framework.UI.Point(-100,-100));this.show(false);}
Kepler.Engine.UI.VirtualTypingControl.prototype={$2_1:null,$2_2:0,$2_3:null,startTyping:function(eKey){if(eKey!==Kepler.Framework.UI.Events.EventArgsNs.Keys.deleteKey&&eKey!==Kepler.Framework.UI.Events.EventArgsNs.Keys.enter){throw new Error('Not Implemented Exception : '+'Key : '+eKey+' detection not implemented.');}if(this.$2_1.get_isRunning()){this.endTyping();}this.show(true);this.$2_2=eKey;if(Kepler.Framework.Core.Browser.BrowserCapabilities.get_name()===Kepler.Framework.Core.Browser.BrowserName.chrome&&Kepler.Framework.Core.Browser.BrowserCapabilities.get_platform()===Kepler.Framework.Core.Browser.BrowserPlatform.android){this.$2_1.start();}this.get_element().focus();if(eKey===Kepler.Framework.UI.Events.EventArgsNs.Keys.deleteKey){this.$2_3='A';(this.get_element()).value=this.$2_3;window.setTimeout(ss.Delegate.create(this,function(){
this.$2_4(1,1);}),200);}},endTyping:function(){this.$2_1.stop();this.get_element().blur();this.show(false);},$2_4:function($p0,$p1){this.get_element().selectionStart=1;this.get_element().selectionEnd=1;this.get_element().focus();},$2_5:function(){var $0=(this.get_element()).value;if(this.$2_2===Kepler.Framework.UI.Events.EventArgsNs.Keys.deleteKey){var $1=$0.length;if(!$1){Kepler.Engine.UI.UIManager.get_instance().fireKeyEventSequence(Kepler.Framework.UI.Events.EventArgsNs.Keys.deleteKey,'Delete',this);}else if($1>1){this.endTyping();var $2=$0.charCodeAt($0.length-1);Kepler.Engine.UI.UIManager.get_instance().fireKeyEventSequence($2,'',this);}}}}
Kepler.Engine.UI.DialogManager=function(){Kepler.Engine.UI.DialogManager.initializeBase(this,[Kepler.Engine.UI.Controls.Control.csS_CLASS_POSITION_ABSOLUTE,'DIALOG_LAYER']);this.$4_1=[];this.$4_2=[];this.$4_0=Kepler.Framework.UI.Controls.ZIndexConstants.dialog_Min;}
Kepler.Engine.UI.DialogManager.prototype={$4_0:0,$4_1:null,$4_2:null,get_visibleDialogs:function(){return this.$4_2;},$4_3:null,onLoad:function(){Kepler.Engine.UI.DialogManager.callBaseMethod(this, 'onLoad');},$4_4:function($p0){if($p0!=null){var $0=Kepler.Engine.Core.EngineApp.get_engine().get_desktopApp();var $1=($p0.get_dialogFrameType()===Kepler.Engine.UI.DialogFrameType.metroAppDialog);var $2=$p0.get_container();if(!this.$4_1.contains($p0)){var $4=false;if($1&&$0!=null){$4=$0.insertMetroApplication(0,$p0);}else{$4=this.insert(0,$2);}if($4){this.$4_1.add($p0);}if(!this.$4_2.contains($p0)&&$p0.get_visible()){this.$4_2.add($p0);}}var $3=null;if($1){$3=Kepler.Engine.Core.EngineApp.get_engine().getDesktopViewRect(true);}else{$3=Kepler.Engine.Core.EngineApp.get_engine().getDesktopViewRect();}if($3!=null){$2.set_size($3.get_size());}}},$4_5:function($p0){if($p0!=null&&this.$4_1.contains($p0)&&!this.$4_2.contains($p0)){if(this.$4_3!=null){var $2=($p0.get_dialogFrameType()===Kepler.Engine.UI.DialogFrameType.metroAppDialog);if(!$2){this.$4_A(this.$4_3);this.$4_3=null;}}var $0=$p0.get_container();$p0.show(true);var $1=null;if($p0.get_dialogFrameType()===Kepler.Engine.UI.DialogFrameType.metroAppDialog){$1=Kepler.Engine.Core.EngineApp.get_engine().getDesktopViewRect(true);}else{$1=Kepler.Engine.Core.EngineApp.get_engine().getDesktopViewRect();}$0.get_positionAndSizeOverrideHandler().update($1.get_size(),false);this.$4_2.add($p0);$0.set_zIndex(this.$4_0++);}},hideAllVisibleDialogs:function(){var $0=this.$4_2.length;for(var $1=0;$1<$0;$1++){this.$4_7(this.$4_2[0]);}},$4_6:function($p0){var $0=($p0.get_dialogFrameType()===Kepler.Engine.UI.DialogFrameType.metroAppDialog);if(this.$4_1.contains($p0)){var $1=false;if($0){$1=(Kepler.Engine.Core.EngineApp.get_engine().get_desktopApp()).removeMetroApplication($p0);}else{$1=(this).remove($p0.get_container());}if($1){this.$4_1.remove($p0);}if(this.$4_2.contains($p0)){this.$4_2.remove($p0);}}},$4_7:function($p0){if($p0!=null&&this.$4_2.contains($p0)){$p0.show(false);this.$4_2.remove($p0);this.$4_9();}},$4_8:function($p0){return this.$4_2.contains($p0);},$4_9:function(){if(!this.$4_2.length){this.$4_0=Kepler.Framework.UI.Controls.ZIndexConstants.dialog_Min;}},onParentResized:function(size){Kepler.Engine.UI.DialogManager.callBaseMethod(this, 'onParentResized',[size]);for(var $0=0;$0<this.$4_1.length;$0++){var $1=this.$4_1[$0];if(ss.isValue($1)){var $2=$1.get_container();var $3=null;if($1.get_dialogFrameType()===Kepler.Engine.UI.DialogFrameType.metroAppDialog){$3=Kepler.Engine.Core.EngineApp.get_engine().getDesktopViewRect(true);}else{$3=Kepler.Engine.Core.EngineApp.get_engine().getDesktopViewRect();}if($3!=null){$2.set_size($3.get_size());}if($1.get_visible()){if(Kepler.Engine.UI.UIManager.get_instance().get_typingLayout()===3){var $4=size.get_height()-(Kepler.Engine.UI.UIManager.playeR_COMPACT_HEIGHT+10);var $5=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientRect(Kepler.Engine.UI.UIManager.get_instance().get_typingControl());var $6=0;if($5.get_bottom()>=$4){$6=$5.get_bottom()-$4;if($6>0){var $7=$1.get_top()-$6;if($7>0){$1.set_top($7);}else{$2.set_top(-$6);}}}}else{$2.set_top(0);$1.onSize();}}}}},isModalDialogInView:function(){var $enum1=ss.IEnumerator.getEnumerator(this.$4_2);while($enum1.moveNext()){var $0=$enum1.current;if($0.get_dialogType()===Kepler.Engine.UI.DialogType.modal){return true;}}return false;},onSetDesktopApp:function(oDesktopApp){var $0=0;var $enum1=ss.IEnumerator.getEnumerator(this.$4_1);while($enum1.moveNext()){var $1=$enum1.current;var $2=($1.get_dialogFrameType()===Kepler.Engine.UI.DialogFrameType.metroAppDialog);if($2){var $3=$1.get_container();var $4=$3.get_parent();if($4!==this){if($4!=null){$4.remove($3);}oDesktopApp.insertMetroApplication(0,$1);}}else{$0++;}}this.$4_A(oDesktopApp);},$4_A:function($p0){var $0=this.get_parent();if($0!=null){$0.remove(this);}($p0).addDialogManager(this);}}
Type.registerNamespace('Kepler.Framework.UI.Controls');Kepler.Framework.UI.Controls.ObjectType=function(){};Kepler.Framework.UI.Controls.ObjectType.prototype = {link:0,button:1,image:2,textbox:3,checkbox:4,radioButton:5}
Kepler.Framework.UI.Controls.ObjectType.registerEnum('Kepler.Framework.UI.Controls.ObjectType',false);Kepler.Framework.UI.Controls.TextBoxType=function(){};Kepler.Framework.UI.Controls.TextBoxType.prototype = {normal:0,password:1,richTextBox:2,searchTextBox:3}
Kepler.Framework.UI.Controls.TextBoxType.registerEnum('Kepler.Framework.UI.Controls.TextBoxType',false);Kepler.Framework.UI.Controls.TextBoxInfo=function(oTextBoxType,bAllowChange,strInitialText){this.$0=(ss.isValue(oTextBoxType))?oTextBoxType:0;this.$1=(ss.isValue(bAllowChange))?bAllowChange:true;this.$2=(ss.isValue(strInitialText))?strInitialText:'';}
Kepler.Framework.UI.Controls.TextBoxInfo.prototype={$0:0,get_oTextBoxType:function(){return this.$0;},$1:false,get_allowChange:function(){return this.$1;},$2:null,get_initialText:function(){return this.$2;}}
Kepler.Framework.UI.Controls.FrameJumpInfo=function(){this._bStatus=false;this._iFrameJump=Kepler.Framework.Core.Globals.invaliD_VALUE;this._sActionString='';}
Kepler.Framework.UI.Controls.FrameJumpInfo.prototype={_bStatus:false,_iFrameJump:0,_sActionString:null}
Kepler.Framework.UI.Controls.ElementInfo=function(iIndex,iType,strActionString){this._iIndex=(ss.isValue(iIndex))?iIndex:-1;this._iType=(ss.isValue(iType))?iType:-1;this._strActionString=(ss.isValue(strActionString))?strActionString:null;this._iFrameToJump=-1;this._sCheckWithView=null;this._bIsAllowChange=false;this._sInitialValue=null;this._bIsInputType=false;this._iTextBoxType=-1;this._iCtrlPressedFrameJump=-1;this._iIsShiftCtrlPressedFrameJump=-1;}
Kepler.Framework.UI.Controls.ElementInfo.prototype={_iIndex:0,_iType:0,_strActionString:null,_iFrameToJump:0,_sCheckWithView:null,_bIsAllowChange:false,_sInitialValue:null,_bIsInputType:false,_iTextBoxType:0,_iCtrlPressedFrameJump:0,_iIsShiftCtrlPressedFrameJump:0,_iRightClickMenuNo:0}
Kepler.Framework.UI.Controls.DlgHtmlCtrl=function(strID,ptPosition,szSize){this.$3_7=-1;this.$3_B=[];Kepler.Framework.UI.Controls.DlgHtmlCtrl.initializeBase(this,['div','position_absolute '+'html_view_defaul',strID]);this.get_element().style.backgroundColor='#FBFBFB';this.get_element().style.overflow='hidden';this.$3_8=new Kepler.Framework.UI.Controls.HtmlDiv('html_edit_ctrl_'+strID);this.$3_4=new Kepler.Engine.UI.Controls.VScrollBar(new Kepler.Framework.UI.Point(this.get_width()-16,1),new Kepler.Framework.UI.Size(16,this.get_height()));this.$3_4.set_minThumbSize(50);this.$3_4.set_mfcBehaviour(false);this.$3_5=Kepler.Engine.UI.Controls.EScrollbarMode.NONE;this.$3_4.show(false);this.$3_4.set_focusable(false);this.$3_6=document.createElement('iframe');this.$3_6.id=strID+'_frame';this.$3_6.setAttribute('srcdoc','');this.$3_6.setAttribute('scrolling','no');this.$3_6.style.position='absolute';this.$3_6.style.overflow='hidden';this.get_element().appendChild(this.$3_6);if(ss.isValue(ptPosition)){this.set_position(ptPosition);}if(ss.isValue(szSize)){this.set_size(szSize);}this.$3_9=[];this.$3_C='common/css/';this.$3_D=[];this.$3_12();this.$3_F='';this.$3_11='';this.$3_E=null;this.$3_10=null;}
Kepler.Framework.UI.Controls.DlgHtmlCtrl.prototype={$3_4:null,get_verticalScrollBar:function(){return this.$3_4;},$3_5:0,get_scrollbarMode:function(){return this.$3_5;},set_scrollbarMode:function(value){this.$3_5=value;return value;},$3_6:null,get_frameElement:function(){return this.$3_6;},get_rightClickMenuNo:function(){return this.$3_7;},set_rightClickMenuNo:function(value){this.$3_7=value;return value;},$3_8:null,$3_9:null,$3_A:false,$3_C:null,$3_D:null,$3_E:null,$3_F:null,$3_10:null,$3_11:null,$3_12:function(){this.$3_B.add(Kepler.Engine.Core.EngineApp.get_engine().get_commonFontPath()+Kepler.Engine.Core.EngineApp.get_engine().get_commonFontCss());this.$3_B.add(this.$3_C+'common.min.css');var $0=Kepler.Engine.Core.EngineApp.get_engine().get_taskMaster();for(var $1=0;$1<this.$3_B.length;$1++){this.$3_B[$1]=$0.getKeplerRelativePath(this.$3_B[$1]);}},addHTMLData:function(strDocumentData,bIsDummyMode){this.$3_8.$3_12(strDocumentData,bIsDummyMode);this.$3_1C(this.$3_8.get_element().scrollHeight,this.get_height());},setBasePath:function(strPath){var $0=this.$3_6.contentWindow.document.getElementsByTagName('head');if(ss.isValue($0)&&$0.length>0){var $1=$0[0].getElementsByTagName('base');if(ss.isValue($1)&&$1.length>0){$1[0].setAttribute('href',strPath);}else{var $2=document.createElement('base');$2.setAttribute('href',strPath);$2.setAttribute('target','_blank');$0[0].appendChild($2);}}},onLoad:function(){Kepler.Framework.UI.Controls.DlgHtmlCtrl.callBaseMethod(this, 'onLoad');this.$3_13();this.$3_14();this.$3_1A();},$3_13:function(){this.$3_9.add(this.$3_8);},$3_14:function(){this.$3_6.addEventListener('load',ss.Delegate.create(this,this.$3_16),true);this.addEventListener('mousemove'|'mouseover'|'mouseout');},$3_15:function(){this.$3_1D();this.$3_13();},$3_16:function($p0){this.$3_6.contentWindow.document.addEventListener('contextmenu',ss.Delegate.create(this,this.$3_19));this.$3_15();this.setInternalData();},setInternalData:function(){if(!this.$3_A){this.$3_17();this.$3_A=true;this.$3_1C(this.$3_8.get_element().scrollHeight,this.get_height());if(!String.isNullOrEmpty(this.$3_F)){this.addCssData(this.$3_F);}if(!String.isNullOrEmpty(this.$3_11)){this.addJavaScriptData(this.$3_11);}}this.$3_18();},$3_17:function(){Framework.UI.Events.EventDispatcher.attachEvents(this.get_frameElement().contentWindow);var $0=this.$3_9.length;for(var $2=0;$2<$0;$2++){this.add(this.$3_9[$2],this.get_frameElement().contentWindow.document.body);}var $1=this.get_frameElement().contentWindow.document.body;if(ss.isValue($1)){$1.style.margin='0px';}},$3_18:function(){var $0=this.get_frameElement().contentWindow.document;var $1=$0.getElementsByTagName('head');var $2=null;if(ss.isValue($1)&&ss.isValue($1[0])){$2=$1[0];}if(ss.isNullOrUndefined($2)){return;}var $3=0;var $4=null;for($3=0;$3<this.$3_B.length;$3++){$4=$0.createElement('link');$4.setAttribute('type','text/css');$4.setAttribute('rel','stylesheet');$4.setAttribute('href',this.$3_B[$3]);$2.appendChild($4);this.$3_D.add($4);}},$3_19:function($p0){$p0.preventDefault();},$3_1A:function(){this.attachMessage(Kepler.Engine.UI.Controls.ScrollBarBase.msG_SCROLL_POS_CHANGING,ss.Delegate.create(this,this.$3_1E));this.attachMessage(Kepler.Engine.UI.Controls.ScrollBarBase.msG_SCROLL_POS_CHANGED,ss.Delegate.create(this,this.$3_1F));this.attachMessage('view_send_msg_to_engine',ss.Delegate.create(this,this.$3_20));},onFocus:function(oFocusedPrevControl){this.$3_8.setFocus();},getFocusRect:function(){return new Kepler.Framework.UI.Rect(0,0,0,0);},onSize:function(){Kepler.Framework.UI.Controls.DlgHtmlCtrl.callBaseMethod(this, 'onSize');this.get_verticalScrollBar().set_position(new Kepler.Framework.UI.Point(this.get_width()-16-4,1));this.get_verticalScrollBar().set_size(new Kepler.Framework.UI.Size(16,this.get_height()-4));this.$3_6.style.width=this.get_width()-5+'px';this.$3_6.style.height=this.get_height()-2+'px';this.$3_8.set_size(new Kepler.Framework.UI.Size(this.get_width()-5,this.get_height()-2));this.$3_1C(this.$3_8.get_element().scrollHeight,this.$3_8.get_element().clientHeight);},$3_1B:function($p0,$p1){var $0=new Kepler.Engine.UI.Controls.ScrollBarParams();$0._iMinPos=0;$0._iMaxPos=$p0-$p1;$0._iSingleStep=24;$0._iPageStep=$p1;this.$3_4.updateScrollbarParams($0,true);},$3_1C:function($p0,$p1){this.$3_1B($p0,$p1);this.$3_4.set_curPos(this.$3_8.get_element().scrollTop);if($p0>$p1){this.get_verticalScrollBar().show(true);this.set_scrollbarMode(Kepler.Engine.UI.Controls.EScrollbarMode.shoW_ALWAYS);}else{this.get_verticalScrollBar().show(false);this.set_scrollbarMode(Kepler.Engine.UI.Controls.EScrollbarMode.NONE);}},resetControls:function(){this.$3_8.resetControl();},getActionElement:function(){var $0=this.$3_8.$3_16();return $0;},drawVisualHint:function(oHintData){var $0=this.$3_8.$3_16();if($0!=null){this.$3_8.get_element().scrollTop=$0.offsetTop-10;}},eraseVisualHint:function(){},getIndexElement:function(iIndex){return this.getActionElement();},$3_1D:function(){var $0=this.$3_9.length;for(var $3=0;$3<$0;$3++){this.remove(this.$3_9[$3]);}var $1=this.get_frameElement().contentWindow.document;var $2=$1.getElementsByTagName('head');if(ss.isValue($2)&&ss.isValue($2[0])){var $enum1=ss.IEnumerator.getEnumerator(this.$3_D);while($enum1.moveNext()){var $4=$enum1.current;if($2[0].contains($4)){$2[0].removeChild($4);}}}this.$3_D.clear();this.$3_9.clear();},$3_1E:function($p0,$p1){var $0=$p0;this.$3_8.setCurScrollPos(0,$0);return true;},$3_1F:function($p0,$p1){var $0=$p0;this.$3_8.setCurScrollPos(0,$0);return true;},$3_20:function($p0,$p1){return this.sendMessageToParent('view_send_msg_to_engine',$p0,this);},addCssData:function(strCssData){var $0=this.get_frameElement().contentWindow.document;var $1=$0.getElementsByTagName('head');if($1[0].contains(this.$3_E)){$1[0].removeChild(this.$3_E);this.$3_D.remove(this.$3_E);}this.$3_E=$0.createElement('style');this.$3_E.setAttribute('type','text/css');this.$3_E.innerHTML=strCssData;$1[0].appendChild(this.$3_E);this.$3_D.add(this.$3_E);this.$3_F=strCssData;},addJavaScriptData:function(strJSData){var $0=this.get_frameElement().contentWindow.document;var $1=$0.getElementsByTagName('head');if($1[0].contains(this.$3_10)){$1[0].removeChild(this.$3_10);this.$3_D.remove(this.$3_10);}this.$3_10=$0.createElement('script');this.$3_10.setAttribute('type','text/javascript');this.$3_10.innerHTML=strJSData;$1[0].appendChild(this.$3_10);this.$3_D.add(this.$3_10);this.$3_11=strJSData;}}
Kepler.Framework.UI.Controls.HtmlDiv=function(strID){this.$3_7=new ss.StringBuilder();Kepler.Framework.UI.Controls.HtmlDiv.initializeBase(this,['div','',strID]);this.get_elementStyle().overflow='scroll';this.get_elementStyle().position='relative';this.get_elementStyle().margin='0px';this.$3_0=this.get_element().ownerDocument.createElement('style');this.$3_1=this.get_element().ownerDocument.createElement('style');this.set_rightClickEventNeeded(true);this.$3_3=[];this.$3_4=[];this.$3_5=[];this.$3_8=-1;this.$3_9=new Kepler.Framework.UI.Point(-1,-1);this.$3_A=-1;this.$3_B=-1;this.$3_C=new Kepler.Engine.UI.Controls.TextBox();this.$3_1D(this.$3_C);this.$3_D=new Kepler.Engine.UI.Controls.RichTextBox();this.$3_1D(this.$3_D);this.$3_E=new Kepler.Engine.UI.Controls.SearchTextControl(new Kepler.Framework.UI.Point(0,0),new Kepler.Framework.UI.Size(100,20));this.$3_1D(this.$3_E,this.$3_E.get_searchTextBox());this.$3_F=new Kepler.Engine.UI.Controls.TextBox();this.$3_F.setMode(Kepler.Framework.UI.Controls.TextControl.BaseTextBox.eMode.ePassword);this.$3_1D(this.$3_F);this.$3_10=false;}
Kepler.Framework.UI.Controls.HtmlDiv.prototype={$3_0:null,$3_1:null,$3_2:null,$3_3:null,$3_4:null,$3_5:null,$3_6:0,$3_8:0,$3_9:null,$3_A:0,$3_B:0,$3_C:null,$3_D:null,$3_E:null,$3_F:null,$3_10:false,onLoad:function(){Kepler.Framework.UI.Controls.HtmlDiv.callBaseMethod(this, 'onLoad');this.$3_11();},$3_11:function(){this.addEvents(Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseDown|Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseUp|Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseDoubleClick|Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseMove|Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseWheel|Kepler.Framework.UI.Events.EventArgsNs.EventType.keyDown|Kepler.Framework.UI.Events.EventArgsNs.EventType.keyPress|Kepler.Framework.UI.Events.EventArgsNs.EventType.keyUp|Kepler.Framework.UI.Events.EventArgsNs.EventType.touchStart|Kepler.Framework.UI.Events.EventArgsNs.EventType.touchEnd|Kepler.Framework.UI.Events.EventArgsNs.EventType.touchMove|Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseOver|Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseOut);},$3_12:function($p0,$p1){this.$3_2=$p0;if(!ss.isNullOrUndefined(this.get_element())){this.get_element().innerHTML=this.$3_2;this.get_element().setAttribute('bgcolor','#fff');this.get_elementStyle().overflowY='auto';this.get_elementStyle().overflowX='auto';var $0=this.get_element().getAttribute('style');if(!$0.trim().length){this.get_elementStyle().fontFamily='Times New Roman';this.get_elementStyle().fontSize='12px';}this.$3_3.clear();if(!$p1){this.initialiseActionElementInView();}this.remove(this.$3_C);this.remove(this.$3_D);this.remove(this.$3_E);this.remove(this.$3_F);this.add(this.$3_C);this.add(this.$3_D);this.add(this.$3_E);this.add(this.$3_F);this.$3_10=true;}},initialiseActionElementInView:function(){this.$3_4.clear();var $0=this.get_element().ownerDocument.getElementsByName('action_element');if(ss.isValue($0)&&$0.length>0){for(var $1=0;$1<$0.length;$1++){var $2=$0[$1];this.$3_4[$1]=$2;var $3=parseInt($2.getAttribute('objindex').toString());this.$3_3[$3]=new Kepler.Framework.UI.Controls.ElementInfo();this.$3_3[$3]._iIndex=$3;var $4=parseInt($2.getAttribute('objtype').toString());this.$3_3[$3]._iType=$4;if($2.hasAttribute('allowchange')){var $6=parseInt($2.getAttribute('allowchange').toString());this.$3_3[$3]._bIsAllowChange=($6===1)?true:false;this.$3_3[$3]._sInitialValue=this.$3_13($3);}else if($4===3){var $7=$2.getAttribute('textboxinfo').toString();var $8=this.$3_1E($7);if($8!=null){this.$3_3[$3]._iTextBoxType=$8.get_oTextBoxType();this.$3_3[$3]._bIsAllowChange=$8.get_allowChange();this.$3_3[$3]._sInitialValue=$8.get_initialText();}}else if($4===4||$4===5){this.$3_3[$3]._bIsAllowChange=true;this.$3_3[$3]._sInitialValue=this.$3_13($3);}var $5='';if(!$2.hasAttribute('actionstring')){$5=this.$3_13($3);}else{$5=$2.getAttribute('actionstring');}this.$3_3[$3]._strActionString=$5;if($2.hasAttribute('frametojump')){var $9=parseInt($2.getAttribute('frametojump').toString());this.$3_3[$3]._iFrameToJump=$9;}if($2.hasAttribute('checkwithview')){var $A=$2.getAttribute('checkwithview');this.$3_3[$3]._sCheckWithView=$A;}if($2.hasAttribute('ctrl_pressed')){var $B=$2.getAttribute('ctrl_pressed');if(!String.isNullOrEmpty($B)){var $C=parseInt($B);if(isNaN($C)){}this.$3_3[$3]._iCtrlPressedFrameJump=$C;}}if($2.hasAttribute('shift_ctrl_pressed')){var $D=$2.getAttribute('shift_ctrl_pressed');if(!String.isNullOrEmpty($D)){var $E=parseInt($D);if(isNaN($E)){}this.$3_3[$3]._iIsShiftCtrlPressedFrameJump=$E;}}if($2.hasAttribute('context_menu_no')){var $F=$2.getAttribute('context_menu_no');if(!String.isNullOrEmpty($F)){var $10=parseInt($F);if(isNaN($10)){}this.$3_3[$3]._iRightClickMenuNo=$10;}}}}},$3_13:function($p0){var $0='';var $1=this.$3_4[$p0].cloneNode(true);var $2=$1.tagName;if($2==='INPUT'){$0=($1).value;}else{$0=$1.textContent;}return $0;},$3_14:function($p0){var $0=this.$3_3[$p0]._sInitialValue;var $1=this.$3_4[$p0].tagName;if($1==='INPUT'){(this.$3_4[$p0]).value=$0;}else if($1==='DIV'){this.$3_4[$p0].textContent=$0;}},initStyleElements:function(){var $0=(ss.isValue(this.get_element().ownerDocument))?this.get_element().ownerDocument.getElementsByTagName('head')[0]:null;if(ss.isValue($0)){$0.appendChild(this.$3_0);$0.appendChild(this.$3_1);}},setCurScrollPos:function(x,y){var $0=this.get_element().scrollLeft,$1=this.get_element().scrollTop;this.get_element().scrollLeft=x;this.get_element().scrollTop=y;},$3_15:function($p0){return Kepler.Engine.UI.Helper.HtmlCssHelper.getParentElementByName($p0,'action_element');},$3_16:function(){var $0=null;for(var $1=0;$1<this.$3_4.length;$1++){if(this.$3_18($1)!==-1){$0=this.$3_4[$1];}}return $0;},$3_17:function($p0){var $0=parseInt($p0.getAttribute('objindex').toString());this.$3_6=this.$3_18($0);if(this.$3_6!==-1){var $1=this.$3_3[$0]._sCheckWithView;var $2=(String.isNullOrEmpty($1))?true:this.$3_1A($1);var $3=this.$3_1B();if(!this.$3_5.contains($0)){this.$3_7.append(this.$3_19($0));}if($2&&!$3){return true;}return false;}else{this.$3_1B();this.$3_7.append(this.$3_19($0));return false;}},$3_18:function($p0){var $0=-1;if(this.$3_3[$p0]._iType===0){if(Framework.UI.Events.EventDispatcher.get_ctrlKey()&&Framework.UI.Events.EventDispatcher.get_shiftKey()){$0=this.$3_3[$p0]._iIsShiftCtrlPressedFrameJump;}else if(Framework.UI.Events.EventDispatcher.get_ctrlKey()){$0=this.$3_3[$p0]._iCtrlPressedFrameJump;}else{$0=this.$3_3[$p0]._iFrameToJump;}}else{$0=this.$3_3[$p0]._iFrameToJump;}return $0;},$3_19:function($p0){var $0=this.$3_3[$p0]._iType;var $1=this.$3_3[$p0]._strActionString;var $2='';switch($0){case 0:if(Framework.UI.Events.EventDispatcher.get_ctrlKey()&&Framework.UI.Events.EventDispatcher.get_shiftKey()){$2='Ctrl pressed And ';}else if(Framework.UI.Events.EventDispatcher.get_ctrlKey()){$2='Ctrl + Shift pressed And ';}$2+='Clicked Link: '+$1;break;case 1:$2='Clicked '+$1+' Button';break;case 2:$2='Clicked Image: '+$1;break;case 4:$2='Checked '+$1+' checkbox';break;case 5:$2='Checked '+$1;break;case 3:var $3=this.$3_13($p0);$2='Changed '+$1+' to : '+$3;break;default:$2='Not add in Action string';break;}return $2;},getFocusRect:function(){var $0=new Kepler.Framework.UI.Rect(0,0,0,0);if(this.$3_8===-1||this.$3_8>=this.$3_4.length){return $0;}$0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementRect(this.$3_4[this.$3_8]);$0.set_width(this.$3_4[this.$3_8].offsetWidth);$0.set_height(this.$3_4[this.$3_8].offsetHeight);if(this.$3_3[this.$3_8]._iType===1){$0.set_left($0.get_left()+1);$0.set_top($0.get_top()+1);$0.set_width($0.get_width()-4);$0.set_height($0.get_height()-4);}else if(this.$3_3[this.$3_8]._iType===3){$0.set_left(-1);$0.set_top(-1);$0.set_width(0);$0.set_height(0);}var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementRect(this.get_element());if(!$1.isRectInRect($0)){var $2=$0.get_top()-$1.get_bottom()+$0.get_height()+10;this.get_element().scrollTop+=$2;$0.set_top($0.get_top()-$2);}return $0;},onFocus:function(oFocusedPrevControl){this.$3_8=-1;this.setFocus();},getNextFocusableControlIndex:function(bShift,iCurIndex){if(bShift){return -1;}return Kepler.Framework.UI.Controls.HtmlDiv.callBaseMethod(this, 'getNextFocusableControlIndex',[bShift,iCurIndex]);},$3_1A:function($p0){var $0=$p0.split(Kepler.Framework.Core.Seperators.PIPE);var $1=false;var $2=true;for(var $3=0;$3<$0.length;$3++){var $4=$0[$3].split(Kepler.Framework.Core.Seperators.miD_DOT);var $5=parseInt($4[0],10);var $6=$4[1].trim();var $7=this.$3_13($5);$1=!$6.compareTo($7);if(!!$7.compareTo(this.$3_3[$5]._sInitialValue)||$1){this.$3_7.append(this.$3_19($5)+', ');}$2=($2&$1)===1;this.$3_5.add($5);}return $2;},$3_1B:function(){var $0=false;for(var $1=0;$1<this.$3_4.length;$1++){if(this.$3_3[$1]._bIsAllowChange&&!this.$3_5.contains($1)){var $2=this.$3_13($1);if($2!==this.$3_3[$1]._sInitialValue){$0=true;this.$3_7.append(this.$3_19($1)+', ');}}}return $0;},resetControl:function(){for(var $0=0;$0<this.$3_3.length;$0++){if(this.$3_3[$0]._iType===3||this.$3_3[$0]._iType===4||this.$3_3[$0]._iType===5){this.$3_14($0);}}this.$3_7.clear();this.$3_5.clear();this.$3_10=true;},processTabOnControl:function(keyEvent,oCtrl){if(!this.$3_4.length){return Kepler.Framework.UI.Controls.HtmlDiv.callBaseMethod(this, 'processTabOnControl',[keyEvent,oCtrl]);}var $0=this.$3_8;var $1=keyEvent.get_shiftKey();if($0===-1){$0=($1)?-1:0;}else{$0=($1)?--$0:++$0;}if($0>=this.$3_4.length||$0<=-1){return Kepler.Framework.UI.Controls.HtmlDiv.callBaseMethod(this, 'processTabOnControl',[keyEvent,oCtrl]);}else{if(this.$3_3[this.$3_8]._iType===3){this.$3_22(false);}this.$3_8=$0;this.setFocusRectParams();if(this.$3_3[$0]._bIsAllowChange){if(this.$3_3[$0]._iType===3){var $2=this.$3_3[$0]._iTextBoxType;this.$3_22(true,$2);}}}return true;},$3_1C:function($p0){this.$3_10=false;var $0=new Kepler.Framework.UI.Controls.FrameJumpInfo();$0._bStatus=this.$3_17($p0);$0._sActionString=this.$3_7.toString();$0._iFrameJump=this.$3_6;this.sendMessageToParent('view_send_msg_to_engine',$0,null);},$3_1D:function($p0,$p1){$p0.show(false);$p0.set_zIndex(1);if(ss.isValue($p1)){$p1.add_focus(ss.Delegate.create(this,this.$3_20));$p1.add_lostFocus(ss.Delegate.create(this,this.$3_1F));}else{$p0.add_focus(ss.Delegate.create(this,this.$3_20));$p0.add_lostFocus(ss.Delegate.create(this,this.$3_1F));}},$3_1E:function($p0){if(String.isNullOrEmpty($p0)){return null;}var $0=$p0.split(Kepler.Framework.Core.Seperators.PIPE);if(!$0.length||$0.length>4){return null;}var $1=parseInt($0[0]);var $2=parseInt($0[1])===1;var $3=$0[2];var $4=new Kepler.Framework.UI.Controls.TextBoxInfo($1,$2,$3);return $4;},$3_1F:function($p0,$p1){var $0=this.$3_4[this.$3_8];if($0!=null){var $1=this.$3_21(this.$3_8);var $2=($1).get_text();$0.innerHTML=$2;($1).setText('',false);($1).show(false);if(this.$3_8!==-1&&!this.$3_3[this.$3_8]._bIsAllowChange&&this.$3_10){this.$3_1C(this.$3_4[this.$3_8]);}}},$3_20:function($p0,$p1){var $0=this.$3_4[this.$3_8];if($0!=null){var $1=this.$3_21(this.$3_8);var $2=$0.innerHTML;($1).setText($2);($1).setSelection($2.length,$2.length);}},$3_21:function($p0){var $0=null;var $1=this.$3_3[$p0]._iTextBoxType;switch($1){case 0:$0=this.$3_C;break;case 1:$0=this.$3_F;break;case 2:$0=this.$3_D;break;case 3:$0=this.$3_E;break;}return $0;},$3_22:function($p0,$p1){var $0=this.$3_8;var $1=this.$3_21($0);if($p0){if($0!==-1){var $2=this.$3_4[$0];var $3=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientRect($2);$3.set_width($3.get_width()-2);$3.set_height($3.get_height()-2);$1.set_position($3.get_topLeft());$1.set_size($3.get_size());$1.show(true);$1.setFocus();}}else{this.setFocus();$1.show(false);this.$3_8=$0;}},onRButtonDown:function(mouseEventArgs){Kepler.Framework.UI.Controls.HtmlDiv.callBaseMethod(this, 'onRButtonDown',[mouseEventArgs]);var $0=this.$3_15(mouseEventArgs.get_target());if($0!=null){var $1=parseInt($0.getAttribute('objindex').toString());this.$3_8=$1;if(this.$3_3[$1]._iRightClickMenuNo!==-1){var $2=this.$3_3[$1]._iRightClickMenuNo;var $3=Kepler.Engine.UI.Controls.Control.getClientPointFromEventArgs(mouseEventArgs);var $4=new Kepler.Framework.UI.Rect($3.get_x(),$3.get_y(),1,1);var $5=new Kepler.Engine.UI.MenuWnd_MenuParams(this,$2,-1,$4,null);$5.setPositioningOrder(9);this.$3_23($5);}}else{if((this.get_parent()).get_rightClickMenuNo()!==-1){var $6=(this.get_parent()).get_rightClickMenuNo();var $7=Kepler.Engine.UI.Controls.Control.getClientPointFromEventArgs(mouseEventArgs);var $8=new Kepler.Framework.UI.Rect($7.get_x(),$7.get_y(),1,1);var $9=new Kepler.Engine.UI.MenuWnd_MenuParams(this,$6,-1,$8,null);$9.setPositioningOrder(9);this.$3_23($9);}}},$3_23:function($p0){var $0=Kepler.Engine.Core.EngineApp.get_engine().get_currentApp();$0.getAppFrame().sendMessage('msg_show_menu',null,$p0);},onLButtonDown:function(mouseEventArgs){mouseEventArgs.set_propogationStopped(true);if(this.$3_8!==-1&&this.$3_3.length>0&&this.$3_3[this.$3_8]._iType===3){this.$3_22(false);}var $0=this.$3_15(mouseEventArgs.get_target());if($0!=null){var $1=parseInt($0.getAttribute('objindex').toString());this.$3_8=$1;if(this.$3_3[$1]._iType===3){var $2=this.$3_3[$1]._iTextBoxType;this.$3_22(true,$2);}else if(this.$3_3[$1]._bIsAllowChange){mouseEventArgs.set_defaultPrevented(false);mouseEventArgs.set_propogationStopped(false);}}},onLButtonUp:function(mouseEventArgs){var $0=this.$3_15(mouseEventArgs.get_target());if($0!=null){var $1=parseInt($0.getAttribute('objindex').toString());if(!this.$3_3[$1]._bIsAllowChange&&this.$3_10){this.$3_1C($0);}else{mouseEventArgs.set_defaultPrevented(false);mouseEventArgs.set_propogationStopped(false);}}else{if(this.$3_8!==-1&&this.$3_3.length>0&&this.$3_3[this.$3_8]._iType===3&&!this.$3_3[this.$3_8]._bIsAllowChange&&this.$3_10){this.$3_1C(this.$3_4[this.$3_8]);}this.$3_8=-1;}},onTouchStart:function(evt){if(evt.get_touches().length===1){this.$3_A=this.get_element().scrollTop;this.$3_B=this.get_element().scrollLeft;this.$3_9=new Kepler.Framework.UI.Point(evt.get_changedTouches()[0].get_clientX(),evt.get_changedTouches()[0].get_clientY());this.onLButtonDown(evt.toMouseEventArgs());evt.set_eventHandled(true);}Kepler.Framework.UI.Controls.HtmlDiv.callBaseMethod(this, 'onTouchStart',[evt]);evt.set_propogationStopped(false);},onTouchEnd:function(evt){if(evt.get_touches().length===1){this.$3_9=new Kepler.Framework.UI.Point(-1,-1);this.$3_A=-1;this.$3_B=-1;this.onLButtonUp(evt.toMouseEventArgs());evt.set_eventHandled(true);}Kepler.Framework.UI.Controls.HtmlDiv.callBaseMethod(this, 'onTouchEnd',[evt]);evt.set_propogationStopped(false);},onKeyDown:function(evt){var $0=this.getFocus();if($0===this){var $1=this.$3_15(evt.get_target());if($1!=null){var $2=parseInt($1.getAttribute('objindex').toString());if(this.$3_3[$2]._bIsAllowChange){evt.set_defaultPrevented(false);}}switch(evt.get_key()){case Kepler.Framework.UI.Events.EventArgsNs.Keys.tab:var $3=evt.get_shiftKey();if(this.$3_8===-1){this.$3_8=($3)?this.$3_4.length-1:0;}else{this.$3_8=($3)?--this.$3_8:++this.$3_8;}if(this.$3_8>=this.$3_4.length||this.$3_8<=-1||!this.$3_4.length){Kepler.Framework.UI.Controls.HtmlDiv.callBaseMethod(this, 'onKeyDown',[evt]);}else{this.setFocusRectParams();if(this.$3_3[this.$3_8]._iType===3){var $4=this.$3_3[this.$3_8]._iTextBoxType;this.$3_22(true,$4);}}break;case Kepler.Framework.UI.Events.EventArgsNs.Keys.enter:if(this.$3_8!==-1&&!this.$3_3[this.$3_8]._bIsAllowChange){var $5=new Kepler.Framework.UI.Controls.FrameJumpInfo();$5._bStatus=this.$3_17(this.$3_4[this.$3_8]);$5._sActionString=this.$3_7.toString();$5._iFrameJump=this.$3_6;this.sendMessageToParent('view_send_msg_to_engine',$5,null);}break;case Kepler.Framework.UI.Events.EventArgsNs.Keys.up:break;case Kepler.Framework.UI.Events.EventArgsNs.Keys.down:break;case Kepler.Framework.UI.Events.EventArgsNs.Keys.home:break;case Kepler.Framework.UI.Events.EventArgsNs.Keys.end:break;case Kepler.Framework.UI.Events.EventArgsNs.Keys.pageUp:break;case Kepler.Framework.UI.Events.EventArgsNs.Keys.pageDown:break;}}else{Kepler.Framework.UI.Controls.HtmlDiv.callBaseMethod(this, 'onKeyDown',[evt]);}},onKeyPress:function(evt){var $0=this.$3_15(evt.get_target());if($0!=null){var $1=parseInt($0.getAttribute('objindex').toString());if(this.$3_3[$1]._bIsAllowChange){evt.set_defaultPrevented(false);}else{Kepler.Framework.UI.Controls.HtmlDiv.callBaseMethod(this, 'onKeyUp',[evt]);}}},onKeyUp:function(evt){var $0=this.$3_15(evt.get_target());if($0!=null){var $1=parseInt($0.getAttribute('objindex').toString());if(this.$3_3[$1]._bIsAllowChange){evt.set_defaultPrevented(false);}else{Kepler.Framework.UI.Controls.HtmlDiv.callBaseMethod(this, 'onKeyUp',[evt]);}}},onMouseWheel:function(evt){Kepler.Framework.UI.Controls.HtmlDiv.callBaseMethod(this, 'onMouseWheel',[evt]);var $0=evt.get_delta();$0=($0>0)?$0+45:$0-45;this.get_element().scrollTop+=(-$0);},onMouseOver:function(evt){Kepler.Framework.UI.Controls.HtmlDiv.callBaseMethod(this, 'onMouseOver',[evt]);evt.set_propogationStopped(false);},onMouseOut:function(evt){Kepler.Framework.UI.Controls.HtmlDiv.callBaseMethod(this, 'onMouseOut',[evt]);evt.set_propogationStopped(false);},onTouchMove:function(evt){Kepler.Framework.UI.Controls.HtmlDiv.callBaseMethod(this, 'onTouchMove',[evt]);var $0=new Kepler.Framework.UI.Point(evt.get_changedTouches()[0].get_clientX(),evt.get_changedTouches()[0].get_clientY());var $1=this.$3_9.get_y()-$0.get_y();var $2=this.$3_9.get_x()-$0.get_x();this.setCurScrollPos(this.$3_B+$2,this.$3_A+$1);}}
Type.registerNamespace('Kepler.Engine.UI.Helper');Kepler.Engine.UI.Helper.AudioEvents=function(){};Kepler.Engine.UI.Helper.AudioEvents.prototype = {canplay:'canplay',canplaythrough:'canplaythrough',durationchange:'durationchange',emptied:'emptied',ended:'ended',loadeddata:'loadeddata',loadedmetadata:'loadedmetadata',loadstart:'loadstart',pause:'pause',play:'play',playing:'playing',progress:'progress',ratechange:'ratechange',seeked:'seeked',seeking:'seeking',stalled:'stalled',suspend:'suspend',timeupdate:'timeupdate',volumechange:'volumechange',waiting:'waiting'}
Kepler.Engine.UI.Helper.AudioEvents.registerEnum('Kepler.Engine.UI.Helper.AudioEvents',false);Kepler.Engine.UI.Helper.ReadyState=function(){};Kepler.Engine.UI.Helper.ReadyState.prototype = {havE_NOTHING:0,havE_METADATA:1,havE_CURRENT_DATA:2,havE_FUTURE_DATA:3,havE_ENOUGH_DATA:4}
Kepler.Engine.UI.Helper.ReadyState.registerEnum('Kepler.Engine.UI.Helper.ReadyState',false);Kepler.Engine.UI.Helper.AudioPreload=function(){};Kepler.Engine.UI.Helper.AudioPreload.prototype = {auto:'auto',metadata:'metadata',none:'none'}
Kepler.Engine.UI.Helper.AudioPreload.registerEnum('Kepler.Engine.UI.Helper.AudioPreload',false);Kepler.Engine.UI.Helper.ePrecacheFinishEventType=function(){};Kepler.Engine.UI.Helper.ePrecacheFinishEventType.prototype = {DONE:0,FAILED:1,TIMEOUT:2}
Kepler.Engine.UI.Helper.ePrecacheFinishEventType.registerEnum('Kepler.Engine.UI.Helper.ePrecacheFinishEventType',false);Kepler.Engine.UI.Helper.Metro_UI_Nodes=function(){};Kepler.Engine.UI.Helper.Metro_UI_Nodes.prototype = {page:'page',button:'button',style:'style',table:'table',searchbox:'searchbox',label:'label',metroapp_title:'metroapp_title',page_navigator:'page_navigator',hyperlink:'hyperlink',combobox:'combobox',parent_div:'parent_div',pane_container:'pane_container',container_wnd:'container_wnd',title_container:'title_container',pane_title:'pane_title',pane_icon:'pane_icon',pane_backbutton:'pane_backbutton',setting_pane:'setting_pane',setting_pane_button:'setting_pane_button',list_text_item:'list_text_item',list_text_img_item:'list_text_img_item',list_text_img_des_item:'list_text_img_des_item',list_ctrl:'list_ctrl'}
Kepler.Engine.UI.Helper.Metro_UI_Nodes.registerEnum('Kepler.Engine.UI.Helper.Metro_UI_Nodes',false);Kepler.Engine.UI.Helper.Metro_UI_Attributes=function(){};Kepler.Engine.UI.Helper.Metro_UI_Attributes.prototype = {id:'id',left:'left',top:'top',width:'width',height:'height',css_class:'css_class',enable:'enable',text:'text',img_class:'img_class',visible:'visible'}
Kepler.Engine.UI.Helper.Metro_UI_Attributes.registerEnum('Kepler.Engine.UI.Helper.Metro_UI_Attributes',false);Kepler.Engine.UI.Helper.AudioHandler=function(){this.$4='';this.$3=false;this.$5=-1;this.$6=-1;this.$7=new Kepler.Framework.Core.Timers.Timer(ss.Delegate.create(this,this.$17),5000);}
Kepler.Engine.UI.Helper.AudioHandler.prototype={$2:null,$3:false,get_loaded:function(){return this.$3;},$4:null,get_fileaName:function(){return this.$4;},$5:0,$6:0,$7:null,add_$8:function($p0){this.$9=ss.Delegate.combine(this.$9,$p0);},remove_$8:function($p0){this.$9=ss.Delegate.remove(this.$9,$p0);},$9:null,add_$A:function($p0){this.$B=ss.Delegate.combine(this.$B,$p0);},remove_$A:function($p0){this.$B=ss.Delegate.remove(this.$B,$p0);},$B:null,add_$C:function($p0){this.$D=ss.Delegate.combine(this.$D,$p0);},remove_$C:function($p0){this.$D=ss.Delegate.remove(this.$D,$p0);},$D:null,addEndEventListener:function(evtEnd){this.add_$8(evtEnd);},removeEndEventListener:function(evtEnd){this.remove_$8(evtEnd);},addLoadEventListener:function(evtLoad){this.add_$A(evtLoad);},removeLoadEventListener:function(evtLoad){this.remove_$A(evtLoad);},addLoadTimeOutEventListener:function(evtLoadTimeOut){this.add_$C(evtLoadTimeOut);},removeLoadTimeOutEventListener:function(evtLoadTimeOut){this.remove_$C(evtLoadTimeOut);},changeAudio:function(strFileName,bExtensionPresent,bRefreshAudio){if(ss.isNullOrUndefined(bRefreshAudio)){bRefreshAudio=true;}if(bExtensionPresent){strFileName=Kepler.Framework.Core.Helper.PathHelper.removeExtension(strFileName);}this.$4=strFileName;if(bRefreshAudio){return this.refreshAudio();}return true;},$E:function(){var $0=false;$0=((this.$2.canPlayType!==null)&&(this.$2.canPlayType!==undefined));if($0){var $1='';$1=this.$2.canPlayType('audio/mpeg');if(ss.isNullOrUndefined($1)||$1!=='probably'){$1=this.$2.canPlayType('audio/mp3');}if(Kepler.Framework.Core.Browser.BrowserCapabilities.get_name()===Kepler.Framework.Core.Browser.BrowserName.firefox){$1=$1+'_firefox_plays_ogg_more_fluently';}if(ss.isValue($1)){return ($1==='probably'||$1==='maybe');}}return false;},$F:function(){var $0=false;$0=((this.$2.canPlayType!==null)&&(this.$2.canPlayType!==undefined));if($0){var $1='';$1=this.$2.canPlayType('audio/ogg');if(ss.isValue($1)){return ($1==='probably'||$1==='maybe');}}return false;},refreshAudio:function(){var $0=false;this.$3=false;this.createAndAddAudio();if(ss.isNullOrUndefined(Kepler.Engine.UI.Helper.AudioHandler.$0)){Kepler.Engine.UI.Helper.AudioHandler.$0=this.$E();}if(ss.isNullOrUndefined(Kepler.Engine.UI.Helper.AudioHandler.$1)){Kepler.Engine.UI.Helper.AudioHandler.$1=this.$F();}if(Kepler.Engine.UI.Helper.AudioHandler.$0){var $1=new ss.StringBuilder(this.$4).append('.mp3').toString();$1=Kepler.Engine.Core.EngineApp.get_engine().get_taskMaster().getKeplerRelativePath($1);Kepler.Engine.UI.Helper.AudioHelper.removeSourceType(this.$2,'audio/mpeg');Kepler.Engine.UI.Helper.AudioHelper.addSource(this.$2,$1,'audio/mpeg');}if(Kepler.Engine.UI.Helper.AudioHandler.$1){var $2=new ss.StringBuilder(this.$4).append('.ogg').toString();$2=Kepler.Engine.Core.EngineApp.get_engine().get_taskMaster().getKeplerRelativePath($2);Kepler.Engine.UI.Helper.AudioHelper.removeSourceType(this.$2,'audio/ogg');Kepler.Engine.UI.Helper.AudioHelper.addSource(this.$2,$2,'audio/ogg');}if(Kepler.Engine.UI.Helper.AudioHandler.$0||Kepler.Engine.UI.Helper.AudioHandler.$1){$0=Kepler.Engine.UI.Helper.AudioHelper.load(this.$2,ss.Delegate.create(this,this.$11),ss.Delegate.create(this,this.$12),ss.Delegate.create(this,this.$13));return $0;}else{return false;}},$10:function(){this.$2=Kepler.Engine.UI.Helper.AudioHelper.createAudio();this.$2.id='audio-element';},stopAudio:function(){this.$7.stop();},removeAudioFromDom:function(){if(this.$2!=null){this.$2.parentNode.removeChild(this.$2);this.$2=null;}},createAndAddAudio:function(elmParent){if(this.$2!=null){if(ss.isNullOrUndefined(elmParent)){elmParent=this.$2.parentNode;}this.$2.parentNode.removeChild(this.$2);this.$2=null;}else{if(ss.isNullOrUndefined(elmParent)){elmParent=document.body;}}this.$10();elmParent.appendChild(this.$2);},isPlaying:function(){if(this.$3&&ss.isValue(this.$2)){return Kepler.Engine.UI.Helper.AudioHelper.isPlaying(this.$2);}return false;},seekToEnd:function(){var $0=this.$2.duration;if(ss.isValue($0)&&isFinite($0)){return Kepler.Engine.UI.Helper.AudioHelper.seekTo(this.$2,this.$2.duration,ss.Delegate.create(this,this.$14));}else{return false;}},playAudio:function(dStart,dEnd){if(ss.isNullOrUndefined(dStart)||ss.isNullOrUndefined(dEnd)){return false;}if(dStart>=dEnd){return false;}if(!this.$3){this.$2.play();this.$5=dStart;this.$6=dEnd;}else{this.$5=-1;this.$6=-1;Kepler.Engine.UI.Helper.AudioHelper.play(this.$2,dStart,dEnd,ss.Delegate.create(this,this.$16));}return true;},pauseAudio:function(){if(this.$3){Kepler.Engine.UI.Helper.AudioHelper.pause(this.$2);}},$11:function($p0){this.$7.start();},$12:function($p0){},$13:function($p0){var $0=true;if(Kepler.Framework.Core.Browser.BrowserCapabilities.get_platform()===Kepler.Framework.Core.Browser.BrowserPlatform.android){$0=!this.seekToEnd();}if($0){this.$15($p0);}},$14:function($p0){this.$15($p0);},$15:function($p0){this.$3=true;this.$7.stop();if(this.$5!==-1&&this.$6!==-1){var $0=this.$5;var $1=this.$6;this.$5=-1;this.$6=-1;Kepler.Engine.UI.Helper.AudioHelper.play(this.$2,$0,$1,ss.Delegate.create(this,this.$16));}this.$1A($p0);},$16:function($p0){this.$19($p0);},$17:function(){this.$7.stop();try{Kepler.Engine.UI.Helper.AudioHelper.pause(this.$2);}catch($0){}this.$1B();},$18:function(){if(!Kepler.Engine.UI.Helper.AudioHelper.isPlaying(this.$2)){return;}var $0=this.$2.currentTime;var $1=Kepler.Engine.UI.Helper.AudioHelper.getAudioPlaybackEndTime(this.$2);var $2=($1-$0)*1000;if($2>25){}else{Kepler.Engine.UI.Helper.AudioHelper.pause(this.$2);this.$19(null);}},$19:function($p0){if(!ss.isNull(this.$9)){this.$9(this,null);}},$1A:function($p0){if(!ss.isNull(this.$B)){this.$B(this,null);}},$1B:function(){if(!ss.isNull(this.$D)){this.$D(this,null);}},toString:function(){return this.$4;}}
Kepler.Engine.UI.Helper.Engine$13=function(audio,dStart){this.$0=audio;this.$1=dStart;}
Kepler.Engine.UI.Helper.Engine$13.prototype={$0:null,$1:0}
Kepler.Engine.UI.Helper.AudioHelper=function(){}
Kepler.Engine.UI.Helper.AudioHelper.createAudio=function(){return document.createElement('audio');}
Kepler.Engine.UI.Helper.AudioHelper.showHideControl=function(elmAudio,bShowControl){if(bShowControl){elmAudio.setAttribute('controls','controls');}else{elmAudio.removeAttribute('controls');}}
Kepler.Engine.UI.Helper.AudioHelper.preload=function(elmAudio,enumPreload){if(ss.isValue(enumPreload)){elmAudio.setAttribute('preload',enumPreload);}else{elmAudio.removeAttribute('preload');}}
Kepler.Engine.UI.Helper.AudioHelper.autoplay=function(elmAudio,bAutoplay){if(bAutoplay){elmAudio.setAttribute('autoplay','autoplay');}else{elmAudio.removeAttribute('autoplay');}}
Kepler.Engine.UI.Helper.AudioHelper.addSource=function(elmAudio,strUrl,strMimeType){var $0=document.createElement('source');$0.setAttribute('src',strUrl);$0.setAttribute('type',strMimeType);elmAudio.appendChild($0);}
Kepler.Engine.UI.Helper.AudioHelper.removeSource=function(elmAudio,strUrl){var $0=0;var $1=elmAudio.children;for(var $2=0;$2<$1.length;){var $3=$1[$2];if(ss.isValue($3)){if(!$3.tagName.compareTo('source',true)){if(!($3.getAttribute('src')).compareTo(strUrl,true)){elmAudio.removeChild($3);$0++;continue;}}}$2++;}return $0;}
Kepler.Engine.UI.Helper.AudioHelper.removeSourceType=function(elmAudio,strMimeType){var $0=0;var $1=elmAudio.children;for(var $2=0;$2<$1.length;){var $3=$1[$2];if(ss.isValue($3)){if(!$3.tagName.compareTo('source',true)){if(!($3.getAttribute('type')).compareTo(strMimeType,true)){elmAudio.removeChild($3);$0++;continue;}}}$2++;}return $0;}
Kepler.Engine.UI.Helper.AudioHelper.isSeeking=function(elmAudio){var $0=elmAudio.getAttribute('seeking');if(ss.isValue($0)&&((Type.getInstanceType($0)!==String&&!!$0)||$0==='true')){return true;}return false;}
Kepler.Engine.UI.Helper.AudioHelper.seekTo=function(elmAudio,dSec,onSeeked){var $0=elmAudio.readyState;if($0===0){return false;}else{if(Kepler.Engine.UI.Helper.AudioHelper.isSeeking(elmAudio)){elmAudio._tmpSeekToPosition=dSec;}else{elmAudio.setAttribute('seeking',true);if(dSec>elmAudio.duration){if(!elmAudio.duration){Kepler.Engine.UI.Helper.AudioHelper.mute(elmAudio,true);Kepler.Engine.UI.Helper.AudioHelper.play(elmAudio,0,1,null);var $3=new Kepler.Engine.UI.Helper.Engine$13(elmAudio,dSec);Kepler.Engine.UI.Helper.AudioHelper.$0=new Kepler.Framework.Core.Timers.Timer(Kepler.Engine.UI.Helper.AudioHelper.$2,100);Kepler.Engine.UI.Helper.AudioHelper.$0.start($3);}else{dSec=elmAudio.duration;}}var $1=elmAudio.seekable;if(ss.isValue($1)&&$1.length>0){var $4=0;for($4=0;$4<$1.length;$4++){if(dSec<$1.start($4)){dSec=$1.start($4);}}if(dSec>$1.end($4-1)){dSec=$1.end($4-1);}}var $2=(elmAudio.currentTime===dSec);if(!$2){if(ss.isValue(onSeeked)){elmAudio._tmpOnSeeked=onSeeked;}Kepler.Engine.UI.Helper.AudioHelper.$5(elmAudio,'seeked',Kepler.Engine.UI.Helper.AudioHelper.$3);}elmAudio.currentTime=dSec;if($2){if(ss.isValue(onSeeked)){elmAudio._tmpOnSeeked=null;onSeeked(null);}Kepler.Engine.UI.Helper.AudioHelper.$4(elmAudio);}}return true;}}
Kepler.Engine.UI.Helper.AudioHelper.$2=function($p0){var $0=$p0;console.log('keep coming');if(!!$0.$0.duration){Kepler.Engine.UI.Helper.AudioHelper.mute($0.$0,false);Kepler.Engine.UI.Helper.AudioHelper.seekTo($0.$0,$0.$1);Kepler.Engine.UI.Helper.AudioHelper.$0.stop();}}
Kepler.Engine.UI.Helper.AudioHelper.$3=function($p0){var $0=$p0.target;$0.removeEventListener('seeked',Kepler.Engine.UI.Helper.AudioHelper.$3,true);Kepler.Engine.UI.Helper.AudioHelper.$4($0);}
Kepler.Engine.UI.Helper.AudioHelper.$4=function($p0){$p0.setAttribute('seeking',false);if($p0._tmpOnSeeked){ $p0._tmpOnSeeked(); $p0._tmpOnSeeked=null; };var $0=false;var $1=false;var $2=false;var $3=0;$0=$p0._tmpPlayOnSeeked;$1=$p0._tmpPauseOnSeeked;$2=$p0._tmpSeekToZero;$3=$p0._tmpSeekToPosition;if(ss.isValue($2)&&$2){$p0._tmpSeekToZero=null;$p0.play();Kepler.Engine.UI.Helper.AudioHelper.seekTo($p0,0);}else if(ss.isValue($3)){$p0._tmpSeekToPosition=null;$p0.play();Kepler.Engine.UI.Helper.AudioHelper.seekTo($p0,$3);}else if(ss.isValue($0)&&$0){$p0._tmpPlayOnSeeked=null;Kepler.Engine.UI.Helper.AudioHelper.mute($p0,false);Kepler.Engine.UI.Helper.AudioHelper.play($p0);}else if(ss.isValue($1)&&$1){$p0._tmpPauseOnSeeked=null;Kepler.Engine.UI.Helper.AudioHelper.pause($p0);}}
Kepler.Engine.UI.Helper.AudioHelper.mute=function(elmAudio,bMute){if(('muted' in elmAudio)){elmAudio.muted=bMute;}}
Kepler.Engine.UI.Helper.AudioHelper.$5=function($p0,$p1,$p2){$p0.removeEventListener($p1,$p2,true);$p0.addEventListener($p1,$p2,true);}
Kepler.Engine.UI.Helper.AudioHelper.load=function(elmAudio,onLoadStart,onCanPlay,onLoaded){elmAudio._tmpOnLoadStart=onLoadStart;elmAudio._tmpOnCanPlay=onCanPlay;elmAudio._tmpOnLoaded=onLoaded;Kepler.Engine.UI.Helper.AudioHelper.$5(elmAudio,'canplay',Kepler.Engine.UI.Helper.AudioHelper.$6);Kepler.Engine.UI.Helper.AudioHelper.$5(elmAudio,'canplaythrough',Kepler.Engine.UI.Helper.AudioHelper.$7);Kepler.Engine.UI.Helper.AudioHelper.$5(elmAudio,'loadstart',Kepler.Engine.UI.Helper.AudioHelper.$A);Kepler.Engine.UI.Helper.AudioHelper.$5(elmAudio,'loadeddata',Kepler.Engine.UI.Helper.AudioHelper.$8);Kepler.Engine.UI.Helper.AudioHelper.$5(elmAudio,'loadedmetadata',Kepler.Engine.UI.Helper.AudioHelper.$9);Kepler.Engine.UI.Helper.AudioHelper.$5(elmAudio,'waiting',Kepler.Engine.UI.Helper.AudioHelper.$D);try{elmAudio.load();}catch($0){return false;}return true;}
Kepler.Engine.UI.Helper.AudioHelper.isPlaying=function(elmAudio){return (!elmAudio.paused);}
Kepler.Engine.UI.Helper.AudioHelper.pause=function(elmAudio){elmAudio.pause();Kepler.Engine.UI.Helper.AudioHelper.$F(elmAudio);elmAudio._tmpOnEnd=null;elmAudio._tmpEndTime=null;if(Kepler.Engine.UI.Helper.AudioHelper.isSeeking(elmAudio)){elmAudio._tmpPlayOnSeeked=null;elmAudio._tmpPauseOnSeeked=true;}}
Kepler.Engine.UI.Helper.AudioHelper.play=function(elmAudio,dStart,dEnd,onEnd){if(ss.isNullOrUndefined(dStart)){Kepler.Engine.UI.Helper.AudioHelper.$E(elmAudio);elmAudio.play();return true;}var $0=(ss.isValue(elmAudio)&&elmAudio.currentTime===dStart);if(!$0){if(Kepler.Framework.Core.Browser.BrowserCapabilities.get_name()===Kepler.Framework.Core.Browser.BrowserName.internetExplorer){elmAudio._tmpSeekToZero=true;elmAudio._tmpSeekToPosition=dStart;elmAudio._tmpPlayOnSeeked=true;Kepler.Engine.UI.Helper.AudioHelper.mute(elmAudio,true);}else if(Kepler.Framework.Core.Browser.BrowserCapabilities.get_platform()===Kepler.Framework.Core.Browser.BrowserPlatform.android){elmAudio._tmpPlayOnSeeked=true;}}if($0||Kepler.Engine.UI.Helper.AudioHelper.seekTo(elmAudio,dStart)){elmAudio._tmpOnEnd=onEnd;elmAudio._tmpEndTime=dEnd;if(!Kepler.Engine.UI.Helper.AudioHelper.isSeeking(elmAudio)){if($0||(Kepler.Framework.Core.Browser.BrowserCapabilities.get_name()!==Kepler.Framework.Core.Browser.BrowserName.internetExplorer&&Kepler.Framework.Core.Browser.BrowserCapabilities.get_platform()!==Kepler.Framework.Core.Browser.BrowserPlatform.android)){Kepler.Engine.UI.Helper.AudioHelper.$E(elmAudio);}elmAudio.play();}else{elmAudio._tmpPlayOnSeeked=true;}return true;}else{return false;}}
Kepler.Engine.UI.Helper.AudioHelper.getAudioPlaybackEndTime=function(elmAudio){var $0=elmAudio._tmpEndTime;if(ss.isValue($0)){return $0;}else{return 0;}}
Kepler.Engine.UI.Helper.AudioHelper.$6=function($p0){var $0=$p0.target;$0.removeEventListener('canplay',Kepler.Engine.UI.Helper.AudioHelper.$6,true);if($0._tmpOnCanPlay){ $0._tmpOnCanPlay(); $0._tmpOnCanPlay=null; };}
Kepler.Engine.UI.Helper.AudioHelper.$7=function($p0){var $0=$p0.target;$0.removeEventListener('canplaythrough',Kepler.Engine.UI.Helper.AudioHelper.$7,true);if($0._tmpOnLoaded){ $0._tmpOnLoaded(); $0._tmpOnLoaded=null; };}
Kepler.Engine.UI.Helper.AudioHelper.$8=function($p0){var $0=$p0.target;$0.removeEventListener('loadeddata',Kepler.Engine.UI.Helper.AudioHelper.$8,true);}
Kepler.Engine.UI.Helper.AudioHelper.$9=function($p0){var $0=$p0.target;$0.pause();$0.removeEventListener('loadedmetadata',Kepler.Engine.UI.Helper.AudioHelper.$9,true);if(Kepler.Framework.Core.Browser.BrowserCapabilities.get_platform()!==Kepler.Framework.Core.Browser.BrowserPlatform.android){Kepler.Engine.UI.Helper.AudioHelper.seekTo($0,0);}}
Kepler.Engine.UI.Helper.AudioHelper.$A=function($p0){var $0=$p0.target;$0.removeEventListener('loadstart',Kepler.Engine.UI.Helper.AudioHelper.$A,true);if($0._tmpOnLoadStart){ $0._tmpOnLoadStart(); $0._tmpOnLoadStart=null; };}
Kepler.Engine.UI.Helper.AudioHelper.$B=function($p0){var $0=$p0.target;$0.removeEventListener('stalled',Kepler.Engine.UI.Helper.AudioHelper.$B,true);}
Kepler.Engine.UI.Helper.AudioHelper.$C=function($p0){var $0=$p0.target;$0.removeEventListener('play',Kepler.Engine.UI.Helper.AudioHelper.$C,true);}
Kepler.Engine.UI.Helper.AudioHelper.$D=function($p0){var $0=$p0.target;$0.removeEventListener('waiting',Kepler.Engine.UI.Helper.AudioHelper.$D,true);}
Kepler.Engine.UI.Helper.AudioHelper.$E=function($p0){var $0=null;$0=$p0._tmpTmrEndTimeTracker;if(ss.isNullOrUndefined($0)){$0=new Kepler.Framework.Core.Timers.Timer(Kepler.Engine.UI.Helper.AudioHelper.$15,50);$0.start();$0._tmpData=$p0;}else{$0.set_interval(50);$0.start();}$p0._tmpTmrEndTimeTracker=$0;Kepler.Engine.UI.Helper.AudioHelper.$5($p0,'ended',Kepler.Engine.UI.Helper.AudioHelper.$12);}
Kepler.Engine.UI.Helper.AudioHelper.$F=function($p0){var $0=null;$0=$p0._tmpTmrEndTimeTracker;if(ss.isValue($0)){$0.stop();$0._tmpData=null;$p0._tmpTmrEndTimeTracker=null;}$p0.removeEventListener('ended',Kepler.Engine.UI.Helper.AudioHelper.$12,true);}
Kepler.Engine.UI.Helper.AudioHelper.$10=function($p0,$p1){var $0=null;$0=$p0._tmpTmrEndTimeTracker;if(ss.isValue($0)){$0.set_interval($p1);if(!$0.get_isRunning()){$0.start();}}}
Kepler.Engine.UI.Helper.AudioHelper.$11=function($p0){var $0=$p0.target;var $1=$0._tmpEndTime;if($0.currentTime>=$1){Kepler.Engine.UI.Helper.AudioHelper.$13($0);}else{Kepler.Engine.UI.Helper.AudioHelper.$10($0,Math.ceil(($1-$0.currentTime)*1000));}}
Kepler.Engine.UI.Helper.AudioHelper.$12=function($p0){var $0=$p0.target;Kepler.Engine.UI.Helper.AudioHelper.$14($0);}
Kepler.Engine.UI.Helper.AudioHelper.$13=function($p0){Kepler.Engine.UI.Helper.AudioHelper.$14($p0);}
Kepler.Engine.UI.Helper.AudioHelper.$14=function($p0){Kepler.Engine.UI.Helper.AudioHelper.$F($p0);$p0.pause();if(Kepler.Framework.Core.Browser.BrowserCapabilities.isJellyBean()&&Kepler.Framework.Core.Browser.BrowserCapabilities.isWebView()){$p0.play();$p0.pause();}try{$p0._tmpEndTime=null;if($p0._tmpOnEnd){ $p0._tmpOnEnd(); $p0._tmpOnEnd=null; };}catch($0){}}
Kepler.Engine.UI.Helper.AudioHelper.$15=function(){var $0=null;$0=this._tmpData;var $1=$0._tmpEndTime;if($0.currentTime>=$1){Kepler.Engine.UI.Helper.AudioHelper.$13($0);}else{var $2=Math.ceil(($1-$0.currentTime)*1000);if($2>50){Kepler.Engine.UI.Helper.AudioHelper.$10($0,50);}else{Kepler.Engine.UI.Helper.AudioHelper.$10($0,$2);}}}
Kepler.Engine.UI.Helper.AudioPrecacher=function(){this.$0=[];this.$2=false;this.$3=false;}
Kepler.Engine.UI.Helper.AudioPrecacher.getCachedAudio=function(strFileName,bHasExtension){if(ss.isValue(bHasExtension)&&bHasExtension){strFileName=Kepler.Framework.Core.Helper.PathHelper.removeExtension(strFileName);}var $enum1=ss.IEnumerator.getEnumerator(Kepler.Engine.UI.Helper.AudioPrecacher.$1);while($enum1.moveNext()){var $0=$enum1.current;if(!$0.get_fileaName().compareTo(strFileName,true)){return $0;}}return null;}
Kepler.Engine.UI.Helper.AudioPrecacher.hasCachedAudio=function(strFileName,bHasExtension){var $0=Kepler.Engine.UI.Helper.AudioPrecacher.getCachedAudio(strFileName,bHasExtension);return ss.isValue($0);}
Kepler.Engine.UI.Helper.AudioPrecacher.prototype={$0:null,$2:false,$3:false,add_$4:function($p0){this.$5=ss.Delegate.combine(this.$5,$p0);},remove_$4:function($p0){this.$5=ss.Delegate.remove(this.$5,$p0);},$5:null,addAudio:function(strFileName,bHasExtension,audioHandler){if(Kepler.Engine.UI.Helper.AudioPrecacher.getCachedAudio(strFileName,bHasExtension)===audioHandler){Kepler.Engine.UI.Helper.AudioPrecacher.$1.remove(audioHandler);}if(ss.isValue(bHasExtension)&&bHasExtension){strFileName=Kepler.Framework.Core.Helper.PathHelper.removeExtension(strFileName);}var $0=false;if(this.isAudioToCache(audioHandler)){if(audioHandler.get_fileaName()===strFileName){$0=true;}}if(!$0){audioHandler.changeAudio(strFileName,false,false);this.$0.add(audioHandler);}},clearAllPendingAudio:function(){var $0=0;if(this.$2||this.$3){$0=1;}for(var $1=this.$0.length-1;$1>=$0;$1--){this.$0.removeAt($1);}},bringAudioToFirstForCaching:function(audioHandler){if(this.$0.length>0){if(this.$0[0]===audioHandler){return true;}for(var $0=this.$0.length-1;$0>=1;$0--){if(this.$0[$0]===audioHandler){var $1=(this.$2||this.$3)?1:0;if($0!==$1){this.$0[$0]=this.$0[$1];this.$0[$1]=audioHandler;}return true;}}}return false;},isAudioToCache:function(audioHandler){var $enum1=ss.IEnumerator.getEnumerator(this.$0);while($enum1.moveNext()){var $0=$enum1.current;if(audioHandler===$0){return true;}}return false;},isRunningForAudio:function(audioHandler){if(this.$2||this.$3){return this.isAudioToCache(audioHandler);}return false;},start:function(elmParent){if(ss.isNullOrUndefined(elmParent)){elmParent=document.body;}if(!this.$2){this.$2=true;}if(!this.$3){while(this.$0.length>0){var $0=this.$0[0];if(Kepler.Engine.UI.Helper.AudioPrecacher.hasCachedAudio($0.get_fileaName())){this.$0.removeAt(0);}else{break;}}if(this.$0.length>0){var $1=this.$0[0];$1.addLoadEventListener(ss.Delegate.create(this,this.$8));$1.addLoadTimeOutEventListener(ss.Delegate.create(this,this.$9));$1.createAndAddAudio(elmParent);this.$3=true;var $2=$1.refreshAudio();if(!$2){this.$7(0,1);}}}if(this.$0.length<=1){this.$2=false;}},stop:function(){if(this.$0.length>0){var $0=this.$0[0];$0.stopAudio();$0.removeAudioFromDom();if(this.$2){this.$2=false;}if(this.$3){this.$3=false;}}},addFinishEventListener:function(evtListener){this.add_$4(evtListener);},$6:function($p0){this.$5($p0);},$7:function($p0,$p1){var $0=this.$0[$p0];$0.removeLoadEventListener(ss.Delegate.create(this,this.$8));$0.removeLoadTimeOutEventListener(ss.Delegate.create(this,this.$9));this.$3=false;switch($p1){case 0:Kepler.Engine.UI.Helper.AudioPrecacher.$1.add($0);this.$0.removeAt(0);if(this.$0.length>0){this.start();}else{this.$6(0);}break;case 1:case 2:this.stop();if(this.$2){this.$2=false;}this.$6(1);break;}},$8:function($p0,$p1){this.$7(0,0);},$9:function($p0,$p1){this.$7(0,2);}}
Kepler.Engine.UI.Helper.MetroUIParser=function(strXmlFile){Kepler.Engine.UI.Helper.MetroUIParser.initializeBase(this,[strXmlFile]);this.addParserTagNameDelegate('table',ss.Delegate.create(this,this.$14));this.addParserTagNameDelegate('page',ss.Delegate.create(this,this.$15));this.addParserTagNameDelegate('button',ss.Delegate.create(this,this.$17));this.addParserTagNameDelegate('metroapp_title',ss.Delegate.create(this,this.$18));this.addParserTagNameDelegate('label',ss.Delegate.create(this,this.parseLabel));this.addParserTagNameDelegate('page_navigator',ss.Delegate.create(this,this.$16));this.addParserTagNameDelegate('hyperlink',ss.Delegate.create(this,this.$19));this.addParserTagNameDelegate('parent_div',ss.Delegate.create(this,this.$1A));this.addParserTagNameDelegate('list_ctrl',ss.Delegate.create(this,this.parseListCtrl));this.addParserTagNameDelegate('style',ss.Delegate.create(this,this.parseStyleNode));this.lstRepositoryInfo=[];var $0=new Kepler.Framework.UI.Metro_Ui_Controls.MetroTheme();}
Kepler.Engine.UI.Helper.MetroUIParser.prototype={lstRepositoryInfo:null,_iId:0,_iHeight:0,_iWidth:0,_iEnabled:0,_strText:null,_strImgCls:null,_iVisible:0,_strCssCls:null,$14:function($p0,$p1){var $0;var $1=$($p1);var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('table',null,null,null,null,null,null,null,null);$2.className='full_size';this.applyAttributes($2,$1);var $3=$1.children('style');if($3.length===1){$0=$p0.clone();$0.element=$2;this.parseStyleNode($0,$3[0]);}var $4=$1.children('tbody');var $5=null;if($4.length>0){$5=$4.children('tr');}else{$5=$1.children('tr');}for(var $6=0;$6<$5.length;$6++){var $7=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('tr',null,null,null,null,null,null,null,null);var $8=$($5[$6]).children('td');for(var $9=0;$9<$8.length;$9++){var $A=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('td',null,null,null,null,null,null,null,null);var $B=$($8[$9]);var $C=$B.children('style');this.applyAttributes($A,$B);$0=$p0.clone();$0.element=$A;if($C.length===1){this.parseStyleNode($0,$C[0]);}this.parseXmlNodes($0,$B.children());$7.appendChild($A);}$2.appendChild($7);}$p0.element.appendChild($2);},$15:function($p0,$p1){if(Type.canCast($p0.oContainer,Kepler.Framework.UI.Metro_Ui_Controls.MetroUiTab.MetroUiTabControl)){var $0=null;var $1=$($p1);var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'name');var $3=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'title');var $4=null;if(!!$3){$4=new Kepler.Framework.UI.Metro_Ui_Controls.MetroUiTab.MetroUiTabPage($2,$3);}var $5=$p0.oContainer;$5.addTab($4,$2);if(!$2){$5.hideTab(true,0,true);}var $6=$1.children('style');$0=$p0.clone();if(ss.isValue($4)){$0.oContainer=$4;$0.element=$4.get_scrollableDiv();}this.parseXmlNodes($0,$1.children());}},$16:function($p0,$p1){var $0=null;var $1=$($p1);var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'Id');var $3=new Kepler.Framework.UI.Metro_Ui_Controls.MetroUiTab.MetroUiTabControl($2);$0=$p0.clone();$0.oContainer=$3;$0.element=$3.get_element();var $4=$1.children('style');this.addControlToParent($3,$p0,$p0.element);this.parseXmlNodes($0,$1.children());},$17:function($p0,$p1){var $0=null;var $1=$($p1);var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'PageNo');var $3=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'SeqNo');var $4=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'Text');var $5=new Kepler.Engine.UI.Controls.Button($4,null,null,'1101Button');this.lstRepositoryInfo.add(new Kepler.Engine.Core.REPOSITORY_INFO(0,new Kepler.Engine.Core.CONTROL_ID($2,$3),1101,7,true,-1,-1,null,'Ok',-1,101));var $6=$1.children('style');$0=$p0.clone();$0.element=$5.get_element();this.addControlToParent($5,$p0,$p0.element);},$18:function($p0,$p1){var $0=null;var $1=$($p1);var $2=new Kepler.Framework.UI.Metro_Ui_Controls.MetroAppTitle();var $3=$1.children('style');$0=$p0.clone();$0.element=$2.get_controlElement();this.addElementToParent($2.get_controlElement(),$p0);this.parseXmlNodes($0,$1.children());},parseLabel:function(oParents,elemNode){var $0=null;var $1=$(elemNode);var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString(elemNode,'id');var $3=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString(elemNode,'css_class');var $4=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString(elemNode,'text');var $5=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt(elemNode,'top');var $6=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt(elemNode,'left');var $7=new Kepler.Framework.UI.Point($6,$5);var $8=new Kepler.Engine.UI.Controls.Label($4,$7,$3,null,$2);var $9=$1.children('style');$0=oParents.clone();$0.element=$8.get_element();this.addControlToParent($8,oParents,oParents.element);},$19:function($p0,$p1){var $0=null;var $1=$($p1);var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'id');var $3=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'css_class');var $4=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'text');var $5=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'top');var $6=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'left');var $7=new Kepler.Framework.UI.Point($6,$5);var $8=new Kepler.Engine.UI.Controls.HyperLink($4,$7,$3,'',$2);var $9=$1.children('style');$0=$p0.clone();$0.element=$8.get_element();this.addControlToParent($8,$p0,$p0.element);},$1A:function($p0,$p1){var $0=null;var $1=$($p1);var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div',null,null,null,null,null,null,null,null);this.applyAttributes($2,$1);var $3=$1.children('style');$0=$p0.clone();$0.element=$2;this.addElementToParent($2,$p0);this.parseXmlNodes($0,$1.children());},parseStyleNode:function(oParents,elmNode){var $0;$0=$(oParents.element);var $1=$(elmNode);if($1.length===1){var $2;$2=$1[0].attributes;if(ss.isValue($2)){var $3=$2.length;var $4={};var $5='';for(var $6=0;$6<$3;$6++){var $7=$2[$6];if(!$7.name.toLowerCase().compareTo('classname')){$5=$7.value;}else{$4[$7.name]=$7.value;}}if(!String.isNullOrEmpty($5)){$0.addClass($5);}$0.css($4);}}},parseListCtrl:function(oParents,elmNode){var $0=null;var $1=$(elmNode);this.parseCommonAttributes(elmNode);var $2=new Kepler.Framework.UI.Metro_Ui_Controls.PaneListCtrl.PaneListCtrl(this._strCssCls,this._iId.toString());$0=oParents.clone();$0.element=$2.get_element();$0.oContainer=$2;this.addControlToParent($2,oParents,oParents.element);var $3=$1.children();this.parseXmlNodes($0,$3);},addElementToParent:function(elmNode,oParents){if(ss.isValue(oParents.element)){oParents.element.appendChild(elmNode);}},addControlToParent:function(oControl,oParents,elemParent){if(ss.isValue(oParents.oContainer)){var $0=oParents.oContainer;if(Type.canCast(oParents.oContainer,Kepler.Framework.UI.Metro_Ui_Controls.PaneListCtrl.PaneListCtrl)){var $1=oParents.oContainer;$1.addListItem(oControl);}else{if(ss.isNull(elemParent)){$0.add(oControl);}else{$0.add(oControl,elemParent,false);}}}},applyAttributes:function(elemDest,jQObjSrc){var $0;$0=jQObjSrc[0].attributes;if(ss.isValue($0)){var $1=$0.length;var $2={};for(var $4=0;$4<$1;$4++){var $5=$0[$4];$2[$5.name]=$5.value;}var $3=$(elemDest);$3.attr($2);}},startParsingFromGivenNode:function(oParents,jQNodes){this.parseXmlNodes(oParents,jQNodes);},parseCommonAttributes:function(elmNode){this._iId=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt(elmNode,'id');this._iWidth=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt(elmNode,'width');this._iHeight=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt(elmNode,'height');this._iEnabled=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt(elmNode,'enable',1);this._strText=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString(elmNode,'text');this._strImgCls=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString(elmNode,'img_class');this._iVisible=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt(elmNode,'visible',1);this._strCssCls=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString(elmNode,'css_class');}}
Kepler.Engine.UI.Helper.XmlParser_ParentParam_Metro=function(){Kepler.Engine.UI.Helper.XmlParser_ParentParam_Metro.initializeBase(this);}
Kepler.Engine.UI.Helper.XmlParser_ParentParam_Metro.prototype={element:null,oContainer:null,clone:function(){var $0=new Kepler.Engine.UI.Helper.XmlParser_ParentParam_Metro();$0.element=this.element;$0.oContainer=this.oContainer;return $0;},cloneWithContainerOnly:function(){var $0=new Kepler.Engine.UI.Helper.XmlParser_ParentParam_Metro();$0.oContainer=this.oContainer;return $0;}}
Type.registerNamespace('Kepler.Engine.Core.Downloader');Kepler.Engine.Core.Downloader.Engine$18=function(strPath,bUseHttpGetMethod,bAsync,eFilePriority,downloadCompleteEventHandler,errorEventHanlder,customData){Kepler.Engine.Core.Downloader.Engine$18.initializeBase(this,[strPath,bUseHttpGetMethod,bAsync,eFilePriority,downloadCompleteEventHandler,errorEventHanlder,customData]);}
Kepler.Engine.Core.Downloader.Engine$18.prototype={$1_0:false,ajaxRequest_OnReadyStateChange:function($p0){Kepler.Engine.Core.Downloader.Engine$18.callBaseMethod(this, 'ajaxRequest_OnReadyStateChange',[$p0]);try{if(!this.$1_0&&this._ajaxRequest.readyState===Kepler.Framework.Core.Browser.ProxyClasses.XmlHttpRequestState.LOADING){var $0='"app"';var $1=this._ajaxRequest.responseText;var $2;if(($2=$1.indexOf($0))>-1){var $3=$1.length;while($1.charAt($2)!==':'&&$2<$3){$2++;}while($1.charAt($2)!=='"'&&$2<$3){$2++;}$2++;var $4='';var $5;while(($5=$1.charAt($2))!=='"'&&$5!==','&&$5!=='}'&&$2<$3){$4+=$5;$2++;}if($4.length>0){this.$1_0=true;Kepler.Engine.Core.EngineApp.get_engine().get_taskMaster().$1_53($4);}}}}catch($6){}}}
Type.registerNamespace('Kepler.Engine.Core.EncryptDecrypt');Kepler.Engine.Core.EncryptDecrypt.Engine$12=function(){}
Kepler.Engine.Core.EncryptDecrypt.Engine$14=function(){Kepler.Engine.Core.EncryptDecrypt.Engine$14.initializeBase(this);}
Kepler.Engine.Core.EncryptDecrypt.Engine$14.prototype={$0:function($p0,$p1){throw new Error('Not Implemented Exception : '+'XOREncryptDecryptProvider : Encrypt');},$1:function($p0,$p1){if($p0==null){throw new Error('Null Reference Exception : '+'data');}if($p1==null){throw new Error('Null Reference Exception : '+'key');}if(!$p1.length){throw new Error('Invalid Argument Exception : '+'key');}var $0=$p1.length;for(var $1=0;$1<$p0.length;$1++){$p0[$1]=($p0[$1]^$p1[$1%$0]);}}}
Type.registerNamespace('Kepler.Engine.Core.Lms');Kepler.Engine.Core.Lms.LmsApiFunId=function(){};Kepler.Engine.Core.Lms.LmsApiFunId.prototype = {playeR_READY:10,LAUNCH:0,INIT:1,iniT_RESPONSE:2,intermediatE_RESULT:3,finaL_RESULT:4,finaL_SAVE_FOR_LATER_RESULT:5,resulT_RESPONSE:6,keeP_ALIVE:7,geT_STATE_CONFIG_DATA:8,geT_SCORE:9}
Kepler.Engine.Core.Lms.LmsApiFunId.registerEnum('Kepler.Engine.Core.Lms.LmsApiFunId',false);Kepler.Engine.Core.Lms.LmsApi=function(){}
Kepler.Engine.Core.Lms.LmsApi.get_isApiPresent=function(){if(ss.isNullOrUndefined(Kepler.Engine.Core.Lms.LmsApi.$0)){Kepler.Engine.Core.Lms.LmsApi.$9();}return Kepler.Engine.Core.Lms.LmsApi.$0;}
Kepler.Engine.Core.Lms.LmsApi.get_isEztoApiPresent=function(){if(ss.isNullOrUndefined(Kepler.Engine.Core.Lms.LmsApi.$0)){Kepler.Engine.Core.Lms.LmsApi.$9();}return Kepler.Engine.Core.Lms.LmsApi.$1;}
Kepler.Engine.Core.Lms.LmsApi.get_isLmsStrataApiPresent=function(){if(ss.isNullOrUndefined(Kepler.Engine.Core.Lms.LmsApi.$0)){Kepler.Engine.Core.Lms.LmsApi.$9();}return Kepler.Engine.Core.Lms.LmsApi.$2;}
Kepler.Engine.Core.Lms.LmsApi.get_isLmsBuiltinApiPresent=function(){if(ss.isNullOrUndefined(Kepler.Engine.Core.Lms.LmsApi.$0)){Kepler.Engine.Core.Lms.LmsApi.$9();}return Kepler.Engine.Core.Lms.LmsApi.$3;}
Kepler.Engine.Core.Lms.LmsApi.get_latestData=function(){return Kepler.Engine.Core.Lms.LmsApi.$4;}
Kepler.Engine.Core.Lms.LmsApi.$9=function(){if(Kepler.Engine.Core.Lms.LmsApi.$8){return;}Kepler.Engine.Core.Lms.LmsApi.$8=true;Kepler.Engine.Core.Lms.LmsApi.$7={};if(window.api_lmshandler !== undefined && window.api_lmshandler !== null){ Kepler.Engine.Core.Lms.LmsApi.$5 = window.api_lmshandler; };Kepler.Engine.Core.Lms.LmsApi.$0=ss.isValue(Kepler.Engine.Core.Lms.LmsApi.$5);if(Kepler.Engine.Core.Lms.LmsApi.$0){try{Kepler.Engine.Core.Lms.LmsApi.$1=(window.EZ !== null && EZ.API_VERSION !== null);Kepler.Engine.Core.Lms.LmsApi.$1=(g_kepler_ezto_present !== null && g_kepler_ezto_present);}catch($0){Kepler.Engine.Core.Lms.LmsApi.$1=false;}try{Kepler.Engine.Core.Lms.LmsApi.$2=(g_kepler_strata_present);}catch($1){Kepler.Engine.Core.Lms.LmsApi.$2=false;}Kepler.Engine.Core.Lms.LmsApi.$3=(window.g_kepler_builtin_lms_present ? window.g_kepler_builtin_lms_present === true : false);Kepler.Engine.Core.Lms.LmsApi.$6=Kepler.Engine.Core.Lms.LmsApi.$A;window.api_playerhandler = Kepler.Engine.Core.Lms.LmsApi.$6;}}
Kepler.Engine.Core.Lms.LmsApi.sendMessageToLms=function(funId,oData){if(ss.isValue(Kepler.Engine.Core.Lms.LmsApi.$4)){if(ss.isNullOrUndefined(oData)){oData=Kepler.Engine.Core.Lms.LmsApi.$4.cloneForSendBackOnly();}else if(ss.isNullOrUndefined(oData.get_$0())){oData.set_$0(Kepler.Engine.Core.Lms.LmsApi.$4.get_$0());}}if(Kepler.Engine.Core.Lms.LmsApi.$0){Kepler.Engine.Core.Lms.LmsApi.$5(funId,oData);}}
Kepler.Engine.Core.Lms.LmsApi.addMsgFromLmsEventListener=function(funId,fnOnMsgFromLms){var $0=Kepler.Engine.Core.Lms.LmsApi.$7[funId];if(ss.isNullOrUndefined($0)){$0=[];Kepler.Engine.Core.Lms.LmsApi.$7[funId]=$0;}$0.add(fnOnMsgFromLms);}
Kepler.Engine.Core.Lms.LmsApi.removeMsgFromLmsEventListener=function(funId,fnOnMsgFromLms){var $0=Kepler.Engine.Core.Lms.LmsApi.$7[funId];if(ss.isValue($0)){$0.remove(fnOnMsgFromLms);}}
Kepler.Engine.Core.Lms.LmsApi.$A=function($p0,$p1){var $0=$p0;var $1=Kepler.Engine.Core.Lms.LmsApi.$7[$0];var $2=Kepler.Engine.Core.Lms.LmsApiData.fromObject($p1);if($2!=null){Kepler.Engine.Core.Lms.LmsApi.$4=$2;}if(ss.isValue($1)){var $enum1=ss.IEnumerator.getEnumerator($1);while($enum1.moveNext()){var $3=$enum1.current;$3(Kepler.Engine.Core.Lms.LmsApiData.fromObject($p1));}}}
Kepler.Engine.Core.Lms.LmsApiData=function(){this.lmsData=null;this.msgData=null;}
Kepler.Engine.Core.Lms.LmsApiData.fromObject=function(objData){if(ss.isNullOrUndefined(objData)){return null;}var $0=objData;if(ss.isUndefined($0.lmsData)||ss.isUndefined($0.msgData)){$0=null;}else{if(!(typeof(objData.get_lmssendbackdata)==='function')||!(typeof(objData.get_messagedata)==='function')){$0=new Kepler.Engine.Core.Lms.LmsApiData();$0.set_$0(objData.lmsData);$0.set_messageData(objData.msgData);if(ss.isValue($0.get_messageData())){$0.set_messageData(Kepler.Engine.Core.Lms.LmsApiDataMsg.fromObjectDependingOnType($0.get_messageData()));}}}return $0;}
Kepler.Engine.Core.Lms.LmsApiData.prototype={lmsData:null,get_$0:function(){return this.lmsData;},set_$0:function($p0){this.lmsData=$p0;return $p0;},msgData:null,get_messageData:function(){return this.msgData;},set_messageData:function(value){this.msgData=value;return value;},cloneForSendBackOnly:function(){var $0=new Kepler.Engine.Core.Lms.LmsApiData();$0.lmsData=this.lmsData;return $0;}}
Kepler.Engine.Core.Lms.LmsApiDataMsg=function(){}
Kepler.Engine.Core.Lms.LmsApiDataMsg.fromObjectDependingOnType=function(objData){if(ss.isNullOrUndefined(objData)){return null;}var $0;$0=Kepler.Engine.Core.Lms.LmsApiDataMsgConfig4Ezto.fromObject(objData);if($0==null){$0=Kepler.Engine.Core.Lms.LmsApiDataMsgConfig.fromObject(objData);if($0==null){$0=Kepler.Engine.Core.Lms.LmsApiDataMsgReport.fromObject(objData);}}return $0;}
Kepler.Engine.Core.Lms.LmsApiDataMsgConfig=function(){Kepler.Engine.Core.Lms.LmsApiDataMsgConfig.initializeBase(this);this.config=null;this.assignment=null;}
Kepler.Engine.Core.Lms.LmsApiDataMsgConfig.fromObject=function(objData){if(ss.isNullOrUndefined(objData)){return null;}var $0=objData;if(ss.isUndefined($0.config)||ss.isUndefined($0.assignment)){$0=null;}else{if(!(typeof(objData.get_config)==='function')||!(typeof(objData.get_assignment)==='function')){$0=new Kepler.Engine.Core.Lms.LmsApiDataMsgConfig();$0.set_config(objData.config);$0.set_assignment(objData.assignment);}}return $0;}
Kepler.Engine.Core.Lms.LmsApiDataMsgConfig.prototype={config:null,get_config:function(){return this.config;},set_config:function(value){this.config=value;return value;},assignment:null,get_assignment:function(){return this.assignment;},set_assignment:function(value){this.assignment=value;return value;}}
Kepler.Engine.Core.Lms.LmsApiDataMsgConfig4Ezto=function(){Kepler.Engine.Core.Lms.LmsApiDataMsgConfig4Ezto.initializeBase(this);this.report=null;}
Kepler.Engine.Core.Lms.LmsApiDataMsgConfig4Ezto.fromObject=function(objData){if(ss.isNullOrUndefined(objData)){return null;}var $0=objData;if(ss.isUndefined($0.config)||ss.isUndefined($0.assignment)||ss.isUndefined($0.report)){$0=null;}else{if(!(typeof(objData.get_config)==='function')||!(typeof(objData.get_assignment)==='function')||!(typeof(objData.get_report)==='function')){$0=new Kepler.Engine.Core.Lms.LmsApiDataMsgConfig4Ezto();$0.set_config(objData.config);$0.set_assignment(objData.assignment);$0.set_report(objData.report);}}return $0;}
Kepler.Engine.Core.Lms.LmsApiDataMsgConfig4Ezto.prototype={report:null,get_report:function(){return this.report;},set_report:function(value){this.report=value;return value;}}
Kepler.Engine.Core.Lms.LmsApiDataMsgReport=function(){Kepler.Engine.Core.Lms.LmsApiDataMsgReport.initializeBase(this);}
Kepler.Engine.Core.Lms.LmsApiDataMsgReport.fromObject=function(objData){if(ss.isNullOrUndefined(objData)){return null;}var $0=objData;return $0;}
Type.registerNamespace('Kepler.Engine');Kepler.Engine.Messages=function(){}
Kepler.Engine.EngineObjectFactory=function(){}
Kepler.Engine.EngineObjectFactory.getItemObject=function(){var $0;$0=new Kepler.Engine.Core.ITEM();return $0;}
Kepler.Engine.EngineObjectFactory.getJsonItemObject=function(){var $0;$0=new Kepler.Engine.Core.JsonItemMGHExcel();return $0;}
Kepler.Engine.EngineObjectFactory.getEngineAppObject=function(){var $0;$0=new Kepler.Engine.Core.EngineAppMGHStatistics();return $0;}
Kepler.Engine.EngineObjectFactory.getXmlReportGeneratorObject=function(){var $0;$0=new Kepler.Engine.Core.XmlReportGenerator();return $0;}
Kepler.Engine.EngineObjectFactory.getJsonQuestionObject=function(){var $0;$0=new Kepler.Engine.Core.JsonQuestionMGHExcel();return $0;}
Kepler.Engine.EngineObjectFactory.getJsonClickStreamObject=function(){var $0;$0=new Kepler.Engine.Core.JsonClickStreamMGHExcel();return $0;}
Kepler.Engine.EngineObjectFactory.getASSIGNMENTObject=function(){var $0;$0=new Kepler.Engine.Core.ASSIGNMENT_MGHExcel();return $0;}
Kepler.Engine.EngineObjectFactory.getMessageBoxCssName=function(){var $0='control_messagebox.css';$0='control_messagebox_mgh.css';return $0;}
Kepler.Engine.Engine$A=function(){}
Kepler.Engine.ZOOM_CONSTANTS=function(){}
Type.registerNamespace('Kepler.Engine.Core.Modules');Kepler.Engine.Core.Modules.Module=function(strName,strResourcePath,strCssPath){this.$1_1=-1;Kepler.Engine.Core.Modules.Module.initializeBase(this,[strName,strResourcePath,strCssPath]);this.$1_0=Kepler.Engine.Core.EngineApp.get_engine();}
Kepler.Engine.Core.Modules.Module.prototype={$1_0:null,get_engine:function(){return this.$1_0;},init:function(){if(!!this.$1_0.get_isTaskMasterCreated()){this.initializeModule();}else{this.$1_1=window.setInterval(ss.Delegate.create(this,function(){
this.initializeModule();}),1);}},initializeModule:function(){if(!!this.$1_0.get_isTaskMasterCreated()){window.clearInterval(this.$1_1);this.register();this.$1_2();this.precacheImages();}},register:function(){this.$1_0.sendMessage('eONRegisterModule',this.get_name(),this);this.$1_0.sendMessage('eONModuleReady',this.get_name(),this);},$1_2:function(){var $0=this.$1_0.get_taskMaster();var $1=this.getDefaultCSS();if($1!=null&&$1.length>0){var $enum1=ss.IEnumerator.getEnumerator($1);while($enum1.moveNext()){var $2=$enum1.current;Kepler.Engine.UI.Helper.HtmlCssHelper.addElementToHead(Kepler.Engine.UI.Helper.HtmlCssHelper.createLinkElement('',Kepler.Framework.Core.Browser.QueryString.CacheBuster.addCacheBuster($0.getKeplerRelativePath($2))));}}}}
Kepler.Engine.Core.Modules.ModuleComm=function(oAssocApp){Kepler.Engine.Core.Modules.ModuleComm.initializeBase(this);this.$1_0=oAssocApp;}
Kepler.Engine.Core.Modules.ModuleComm.prototype={$1_0:null,get_associatedApp:function(){return this.$1_0;},launchMenuMiniToolbar:function(oLaunchFrom,iMenuType,ptLaunch,bLaunchMiniToolbar){return Kepler.Engine.Core.Modules.ModuleComm.callBaseMethod(this, 'launchMenuMiniToolbar',[oLaunchFrom,iMenuType,ptLaunch,bLaunchMiniToolbar]);},launchDialog:function(iType){return Kepler.Engine.Core.Modules.ModuleComm.callBaseMethod(this, 'launchDialog',[iType]);}}
Type.registerNamespace('Kepler.Engine.Core.YUI');Kepler.Engine.Core.YUI.TestObject=function(){}
Kepler.Engine.Core.YUI.TestObject.prototype={name:null,y:null}
Kepler.Engine.Core.YUI.YUI_Helper=function(){}
Kepler.Engine.Core.YUI.YUI_Helper.isPresent=function(){if(ss.isNullOrUndefined(Kepler.Engine.Core.YUI.YUI_Helper.$0)){Kepler.Engine.Core.YUI.YUI_Helper.$0=false;}if(!Kepler.Engine.Core.YUI.YUI_Helper.$0){if(window.YUI != null && YUI.version != null) { Kepler.Engine.Core.YUI.YUI_Helper.$0=true; };}return Kepler.Engine.Core.YUI.YUI_Helper.$0;}
Kepler.Engine.Core.YUI.YUI_Helper.newTestSuite=function(Y,strName){var $0=null;$0=new Y.Test.Suite(strName);return $0;}
Kepler.Engine.Core.YUI.YUI_Helper.newTestCase=function(Y,testObject){var $0=null;$0=new Y.Test.Case(testObject);return $0;}
Kepler.Engine.Core.YUI.YUI_Tester=function(strName,callbackRunner){this.$0=(ss.isNullOrUndefined(strName))?'':strName;this.$4=(ss.isNullOrUndefined(callbackRunner))?null:callbackRunner;this.$5=false;this.$1={};this.$2=false;this.$3=new YUI(JSON.parse('{"useBrowserConsole": true}'));}
Kepler.Engine.Core.YUI.YUI_Tester.prototype={$0:null,$1:null,$2:false,$3:null,$4:null,$5:false,run:function(){if(!this.$2){this.$3.add(this.$0,ss.Delegate.create(this,this.$6),'@VERSION@',JSON.parse('{"requires": ["test"]}'));this.$2=true;}this.$3.use([this.$0],ss.Delegate.create(this,this.$7));},addTestSuite:function(strName){if(Object.keyExists(this.$1,strName)){return;}this.$1[strName]=[];},addTestObject:function(strSuiteName,testObject){var $0=this.$1[strSuiteName];if(ss.isNullOrUndefined($0)){return;}$0.add(testObject);},$6:function($p0,$p1){var $dict1=this.$1;for(var $key2 in $dict1){var $0={key:$key2,value:$dict1[$key2]};var $1=Kepler.Engine.Core.YUI.YUI_Helper.newTestSuite($p0,$0.key);var $2=$0.value;var $3=$2.length;for(var $4=0;$4<$3;$4++){$2[$4].y=$p0;$1.add(Kepler.Engine.Core.YUI.YUI_Helper.newTestCase($p0,$2[$4]));}$p0.Test.Runner.add($1);}},$7:function($p0,$p1){$p0.Test.Runner.setName(this.$0);$p0.Test.Runner.run();if(this.$4!=null&&(!this.$5)){$p0.Test.Runner.subscribe($p0.Test.Runner.TEST_PASS_EVENT,this.$4);$p0.Test.Runner.subscribe($p0.Test.Runner.TEST_FAIL_EVENT,this.$4);$p0.Test.Runner.subscribe($p0.Test.Runner.TEST_IGNORE_EVENT,this.$4);$p0.Test.Runner.subscribe($p0.Test.Runner.COMPLETE_EVENT,this.$4);this.$5=true;}}}
Type.registerNamespace('Kepler.Engine.UI.Controls.ComboBox');Kepler.Engine.UI.Controls.ComboBox.SplitColorButton=function(ptPosition,oCtrlSize,iMenuNo,strId){Kepler.Engine.UI.Controls.ComboBox.SplitColorButton.initializeBase(this,[ptPosition,oCtrlSize,iMenuNo,strId]);Kepler.Engine.UI.Helper.HtmlCssHelper.addElementAttribute(this.get_element(),'name',(Kepler.Engine.UI.Controls.ComboBox.SplitColorButton).get_name());this.get_element().className=' split_color_button';this.get_element().style.position='absolute';}
Kepler.Engine.UI.Controls.ComboBox.SplitColorButton.prototype={$3_12:null,get_enable:function(){return Kepler.Engine.UI.Controls.ComboBox.SplitColorButton.callBaseMethod(this, 'get_enable');},set_enable:function(value){Kepler.Engine.UI.Controls.ComboBox.SplitColorButton.callBaseMethod(this, 'set_enable',[value]);this.$3_14(value);return value;},$3_13:null,get_ariaSpeech:function(){var $0=this.getSelectedText();if(!String.isNullOrEmpty($0)&&!String.isNullOrEmpty(this._strAriaSpeech)){return this._strAriaSpeech+' button dropdown '+$0;}return 'color dropdown';},set_ariaSpeech:function(value){Kepler.Engine.UI.Controls.ComboBox.SplitColorButton.callBaseMethod(this, 'set_ariaSpeech',[value]);return value;},onLoad:function(){Kepler.Engine.UI.Controls.ComboBox.SplitColorButton.callBaseMethod(this, 'onLoad');this.addEvents(Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseMove|Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseOut|Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseOver);},createContentPart:function(){var $0=this.get_size().get_width();var $1=this.get_size().get_height();this.$3_12=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div',null,'absolute',$0-32-3,3,32,12,'split_color_image',null);this._elmColorContainer=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div',null,'absolute',$0-32-3,3+12,16,4,null,null);this._elmColorContainer.style.backgroundColor='Black';this.get_element().appendChild(this.$3_12);this.get_element().appendChild(this._elmColorContainer);},createButtonPart:function(){},getFocusRect:function(){var $0=new Kepler.Framework.UI.Rect(0,0,0,0);$0.set_top(this.get_position().get_y()+1);$0.set_left(this.get_position().get_x()+1);$0.set_size(new Kepler.Framework.UI.Size(this.get_size().get_width()-2,this.get_size().get_height()-2));return $0;},changeState:function(eState){var $0='';switch(eState){case Kepler.Framework.UI.Controls.EItemState.eHover:$0='_hover';break;case Kepler.Framework.UI.Controls.EItemState.eNormal:$0='_normal';break;case Kepler.Framework.UI.Controls.EItemState.ePressed:$0='_pressed';break;case Kepler.Framework.UI.Controls.EItemState.eDisabled:if(!this.get_visible()){$0='_disabled'+Kepler.Engine.UI.Controls.Control.csS_CLASS_DISPLAY_NONE;}else{$0='_disabled';}break;default:throw new Error('Not Implemented Exception : '+'eState');}if($0.length>0){this.get_element().className=' split_color_button'+' split_color_button'+$0;}},$3_14:function($p0){if(this.get_loaded()){this.$3_13=this.getSelectionIndex();if(!$p0){this.changeState(Kepler.Framework.UI.Controls.EItemState.eDisabled);this._elmColorContainer.style.backgroundColor='#E8E4E8';this.$3_12.className='split_color_image split_color_image_disabled';}else{this.changeState(Kepler.Framework.UI.Controls.EItemState.eNormal);this.setSelectionIndex(this.$3_13);this.$3_12.className='split_color_image';}}},onLostFocus:function(oFocusedNewControl){Kepler.Engine.UI.Controls.ComboBox.SplitColorButton.callBaseMethod(this, 'onLostFocus',[oFocusedNewControl]);this.changeState(Kepler.Framework.UI.Controls.EItemState.eNormal);},updateText:function(strText){if(!strText.compareTo('Automatic')&&this.get_enable()){this._elmColorContainer.innerHTML='';this._elmColorContainer.style.backgroundColor='#000000';}},onMouseMove:function(evt){Kepler.Engine.UI.Controls.ComboBox.SplitColorButton.callBaseMethod(this, 'onMouseMove',[evt]);if(this.isMouseEventInElementRect(evt)){if(this.getCapture()===this){this.changeState(Kepler.Framework.UI.Controls.EItemState.ePressed);}else{this.changeState(Kepler.Framework.UI.Controls.EItemState.eHover);}}else{this.changeState(Kepler.Framework.UI.Controls.EItemState.eNormal);}},onMouseOut:function(evt){Kepler.Engine.UI.Controls.ComboBox.SplitColorButton.callBaseMethod(this, 'onMouseOut',[evt]);this.changeState(Kepler.Framework.UI.Controls.EItemState.eNormal);},onMouseOver:function(evt){Kepler.Engine.UI.Controls.ComboBox.SplitColorButton.callBaseMethod(this, 'onMouseOver',[evt]);this.changeState(Kepler.Framework.UI.Controls.EItemState.eHover);},onLButtonDown:function(mouseEventArgs){Kepler.Engine.UI.Controls.ComboBox.SplitColorButton.callBaseMethod(this, 'onLButtonDown',[mouseEventArgs]);this.changeState(Kepler.Framework.UI.Controls.EItemState.eNormal);}}
Type.registerNamespace('Kepler.Engine.UI.Controls.Keyboard');Kepler.Engine.UI.Controls.Keyboard.KeyBoardMode=function(){};Kepler.Engine.UI.Controls.Keyboard.KeyBoardMode.prototype = {alphabetic:0,shiftAlphabetic:1,numeric:2,shiftNumeric:3,functional:4}
Kepler.Engine.UI.Controls.Keyboard.KeyBoardMode.registerEnum('Kepler.Engine.UI.Controls.Keyboard.KeyBoardMode',false);Kepler.Engine.UI.Controls.Keyboard.KeyCharCode=function(){};Kepler.Engine.UI.Controls.Keyboard.KeyCharCode.prototype = {backSpace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,esc:27,space:32,exclamation:33,doubleQuotes:34,hash:35,dollar:36,percent:37,ampersand:38,singleQuote:39,openingParanthesis:40,closingParanthesis:41,asterisk:42,plus:43,comma:44,minus:45,period:46,slash:47,num0:48,num1:49,num2:50,num3:51,num4:52,num5:53,num6:54,num7:55,num8:56,num9:57,colon:58,semiColon:59,lessThan:60,equalTo:61,greaterThan:62,questionMark:63,at:64,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,openSqurBrkt:91,forwardSlash:92,closeSqurBrkt:93,caret:94,underScore:95,backQuote:96,a:97,b:98,c:99,d:100,e:101,f:102,g:103,h:104,i:105,j:106,k:107,l:108,m:109,n:110,o:111,p:112,q:113,r:114,s:115,t:116,u:117,v:118,w:119,x:120,y:121,z:122,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,openBracket:123,bar:124,closeBracket:125,tilde:126,deleteKey:127,backSlash:220,alpha:501,num:502,fun:503,shiftArrow:504,toggleAlphaNum:505,end:506,home:507,keyBoardHide:508,dock:509,drag:510}
Kepler.Engine.UI.Controls.Keyboard.KeyCharCode.registerEnum('Kepler.Engine.UI.Controls.Keyboard.KeyCharCode',false);Kepler.Engine.UI.Controls.Keyboard.Key=function(strInnerTxt,eKeyCharCode,ekeyScanCode,strImgClassName,bStateImg,strCssClass){this._element=document.createElement('li');this.$A=this.$9=this.$B=this.$D=this.$C=strInnerTxt;this.$F=this.$12=this.$E=this.$10=this.$11=eKeyCharCode;this.$16=this.$13=this.$14=this.$15=ekeyScanCode;this._element.id=eKeyCharCode.toString();this._element.key=this;this._element.style.border=Kepler.Engine.UI.Controls.Keyboard.Key._iBORDER+'px solid transparent';if(bStateImg){this.$17();}if(ss.isValue(strImgClassName)&&strImgClassName!=null){this.$2=true;this.$8=strImgClassName;this.$18();}else{this.$19(strInnerTxt);}if(ss.isValue(strCssClass)&&strCssClass!=null){this.$7=strCssClass;}else{this.$7=Kepler.Engine.UI.Controls.Keyboard.Key.defaulT_CSS_CLASS;}this._element.className=this.$7;this.$1B();}
Kepler.Engine.UI.Controls.Keyboard.Key.setRatios=function(fWidthRatio,fHeightRatio){Kepler.Engine.UI.Controls.Keyboard.Key.$0=fWidthRatio;Kepler.Engine.UI.Controls.Keyboard.Key.$1=fHeightRatio;}
Kepler.Engine.UI.Controls.Keyboard.Key.prototype={$2:false,$3:0,get_defaultWidth:function(){return this.$3;},set_defaultWidth:function(value){if(this.$3!==value){this.$3=value;this.onResize();}return value;},$4:0,get_defaultHeight:function(){return this.$4;},set_defaultHeight:function(value){if(this.$4!==value){this.$4=value;this.onResize();}return value;},$5:null,$6:null,_element:null,get_element:function(){return this._element;},set_element:function(value){this._element=value;return value;},$7:null,$8:'',$9:null,$A:null,$B:null,$C:null,$D:null,$E:0,$F:0,$10:0,$11:0,$12:0,$13:0,$14:0,$15:0,$16:0,$17:function(){this.$6=document.createElement('div');this.$6.className='key_non_active_img_div';this._element.appendChild(this.$6);},$18:function(){this.$5=document.createElement('div');this.$5.className=this.$8;this._element.appendChild(this.$5);},$19:function($p0){this.$5=document.createElement('div');this.$5.className='key_txt';this.$5.innerHTML=$p0;this._element.appendChild(this.$5);},setPressedState:function(){if(this.$7===Kepler.Engine.UI.Controls.Keyboard.Key.defaulT_CSS_CLASS){this._element.className='key_pressed';}},setNormalState:function(){this._element.className=this.$7;},$1A:function($p0,$p1){this._element.style.width=$p0.toString()+'px';if(this.$E===44){var $0=this._element.parentNode;$0.style.fontSize=($p1<$p0)?parseInt(($p1/3).toString()).toString()+'px':parseInt(($p0/3).toString()).toString()+'px';}this._element.style.height=$p1.toString()+'px';},onResize:function(){var $0=this.$3+(4+2*Kepler.Engine.UI.Controls.Keyboard.Key._iBORDER);var $1=this.$4+(6+2*Kepler.Engine.UI.Controls.Keyboard.Key._iBORDER);var $2=($0*Kepler.Engine.UI.Controls.Keyboard.Key.$0)-(4+2*Kepler.Engine.UI.Controls.Keyboard.Key._iBORDER);var $3=($1*Kepler.Engine.UI.Controls.Keyboard.Key.$1)-(6+2*Kepler.Engine.UI.Controls.Keyboard.Key._iBORDER);this.$1A($2,$3);},$1B:function(){switch(this.$E){case 18:case 17:case 16:case 501:case 502:case 503:case 508:this.$3=Kepler.Engine.UI.Controls.Keyboard.Key.firsT_ROW_WIDTH;this.$4=Kepler.Engine.UI.Controls.Keyboard.Key.firsT_ROW_HEIGHT;break;case 13:case 504:case 505:this.$3=Kepler.Engine.UI.Controls.Keyboard.Key.togglE_WIDTH;this.$4=Kepler.Engine.UI.Controls.Keyboard.Key.normaL_HEIGHT;break;case 8:this.$3=Kepler.Engine.UI.Controls.Keyboard.Key.normaL_WIDTH;this.$4=Kepler.Engine.UI.Controls.Keyboard.Key.normaL_HEIGHT;break;case 32:this.$3=Kepler.Engine.UI.Controls.Keyboard.Key.spacE_WIDTH;this.$4=Kepler.Engine.UI.Controls.Keyboard.Key.normaL_HEIGHT;break;case 509:this.$3=Kepler.Engine.UI.Controls.Keyboard.Key.firsT_ROW_WIDTH;this.$4=Kepler.Engine.UI.Controls.Keyboard.Key.firsT_ROW_HEIGHT;break;case 510:this.$3=Kepler.Engine.UI.Controls.Keyboard.Key.draG_WIDTH;this.$4=Kepler.Engine.UI.Controls.Keyboard.Key.firsT_ROW_HEIGHT;break;default:this.$3=Kepler.Engine.UI.Controls.Keyboard.Key.normaL_WIDTH;this.$4=Kepler.Engine.UI.Controls.Keyboard.Key.normaL_HEIGHT;break;}this.get_element().style.width=this.$3+'px';this.get_element().style.height=this.$4+'px';},$1C:function($p0){if(!this.$2){switch($p0){case 0:this.$5.innerHTML=this.$9;break;case 1:this.$5.innerHTML=this.$A;break;case 2:this.$5.innerHTML=this.$B;break;case 3:this.$5.innerHTML=this.$C;break;case 4:this.$5.innerHTML=this.$D;break;}}},$1D:function($p0,$p1,$p2){this.$B=$p0;this.$10=$p1;this.$14=$p2;},$1E:function($p0,$p1,$p2){this.$C=$p0;this.$11=$p1;this.$15=$p2;},$1F:function($p0,$p1,$p2){this.$D=this.$B=this.$C=$p0;this.$12=this.$10=this.$11=$p1;this.$16=this.$14=this.$15=$p2;},$20:function($p0){switch($p0){case 1:case 0:return this.$A;case 2:case 3:return this.$B;case 4:return this.$D;}return null;},$21:function($p0){switch($p0){case 0:case 1:return this.$13;case 2:return this.$14;case 3:return this.$15;case 4:return this.$16;}return 0;},$22:function($p0){switch($p0){case 0:return this.$E;case 2:return this.$10;case 3:return this.$11;case 1:return this.$F;case 4:return this.$12;}return 0;},$23:function($p0){this.$5.className=$p0;},$24:function($p0,$p1){this.$A=$p0;this.$F=$p1;},$25:function($p0,$p1,$p2){this.$D=$p0;this.$12=$p1;this.$16=$p2;},$26:function($p0){if(this.$6!=null){if($p0){this.$6.className='key_active_img_div';}else{this.$6.className='key_non_active_img_div';}}},$27:function($p0){$p0[this.$E]=$p0[this.$F]=this.$13;$p0[this.$10]=this.$14;$p0[this.$11]=this.$15;$p0[this.$12]=this.$16;}}
Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl=function(){Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.initializeBase(this,['div','keyboardcontainer_dock',Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.$3_0]);this.set_focusable(false);this.get_elementStyle().zIndex=Kepler.Framework.UI.Controls.ZIndexConstants.keyBoardControl;this.get_elementStyle().visibility='hidden';this.get_elementStyle().display='none';this.get_elementStyle().position='relative';this.$3_B=document.createElement('ul');this.$3_B.id='keylist';this.$3_D=new Kepler.Framework.Core.Timers.Timer(ss.Delegate.create(this,this.$3_25),400);this.$3_E=new Kepler.Framework.Core.Timers.Timer(ss.Delegate.create(this,this.$3_26),25);this.$3_14={};this.$3_11=ss.Delegate.create(this,this.touchHookProc);this.$3_10=ss.Delegate.create(this,this.$3_2B);this.$3_1A();if(Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){this.$3_29();}}
Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.get_controlKey=function(){return Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.$3_4;}
Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.set_controlKey=function(value){if(Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.$3_4!==value){Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.$3_4=value;Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.get_instance().$3_A[17].$26(Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.$3_4);Framework.UI.Events.EventDispatcher.set_ctrlKey(value);}return value;}
Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.get_altKey=function(){return Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.$3_5;}
Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.set_altKey=function(value){if(Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.$3_5!==value){if(!Kepler.Engine.UI.Engine$1D.get_$4_2().get_$4_7()||value){Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.$3_5=value;Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.get_instance().$3_A[18].$26(Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.$3_5);}else if(Kepler.Engine.UI.Engine$1D.get_$4_2().get_$4_7()||!value){Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.$3_5=value;Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.get_instance().$3_A[18].$26(Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.$3_5);}}return value;}
Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.get_shiftKey=function(){return Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.$3_6;}
Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.set_shiftKey=function(value){if(Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.$3_6!==value){Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.$3_6=value;Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.get_instance().$3_A[16].$26(Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.$3_6);if(Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.$3_6){switch(Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.get_instance().get_mode()){case 0:Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.get_instance().set_mode(1);break;case 2:Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.get_instance().set_mode(3);break;}}else{switch(Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.get_instance().get_mode()){case 1:Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.get_instance().set_mode(0);break;case 3:Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.get_instance().set_mode(2);break;}}Framework.UI.Events.EventDispatcher.set_shiftKey(value);}return value;}
Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.get_instance=function(){if(Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.$3_13==null){Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.$3_13=new Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl();}return Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.$3_13;}
Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.prototype={$3_2:false,$3_3:null,$3_7:true,get_dock:function(){return this.$3_7;},set_dock:function(value){if(this.$3_7!==value){this.$3_7=value;this.$3_1E(this.$3_7);}return value;},$3_8:null,$3_9:null,$3_A:null,$3_B:null,$3_C:null,$3_D:null,$3_E:null,$3_F:0,$3_10:null,$3_11:null,get_mode:function(){return this.$3_F;},set_mode:function(value){if(this.$3_F!==value){this.$3_F=value;this.$3_15();}return value;},$3_12:false,get_keyBoardVisible:function(){return this.$3_12;},set_keyBoardVisible:function(value){this.$3_12=value;return value;},$3_14:null,show:function(bShow){if(bShow&&Kepler.Engine.Core.EngineApp.get_engine().get_applicationMode()===2){return;}if(this.get_keyBoardVisible()!==bShow&&Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){this.set_keyBoardVisible(bShow);var $0=Kepler.Engine.UI.DesktopWnd.get_instance();var $1=$0.get_height();var $2=$0.get_top();if(bShow){this.set_dock(true);if(Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.$3_6){this.set_mode(1);}else{this.set_mode(0);}this.get_elementStyle().visibility='visible';this.get_elementStyle().display='';this.$3_19();this.get_elementStyle().top=$2+$1-this.get_height()+'px';this.$3_27();}else{if(this.$3_9!=null){var $3=this.$3_9.get_target();if($3.tagName.toLowerCase()!=='li'){var $5=$3.parentNode;$3=$5;}var $4=$3.key;if($4!=null){$4.setNormalState();this.$3_20($4);}}this.$3_9=null;this.get_elementStyle().top=$2+$1+'px';this.get_elementStyle().visibility='hidden';this.get_elementStyle().display='none';this.get_elementStyle().position='relative';this.$3_24();this.$3_28();}}},$3_15:function(){switch(this.$3_F){case 0:this.$3_18(false);break;case 1:this.$3_18(true);break;case 2:case 3:this.$3_17();break;case 4:this.$3_16();break;}for(var $0=0;$0<this.$3_C.length;$0++){var $1=this.$3_A[this.$3_C[$0]];$1.$1C(this.$3_F);}if(Kepler.Framework.Core.Browser.BrowserCapabilities.get_platform()===Kepler.Framework.Core.Browser.BrowserPlatform.mac&&Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){var $2=this.get_element().parentNode;if($2!=null){$2.removeChild(this.get_element());$2.appendChild(this.get_element());}}},$3_16:function(){this.$3_A[504].get_element().style.display='none';this.$3_A[90].get_element().style.display='none';this.$3_A[88].get_element().style.display='none';this.$3_A[85].get_element().style.display='none';this.$3_A[73].get_element().style.display='none';this.$3_A[79].get_element().style.display='none';this.$3_A[80].get_element().style.display='none';this.$3_A[74].get_element().style.display='none';this.$3_A[75].get_element().style.display='none';this.$3_A[76].get_element().style.display='none';this.$3_A[67].set_defaultWidth(Kepler.Engine.UI.Controls.Keyboard.Key.fuN_KEY_WIDTH);this.$3_A[86].set_defaultWidth(Kepler.Engine.UI.Controls.Keyboard.Key.fuN_KEY_WIDTH);this.$3_A[66].set_defaultWidth(Kepler.Engine.UI.Controls.Keyboard.Key.fuN_KEY_WIDTH);this.$3_A[66].$23('key_wide_txt');this.$3_A[77].set_defaultWidth(Kepler.Engine.UI.Controls.Keyboard.Key.fuN_KEY_WIDTH);this.$3_A[78].set_defaultWidth(Kepler.Engine.UI.Controls.Keyboard.Key.fuN_KEY_WIDTH);this.$3_A[32].set_defaultWidth(Kepler.Engine.UI.Controls.Keyboard.Key.spacE_WIDTH_FUN_MODE);this.$3_A[81].set_defaultWidth(Kepler.Engine.UI.Controls.Keyboard.Key.fuN_KEY_WIDTH);this.$3_A[87].set_defaultWidth(Kepler.Engine.UI.Controls.Keyboard.Key.fuN_KEY_WIDTH);this.$3_A[69].set_defaultWidth(Kepler.Engine.UI.Controls.Keyboard.Key.fuN_KEY_WIDTH);this.$3_A[82].set_defaultWidth(Kepler.Engine.UI.Controls.Keyboard.Key.fuN_KEY_WIDTH);this.$3_A[84].set_defaultWidth(Kepler.Engine.UI.Controls.Keyboard.Key.fuN_KEY_WIDTH);this.$3_A[89].set_defaultWidth(Kepler.Engine.UI.Controls.Keyboard.Key.fuN_KEY_WIDTH);this.$3_A[65].set_defaultWidth(Kepler.Engine.UI.Controls.Keyboard.Key.fuN_KEY_WIDTH);this.$3_A[83].set_defaultWidth(Kepler.Engine.UI.Controls.Keyboard.Key.fuN_KEY_WIDTH);this.$3_A[68].set_defaultWidth(Kepler.Engine.UI.Controls.Keyboard.Key.fuN_KEY_WIDTH);this.$3_A[70].set_defaultWidth(Kepler.Engine.UI.Controls.Keyboard.Key.fuN_KEY_WIDTH);this.$3_A[71].set_defaultWidth(Kepler.Engine.UI.Controls.Keyboard.Key.fuN_KEY_WIDTH);this.$3_A[72].set_defaultWidth(Kepler.Engine.UI.Controls.Keyboard.Key.fuN_KEY_WIDTH);this.$3_19();},$3_17:function(){this.$3_A[504].$23('key_shift_arrow');this.$3_A[504].get_element().style.display='none';this.$3_A[90].get_element().style.display='none';this.$3_A[88].get_element().style.display='block';this.$3_A[85].get_element().style.display='block';this.$3_A[73].get_element().style.display='block';this.$3_A[79].get_element().style.display='block';this.$3_A[80].get_element().style.display='block';this.$3_A[74].get_element().style.display='block';this.$3_A[75].get_element().style.display='block';this.$3_A[76].get_element().style.display='block';this.$3_A[67].set_defaultWidth(Kepler.Engine.UI.Controls.Keyboard.Key.fuN_KEY_WIDTH);this.$3_A[86].set_defaultWidth(Kepler.Engine.UI.Controls.Keyboard.Key.fuN_KEY_WIDTH);this.$3_A[66].set_defaultWidth(Kepler.Engine.UI.Controls.Keyboard.Key.fuN_KEY_WIDTH);this.$3_A[66].$23('key_wide_txt');this.$3_A[77].set_defaultWidth(Kepler.Engine.UI.Controls.Keyboard.Key.fuN_KEY_WIDTH);this.$3_A[78].set_defaultWidth(Kepler.Engine.UI.Controls.Keyboard.Key.fuN_KEY_WIDTH);this.$3_A[32].set_defaultWidth(Kepler.Engine.UI.Controls.Keyboard.Key.spacE_WIDTH);this.$3_A[81].set_defaultWidth(Kepler.Engine.UI.Controls.Keyboard.Key.normaL_WIDTH);this.$3_A[87].set_defaultWidth(Kepler.Engine.UI.Controls.Keyboard.Key.normaL_WIDTH);this.$3_A[69].set_defaultWidth(Kepler.Engine.UI.Controls.Keyboard.Key.normaL_WIDTH);this.$3_A[82].set_defaultWidth(Kepler.Engine.UI.Controls.Keyboard.Key.normaL_WIDTH);this.$3_A[84].set_defaultWidth(Kepler.Engine.UI.Controls.Keyboard.Key.normaL_WIDTH);this.$3_A[89].set_defaultWidth(Kepler.Engine.UI.Controls.Keyboard.Key.normaL_WIDTH);this.$3_A[65].set_defaultWidth(Kepler.Engine.UI.Controls.Keyboard.Key.normaL_WIDTH);this.$3_A[83].set_defaultWidth(Kepler.Engine.UI.Controls.Keyboard.Key.normaL_WIDTH);this.$3_A[68].set_defaultWidth(Kepler.Engine.UI.Controls.Keyboard.Key.normaL_WIDTH);this.$3_A[70].set_defaultWidth(Kepler.Engine.UI.Controls.Keyboard.Key.normaL_WIDTH);this.$3_A[71].set_defaultWidth(Kepler.Engine.UI.Controls.Keyboard.Key.normaL_WIDTH);this.$3_A[72].set_defaultWidth(Kepler.Engine.UI.Controls.Keyboard.Key.normaL_WIDTH);this.$3_19();},$3_18:function($p0){if($p0){this.$3_A[504].$23('key_shift_arrow');}else{this.$3_A[504].$23('key_arrow');}this.$3_A[504].get_element().style.display='block';this.$3_A[90].get_element().style.display='block';this.$3_A[88].get_element().style.display='block';this.$3_A[85].get_element().style.display='block';this.$3_A[73].get_element().style.display='block';this.$3_A[79].get_element().style.display='block';this.$3_A[80].get_element().style.display='block';this.$3_A[74].get_element().style.display='block';this.$3_A[75].get_element().style.display='block';this.$3_A[76].get_element().style.display='block';this.$3_A[67].set_defaultWidth(Kepler.Engine.UI.Controls.Keyboard.Key.normaL_WIDTH);this.$3_A[86].set_defaultWidth(Kepler.Engine.UI.Controls.Keyboard.Key.normaL_WIDTH);this.$3_A[66].set_defaultWidth(Kepler.Engine.UI.Controls.Keyboard.Key.normaL_WIDTH);this.$3_A[66].$23('key_txt');this.$3_A[77].set_defaultWidth(Kepler.Engine.UI.Controls.Keyboard.Key.normaL_WIDTH);this.$3_A[78].set_defaultWidth(Kepler.Engine.UI.Controls.Keyboard.Key.normaL_WIDTH);this.$3_A[32].set_defaultWidth(Kepler.Engine.UI.Controls.Keyboard.Key.spacE_WIDTH);this.$3_A[81].set_defaultWidth(Kepler.Engine.UI.Controls.Keyboard.Key.normaL_WIDTH);this.$3_A[87].set_defaultWidth(Kepler.Engine.UI.Controls.Keyboard.Key.normaL_WIDTH);this.$3_A[69].set_defaultWidth(Kepler.Engine.UI.Controls.Keyboard.Key.normaL_WIDTH);this.$3_A[82].set_defaultWidth(Kepler.Engine.UI.Controls.Keyboard.Key.normaL_WIDTH);this.$3_A[84].set_defaultWidth(Kepler.Engine.UI.Controls.Keyboard.Key.normaL_WIDTH);this.$3_A[89].set_defaultWidth(Kepler.Engine.UI.Controls.Keyboard.Key.normaL_WIDTH);this.$3_A[65].set_defaultWidth(Kepler.Engine.UI.Controls.Keyboard.Key.normaL_WIDTH);this.$3_A[83].set_defaultWidth(Kepler.Engine.UI.Controls.Keyboard.Key.normaL_WIDTH);this.$3_A[68].set_defaultWidth(Kepler.Engine.UI.Controls.Keyboard.Key.normaL_WIDTH);this.$3_A[70].set_defaultWidth(Kepler.Engine.UI.Controls.Keyboard.Key.normaL_WIDTH);this.$3_A[71].set_defaultWidth(Kepler.Engine.UI.Controls.Keyboard.Key.normaL_WIDTH);this.$3_A[72].set_defaultWidth(Kepler.Engine.UI.Controls.Keyboard.Key.normaL_WIDTH);this.$3_19();},$3_19:function(){switch(this.$3_F){case 0:case 1:this.$3_A[65].get_element().style.marginLeft=(2*2)+Kepler.Engine.UI.Controls.Keyboard.Key._iBORDER+(this.$3_A[65].get_element().clientWidth/2)+'px';this.$3_A[81].get_element().style.marginLeft=2+'px';this.$3_A[67].get_element().style.marginLeft=2+'px';this.$3_A[504].get_element().style.marginLeft=2+2/2+Kepler.Engine.UI.Controls.Keyboard.Key._iBORDER+(this.$3_A[504].get_element().clientWidth-this.$3_A[65].get_element().clientWidth)/2+'px';break;case 2:case 3:this.$3_A[65].get_element().style.marginLeft=2+'px';this.$3_A[81].get_element().style.marginLeft=2+'px';this.$3_A[67].get_element().style.marginLeft=2+Kepler.Engine.UI.Controls.Keyboard.Key._iBORDER+(this.$3_A[67].get_element().clientWidth-this.$3_A[8].get_element().clientWidth-2)/2+this.$3_A[67].get_element().clientWidth/30+'px';break;case 4:this.$3_A[65].get_element().style.marginLeft=2+Math.ceil(this.$3_A[65].get_element().clientWidth/30)+'px';this.$3_A[81].get_element().style.marginLeft=2+Math.ceil(this.$3_A[81].get_element().clientWidth/30)+'px';this.$3_A[67].get_element().style.marginLeft=2+this.$3_A[67].get_element().clientWidth/4+'px';break;}},$3_1A:function(){var $0=this.get_size().get_width()/540;var $1=this.get_size().get_height()/180;Kepler.Engine.UI.Controls.Keyboard.Key.setRatios($0,$1);this.mapping();this.$3_1D();this.$3_1C();},$3_1B:function(){this.addKeysToDomList();this.get_element().appendChild(this.$3_B);},$3_1C:function(){this.$3_C=[];var $0=[508,17,18,16,503,509,510,81,87,69,82,84,89,85,73,79,80,65,83,68,70,71,72,74,75,76,504,90,88,67,86,66,78,77,8,505,44,32,46,13];this.$3_C.addRange($0);},mapping:function(){this.$3_A={};this.$3_A[508]=new Kepler.Engine.UI.Controls.Keyboard.Key('Keyboard Hide',508,Kepler.Framework.UI.Events.EventArgsNs.Keys.keyBoardHide,'key_keyboardhide');this.$3_A[17]=new Kepler.Engine.UI.Controls.Keyboard.Key('Ctrl',17,Kepler.Framework.UI.Events.EventArgsNs.Keys.controlKey,null,true);this.$3_A[18]=new Kepler.Engine.UI.Controls.Keyboard.Key('Alt',18,Kepler.Framework.UI.Events.EventArgsNs.Keys.menu,null,true);this.$3_A[16]=new Kepler.Engine.UI.Controls.Keyboard.Key('Shift',16,Kepler.Framework.UI.Events.EventArgsNs.Keys.shiftKey,null,true);this.$3_A[503]=new Kepler.Engine.UI.Controls.Keyboard.Key('Fn',503,0);this.$3_A[503].$25('ABC',501,0);this.$3_A[509]=new Kepler.Engine.UI.Controls.Keyboard.Key('',509,0,'key_dock');this.$3_A[510]=new Kepler.Engine.UI.Controls.Keyboard.Key('',510,0,'image_drag',false,'key_drag');this.$3_A[81]=new Kepler.Engine.UI.Controls.Keyboard.Key('q',113,Kepler.Framework.UI.Events.EventArgsNs.Keys.q);this.$3_A[81].$24('Q',81);this.$3_A[81].$1D('1',49,Kepler.Framework.UI.Events.EventArgsNs.Keys.d1);this.$3_A[81].$1E('!',33,Kepler.Framework.UI.Events.EventArgsNs.Keys.d1);this.$3_A[81].$25('F1',112,Kepler.Framework.UI.Events.EventArgsNs.Keys.f1);this.$3_A[87]=new Kepler.Engine.UI.Controls.Keyboard.Key('w',119,Kepler.Framework.UI.Events.EventArgsNs.Keys.w);this.$3_A[87].$24('W',87);this.$3_A[87].$1D('2',50,Kepler.Framework.UI.Events.EventArgsNs.Keys.d2);this.$3_A[87].$1E('@',64,Kepler.Framework.UI.Events.EventArgsNs.Keys.d2);this.$3_A[87].$25('F2',113,Kepler.Framework.UI.Events.EventArgsNs.Keys.f2);this.$3_A[69]=new Kepler.Engine.UI.Controls.Keyboard.Key('e',101,Kepler.Framework.UI.Events.EventArgsNs.Keys.e);this.$3_A[69].$24('E',69);this.$3_A[69].$1D('3',51,Kepler.Framework.UI.Events.EventArgsNs.Keys.d3);this.$3_A[69].$1E('#',35,Kepler.Framework.UI.Events.EventArgsNs.Keys.d3);this.$3_A[69].$25('F3',114,Kepler.Framework.UI.Events.EventArgsNs.Keys.f3);this.$3_A[82]=new Kepler.Engine.UI.Controls.Keyboard.Key('r',114,Kepler.Framework.UI.Events.EventArgsNs.Keys.r);this.$3_A[82].$24('R',82);this.$3_A[82].$1D('4',52,Kepler.Framework.UI.Events.EventArgsNs.Keys.d4);this.$3_A[82].$1E('?',63,Kepler.Framework.UI.Events.EventArgsNs.Keys.oemQuestion);this.$3_A[82].$25('F4',115,Kepler.Framework.UI.Events.EventArgsNs.Keys.f4);this.$3_A[84]=new Kepler.Engine.UI.Controls.Keyboard.Key('t',116,Kepler.Framework.UI.Events.EventArgsNs.Keys.t);this.$3_A[84].$24('T',84);this.$3_A[84].$1D('5',53,Kepler.Framework.UI.Events.EventArgsNs.Keys.d5);this.$3_A[84].$1E('%',37,Kepler.Framework.UI.Events.EventArgsNs.Keys.d5);this.$3_A[84].$25('F5',116,Kepler.Framework.UI.Events.EventArgsNs.Keys.f5);this.$3_A[89]=new Kepler.Engine.UI.Controls.Keyboard.Key('y',121,Kepler.Framework.UI.Events.EventArgsNs.Keys.y);this.$3_A[89].$24('Y',89);this.$3_A[89].$1D('6',54,Kepler.Framework.UI.Events.EventArgsNs.Keys.d6);this.$3_A[89].$1E('^',94,Kepler.Framework.UI.Events.EventArgsNs.Keys.d6);this.$3_A[89].$25('F6',117,Kepler.Framework.UI.Events.EventArgsNs.Keys.f6);this.$3_A[85]=new Kepler.Engine.UI.Controls.Keyboard.Key('u',117,Kepler.Framework.UI.Events.EventArgsNs.Keys.u);this.$3_A[85].$24('U',85);this.$3_A[85].$1D('7',55,Kepler.Framework.UI.Events.EventArgsNs.Keys.d7);this.$3_A[85].$1E('{',123,Kepler.Framework.UI.Events.EventArgsNs.Keys.oemOpenBrackets);this.$3_A[73]=new Kepler.Engine.UI.Controls.Keyboard.Key('i',105,Kepler.Framework.UI.Events.EventArgsNs.Keys.i);this.$3_A[73].$24('I',73);this.$3_A[73].$1D('8',56,Kepler.Framework.UI.Events.EventArgsNs.Keys.d8);this.$3_A[73].$1E('}',125,Kepler.Framework.UI.Events.EventArgsNs.Keys.oemCloseBrackets);this.$3_A[79]=new Kepler.Engine.UI.Controls.Keyboard.Key('o',111,Kepler.Framework.UI.Events.EventArgsNs.Keys.o);this.$3_A[79].$24('O',79);this.$3_A[79].$1D('9',57,Kepler.Framework.UI.Events.EventArgsNs.Keys.d9);this.$3_A[79].$1E('[',91,Kepler.Framework.UI.Events.EventArgsNs.Keys.oemOpenBrackets);this.$3_A[80]=new Kepler.Engine.UI.Controls.Keyboard.Key('p',112,Kepler.Framework.UI.Events.EventArgsNs.Keys.p);this.$3_A[80].$24('P',80);this.$3_A[80].$1D('0',48,Kepler.Framework.UI.Events.EventArgsNs.Keys.d0);this.$3_A[80].$1E(']',93,Kepler.Framework.UI.Events.EventArgsNs.Keys.oemCloseBrackets);this.$3_A[65]=new Kepler.Engine.UI.Controls.Keyboard.Key('a',97,Kepler.Framework.UI.Events.EventArgsNs.Keys.a);this.$3_A[65].$24('A',65);this.$3_A[65].$1D('=',61,Kepler.Framework.UI.Events.EventArgsNs.Keys.equal);this.$3_A[65].$1E('_',95,Kepler.Framework.UI.Events.EventArgsNs.Keys.oemMinus);this.$3_A[65].$25('F7',118,Kepler.Framework.UI.Events.EventArgsNs.Keys.f7);this.$3_A[83]=new Kepler.Engine.UI.Controls.Keyboard.Key('s',115,Kepler.Framework.UI.Events.EventArgsNs.Keys.s);this.$3_A[83].$24('S',83);this.$3_A[83].$1D('+',43,Kepler.Framework.UI.Events.EventArgsNs.Keys.oemplus);this.$3_A[83].$1E('|',124,Kepler.Framework.UI.Events.EventArgsNs.Keys.oemPipe);this.$3_A[83].$25('F8',119,Kepler.Framework.UI.Events.EventArgsNs.Keys.f8);this.$3_A[68]=new Kepler.Engine.UI.Controls.Keyboard.Key('d',100,Kepler.Framework.UI.Events.EventArgsNs.Keys.d);this.$3_A[68].$24('D',68);this.$3_A[68].$1D('-',45,Kepler.Framework.UI.Events.EventArgsNs.Keys.oemMinus);this.$3_A[68].$1E('<',60,Kepler.Framework.UI.Events.EventArgsNs.Keys.oemcomma);this.$3_A[68].$25('F9',120,Kepler.Framework.UI.Events.EventArgsNs.Keys.f9);this.$3_A[70]=new Kepler.Engine.UI.Controls.Keyboard.Key('f',102,Kepler.Framework.UI.Events.EventArgsNs.Keys.f);this.$3_A[70].$24('F',70);this.$3_A[70].$1D('*',42,Kepler.Framework.UI.Events.EventArgsNs.Keys.d8);this.$3_A[70].$1E('>',62,Kepler.Framework.UI.Events.EventArgsNs.Keys.oemPeriod);this.$3_A[70].$25('F10',121,Kepler.Framework.UI.Events.EventArgsNs.Keys.f10);this.$3_A[71]=new Kepler.Engine.UI.Controls.Keyboard.Key('g',103,Kepler.Framework.UI.Events.EventArgsNs.Keys.g);this.$3_A[71].$24('G',71);this.$3_A[71].$1D('/',47,Kepler.Framework.UI.Events.EventArgsNs.Keys.oemQuestion);this.$3_A[71].$1E('\\',92,Kepler.Framework.UI.Events.EventArgsNs.Keys.oemPipe);this.$3_A[71].$25('F11',122,Kepler.Framework.UI.Events.EventArgsNs.Keys.f11);this.$3_A[72]=new Kepler.Engine.UI.Controls.Keyboard.Key('h',104,Kepler.Framework.UI.Events.EventArgsNs.Keys.h);this.$3_A[72].$24('H',72);this.$3_A[72].$1D('$',36,Kepler.Framework.UI.Events.EventArgsNs.Keys.d4);this.$3_A[72].$1E('&',38,Kepler.Framework.UI.Events.EventArgsNs.Keys.d7);this.$3_A[72].$25('F12',123,Kepler.Framework.UI.Events.EventArgsNs.Keys.f12);this.$3_A[74]=new Kepler.Engine.UI.Controls.Keyboard.Key('j',106,Kepler.Framework.UI.Events.EventArgsNs.Keys.j);this.$3_A[74].$24('J',74);this.$3_A[74].$1D("'",39,Kepler.Framework.UI.Events.EventArgsNs.Keys.oemQuotes);this.$3_A[74].$1E('~',126,Kepler.Framework.UI.Events.EventArgsNs.Keys.oemtilde);this.$3_A[75]=new Kepler.Engine.UI.Controls.Keyboard.Key('k',107,Kepler.Framework.UI.Events.EventArgsNs.Keys.k);this.$3_A[75].$24('K',75);this.$3_A[75].$1D('"',34,Kepler.Framework.UI.Events.EventArgsNs.Keys.oemQuotes);this.$3_A[75].$1E('`',96,Kepler.Framework.UI.Events.EventArgsNs.Keys.oemtilde);this.$3_A[76]=new Kepler.Engine.UI.Controls.Keyboard.Key('l',108,Kepler.Framework.UI.Events.EventArgsNs.Keys.l);this.$3_A[76].$24('L',76);this.$3_A[76].$1F('(',40,Kepler.Framework.UI.Events.EventArgsNs.Keys.d9);this.$3_A[504]=new Kepler.Engine.UI.Controls.Keyboard.Key('Shift',504,0,'key_arrow');this.$3_A[90]=new Kepler.Engine.UI.Controls.Keyboard.Key('z',122,Kepler.Framework.UI.Events.EventArgsNs.Keys.z);this.$3_A[90].$24('Z',90);this.$3_A[88]=new Kepler.Engine.UI.Controls.Keyboard.Key('x',120,Kepler.Framework.UI.Events.EventArgsNs.Keys.x);this.$3_A[88].$24('X',88);this.$3_A[88].$1F(')',41,Kepler.Framework.UI.Events.EventArgsNs.Keys.d0);this.$3_A[67]=new Kepler.Engine.UI.Controls.Keyboard.Key('c',99,Kepler.Framework.UI.Events.EventArgsNs.Keys.c);this.$3_A[67].$24('C',67);this.$3_A[67].$1F('Tab',9,Kepler.Framework.UI.Events.EventArgsNs.Keys.tab);this.$3_A[86]=new Kepler.Engine.UI.Controls.Keyboard.Key('v',118,Kepler.Framework.UI.Events.EventArgsNs.Keys.v);this.$3_A[86].$24('V',86);this.$3_A[86].$1F('Esc',27,Kepler.Framework.UI.Events.EventArgsNs.Keys.escape);this.$3_A[66]=new Kepler.Engine.UI.Controls.Keyboard.Key('b',98,Kepler.Framework.UI.Events.EventArgsNs.Keys.b);this.$3_A[66].$24('B',66);this.$3_A[66].$1F('Home',507,Kepler.Framework.UI.Events.EventArgsNs.Keys.home);this.$3_A[78]=new Kepler.Engine.UI.Controls.Keyboard.Key('n',110,Kepler.Framework.UI.Events.EventArgsNs.Keys.n);this.$3_A[78].$24('N',78);this.$3_A[78].$1F('End',506,Kepler.Framework.UI.Events.EventArgsNs.Keys.end);this.$3_A[77]=new Kepler.Engine.UI.Controls.Keyboard.Key('m',109,Kepler.Framework.UI.Events.EventArgsNs.Keys.m);this.$3_A[77].$24('M',77);this.$3_A[77].$1F('Del',127,Kepler.Framework.UI.Events.EventArgsNs.Keys.deleteKey);this.$3_A[8]=new Kepler.Engine.UI.Controls.Keyboard.Key('',8,Kepler.Framework.UI.Events.EventArgsNs.Keys.back,'key_backspace');this.$3_A[505]=new Kepler.Engine.UI.Controls.Keyboard.Key('&123',505,Kepler.Framework.UI.Events.EventArgsNs.Keys.left);this.$3_A[505].$1F('ABC',505,Kepler.Framework.UI.Events.EventArgsNs.Keys.left);this.$3_A[505].$25('&123',505,0);this.$3_A[505].$23('key_wide_txt');this.$3_A[44]=new Kepler.Engine.UI.Controls.Keyboard.Key(',',44,Kepler.Framework.UI.Events.EventArgsNs.Keys.oemcomma);this.$3_A[44].$24(';',59);this.$3_A[44].$1E(';',59,Kepler.Framework.UI.Events.EventArgsNs.Keys.oemcomma);this.$3_A[32]=new Kepler.Engine.UI.Controls.Keyboard.Key(' ',32,Kepler.Framework.UI.Events.EventArgsNs.Keys.space,'key_space');this.$3_A[46]=new Kepler.Engine.UI.Controls.Keyboard.Key('.',46,Kepler.Framework.UI.Events.EventArgsNs.Keys.oemPeriod);this.$3_A[46].$24(':',58);this.$3_A[46].$1E(':',58,Kepler.Framework.UI.Events.EventArgsNs.Keys.oemPeriod);this.$3_A[13]=new Kepler.Engine.UI.Controls.Keyboard.Key('return',13,Kepler.Framework.UI.Events.EventArgsNs.Keys.enter,'key_return');},$3_1D:function(){var $dict1=this.$3_A;for(var $key2 in $dict1){var $0={key:$key2,value:$dict1[$key2]};$0.value.$27(this.$3_14);}},getKeyCodeFromCharCode:function(iCharCode){var $0=this.$3_14[iCharCode];if(ss.isValue($0)){return $0;}return 0;},onParentResized:function(szParent){Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.callBaseMethod(this, 'onParentResized',[szParent]);this.adjustSizeAndPosition();this.$3_19();},addKeysToDomList:function(){for(var $0=0;$0<this.$3_C.length;$0++){var $1=this.$3_A[this.$3_C[$0]];this.$3_B.appendChild($1.get_element());}},$3_1E:function($p0){this.adjustSizeAndPosition();this.$3_19();if($p0){this.get_element().className='keyboardcontainer_dock';this.$3_A[509].$23('key_dock');}else{this.get_element().className='keyboardcontainer_undock';this.$3_A[509].$23('key_undock');}},adjustSizeAndPosition:function(){var $0=Kepler.Engine.UI.DesktopWnd.get_instance();var $1=$0.get_left();var $2=$0.get_top();var $3=$0.get_width();var $4=$0.get_height();if(!this.$3_7){$3=$3/2;}if($3<0){$3=390;}this.set_width($3);var $5=$3/3;if($5<$4/3){$5=$4/3;}else if($5>$4/2){$5=$4/2;}if(this.$3_12){this.set_position(new Kepler.Framework.UI.Point($1,$2+$4-$5));}else{this.set_position(new Kepler.Framework.UI.Point($1,$2+$4));}this.set_height($5);var $6=this.get_width()/540;var $7=this.get_height()/180;Kepler.Engine.UI.Controls.Keyboard.Key.setRatios($6,$7);for(var $8=0;$8<this.$3_C.length;$8++){var $9=this.$3_A[this.$3_C[$8]];$9.onResize();}},$3_1F:function($p0){this.$3_24();var $0=null;var $1=null;if(this.$3_9!=null&&$p0.get_touches().length>1){$0=this.$3_9.get_target();if($0.tagName.toLowerCase()!=='li'){var $2=$0.parentNode;$0=$2;}$1=$0.key;if($1!=null){if($1!==this.$3_A[505]&&$1!==this.$3_A[504]&&$1!==this.$3_A[503]&&$1!==this.$3_A[501]&&$1!==this.$3_A[502]&&$1!==this.$3_A[17]&&$1!==this.$3_A[18]&&$1!==this.$3_A[16]){this.$3_20($1);}}}this.$3_9=$p0.get_changedTouches()[0].clone();for(var $3=0;$3<$p0.get_touches().length;$3++){$0=$p0.get_touches()[$3].get_target();if($0.tagName.toLowerCase()!=='li'){var $4=$0.parentNode;$0=$4;}$1=$0.key;if($1!=null){$1.setPressedState();}}if(this.$3_9!=null){$0=this.$3_9.get_target();if($0.tagName.toLowerCase()!=='li'){var $5=$0.parentNode;$0=$5;}$1=$0.key;if($1!=null){if($1===this.$3_A[505]||$1===this.$3_A[504]||$1===this.$3_A[503]||$1===this.$3_A[501]||$1===this.$3_A[502]){}else if($1===this.$3_A[509]){this.set_dock(!this.get_dock());}else if($1===this.$3_A[510]){this.$3_2=true;}else if($1===this.$3_A[18]){Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.set_altKey(!Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.$3_5);if(this.$3_9!=null){this.$3_21(this.$3_9);}}else if($1===this.$3_A[17]){Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.set_controlKey(!Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.$3_4);if(Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.$3_4){if(this.$3_9!=null){this.$3_21(this.$3_9);}}}else if($1===this.$3_A[16]){Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.set_shiftKey(!Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.$3_6);if(Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.$3_6){if(this.$3_9!=null){this.$3_21(this.$3_9);}}}else{if(this.$3_9!=null){this.$3_21(this.$3_9);}if($1!==this.$3_A[508]){this.$3_D.start();}}}}},$3_20:function($p0){if($p0===this.$3_A[505]){switch(this.$3_F){case 2:case 3:if(Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.$3_6){this.set_mode(1);}else{this.set_mode(0);}break;case 0:case 1:if(Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.$3_6){this.set_mode(3);}else{this.set_mode(2);}break;case 4:if(Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.$3_6){this.set_mode(3);}else{this.set_mode(2);}break;}}else if($p0===this.$3_A[504]){switch(this.$3_F){case 0:this.set_mode(1);break;case 1:this.set_mode(0);break;}}else if($p0===this.$3_A[509]){}else if($p0===this.$3_A[503]){switch(this.$3_F){case 4:if(Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.$3_6){this.set_mode(1);}else{this.set_mode(0);}break;default:this.set_mode(4);break;}}else if($p0===this.$3_A[501]){if(Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.$3_6){this.set_mode(1);}else{this.set_mode(0);}}else if($p0===this.$3_A[502]){if(Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.$3_6){this.set_mode(3);}else{this.set_mode(2);}}else if($p0===this.$3_A[18]){if(this.$3_9!=null){var $0=this.$3_23(Kepler.Framework.UI.Events.EventArgsNs.EventType.keyUp,this.$3_9);if($0!=null){Framework.UI.Events.EventDispatcher.processKeyEvent($0);}}}else if($p0===this.$3_A[16]){if(!Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.$3_6&&this.$3_9!=null){var $1=this.$3_23(Kepler.Framework.UI.Events.EventArgsNs.EventType.keyUp,this.$3_9);if($1!=null){Framework.UI.Events.EventDispatcher.processKeyEvent($1);}}}else if($p0===this.$3_A[17]){if(!Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.$3_4&&this.$3_9!=null){var $2=this.$3_23(Kepler.Framework.UI.Events.EventArgsNs.EventType.keyUp,this.$3_9);if($2!=null){Framework.UI.Events.EventDispatcher.processKeyEvent($2);}}}else if($p0===this.$3_A[508]){this.$3_9=null;this.show(false);}else if($p0===this.$3_A[510]){this.$3_9=null;}else{if(this.get_mode()===1&&!Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.$3_6){this.set_mode(0);}if(this.$3_9!=null){var $3=this.$3_23(Kepler.Framework.UI.Events.EventArgsNs.EventType.keyUp,this.$3_9);this.$3_9=null;if($3!=null){Framework.UI.Events.EventDispatcher.processKeyEvent($3);}}}this.$3_9=null;},$3_21:function($p0){var $0=$p0.get_target();var $1=this.$3_23(Kepler.Framework.UI.Events.EventArgsNs.EventType.keyDown,$p0);if($1!=null){Framework.UI.Events.EventDispatcher.processKeyEvent($1);}else{this.$3_24();}if($1!=null){if(!$1.get_defaultPrevented()){$1=this.$3_23(Kepler.Framework.UI.Events.EventArgsNs.EventType.keyPress,$p0);if(Kepler.Framework.Core.StringUtils.isPrintable($1.get_key(),$1.get_keyIdentifier())){Framework.UI.Events.EventDispatcher.processKeyEvent($1);}}}else{this.$3_24();}},onLoad:function(){Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.callBaseMethod(this, 'onLoad');var $0=Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseDown|Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseMove|Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseUp|Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseOver|Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseOut|Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseWheel|Kepler.Framework.UI.Events.EventArgsNs.EventType.touchStart|Kepler.Framework.UI.Events.EventArgsNs.EventType.touchMove|Kepler.Framework.UI.Events.EventArgsNs.EventType.touchEnd;this.addEvents($0);this.$3_1B();},onDetach:function(){Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.callBaseMethod(this, 'onDetach');this.$3_2A();},dispose:function(){Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.callBaseMethod(this, 'dispose');this.$3_2A();},$3_22:function(){var $0=Kepler.Engine.UI.DesktopWnd.get_instance();var $1=$0.get_width();var $2=$0.get_height();var $3=$0.get_left();var $4=$0.get_top();this.set_position(new Kepler.Framework.UI.Point($3,$4+$2));$2=$1/3;this.set_size(new Kepler.Framework.UI.Size($1,$2));},$3_23:function($p0,$p1){var $0=Framework.UI.Events.EventDispatcher.getEventArgs($p0);$0.initEventArgs(this);$0.initDomEventArgs($p1.get_target(),null);var $1=$p1.get_target();if($1.tagName.toLowerCase()!=='li'){var $6=$1.parentNode;$1=$6;}var $2=$1.key;if($2==null){return null;}var $3=$2.$20(this.$3_F);var $4=$2.$21(this.$3_F);var $5=$2.$22(this.$3_F);if($5===18){if($p0===Kepler.Framework.UI.Events.EventArgsNs.EventType.keyDown||$p0===Kepler.Framework.UI.Events.EventArgsNs.EventType.keyPress){$0.initModifierKeyEventArgs(Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.$3_4,Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.$3_6,true);}else{$0.initModifierKeyEventArgs(Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.$3_4,Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.$3_6,false);}}else if($5===17){$0.initModifierKeyEventArgs(Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.$3_4,Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.$3_6,Framework.UI.Events.EventDispatcher.get_altKey());}else{$0.initModifierKeyEventArgs(Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.$3_4,Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.$3_6,Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.$3_5);}$0.initKeyEventArgs($4,$5,$3);return $0;},$3_24:function(){this.$3_D.stop();if(this.$3_D.get_interval()===100){this.$3_D.set_interval(400);}},$3_25:function(){if(this.$3_9!=null){this.$3_21(this.$3_9);}if(this.$3_D.get_interval()===400){this.$3_D.set_interval(100);}},$3_26:function(){this.$3_E.stop();if(!this.$3_7){var $0=this.$3_A[510].get_element().clientWidth/2;var $1=this.$3_A[510].get_element().clientHeight/2;var $2=new Kepler.Framework.UI.Point(this.$3_8.get_x()-this.get_width()+$0,this.$3_8.get_y()-$1);$2.set_x(Math.min(Math.max($2.get_x(),0),Kepler.Engine.UI.DesktopWnd.get_instance().get_width()-this.get_width()));$2.set_y(Math.min(Math.max($2.get_y(),0),Kepler.Engine.UI.DesktopWnd.get_instance().get_height()-this.get_height()));this.set_position($2);}},$3_27:function(){if(!Kepler.Framework.UI.Events.Hooks.TouchHook.isRegistered(this.$3_11,true)){Kepler.Framework.UI.Events.Hooks.TouchHook.register(this.$3_11,true);}},$3_28:function(){Kepler.Framework.UI.Events.Hooks.TouchHook.unRegister(this.$3_11,true);},$3_29:function(){if(!Kepler.Framework.UI.Events.Hooks.KeyboardHook.isRegistered(this.$3_10,true)){Kepler.Framework.UI.Events.Hooks.KeyboardHook.register(this.$3_10,true);}},$3_2A:function(){Kepler.Framework.UI.Events.Hooks.KeyboardHook.unRegister(this.$3_10,true);},touchHookProc:function(evt){var $0=false;if(!Kepler.Engine.UI.Helper.HtmlCssHelper.isElemOut('[id="'+Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.$3_0+'"]',evt.get_target())){switch(evt.get_type()){case Kepler.Framework.UI.Events.EventArgsNs.EventType.touchStart:this.onTouchStart(evt);break;case Kepler.Framework.UI.Events.EventArgsNs.EventType.touchMove:this.onTouchMove(evt);break;case Kepler.Framework.UI.Events.EventArgsNs.EventType.touchCancel:case Kepler.Framework.UI.Events.EventArgsNs.EventType.touchEnd:this.onTouchEnd(evt);break;default:break;}$0=true;}else if(this.$3_9!=null&&evt.get_type()===Kepler.Framework.UI.Events.EventArgsNs.EventType.touchEnd){var $1=this.$3_9.get_target();if($1.tagName.toLowerCase()!=='li'){var $3=$1.parentNode;$1=$3;}var $2=$1.key;if($2!=null){$2.setNormalState();if(this.$3_9!=null){this.$3_24();this.$3_20($2);}}}return $0;},$3_2B:function($p0){if(($p0).get_key()===Kepler.Framework.UI.Events.EventArgsNs.Keys.controlKey){switch($p0.get_type()){case Kepler.Framework.UI.Events.EventArgsNs.EventType.keyDown:Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.set_controlKey(true);break;case Kepler.Framework.UI.Events.EventArgsNs.EventType.keyUp:Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.set_controlKey(false);break;}}else if(($p0).get_key()===Kepler.Framework.UI.Events.EventArgsNs.Keys.menu){switch($p0.get_type()){case Kepler.Framework.UI.Events.EventArgsNs.EventType.keyDown:if(Kepler.Engine.UI.Engine$1D.get_$4_2().get_$4_7()){Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.set_altKey(true);}break;case Kepler.Framework.UI.Events.EventArgsNs.EventType.keyUp:if(!Kepler.Engine.UI.Engine$1D.get_$4_2().get_$4_7()){Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.set_altKey(false);}break;}}else if(($p0).get_key()===Kepler.Framework.UI.Events.EventArgsNs.Keys.shiftKey){switch($p0.get_type()){case Kepler.Framework.UI.Events.EventArgsNs.EventType.keyDown:Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.set_shiftKey(true);break;case Kepler.Framework.UI.Events.EventArgsNs.EventType.keyUp:Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.set_shiftKey(false);break;}}return false;},onTouchStart:function(evt){Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.callBaseMethod(this, 'onTouchStart',[evt]);this.setCapture();this.$3_1F(evt);this.$3_3=Kepler.Engine.UI.Controls.Control.getClientPointFromEventArgs(evt);},onTouchMove:function(evt){Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.callBaseMethod(this, 'onTouchMove',[evt]);if(!this.$3_E.get_isRunning()&&this.$3_2){this.set_dock(false);this.$3_8=new Kepler.Framework.UI.Point(evt.get_changedTouches()[0].get_clientX(),evt.get_changedTouches()[0].get_clientY());this.$3_E.start();}},onTouchEnd:function(evt){Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.callBaseMethod(this, 'onTouchEnd',[evt]);this.releaseCapture();this.$3_2=false;var $0=null;var $1=null;for(var $2=0;$2<evt.get_changedTouches().length;$2++){$0=evt.get_changedTouches()[$2].get_target();if($0.tagName.toLowerCase()!=='li'){var $3=$0.parentNode;$0=$3;}$1=$0.key;if($1!=null){$1.setNormalState();if(this.$3_9!=null){if(evt.get_changedTouches()[$2].get_identifier()===this.$3_9.get_identifier()){this.$3_24();this.$3_20($1);}}}}}}
Type.registerNamespace('Kepler.Engine.UI.Controls.MessageBox');Kepler.Engine.UI.Controls.MessageBox.QuestionListType=function(){};Kepler.Engine.UI.Controls.MessageBox.QuestionListType.prototype = {GRID:0,TREE:1}
Kepler.Engine.UI.Controls.MessageBox.QuestionListType.registerEnum('Kepler.Engine.UI.Controls.MessageBox.QuestionListType',false);Kepler.Engine.UI.Controls.MessageBox.MsgTextAlignment=function(){};Kepler.Engine.UI.Controls.MessageBox.MsgTextAlignment.prototype = {none:-1,left:0,center:1,right:2}
Kepler.Engine.UI.Controls.MessageBox.MsgTextAlignment.registerEnum('Kepler.Engine.UI.Controls.MessageBox.MsgTextAlignment',false);Kepler.Engine.UI.Controls.MessageBox.eMsgBoxBtnType=function(){};Kepler.Engine.UI.Controls.MessageBox.eMsgBoxBtnType.prototype = {OK:1,CANCEL:2,YES:4,NO:8,RETRY:16,NONE:50,CLOSE:32}
Kepler.Engine.UI.Controls.MessageBox.eMsgBoxBtnType.registerEnum('Kepler.Engine.UI.Controls.MessageBox.eMsgBoxBtnType',false);Kepler.Engine.UI.Controls.MessageBox.DialogTypes=function(){}
Kepler.Engine.UI.Controls.MessageBox.DynDialogLaunchParams=function(){this.set_dialogSize(new Kepler.Framework.UI.Size(0,0));}
Kepler.Engine.UI.Controls.MessageBox.DynDialogLaunchParams.prototype={$0:null,get_title:function(){return this.$0;},set_title:function(value){this.$0=value;return value;},$1:null,get_dialogSize:function(){return this.$1;},set_dialogSize:function(value){this.$1=value;return value;},$2:0,get_dialogType:function(){return this.$2;},set_dialogType:function(value){this.$2=value;return value;}}
Kepler.Engine.UI.Controls.MessageBox.DummyDialog=function(iDialogType){Kepler.Engine.UI.Controls.MessageBox.DummyDialog.initializeBase(this,['div',null,null,null]);if(ss.isNullOrUndefined(iDialogType)){this.set_currentDialogType(1);}else{this.set_currentDialogType(iDialogType);}this.set_minimumHeight(300);this.set_minimumWidth(200);this.$3_4();this.show(false);}
Kepler.Engine.UI.Controls.MessageBox.DummyDialog.prototype={$3_0:null,$3_1:null,get_contentArea:function(){return this.$3_1;},set_contentArea:function(value){this.$3_1=value;return value;},$3_2:false,get_allowBouncingAnimation:function(){return this.$3_2;},set_allowBouncingAnimation:function(value){this.$3_2=value;return value;},$3_3:0,get_currentDialogType:function(){return this.$3_3;},set_currentDialogType:function(value){this.$3_3=value;return value;},$3_4:function(){Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this.get_element(),(this.get_currentDialogType()===1)?'dummydialog dummy-base-cls normal_dialog_blur':'panedialog dummy-base-cls pane_dialog_frame pane_dialog_blur');var $0=Kepler.Engine.UI.DesktopWnd.get_instance();$0.add(this);this.set_size(new Kepler.Framework.UI.Size(this.get_minimumWidth(),this.get_minimumHeight()));this.get_element().innerHTML='';this.$3_6();this.$3_5();this.set_zIndex(Kepler.Framework.UI.Controls.ZIndexConstants.dummyDlgLoader);},$3_5:function(){this.set_contentArea(document.createElement('div'));Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this.get_contentArea(),(this.get_currentDialogType()===1)?'dialog_client dummydialog-clientarea normal_client_blur':'pane_dialog_frame_override');this.get_element().appendChild(this.get_contentArea());this.updateDOMSize();},get_size:function(){return Kepler.Engine.UI.Controls.MessageBox.DummyDialog.callBaseMethod(this, 'get_size');},set_size:function(value){Kepler.Engine.UI.Controls.MessageBox.DummyDialog.callBaseMethod(this, 'set_size',[value]);this.set_minimumHeight(value.get_height());this.set_minimumWidth(value.get_width());return value;},onSize:function(){Kepler.Engine.UI.Controls.MessageBox.DummyDialog.callBaseMethod(this, 'onSize');this.updateDOMSize();},onParentResized:function(szParent){Kepler.Engine.UI.Controls.MessageBox.DummyDialog.callBaseMethod(this, 'onParentResized',[szParent]);if(ss.isValue(this.get_parent())){this.updateDOMSize();}},updateDOMSize:function(){if(ss.isNullOrUndefined(this.$3_0)||ss.isNullOrUndefined(this.get_element())){return;}var $0,$1,$2,$3,$4,$5;$3=parseInt(Kepler.Engine.UI.Helper.HtmlCssHelper.getCalculatedCSSProperty(this.get_element(),'padding-bottom').toString(),10);$4=parseInt(Kepler.Engine.UI.Helper.HtmlCssHelper.getCalculatedCSSProperty(this.get_element(),'padding-left').toString(),10);$5=parseInt(Kepler.Engine.UI.Helper.HtmlCssHelper.getCalculatedCSSProperty(this.get_element(),'padding-right').toString(),10);$0=parseInt(Kepler.Engine.UI.Helper.HtmlCssHelper.getCSSProperty(this.$3_0.get_element(),'height').toString(),10);$2=parseInt(Kepler.Engine.UI.Helper.HtmlCssHelper.getCSSProperty(this.$3_0.get_element(),'width').toString(),10);$1=parseInt(Kepler.Engine.UI.Helper.HtmlCssHelper.getCSSProperty(this.get_element(),'height').toString(),10);this.get_contentArea().style.height=(this.get_height()-$0)+'px';this.get_contentArea().style.width=this.get_width()+'px';},$3_6:function(){this.$3_0=new Kepler.Engine.UI.Controls.MessageBox.MessageBoxTitle('');this.$3_0.detachEventsNHideBtns();this.$3_0.get_element().style.margin='0px';this.add(this.$3_0);if(this.get_currentDialogType()===1){var $0,$1;$0=document.createElement('div');$1=document.createElement('div');Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass($0,'help_btn_css help_btn_css_normal normal_title_help_btn');Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass($1,'close_btn_css close_btn_css_normal normal_title_close_btn');this.$3_0.get_element().appendChild($0);this.$3_0.get_element().appendChild($1);this.$3_0.addCssClass('dialog_title_div');Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this.$3_0.get_titleElement(),'normal_dialog_title_div  dialog_title');}else if(this.get_currentDialogType()===2){var $2,$3;$2=document.createElement('div');$3=document.createElement('div');Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass($2,'pane_dialog_btn_arrow_word pane_dialog_btn_arrow_word_normal pane_title_button_base_cls pane_title_dropdown_btn');Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass($3,'pane_dialog_btn_cross_word pane_dialog_btn_cross_word_normal pane_title_button_base_cls pane_title_close_btn');this.get_element().appendChild($2);this.get_element().appendChild($3);this.$3_0.addCssClass('pane_dialog_title pane_dialog-title-override');this.$3_0.get_elementStyle().color=Kepler.Engine.UI.EngineThemeDetails.getThemeDetails().get_colorNormal();}},setTitle:function(strTitle){this.$3_0.setTitle(strTitle);},getTitle:function(){return this.$3_0.getTitle();},showCentered:function(){this.show(true);var $0,$1;var $2=Kepler.Engine.Core.EngineApp.get_engine().getDesktopViewRect();var $3=Kepler.Engine.UI.DesktopWnd.get_instance().get_margin();$0=$2.get_height()+$3.get_top();$1=$2.get_width()+$3.get_left();var $4=($1-this.get_width())/2;var $5=($0-this.get_height())/2+($2.get_top()*2);this.set_left(($4>0)?$4:1);this.set_top(($5>0)?(($5+$0)<($2.get_height()+$2.get_top()))?$5:($2.get_top()+$2.get_height()-this.get_height())/2:1);},show:function(bShow){if(this.get_visible()!==bShow){Kepler.Engine.UI.Controls.MessageBox.DummyDialog.callBaseMethod(this, 'show',[bShow]);if(!bShow){this.get_element().style.opacity='1';Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this.get_element(),'fade-out-anim');this.get_element().style.opacity='0';this.get_element().addEventListener('webkitTransitionEnd',ss.Delegate.create(this,this.onFadeAnimEnd),false);this.get_element().addEventListener('oTransitionEnd',ss.Delegate.create(this,this.onFadeAnimEnd),false);this.get_element().addEventListener('transitionend',ss.Delegate.create(this,this.onFadeAnimEnd),false);this.get_element().addEventListener('MSTransitionEnd',ss.Delegate.create(this,this.onFadeAnimEnd),false);}else{Kepler.Engine.UI.Helper.HtmlCssHelper.setStyleProperty(this.get_element(),'-webkit-transform','scale(1)');this.get_element().style.opacity='1';var $0=Kepler.Engine.UI.DesktopWnd.get_instance();$0.add(this);}}},$3_7:function($p0){if(this.get_currentDialogType()===$p0){return;}this.set_currentDialogType($p0);this.$3_0=null;this.set_contentArea(null);this.get_element().innerHTML='';Kepler.Engine.UI.Helper.HtmlCssHelper.removeAllCssClasses(this.get_element());this.$3_4();},setLaunchParams:function(oDialogParams){if(ss.isValue(oDialogParams.get_dialogSize())){this.set_size(oDialogParams.get_dialogSize());}if(ss.isValue(oDialogParams.get_dialogType())&&oDialogParams.get_dialogType()!==this.get_currentDialogType()){this.$3_7(oDialogParams.get_dialogType());}if(ss.isValue(oDialogParams.get_title())){this.setTitle(oDialogParams.get_title());}},onFadeAnimEnd:function(elemEvent){Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(this.get_element(),'fade-out-anim');if(this.get_element().style.display==='block'){this.get_element().style.display='none';var $0=Kepler.Engine.UI.DesktopWnd.get_instance();var $1=this.get_element().parentNode;if(ss.isValue($1)){$1.removeChild(this.get_element());}$0.remove(this);}this.get_element().removeEventListener('webkitTransitionEnd',ss.Delegate.create(this,this.onFadeAnimEnd),false);this.get_element().removeEventListener('oTransitionEnd',ss.Delegate.create(this,this.onFadeAnimEnd),false);this.get_element().removeEventListener('transitionend',ss.Delegate.create(this,this.onFadeAnimEnd),false);this.get_element().removeEventListener('MSTransitionEnd',ss.Delegate.create(this,this.onFadeAnimEnd),false);}}
Kepler.Engine.UI.Controls.MessageBox.MessageBoxWithoutTitle=function(strMessage,eButtons,strThemeCls){Kepler.Engine.UI.Controls.MessageBox.MessageBoxWithoutTitle.initializeBase(this,[strMessage,eButtons,strThemeCls]);this.addCssClass('msgbox_observe');this._msgFooterWnd.set_height(40);for(var $0=0;$0<this.$4_B.length;$0++){this.$4_B[$0].set_width(60);this.$4_B[$0].set_height(27);}}
Kepler.Engine.UI.Controls.MessageBox.MessageBoxWithoutTitle.prototype={$4_3D:null,showMsgBox:function(strTitle,strMessage,instance,iCase){if(!ss.isNullOrUndefined(iCase)){this.createMessageBoxIcon(iCase);}Kepler.Engine.UI.Controls.MessageBox.MessageBox.show(strTitle,strMessage,instance);this.get_msgBoxTitle().get_elementStyle().display='none';this.get_msgBoxFooterWnd().get_elementStyle().display='block';var $0=this.$4_B[(this.$4_B.length-1)];$0.get_element().setAttribute('tabindex',1);var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementOwnerWindow($0.get_element());$1.document.body.setAttribute('tabindex',1);$1.document.body.focus();},alignVerticallyCenter:function(element,strMsg,iExcludeHeight){var $0=element.parentNode;var $1=document.createElement('span');$1.innerHTML=strMsg;$1.style['position']='relative';element.innerHTML='';element.appendChild($1);var $2=parseInt(Kepler.Engine.UI.Helper.HtmlCssHelper.getCSSProperty($0,'height').toString());var $3=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientRect($1).get_height();if(ss.isValue(iExcludeHeight)){$2=$2-iExcludeHeight;}$1.className='messagebox-content';},createMessageBoxIcon:function(iCase){var $0='msgbox_observe_Icon msgbox_observe_Icon_'+iCase.toString();this.$4_3D=new Kepler.Engine.UI.Controls.StaticImage('',null,new Kepler.Framework.UI.Size(44,44),'',null);this.$4_3D.set_top(10);this.$4_3D.addCssClass($0);this._msgWrapperWnd.add(this.$4_3D);}}
Kepler.Engine.UI.Controls.MessageBox.ZoomNotificationControl=function(){Kepler.Engine.UI.Controls.MessageBox.ZoomNotificationControl.initializeBase(this);this.set_focusable(false);}
Kepler.Engine.UI.Controls.MessageBox.ZoomNotificationControl.prototype={onLoad:function(){Kepler.Engine.UI.Controls.MessageBox.ZoomNotificationControl.callBaseMethod(this, 'onLoad');this.$4_3D();},$4_3D:function(){this.addEvents(Kepler.Framework.UI.Events.EventArgsNs.EventType.keyDown|Kepler.Framework.UI.Events.EventArgsNs.EventType.keyUp);},onKeyDown:function(KeyEventArgs){Kepler.Engine.UI.Controls.MessageBox.ZoomNotificationControl.callBaseMethod(this, 'onKeyDown',[KeyEventArgs]);this.$4_3E(KeyEventArgs);},onKeyPress:function(evt){Kepler.Engine.UI.Controls.MessageBox.ZoomNotificationControl.callBaseMethod(this, 'onKeyPress',[evt]);this.$4_3E(evt);},$4_3E:function($p0){if($p0.get_ctrlKey()&&($p0.get_key()===Kepler.Framework.UI.Events.EventArgsNs.Keys.d0||$p0.get_key()===Kepler.Framework.UI.Events.EventArgsNs.Keys.numPad0)){$p0.set_defaultPrevented(false);$p0.set_propogationStopped(false);}}}
Kepler.Engine.UI.Controls.MessageBox.Message=function(){}
Kepler.Engine.UI.Controls.MessageBox.MsgThemes=function(){}
Kepler.Engine.UI.Controls.MessageBox.MessageBox=function(strMessage,eButtons,strThemeCls){this.$4_6=new Kepler.Framework.UI.Point(0,0);this.$4_A=-1;this.$4_B=[];this.$4_C=[];this.$4_18=Kepler.Engine.UI.Controls.MessageBox.MsgThemes.DEFAULT;Kepler.Engine.UI.Controls.MessageBox.MessageBox.initializeBase(this,[Kepler.Engine.UI.Controls.Control.csS_CLASS_POSITION_ABSOLUTE,'messagebox border-radiusCls']);if(ss.isNullOrUndefined(strMessage)){strMessage='';}if(ss.isValue(strThemeCls)){this.set_currentTheme(strThemeCls);}this.set_messageHtml(strMessage);this.initMsgWrapper();this.$4_1E();this.$4_1D(eButtons);this.$4_1F();this.set_minimumWidth(250);this.set_minimumHeight(125);this.set_size(new Kepler.Framework.UI.Size(this.get_minimumWidth(),this.get_minimumHeight()));this.get_elementStyle().backgroundColor='White';this.$4_F=[];this.$4_10=[];this.$4_13=ss.Delegate.create(this,this.$4_34);this.$4_11=new Kepler.Framework.Core.Timers.Timer(this.$4_13,1000);this.$4_12=new Kepler.Framework.Core.Timers.Timer(ss.Delegate.create(this,this.$4_35),1000);Kepler.Engine.UI.Controls.MessageBox.MessageBox.callBaseMethod(this, 'show',[false]);this.$4_16=false;}
Kepler.Engine.UI.Controls.MessageBox.MessageBox.get_title=function(){return Kepler.Engine.UI.Controls.MessageBox.MessageBox.$4_1B;}
Kepler.Engine.UI.Controls.MessageBox.MessageBox.set_title=function(value){Kepler.Engine.UI.Controls.MessageBox.MessageBox.$4_1B=value;return value;}
Kepler.Engine.UI.Controls.MessageBox.MessageBox.show=function(strTitle,strMessage,instance,iAutoHideInterval,strMsgThemeCls){Kepler.Engine.UI.Controls.MessageBox.MessageBox.$4_1B=strTitle;Kepler.Engine.UI.Controls.MessageBox.MessageBox.$4_1C=strMessage;if(ss.isValue(instance)){instance.$4_20(Kepler.Engine.UI.UIManager.get_zoomFactor(),strMessage);}else{if(Kepler.Engine.UI.Controls.MessageBox.MessageBox.$4_3!=null){Kepler.Engine.UI.Controls.MessageBox.MessageBox.hide();}if(ss.isValue(strMsgThemeCls)){Kepler.Engine.UI.Controls.MessageBox.MessageBox.$4_3.set_currentTheme(strMsgThemeCls);}Kepler.Engine.UI.Controls.MessageBox.MessageBox.$4_3=new Kepler.Engine.UI.Controls.MessageBox.MessageBox(strMessage);Kepler.Engine.UI.Controls.MessageBox.MessageBox.$4_3.set_$4_14(Kepler.Engine.UI.Controls.MessageBox.MessageBox.$4_36);Kepler.Engine.UI.Controls.MessageBox.MessageBox.$4_3.$4_20(Kepler.Engine.UI.UIManager.get_zoomFactor());instance=Kepler.Engine.UI.Controls.MessageBox.MessageBox.$4_3;}if(instance._bDoNotShowAgain){instance.$4_37(1);return;}(instance).show(true);instance.set_$4_E(instance.getFocus());instance.get_parent().setFocus();if(ss.isNullOrUndefined(strTitle)){instance._cntrlTitle.get_element().style['display']='none';instance._cntrlTitle.hideCloseBtn();instance._msgFooterWnd.get_element().style['display']='none';if(instance.$4_A!==-1){switch(instance.$4_A){case 0:instance.$4_5.get_element().style.textAlign='left';break;case 1:instance.$4_5.get_element().style.textAlign='center';break;case 2:instance.$4_5.get_element().style.textAlign='right';break;}}else{instance.$4_5.get_element().style.textAlign='center';}instance.alignVerticallyCenter(instance.$4_5.get_element(),strMessage);}else if(!strTitle.length){instance._cntrlTitle.get_element().style['display']='block';instance._cntrlTitle.hideCloseBtn();instance._msgFooterWnd.get_element().style['display']='none';if(instance.$4_A!==-1){switch(instance.$4_A){case 0:instance.$4_5.get_element().style.textAlign='left';break;case 1:instance.$4_5.get_element().style.textAlign='center';break;case 2:instance.$4_5.get_element().style.textAlign='right';break;}}else{instance.$4_5.get_element().style.textAlign='center';}instance.alignVerticallyCenter(instance.$4_5.get_element(),strMessage,$(instance._cntrlTitle.get_element()).outerHeight());}else{instance._cntrlTitle.get_element().style['display']='block';instance._cntrlTitle.showCloseBtn();instance._msgFooterWnd.get_element().style['display']='block';if(instance.$4_A!==-1){switch(instance.$4_A){case 0:instance.$4_5.get_element().style.textAlign='left';break;case 1:instance.$4_5.get_element().style.textAlign='center';break;case 2:instance.$4_5.get_element().style.textAlign='right';break;}}else{instance.$4_5.get_element().style.textAlign='left';}instance._cntrlTitle.setTitle(strTitle);if(!instance.$4_B.length){instance._msgFooterWnd.get_element().style['display']='none';}instance.$4_5.get_element().style.height=(instance.get_height()-41)+'px';}instance.resizeMsgBox();if(instance.get_allowBouncingAnimation()){Kepler.Engine.UI.Controls.MessageBox.MessageBox.$4_2F(instance);instance.$4_33();}else{instance.setFocus();}if(ss.isValue(iAutoHideInterval)&&iAutoHideInterval>0){instance.$4_32(iAutoHideInterval);}if(ss.isValue(instance)&&ss.isValue(instance.get_element())){if(Kepler.Engine.UI.UIManager.get_zoomFactor()>1){Kepler.Engine.UI.Helper.HtmlCssHelper.setElementTransform(instance.get_element(),'scale('+(1/Kepler.Engine.UI.UIManager.get_zoomFactor()).toString()+')');}else{Kepler.Engine.UI.Helper.HtmlCssHelper.setElementTransform(instance.get_element(),'scale('+(1/Kepler.Engine.UI.UIManager.get_zoomFactor()).toString()+')');}}if(ss.isValue(Kepler.Engine.UI.Controls.MessageBox.MessageBox.$4_3)){Kepler.Engine.UI.Controls.MessageBox.MessageBox.$4_3.get_element().style.display='block';}}
Kepler.Engine.UI.Controls.MessageBox.MessageBox.hide=function(instance){if(instance!=null){instance.$4_15=true;instance.$4_2C();}else if(Kepler.Engine.UI.Controls.MessageBox.MessageBox.$4_3!=null){Kepler.Engine.UI.Controls.MessageBox.MessageBox.$4_3.$4_2C();}if(ss.isValue(instance)&&ss.isValue(instance.get_parent())){instance.get_parent().removeCssClass('msgbox-container-opaque');}if(ss.isValue(instance)&&instance.get_allowBouncingAnimation()){Kepler.Engine.UI.Controls.MessageBox.MessageBox.$4_30(instance);}if(ss.isValue(instance)&&!!instance.get_allowPrerender()){instance.$4_2D(instance);}else if(ss.isValue(instance)){Kepler.Engine.UI.Controls.MessageBox.MessageBox.$4_2E(instance);(instance).show(false);instance.$4_24();}else{if(Kepler.Engine.UI.Controls.MessageBox.MessageBox.$4_3!=null){Kepler.Engine.UI.Controls.MessageBox.MessageBox.$4_2E(Kepler.Engine.UI.Controls.MessageBox.MessageBox.$4_3);(Kepler.Engine.UI.Controls.MessageBox.MessageBox.$4_3).show(false);Kepler.Engine.UI.Controls.MessageBox.MessageBox.$4_3.$4_24();Kepler.Engine.UI.Controls.MessageBox.MessageBox.$4_3B();var $0=Kepler.Engine.UI.Controls.MessageBox.MessageBox.$4_3.get_parent();if(ss.isValue($0)){$0.removeCssClass('msgbox-container-opaque');}}}}
Kepler.Engine.UI.Controls.MessageBox.MessageBox.$4_2E=function($p0){if(ss.isValue($p0.get_$4_E())){var $0=false;var $1=$p0.getFocus();while($1!=null){if($1===$p0){$0=true;break;}else{$1=$1.get_parent();}}if($0){Kepler.Engine.Core.EngineApp.get_engine().get_currentApp().getAppFrame().setFocus();}}}
Kepler.Engine.UI.Controls.MessageBox.MessageBox.$4_2F=function($p0){if(!ss.isValue($p0)){return;}var $0=Math.round(Math.random()*1000);if(!($0%2)){Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass($p0.get_element(),'msgBox_bounceInLeft');}else{Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass($p0.get_element(),'msgBox_bounceInRight');}}
Kepler.Engine.UI.Controls.MessageBox.MessageBox.$4_30=function($p0){if(!ss.isValue($p0)){return;}Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass($p0.get_element(),'msgBox_bounceInLeft');Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass($p0.get_element(),'msgBox_bounceInRight');}
Kepler.Engine.UI.Controls.MessageBox.MessageBox.addAutoHideEvent=function(evtHandler){if(Kepler.Engine.UI.Controls.MessageBox.MessageBox.$4_3!=null){Kepler.Engine.UI.Controls.MessageBox.MessageBox.$4_3.addAutoHideEventHandler(evtHandler);return true;}else{return false;}}
Kepler.Engine.UI.Controls.MessageBox.MessageBox.$4_36=function($p0){if(Kepler.Engine.UI.Controls.MessageBox.MessageBox.$4_3!=null){Kepler.Engine.UI.Controls.MessageBox.MessageBox.$4_2E(Kepler.Engine.UI.Controls.MessageBox.MessageBox.$4_3);(Kepler.Engine.UI.Controls.MessageBox.MessageBox.$4_3).show(false);Kepler.Engine.UI.Controls.MessageBox.MessageBox.$4_3.$4_24();Kepler.Engine.UI.Controls.MessageBox.MessageBox.$4_3.$4_31();Kepler.Engine.UI.Controls.MessageBox.MessageBox.$4_3B();var $0=Kepler.Engine.UI.Controls.MessageBox.MessageBox.$4_3.get_parent();if(ss.isValue($0)){$0.removeCssClass('msgbox-container-opaque');}}}
Kepler.Engine.UI.Controls.MessageBox.MessageBox.addBtnClickEvent=function(evtHandler){if(Kepler.Engine.UI.Controls.MessageBox.MessageBox.$4_3!=null){Kepler.Engine.UI.Controls.MessageBox.MessageBox.$4_3.addBtnClickEventHandler(evtHandler);return true;}else{return false;}}
Kepler.Engine.UI.Controls.MessageBox.MessageBox.$4_3B=function(){Kepler.Engine.UI.Controls.MessageBox.MessageBox.$4_3=null;Kepler.Engine.UI.Controls.MessageBox.MessageBox.$4_4--;}
Kepler.Engine.UI.Controls.MessageBox.MessageBox.prototype={$4_5:null,_cntrlTitle:null,get_msgBoxTitle:function(){return this._cntrlTitle;},$4_7:3,get_title_Padding_Top:function(){return this.$4_7;},_msgWrapperWnd:null,_msgFooterWnd:null,get_msgBoxFooterWnd:function(){return this._msgFooterWnd;},get_$4_8:function(){return this.$4_5;},$4_9:null,_bDoNotShowAgain:false,get_doNotShowAgain:function(){return this._bDoNotShowAgain;},set_doNotShowAgain:function(value){this._bDoNotShowAgain=value;return value;},get_textAlign:function(){return this.$4_A;},set_textAlign:function(value){this.$4_A=value;return value;},$4_D:null,get_$4_E:function(){return this.$4_D;},set_$4_E:function($p0){this.$4_D=$p0;return $p0;},$4_F:null,$4_10:null,$4_11:null,$4_12:null,$4_13:null,get_$4_14:function(){return this.$4_13;},set_$4_14:function($p0){this.$4_13=$p0;return $p0;},$4_15:true,get_firstTime:function(){return this.$4_15;},set_firstTime:function(value){this.$4_15=value;return value;},$4_16:false,get_isCreated:function(){return this.$4_16;},$4_17:null,get_messageHtml:function(){return this.$4_17;},set_messageHtml:function(value){this.$4_17=value;if(this.get_loaded()){if(String.isNullOrEmpty(this.$4_17)){this.$4_5.show(false);}else{this.$4_5.show(true);this.$4_5.setHtml(this.$4_17);}this.updateSizingOnMsgHtmlChange();}return value;},get_currentTheme:function(){return this.$4_18;},set_currentTheme:function(value){this.$4_18=value;return value;},$4_19:false,get_allowPrerender:function(){return this.$4_19;},set_allowPrerender:function(value){this.$4_19=value;return value;},$4_1A:true,get_allowBouncingAnimation:function(){return this.$4_1A;},set_allowBouncingAnimation:function(value){this.$4_1A=value;return value;},_oLaunchFrom:null,initMsgWrapper:function(){this._msgWrapperWnd=new Kepler.Engine.UI.Controls.Wnd(this.getThemedCls('msgbox-wrapper')+'  msg-footer-back border-radiusCls',null);this._msgWrapperWnd.get_element().style.paddingTop=this.get_title_Padding_Top()+'px';},$4_1D:function($p0){this.$4_5=new Kepler.Engine.UI.Controls.Label(null,new Kepler.Framework.UI.Point(0,0),this.getThemedCls('msgbox-content'),null,null,document.createElement('div'));this.$4_5.set_showHideProperty(Kepler.Framework.UI.ShowHideProperty.display);this.$4_5.addCssClass('msgbox-content');if(ss.isValue($p0)){var $0=0;if(($p0&1)===1){this.$4_B.add(new Kepler.Engine.UI.Controls.Button('OK',null,null,'msg-btn-ok-'+Kepler.Engine.UI.Controls.MessageBox.MessageBox.$4_4.toString(),'msgbox-button  '+this.getThemedCls('msgbox-button-normal')));this.$4_B[this.$4_B.length-1].set_sendClickOnEnter(true);this.$4_C.add(1);$0++;}if(($p0&4)===4){this.$4_B.add(new Kepler.Engine.UI.Controls.Button('Yes',null,null,'msg-btn-yes-'+Kepler.Engine.UI.Controls.MessageBox.MessageBox.$4_4.toString(),'msgbox-button   '+this.getThemedCls('msgbox-button-normal')));this.$4_B[this.$4_B.length-1].set_sendClickOnEnter(true);this.$4_C.add(4);$0++;}if(($p0&2)===2){this.$4_B.add(new Kepler.Engine.UI.Controls.Button('Cancel',null,null,'msg-btn-cancel-'+Kepler.Engine.UI.Controls.MessageBox.MessageBox.$4_4.toString(),'msgbox-button  '+this.getThemedCls('msgbox-button-normal')));this.$4_B[this.$4_B.length-1].set_sendClickOnEnter(true);this.$4_C.add(2);$0++;}if(($p0&8)===8){this.$4_B.add(new Kepler.Engine.UI.Controls.Button('No',null,null,'msg-btn-no-'+Kepler.Engine.UI.Controls.MessageBox.MessageBox.$4_4.toString(),'msgbox-button  '+this.getThemedCls('msgbox-button-normal')));this.$4_B[this.$4_B.length-1].set_sendClickOnEnter(true);this.$4_C.add(8);$0++;}if(($p0&16)===16){this.$4_B.add(new Kepler.Engine.UI.Controls.Button('Retry',null,null,'msg-btn-retry-'+Kepler.Engine.UI.Controls.MessageBox.MessageBox.$4_4.toString(),'msgbox-button   '+this.getThemedCls('msgbox-button-normal')));this.$4_B[this.$4_B.length-1].set_sendClickOnEnter(true);this.$4_C.add(16);$0++;}if(($p0&32)===32){this.$4_B.add(new Kepler.Engine.UI.Controls.Button('Close',null,null,'msg-btn-cancel-'+Kepler.Engine.UI.Controls.MessageBox.MessageBox.$4_4.toString(),'msgbox-button  '+this.getThemedCls('msgbox-button-normal')));this.$4_B[this.$4_B.length-1].set_sendClickOnEnter(true);this.$4_C.add(32);$0++;}}},$4_1E:function(){this._cntrlTitle=new Kepler.Engine.UI.Controls.MessageBox.MessageBoxTitle(this.getThemedCls('msgbox-title'));},$4_1F:function(){this._msgFooterWnd=new Kepler.Engine.UI.Controls.Wnd('msg-footer',null);this._msgFooterWnd.get_element().style.paddingTop='5px';this._msgFooterWnd.get_element().style.paddingBottom='5px';},processTabOnControl:function(keyEvent,oCtrl){var $0=keyEvent.get_shiftKey();var $1=keyEvent.get_altKey();var $2=keyEvent.get_ctrlKey();if(ss.isValue(oCtrl)){if((Kepler.Engine.UI.Controls.Button).isInstanceOfType(oCtrl)){(oCtrl).changeState(Kepler.Framework.UI.Controls.EItemState.eNormal);}var $3=this.get_controls().indexOf(oCtrl);var $4=$3;if($3===this.getFirstFocusableIndex()&&$0){this.setFocus();return true;}else if($3===this.getLastFocusableIndex()&&!$0){this.setFocus();return true;}if($3!==-1){$4=this.getNextFocusableControlIndex($0,$3,this);}if($4>this.get_controls().length-1||$4<0||!this.get_focusChildCtrlsOnTab()||$4===$3){if(this.get_controls().length>0){var $5=-1;if($0){$5=this.getNextFocusableControlIndex($0,-1,this);}else{$5=this.getNextFocusableControlIndex($0,this.get_controls().length,this);}if($5!==-1){var $6=this.get_controls()[$5];if((Kepler.Engine.UI.Controls.ContainerControl).isInstanceOfType($6)){this.setTabFocusToContainerControl($6,keyEvent);return true;}else{this.setTabFocusOnControl($6,keyEvent);return true;}}}else{return false;}}this.setTabFocusOnControl(this.get_controls()[$4],keyEvent);return true;}return false;},getLastFocusableIndex:function(){for(var $0=0;$0<this.get_controls().length;$0++){if(this.get_controls()[$0].get_focusable()&&this.get_controls()[$0].get_visible()&&this.get_controls()[$0].get_enable()&&!(Kepler.Engine.UI.Controls.Label).isInstanceOfType(this.get_controls()[$0])&&!(Kepler.Engine.UI.Controls.Wnd).isInstanceOfType(this.get_controls()[$0])){if((Kepler.Engine.UI.Controls.MessageBox.MessageBoxTitle).isInstanceOfType(this.get_controls()[$0])){if((this.get_controls()[$0]).isCloseBtnVisible()){return $0;}}else{return $0;}}}return 0;},getFirstFocusableIndex:function(){for(var $0=this.get_controls().length-1;$0>=0;$0--){if(this.get_controls()[$0].get_focusable()&&this.get_controls()[$0].get_visible()&&this.get_controls()[$0].get_enable()&&!(Kepler.Engine.UI.Controls.Wnd).isInstanceOfType(this.get_controls()[$0])){if((Kepler.Engine.UI.Controls.MessageBox.MessageBoxTitle).isInstanceOfType(this.get_controls()[$0])){if((this.get_controls()[$0]).isCloseBtnVisible()){return $0;}}else{return $0;}}}return this.get_controls().length;},getAriaSpeech:function(){var $0=this.$4_5.get_element().textContent.replaceAll('.',' ');if(this.$4_15){this.$4_15=false;if(!String.isNullOrEmpty(Kepler.Engine.UI.Controls.MessageBox.MessageBox.$4_1B)){return Kepler.Engine.UI.Controls.MessageBox.MessageBox.$4_1B+' window.  '+$0;}else{return $0;}}else{return $0;}},getNextFocusableControlIndex:function(bShift,iCurIndex,oCtrl){if(bShift){var $0=(iCurIndex+1)%this.get_controls().length;while($0!==iCurIndex){if(this.get_controls()[$0].get_focusable()&&this.get_controls()[$0].get_visible()&&this.get_controls()[$0].get_enable()&&!(Kepler.Engine.UI.Controls.Label).isInstanceOfType(this.get_controls()[$0])&&!(Kepler.Engine.UI.Controls.Wnd).isInstanceOfType(this.get_controls()[$0])){if((Kepler.Engine.UI.Controls.MessageBox.MessageBoxTitle).isInstanceOfType(this.get_controls()[$0])){if((this.get_controls()[$0]).isCloseBtnVisible()){return $0;}else{$0=($0+1)%this.get_controls().length;continue;}}else{return $0;}}else{$0=($0+1)%this.get_controls().length;continue;}}}else{if(iCurIndex<=0){iCurIndex=this.get_controls().length;}var $1=(iCurIndex-1)%this.get_controls().length;while($1!==iCurIndex){if(this.get_controls()[$1].get_focusable()&&this.get_controls()[$1].get_visible()&&this.get_controls()[$1].get_enable()&&!(Kepler.Engine.UI.Controls.Label).isInstanceOfType(this.get_controls()[$1])&&!(Kepler.Engine.UI.Controls.Wnd).isInstanceOfType(this.get_controls()[$1])){if((Kepler.Engine.UI.Controls.MessageBox.MessageBoxTitle).isInstanceOfType(this.get_controls()[$1])){if((this.get_controls()[$1]).isCloseBtnVisible()){return $1;}else{if($1<=0){$1=this.get_controls().length;}$1=($1-1);continue;}}else{return $1;}}else{if($1<=0){$1=this.get_controls().length;}$1=($1-1);continue;}}}return iCurIndex;},$4_20:function($p0,$p1){if(this.$4_16){this.$4_24();}if(Kepler.Engine.UI.Controls.MessageBox.MessageBox.$4_4<Kepler.Framework.UI.Controls.ZIndexConstants.messageBox+1){Kepler.Engine.UI.Controls.MessageBox.MessageBox.$4_4=Kepler.Framework.UI.Controls.ZIndexConstants.messageBox+1;}if(this.get_allowPrerender()){var $3=Kepler.Engine.UI.DesktopWnd.get_instance();$3.get_element().style.display='block';this.get_element().style.display='block';return;}var $0=this.get_minimumWidth();var $1=this.get_minimumHeight();var $2=new Kepler.Engine.UI.Controls.MessageBox.Engine$1B();this.set_size(new Kepler.Framework.UI.Size(Math.round($0),Math.round($1)));Kepler.Engine.UI.DesktopWnd.get_instance().add($2);$2.add(this);$2.set_zIndex(Kepler.Engine.UI.Controls.MessageBox.MessageBox.$4_4);if(ss.isValue($p1)){this.set_messageHtml($p1);}this.$4_5.addCssClass('messagebox_content msgbox-content');this.addCssClass('messagebox '+this.getThemedCls('msgbox'));this.$4_16=true;},$4_21:function($p0,$p1,$p2){this.$4_22($p0,$p1,$p2);this.$4_23($p2);},$4_22:function($p0,$p1,$p2){if(ss.isNullOrUndefined($p2)){$p2=1;}if(this.$4_B.length===1){this.$4_B[0].set_position(new Kepler.Framework.UI.Point(Math.round(($p0/2-35/2)/$p2),Math.round(($p1-18-5)/$p2)));}else if(this.$4_B.length===2){this.$4_B[0].set_position(new Kepler.Framework.UI.Point(Math.round(($p0/3-35/2)/$p2),Math.round(($p1-18-5)/$p2)));this.$4_B[1].set_position(new Kepler.Framework.UI.Point(Math.round(($p0*2/3-35/2)/$p2),Math.round(($p1-18-5)/$p2)));}},$4_23:function($p0){if(this.$4_B.length===1){this.$4_B[0].set_size(new Kepler.Framework.UI.Size(Math.round(35/$p0),Math.round(18/$p0)));}else if(this.$4_B.length===2){this.$4_B[0].set_size(new Kepler.Framework.UI.Size(Math.round(35/$p0),Math.round(18/$p0)));this.$4_B[1].set_size(new Kepler.Framework.UI.Size(Math.round(35/$p0),Math.round(18/$p0)));}},updateSizingOnMsgHtmlChange:function(){var $0=this.get_width();var $1=this.get_height();var $2=$(this.$4_5.get_element());var $3=$2.width();var $4=$2.height();var $5=false;if($3>$0){$0=$3+10;$5=true;}if($4>$1){$1=$4;$5=true;}if($5){this.set_size(new Kepler.Framework.UI.Size($0,$1));this.$4_22($0,$1);}},getThemedCls:function(strCurrentCls){return ' '+strCurrentCls+' '+strCurrentCls+this.get_currentTheme()+' ';},setOverlayOpacity:function(fOpacity){var $0=this.get_parent();if($0!=null&&ss.isValue($0.get_element())){if(fOpacity===1){$0.addCssClass('msgbox-container-opaque');}else{$0.get_elementStyle().opacity=fOpacity.toString();}}},$4_24:function(){if(this.$4_16){this.stopAutoHideTimer();if(Kepler.Engine.UI.Controls.MessageBox.MessageBox.$4_4>=Kepler.Framework.UI.Controls.ZIndexConstants.messageBox+1){Kepler.Engine.UI.Controls.MessageBox.MessageBox.$4_4=Kepler.Framework.UI.Controls.ZIndexConstants.messageBox-1;}var $0=Kepler.Engine.UI.DesktopWnd.get_instance();$0.remove(this.get_parent());this.get_parent().remove(this);this.$4_16=false;}},$4_25:function(){this.attachMessage(Kepler.Engine.UI.Controls.ButtonBase.msG_BUTTON_CLICKED,ss.Delegate.create(this,this.$4_3A));this.attachMessage('closebtnclick',ss.Delegate.create(this,this.$4_38));this.attachMessage('lbuttondown',ss.Delegate.create(this,this.$4_27));this.attachMessage('mousemove',ss.Delegate.create(this,this.$4_28));this.attachMessage('lbuttonup',ss.Delegate.create(this,this.$4_29));},$4_26:function(){this.addEvents(Kepler.Framework.UI.Events.EventArgsNs.EventType.keyDown);},onLoad:function(){Kepler.Engine.UI.Controls.MessageBox.MessageBox.callBaseMethod(this, 'onLoad');this.add(this._msgWrapperWnd);this.add(this._cntrlTitle,this._msgWrapperWnd.get_element());this.add(this.$4_5,this._msgWrapperWnd.get_element());this.add(this._msgFooterWnd,this._msgWrapperWnd.get_element());this.$4_25();this.$4_26();this.set_messageHtml(this.get_messageHtml());for(var $0=this.$4_B.length-1;$0>=0;$0--){this.add(this.$4_B[$0],this._msgFooterWnd.get_element());}},$4_27:function($p0,$p1){var $0=$p0;var $1=this.getOffsetPointFromEventArgs($0,false);var $2=new Kepler.Framework.UI.Point(parseInt(this.get_element().style.left),parseInt(this.get_element().style.top));$2.set_x($2.get_x()+$1.get_x());$2.set_y($2.get_y()+$1.get_y());this.$4_6=$1;return null;},$4_28:function($p0,$p1){var $0=$p0;var $1=this.getOffsetPointFromEventArgs($0,false);var $2=new Kepler.Framework.UI.Point(parseInt(this.get_element().style.left),parseInt(this.get_element().style.top));var $3=new Kepler.Framework.UI.Point($2.get_x()+$1.get_x()-this.$4_6.get_x(),$2.get_y()+$1.get_y()-this.$4_6.get_y());$3=this.$4_2A($3);this.set_left($3.get_x());this.set_top($3.get_y());return null;},$4_29:function($p0,$p1){this.setFocus();return null;},$4_2A:function($p0){var $0=this.get_parent().get_width(),$1=this.get_parent().get_height();var $2=new Kepler.Framework.UI.Size(parseInt(this.get_element().style.width),parseInt(this.get_element().style.height));if($p0.get_x()<0){$p0.set_x(0);}if($p0.get_x()+$2.get_width()>$0){$p0.set_x($0-$2.get_width());}if($p0.get_y()<0){$p0.set_y(0);}if($p0.get_y()+$2.get_height()>$1){$p0.set_y($1-$2.get_height());}return $p0;},onPretranslateEvent:function(sender,eventArgs){if(eventArgs.get_type()===Kepler.Framework.UI.Events.EventArgsNs.EventType.keyDown){var $0=eventArgs;if($0.get_key()===Kepler.Framework.UI.Events.EventArgsNs.Keys.escape){this.$4_39();return true;}else if($0.get_key()===Kepler.Framework.UI.Events.EventArgsNs.Keys.enter){this.onKeyDown($0);return true;}else{return false;}}else{return false;}},onParentResized:function(size){this.set_position(new Kepler.Framework.UI.Point((size.get_width()-this.get_width())/2,(size.get_height()-this.get_height())/2));},onSize:function(){Kepler.Engine.UI.Controls.MessageBox.MessageBox.callBaseMethod(this, 'onSize');if(this.get_loaded()&&ss.isValue(this.get_parent())){this.set_position(new Kepler.Framework.UI.Point((this.get_parent().get_width()-this.get_width())/2,(this.get_parent().get_height()-this.get_height())/2));this.resizeMsgBox();}},resizeMsgBox:function(){var $0=parseInt(Kepler.Engine.UI.Helper.HtmlCssHelper.getCSSProperty(this.get_element(),'min-height').toString());var $1=parseInt(Kepler.Engine.UI.Helper.HtmlCssHelper.getCalculatedCSSProperty(this.get_element(),'height').toString());if($0!==$1){this._msgWrapperWnd.get_element().style.height=(($0>$1)?$0-this.get_title_Padding_Top():$1-this.get_title_Padding_Top()).toString()+'px';}var $2=parseInt(Kepler.Engine.UI.Helper.HtmlCssHelper.getCSSProperty(this.get_element(),'min-width').toString());var $3=parseInt(Kepler.Engine.UI.Helper.HtmlCssHelper.getCalculatedCSSProperty(this.get_element(),'width').toString());this._msgFooterWnd.get_element().style.width=(($2>$3)?$2:$3).toString()+'px';},alignVerticallyCenter:function(element,strMsg,iExcludeHeight){var $0=element.parentNode;var $1=document.createElement('span');$1.innerHTML=strMsg;$1.style['position']='relative';element.innerHTML='';element.appendChild($1);var $2=parseInt(Kepler.Engine.UI.Helper.HtmlCssHelper.getCSSProperty($0,'height').toString());var $3=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientRect($1).get_height();if(ss.isValue(iExcludeHeight)){$2=$2-iExcludeHeight;}$1.style['top']=($2-$3-this.$4_2B(element))/2+'px';},$4_2B:function($p0){return parseInt(Kepler.Engine.UI.Helper.HtmlCssHelper.getCSSProperty($p0,'padding-top').toString())+parseInt(Kepler.Engine.UI.Helper.HtmlCssHelper.getCSSProperty($p0,'padding-bottom').toString())+parseInt(Kepler.Engine.UI.Helper.HtmlCssHelper.getCSSProperty($p0,'border-top-width').toString())+parseInt(Kepler.Engine.UI.Helper.HtmlCssHelper.getCSSProperty($p0,'border-bottom-width').toString());},$4_2C:function(){if(this.$4_9!=null){if(this.$4_9.get_state()===Kepler.Engine.UI.Controls.ECheckBoxState.eChecked){this._bDoNotShowAgain=true;}this.$4_9.set_state(Kepler.Engine.UI.Controls.ECheckBoxState.eUnchecked);}},$4_2D:function($p0){Kepler.Engine.UI.Controls.MessageBox.MessageBox.$4_2E($p0);this.stopAutoHideTimer();if(Kepler.Engine.UI.Controls.MessageBox.MessageBox.$4_4>=Kepler.Framework.UI.Controls.ZIndexConstants.messageBox+1){Kepler.Engine.UI.Controls.MessageBox.MessageBox.$4_4=Kepler.Framework.UI.Controls.ZIndexConstants.messageBox-1;}var $0=Kepler.Engine.UI.DesktopWnd.get_instance();$0.get_element().style.display='none';this.get_element().style.display='none';this.$4_16=false;},hideTitle:function(){this._cntrlTitle.get_element().style['display']='none';this._cntrlTitle.hideCloseBtn();},hideCloseButton:function(){this._cntrlTitle.hideCloseBtn();},showCloseButton:function(){this._cntrlTitle.showCloseBtn();},addDontShowAgainCheckBox:function(){if(this.$4_9==null){this.$4_9=new Kepler.Engine.UI.Controls.CheckBox('Please don\u2019t display this message again.');this.$4_9.addCssClass('msgbox_donot_show_again');this.$4_9.set_left(8);if(Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){this.$4_9.set_bottom(45);this.$4_9.set_height(30);}else{this.$4_9.set_bottom(50);}this.$4_9.get_elementStyle().color='#000';this.$4_9.get_elementStyle().zIndex=1;this.add(this.$4_9,this._msgWrapperWnd.get_element());}},removeDontShowAgainCheckBox:function(){this.remove(this.$4_9);},addAutoHideEventHandler:function(evtHandler){this.$4_F.add(evtHandler);},clearAutoHideEventHandler:function(){this.$4_F.clear();},$4_31:function(){var $enum1=ss.IEnumerator.getEnumerator(this.$4_F);while($enum1.moveNext()){var $0=$enum1.current;$0();}},$4_32:function($p0){this.$4_11.set_interval($p0);this.$4_11.start();},$4_33:function(){this.$4_12.start();},stopAutoHideTimer:function(){this.$4_11.stop();},$4_34:function($p0){Kepler.Engine.UI.Controls.MessageBox.MessageBox.$4_2E(this);(this).show(false);this.$4_24();this.$4_31();Kepler.Engine.UI.Controls.MessageBox.MessageBox.$4_3B();var $0=this.get_parent();if(ss.isValue($0)){$0.removeCssClass('msgbox-container-opaque');}},$4_35:function(){this.$4_12.stop();this.setFocus();},addBtnClickEventHandler:function(evtHandler){this.$4_10.add(evtHandler);},$4_37:function($p0){var $enum1=ss.IEnumerator.getEnumerator(this.$4_10);while($enum1.moveNext()){var $0=$enum1.current;$0($p0);}},$4_38:function($p0,$p1){this.$4_39();return null;},$4_39:function(){if(this.$4_C.contains(8)&&(!this.$4_C.contains(2))){this.$4_37(8);}else{this.$4_37(2);}},$4_3A:function($p0,$p1){var $0=$p1;var $1=this.$4_B.length-1;for(;$1>=0;$1--){if(this.$4_B[$1]===$0){this.$4_37(this.$4_C[$1]);}}return null;},onKeyDown:function(KeyEventArgs){Kepler.Engine.UI.Controls.MessageBox.MessageBox.callBaseMethod(this, 'onKeyDown',[KeyEventArgs]);if(KeyEventArgs.get_key()===Kepler.Framework.UI.Events.EventArgsNs.Keys.escape&&this._cntrlTitle.isCloseBtnVisible()){this.$4_39();}if(KeyEventArgs.get_key()===Kepler.Framework.UI.Events.EventArgsNs.Keys.returnKey||KeyEventArgs.get_key()===Kepler.Framework.UI.Events.EventArgsNs.Keys.space){if(this.getButtonHandler(1)!=null){this.$4_37(1);}else if(this.getButtonHandler(4)!=null){this.$4_37(4);}else if(this.getButtonHandler(16)!=null){this.$4_37(16);}}},getButtonHandler:function(eMsgBtnType){if(this.$4_C.contains(eMsgBtnType)){return this.$4_B[this.$4_C.indexOf(eMsgBtnType)];}else{return null;}},$4_3C:function($p0,$p1){var $0='';$0=this.get_element().style.opacity;this.get_element().style.opacity='0';Kepler.Engine.UI.Controls.MessageBox.MessageBox.show($p0,$p1,this);Kepler.Engine.UI.Controls.MessageBox.MessageBox.hide(this);this.get_element().style.opacity=$0;}}
Kepler.Engine.UI.Controls.MessageBox.Engine$1B=function(){Kepler.Engine.UI.Controls.MessageBox.Engine$1B.initializeBase(this,[Kepler.Engine.UI.Controls.Control.csS_CLASS_POSITION_ABSOLUTE+' msgbox-container','messagebox-container']);this.get_elementStyle().zIndex=Kepler.Framework.UI.Controls.ZIndexConstants.messageBox;this.$4_1();}
Kepler.Engine.UI.Controls.MessageBox.Engine$1B.prototype={$4_1:function(){},onParentResized:function($p0){this.set_size($p0);},getAriaSpeech:function(){return '';}}
Kepler.Engine.UI.Controls.MessageBox.MessageBoxTitle=function(strClassName){Kepler.Engine.UI.Controls.MessageBox.MessageBoxTitle.initializeBase(this,['div',strClassName]);this.get_element().style['margin']='0px 3px 3px 3px';this.$3_7();this.$3_6();this.$3_4();this.$3_3();}
Kepler.Engine.UI.Controls.MessageBox.MessageBoxTitle.prototype={$3_0:null,$3_1:null,$3_2:false,get_titleElement:function(){return this.$3_0;},$3_3:function(){this.addEvents(Kepler.Framework.UI.Events.EventArgsNs.EventType.keyDown);this.addEvents(Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseDown|Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseMove|Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseUp);this.addEvents(Kepler.Framework.UI.Events.EventArgsNs.EventType.touchStart|Kepler.Framework.UI.Events.EventArgsNs.EventType.touchMove|Kepler.Framework.UI.Events.EventArgsNs.EventType.touchEnd);},detachEvents:function(){this.removeEvents(Kepler.Framework.UI.Events.EventArgsNs.EventType.keyDown);this.removeEvents(Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseDown|Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseMove|Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseUp);this.removeEvents(Kepler.Framework.UI.Events.EventArgsNs.EventType.touchStart|Kepler.Framework.UI.Events.EventArgsNs.EventType.touchMove|Kepler.Framework.UI.Events.EventArgsNs.EventType.touchEnd);},$3_4:function(){this.attachMessage(Kepler.Engine.UI.Controls.ButtonBase.msG_BUTTON_CLICKED,ss.Delegate.create(this,this.$3_5));},$3_5:function($p0,$p1){this.sendMessageToParent('closebtnclick',$p0,$p1);return null;},$3_6:function(){this.$3_1=new Kepler.Engine.UI.Controls.CssImageButton(null,null,null,'msgBox_closeBtn_cls');this.$3_1.set_ariaText('close');this.$3_1.set_sendClickOnEnter(true);this.$3_1.set_showHideProperty(Kepler.Framework.UI.ShowHideProperty.display);this.add(this.$3_1,this.get_element());},$3_7:function(){this.$3_0=document.createElement('span');this.get_element().appendChild(this.$3_0);},setTitle:function(strTitleText){this.$3_0.innerHTML=strTitleText;},getTitle:function(){return this.$3_0.innerHTML;},showCloseBtn:function(){this.$3_1.show(true);},hideCloseBtn:function(){this.$3_1.show(false);},isCloseBtnVisible:function(){return this.$3_1.get_visible();},detachEventsNHideBtns:function(){this.detachEvents();this.hideCloseBtn();},onFocus:function(oFocusedPrevControl){Kepler.Engine.UI.Controls.MessageBox.MessageBoxTitle.callBaseMethod(this, 'onFocus',[oFocusedPrevControl]);if(!Kepler.Engine.Core.EngineApp.get_engine().get_taskMaster().get_isBusinessCommunication()){this.$3_1.setFocus();}},getAriaSpeech:function(){return '';},onLButtonDown:function(evt){Kepler.Engine.UI.Controls.MessageBox.MessageBoxTitle.callBaseMethod(this, 'onLButtonDown',[evt]);this.setCapture();this.sendMessageToParent('lbuttondown',evt,this);this.$3_2=true;},onMouseMove:function(evt){Kepler.Engine.UI.Controls.MessageBox.MessageBoxTitle.callBaseMethod(this, 'onMouseMove',[evt]);if(!this.$3_2){return;}var $0=this.getOffsetPointFromEventArgs(evt,false);this.sendMessageToParent('mousemove',evt,this);},onLButtonUp:function(evt){Kepler.Engine.UI.Controls.MessageBox.MessageBoxTitle.callBaseMethod(this, 'onLButtonUp',[evt]);this.releaseCapture();this.sendMessageToParent('lbuttonup',evt,this);this.$3_2=false;}}
Type.registerNamespace('Kepler.Engine.UI.Menu');Kepler.Engine.UI.Menu.MenuRoles=function(){};Kepler.Engine.UI.Menu.MenuRoles.prototype = {menuWnd:21,greySep:23,listCtrl:24,miscCtrl:25,multiline:26,windows:27,windowsSep:28,system:29,miscItem:30,colorGrid:31,filter:32,insertTable:33,splitDropDown:34,enchancedColorGrid:35,systemTheme:36,category:37,selectorGrid:38,miscCtrlSpImg:39,dropDown:40,calendar:41,explorerFileTabMenuWnd:42,splitBtnMenuItem:43,pinnableMenuItem:44,staticTextMenuItem:45,menuWnd_Windows:46,menuWnd_Win8_Metro:47,cssWindows:48,metroMultiline:49}
Kepler.Engine.UI.Menu.MenuRoles.registerEnum('Kepler.Engine.UI.Menu.MenuRoles',false);Kepler.Engine.UI.Menu.MenuRoleAttr=function(){};Kepler.Engine.UI.Menu.MenuRoleAttr.prototype = {id:'id',name:'name',role:'role',width:'width',height:'height',cssclass:'cssclass',menuno:'menuno',rtmenuno:'rtmenuno',tt_type:'tt_type',tt_text:'tt_text',tt_class:'tt_class',imgwidth:'imgwidth',imgheight:'imgheight',itemwidth:'itemwidth',itemheight:'itemheight',imgpoint:'imgpoint',checked:'checked',textclass:'textclass',checkable:'checkable',swaptextandicon:'swaptextandicon',left:'left',themetype:'themetype',colcount:'colcount',leftmargin:'leftmargin',imagesize:'imagesize',ignorepoint:'ignorepoint',app:'app',no_shrunk:'no_shrunk',kbdshortcut:'kbdshortcut',actionstring:'actionstring',stdtheme:'stdtheme',recent_theme:'recent_theme',enable:'enable',rowcount:'rowcount',normal_color:'normal_color',fill_color:'fill_color',spacing:'spacing',headers_present:'headers_present',image_type:'image_type',sub_menu_btn:'sub_menu_btn',sub_menu_btn_kbdshortcut:'sub_menu_btn_kbdshortcut',menu_item_class:'menu_item_class',use_height:'use_height',pane_menu:'pane_menu',image_left:'image_left'}
Kepler.Engine.UI.Menu.MenuRoleAttr.registerEnum('Kepler.Engine.UI.Menu.MenuRoleAttr',false);Kepler.Engine.UI.Menu.eImageType=function(){};Kepler.Engine.UI.Menu.eImageType.prototype = {sharpenAndSoften:1,brightnessAndContrast:2,colorSaturation:3,colorTone:4,recolor:5}
Kepler.Engine.UI.Menu.eImageType.registerEnum('Kepler.Engine.UI.Menu.eImageType',false);Kepler.Engine.UI.Menu.MenuItemType=function(){};Kepler.Engine.UI.Menu.MenuItemType.prototype = {windows:90,multiline:91,windowsSeperator:92,graySeperator:93,systemTheme:94,startUp:95,system:96,textSeperator:97,cssWindows:98}
Kepler.Engine.UI.Menu.MenuItemType.registerEnum('Kepler.Engine.UI.Menu.MenuItemType',false);Kepler.Engine.UI.Menu.CheckableMenuTypes=function(){};Kepler.Engine.UI.Menu.CheckableMenuTypes.prototype = {none:0,tickChecked:1,tickCheckedGray:2,imgCheckedTheme:3,sysRadio:4,sysCheckBox:5,tickCheckBox:6,imgCheckedDarkTheme:7,win8Radio:8,win8Check:9}
Kepler.Engine.UI.Menu.CheckableMenuTypes.registerEnum('Kepler.Engine.UI.Menu.CheckableMenuTypes',false);Kepler.Engine.UI.Menu.MetroCheckableMenuTypes=function(){};Kepler.Engine.UI.Menu.MetroCheckableMenuTypes.prototype = {none:0,metroTheme:1}
Kepler.Engine.UI.Menu.MetroCheckableMenuTypes.registerEnum('Kepler.Engine.UI.Menu.MetroCheckableMenuTypes',false);Kepler.Engine.UI.Menu.Reserved_MenuIds=function(){};Kepler.Engine.UI.Menu.Reserved_MenuIds.prototype = {invalid:-1,windows_TaitStart:90001,windows_TaitEnd:90500,windows_ViewStart:90501,windows_ViewEnd:91000,multiline_TaitStart:91001,multiline_TaitEnd:91500,multiline_ViewStart:91501,multiline_ViewEnd:92000,solidSeperator_TaitStart:92001,solidSeperator_TaitEnd:92500,solidSeperator_ViewStart:92501,solidSeperator_ViewEnd:93000,dashedSeperator_TaitStart:93001,dashedSeperator_TaitEnd:93500,dashedSeperator_ViewStart:93501,dashedSeperator_ViewEnd:94000,systemTheme_TaitStart:94001,systemTheme_TaitEnd:94500,systemTheme_ViewStart:94501,systemTheme_ViewEnd:95000,startUp_TaitStart:95001,startUp_TaitEnd:95500,startUp_ViewStart:95501,startUp_ViewEnd:96000}
Kepler.Engine.UI.Menu.Reserved_MenuIds.registerEnum('Kepler.Engine.UI.Menu.Reserved_MenuIds',false);Kepler.Engine.UI.Menu.Row=function(){};Kepler.Engine.UI.Menu.Row.prototype = {verY_FIRST_ROW:0,firsT_ROW:1,middlE_ROWS:2,lasT_ROW:3}
Kepler.Engine.UI.Menu.Row.registerEnum('Kepler.Engine.UI.Menu.Row',false);Kepler.Engine.UI.Menu.eStdTheme=function(){};Kepler.Engine.UI.Menu.eStdTheme.prototype = {NONE:0,singlE_STD:1,multI_STD:2,singlE_STD_x12:3,slideshoW_STD:4}
Kepler.Engine.UI.Menu.eStdTheme.registerEnum('Kepler.Engine.UI.Menu.eStdTheme',false);Kepler.Engine.UI.Menu.eRecentTheme=function(){};Kepler.Engine.UI.Menu.eRecentTheme.prototype = {NONE:0,themE1:1}
Kepler.Engine.UI.Menu.eRecentTheme.registerEnum('Kepler.Engine.UI.Menu.eRecentTheme',false);Kepler.Engine.UI.Menu.WindowsMenuWnd=function(iMenuNo,oMenuManager){Kepler.Engine.UI.Menu.WindowsMenuWnd.initializeBase(this,[iMenuNo,oMenuManager]);this.get_elementStyle().border='1px solid #A0A0A0';this.get_elementStyle().backgroundColor='#F0F0F0';this.get_elementStyle()['box-shadow']='2px 2px 2px darkgrey';}
Kepler.Engine.UI.Menu.WindowsMenuWnd.prototype={applyMargin:function(elmDiv,prevMenuItem,curMenuItem){},updateMenuSize:function(oSize,bOriginal){var $0=0;var $1=0;var $2=false;var $3=false;var $4=null;var $5=0;var $enum1=ss.IEnumerator.getEnumerator(this.get_menuItems());while($enum1.moveNext()){var $6=$enum1.current;$2=(Kepler.Engine.UI.Menu.SystemMenuItem).isInstanceOfType($6);$3=(Kepler.Engine.UI.Menu.MenuItemNavigator).isInstanceOfType($6)&&!(Kepler.Engine.UI.Menu.ListMenuCtrl).isInstanceOfType($6);$1+=((bOriginal)?$6.get_originalHeight():$6.get_height());$5=((bOriginal)?$6.get_originalWidth():$6.get_width());if($0<=$5){$0=$5;if($2){$0+=2;}}if($2){$1+=2;}$4=$6;}oSize.set_width($0);oSize.set_height($1);}}
Kepler.Engine.UI.Menu.MetroMultilineMenuItem=function(){Kepler.Engine.UI.Menu.MetroMultilineMenuItem.initializeBase(this);this.$12='';this.$13=40;}
Kepler.Engine.UI.Menu.MetroMultilineMenuItem.prototype={$12:null,get_description:function(){return this.$12;},set_description:function(value){this.$12=value;return value;},$13:0,initialise:function(iId,strText,strImageStyle,strAcc,iWidth,iHeight,iPopUpMenuNo,iImgSize,bIsCheckable){Kepler.Engine.UI.Menu.MetroMultilineMenuItem.callBaseMethod(this, 'initialise',[iId,strText,strImageStyle,strAcc,iWidth,iHeight,iPopUpMenuNo]);this.set_isCheckable(bIsCheckable);this.$13=iImgSize;},createMenuItem:function(elmMenuItem,iLeft,iTop){Kepler.Engine.UI.Menu.MetroMultilineMenuItem.callBaseMethod(this, 'createMenuItem',[elmMenuItem,iLeft,iTop]);if(ss.isNullOrUndefined(elmMenuItem)){return;}this._elemMenuItem=elmMenuItem;var $0=new Kepler.Framework.UI.Rect(0,0,0,0);var $1=null;var $2=null;var $3=null;this.get_rectangle().set_left(iLeft);this.get_rectangle().set_top(iTop);if(!String.isNullOrEmpty(this._strImageStyle)){$0.set_top(Math.floor((this.get_rectangle().get_height()-this.$13)/2));$0.set_left(20);$1=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div','','absolute',$0.get_left(),$0.get_top(),null,null,this._strImageStyle,null);$1.setAttribute('name','menuitem-icon');Kepler.Engine.UI.Helper.HtmlCssHelper.addChild(elmMenuItem,$1,null);}var $4=(String.isNullOrEmpty(this._strImageStyle)&&!this.get_isCheckable()&&!this.$13)?0:(20+10+this.$13);$0.set_left($4);$0.set_top($0.get_top()+5);$0.set_height(20);$2=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div','','absolute',$0.get_left(),$0.get_top(),null,$0.get_height(),'metro_class_menu_font',null);$2.setAttribute('name','menuitem-text');Kepler.Engine.UI.Helper.HtmlCssHelper.addChild(elmMenuItem,$2,null);Kepler.Engine.UI.Helper.HtmlCssHelper.setElementLineHeight($2,($0.get_height()-6).toString()+'px');Kepler.Engine.UI.Helper.HtmlCssHelper.setElementVerticalAlign($2,'middle');Kepler.Engine.UI.Helper.HtmlCssHelper.setElementInnerHtml($2,this.get_text());$0.set_top($0.get_top()+20);$0.set_width(this.get_rectangle().get_width()-$0.get_left()-2-1);$0.set_height(this.get_rectangle().get_height()-$0.get_top()-2-2);$3=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div','','absolute',$0.get_left(),$0.get_top(),$0.get_width(),$0.get_height(),'metro_class_menu_font'+' class_menuitem_description',null);$3.setAttribute('name','metro_menuitem-desc');Kepler.Engine.UI.Helper.HtmlCssHelper.addChild(elmMenuItem,$3,null);Kepler.Engine.UI.Helper.HtmlCssHelper.setElementInnerHtml($3,this.$12);Kepler.Engine.UI.Helper.HtmlCssHelper.setElementLineHeight($3,15+'px');this.drawItem(elmMenuItem,Kepler.Framework.UI.Controls.EItemState.eNormal);elmMenuItem.menuitem=this;},drawItem:function(element,eState){if(ss.isNullOrUndefined(element)){element=this._elemMenuItem;if(ss.isNullOrUndefined(element)){return;}}var $0='';var $1='';var $2=this.get_rectangle().get_left();var $3=100;switch(this._eToState){case Kepler.Framework.UI.Controls.EItemState.eNormal:$1='#666666';break;case Kepler.Framework.UI.Controls.EItemState.eHover:case Kepler.Framework.UI.Controls.EItemState.eFocus:case Kepler.Framework.UI.Controls.EItemState.eFocusHover:$1='black';$0='#DEDEDE';break;case Kepler.Framework.UI.Controls.EItemState.ePressed:$2+=3;$3=98;$0='#DEDEDE';break;default:break;}if(this.get_isCheckable()){this.setCheckedState(element);}this.setEnabledDisabledState(element);Kepler.Engine.UI.Helper.HtmlCssHelper.setElementBackgroundColor(element,$0);var $4=Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementsByName(element,'metro_menuitem-desc')[0];if($4!=null){$4.style.color=$1;}Kepler.Engine.UI.Helper.HtmlCssHelper.setElementLeft(element,$2+'px');element.style.zoom=$3+'%';},setEnabledDisabledState:function(element){},setCheckedState:function(element){},onLButtonDown:function(element){this._eToState=Kepler.Framework.UI.Controls.EItemState.ePressed;this.drawItem(this._elemMenuItem,this._eToState);return Kepler.Engine.UI.Menu.MetroMultilineMenuItem.callBaseMethod(this, 'onLButtonDown',[element]);},onLButtonUp:function(element){this._eToState=Kepler.Framework.UI.Controls.EItemState.eNormal;this.drawItem(this._elemMenuItem,this._eToState);return Kepler.Engine.UI.Menu.MetroMultilineMenuItem.callBaseMethod(this, 'onLButtonUp',[element]);}}
Kepler.Engine.UI.Menu.BaseMenuManager=function(oAppFrame){Kepler.Engine.UI.Menu.BaseMenuManager.initializeBase(this,[null,'MENU_LAYER']);this.$4_18=0;this.$4_22=false;this._bParsingDone=false;this.$4_23=false;this.$4_19=[];this._mapMenuItem={};this.$4_1A=[];this.$4_1B=[];this.$4_17=[];this.$4_20=[];this.$4_21=[];this.$4_E={};this.$4_F={};this.$4_10={};this.$4_11={};this.$4_12={};this._mapDynamicDialogLaunchingMenuItem={};this.$4_14=[];this.$4_15=[];this.$4_16={};this._mapDialogLaunchingMenuItem={};this.$4_13={};this.$4_1C=ss.Delegate.create(this,this.mouseHookProc);this.$4_1D=ss.Delegate.create(this,this.keyboardHookProc);if(ss.isNullOrUndefined(Kepler.Engine.UI.Menu.BaseMenuManager.$4_1E)){Kepler.Engine.UI.Menu.BaseMenuManager.$4_1E=document.getElementById('player-span-dbg-flash');}this.$4_1F={};this.createParsers(oAppFrame);}
Kepler.Engine.UI.Menu.BaseMenuManager.prototype={_mapDialogLaunchingMenuItem:null,_mapDynamicDialogLaunchingMenuItem:null,$4_E:null,$4_F:null,$4_10:null,$4_11:null,$4_12:null,$4_13:null,$4_14:null,$4_15:null,$4_16:null,$4_17:null,$4_18:0,$4_19:null,_mapMenuItem:null,$4_1A:null,$4_1B:null,$4_1C:null,$4_1D:null,_oCommonMenuParser:null,_oMenuParser:null,$4_1F:null,$4_20:null,$4_21:null,$4_22:false,get_reset:function(){return this.$4_22;},set_reset:function(value){this.$4_22=value;return value;},get_defRtClickMenuForApp:function(){return 1;},_bParsingDone:false,get_parsingDone:function(){return this._bParsingDone;},$4_23:false,get_keepKbdHooks:function(){return this.$4_23;},set_keepKbdHooks:function(value){this.$4_23=value;return value;},initialise:function(){this.startFullParsing();},createParsers:function(oAppFrame){if((Kepler.Engine.UI.BaseAppFrame).isInstanceOfType(oAppFrame)){var $0=oAppFrame;var $1=Kepler.Engine.Core.EngineApp.get_engine().get_commonResourcePath()+'menu_automation.xml';this._oCommonMenuParser=new Kepler.Engine.UI.Menu.MenuParser($1);$1=$0.get_resourcePath()+'menu_automation.xml';this._oMenuParser=new Kepler.Engine.UI.Menu.MenuParser($1);}},startFullParsing:function(){if(!this._oCommonMenuParser.get_downloaded()||!this._oMenuParser.get_downloaded()||!this.get_loaded()||this._bParsingDone){return;}this.parseXmlFile(this._oCommonMenuParser);this.parseXmlFile(this._oMenuParser);this.$4_24();this.createMenusInAdvance();this.parsingCompleted();},parseXmlFile:function(oParser){var $0=new Kepler.Engine.UI.Menu.MenuParser_ParentParam();$0.oMenuManager=this;oParser.startXmlParsing('menu',$0);},parsingCompleted:function(){this._bParsingDone=true;this.sendMessageToParent('msg_parsing_done',null,null);},commonMenuXmlDownloadComplete:function(oParser){if(ss.isValue(this._oCommonMenuParser)){this._oCommonMenuParser.set_xmlNode(oParser.get_xmlNode());this.startFullParsing();}},menuXmlDownloadComplete:function(oParser){if(ss.isValue(this._oMenuParser)){this._oMenuParser.set_xmlNode(oParser.get_xmlNode());this.startFullParsing();}},menuXmlDownloadFailed:function(oParser){},$4_24:function(){this.toggleTouchMode(Kepler.Engine.UI.BaseAppFrame.get_toucH_MODE());if((Kepler.Engine.Core.EngineApp.get_engine().get_currentApp().getAppFrame()).get_ribbonManager()!=null){this.toggleRibbonPinMode(Ribbon.BaseRibbonManager.get_PIN());}},addToDialogMap:function(iID,oDlgInfo){if(Object.keyExists(this._mapDialogLaunchingMenuItem,iID)){}this._mapDialogLaunchingMenuItem[iID]=oDlgInfo;},createImageList:function(){},updateMenuDialogMap:function(obj){this._mapDynamicDialogLaunchingMenuItem=obj;},createMenus:function(){},intializeDialogLauncherMenuItemMap:function(){},isMenuInView:function(iMenuNo){if(ss.isNullOrUndefined(iMenuNo)){return false;}return this.$4_1A.contains(iMenuNo);},isAnyMenuInView:function(){return (this.$4_1A.length>0);},isMenuInList:function(iMenuNo){return ss.isValue(this.$4_19[iMenuNo]);},isRightClkMenu:function(iMenuNo){return true;},getMenuCountInView:function(){return this.$4_1A.length;},isCorrectMenuAction:function(oMenuItem,oAction){var $0=-1;var $1=-1;if((Kepler.Engine.UI.Menu.MenuItemNavigator).isInstanceOfType(oMenuItem)&&ss.isValue((oMenuItem).get_activeMenuSubItemElement())){$0=oMenuItem.get_id();$1=(oMenuItem).get_menuHoverSubItem();}else{$0=oMenuItem.get_id();}var $2=this.$4_27($0);if($2!==-1){$1=$2;}var $3=false;var $4=this.$4_1B.length;var $5=31;if(Type.canCast(oMenuItem,Kepler.Engine.UI.Menu.FilterMenuItem)){$5=35;}var $6=this.$4_25(oMenuItem);var $7=$5+Kepler.Framework.Core.Seperators.v_CROSS+$6+oMenuItem.get_actionString();var $8='';var $9='';for(var $A=0;$A<$4&&!$3;$A++){var $B=this.$4_1B[$A];if($B.get_id()===$0&&($B.get_index()===-1||$B.get_index()===$1)){if(oMenuItem.$F($B)){$3=true;oAction.set_frameJump($B.get_frameJump());oAction.set_subFrameJump($B.get_subFrameJump());if($B.get_checkWithViewInBool()){var $C=[];$C[0]=$B.get_checkWithViewInText();var $D=[];$3=(this.get_parent()).get_appView().verifyUserSelection($D,$C);oAction.set_checkWithViewInBool($3);if($D.length>1){$9=$D[1];}else{$9=(($3)?32:33)+Kepler.Framework.Core.Seperators.v_CROSS;}$8=Kepler.Framework.Core.Seperators.doublE_DELTA+$9+$D[0];}}}}if(!$3){this.$4_26(oMenuItem);}oAction.set_text($7+$8);return $3;},$4_25:function($p0){var $0='';if(Type.canCast($p0.get_parentMenu().get_launchFrom(),Kepler.Framework.Core.Messaging.IMessageProvider)){var $1=$p0.get_parentMenu().get_launchFrom();$0=$1.sendMessage('msg_get_menu_launcher_action_string',null,null);}return (ss.isValue($0))?$0:'';},$4_26:function($p0){var $0=this.$4_F[$p0.get_id()];$0=(ss.isNullOrUndefined($0))?((ss.isNullOrUndefined($0=this.$4_10[$p0.get_id()]))?this.$4_E[$p0.get_id()]:$0):$0;if(ss.isValue($0)){this.setState($p0.get_id(),$0);}},$4_27:function($p0){var $0=null;var $1=-1;if(ss.isValue(this._mapMenuItem[$p0])&&ss.isValue($0=this._mapMenuItem[$p0].get_parentMenu())){$1=parseInt($0.get_refrenceLaunchFrom(),10);}return $1;},$4_28:function($p0){var $0=$p0.get_parentMenu();var $1=$0.get_launchFrom();var $2=null;var $3=0;if((Kepler.Engine.UI.Menu.MenuWnd).isInstanceOfType($1)){var $4=$1;$3=$4.get_menuItems().length;$1=$4.get_launchFrom();}if((Kepler.Engine.UI.Controls.Control).isInstanceOfType($1)){$3+=$0.get_menuItems().indexOf($p0);$2=($1).sendMessage('msg_menu_item_clicked',$p0,$3);}return $2;},onMenuItemCommand:function(oMenuItem,bHideMenu){this.get_parent().sendMessage('msg_hide_minitoolbar',null,null);if(!this.blockMenuItemCommand(oMenuItem)){var $0=false;var $1=new Ribbon.ItemAction();$0=this.isCorrectMenuAction(oMenuItem,$1);var $2=false;var $3=false;if(!$0){if(Kepler.Engine.Core.EngineApp.get_engine().shouldSendCommandToApp()){$3=(this.get_parent()).sendMessage('msg_menu_item_command',oMenuItem.get_id(),oMenuItem);}var $4=this.getActiveSubMenuItem(oMenuItem);if(!$3&&this.shouldLaunchDialog($4)){$2=true;$3=true;if(bHideMenu){this.hideMenu(-1);bHideMenu=false;}var $5=this.getDialogInfo($4.get_id());(this.get_parent()).launchDialog($5);}}this.$4_23=(this.$4_23&$2)===1;if(!$3){Kepler.Engine.UI.WeapAppFrame.framejumP_WIP=$0;Kepler.Engine.Core.EngineApp.get_engine().get_taskMaster().set_isAccessibility(false);if(bHideMenu){this.hideMenu(-1);bHideMenu=false;}this.sendMessageToParent('eONActionEngine',$0,$1);Kepler.Engine.UI.WeapAppFrame.framejumP_WIP=false;Kepler.Engine.Core.EngineApp.get_engine().get_taskMaster().set_isAccessibility(Kepler.Engine.UI.WeapAppFrame.appframE_ACCESSIBILITY);}if($3||$0){this.sendMessageToParent('msg_hide_ribbon',null,null);}}if(bHideMenu){this.hideMenu(-1);}this.get_parent().sendMessage('msg_hide_pane_as_menu',null,null);},getDialogInfo:function(iMenuItemID){var $0=this._mapDialogLaunchingMenuItem[iMenuItemID];if(Object.keyExists(this._mapDynamicDialogLaunchingMenuItem,iMenuItemID)){$0=this._mapDynamicDialogLaunchingMenuItem[iMenuItemID];}return $0;},getActiveSubMenuItem:function(oMenuItem){var $0=oMenuItem;if(Type.canCast(oMenuItem,Kepler.Engine.UI.Menu.MenuItemNavigator)){var $1=(oMenuItem).get_activeMenuSubItem();if(ss.isValue($1)){$0=$1;}}return $0;},blockMenuItemCommand:function(oMenuItem){return ((oMenuItem.get_popUpMenuNo()>0||this.$4_2A(oMenuItem)||this.$4_29(oMenuItem)||this.$4_28(oMenuItem))&&oMenuItem.get_isMenuItemCmdBlocked());},shouldLaunchDialog:function(oMenuItem){var $0=false;if(ss.isValue(oMenuItem)){$0=true;$0=($0&Object.keyExists(this._mapDialogLaunchingMenuItem,oMenuItem.get_id()))===1;var $1=(this.get_parent().sendMessage('eONDetectMode',null,null));$0=($0&(0===$1||(1===$1&&Kepler.Engine.Core.EngineApp.get_engine().isHintFreeNavigation())))===1;}return $0;},$4_29:function($p0){var $0=false;if(Kepler.Framework.Core.Browser.BrowserCapabilities.get_platform()===Kepler.Framework.Core.Browser.BrowserPlatform.android){$0=($p0.get_id()===1014602||$p0.get_id()===1014603)?true:false;if(($p0.get_id()===1014602&&Ribbon.BaseRibbonManager.get_PIN())||($p0.get_id()===1014603&&!Ribbon.BaseRibbonManager.get_PIN())){this.sendMessageToParent('msg_toggle_ribbon_pin',null,null);}}return $0;},toggleRibbonPinMode:function(bPin){var $0=this._mapMenuItem[1014602];var $1=this._mapMenuItem[1014603];if(ss.isNullOrUndefined($0)||ss.isNullOrUndefined($1)){return;}if(bPin){$1.set_checked(true);$0.set_checked(false);}else{$1.set_checked(false);$0.set_checked(true);}this.$4_E[1014602].set_checked((($0.get_checked())?1:0));this.$4_E[1014603].set_checked((($1.get_checked())?1:0));},$4_2A:function($p0){return false;},toggleTouchMode:function(bTouchMode){var $0=this._mapMenuItem[1014502];var $1=this._mapMenuItem[1014503];if(ss.isNullOrUndefined($0)||ss.isNullOrUndefined($1)){return;}if(bTouchMode){$1.set_checked(true);$0.set_checked(false);}else{$1.set_checked(false);$0.set_checked(true);}this.$4_E[1014502].set_checked((($0.get_checked())?1:0));this.$4_E[1014503].set_checked((($1.get_checked())?1:0));},addMenu:function(oMenu){this.$4_19[oMenu.get_menuNo()]=oMenu;oMenu.createMenuWnd();this.$4_18++;},addItemAndFillDefState:function(oItem){this._mapMenuItem[oItem.get_id()]=oItem;this.fillDefaultState(oItem);},addItemToMenu:function(iMenuId,oItem){var $0=oItem.get_id();if(Object.keyExists(this._mapMenuItem,$0)&&$0!==-1&&(Kepler.Engine.UI.Menu.WindowsSepMenuItem).isInstanceOfType(oItem)){}this.$4_19[iMenuId].addItem(oItem);this.addItemAndFillDefState(oItem);},$4_2B:function($p0,$p1){var $0=this.$4_19[$p0];if(ss.isNullOrUndefined($0)||ss.isNullOrUndefined($p1)){return;}$0.$4_1F($p1);delete this.$4_E[$p1.get_id()];delete this._mapMenuItem[$p1.get_id()];},$4_2C:function($p0,$p1,$p2){if(ss.isNullOrUndefined($p2)){return;}$p2.set_recreateItem(true);this.$4_19[$p0].$4_1E($p2,$p1);this.addItemAndFillDefState($p2);},fillDefaultState:function(oItem){if(ss.isNullOrUndefined(oItem)){return;}var $0=new Kepler.Engine.UI.Menu.MenuItemState();$0.set_enabled((oItem.get_enabled())?1:0);$0.set_checked((oItem.get_checked())?1:0);$0.set_index(oItem.get_checkedSubItem());$0.set_highlight(oItem.get_highlight());$0.set_imageStyle(oItem.get_imageStyle());$0.set_text(oItem.get_text());this.$4_E[oItem.get_id()]=$0;},setOverrides:function(mapMenuItemState){if(ss.isNullOrUndefined(mapMenuItemState)){return;}var $dict1=mapMenuItemState;for(var $key2 in $dict1){var $0={key:$key2,value:$dict1[$key2]};var $1=$0.key;var $2=$0.value;this.setState($1,$2);}},resetOverrides:function(mapMenuItemState){if(ss.isNullOrUndefined(mapMenuItemState)){return;}var $dict1=mapMenuItemState;for(var $key2 in $dict1){var $0={key:$key2,value:$dict1[$key2]};var $1=$0.key;var $2=this.$4_E[$1];if(ss.isValue($2)){this.setState($1,$2);}}},setData:function(mapData){this.hideMenu(-1);this.$4_32(mapData,true);this.$4_30(mapData);this.$4_37(mapData);this.$4_2E();this.$4_2F();this.setOverrideData(mapData);this.setActionData(mapData);this.$4_2D(mapData);this.setMenuSizeOverrides(mapData);},setOverrideData:function(mapData){var $0=9;this.resetOverrides(this.$4_F);Object.clearKeys(this.$4_F);var $1=Kepler.Engine.Core.TaitHelper.parseCountDataTags(mapData,'menu_override_count','menu_override_data');if(ss.isValue($1)){var $enum1=ss.IEnumerator.getEnumerator($1);while($enum1.moveNext()){var $2=$enum1.current;var $3=new Kepler.Engine.UI.Menu.MenuItemState();var $4=$2.split(Kepler.Framework.Core.Seperators.miD_DOT,$0);var $5=parseInt($4[0],10);if(!String.isNullOrEmpty($4[1])){$3.set_enabled(parseInt($4[1],10));}if(!String.isNullOrEmpty($4[2])){$3.set_checked(parseInt($4[2],10));}if(!String.isNullOrEmpty($4[3])){$3.set_index(parseInt($4[3],10));}if(!String.isNullOrEmpty($4[4])){$3.set_highlight(parseInt($4[4],10));}$3.set_imageStyle($4[5]);$3.set_text($4[6]);$3.set_toolTip($4[7]);this.$4_F[$5]=$3;}this.setOverrides(this.$4_F);}},setActionData:function(mapData){var $0=9;this.$4_1B.clear();var $1=Kepler.Engine.Core.TaitHelper.parseCountDataTags(mapData,'menu_action_count','menu_action_data');if(ss.isValue($1)){var $enum1=ss.IEnumerator.getEnumerator($1);while($enum1.moveNext()){var $2=$enum1.current;var $3=new Ribbon.ItemAction();var $4=$2.split(Kepler.Framework.Core.Seperators.miD_DOT,$0);$3.set_id(parseInt($4[0],10));if(!String.isNullOrEmpty($4[1])){$3.set_index(parseInt($4[1],10));}if(!String.isNullOrEmpty($4[2])){$3.set_frameJump(parseInt($4[2],10));}if(!String.isNullOrEmpty($4[3])){$3.set_subFrameJump(parseInt($4[3],10));}$3.set_checkWithViewInBool((1===parseInt($4[4],10)));$3.set_checkWithViewInText($4[5]);this.$4_1B.add($3);}}},$4_2D:function($p0){var $0=9;var $1=Kepler.Engine.Core.TaitHelper.parseCountDataTags($p0,'menu_control_action_count','menu_control_action_data');if(ss.isValue($1)){var $enum1=ss.IEnumerator.getEnumerator($1);while($enum1.moveNext()){var $2=$enum1.current;var $3=new Ribbon.ItemAction();var $4=$2.split(Kepler.Framework.Core.Seperators.miD_DOT,$0);$3.set_id(parseInt($4[0],10));$3.set_index(parseInt($4[1],10));$3.set_text($4[2]);$3.set_frameJump(parseInt($4[3],10));$3.set_subFrameJump(parseInt($4[4],10));$3.set_checkWithViewInBool((1===parseInt($4[5],10)));$3.set_checkWithViewInText($4[6]);this.$4_1B.add($3);}}},setState:function(iId,oState){var $0=this._mapMenuItem[iId];if(ss.isNullOrUndefined($0)){return;}if((oState.get_enabled()!==1000)){$0.set_enabled((oState.get_enabled()===1));}if((oState.get_checked()!==1000)){$0.set_checked((oState.get_checked()===1));}if((oState.get_highlight()!==1000)){$0.set_highlight(oState.get_highlight());}$0.set_checkedSubItem(oState.get_index());if(!String.isNullOrEmpty(oState.get_imageStyle())){$0.set_imageStyle(oState.get_imageStyle());}if(!String.isNullOrEmpty(oState.get_text())){$0.set_text(oState.get_text());$0.reflectText();}if(!String.isNullOrEmpty(oState.get_toolTip())){$0.set_tooltip(oState.get_toolTip());}},$4_2E:function(){if(Kepler.Engine.UI.OfficeThemeNs.OfficeTheme.get_instance().isActiveThemeOrColorChanged()){var $enum1=ss.IEnumerator.getEnumerator(this.$4_20);while($enum1.moveNext()){var $0=$enum1.current;$0.setActiveTheme();}}},$4_2F:function(){if(Kepler.Engine.UI.OfficeThemeNs.OfficeTheme.get_instance().isActiveThemeOrColorChanged()){var $enum1=ss.IEnumerator.getEnumerator(this.$4_21);while($enum1.moveNext()){var $0=$enum1.current;$0.createMenuItem($0.get_elemMenuItem(),$0.get_elemMenuItem().clientLeft,$0.get_elemMenuItem().clientTop);}}},dynamicMenuChange:function(mapItemState){if(ss.isValue(this.$4_10)){var $dict1=mapItemState;for(var $key2 in $dict1){var $0={key:$key2,value:$dict1[$key2]};var $1=$0.key;if(Object.keyExists(this.$4_10,$1)){delete this.$4_10[$1];}}this.resetOverrides(this.$4_10);}this.$4_10=mapItemState;this.setOverrides(this.$4_10);this.setOverrides(this.$4_F);},mergeDynamicOverrides:function(mapItemState){this.setOverrides(mapItemState);var $dict1=mapItemState;for(var $key2 in $dict1){var $0={key:$key2,value:$dict1[$key2]};this.$4_10[$0.key]=$0.value;}},setMenuSizeOverrides:function(mapData){var $0=mapData['menu_size_data'];if(ss.isValue($0)){var $1=$0.split(Kepler.Framework.Core.Seperators.PIPE);if(ss.isValue($1)){var $enum1=ss.IEnumerator.getEnumerator($1);while($enum1.moveNext()){var $2=$enum1.current;var $3=$2.split(Kepler.Framework.Core.Seperators.miD_DOT);var $4=this.$4_19[parseInt($3[0])];if(ss.isValue($3[1])){$4.setMenuWidth(parseInt($3[1]));}}}}},$4_30:function($p0){this.$4_31(this.$4_16);Object.clearKeys(this.$4_16);this.parsePopUpChangeOverrides($p0);},$4_31:function($p0){var $0=-1,$1=-1;var $2=null;var $dict1=$p0;for(var $key2 in $dict1){var $3={key:$key2,value:$dict1[$key2]};$0=$3.key;$1=$3.value;if(ss.isValue($2=this._mapMenuItem[$0])){if($2.get_popUpMenuNo()<0||$1<0){$2.set_recreateItem(true);}$2.set_popUpMenuNo($1);}}},parsePopUpChangeOverrides:function(mapData){var $0=mapData['menu_item_child_popup_change'];if(ss.isValue($0)&&$0.length>0){var $1=$0.split(Kepler.Framework.Core.Seperators.PIPE);if(ss.isValue($1)&&$1.length>0){var $2;var $3=-1,$4=-1;var $5=null;var $enum1=ss.IEnumerator.getEnumerator($1);while($enum1.moveNext()){var $6=$enum1.current;$2=$6.split(Kepler.Framework.Core.Seperators.miD_DOT);$3=parseInt($2[0],10);$4=parseInt($2[1],10);if(ss.isValue($5=this._mapMenuItem[$3])){this.$4_16[$3]=$5.get_popUpMenuNo();if($5.get_popUpMenuNo()<0||$4<0){$5.set_recreateItem(true);}$5.set_popUpMenuNo($4);}}}}},parseAddRemoveMenuItemOverride:function(mapData,bFrameItem){var $0=16;if(!bFrameItem){this.$4_34(this.$4_15);this.$4_15.clear();}var $1=Kepler.Engine.Core.TaitHelper.parseCountDataTags(mapData,'menu_addremove_count','menu_addremove_data');if(ss.isValue($1)){var $2=false;var $enum1=ss.IEnumerator.getEnumerator($1);while($enum1.moveNext()){var $3=$enum1.current;var $4=new Kepler.Engine.UI.Menu.AddRemoveMenuItem();var $5=$3.split(Kepler.Framework.Core.Seperators.miD_DOT,$0);$4._bAdd=parseInt($5[0],10)===1;$4._iMenuItemId=parseInt($5[2],10);$4._iType=parseInt($5[4],10);$2=this.$4_35($4._iMenuItemId,$4._iType,bFrameItem);if(!$2&&$4._bAdd){}$4._iIndex=parseInt($5[3],10);$4._iMenuNo=parseInt($5[1],10);$4._iChildPopupNo=parseInt($5[5],10);$4._strMenuText=$5[6];if($4._iChildPopupNo===-1){$4._strActionStr=$5[7];}if($5.length>=9){$4._iRtClkMenuNo=parseInt($5[8],10);}if($5.length>=10){$4._iHeight=parseInt($5[9],10);}if($5.length>=11){$4._iWidth=parseInt($5[10],10);}else{$4._iWidth=this.$4_19[$4._iMenuNo].get_originalWidth()-(2*Kepler.Engine.UI.Menu.MenuWnd.toucH_MARING_HORZ);}if($5.length>=12){$4._eCheckableType=parseInt($5[11],10);}if($5.length>=13){$4._strImageClass=$5[12];}if($5.length>=14){$4._strAccelerator=$5[13];}if($5.length>=15){$4._szImage.set_height(parseInt($5[14],10));}if($5.length>=16){$4._szImage.set_width(parseInt($5[15],10));}if(bFrameItem){this.$4_14.add($4);}else{this.$4_15.add($4);}}}if(bFrameItem){this.$4_33(this.$4_14);}else{this.$4_33(this.$4_15);}},$4_32:function($p0,$p1){this.$4_34(this.$4_14);this.$4_14.clear();this.$4_34(this.$4_15);this.$4_15.clear();this.parseAddRemoveMenuItemOverride($p0,$p1);},$4_33:function($p0){if(ss.isNullOrUndefined($p0)){return;}var $enum1=ss.IEnumerator.getEnumerator($p0);while($enum1.moveNext()){var $0=$enum1.current;if(ss.isValue($0)){this.setAddRemoveMenuItemState($0);}}},$4_34:function($p0){if(ss.isNullOrUndefined($p0)){return;}var $enum1=ss.IEnumerator.getEnumerator($p0);while($enum1.moveNext()){var $0=$enum1.current;if(ss.isValue($0)){$0._bAdd=!$0._bAdd;this.setAddRemoveMenuItemState($0);}}},setAddRemoveMenuItemState:function(oAddRemoveState){if(oAddRemoveState._bAdd){if(ss.isNullOrUndefined(oAddRemoveState._oMenuItem)){oAddRemoveState._oMenuItem=this.$4_36(oAddRemoveState);}this.$4_2C(oAddRemoveState._iMenuNo,oAddRemoveState._iIndex,oAddRemoveState._oMenuItem);}else{if(ss.isNullOrUndefined(oAddRemoveState._oMenuItem)){var $0=this.$4_19[oAddRemoveState._iMenuNo];if(ss.isValue($0)){oAddRemoveState._oMenuItem=$0.get_menuItems()[oAddRemoveState._iIndex];}}this.$4_2B(oAddRemoveState._iMenuNo,oAddRemoveState._oMenuItem);}},removeAllMenuItems:function(iMenuNo){var $0=this.$4_19[iMenuNo];if(ss.isValue($0)){var $1=$0.get_menuItems();for(var $2=0;$2<$1.length;$2++){this.$4_2B(iMenuNo,$1[$2]);}}},addItemsToMenu:function(lstMenuItems){for(var $0=0;$0<lstMenuItems.length;$0++){var $1=lstMenuItems[$0];if(ss.isNullOrUndefined($1._oMenuItem)){$1._oMenuItem=this.$4_36($1);}this.$4_2C($1._iMenuNo,$1._iIndex,$1._oMenuItem);}},$4_35:function($p0,$p1,$p2){var $0=-1;var $1=-1;switch($p1){case 90:$0=($p2)?90001:90501;$1=($p2)?90500:91000;break;case 91:$0=($p2)?91001:91501;$1=($p2)?91500:92000;break;case 92:$0=($p2)?92001:92501;$1=($p2)?92500:93000;break;case 93:$0=($p2)?93001:93501;$1=($p2)?93500:94000;break;case 94:$0=($p2)?94001:94501;$1=($p2)?94500:95000;break;case 95:$0=($p2)?95001:95501;$1=($p2)?95500:96000;break;default:$0=-1;$1=-1;break;}return ($p0>=$0&&$p0<=$1);},$4_36:function($p0){var $0=null;switch($p0._iType){case 96:$0=new Kepler.Engine.UI.Menu.SystemMenuItem();($0).initialise($p0._iMenuItemId,$p0._strMenuText,$p0._strImageClass,$p0._strActionStr,$p0._iWidth,$p0._iHeight,-1,$p0._strTextStyle,$p0._szImage,$p0._iChecked,false,$p0._strMenuItemClass);if($p0._iChecked>0){($0).set_checked(($p0._iChecked===1));}($0).set_enabled(true);($0).set_kbrdShortcut($p0._strAccelerator);break;case 90:$0=new Kepler.Engine.UI.Menu.WindowsMenuItem();($0).initialise($p0._iMenuItemId,$p0._strMenuText,$p0._strImageClass,$p0._strActionStr,$p0._iWidth,$p0._iHeight,$p0._iChildPopupNo,'',$p0._szImage,$p0._eCheckableType,false,$p0._strMenuItemClass);$0.set_checked($p0._iChecked>0);($0).set_lineAfterImage(true);$0.set_kbrdShortcut($p0._strAccelerator);break;case 94:$0=new Kepler.Engine.UI.Menu.SystemThemeMenuItem();($0).initialise($p0._iMenuItemId,$p0._strMenuText,$p0._strImageClass,$p0._strActionStr,$p0._iWidth,$p0._iHeight,$p0._iChildPopupNo,'',$p0._szImage,$p0._eCheckableType,false);$0.set_checked($p0._iChecked>0);($0).set_lineAfterImage(true);$0.set_kbrdShortcut($p0._strAccelerator);break;case 91:$0=new Kepler.Engine.UI.Menu.MultilineMenuItem();var $1=$p0._strMenuText.split(Kepler.Framework.Core.Seperators.doublE_CROSS);($0).initialise($p0._iMenuItemId,$1[0],$p0._strImageClass,$p0._strActionStr,$p0._iWidth,$p0._iHeight,$p0._iChildPopupNo,16,false);$0.set_checked($p0._iChecked>0);($0).set_description($1[1]);$0.set_lineAfterImage(false);$0.set_kbrdShortcut($p0._strAccelerator);break;case 92:$0=new Kepler.Engine.UI.Menu.WindowsSepMenuItem();($0).initialise(-1,null,null,null,$p0._iWidth,2,-1,$p0._iSepLineLeft);break;case 93:$0=new Kepler.Engine.UI.Menu.GreySepMenuItem();($0).initialise($p0._iMenuItemId,$p0._strMenuText,null,null,$p0._iWidth,$p0._iHeight,-1);break;case 97:$0=new Kepler.Engine.UI.Menu.TextSepMenuItem();($0).initialise($p0._iMenuItemId,$p0._strMenuText,null,null,$p0._iWidth,$p0._iHeight,-1,$p0._iSepLineLeft,$p0._strMenuItemClass);break;case 98:$0=new Kepler.Engine.UI.Menu.CssWindowsMenuItem();($0).initialise($p0._iMenuItemId,$p0._strMenuText,$p0._strImageClass,$p0._strActionStr,$p0._iWidth,$p0._iHeight,$p0._iChildPopupNo,$p0._strTextStyle,$p0._szImage,$p0._eCheckableType,false,$p0._strMenuItemClass);$0.set_checked($p0._iChecked>0);($0).set_lineAfterImage(true);$0.set_kbrdShortcut($p0._strAccelerator);break;default:break;}return $0;},$4_37:function($p0){this.parseOverridesMiscCtrl($p0);this.$4_38(this.$4_11);},$4_38:function($p0){if(ss.isNullOrUndefined($p0)){return;}var $dict1=$p0;for(var $key2 in $dict1){var $0={key:$key2,value:$dict1[$key2]};var $1=$0.key;var $2=$p0[$1];if(ss.isValue($2)){this.$4_3A($1,$2);}}},$4_39:function($p0){if(ss.isNullOrUndefined($p0)){return;}var $dict1=$p0;for(var $key2 in $dict1){var $0={key:$key2,value:$dict1[$key2]};var $1=$0.key;var $2=this.$4_12[$1];if(ss.isValue($2)){this.$4_3A($1,$2);}}},$4_3A:function($p0,$p1){var $0=this._mapMenuItem[$p0];if(ss.isNullOrUndefined($0)){return;}var $1=$0.get_parentMenu();if(ss.isNullOrUndefined($1)){return;}$0.$1C();$0.setImageGrid(($p1._iCols>0)?$p1._iCols:$0.get_columns(),$p1._iItemWidth,$p1._iItemHeight,$p1._iImageWidth,$p1._iImageHeight,$0.get_grid().get_leftMargin(),$p1._ptImgPosition,$p1._strGridImgCls);var $2=$p1._lstItemsImgCls.length>0;var $3;var $4;var $5=0;var $6=0;var $7=ss.isNullOrUndefined($p1._ptImgPosition);var $enum1=ss.IEnumerator.getEnumerator($p1._lstHeader);while($enum1.moveNext()){var $8=$enum1.current;if(String.isNullOrEmpty($8)){continue;}$3=$8.split(Kepler.Framework.Core.Seperators.doublE_DELTA);$4=$3[0];$5+=parseInt($3[1],10);var $9=$0.addGroup($4);for(;$6<$5;$6++){$9.addImageItem($p1._lstTooltipParams[$6],$p1._lstAccelerator[$6],$p1._lstShortCut[$6],$p1._lstActionString[$6],($2)?$p1._lstItemsImgCls[$6]:'',($7)?null:((ss.isValue($p1._lstItemImgPos[$6]))?$p1._lstItemImgPos[$6]:null));}}$0.set_rtClickMenu(parseInt($p1._strRightClickMenu,10));$0.set_checkedSubItem($p1._iCheckedSubItem);this.$4_E[$p1._iId].set_index($p1._iCheckedSubItem);$0.set_recreateItem(true);if($p1._iControlHeight!==-1){$0.set_originalHeight($0.set_height($p1._iControlHeight));}if($p1._iControlWidth!==-1){$0.set_originalWidth($0.set_width($p1._iControlWidth));$1.equateAllMenuItemsWt(true,true);var $enum2=ss.IEnumerator.getEnumerator($1.get_menuItems());while($enum2.moveNext()){var $A=$enum2.current;$A.set_recreateItem(true);}}$1.updateSize();},parseOverridesMiscCtrl:function(mapData){var $0=12;this.$4_39(this.$4_11);Object.clearKeys(this.$4_11);var $1=Kepler.Engine.Core.TaitHelper.parseCountDataTags(mapData,'menu_miscctrl_format_override_count','menu_miscctrl_format_override_data');if(ss.isValue($1)){var $enum1=ss.IEnumerator.getEnumerator($1);while($enum1.moveNext()){var $2=$enum1.current;var $3=new Kepler.Engine.UI.Menu.MiscCtrlItemState();var $4=$2.split(Kepler.Framework.Core.Seperators.miD_DOT,$0);$3._iId=parseInt($4[0],10);$3._iCols=parseInt($4[1],10);$3._strGridImgCls=$4[2];var $5,$6;$5=$4[3].split(Kepler.Framework.Core.Seperators.v_CROSS,2);$6=$4[4].split(Kepler.Framework.Core.Seperators.v_CROSS,2);$3._iImageWidth=parseInt($5[0],10);if($5.length>1){$3._iItemWidth=parseInt($5[1],10);}$3._iImageHeight=parseInt($6[0],10);if($6.length>1){$3._iItemHeight=parseInt($6[1],10);}if(!String.isNullOrEmpty($4[5])){var $8=$4[5].split(Kepler.Framework.Core.Seperators.doublE_CROSS);var $enum2=ss.IEnumerator.getEnumerator($8);while($enum2.moveNext()){var $9=$enum2.current;var $A=$9.split(Kepler.Framework.Core.Seperators.v_CROSS,3);if($A.length===3){$3._lstTooltipParams.add(new Kepler.Engine.UI.Controls.Tooltip.Tooltip_Params(parseInt($A[0],10),$A[1],$A[2]));}else if($A.length===1){$3._lstTooltipParams.add(new Kepler.Engine.UI.Controls.Tooltip.Tooltip_Params(Kepler.Engine.UI.Controls.Tooltip.ETooltipTypes.simplE_DESCR,$A[0],null));}}}else{var $B=this._mapMenuItem[$3._iId];var $enum3=ss.IEnumerator.getEnumerator($B.get_grid().get_groups());while($enum3.moveNext()){var $C=$enum3.current;var $enum4=ss.IEnumerator.getEnumerator($C.get_items());while($enum4.moveNext()){var $D=$enum4.current;$3._lstTooltipParams.add($D.get_ttParams());}}}$3._iNumberOfHeaders=parseInt($4[6],10);var $enum5=ss.IEnumerator.getEnumerator($4[7].split(Kepler.Framework.Core.Seperators.v_CROSS));while($enum5.moveNext()){var $E=$enum5.current;$3._lstHeader.add($E);}if($4.length>=8){if(!String.isNullOrEmpty($4[8])){var $F=$4[8].split(Kepler.Framework.Core.Seperators.doublE_CROSS,3);if($F.length>0&&!String.isNullOrEmpty($F[0])){var $enum6=ss.IEnumerator.getEnumerator($F[0].split(Kepler.Framework.Core.Seperators.v_CROSS));while($enum6.moveNext()){var $10=$enum6.current;$3._lstAccelerator.add($10);}}if($F.length>1&&!String.isNullOrEmpty($F[1])){var $enum7=ss.IEnumerator.getEnumerator($F[1].split(Kepler.Framework.Core.Seperators.v_CROSS));while($enum7.moveNext()){var $11=$enum7.current;$3._lstShortCut.add($11);}}if($F.length>2&&!String.isNullOrEmpty($F[2])){var $enum8=ss.IEnumerator.getEnumerator($F[2].split(Kepler.Framework.Core.Seperators.v_CROSS));while($enum8.moveNext()){var $12=$enum8.current;$3._lstActionString.add($12);}}}}if($4.length>9){if(!!$4[9]){$3._iControlWidth=parseInt($4[9],10);}else{$3._iControlWidth=-1;}if(!!$4[10]){$3._iControlHeight=parseInt($4[10],10);}else{$3._iControlHeight=-1;}}if($4.length>=11){if(!String.isNullOrEmpty($4[11])){$3._iCheckedSubItem=parseInt($4[11],10);}}$3._ptImgPosition=new Kepler.Framework.UI.Point(0,0);this.$4_3B($3._iId);var $7;if(ss.isValue($7=this.$4_12[$3._iId])){$3._strRightClickMenu=$7._strRightClickMenu;}this.$4_11[$3._iId]=$3;}}},$4_3B:function($p0){var $0=this._mapMenuItem[$p0];if(ss.isNullOrUndefined($0)){return;}var $1=new Kepler.Engine.UI.Menu.MiscCtrlItemState();$1._iId=$p0;$1._ptImgPosition=$0.get_grid().get_imgPosition();var $2=ss.isNullOrUndefined($1._ptImgPosition);$1._iControlWidth=$0.get_rectangle().get_width();$1._iControlHeight=$0.get_rectangle().get_height();$1._iImageWidth=$0.get_grid().get_imageSize().get_width();$1._iImageHeight=$0.get_grid().get_imageSize().get_height();$1._iItemWidth=$0.get_grid().get_itemSize().get_width();$1._iItemHeight=$0.get_grid().get_itemSize().get_height();var $3='';var $4='';var $5='';var $enum1=ss.IEnumerator.getEnumerator($0.get_grid().get_groups());while($enum1.moveNext()){var $7=$enum1.current;var $enum2=ss.IEnumerator.getEnumerator($7.get_items());while($enum2.moveNext()){var $8=$enum2.current;$1._lstTooltipParams.add($8.get_ttParams());$1._lstAccelerator.add($8.get_accelerator());$1._lstActionString.add($8.get_actionString());if(!String.compare($5,$8.get_imageSrc(),false)){$4='';}else{$5=$8.get_imageSrc();$4=$5;}$1._lstItemsImgCls.add($4);if(!$2){$1._lstItemImgPos.add($8.get_imgPosition());}}var $enum3=ss.IEnumerator.getEnumerator($7.get_specialItem());while($enum3.moveNext()){var $9=$enum3.current;$1._lstTooltipParams.add($9.get_ttParams());$1._lstActionString.add($9.get_actionString());if(!String.compare($5,$9.get_imageSrc(),false)){$4='';}else{$5=$9.get_imageSrc();$4=$5;}$1._lstItemsImgCls.add($4);}$3=($7.get_heading()+Kepler.Framework.Core.Seperators.doublE_DELTA+$7.get_itemCount());$1._lstHeader.add($3);}$1._iCols=$0.get_columns();$1._iNumberOfHeaders=$0.get_grid().get_groups().length;$1._strRightClickMenu=$0.get_rtClickMenu().toString();if($1._iNumberOfHeaders>0){$1._strGridImgCls=$0.get_grid().get_groups()[0].get_imageSource();}$1._iHintIndex=$0.get_highlight();var $6=this.$4_E[$p0];if(ss.isValue($6)){$1._iCheckedSubItem=$6.get_index();}this.$4_12[$p0]=$1;},getMenuWnd:function(iMenuNo){if(ss.isNullOrUndefined(this.$4_19)){return null;}return this.$4_19[iMenuNo];},showMenu:function(menuParams){Kepler.Framework.UI.Events.Capture.CaptureProvider.releaseCapture();var $0=null;if(!!this.$4_1A.length){$0=this.$4_19[this.$4_1A[this.$4_1A.length-1]];}var $1=menuParams._iMenuNo;var $2=(ss.isNullOrUndefined(menuParams._iDefaultActiveItem))?-1:menuParams._iDefaultActiveItem;var $3=menuParams._iDefaultActiveSubItem;$3=(ss.isNullOrUndefined($3)||$3<0)?0:$3;var $4=this.$4_19[$1];if(ss.isValue($4)){$4.showMenu(menuParams,$0);$4.setFocus();var $5=$4.get_menuItems()[$2];var $6=$4.getElementFromItem($5);if(ss.isValue($6)&&ss.isValue($5)){if($5.get_menuSubItemCount()>0){$6=($5).get_subItemsElement()[$3];}$4.setActiveItem($5,$6);}this.$4_1A.add($1);if(this.$4_1A.length===1){this.$4_3D();}}this.$4_3C();},$4_3C:function(){Object.clearKeys(this.$4_13);var $0=this.getLatestMenuInView();if(ss.isValue($0)){var $1='';var $enum1=ss.IEnumerator.getEnumerator($0.get_menuItems());while($enum1.moveNext()){var $2=$enum1.current;if(ss.isValue($2)&&!String.isNullOrEmpty($1=$2.get_kbrdShortcut())){this.$4_13[$1.toUpperCase()]=$2;}}}},hideMenu:function(iMenuNo,oDOMEventArgs){var $0=false;var $1=this.$4_1A.length-1;for(var $2=$1;$2>=0;$2--){$0=this.$4_19[this.$4_1A[$2]].hideMenu(oDOMEventArgs);var $3=this.$4_1A[this.$4_1A.length-1];this.$4_1A.removeAt(this.$4_1A.length-1);if($3===iMenuNo){break;}}if(!this.$4_1A.length){this.$4_3E();}this.$4_22=false;this.sendMessageToParent('msg_update_active_menu',this.$4_1A[this.$4_1A.length-1],null);this.$4_3C();return $0;},$4_3D:function(){if(2!==this.get_parent().sendMessage('eONDetectMode',null,null)){if(!Kepler.Framework.UI.Events.Hooks.MouseHook.isRegistered(this.$4_1C)){Kepler.Framework.UI.Events.Hooks.MouseHook.register(this.$4_1C);}if(!Kepler.Framework.UI.Events.Hooks.TouchHook.isRegistered(this.$4_1C)){Kepler.Framework.UI.Events.Hooks.TouchHook.register(this.$4_1C);}if(!Kepler.Framework.UI.Events.Hooks.KeyboardHook.isRegistered(this.$4_1D)){Kepler.Framework.UI.Events.Hooks.KeyboardHook.register(this.$4_1D);}this.$4_23=false;}},$4_3E:function(){Kepler.Framework.UI.Events.Hooks.MouseHook.unRegister(this.$4_1C);Kepler.Framework.UI.Events.Hooks.TouchHook.unRegister(this.$4_1C);if(!this.$4_23){Kepler.Framework.UI.Events.Hooks.KeyboardHook.unRegister(this.$4_1D);}},createMenusInAdvance:function(){for(var $0=0;$0<Object.getKeyCount(this.$4_1F);$0++){var $1=Object.keys(this.$4_1F)[$0];var $2=this.$4_1F[$1];var $3=this.$4_19[$1];if(ss.isValue($3)){if($3.get_recreateMenu()){$3.createMenu();}for(var $4=0;$4<$2.length;$4++){if(ss.isValue($2[$4])){$2[$4].sendMessage('msg_menu_created',$3.get_menuItems(),this);}}}}},fillMenuListToCreateInAdvance:function(iMenuNum,oCtrlLauncher){if(!this._bParsingDone){var $0;if(Object.keyExists(this.$4_1F,iMenuNum)){$0=this.$4_1F[iMenuNum];$0.add(oCtrlLauncher);}else{$0=[oCtrlLauncher];this.$4_1F[iMenuNum]=$0;}}else{var $1=this.$4_19[iMenuNum];if(ss.isValue($1)){if($1.get_recreateMenu()){$1.createMenu();}oCtrlLauncher.sendMessage('msg_menu_created',$1.get_menuItems(),this);}}},$4_3F:function($p0){},updateMenu:function(obj){},getCurrentState:function(iMnuItemId){var $0=this._mapMenuItem[iMnuItemId];if(ss.isValue($0)){var $1=new Kepler.Engine.UI.Menu.MenuItemState();$1.set_checked(($0.get_checked())?1:0);$1.set_enabled(($0.get_enabled())?1:0);$1.set_index($0.get_checkedSubItem());$1.set_highlight($0.get_highlight());$1.set_imageStyle($0.get_imageStyle());$1.set_text($0.get_text());return $1;}return null;},getMenuItemsFromMenuNum:function(iMenuNo){var $0=this.$4_19[iMenuNo];if(ss.isValue($0)){return $0.get_menuItems();}return null;},getMenuItem:function(iMenuItemId){return this._mapMenuItem[iMenuItemId];},getMenuWndRect:function(iMenuNo){var $0=this.$4_19[iMenuNo];if(ss.isValue($0)){var $1=new Kepler.Framework.UI.Rect($0.get_left(),$0.get_top(),$0.get_width(),$0.get_height());return $1;}return null;},getLatestMenuInView:function(){if(this.$4_1A.length>0){return this.$4_19[this.$4_1A[this.$4_1A.length-1]];}return null;},addColorGridMenuItems:function(oMenuItem){if(ss.isValue(oMenuItem)){this.$4_20.add(oMenuItem);}},addRecolorMenuItems:function(oMenuItem){if(ss.isValue(oMenuItem)){this.$4_21.add(oMenuItem);}},mouseHookProc:function(evt){var $0=evt.get_target();var $1=false;if(Kepler.Engine.UI.Controls.Tooltip.TooltipManager.get_instance().get_tooltipControl().get_element().contains($0)){return false;}this.sendMessageToParent('msg_mouse_hook_rbn_src_ele',$0,null);switch(evt.get_type()){case Kepler.Framework.UI.Events.EventArgsNs.EventType.touchStart:case Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseDown:if(Kepler.Engine.UI.Helper.HtmlCssHelper.isElemOut('[name="'+'ribbon_item_container'+'"]',$0)&&Kepler.Engine.UI.Helper.HtmlCssHelper.isElemOut('#'+Kepler.Engine.UI.Menu.BaseMenuManager.menU_ID,$0)&&Kepler.Engine.UI.Helper.HtmlCssHelper.isElemOut('[name="'+(Ribbon.PaneWnd).get_fullName()+'"]',$0)&&evt.get_categoryType()===Kepler.Framework.UI.Events.EventArgsNs.EventCategoryType.mouse&&(evt).get_button()!==Kepler.Framework.UI.Events.EventArgsNs.MouseButton.right){Kepler.Engine.UI.Controls.Control.stopHookEventPropagation(evt);$1=true;}if(ss.isNullOrUndefined($0)||!Kepler.Engine.UI.Helper.HtmlCssHelper.isElemOut('#'+Kepler.Engine.UI.Menu.BaseMenuManager.menU_ID,$0)){return false;}else{$1=this.hideMenu(-1,evt);if(Kepler.Engine.UI.Helper.HtmlCssHelper.isElemOut('[name="'+'ribbon_item_container'+'"]',$0)){this.get_parent().sendMessage('msg_hide_minitoolbar',null,null);}if(Kepler.Engine.UI.Helper.HtmlCssHelper.isElemOut('[name="'+(Ribbon.PaneWnd).get_fullName()+'"]',$0)){return false||$1;}}break;case Kepler.Framework.UI.Events.EventArgsNs.EventType.touchEnd:case Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseUp:var $2=Kepler.Engine.UI.Controls.Control.getClientPointFromEventArgs(evt);var $3=false;if(Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){var $4=null;$4=Kepler.Engine.UI.Helper.HtmlCssHelper.getParentElementByName($0,Kepler.Engine.UI.Menu.BaseMenuManager.iteM_NAME);$3=(ss.isNullOrUndefined($4))?true:!Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientRect($4).isPtInRect($2.get_x(),$2.get_y());}else{$3=!(Type.canCast(this.getCapture(),Kepler.Engine.UI.Controls.ScrollBarBase))&&Kepler.Engine.UI.Helper.HtmlCssHelper.isElemOut('#'+Kepler.Engine.UI.Menu.BaseMenuManager.menU_ID,$0);}if($3){this.$4_19[this.$4_1A[this.$4_1A.length-1]].set_validClk(true);if(this.$4_22){this.$4_19[this.$4_1A[this.$4_1A.length-1]].resetActiveItem();}Kepler.Engine.UI.Controls.Control.stopHookEventPropagation(evt);$1=true;}break;case Kepler.Framework.UI.Events.EventArgsNs.EventType.touchMove:case Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseOver:case Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseOut:case Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseMove:this.$4_40();var $5=Kepler.Engine.UI.Helper.HtmlCssHelper.isElemOut('#'+Kepler.Engine.UI.Menu.BaseMenuManager.menU_ID,$0);if(!$5){var $6=Kepler.Engine.UI.Helper.HtmlCssHelper.getParentElementById($0,Kepler.Engine.UI.Menu.BaseMenuManager.menU_ID);var $7=parseInt($6.getAttribute('index'),10);$5=($7!==this.$4_1A[this.$4_1A.length-1]&&this.$4_19[this.$4_1A[this.$4_1A.length-1]].get_isRtClkMenu())?true:false;$5=(this.$4_19[$7].get_popUpMenuNo()===this.$4_1A[this.$4_1A.length-1])?false:$5;}if($5){if(this.$4_22){this.$4_19[this.$4_1A[this.$4_1A.length-1]].resetActiveItem();}if(ss.isNullOrUndefined(Kepler.Framework.UI.Events.Capture.CaptureProvider.getCapture())){Kepler.Engine.UI.Controls.Control.stopHookEventPropagation(evt);return true;}}this.$4_22=!$5;break;case Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseWheel:var $8=this.$4_19[this.$4_1A[this.$4_1A.length-1]];if(ss.isValue($8)){$8.$4_36(evt);return true;}break;default:if(Kepler.Engine.UI.Helper.HtmlCssHelper.isElemOut('#'+Kepler.Engine.UI.Menu.BaseMenuManager.menU_ID,$0)){Kepler.Engine.UI.Controls.Control.stopHookEventPropagation(evt);return true;}break;}return $1;},$4_40:function(){if(Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()||Kepler.Engine.UI.Controls.Tooltip.TooltipManager.isActionableTooltip()){return;}if(Kepler.Engine.UI.Controls.Tooltip.TooltipManager.get_instance().get_tooltipControl().get_visible()){Kepler.Engine.UI.Controls.Tooltip.TooltipManager.get_instance().hideTooltip();}},keyboardHookProc:function(evt){var $0=evt.get_type();var $1=false;var $2=evt;switch($0){case Kepler.Framework.UI.Events.EventArgsNs.EventType.keyDown:$1=true;if($2.get_key()===Kepler.Framework.UI.Events.EventArgsNs.Keys.f7&&$2.get_ctrlKey()&&!$2.get_shiftKey()&&!$2.get_altKey()){var $4=this.$4_19[this.$4_1A[this.$4_1A.length-1]];var $5=null;if(ss.isValue($4)){$5=$4.get_launchFrom();while((Kepler.Engine.UI.Menu.MenuWnd).isInstanceOfType($5)){$5=($5).get_launchFrom();}if((Ribbon.BaseRibbonManager).isInstanceOfType($5)){if(($5).get_isFileTabActive()){$5=($5).get_focusItem();}else{$5=null;}}}this.hideMenu(-1);return Kepler.Engine.Core.EngineApp.get_engine().get_$1_D().getAppFrame().sendMessage('msg_set_focus_on_player',$5,this);}var $3=this.$4_19[this.$4_1A[this.$4_1A.length-1]];if(ss.isValue($3)){$3.onKeyDown($2);this.$4_41($2,$3);}break;case Kepler.Framework.UI.Events.EventArgsNs.EventType.keyUp:$1=true;if($2.get_key()===Kepler.Framework.UI.Events.EventArgsNs.Keys.apps){evt.set_defaultPrevented(true);evt.set_propogationStopped(true);}if(this.$4_23){evt.set_defaultPrevented(true);evt.set_propogationStopped(true);this.$4_23=false;this.$4_3E();}break;default:break;}return $1;},$4_41:function($p0,$p1){var $0=Kepler.Engine.UI.Engine$1D.get_$4_2();if($0.get_$4_7()){var $1=this.getLatestMenuInView();if($p0.get_key()!==Kepler.Framework.UI.Events.EventArgsNs.Keys.escape&&$1!==$p1){var $2=new Kepler.Engine.UI.Engine$E(6,$1);$0.$4_18($2);}else{$0.$4_D($p0);}}else{if(0===this.sendMessageToParent('eONDetectMode',null,null)){var $3=$p0.get_key();if(Kepler.Framework.Core.StringUtils.isAlpha($3)||Kepler.Framework.Core.StringUtils.isNum($3)){var $4=this.$4_13[Kepler.Framework.Core.StringUtils.getStringFromKeyCode($3,$p0.get_keyIdentifier()).toUpperCase()];if(ss.isValue($4)){$4.$11($4);}}}}},$4_42:function(){this.attachMessage('msg_show_menu',ss.Delegate.create(this,this.onMsgShowMenu));this.attachMessage('msg_hide_menu',ss.Delegate.create(this,this.onMsgMenuHide));this.attachMessage('msg_add_ctrl',ss.Delegate.create(this,this.onMsgAddCtrl));this.attachMessage('msg_hidemenu_onRtClk',ss.Delegate.create(this,this.onMsgHideMenuOnRtClk));this.attachMessage('eONDetectMode',ss.Delegate.create(this,this.onMsgDetectMode));this.attachMessage('eONActionEngine',ss.Delegate.create(this,this.onMsgSendActionEngine));this.attachMessage('msg_change_popup',ss.Delegate.create(this,this.onMsgChangePopUp));this.attachMessage('msg_get_override_maps',ss.Delegate.create(this,this.$4_43));this.attachMessage('msg_hide_minitoolbar',ss.Delegate.create(this,this.onMsgHideMiniToolbar));this.attachMessage('msg_is_menu_in_view',ss.Delegate.create(this,this.onMsgIsMenuInView));this.attachMessage('msg_hide_pane_as_menu',ss.Delegate.create(this,this.onMsgHidePaneAsMenu));this.attachMessage('msg_app_shortcut_key',ss.Delegate.create(this,this.onMsgAppShortcutKey));},onMsgHidePaneAsMenu:function(wParam,lParam){return this.sendMessageToParent('msg_hide_pane_as_menu',wParam,lParam);},onMsgIsMenuInView:function(wParam,lParam){var $0=wParam;return this.isMenuInView($0);},onMsgShowHint:function(wParam,lParam){return true;},onMsgAppShortcutKey:function(wParam,lParam){var $0=wParam;var $1=$0.iActionId;var $2=this._mapMenuItem[$1];if(ss.isNullOrUndefined($2)){return null;}this.onMenuItemCommand($2,true);return true;},onMsgHideMiniToolbar:function(wParam,lParam){return this.sendMessageToParent('msg_hide_minitoolbar',wParam,lParam);},onMsgChangePopUp:function(wParam,lParam){var $0=wParam;this.parsePopUpChangeOverrides($0);return null;},onMsgShowMenu:function(wParam,lParam){return this.get_parent().sendMessage('msg_show_menu',wParam,lParam);},onMsgSendActionEngine:function(wParam,lParam){this.get_parent().sendMessage('eONActionEngine',wParam,lParam);return null;},onMsgDetectMode:function(wParam,lParam){return this.get_parent().sendMessage('eONDetectMode',wParam,lParam);},onMsgMenuHide:function(wParam,lParam){this.get_parent().sendMessage('msg_hide_menu',wParam,lParam);return null;},onMsgAddCtrl:function(wParam,lParam){this.add(wParam);return null;},onMsgHideMenuOnRtClk:function(wParam,lParam){var $0=wParam;if($0.canLaunchRtClkMenu()){var $1=$0.get_id();var $2=-1;var $3=this.$4_1A.length-1;for(var $4=$3;$4>0;$4--){if(this.$4_19[this.$4_1A[$4]].get_isRtClkMenu()){$2=this.$4_1A[$4];}}if($2!==-1){this.hideMenu($2);}}return null;},$4_43:function($p0,$p1){return this.$4_F;},onLoad:function(){Kepler.Engine.UI.Menu.BaseMenuManager.callBaseMethod(this, 'onLoad');this.initialise();this.$4_42();(this.get_parent()).getAppParser(ss.Delegate.create(this,this.menuXmlDownloadComplete),ss.Delegate.create(this,this.menuXmlDownloadFailed));(this.get_parent()).getCommonAppParser(ss.Delegate.create(this,this.commonMenuXmlDownloadComplete),ss.Delegate.create(this,this.menuXmlDownloadFailed));},onUnload:function(){var $enum1=ss.IEnumerator.getEnumerator(this.$4_19);while($enum1.moveNext()){var $0=$enum1.current;if(ss.isValue($0)){$0.dispose();}}this.$4_19.clear();Kepler.Framework.Core.Helper.DelegateHelper.deReference(this.$4_1C);Kepler.Framework.Core.Helper.DelegateHelper.deReference(this.$4_1D);this.$4_1C=this.$4_1D=null;Kepler.Engine.UI.Menu.BaseMenuManager.callBaseMethod(this, 'onUnload');},onParentResized:function(szParent){Kepler.Engine.UI.Menu.BaseMenuManager.callBaseMethod(this, 'onParentResized',[szParent]);this.hideMenu(-1);}}
Kepler.Engine.UI.Menu.CategoryMenuItem=function(){this.$15=-1;Kepler.Engine.UI.Menu.CategoryMenuItem.initializeBase(this);}
Kepler.Engine.UI.Menu.CategoryMenuItem.prototype={$16:null,initialise:function(iId,strText,strImageStyle,strAcc,iWidth,iHeight,iPopUpMenuNo){Kepler.Engine.UI.Menu.CategoryMenuItem.callBaseMethod(this, 'initialise',[iId,strText,strImageStyle,strAcc,iWidth,iHeight,iPopUpMenuNo]);this.$15=iPopUpMenuNo;this.set_popUpMenuNo(-1);},createMenuItem:function(elmMenuItem,iLeft,iTop){Kepler.Engine.UI.Menu.CategoryMenuItem.callBaseMethod(this, 'createMenuItem',[elmMenuItem,iLeft,iTop]);this._elemMenuItem=elmMenuItem;this.$16=document.createElement('span');this.$16.innerHTML=this.get_text();this.$16.className='category '+'class_menu_font '+'class_menu_item_text ';elmMenuItem.appendChild(this.$16);var $0=document.createElement('span');$0.className='arrow_down_7x4 '+' class_ImgPath_Arrow '+'category_arr ';this.$16.appendChild($0);this.$16.menuitem=this;},drawItem:function(element,eState){if(ss.isValue(this.$16)){if(eState===Kepler.Framework.UI.Controls.EItemState.eNormal){this.$16.style.color='';}else{this.$16.style.color='black';}}},onLButtonDown:function(element){var $0=Kepler.Engine.UI.Menu.CategoryMenuItem.callBaseMethod(this, 'onLButtonDown',[element]);if(!Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){this.showContext(element,null);}return $0;},onLButtonUp:function(element){if(Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){this.showContext(element,null);}return true;},showContext:function(elemMenuItem,iDefaultActiveItem){if(this.$15!==-1&&this.get_enabled()){var $0=this.get_parentMenu().get_rightClkMenu();this.get_parentMenu().set_rightClkMenu(this.$15);this.get_parentMenu().$4_2C(this,this._elemMenuItem.firstChild,null);this.get_parentMenu().set_rightClkMenu($0);}}}
Kepler.Engine.UI.Menu.Engine$9=function(oItem){this.$3=oItem;this.$4=0;this.$5=0;this.$6=0;this.$7=true;this.$8='#A0A0A0';this.$9=null;}
Kepler.Engine.UI.Menu.Engine$9.$15=function($p0,$p1){var $0=0;switch($p0+1){case 1:case 3:case 5:case 7:case 8:case 10:case 12:$0=31;break;case 4:case 6:case 9:case 11:$0=30;break;case 2:$0=(!($p1%4))?29:28;break;}return $0;}
Kepler.Engine.UI.Menu.Engine$9.$16=function($p0){var $0=new Date($p0.toString());if($0.getMonth()<=0){$0.setMonth(11);$0.setYear($0.getFullYear()-1);}else{$0.setMonth($0.getMonth()-1);}return $0;}
Kepler.Engine.UI.Menu.Engine$9.$17=function($p0){var $0=new Date($p0.toString());if($0.getMonth()>=11){$0.setMonth(0);$0.setYear($0.getFullYear()+1);}else{$0.setMonth($0.getMonth()+1);}return $0;}
Kepler.Engine.UI.Menu.Engine$9.$18=function($p0){var $0='';switch($p0){case 1:$0='January';break;case 2:$0='February';break;case 3:$0='March';break;case 4:$0='April';break;case 5:$0='May';break;case 6:$0='June';break;case 7:$0='July';break;case 8:$0='August';break;case 9:$0='September';break;case 10:$0='Octomber';break;case 11:$0='November';break;case 12:$0='December';break;}return $0;}
Kepler.Engine.UI.Menu.Engine$9.prototype={$3:null,$4:0,$5:0,$6:0,$7:false,$8:null,$9:null,$A:null,$B:null,$C:function($p0){return '';},$D:function($p0,$p1){if(ss.isNullOrUndefined($p0)){return;}var $0=this.$3.get_subItemsElement().indexOf($p0);var $1=(!$0)?1:Math.ceil(($0+1)/7);if($p1===Kepler.Framework.UI.Controls.EItemState.eNormal){$p0.style.backgroundColor='';}else if($p1===Kepler.Framework.UI.Controls.EItemState.ePressedHover||$p1===Kepler.Framework.UI.Controls.EItemState.ePressed){$p0.style.backgroundColor='#A3BDE3';}else if($p1===Kepler.Framework.UI.Controls.EItemState.eHover){$p0.style.backgroundColor='#D5E1F2';}},$E:function($p0,$p1,$p2){this.$B=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('table','TABLE_ID',null,null,null,null,null,'',null);this.$B.style.width='163px';this.$B.style.height='113px';this.$B.style.left='16px';this.$B.style.top='19px';this.$B.style.position='absolute';this.$B.style['border-spacing']='0px';this.$9=$p2;this.$A=new Date(this.$9.toString());this.$F(this.$B,this.$9);Kepler.Engine.UI.Helper.HtmlCssHelper.addChild($p0,this.$B,null);},$F:function($p0,$p1){this.$12($p0,'');var $0=$p1.getMonth();var $1=$p1.getFullYear();var $2=new Date($1,$0,1);var $3=$2.getDay();this.$5=Kepler.Engine.UI.Menu.Engine$9.$15(Kepler.Engine.UI.Menu.Engine$9.$16($2).getMonth(),$1);this.$4=Kepler.Engine.UI.Menu.Engine$9.$15($0,$1);if(!$3){this.$6=0;}else{this.$6=this.$5-$3;}for(var $4=1;$4<6+1;$4++){this.$13($p0,$4);}},$10:function(){this.$B.innerHTML='';var $0=Kepler.Engine.UI.Menu.Engine$9.$17(this.$A);this.$A=new Date($0.toString());this.$F(this.$B,$0);},$11:function(){this.$B.innerHTML='';var $0=Kepler.Engine.UI.Menu.Engine$9.$16(this.$A);this.$A=new Date($0.toString());this.$F(this.$B,$0);},$12:function($p0,$p1){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('tr','ROW_ID','relative',null,null,null,null,'',null);Kepler.Engine.UI.Helper.HtmlCssHelper.addChild($p0,$0,null);for(var $1=0;$1<7;$1++){var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('td','HEADING_ID','relative',null,null,null,null,'css_header_class',null);Kepler.Engine.UI.Helper.HtmlCssHelper.addChild($0,$2,null);$0.style.textAlign='right';var $3=new Date();var $4=[];$4.insert(0,'Su');$4.insert(1,'Mo');$4.insert(2,'Tu');$4.insert(3,'We');$4.insert(4,'Th');$4.insert(5,'Fr');$4.insert(6,'Sa');$2.innerHTML=$4[$1];if(!$1){$2.style.textAlign='left';}else if($1===1){$2.style.textAlign='center';}}},$13:function($p0,$p1){var $0=$p1;var $1=(($p1-1)*7);var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('tr','ROW_ID','relative',null,null,null,null,'',null);$2.style.overflow='visible';$2.style.textAlign='right';Kepler.Engine.UI.Helper.HtmlCssHelper.addChild($p0,$2,null);for(var $3=0;$3<7;$3++){var $4=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('td',null,'relative',null,null,null,null,'',null);$4.menuitem=this.$3;$4.id='cell_id_'+($p1*7+$3);Kepler.Engine.UI.Helper.HtmlCssHelper.addChild($2,$4,null);if($p1===1){this.$6=(this.$6>this.$5-1)?0:this.$6;}else{this.$6=(this.$6>this.$4-1)?0:this.$6;}var $5=this.$6+1;this.$6=$5;if($5===1){this.$14();}$4.style.color=this.$8;$4.innerHTML=$5.toString();if($p1===7-1){$4.className='css_header_class';}}},$14:function(){this.$7=!this.$7;if(this.$7){this.$8='#A0A0A0';}else{this.$8='black';}}}
Kepler.Engine.UI.Menu.CalendarMenuItem=function(){Kepler.Engine.UI.Menu.CalendarMenuItem.initializeBase(this);this.$13=new Kepler.Engine.UI.Menu.Engine$9(this);this.$19=new Date();}
Kepler.Engine.UI.Menu.CalendarMenuItem.prototype={get_menuSubItemCount:function(){return 42;},$13:null,$14:null,$15:null,$16:null,$17:null,$18:null,$19:null,$1A:null,initialise:function(iId,strText,strImageStyle,strAcc,iWidth,iHeight,iPopUpMenuNo){Kepler.Engine.UI.Menu.CalendarMenuItem.callBaseMethod(this, 'initialise',[iId,strText,strImageStyle,strAcc,iWidth,iHeight,iPopUpMenuNo]);this.$19=new Date(2013,8,20);this.$1A=new Date(this.$19.toString());},createMenuItem:function(elmMenuItem,iLeft,iTop){this.setMenuItemID(elmMenuItem);if(ss.isNullOrUndefined(elmMenuItem)){return;}this._elemMenuItem=elmMenuItem;this.$14=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div','mounth_id','absolute',3,3,179,16,'',null);this.$14.style.background='#E8E9F2';this.$14.style.color='#444444';this.$14.style.textAlign='center';this._elemMenuItem.appendChild(this.$14);this.$16=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div','back_btn_id','absolute',0,0,16,16,'',null);this.$16.style.display='inline-block';this.$16.className='back';this.$16.menuitem=this;this.$14.appendChild(this.$16);this.$15=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div','forward_btn_id ','absolute',null,0,16,16,'',null);this.$15.style.left='';this.$15.style.right='0px';this.$15.className='for';this.$15.style.display='inline-block';this.$15.menuitem=this;this.$14.appendChild(this.$15);this.$18=document.createElement('div');this.$1B(this.$19);this.$18.style.top='0px';this.$18.style.display='inline-block';this.$18.style.width='147px';this.$18.style.textAlign='Center';this.$14.appendChild(this.$18);this.$13.$E(elmMenuItem,'menusubitem',this.$19);this.$17=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div','today_btn_id','',0,0,0,0,'',null);this.$17.innerHTML='<u>T</u>oday';this.$17.style.border='1px solid black';this.$17.style.top='140px';this.$17.style.left='68px';this.$17.style.width='48px';this.$17.style.height='21px';this.$17.style.position='absolute';this.$17.style.backgroundColor='#EFEFEF';this.$17.style.color='#444444';this.$17.style.textAlign='center';this._elemMenuItem.appendChild(this.$17);},drawItem:function(element,eState){if(ss.isNullOrUndefined(element)){return;}if(eState===Kepler.Framework.UI.Controls.EItemState.eFocus){this._eToState=eState=Kepler.Framework.UI.Controls.EItemState.eHover;}this._elemActiveMenuSubItem=element;this.$13.$D(this._elemActiveMenuSubItem,eState);if(eState===Kepler.Framework.UI.Controls.EItemState.eNormal){this._elemActiveMenuSubItem=null;}},changeNextMount:function(){var $0=Kepler.Engine.UI.Menu.Engine$9.$17(this.$1A);this.$1A=new Date($0.toString());this.$1B($0);},changePreMount:function(){var $0=Kepler.Engine.UI.Menu.Engine$9.$16(this.$1A);this.$1A=new Date($0.toString());this.$1B($0);},$1B:function($p0){this.$18.innerHTML=Kepler.Engine.UI.Menu.Engine$9.$18($p0.getMonth()+1)+', '+$p0.getFullYear();},onLButtonDown:function(element){this.changeState(Kepler.Framework.UI.Controls.EItemState.ePressed,element);Kepler.Engine.UI.Menu.CalendarMenuItem.callBaseMethod(this, 'onLButtonDown',[element]);return true;},onLButtonUp:function(element){if(element===this.$15){this.changeNextMount();this.$13.$10();}else if(element===this.$16){this.changePreMount();this.$13.$11();}else{return Kepler.Engine.UI.Menu.CalendarMenuItem.callBaseMethod(this, 'onLButtonUp',[element]);}return true;},highlightSubItem:function(elmMenuItem,iSubItemIndex){if(this._lstSubItemsElement.length>0){if(this._iHighlightedSubItem>=0&&this._iHighlightedSubItem<this._lstSubItemsElement.length){elmMenuItem=this._lstSubItemsElement[this._iHighlightedSubItem];Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(elmMenuItem,'class_visual_hint');}if(iSubItemIndex>=0&&iSubItemIndex<this._lstSubItemsElement.length){elmMenuItem=this._lstSubItemsElement[iSubItemIndex];Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(elmMenuItem,'class_visual_hint');}}return true;},getActionString:function(){if(ss.isValue(this.$13)){return this.$13.$C(this.get_menuHoverSubItem());}return '';},isHoverOnFirstCol:function(){var $0=this.get_menuHoverSubItem();return false;},handleKeyUp:function(){return null;},handleKeyDown:function(){return null;},handleKeyLeft:function(){return null;},handleKeyRight:function(){return null;}}
Kepler.Engine.UI.Menu.CssWindowsMenuItem=function(){Kepler.Engine.UI.Menu.CssWindowsMenuItem.initializeBase(this);this._oImgSize=new Kepler.Framework.UI.Size(16,16);this._bSwapTextAndIcon=false;this._eChekableType=0;}
Kepler.Engine.UI.Menu.CssWindowsMenuItem.prototype={$12:'',$13:'',$14:'',_strTextStyle:null,_oImgSize:null,_bSwapTextAndIcon:false,get_swapTextAndIcon:function(){return this._bSwapTextAndIcon;},set_swapTextAndIcon:function(value){this._bSwapTextAndIcon=value;return value;},get_imageStyle:function(){return Kepler.Engine.UI.Menu.CssWindowsMenuItem.callBaseMethod(this, 'get_imageStyle');},set_imageStyle:function(value){if(!String.isNullOrEmpty(this._strImageStyle)&&!!this._strImageStyle.compareTo(value,false)){if(ss.isValue(this.get_parentMenu())){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getFirstChildElementByName(this._elemMenuItem,'menuitem-icon');if(ss.isValue($0)&&ss.isValue($0.firstChild)){Kepler.Engine.UI.Helper.HtmlCssHelper.replaceCssClass($0,this._strImageStyle,value);}}this._strImageStyle=value;}return value;},_eChekableType:0,get_checkableType:function(){return this._eChekableType;},set_checkableType:function(value){this._eChekableType=value;switch(this._eChekableType){case 1:this.$13=Kepler.Framework.UI.Metro_Ui_Controls.MetroTheme.cls_bg_color_accent;this.$14='';break;case 0:default:this.$13='';this.$14='';break;}return value;},onLButtonDown:function(element){this._eToState=Kepler.Framework.UI.Controls.EItemState.ePressed;this.drawItem(this._elemMenuItem,this._eToState);return Kepler.Engine.UI.Menu.CssWindowsMenuItem.callBaseMethod(this, 'onLButtonDown',[element]);},onLButtonUp:function(element){this._eToState=Kepler.Framework.UI.Controls.EItemState.eNormal;this.drawItem(this._elemMenuItem,this._eToState);return Kepler.Engine.UI.Menu.CssWindowsMenuItem.callBaseMethod(this, 'onLButtonUp',[element]);},initialise:function(iId,strText,strImageStyle,strAcc,iWidth,iHeight,iPopUpMenuNo,strTextStyle,szImg,eChekableType,bSwapTextAndIcon,strMenuItemClass){Kepler.Engine.UI.Menu.CssWindowsMenuItem.callBaseMethod(this, 'initialise',[iId,strText,strImageStyle,strAcc,iWidth,iHeight,iPopUpMenuNo]);this.$12=(ss.isValue(strMenuItemClass))?strMenuItemClass:'';this._strTextStyle=strTextStyle;this._bIsCheckable=eChekableType>0;if(this._bIsCheckable){this.set_checkableType(eChekableType);}this._oImgSize=szImg;this._bSwapTextAndIcon=bSwapTextAndIcon;this._bSwapTextAndIcon=(ss.isNullOrUndefined(this._bSwapTextAndIcon))?false:this._bSwapTextAndIcon;},createMenuItem:function(elmMenuItem,iLeft,iTop){Kepler.Engine.UI.Menu.CssWindowsMenuItem.callBaseMethod(this, 'createMenuItem',[elmMenuItem,iLeft,iTop]);this._elemMenuItem=elmMenuItem;var $0=new Kepler.Framework.UI.Rect(0,0,0,0);var $1=null;var $2=null;var $3=null;var $4=2;var $5=2;this.get_rectangle().set_left(iLeft);this.get_rectangle().set_top(iTop);$0.copy(this.get_rectangle());var $6=0;$6=(this._oImgSize.get_height()<=16)?1:3;if(!String.isNullOrEmpty(this._strImageStyle)||this.get_isCheckable()){$0.set_top(Math.floor(((this.get_rectangle().get_height()-4)-(this._oImgSize.get_height()+($6*2)+2))/2));$0.set_top((this._oImgSize.get_height()===16)?0:$0.get_top());$0.set_left((this._bSwapTextAndIcon)?(this.get_rectangle().get_width()-(this._oImgSize.get_width()+3+$6+2)):($6+1));$0.set_top($0.get_top()+($6+1));$1=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div','','absolute',$0.get_left()+$4,$0.get_top()+$5,null,null,this._strImageStyle,null);$1.setAttribute('name','menuitem-icon');Kepler.Engine.UI.Helper.HtmlCssHelper.addChild(elmMenuItem,$1,null);}if(!this._oImgSize.get_width()){$0.set_left(1);}else{var $7=10;$7=(this._oImgSize.get_width()!==16&&!this.get_isCheckable())?6:$7;$0.set_left(2+((this._bSwapTextAndIcon)?0:this._oImgSize.get_width()+($6*2)+$7-1));}$0.set_top(0);$2=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div','','absolute',$0.get_left()+$4,$0.get_top()+$5,null,null,'class_menu_font '+this._strTextStyle,null);$2.setAttribute('name','menuitem-text');$2.style.width='100%';$2.style.textAlign='left';Kepler.Engine.UI.Helper.HtmlCssHelper.addChild(elmMenuItem,$2,null);Kepler.Engine.UI.Helper.HtmlCssHelper.setElementLineHeight($2,(this.get_rectangle().get_height()-4).toString()+'px');Kepler.Engine.UI.Helper.HtmlCssHelper.setElementVerticalAlign($2,'middle');Kepler.Engine.UI.Helper.HtmlCssHelper.setElementInnerHtml($2,this.get_text());if(this.get_popUpMenuNo()!==-1){$0.set_width(4);$0.set_height(7);$0.set_top(Math.floor((this.get_rectangle().get_height()-2-$0.get_height())/2)-1);$3=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div','menuitem-arrow',null,null,$0.get_top()+$5,$0.get_width(),$0.get_height(),'windowMenuItemSubMenuArrow class_ImgPath_Arrow',null);if(ss.isValue($3)){Kepler.Engine.UI.Helper.HtmlCssHelper.addChild(elmMenuItem,$3,null);}}if(this.get_enabled()){this.drawItem(elmMenuItem,Kepler.Framework.UI.Controls.EItemState.eNormal);}else{this.setEnabledDisabledState(elmMenuItem);}elmMenuItem.menuitem=this;},drawItem:function(element,eState){if(ss.isNullOrUndefined(element)){element=this._elemMenuItem;if(ss.isNullOrUndefined(element)){return;}}if(this._bIsCheckable){this.setCheckedState(element);}this.drawState(element);},drawState:function(element){var $0='';var $1='';switch(this._eToState){case Kepler.Framework.UI.Controls.EItemState.eNormal:if(this._bIsCheckable&&this._eChekableType===1&&this.get_checked()){$0=this.$13;}else{$0=this.$12;}$1=this._strTextStyle;break;case Kepler.Framework.UI.Controls.EItemState.eFocus:case Kepler.Framework.UI.Controls.EItemState.eFocusHover:case Kepler.Framework.UI.Controls.EItemState.eHover:$0=this.$12+'_hover';$1=this._strTextStyle+'_hover';break;case Kepler.Framework.UI.Controls.EItemState.ePressed:if(this._bIsCheckable&&this._eChekableType===1){$0='metro_theme_checkable_pressed';}else{$0=this.$12+'_pressed';}break;default:break;}Kepler.Engine.UI.Helper.HtmlCssHelper.setElementClassName(element,$0);},setEnabledDisabledState:function(element){var $0=null;if(!String.isNullOrEmpty(this._strImageStyle)||this.get_isCheckable()){$0=Kepler.Engine.UI.Helper.HtmlCssHelper.getFirstChildElementByName(element,'menuitem-icon');if(ss.isValue($0)){this.disableImage($0);}}$0=Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementById(element,'menuitem-arrow');if(ss.isValue($0)){this.disableImage($0);}if(this.get_enabled()){Kepler.Engine.UI.Helper.HtmlCssHelper.setElementClassName(element,this.$12+'_normal');}else{Kepler.Engine.UI.Helper.HtmlCssHelper.setElementClassName(element,this.$12+'_disabled');}},setCheckedState:function(element){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getFirstChildElementByName(element,'menuitem-icon');var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getFirstChildElementByName(element,'menuitem-icon-cont');if(ss.isValue($1)){this.$15($1,$0);}else if(ss.isValue($0)){if(this._eChekableType>0){var $2=new Kepler.Framework.UI.Rect(0,0,0,0);var $3=(this._oImgSize.get_height()<=16)?1:3;$0.style.width=this._oImgSize.get_width()+'px';$0.style.height=this._oImgSize.get_height()+'px';$2.set_top(Math.floor(((this.get_rectangle().get_height()-4)-(this._oImgSize.get_height()+($3*2)+2))/2));$2.set_top((this._oImgSize.get_height()===16)?-1:$2.get_top());$2.set_width(this._oImgSize.get_width()+($3*2));$2.set_height(this._oImgSize.get_height()+($3*2));$2.set_left((this._bSwapTextAndIcon)?(this.get_rectangle().get_width()-($2.get_width()+4+$3+1)):0);$2.set_top($2.get_top()+(1));$1=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div','','absolute',$2.get_left()+2,$2.get_top()+2,$2.get_width(),$2.get_height(),'',null);$1.setAttribute('name','menuitem-icon-cont');Kepler.Engine.UI.Helper.HtmlCssHelper.addChild(element,$1,null);Kepler.Engine.UI.Helper.HtmlCssHelper.setElementLeft($0,$3.toString());Kepler.Engine.UI.Helper.HtmlCssHelper.setElementTop($0,$3.toString());this.$15($1,$0);Kepler.Engine.UI.Helper.HtmlCssHelper.addChild($1,$0,null);}}},$15:function($p0,$p1){var $0=this.$16();var $1=this.$17();$p0.style.backgroundColor=$0;$p0.style.border='1px solid '+$1;var $2='';if(String.isNullOrEmpty(this._strImageStyle)){if(this.get_checked()){$2=(String.isNullOrEmpty(this.$13))?this.$13:(' class_ImgPath_Arrow '+this.$13);}else{$2=(String.isNullOrEmpty(this.$14))?this.$14:(' class_ImgPath_Arrow '+this.$14);}Kepler.Engine.UI.Helper.HtmlCssHelper.setElementClassName($p1,$2);}},$16:function(){var $0='transparent';if(this._bIsCheckable){switch(this._eChekableType){case 0:default:$0='transparent';break;}}return $0;},$17:function(){var $0='transparent';if(this._bIsCheckable){switch(this._eChekableType){case 0:default:$0='transparent';break;}}return $0;},reflectText:function(){Kepler.Engine.UI.Menu.CssWindowsMenuItem.callBaseMethod(this, 'reflectText');var $0=this._elemMenuItem;if(ss.isValue($0)){var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getFirstChildElementByName($0,'menuitem-text');if(ss.isValue($1)){Kepler.Engine.UI.Helper.HtmlCssHelper.setElementInnerHtml($1,this.get_text());}}}}
Kepler.Engine.UI.Menu.TextSepMenuItem=function(){Kepler.Engine.UI.Menu.TextSepMenuItem.initializeBase(this);}
Kepler.Engine.UI.Menu.TextSepMenuItem.prototype={$12:0,$13:'',initialise:function(iId,strText,strImageStyle,strAcc,iWidth,iHeight,iPopUpMenuNo,iSepLineLeft,strMenuItemClass){Kepler.Engine.UI.Menu.TextSepMenuItem.callBaseMethod(this, 'initialise',[iId,strText,strImageStyle,strAcc,iWidth,iHeight,iPopUpMenuNo]);this.$12=iSepLineLeft;this.$13=strMenuItemClass;},createMenuItem:function(elmMenuItem,iLeft,iTop){this.setMenuItemID(elmMenuItem);this._elemMenuItem=elmMenuItem;var $0=null;var $1=null;$0=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div','','absolute',2,2,null,null,'class_menu_font class_text_with_sep ',null);$0.setAttribute('name','menuitem-text');$0.style.width='auto';$0.style.textAlign='left';Kepler.Engine.UI.Helper.HtmlCssHelper.addChild(elmMenuItem,$0,null);Kepler.Engine.UI.Helper.HtmlCssHelper.setElementLineHeight($0,(this.get_rectangle().get_height()-4).toString()+'px');Kepler.Engine.UI.Helper.HtmlCssHelper.setElementVerticalAlign($0,'middle');Kepler.Engine.UI.Helper.HtmlCssHelper.setElementInnerHtml($0,this.get_text());$1=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div','','absolute',4+this.$12,2,null,1,'class_text_sep_line',null);if(ss.isValue($1)){Kepler.Engine.UI.Helper.HtmlCssHelper.addChild(elmMenuItem,$1,null);}if(!String.isNullOrEmpty(this.$13)){elmMenuItem.className=this.$13;}}}
Kepler.Engine.UI.Menu.DropDownMenuItem=function(){Kepler.Engine.UI.Menu.DropDownMenuItem.initializeBase(this);}
Kepler.Engine.UI.Menu.DropDownMenuItem.prototype={initialise:function(iId,strText,strImageStyle,strAcc,iWidth,iHeight,iPopUpMenuNo){Kepler.Engine.UI.Menu.DropDownMenuItem.callBaseMethod(this, 'initialise',[iId,strText,strImageStyle,strAcc,iWidth,iHeight,iPopUpMenuNo]);this.get_rectangle().set_height(iHeight-8);},createMenuItem:function(elmMenuItem,iLeft,iTop){Kepler.Engine.UI.Menu.DropDownMenuItem.callBaseMethod(this, 'createMenuItem',[elmMenuItem,iLeft,iTop]);if(ss.isNullOrUndefined(elmMenuItem)){return;}this._elemMenuItem=elmMenuItem;this._elemMenuItem.id='drop_down_menu_item_id';this._elemMenuItem.innerHTML=this.get_text();this._elemMenuItem.style.paddingLeft='1px';this._elemMenuItem.style.paddingBottom='4px';this._elemMenuItem.style.paddingTop='4px';this.drawItem(this._elemMenuItem,Kepler.Framework.UI.Controls.EItemState.eNormal);this._elemMenuItem.menuitem=this;},drawItem:function(element,eState){if(ss.isNullOrUndefined(element)){element=this._elemMenuItem;if(ss.isNullOrUndefined(element)){return;}}var $0='';var $1='';switch(this._eToState){case Kepler.Framework.UI.Controls.EItemState.eNormal:$0='White';$1='black';break;case Kepler.Framework.UI.Controls.EItemState.eHover:case Kepler.Framework.UI.Controls.EItemState.eFocus:case Kepler.Framework.UI.Controls.EItemState.eFocusHover:$0='#3399FF';$1='White';break;default:break;}Kepler.Engine.UI.Helper.HtmlCssHelper.setElementBackgroundColor(element,$0);element.style.color=$1;}}
Kepler.Engine.UI.Menu.NavigatorBar=function(){Kepler.Engine.UI.Menu.NavigatorBar.initializeBase(this);this._elemMenuItem=document.createElement('div');this.$12=false;this.$13=new Kepler.Framework.Core.Timers.Timer(ss.Delegate.create(this,this.$14),100);this.set_popUpMenuNo(-1);}
Kepler.Engine.UI.Menu.NavigatorBar.prototype={$12:false,get_scrollDirectionDown:function(){return this.$12;},set_scrollDirectionDown:function(value){this.$12=value;return value;},$13:null,get_actionableItem:function(){return false;},createMenuItem:function(elmMenuItem,iLeft,iTop){Kepler.Engine.UI.Menu.NavigatorBar.callBaseMethod(this, 'createMenuItem',[elmMenuItem,iLeft,iTop]);this._elemMenuItem.setAttribute('name','menuitem');this._elemMenuItem.className='navigator_bar';this._elemMenuItem.style.height=10+'px';var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div','','relative',null,3,5,3,' class_ImgPath_Arrow '+' arr_normal '+((this.$12)?' arrow_down ':' arrow_up '),null);$0.setAttribute('name','menuitem-icon');$0.style.margin='auto';this._elemMenuItem.appendChild($0);if(this.$12){this._elemMenuItem.style.bottom=1+'px';}else{this._elemMenuItem.style.top=1+'px';}this._elemMenuItem.menuitem=this;this.drawItem(this._elemMenuItem,Kepler.Framework.UI.Controls.EItemState.eNormal);},drawItem:function(element,eState){if(ss.isNullOrUndefined(element)){if(ss.isNullOrUndefined(element)){return;}}switch(this._eToState){case Kepler.Framework.UI.Controls.EItemState.eNormal:element.style.borderColor='';element.firstChild.style.opacity='';this.get_parentMenu().get_scrollView().set_isScrolling(false);this.$13.stop();break;case Kepler.Framework.UI.Controls.EItemState.eFocus:case Kepler.Framework.UI.Controls.EItemState.eFocusHover:case Kepler.Framework.UI.Controls.EItemState.eHover:element.style.borderColor=Kepler.Engine.Core.EngineApp.get_engine().get_currentApp().getAppFrame().get_themeDetails().get_colorPressed();element.firstChild.style.opacity='1';this.$14();this.get_parentMenu().get_scrollView().set_isScrolling(true);this.$13.start();break;default:break;}},$14:function(){if(ss.isValue(this.get_parentMenu())){this.get_parentMenu().sendMessage('msg_scroll_menu',this.$12,null);}}}
Kepler.Engine.UI.Menu.Engine$8=function(oItem){this.$A=0;this.$C=0;this.$13=0;this.$16=-1;this.$15=null;this.$14=null;this.$17=oItem;this.$E=new Kepler.Framework.UI.Size(0,0);this.$F=new Kepler.Framework.UI.Size(0,0);this.$12='transparent';this.$11='transparent';}
Kepler.Engine.UI.Menu.Engine$8.prototype={$A:0,get_$B:function(){return this.$A;},$C:0,get_$D:function(){return this.$C;},$E:null,$F:null,$10:null,$11:null,$12:null,$13:0,$14:null,$15:null,$16:0,$17:null,$18:function($p0,$p1,$p2,$p3,$p4,$p5,$p6,$p7){if(ss.isValue($p0)&&!isNaN($p0)&&$p0>=0){this.$A=$p0;}if(ss.isValue($p1)&&!isNaN($p1)&&$p1>=0){this.$C=$p1;}if(ss.isValue($p3)){this.$E=$p3;}if(ss.isValue($p4)){this.$F=$p4;}if(!String.isNullOrEmpty($p7)){this.$10=$p7;}if(!String.isNullOrEmpty($p5)){this.$12=$p5;}if(!String.isNullOrEmpty($p6)){this.$11=$p6;}this.$13=$p2;},$19:function($p0,$p1,$p2){var $0={};Object.clearKeys($0);$0['cellspacing']=this.$13.toString();$0['cellpadding']='0';$0['index']=(1000).toString();this.$14=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('table','tablegrid-table','relative',null,null,null,null,null,$0);this.$14.style.border='0';this.$1A(this.$14);this.$1B(this.$14,'Cancel');Kepler.Engine.UI.Helper.HtmlCssHelper.addChild($p0,this.$14,null);},$1A:function($p0){var $0=null;var $1=null;var $2={};for(var $3=0;$3<this.$A;$3++){$0=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('tr','tablegrid-row','relative',null,null,null,null,null,null);$0.style.overflow='visible';$p0.appendChild($0);for(var $4=0;$4<this.$C;$4++){Object.clearKeys($2);$2['index']=(++this.$16).toString();$1=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('td','menusubitem','relative',null,null,this.$E.get_width(),this.$E.get_height(),'drag_cell ',$2);var $5=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div',null,'relative',null,null,this.$F.get_width(),this.$F.get_height(),this.$10,null);$5.style.margin='auto';$1.appendChild($5);this.$17.get_subItemsElement().add($1);$1.menuitem=this.$17;$0.appendChild($1);$1.style.backgroundColor=this.$11;}}},$1B:function($p0,$p1){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('tr','tablegrid-row','relative',null,null,null,null,null,null);$0.style.overflow='visible';$p0.appendChild($0);var $1={};Object.clearKeys($1);$1['colspan']=this.$C.toString();var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('td','menusubitem','relative',null,null,null,null,null,$1);$0.appendChild($2);this.$15=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div','heading','relative',null,null,null,24,'drag_text '+'class_menu_font '+'class_menu_item_text ',null);this.$15.innerHTML=$p1;this.$15.style.lineHeight=24+'px';$2.appendChild(this.$15);},$1C:function($p0,$p1,$p2){var $0=this.$14;var $1=$0.rows[$p0-1];var $2=$1.cells[$p1-1];$2.style.backgroundColor=$p2;},$1D:function($p0,$p1){var $0=-1;if(ss.isValue($p0)||$p0.hasAttribute('index')){$0=parseInt($p0.getAttribute('index'));}if($p1===Kepler.Framework.UI.Controls.EItemState.eNormal){for(var $1=1;$1<=this.$A;$1++){for(var $2=1;$2<=this.$C;$2++){this.$1C($1,$2,this.$11);}}this.$15.innerHTML='Cancel';}else{var $3=parseInt(($0/this.$C).toString(),10)+1;var $4=($0%this.$C)+1;if($p1!==Kepler.Framework.UI.Controls.EItemState.eNormal){this.$15.innerHTML=String.format('{0}x{1} {2}',$3,$4,this.$17.get_text());}for(var $5=1;$5<=this.$A;$5++){for(var $6=1;$6<=this.$C;$6++){this.$1C($5,$6,($5>$3||$6>$4)?this.$11:this.$12);}}}},$1E:function(){return this.$15.innerHTML;}}
Kepler.Engine.UI.Menu.SelectorGridMenuItem=function(iRows,iCols,iSpacing,szItem,szImage,strFillColor,strNormalColor,strClass){Kepler.Engine.UI.Menu.SelectorGridMenuItem.initializeBase(this);this.$13=new Kepler.Engine.UI.Menu.Engine$8(this);this.$13.$18(iRows,iCols,iSpacing,szItem,szImage,strFillColor,strNormalColor,strClass);}
Kepler.Engine.UI.Menu.SelectorGridMenuItem.prototype={$13:null,get_columns:function(){return this.$13.get_$D();},get_menuSubItemCount:function(){return (this.$13.get_$B()*this.$13.get_$D());},createMenuItem:function(elmMenuItem,iLeft,iTop){if(ss.isNullOrUndefined(elmMenuItem)){return;}this._elemMenuItem=elmMenuItem;this.get_rectangle().set_left(iLeft);this.get_rectangle().set_top(iTop);var $0=parseInt(elmMenuItem.getAttribute('index'));Kepler.Engine.UI.Helper.HtmlCssHelper.setElementTop(elmMenuItem,'0px');Kepler.Engine.UI.Helper.HtmlCssHelper.setElementLeft(elmMenuItem,'0px');Kepler.Engine.UI.Helper.HtmlCssHelper.setElementWidth(elmMenuItem,'100%');Kepler.Engine.UI.Helper.HtmlCssHelper.setElementHeight(elmMenuItem,'100%');this.$13.$19(elmMenuItem,$0,this.get_rectangle());this.drawItem(elmMenuItem,Kepler.Framework.UI.Controls.EItemState.eNormal);},drawItem:function(element,eState){if(ss.isNullOrUndefined(element)){element=this._elemMenuItem;if(ss.isNullOrUndefined(element)){return;}}if(this._eToState===Kepler.Framework.UI.Controls.EItemState.eFocus){this._eToState=Kepler.Framework.UI.Controls.EItemState.eHover;}this._elemActiveMenuSubItem=element;this.$13.$1D(this._elemActiveMenuSubItem,eState);if(eState===Kepler.Framework.UI.Controls.EItemState.eNormal){this._elemActiveMenuSubItem=null;}},getActionString:function(){return this.$13.$1E();},handleKeyUp:function(){if(ss.isNullOrUndefined(this._elemActiveMenuSubItem)){return this._lstSubItemsElement[this.get_menuSubItemCount()-1];}var $0=this._lstSubItemsElement.indexOf(this._elemActiveMenuSubItem)-this.get_columns();if($0<0||$0>this.get_menuSubItemCount()-1){return null;}else{return this._lstSubItemsElement[$0];}},handleKeyDown:function(){if(ss.isNullOrUndefined(this._elemActiveMenuSubItem)){return this._lstSubItemsElement[0];}var $0=this._lstSubItemsElement.indexOf(this._elemActiveMenuSubItem)+this.get_columns();if($0<0||$0>this.get_menuSubItemCount()-1){return null;}else{return this._lstSubItemsElement[$0];}},handleKeyLeft:function(){if(ss.isValue(this._elemActiveMenuSubItem)){var $0=this._lstSubItemsElement.indexOf(this._elemActiveMenuSubItem);var $1=($0-1)%this.$13.get_$D();if($1<0){$1=this.$13.get_$D()-1;}$0=(Math.floor(($0/this.get_columns()))*this.get_columns())+$1;if($0>this.get_menuSubItemCount()-1){return this._lstSubItemsElement[this.get_menuSubItemCount()-1];}return this._lstSubItemsElement[$0];}return null;},handleKeyRight:function(){if(ss.isValue(this._elemActiveMenuSubItem)){var $0=this._lstSubItemsElement.indexOf(this._elemActiveMenuSubItem);var $1=(($0+1)%this.get_columns());$0=(Math.floor(($0/this.get_columns()))*this.get_columns())+$1;if($0>this.get_menuSubItemCount()-1){return this._lstSubItemsElement[$0-$1];}return this._lstSubItemsElement[$0];}return null;}}
Kepler.Engine.UI.Menu.SeperatorMenuItem=function(){Kepler.Engine.UI.Menu.SeperatorMenuItem.initializeBase(this);}
Kepler.Engine.UI.Menu.SeperatorMenuItem.prototype={get_isSeperator:function(){return true;},initialise:function(iId,strText,strImageStyle,strAcc,iWidth,iHeight,iPopUpMenuNo,iLeft){Kepler.Engine.UI.Menu.SeperatorMenuItem.callBaseMethod(this, 'initialise',[iId,strText,strImageStyle,strAcc,iWidth,iHeight,iPopUpMenuNo]);this.get_rectangle().set_left(iLeft);}}
Kepler.Engine.UI.Menu.SystemThemeMenuItem=function(){Kepler.Engine.UI.Menu.SystemThemeMenuItem.initializeBase(this);}
Kepler.Engine.UI.Menu.SystemThemeMenuItem.prototype={drawState:function(element){var $0='transparent';var $1='transparent';switch(this._eToState){case Kepler.Framework.UI.Controls.EItemState.eNormal:break;case Kepler.Framework.UI.Controls.EItemState.eFocus:case Kepler.Framework.UI.Controls.EItemState.eFocusHover:case Kepler.Framework.UI.Controls.EItemState.eHover:$0=Kepler.Engine.Core.EngineApp.get_engine().get_currentApp().getAppFrame().get_themeDetails().get_colorHover();$1=Kepler.Engine.Core.EngineApp.get_engine().get_currentApp().getAppFrame().get_themeDetails().get_colorPressed();break;default:break;}Kepler.Engine.UI.Helper.HtmlCssHelper.setElementBackgroundColor(element,$0);Kepler.Engine.UI.Helper.HtmlCssHelper.setElementBorder(element,'1px solid '+$1);}}
Kepler.Engine.UI.Menu.MenuParser=function(strXmlFile){Kepler.Engine.UI.Menu.MenuParser.initializeBase(this,[strXmlFile]);this._strDbgLogPrefix='[MenuParser] ';this.addParserRoleDelegate(21,ss.Delegate.create(this,this.$15));this.addParserRoleDelegate(46,ss.Delegate.create(this,this.$16));this.addParserRoleDelegate(47,ss.Delegate.create(this,this.$17));this.addParserRoleDelegate(31,ss.Delegate.create(this,this.$28));this.addParserRoleDelegate(32,ss.Delegate.create(this,this.$26));this.addParserRoleDelegate(23,ss.Delegate.create(this,this.$25));this.addParserRoleDelegate(33,ss.Delegate.create(this,this.$24));this.addParserRoleDelegate(24,ss.Delegate.create(this,this.$22));this.addParserRoleDelegate(25,ss.Delegate.create(this,this.parseRoleMiscCtrl));this.addParserRoleDelegate(30,ss.Delegate.create(this,this.$21));this.addParserRoleDelegate(26,ss.Delegate.create(this,this.$1F));this.addParserRoleDelegate(29,ss.Delegate.create(this,this.parseRoleSystem));this.addParserRoleDelegate(27,ss.Delegate.create(this,this.parseRoleWindows));this.addParserRoleDelegate(48,ss.Delegate.create(this,this.$1C));this.addParserRoleDelegate(28,ss.Delegate.create(this,this.$19));this.addParserRoleDelegate(34,ss.Delegate.create(this,this.parseRoleWindows));this.addParserRoleDelegate(35,ss.Delegate.create(this,this.$27));this.addParserRoleDelegate(36,ss.Delegate.create(this,this.$1A));this.addParserRoleDelegate(37,ss.Delegate.create(this,this.$1B));this.addParserRoleDelegate(38,ss.Delegate.create(this,this.$23));this.addParserRoleDelegate(39,ss.Delegate.create(this,this.$29));this.addParserRoleDelegate(40,ss.Delegate.create(this,this.$1D));this.addParserRoleDelegate(41,ss.Delegate.create(this,this.$1E));this.addParserRoleDelegate(42,ss.Delegate.create(this,this.$18));this.addParserRoleDelegate(43,ss.Delegate.create(this,this.$2A));this.addParserRoleDelegate(44,ss.Delegate.create(this,this.$2B));this.addParserRoleDelegate(45,ss.Delegate.create(this,this.$2C));this.addParserRoleDelegate(49,ss.Delegate.create(this,this.$20));}
Kepler.Engine.UI.Menu.MenuParser.prototype={_iCurrentApp:0,_iId:0,_iMenuNo:0,_iRtClkMenuNo:0,_iChecked:0,_iEnabled:0,_rcMouse:null,_strText:null,_strImgCls:null,_strActionString:null,_strKbrdShortcut:null,delayedParseXmlNodes:function(oParents,jQNodes){this.parseXmlNodes(oParents,jQNodes);},$15:function($p0,$p1){if(!this.isCorrectApp($p1)){return;}this.parseCommonAttributes($p1);var $0=$($p1);var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'no_shrunk');var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'pane_menu',0);var $3=new Kepler.Engine.UI.Menu.MenuWnd(this._iId,$p0.oMenuManager);$3.set_rightClkMenu(this._iRtClkMenuNo);$3.set_noShrunkableItem((!!$1));$3.set_isPaneMenu(($2===1));$p0.oMenuManager.addMenu($3);var $4=$p0.cloneWithContainerOnly();$4.oMenuWnd=$3;var $5=$0.children();this.parseXmlNodes($4,$5);$3.equateAllMenuItemsWt(true,true);$3.updateSize();if(Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'use_height')===1){var $6=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'height');$3.set_minimumHeight($6);}},$16:function($p0,$p1){if(!this.isCorrectApp($p1)){return;}this.parseCommonAttributes($p1);var $0=$($p1);var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'no_shrunk');var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'pane_menu',0);var $3=new Kepler.Engine.UI.Menu.WindowsMenuWnd(this._iId,$p0.oMenuManager);$3.set_rightClkMenu(this._iRtClkMenuNo);$3.set_noShrunkableItem((!!$1));$3.set_isPaneMenu(($2===1));$p0.oMenuManager.addMenu($3);var $4=$p0.cloneWithContainerOnly();$4.oMenuWnd=$3;var $5=$0.children();this.parseXmlNodes($4,$5);$3.equateAllMenuItemsWt(true,true);$3.updateSize();},$17:function($p0,$p1){if(!this.isCorrectApp($p1)){return;}this.parseCommonAttributes($p1);var $0=$($p1);var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'no_shrunk');var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'pane_menu',0);var $3=new Kepler.Engine.UI.Menu.MenuWnd(this._iId,$p0.oMenuManager);$3.get_elementStyle().border='2px solid black';$3.get_elementStyle().paddingTop='10px';$3.get_elementStyle().paddingBottom='10px';$3.set_rightClkMenu(this._iRtClkMenuNo);$3.set_noShrunkableItem((!!$1));$3.set_isPaneMenu(($2===1));$p0.oMenuManager.addMenu($3);var $4=$p0.cloneWithContainerOnly();$4.oMenuWnd=$3;var $5=$0.children();this.parseXmlNodes($4,$5);$3.equateAllMenuItemsWt(true,true);$3.updateSize();},$18:function($p0,$p1){if(!this.isCorrectApp($p1)){return;}this.parseCommonAttributes($p1);var $0=$($p1);var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'no_shrunk');var $2=new Kepler.Engine.UI.Menu.ExploreFileTabMenuWnd(this._iId,$p0.oMenuManager);$2.set_rightClkMenu(this._iRtClkMenuNo);$2.set_noShrunkableItem((!!$1));$p0.oMenuManager.addMenu($2);var $3=$p0.cloneWithContainerOnly();$3.oMenuWnd=$2;var $4=$0.children();this.parseXmlNodes($3,$4);},$19:function($p0,$p1){if(!this.isCorrectApp($p1)){return;}this.parseCommonAttributes($p1);var $0=Number.NaN;if(!!this._rcMouse.get_left()){$0=this._rcMouse.get_width();}var $1=new Kepler.Engine.UI.Menu.WindowsSepMenuItem();$1.initialise(-1,null,null,null,$0,2,-1,this._rcMouse.get_left());this.addItemToParent($1,$p0);},$1A:function($p0,$p1){if(!this.isCorrectApp($p1)){return;}this.parseCommonAttributes($p1);var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'textclass');var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'swaptextandicon');var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'checkable');var $3=new Kepler.Framework.UI.Size(0,0);var $4=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'imagesize');var $5=$4.split(',',2);if($5.length===2){$3=new Kepler.Framework.UI.Size(parseInt($5[0],10),parseInt($5[1],10));}var $6=new Kepler.Engine.UI.Menu.SystemThemeMenuItem();$6.initialise(this._iId,this._strText,'',this._strActionString,this._rcMouse.get_width(),this._rcMouse.get_height(),this._iMenuNo,$0,$3,$2,!!$1);$6.set_checked((this._iChecked===1));$6.set_enabled((this._iEnabled>0));$6.set_kbrdShortcut(this._strKbrdShortcut);this.setTooltip($6,$p1);this.addItemToParent($6,$p0);},$1B:function($p0,$p1){if(!this.isCorrectApp($p1)){return;}this.parseCommonAttributes($p1);var $0=new Kepler.Engine.UI.Menu.CategoryMenuItem();$0.initialise(this._iId,this._strText,null,this._strActionString,this._rcMouse.get_width(),this._rcMouse.get_height(),this._iMenuNo);$0.set_enabled((this._iEnabled>0));$0.set_kbrdShortcut(this._strKbrdShortcut);this.setTooltip($0,$p1);this.addItemToParent($0,$p0);},parseRoleWindows:function(oParents,elmNode){if(!this.isCorrectApp(elmNode)){return;}this.parseCommonAttributes(elmNode);var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString(elmNode,'textclass');var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt(elmNode,'checkable');var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt(elmNode,'swaptextandicon');var $3=new Kepler.Framework.UI.Size(0,0);var $4=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString(elmNode,'imagesize');var $5=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt(elmNode,'image_left',Number.NaN);var $6=$4.split(',',2);if($6.length===2){$3=new Kepler.Framework.UI.Size(parseInt($6[0],10),parseInt($6[1],10));}var $7=new Kepler.Engine.UI.Menu.WindowsMenuItem();$7.initialise(this._iId,this._strText,this._strImgCls,this._strActionString,this._rcMouse.get_width(),this._rcMouse.get_height(),this._iMenuNo,$0,$3,$1,!!$2);if($1>0){$7.set_checked((this._iChecked===1));}$7.set_enabled((this._iEnabled>0));$7.set_kbrdShortcut(this._strKbrdShortcut);$7.set_imageLeft($5);this.setTooltip($7,elmNode);this.addItemToParent($7,oParents);},$1C:function($p0,$p1){if(!this.isCorrectApp($p1)){return;}this.parseCommonAttributes($p1);var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'textclass');var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'menu_item_class');var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'checkable');var $3=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'swaptextandicon');var $4=new Kepler.Framework.UI.Size(0,0);var $5=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'imagesize');var $6=$5.split(',',2);if($6.length===2){$4=new Kepler.Framework.UI.Size(parseInt($6[0],10),parseInt($6[1],10));}var $7=new Kepler.Engine.UI.Menu.CssWindowsMenuItem();$7.initialise(this._iId,this._strText,this._strImgCls,this._strActionString,this._rcMouse.get_width(),this._rcMouse.get_height(),this._iMenuNo,$0,$4,$2,!!$3,$1);if($2>0){$7.set_checked((this._iChecked===1));}$7.set_enabled((this._iEnabled>0));$7.set_kbrdShortcut(this._strKbrdShortcut);this.setTooltip($7,$p1);this.addItemToParent($7,$p0);},parseRoleSystem:function(oParents,elmNode){if(!this.isCorrectApp(elmNode)){return;}this.parseCommonAttributes(elmNode);var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString(elmNode,'textclass');var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt(elmNode,'checkable');var $2=new Kepler.Framework.UI.Size(0,0);var $3=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString(elmNode,'imagesize');var $4=$3.split(',',2);if($4.length===2){$2=new Kepler.Framework.UI.Size(parseInt($4[0],10),parseInt($4[1],10));}var $5=new Kepler.Engine.UI.Menu.SystemMenuItem();$5.initialise(this._iId,this._strText,this._strImgCls,this._strActionString,this._rcMouse.get_width(),this._rcMouse.get_height(),this._iMenuNo,$0,$2,$1,false);if($1>0){$5.set_checked((this._iChecked===1));}$5.set_enabled((this._iEnabled>0));$5.set_kbrdShortcut(this._strKbrdShortcut);this.setTooltip($5,elmNode);this.addItemToParent($5,oParents);},$1D:function($p0,$p1){if(!this.isCorrectApp($p1)){return;}this.parseCommonAttributes($p1);var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'checkable');var $1=new Kepler.Engine.UI.Menu.DropDownMenuItem();$1.initialise(this._iId,this._strText,this._strImgCls,this._strActionString,this._rcMouse.get_width(),this._rcMouse.get_height(),this._iMenuNo);if($0>0){$1.set_checked((this._iChecked===1));}$1.set_enabled((this._iEnabled>0));$1.set_kbrdShortcut(this._strKbrdShortcut);this.setTooltip($1,$p1);this.addItemToParent($1,$p0);},$1E:function($p0,$p1){if(!this.isCorrectApp($p1)){return;}this.parseCommonAttributes($p1);var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'checkable');var $1=new Kepler.Engine.UI.Menu.CalendarMenuItem();$1.initialise(this._iId,this._strText,this._strImgCls,this._strActionString,this._rcMouse.get_width(),this._rcMouse.get_height(),this._iMenuNo);if($0>0){$1.set_checked((this._iChecked===1));}$1.set_enabled((this._iEnabled>0));$1.set_kbrdShortcut(this._strKbrdShortcut);this.setTooltip($1,$p1);this.addItemToParent($1,$p0);},$1F:function($p0,$p1){if(!this.isCorrectApp($p1)){return;}this.parseCommonAttributes($p1);var $0=this._strText.split('|',2);var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'imagesize');var $2=32;var $3=$1.split(',',2);if($3.length===2){$2=parseInt($3[0],10);$2=(isNaN($2))?32:$2;}var $4=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'checkable');var $5=new Kepler.Engine.UI.Menu.MultilineMenuItem();$5.initialise(this._iId,$0[0],this._strImgCls,this._strActionString,this._rcMouse.get_width(),this._rcMouse.get_height(),this._iMenuNo,$2,!!$4);$5.set_description((String.isNullOrEmpty($0[1]))?'':$0[1]);if($4>0){$5.set_checked((this._iChecked===1));}$5.set_enabled((this._iEnabled>0));$5.set_kbrdShortcut(this._strKbrdShortcut);this.setTooltip($5,$p1);this.addItemToParent($5,$p0);},$20:function($p0,$p1){if(!this.isCorrectApp($p1)){return;}this.parseCommonAttributes($p1);var $0=this._strText.split('|',2);var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'imagesize');var $2=40;var $3=$1.split(',',2);if($3.length===2){$2=parseInt($3[0],10);$2=(isNaN($2))?40:$2;}var $4=new Kepler.Engine.UI.Menu.MetroMultilineMenuItem();$4.initialise(this._iId,$0[0],this._strImgCls,this._strActionString,this._rcMouse.get_width(),this._rcMouse.get_height(),this._iMenuNo,$2,false);$4.set_description((String.isNullOrEmpty($0[1]))?'':$0[1]);$4.set_kbrdShortcut(this._strKbrdShortcut);this.setTooltip($4,$p1);this.addItemToParent($4,$p0);},parseRoleMiscCtrl:function(oParents,elmNode){if(!this.isCorrectApp(elmNode)){return;}this.parseCommonAttributes(elmNode);var $0=$(elmNode);var $1=this._iChecked;var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt(elmNode,'colcount');var $3=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt(elmNode,'imgwidth');var $4=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt(elmNode,'imgheight');var $5=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt(elmNode,'itemwidth');var $6=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt(elmNode,'itemheight');var $7=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt(elmNode,'leftmargin');var $8=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt(elmNode,'ignorepoint');var $9='';var $A=null;if(!$8){$9=this._strImgCls;var $E=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString(elmNode,'imgpoint');var $F=$E.split(',',2);if($F.length===2){$A=new Kepler.Framework.UI.Point(parseInt($F[0],10),parseInt($F[1],10));}else{$A=new Kepler.Framework.UI.Point(0,0);}}var $B=new Kepler.Engine.UI.Menu.MiscMenuItem();$B.initialise(this._iId,this._strText,$9,this._strActionString,this._rcMouse.get_width(),this._rcMouse.get_height(),-1);$B.set_rtClickMenu(this._iRtClkMenuNo);$B.setImageGrid($2,$5,$6,$3,$4,$7,$A,$9);$B.set_scrollbarMode(Kepler.Engine.UI.Controls.EScrollbarMode.AUTO);var $C=oParents.cloneWithContainerOnly();$C.oMenuItem=$B;var $D=$0.children();this.parseXmlNodes($C,$D);$B.set_checkedSubItem($1);oParents.oMenuManager.addItemToMenu(oParents.oMenuWnd.get_menuNo(),$B);},$21:function($p0,$p1){if(!this.isCorrectApp($p1)){return;}try{if((Kepler.Engine.UI.Menu.MiscMenuItem).isInstanceOfType($p0.oMenuItem)){var $0=$p0.oMenuItem;this.parseCommonAttributes($p1);var $1=null;if(ss.isValue($0.get_grid().get_imgPosition())){var $6=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'imgpoint');var $7=$6.split(',',2);if($7.length===2){$1=new Kepler.Framework.UI.Point(parseInt($7[0],10),parseInt($7[1],10));}}var $2=$0.get_grid().get_groups();if(!$2.length){$0.addGroup('');}var $3=Kepler.Engine.UI.OfficeThemeNs.OfficeTheme.get_instance();var $4=$3.getMenuActivePaletteItems();Kepler.Engine.UI.Menu.SpecialImageDataStructure.$7($4);switch($2[$2.length-1].get_imageType()){case 1:$2[$2.length-1].$E();for(var $8=0;$8<5;$8++){var $9=this.$2E($p1);$9._strTextualData=Kepler.Engine.UI.Menu.SpecialImageDataStructure.get_toolTip()[1][$8];$2[$2.length-1].$9($9,1,$8,this._strActionString,this._strImgCls);}break;case 2:$2[$2.length-1].$E();for(var $A=0;$A<25;$A++){var $B=this.$2E($p1);$B._strTextualData=Kepler.Engine.UI.Menu.SpecialImageDataStructure.get_toolTip()[2][$A];$2[$2.length-1].$9($B,2,$A,this._strActionString,this._strImgCls);}break;case 3:$2[$2.length-1].$E();for(var $C=0;$C<7;$C++){var $D=this.$2E($p1);$D._strTextualData=Kepler.Engine.UI.Menu.SpecialImageDataStructure.get_toolTip()[3][$C];$2[$2.length-1].$9($D,3,$C,this._strActionString,this._strImgCls);}break;case 4:$2[$2.length-1].$E();for(var $E=0;$E<7;$E++){var $F=this.$2E($p1);$F._strTextualData=Kepler.Engine.UI.Menu.SpecialImageDataStructure.get_toolTip()[4][$E];$2[$2.length-1].$9($F,4,$E,this._strActionString,this._strImgCls);}break;case 5:$2[$2.length-1].$E();for(var $10=0;$10<21;$10++){var $11=this.$2E($p1);if(ss.isValue(Kepler.Engine.UI.Menu.SpecialImageDataStructure.get_toolTip()[5][$10])){$11._strTextualData=Kepler.Engine.UI.Menu.SpecialImageDataStructure.get_toolTip()[5][$10];}$2[$2.length-1].$9($11,5,$10,this._strActionString,this._strImgCls);}break;default:var $5=this.$2E($p1);$2[$2.length-1].addImageItem($5,null,this._strKbrdShortcut,this._strActionString,this._strImgCls,$1);break;}}else{}}catch($12){}},$22:function($p0,$p1){if(!this.isCorrectApp($p1)){return;}this.parseCommonAttributes($p1);var $0=$($p1);var $1=new Kepler.Engine.UI.Menu.ListMenuCtrl();$1.initialise(this._iId,this._strText,null,this._strActionString,this._rcMouse.get_width(),this._rcMouse.get_height(),-1);$1.set_rtClickMenu(this._iRtClkMenuNo);$1.set_scrollbarMode(Kepler.Engine.UI.Controls.EScrollbarMode.AUTO);$p0.oMenuManager.addItemToMenu($p0.oMenuWnd.get_menuNo(),$1);var $2=$p0.cloneWithContainerOnly();$2.oMenuItem=$1;var $3=$0.children();this.parseXmlNodes($2,$3);},$23:function($p0,$p1){if(!this.isCorrectApp($p1)){return;}this.parseCommonAttributes($p1);var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'colcount');var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'rowcount');var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'spacing');var $3=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'imgwidth');var $4=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'imgheight');var $5=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'itemwidth');var $6=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'itemheight');var $7=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'normal_color');var $8=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'fill_color');var $9=new Kepler.Engine.UI.Menu.SelectorGridMenuItem($1,$0,$2,new Kepler.Framework.UI.Size($5,$6),new Kepler.Framework.UI.Size($3,$4),$8,$7,this._strImgCls);$9.initialise(this._iId,this._strText,this._strImgCls,this._strActionString,this._rcMouse.get_width(),this._rcMouse.get_height(),-1);this.addItemToParent($9,$p0);},$24:function($p0,$p1){if(!this.isCorrectApp($p1)){return;}this.parseCommonAttributes($p1);var $0=new Kepler.Engine.UI.Menu.InsertTableMenuItem(10,10);$0.initialise(this._iId,this._strText,null,this._strActionString,this._rcMouse.get_width(),this._rcMouse.get_height(),-1);this.addItemToParent($0,$p0);},$25:function($p0,$p1){if(!this.isCorrectApp($p1)){return;}this.parseCommonAttributes($p1);var $0;$0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'image_type');if((Kepler.Engine.UI.Menu.MiscMenuItem).isInstanceOfType($p0.oMenuItem)){($p0.oMenuItem).addGroup(this._strText,$0);}else{var $1=new Kepler.Engine.UI.Menu.GreySepMenuItem();$1.initialise(this._iId,this._strText,null,null,this._rcMouse.get_width(),this._rcMouse.get_height(),-1,this._rcMouse.get_left());this.setTooltip($1,$p1);this.addItemToParent($1,$p0);}},$26:function($p0,$p1){if(!this.isCorrectApp($p1)){return;}this.parseCommonAttributes($p1);var $0=new Kepler.Engine.UI.Menu.FilterMenuItem();$0.initialise(this._iId,this._strText,null,this._strActionString,this._rcMouse.get_width(),this._rcMouse.get_height(),-1);$p0.oMenuManager.addItemToMenu($p0.oMenuWnd.get_menuNo(),$0);},$27:function($p0,$p1){if(!this.isCorrectApp($p1)){return;}this.parseCommonAttributes($p1);this._rcMouse.set_width((Kepler.Engine.UI.Menu.MenuWnd.toucH_DEVICE)?185:this._rcMouse.get_width());this._rcMouse.set_height((Kepler.Engine.UI.Menu.MenuWnd.toucH_DEVICE)?(109+24):this._rcMouse.get_height());var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'themetype');var $1=(Kepler.Engine.UI.Menu.MenuWnd.toucH_DEVICE)?30:24;var $2=new Kepler.Engine.UI.Menu.ColorGridMenuItem();$2.initialise(this._iId,this._strText,null,this._strActionString,this._rcMouse.get_width(),this._rcMouse.get_height()-24,-1);$2.setColorGrid(5,0,0,$1,true,false);$2.set_checkedSubItem(this._iChecked);$p0.oMenuManager.addItemToMenu($p0.oMenuWnd.get_menuNo(),$2);},$28:function($p0,$p1){if(!this.isCorrectApp($p1)){return;}this.parseCommonAttributes($p1);var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'themetype');var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'stdtheme',1);var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'recent_theme',0);var $3=(Kepler.Engine.UI.Menu.MenuWnd.toucH_DEVICE)?30:11;var $4=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'colcount',10);this._rcMouse.set_width((Kepler.Engine.UI.Menu.MenuWnd.toucH_DEVICE)?$4*36:this._rcMouse.get_width());var $5=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'headers_present',1);var $6=new Kepler.Engine.UI.Menu.ColorGridMenuItem();$6.initialise(this._iId,this._strText,null,this._strActionString,this._rcMouse.get_width(),0,-1);$6.setColorGrid($4,$1,$2,$3,false,$5>0);$6.set_checkedSubItem(this._iChecked);$p0.oMenuManager.addItemToMenu($p0.oMenuWnd.get_menuNo(),$6);},$29:function($p0,$p1){if(!this.isCorrectApp($p1)){return;}this.parseCommonAttributes($p1);var $0=$($p1);var $1=this._iChecked;var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'colcount');var $3=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'imgwidth');var $4=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'imgheight');var $5=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'itemwidth');var $6=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'itemheight');var $7=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'leftmargin');var $8=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'ignorepoint');var $9='';var $A=null;if(!$8){$9=this._strImgCls;var $E=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'imgpoint');var $F=$E.split(',',2);if($F.length===2){$A=new Kepler.Framework.UI.Point(parseInt($F[0],10),parseInt($F[1],10));}else{$A=new Kepler.Framework.UI.Point(0,0);}}var $B=new Kepler.Engine.UI.Menu.MiscMenuSpImgItem();$B.initialise(this._iId,this._strText,$9,this._strActionString,this._rcMouse.get_width(),this._rcMouse.get_height(),-1);$B.set_rtClickMenu(this._iRtClkMenuNo);$B.setImageGrid($2,$5,$6,$3,$4,$7,$A,$9);$B.set_scrollbarMode(Kepler.Engine.UI.Controls.EScrollbarMode.AUTO);var $C=$p0.cloneWithContainerOnly();$C.oMenuItem=$B;var $D=$0.children();this.parseXmlNodes($C,$D);$B.set_checkedSubItem($1);$p0.oMenuManager.addItemToMenu($p0.oMenuWnd.get_menuNo(),$B);},$2A:function($p0,$p1){if(!this.isCorrectApp($p1)){return;}this.parseCommonAttributes($p1);var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'textclass');var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'checkable');var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'swaptextandicon');var $3=new Kepler.Framework.UI.Size(0,0);var $4=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'imagesize');var $5=$4.split(',',2);if($5.length===2){$3=new Kepler.Framework.UI.Size(parseInt($5[0],10),parseInt($5[1],10));}var $6=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'sub_menu_btn',-1);var $7=true;if(!$6){$7=false;}var $8=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'sub_menu_btn_kbdshortcut');var $9=new Kepler.Engine.UI.Menu.Items.SplitBtnTypeMenuItem();$9.initialise(this._iId,this._strText,this._strImgCls,this._strActionString,this._rcMouse.get_width(),this._rcMouse.get_height(),this._iMenuNo,$0,$3,$1,!!$2,$7,$8);if($1>0){$9.set_checked((this._iChecked===1));}$9.set_enabled((this._iEnabled>0));$9.set_kbrdShortcut(this._strKbrdShortcut);this.setTooltip($9,$p1);this.addItemToParent($9,$p0);},$2B:function($p0,$p1){if(!this.isCorrectApp($p1)){return;}this.parseCommonAttributes($p1);var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'textclass');var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'checkable');var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'swaptextandicon');var $3=new Kepler.Framework.UI.Size(0,0);var $4=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'imagesize');var $5=$4.split(',',2);if($5.length===2){$3=new Kepler.Framework.UI.Size(parseInt($5[0],10),parseInt($5[1],10));}var $6=new Kepler.Engine.UI.Menu.Items.PinnableMenuItem();$6.initialise(this._iId,this._strText,this._strImgCls,this._strActionString,this._rcMouse.get_width(),this._rcMouse.get_height(),this._iMenuNo,$0,$3);$6.set_enabled((this._iEnabled>0));$6.set_kbrdShortcut(this._strKbrdShortcut);this.setTooltip($6,$p1);this.addItemToParent($6,$p0);},$2C:function($p0,$p1){if(!this.isCorrectApp($p1)){return;}this.parseCommonAttributes($p1);var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'textclass');var $1=new Kepler.Engine.UI.Menu.Items.StaticTextMenuItem();$1.initialise(this._iId,this._strText,this._strImgCls,this._strActionString,this._rcMouse.get_width(),this._rcMouse.get_height(),this._iMenuNo,this._rcMouse.get_left(),$0);$1.set_enabled((this._iEnabled>0));$1.set_kbrdShortcut(this._strKbrdShortcut);this.setTooltip($1,$p1);this.addItemToParent($1,$p0);},parseCommonAttributes:function(elmNode){this._iId=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt(elmNode,'id');this._iMenuNo=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt(elmNode,'menuno');this._iRtClkMenuNo=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt(elmNode,'rtmenuno');this._iChecked=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt(elmNode,'checked',-1);this._iEnabled=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt(elmNode,'enable',1);this._rcMouse=this.$2D(elmNode);this._strText=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString(elmNode,'name');this._strImgCls=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString(elmNode,'cssclass');this._strActionString=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString(elmNode,'actionstring');this._strKbrdShortcut=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString(elmNode,'kbdshortcut');if(!this._strKbrdShortcut.trim()){var $0=this._strText.indexOf('<u>');var $1=this._strText.indexOf('</u>');if($0>0&&$1>0&&$0<=$1){$0+=3;this._strKbrdShortcut=this._strText.substr($0,$1-$0);}}},$2D:function($p0){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p0,'left');var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p0,'width');var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p0,'height');return new Kepler.Framework.UI.Rect($0,0,$1,$2);},$2E:function($p0){var $0=null;var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p0,'tt_text');var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p0,'tt_class');var $3=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p0,'tt_type',Number.NaN);if(!isNaN($3)&&!String.isNullOrEmpty($1)){$0=new Kepler.Engine.UI.Controls.Tooltip.Tooltip_Params($3,$1,$2);}return $0;},setTooltip:function(oItem,elmNode){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString(elmNode,'tt_text');var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString(elmNode,'tt_class');var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt(elmNode,'tt_type',Number.NaN);if(!isNaN($2)&&!String.isNullOrEmpty($0)){oItem.set_ttParams(new Kepler.Engine.UI.Controls.Tooltip.Tooltip_Params($2,$0,$1));}},addItemToParent:function(oMenuItem,oParents){var $0='';if(ss.isValue(oMenuItem)){if(ss.isValue(oParents.oMenuItem)){if((Kepler.Engine.UI.Menu.ListMenuCtrl).isInstanceOfType(oParents.oMenuItem)){var $1=oParents.oMenuItem;$1.addItemToList(oMenuItem);}else{$0=String.format('Can only add menuitems to list ctrl. Parent Item Id : {0} ; Item Id : {1}.',oParents.oMenuItem.get_id(),oMenuItem.get_id());}}else if(ss.isValue(oParents.oMenuWnd)){if(ss.isValue(oParents.oMenuManager)){oParents.oMenuManager.addItemToMenu(oParents.oMenuWnd.get_menuNo(),oMenuItem);}}else{$0='MenuWnd not available.';}}else{$0='Menu Item is null or invalid.';}},$2F:function(){var $0=Kepler.Engine.Core.EngineApp.get_engine().get_currentApp().get_appName().toLowerCase();this._iCurrentApp=15;if(!$0.compareTo('word')){this._iCurrentApp=8;}else if(!$0.compareTo('excel')){this._iCurrentApp=4;}else if(!$0.compareTo('access')){this._iCurrentApp=2;}else if(!$0.compareTo('powerpoint')){this._iCurrentApp=1;}},isCorrectApp:function(elmNode){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt(elmNode,'app',15);return (($0&this._iCurrentApp)===this._iCurrentApp);}}
Kepler.Engine.UI.Menu.MenuParser_ParentParam=function(){Kepler.Engine.UI.Menu.MenuParser_ParentParam.initializeBase(this);this.oMenuItem=null;this.oMenuWnd=null;this.oMenuManager=null;}
Kepler.Engine.UI.Menu.MenuParser_ParentParam.prototype={oMenuItem:null,oMenuWnd:null,oMenuManager:null,clone:function(){var $0=new Kepler.Engine.UI.Menu.MenuParser_ParentParam();$0.oMenuItem=this.oMenuItem;$0.oMenuWnd=this.oMenuWnd;$0.oMenuManager=this.oMenuManager;return $0;},cloneWithContainerOnly:function(){var $0=new Kepler.Engine.UI.Menu.MenuParser_ParentParam();$0.oMenuManager=this.oMenuManager;return $0;},toString:function(){var $0='';if(ss.isValue(this.oMenuItem)){$0=String.format('MenuItem id:{0}',this.oMenuItem.get_id());}if(ss.isValue(this.oMenuWnd)){$0=String.format(', MenuWnd id:{0}',this.oMenuWnd.get_menuNo());}return $0;}}
Kepler.Engine.UI.Menu.SpecialImageDataStructure=function(){}
Kepler.Engine.UI.Menu.SpecialImageDataStructure.get_toolTip=function(){return Kepler.Engine.UI.Menu.SpecialImageDataStructure.$0;}
Kepler.Engine.UI.Menu.SpecialImageDataStructure.get_recolor=function(){return Kepler.Engine.UI.Menu.SpecialImageDataStructure.$6;}
Kepler.Engine.UI.Menu.SpecialImageDataStructure.set_recolor=function(value){Kepler.Engine.UI.Menu.SpecialImageDataStructure.$6=value;return value;}
Kepler.Engine.UI.Menu.SpecialImageDataStructure.$7=function($p0){Kepler.Engine.UI.Menu.SpecialImageDataStructure.$6[0]=$p0['Text 2'].getColor();Kepler.Engine.UI.Menu.SpecialImageDataStructure.$6[1]=$p0['Background 2'].getColor();Kepler.Engine.UI.Menu.SpecialImageDataStructure.$6[2]=$p0['Accent 1'].getColor();Kepler.Engine.UI.Menu.SpecialImageDataStructure.$6[3]=$p0['Accent 2'].getColor();Kepler.Engine.UI.Menu.SpecialImageDataStructure.$6[4]=$p0['Accent 3'].getColor();Kepler.Engine.UI.Menu.SpecialImageDataStructure.$6[5]=$p0['Accent 4'].getColor();Kepler.Engine.UI.Menu.SpecialImageDataStructure.$6[6]=$p0['Accent 5'].getColor();Kepler.Engine.UI.Menu.SpecialImageDataStructure.$6[7]=$p0['Accent 6'].getColor();Kepler.Engine.UI.Menu.SpecialImageDataStructure.$5[7]=$p0['Text 2'].getColorName()+', Text color 2 Dark';Kepler.Engine.UI.Menu.SpecialImageDataStructure.$5[14]=$p0['Background 2'].getColorName()+', Background color 2 Light';Kepler.Engine.UI.Menu.SpecialImageDataStructure.$5[8]=$p0['Accent 1'].getColorName()+', Accent color 1 Dark';Kepler.Engine.UI.Menu.SpecialImageDataStructure.$5[15]=$p0['Accent 1'].getColorName()+', Accent color 1 Light';Kepler.Engine.UI.Menu.SpecialImageDataStructure.$5[9]=$p0['Accent 1'].getColorName()+', Accent color 2 Dark';Kepler.Engine.UI.Menu.SpecialImageDataStructure.$5[16]=$p0['Accent 1'].getColorName()+', Accent color 2 Light';Kepler.Engine.UI.Menu.SpecialImageDataStructure.$5[10]=$p0['Accent 1'].getColorName()+', Accent color 3 Dark';Kepler.Engine.UI.Menu.SpecialImageDataStructure.$5[17]=$p0['Accent 1'].getColorName()+', Accent color 3 Light';Kepler.Engine.UI.Menu.SpecialImageDataStructure.$5[11]=$p0['Accent 1'].getColorName()+', Accent color 4 Dark';Kepler.Engine.UI.Menu.SpecialImageDataStructure.$5[18]=$p0['Accent 1'].getColorName()+', Accent color 4 Light';Kepler.Engine.UI.Menu.SpecialImageDataStructure.$5[12]=$p0['Accent 1'].getColorName()+', Accent color 5 Dark';Kepler.Engine.UI.Menu.SpecialImageDataStructure.$5[19]=$p0['Accent 1'].getColorName()+', Accent color 5 Light';Kepler.Engine.UI.Menu.SpecialImageDataStructure.$5[13]=$p0['Accent 1'].getColorName()+', Accent color 6 Dark';Kepler.Engine.UI.Menu.SpecialImageDataStructure.$5[20]=$p0['Accent 1'].getColorName()+', Accent color 6 Light';}
Kepler.Engine.UI.Menu.Engine$6=function(oItem){this.$8=0;this.$4=0;this.$6=0;this.$9=0;this.$C=oItem;this.$E=false;this.$F=true;this.$A=new Kepler.Framework.UI.Size(0,0);this.$B={};}
Kepler.Engine.UI.Menu.Engine$6.prototype={$4:0,get_$5:function(){return this.$4;},$6:0,get_$7:function(){return this.$6;},$8:0,$9:0,$A:null,$B:null,$C:null,$D:null,$E:false,$F:false,$10:function($p0,$p1,$p2,$p3){if(!isNaN($p0)){this.$4=$p0;}if(ss.isValue($p1)&&$p1.length>0){this.$B['Theme Colors']=$p1;this.$6+=$p1.length;}if(ss.isValue($p2)&&$p2.length>0){this.$B['Standard Colors']=$p2;this.$6+=$p2.length;}if(ss.isValue($p3)&&$p3.length>0){this.$B['Recent Colors']=$p3;this.$6+=$p3.length;}this.$11();},$11:function(){var $0=null;var $1=0;var $2=0;var $3=(this.$F)?1:0;var $4=(this.$F)?23:0;var $5=0;var $6=2;var $7=2;if(this.$E){if(ss.isValue($0=this.$B['Theme Colors'])){$2=Math.ceil($0.length/this.$4);var $8=$6+this.$A.get_height()+2+$7;$1+=($8*$2);}}else{if(ss.isValue($0=this.$B['Theme Colors'])){$2=Math.ceil($0.length/this.$4);$1+=$3;$1+=$4;$1+=$5;if($2>0){$1+=$6;$1+=this.$A.get_height()+2;$1+=$7;$1+=($6+1);if($2>1){$1+=(($2-1)*(this.$A.get_height()+2));}$1+=$7;}}if(ss.isValue($0=this.$B['Standard Colors'])){$2=Math.ceil($0.length/this.$4);$1+=$3;$1+=$4;$1+=$5;var $9=$6+this.$A.get_height()+2+$7;$1+=($9*$2);}if(ss.isValue($0=this.$B['Recent Colors'])){$2=Math.ceil($0.length/this.$4);$1+=$3;$1+=$4;$1+=$5;var $A=$6+this.$A.get_height()+2+$7;$1+=($A*$2);}}this.$C.set_height($1);this.$C.set_originalHeight($1);this.$C.get_rectangle().set_height($1);},$12:function($p0){var $0=new Kepler.Framework.UI.Size(0,0);if(this.$8===1){$0.set_width(this.$A.get_width()-2);$0.set_height(this.$A.get_height()-2);}else if(!$p0){$0.set_width(this.$A.get_width()-2);$0.set_height(this.$A.get_height()-1);}else if($p0===(this.$8-1)){$0.set_width(this.$A.get_width()-2);$0.set_height(this.$A.get_height()-1);}else{$0.set_width(this.$A.get_width()-2);$0.set_height(this.$A.get_height());}return $0;},$13:function($p0){var $0='';if(String.isNullOrEmpty($0)||!$0.trim()){var $1=this.$C.get_ttParams();if(ss.isValue($1)&&!String.isNullOrEmpty($1._strTextualData)){$0=$1._strTextualData.split(Kepler.Framework.Core.Seperators.z_CARON)[0];}}if(String.isNullOrEmpty($0)||!$0.trim()){var $2=Math.floor($p0/this.$4);var $3=$p0%this.$4;$2+=1;$3+=1;$0=String.format('Row:{0},Col:{1}',$2,$3);}return $0;},$14:function($p0,$p1,$p2){if(!isNaN($p0)){this.$A.set_width($p0);}if(!isNaN($p1)){this.$A.set_height($p1);}if(!isNaN($p2)){this.$9=$p2;}},$15:function($p0,$p1){if(ss.isNullOrUndefined($p0)){return;}if($p0===this.$D){return;}var $0='';var $1=new Kepler.Framework.UI.Size(0,0);var $2=this.$C.get_subItemsElement().indexOf($p0);var $3=(!$2)?1:Math.ceil(($2+1)/this.$4);var $4=this.$1B($3);var $5=$4._eRowType;if($p1===Kepler.Framework.UI.Controls.EItemState.eNormal){switch($5){case 0:$0='colItmFill colItmBorderLeft colItmBorderRight '+'colItmBorderTop colItmBorderBottom';$1.set_width(this.$A.get_width());$1.set_height(this.$A.get_height());break;case 1:$0='colItmFill colItmBorderLeft colItmBorderRight colItmBorderTop';$1.set_width(this.$A.get_width());$1.set_height(this.$A.get_height()+1);break;case 2:$0='colItmFill colItmBorderLeft colItmBorderRight';$1.set_width(this.$A.get_width());$1.set_height(this.$A.get_height()+2);break;case 3:$0='colItmFill colItmBorderLeft colItmBorderRight colItmBorderBottom';$1.set_width(this.$A.get_width());$1.set_height(this.$A.get_height()+1);break;default:break;}}else{$0='colItmFillHover';$1.set_width(this.$A.get_width());$1.set_height(this.$A.get_height());}this.$16($p0,$0,$1);},$16:function($p0,$p1,$p2){if(ss.isValue($p0)){var $0=$($p0);if(ss.isValue($0)){$0.removeClass();$0.addClass($p1);$0.width($p2.get_width());$0.height($p2.get_height());}if(this.$C.get_highlight()===this.$C.get_subItemsElement().indexOf($p0)){$0.addClass('class_visual_hint');}}},$17:function($p0){var $0='colItmFillChecked';if(ss.isValue(this.$D)){var $1=this.$D;this.$D=null;Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass($1,$0);this.$15($1,Kepler.Framework.UI.Controls.EItemState.eNormal);}if($p0>=0&&$p0<this.$C.get_subItemsElement().length){var $2=new Kepler.Framework.UI.Size(0,0);$2.set_width(this.$A.get_width());$2.set_height(this.$A.get_height());this.$D=this.$C.get_subItemsElement()[$p0];this.$16(this.$D,$0,$2);}},$18:function($p0,$p1,$p2){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('table','colorgrid-table',null,null,null,null,null,'gridTable',null);this.$19($0);this.$17(this.$C.get_checkedSubItem());Kepler.Engine.UI.Helper.HtmlCssHelper.addChild($p0,$0,null);},$19:function($p0){var $0=1;var $dict1=this.$B;for(var $key2 in $dict1){var $1={key:$key2,value:$dict1[$key2]};var $2=$1.value;if(ss.isValue($2)){var $3=$1.key;if(!this.$E){this.$1A($p0,$3);}var $4=1;var $5=Math.ceil($2.length/this.$4);for($4=1;$4<=$5;$4++){this.$1C($p0,$0);$0++;}}}},toString:function(){return 'ColorGrid';},$1A:function($p0,$p1){if(!this.$F){return;}var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('tr','colorgrid-row','relative',null,null,null,null,'gridTableRow',null);Kepler.Engine.UI.Helper.HtmlCssHelper.addChild($p0,$0,null);var $1={};$1['colspan']=this.$4.toString();$1['IsSeperator']='true';var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('td','heading','relative',null,null,null,null,'gridTableCell class_menuitem_greySep class_greySep_text',$1);Kepler.Engine.UI.Helper.HtmlCssHelper.addChild($0,$2,null);var $3=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div',null,'relative',9,0,null,null,'class_menu_font '+'class_menu_item_text ',null);Kepler.Engine.UI.Helper.HtmlCssHelper.setElementInnerHtml($3,$p1);Kepler.Engine.UI.Helper.HtmlCssHelper.setElementLineHeight($3,23+'px');$3.style.textAlign='left';Kepler.Engine.UI.Helper.HtmlCssHelper.addChild($2,$3,null);},$1B:function($p0){var $0=[];var $1='';var $2=new Kepler.Engine.UI.Menu.Row();var $3=1;var $4=1;var $dict1=this.$B;for(var $key2 in $dict1){var $5={key:$key2,value:$dict1[$key2]};$1=$5.key;$0=$5.value;if(ss.isValue($0)){var $6=$0.length;var $7=Math.ceil(($6/this.$4));var $8=$7+$4-1;if($p0>=$4&&$p0<=$8){$3=$p0-$4+1;if(this.$E||$1==='Standard Colors'||$1==='Recent Colors'){$2=0;}else{if($3===1){$2=0;}else if($3===2){$2=1;}else if($3===$7){$2=3;}else{$2=2;}}break;}else{$4+=$7;}}}return new Kepler.Engine.UI.Menu.RowDetails($0,$2,$3);},$1C:function($p0,$p1){var $0=this.$1B($p1);var $1=$0._lstColor;var $2=$0._eRowType;var $3=$0._iRowIdx;var $4=(($p1-1)*this.$4);var $5=($3-1)*this.$4;var $6=$5+this.$4-1;$5=($5>($1.length-1))?($1.length-1):$5;$6=($6>($1.length-1))?($1.length-1):$6;var $7=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('tr','colorgrid-row','relative',null,null,null,null,'gridTableRow',null);$7.style.overflow='visible';Kepler.Engine.UI.Helper.HtmlCssHelper.addChild($p0,$7,null);for(;$5<=$6;$5++){var $8=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('td',null,'relative',null,null,null,null,'gridTableCell',null);Kepler.Engine.UI.Helper.HtmlCssHelper.addChild($7,$8,null);var $9=this.$1D($2,$4);$9.childNodes[0].style.backgroundColor=$1[$5].get_color().toString();Kepler.Engine.UI.Helper.HtmlCssHelper.addChild($8,$9,null);$4++;}},$1D:function($p0,$p1){var $0=document.createElement('xyz');var $1=0;var $2=0;var $3='';var $4='';var $5='';var $6='';var $7='';switch($p0){case 0:$1=this.$A.get_width();$2=this.$A.get_height();$3='colItmFill colItmBorderLeft colItmBorderRight colItmBorderTop colItmBorderBottom';$4=$5=$6=$7=(this.$9/2)+'px';break;case 1:$1=this.$A.get_width();$2=this.$A.get_height()+1;$3='colItmFill colItmBorderLeft colItmBorderRight colItmBorderTop';$6=(this.$9/2)+1+'px';$4=$5=(this.$9/2)+'px';$7='0px';break;case 2:$1=this.$A.get_width();$2=this.$A.get_height()+2;$3='colItmFill colItmBorderLeft colItmBorderRight';$4=$5=(this.$9/2)+'px';$6=$7='0px';break;case 3:$1=this.$A.get_width();$2=this.$A.get_height()+1;$3='colItmFill colItmBorderLeft colItmBorderRight colItmBorderBottom';$6='0px';$4=$5=(this.$9/2)+'px';$7=(this.$9/2)+1+'px';break;default:break;}var $8={};$8['index']=$p1.toString();$0=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div','colorgrid-item-fill','relative',0,0,$1,$2,$3,null);this.$C.get_subItemsElement().add($0);$0.menuitem=this.$C;var $9=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div','','relative',null,null,this.$A.get_width()+2,this.$A.get_height()+2,null,$8);$9.setAttribute('name','menuitem');$9.style.margin=$6+' '+$5+' '+$7+' '+$4;Kepler.Engine.UI.Helper.HtmlCssHelper.addChild($9,$0,null);return $9;},$1E:function($p0){var $0=null;var $1=null;var $2=0;if(ss.isValue($0=this.$B['Theme Colors'])){$2+=$0.length;if($p0>-1&&$p0<$2){$1=$0[$p0];}}if($1==null&&ss.isValue($0=this.$B['Standard Colors'])){if($p0>=$2&&$p0<($2+$0.length)){$1=$0[$p0-$2];}}return $1;},$1F:function($p0){if(ss.isNullOrUndefined($p0)){return -1;}var $0=0;var $1=null;if(ss.isValue($1=this.$B['Theme Colors'])){var $enum1=ss.IEnumerator.getEnumerator($1);while($enum1.moveNext()){var $2=$enum1.current;if($2.get_color().toString()===$p0.toString()){return $0;}$0++;}}if(ss.isValue($1=this.$B['Standard Colors'])){var $enum2=ss.IEnumerator.getEnumerator($1);while($enum2.moveNext()){var $3=$enum2.current;if($3.get_color().toString()===$p0.toString()){return $0;}$0++;}}return -1;},$20:function($p0){var $0=new Kepler.Framework.UI.Color(0,0,0);$p0=$p0.replaceAll('rgb','');$p0=$p0.replaceAll('(','');$p0=$p0.replaceAll(')','');var $1=$p0.split(',',4);$0.iRed=parseInt($1[0],10);$0.iGreen=parseInt($1[1],10);$0.iBlue=parseInt($1[2],10);if($1.length===4){$0.dAlpha=parseFloat($1[3]);}return this.$1F($0);},$21:function($p0){var $0=0;if(ss.isNullOrUndefined($p0)||String.isNullOrEmpty($p0)){return -1;}var $1=null;if(ss.isValue($1=this.$B['Theme Colors'])){for($0=0;$0<$1.length;$0++){if($1[$0].get_color().toString()===$p0){return $0;}}}if(ss.isValue($1=this.$B['Standard Colors'])){for($0=0;$0<$1.length;$0++){if($1[$0].get_color().toString()===$p0){return ($0+this.$B['Theme Colors'].length);}}}return -1;},$22:function($p0,$p1){if(ss.isValue($p0)&&!this.$E){this.$23($p0.firstChild,$p1);}},$23:function($p0,$p1){if(ss.isValue($p1)){this.$B['Theme Colors']=$p1;for(var $0=0;$0<6;$0++){var $1=$p0.childNodes[$0+1];for(var $2=0;$2<10;$2++){var $3=$1.childNodes[$2].firstChild.firstChild;$3.style.backgroundColor=$p1[($0*10)+$2].get_color().toString();}}}},$24:function($p0){if(ss.isValue($p0)&&!this.$E){this.$B['Theme Colors']=$p0;}}}
Kepler.Engine.UI.Menu.ColorGridMenuItem=function(){Kepler.Engine.UI.Menu.ColorGridMenuItem.initializeBase(this);this.$13=new Kepler.Engine.UI.Menu.Engine$6(this);this._oTTParams=new Kepler.Engine.UI.Controls.Tooltip.Tooltip_Params(Kepler.Engine.UI.Controls.Tooltip.ETooltipTypes.simplE_DESCR,'',null);}
Kepler.Engine.UI.Menu.ColorGridMenuItem.prototype={get_columns:function(){return this.$13.get_$5();},get_ttParams:function(){var $0=this.getColorFromIndex(this.get_menuHoverSubItem());if(ss.isValue($0)){this._oTTParams._strTextualData=$0.get_tooltip();return this._oTTParams;}else{return null;}},set_ttParams:function(value){Kepler.Engine.UI.Menu.ColorGridMenuItem.callBaseMethod(this, 'set_ttParams',[value]);return value;},get_checkedSubItem:function(){return Kepler.Engine.UI.Menu.ColorGridMenuItem.callBaseMethod(this, 'get_checkedSubItem');},set_checkedSubItem:function(value){Kepler.Engine.UI.Menu.ColorGridMenuItem.callBaseMethod(this, 'set_checkedSubItem',[value]);this.$13.$17(value);return value;},get_menuSubItemCount:function(){return this.$13.get_$7();},$13:null,$14:0,setColorGrid:function(iColCount,eStdThm,eRecent,iColorSize,bEnhancedGrid,bHeadersPresent){this.$13.$E=bEnhancedGrid;this.$13.$F=bHeadersPresent;this.$14=eStdThm;var $0=(bEnhancedGrid)?this.$18():this.$15();var $1=this.$16(eStdThm);var $2=this.$17(eRecent);if(eStdThm===4){$0.clear();}this.setColorItemSize(iColorSize,iColorSize,4);this.$13.$10(iColCount,$0,$1,$2);},setColorItemSize:function(iWidth,iHeight,iColorColumnSpace){this.$13.$14(iWidth,iHeight,iColorColumnSpace);},$15:function(){var $0=[];var $1=Kepler.Engine.UI.OfficeThemeNs.OfficeTheme.get_instance().getMenuActivePaletteItems();if(ss.isValue($1)){var $2=[];$2.addRange([0,0,0,0,0,0,0,0,0,0,-0.05,0.5,-0.1,0.8,0.8,0.8,0.8,0.8,0.8,0.8,-0.15,0.35,-0.25,0.6,0.6,0.6,0.6,0.6,0.6,0.6,-0.25,0.25,-0.5,0.4,0.4,0.4,0.4,0.4,0.4,0.4,-0.35,0.15,-0.75,-0.25,-0.25,-0.25,-0.25,-0.25,-0.25,-0.25,-0.5,0.05,-0.9,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5]);var $3=0;for(var $4=0;$4<6;$4++){var $dict1=$1;for(var $key2 in $dict1){var $5={key:$key2,value:$dict1[$key2]};var $6=$5.key;var $7=-1;var $8=$5.value;var $9=$8.getColorName()+', '+$6;if($7!==-1){$0.insert($7,this.changeColorBrightness($8.getColor(),$2[$3],$9));}else{$0.add(this.changeColorBrightness($8.getColor(),$2[$3],$9));}$3++;}}}return $0;},changeColorBrightness:function(oColor,fFactor,strTooltip){var $0=oColor.iRed;var $1=oColor.iGreen;var $2=oColor.iBlue;if(fFactor<0){strTooltip+=', Darker '+(-fFactor*100)+'%';fFactor=1+fFactor;$0=parseInt(($0*fFactor).toString());$1=parseInt(($1*fFactor).toString());$2=parseInt(($2*fFactor).toString());}else if(fFactor>0){strTooltip+=', Lighter '+(fFactor*100)+'%';$0=parseInt(((255-$0)*fFactor+$0).toString());$1=parseInt(((255-$1)*fFactor+$1).toString());$2=parseInt(((255-$2)*fFactor+$2).toString());}$0=($0<0)?0:($0>255)?255:$0;$1=($1<0)?0:($1>255)?255:$1;$2=($2<0)?0:($2>255)?255:$2;return new Kepler.Engine.UI.Menu.ColorItem(new Kepler.Framework.UI.Color($0,$1,$2),strTooltip);},$16:function($p0){var $0=[];var $1=[];switch($p0){case 0:$0=null;$1=null;break;case 1:$0.addRange([new Kepler.Framework.UI.Color(192,0,0),new Kepler.Framework.UI.Color(255,0,0),new Kepler.Framework.UI.Color(255,192,0),new Kepler.Framework.UI.Color(255,255,0),new Kepler.Framework.UI.Color(146,208,80),new Kepler.Framework.UI.Color(0,176,80),new Kepler.Framework.UI.Color(0,176,240),new Kepler.Framework.UI.Color(0,112,192),new Kepler.Framework.UI.Color(0,32,96),new Kepler.Framework.UI.Color(112,48,160)]);$1.addRange(['Dark Red','Red','Orange','Yellow','Light Green','Green','Light Blue','Blue','Dark Blue','Purple']);break;case 4:$0.addRange([new Kepler.Framework.UI.Color(255,255,255),new Kepler.Framework.UI.Color(0,0,0),new Kepler.Framework.UI.Color(192,0,0),new Kepler.Framework.UI.Color(255,0,0),new Kepler.Framework.UI.Color(255,192,0),new Kepler.Framework.UI.Color(255,255,0),new Kepler.Framework.UI.Color(146,208,80),new Kepler.Framework.UI.Color(0,176,80),new Kepler.Framework.UI.Color(0,176,240),new Kepler.Framework.UI.Color(0,112,192),new Kepler.Framework.UI.Color(0,32,96),new Kepler.Framework.UI.Color(112,48,160)]);$1.addRange(['White','Black','Dark Red','Red','Orange','Yellow','Light Green','Green','Light Blue','Blue','Dark Blue','Purple']);break;case 3:$0.addRange([new Kepler.Framework.UI.Color(192,0,0),new Kepler.Framework.UI.Color(255,0,0),new Kepler.Framework.UI.Color(255,192,0),new Kepler.Framework.UI.Color(255,255,0),new Kepler.Framework.UI.Color(146,208,80),new Kepler.Framework.UI.Color(0,176,80),new Kepler.Framework.UI.Color(0,176,240),new Kepler.Framework.UI.Color(0,112,192),new Kepler.Framework.UI.Color(0,32,96),new Kepler.Framework.UI.Color(112,48,160),new Kepler.Framework.UI.Color(112,48,160),new Kepler.Framework.UI.Color(112,48,160)]);$1.addRange(['Dark Red','Red','Orange','Yellow','Light Green','Green','Light Blue','Blue','Dark Blue','Purple','Dark Blue','Purple']);break;case 2:$0.addRange([new Kepler.Framework.UI.Color(255,255,255),new Kepler.Framework.UI.Color(0,0,0),new Kepler.Framework.UI.Color(250,243,232),new Kepler.Framework.UI.Color(31,73,125),new Kepler.Framework.UI.Color(92,131,180),new Kepler.Framework.UI.Color(192,80,77),new Kepler.Framework.UI.Color(157,187,97),new Kepler.Framework.UI.Color(128,102,160),new Kepler.Framework.UI.Color(75,172,198),new Kepler.Framework.UI.Color(245,157,86),new Kepler.Framework.UI.Color(236,236,236),new Kepler.Framework.UI.Color(146,146,146),new Kepler.Framework.UI.Color(204,200,194),new Kepler.Framework.UI.Color(223,229,237),new Kepler.Framework.UI.Color(239,242,247),new Kepler.Framework.UI.Color(249,237,237),new Kepler.Framework.UI.Color(247,249,241),new Kepler.Framework.UI.Color(243,240,246),new Kepler.Framework.UI.Color(237,247,249),new Kepler.Framework.UI.Color(254,251,248),new Kepler.Framework.UI.Color(216,216,216),new Kepler.Framework.UI.Color(127,127,127),new Kepler.Framework.UI.Color(187,182,174),new Kepler.Framework.UI.Color(198,209,222),new Kepler.Framework.UI.Color(214,223,236),new Kepler.Framework.UI.Color(239,211,210),new Kepler.Framework.UI.Color(230,237,215),new Kepler.Framework.UI.Color(223,219,231),new Kepler.Framework.UI.Color(209,234,240),new Kepler.Framework.UI.Color(252,230,212),new Kepler.Framework.UI.Color(191,191,191),new Kepler.Framework.UI.Color(114,114,114),new Kepler.Framework.UI.Color(162,157,150),new Kepler.Framework.UI.Color(142,163,189),new Kepler.Framework.UI.Color(173,192,217),new Kepler.Framework.UI.Color(223,167,165),new Kepler.Framework.UI.Color(205,220,175),new Kepler.Framework.UI.Color(191,178,207),new Kepler.Framework.UI.Color(164,213,226),new Kepler.Framework.UI.Color(249,205,170),new Kepler.Framework.UI.Color(165,165,165),new Kepler.Framework.UI.Color(89,89,89),new Kepler.Framework.UI.Color(125,121,116),new Kepler.Framework.UI.Color(86,118,157),new Kepler.Framework.UI.Color(132,161,198),new Kepler.Framework.UI.Color(207,123,121),new Kepler.Framework.UI.Color(181,203,136),new Kepler.Framework.UI.Color(159,140,183),new Kepler.Framework.UI.Color(119,192,212),new Kepler.Framework.UI.Color(247,181,128),new Kepler.Framework.UI.Color(140,140,140),new Kepler.Framework.UI.Color(63,63,63),new Kepler.Framework.UI.Color(87,85,81),new Kepler.Framework.UI.Color(23,54,93),new Kepler.Framework.UI.Color(69,98,135),new Kepler.Framework.UI.Color(144,60,57),new Kepler.Framework.UI.Color(117,140,72),new Kepler.Framework.UI.Color(96,76,120),new Kepler.Framework.UI.Color(59,129,148),new Kepler.Framework.UI.Color(122,78,43),new Kepler.Framework.UI.Color(186,20,25),new Kepler.Framework.UI.Color(237,28,36),new Kepler.Framework.UI.Color(255,194,14),new Kepler.Framework.UI.Color(255,242,0),new Kepler.Framework.UI.Color(167,218,78),new Kepler.Framework.UI.Color(34,177,76),new Kepler.Framework.UI.Color(0,183,239),new Kepler.Framework.UI.Color(0,114,188),new Kepler.Framework.UI.Color(47,54,153),new Kepler.Framework.UI.Color(111,49,152)]);$1.addRange(['White','Black','Medium Gray','Dark Blue','Light Blue','Maroon','Green','Purple','Aqua Blue','Brown','Light Gray 1','Dark Gray 1','Medium Gray 1','Dark Blue 1','Light Blue 1','Maroon 1','Green 1','Purple 1','Aqua Blue 1','Brown 1','Light Gray 2','Dark Gray 2','Medium Gray 2','Dark Blue 2','Light Blue 2','Maroon 2','Green 2','Purple 2','Aqua Blue 2','Brown 2','Light Gray 3','Dark Gray 3','Medium Gray 3','Dark Blue 3','Light Blue 3','Maroon 3','Green 3','Purple 3','Aqua Blue 3','Brown 3','Light Gray 4','Dark Gray 4','Medium Gray 4','Dark Blue 4','Light Blue 4','Maroon 4','Green 4','Purple 4','Aqua Blue 4','Brown 4','Light Gray 5','Dark Gray 5','Medium Gray 5','Dark Blue 5','Light Blue 5','Maroon 5','Green 5','Purple 5','Aqua Blue 5','Brown 5','Dark Red','Red','Orange','Yellow','Light Green','Green','Light Blue','Blue','Dark Blue','Purple']);break;default:break;}return this.$19($0,$1);},$17:function($p0){return null;},$18:function(){var $0=[];var $1=[];var $2=null;var $3=Kepler.Engine.UI.OfficeThemeNs.OfficeTheme.get_instance().get_activeTheme();switch($3){case 0:$1.addRange([new Kepler.Framework.UI.Color(255,255,0),new Kepler.Framework.UI.Color(0,255,0),new Kepler.Framework.UI.Color(0,255,255),new Kepler.Framework.UI.Color(255,0,255),new Kepler.Framework.UI.Color(0,0,255),new Kepler.Framework.UI.Color(255,0,0),new Kepler.Framework.UI.Color(0,0,128),new Kepler.Framework.UI.Color(0,128,128),new Kepler.Framework.UI.Color(0,128,0),new Kepler.Framework.UI.Color(128,0,128),new Kepler.Framework.UI.Color(128,0,0),new Kepler.Framework.UI.Color(128,128,0),new Kepler.Framework.UI.Color(128,128,128),new Kepler.Framework.UI.Color(192,192,192),new Kepler.Framework.UI.Color(0,0,0)]);$2=['Yellow','Bright Green','Turquoise','Pink','Blue','Red','Dark Blue','Teal','Green','Violet','Dark Red','Dark Yellow','Gray-50%','Gray-25%','Black'];break;default:break;}for(var $4=0;$4<$1.length;$4++){$0.add(new Kepler.Engine.UI.Menu.ColorItem($1[$4],$2[$4]));}return $0;},$19:function($p0,$p1){var $0=null;if(ss.isValue($p0)){$0=[];for(var $1=0;$1<$p0.length;$1++){$0.add(new Kepler.Engine.UI.Menu.ColorItem($p0[$1],$p1[$1]));}}return $0;},createMenuItem:function(elmMenuItem,iLeft,iTop){this.setMenuItemID(elmMenuItem);if(ss.isNullOrUndefined(elmMenuItem)){return;}this._elemMenuItem=elmMenuItem;this.get_rectangle().set_left(iLeft);this.get_rectangle().set_top(iTop);if(this.$14!==4){this.$13.$24(this.$15());}this.$13.$18(elmMenuItem,'menusubitem',this.get_rectangle());},drawItem:function(element,eState){if(ss.isNullOrUndefined(element)){return;}if(eState===Kepler.Framework.UI.Controls.EItemState.eFocus){this._eToState=eState=Kepler.Framework.UI.Controls.EItemState.eHover;}this._elemActiveMenuSubItem=element;this.$13.$15(this._elemActiveMenuSubItem,eState);if(eState===Kepler.Framework.UI.Controls.EItemState.eNormal){this._elemActiveMenuSubItem=null;}},highlightSubItem:function(elmMenuItem,iSubItemIndex){if(this._lstSubItemsElement.length>0){if(this._iHighlightedSubItem>=0&&this._iHighlightedSubItem<this._lstSubItemsElement.length){elmMenuItem=this._lstSubItemsElement[this._iHighlightedSubItem];Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(elmMenuItem,'class_visual_hint');}if(iSubItemIndex>=0&&iSubItemIndex<this._lstSubItemsElement.length){elmMenuItem=this._lstSubItemsElement[iSubItemIndex];Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(elmMenuItem,'class_visual_hint');}}return true;},getColorFromIndex:function(iIndex){return this.$13.$1E(iIndex);},getIndexFromColor:function(cColor){var $0=-1;if((Kepler.Framework.UI.Color).isInstanceOfType(cColor)){$0=this.$13.$1F(cColor);}else if((String).isInstanceOfType(cColor)){var $1=cColor;if(ss.isValue($1)){if($1.indexOf('rgb')!==-1){$0=this.$13.$20($1);}else if($1.indexOf('#')!==-1){$0=this.$13.$21($1);}}}return $0;},getActionString:function(){if(ss.isValue(this.$13)){return this.$13.$13(this.get_menuHoverSubItem());}return '';},isHoverOnFirstCol:function(){var $0=this.get_menuHoverSubItem();if($0>=0){return (!($0%this.$13.get_$5()));}return false;},setActiveTheme:function(){var $0=Kepler.Engine.UI.OfficeThemeNs.OfficeTheme.get_instance();if($0.isActiveThemeOrColorChanged()){if(!this.get_recreateItem()){this.$13.$22(this._elemMenuItem,this.$15());}}},handleKeyUp:function(){if(ss.isNullOrUndefined(this._elemActiveMenuSubItem)){return this._lstSubItemsElement[this.get_menuSubItemCount()-1];}var $0=this._lstSubItemsElement.indexOf(this._elemActiveMenuSubItem)-this.get_columns();if($0<0||$0>this.get_menuSubItemCount()-1){return null;}else{return this._lstSubItemsElement[$0];}},handleKeyDown:function(){if(ss.isNullOrUndefined(this._elemActiveMenuSubItem)){return this._lstSubItemsElement[0];}var $0=this._lstSubItemsElement.indexOf(this._elemActiveMenuSubItem)+this.get_columns();if($0<0||$0>this.get_menuSubItemCount()-1){return null;}else{return this._lstSubItemsElement[$0];}},handleKeyLeft:function(){if(ss.isValue(this._elemActiveMenuSubItem)){var $0=this._lstSubItemsElement.indexOf(this._elemActiveMenuSubItem);var $1=($0-1)%this.get_columns();if($1<0){$1=this.get_columns()-1;}$0=(Math.floor(($0/this.get_columns()))*this.get_columns())+$1;if($0>this.get_menuSubItemCount()-1){return this._lstSubItemsElement[this.get_menuSubItemCount()-1];}return this._lstSubItemsElement[$0];}return null;},handleKeyRight:function(){if(ss.isValue(this._elemActiveMenuSubItem)){var $0=this._lstSubItemsElement.indexOf(this._elemActiveMenuSubItem);var $1=(($0+1)%this.get_columns());$0=(Math.floor(($0/this.get_columns()))*this.get_columns())+$1;if($0>this.get_menuSubItemCount()-1){return this._lstSubItemsElement[$0-$1];}return this._lstSubItemsElement[$0];}return null;}}
Kepler.Engine.UI.Menu.GreySepMenuItem=function(){Kepler.Engine.UI.Menu.GreySepMenuItem.initializeBase(this);}
Kepler.Engine.UI.Menu.GreySepMenuItem.prototype={createMenuItem:function(elmMenuItem,iLeft,iTop){this.setMenuItemID(elmMenuItem);var $0=8;Kepler.Engine.UI.Helper.HtmlCssHelper.setElementWidth(elmMenuItem,this.get_rectangle().get_width()-$0+'px');Kepler.Engine.UI.Helper.HtmlCssHelper.setElementPadding(elmMenuItem,'0 0 0 '+$0+'px');Kepler.Engine.UI.Helper.HtmlCssHelper.setElementTextAlign(elmMenuItem,'left');Kepler.Engine.UI.Helper.HtmlCssHelper.setElementInnerHtml(elmMenuItem,this.get_text());Kepler.Engine.UI.Helper.HtmlCssHelper.setElementLineHeight(elmMenuItem,this.get_rectangle().get_height().toString()+'px');Kepler.Engine.UI.Helper.HtmlCssHelper.setElementLeft(elmMenuItem,this.get_rectangle().get_left()+'px');Kepler.Engine.UI.Helper.HtmlCssHelper.setElementClassName(elmMenuItem,' class_menuitem_greySep '+'class_menu_font '+'class_menu_item_text ');this._elemMenuItem=elmMenuItem;}}
Kepler.Engine.UI.Menu.IconStyleMenu=function(){Kepler.Engine.UI.Menu.IconStyleMenu.initializeBase(this);}
Kepler.Engine.UI.Menu.IconStyleMenu.prototype={setItemState:function(elemItem,eState){if(ss.isValue(elemItem)){var $0='';var $1=elemItem.childNodes[0];if(eState===Kepler.Framework.UI.Controls.EItemState.eNormal){if(this._elemCheckedItem===elemItem){$0=Kepler.Engine.Core.EngineApp.get_engine().get_currentApp().getAppFrame().get_themeDetails().get_colorChecked();}if(ss.isValue($1)){$1.style.opacity='';}}else if(eState===Kepler.Framework.UI.Controls.EItemState.eHover){$0=Kepler.Engine.Core.EngineApp.get_engine().get_currentApp().getAppFrame().get_themeDetails().get_colorHover();if(ss.isValue($1)){$1.style.opacity='';}}else if(eState===Kepler.Framework.UI.Controls.EItemState.ePressed){$0=Kepler.Engine.Core.EngineApp.get_engine().get_currentApp().getAppFrame().get_themeDetails().get_colorPressed();if(ss.isValue($1)){$1.style.opacity='0.436';}}Kepler.Engine.UI.Helper.HtmlCssHelper.setElementBackgroundColor(elemItem,$0);}}}
Kepler.Engine.UI.Menu.Engine$7=function(oItem){this.$8=0;this.$A=0;this.$E=-1;this.$D=null;this.$C=null;this.$F=oItem;}
Kepler.Engine.UI.Menu.Engine$7.prototype={$8:0,get_$9:function(){return this.$8;},$A:0,get_$B:function(){return this.$A;},$C:null,$D:null,$E:0,$F:null,$10:function($p0,$p1){if(ss.isValue($p0)&&!isNaN($p0)&&$p0>=0){this.$8=$p0;}if(ss.isValue($p1)&&!isNaN($p1)&&$p1>=0){this.$A=$p1;}},$11:function($p0,$p1,$p2){this.$13($p0,'Insert Table');var $0={};Object.clearKeys($0);$0['cellspacing']='1';$0['cellpadding']='0';$0['index']=(1000).toString();this.$C=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('table','tablegrid-table','relative',null,1,null,null,null,$0);this.$C.style.margin='0px 2px';this.$C.style.border='0';this.$12(this.$C);Kepler.Engine.UI.Helper.HtmlCssHelper.addChild($p0,this.$C,null);},$12:function($p0){var $0=null;var $1=null;var $2={};for(var $3=0;$3<this.$8;$3++){$0=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('tr','tablegrid-row','relative',null,null,null,null,null,null);$0.style.overflow='visible';$p0.appendChild($0);for(var $4=0;$4<this.$A;$4++){Object.clearKeys($2);$2['index']=(++this.$E).toString();$1=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('td','menusubitem','relative',null,null,16,16,'insert_table_cell_normal',$2);this.$F.get_subItemsElement().add($1);$1.menuitem=this.$F;$0.appendChild($1);$1.style.backgroundColor='White';}}},$13:function($p0,$p1){this.$D=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div','heading','relative',null,null,null,18,'class_menuitem_greySep class_ribbon_font insert_table_head',null);this.$D.innerHTML=$p1;$p0.appendChild(this.$D);},$14:function($p0,$p1,$p2){var $0=this.$C;var $1=$0.rows[$p0-1];var $2=$1.cells[$p1-1];$2.className=$p2;},$15:function($p0,$p1){var $0=-1;if(ss.isValue($p0)||$p0.hasAttribute('index')){$0=parseInt($p0.getAttribute('index'));}if($p1===Kepler.Framework.UI.Controls.EItemState.eNormal){for(var $1=1;$1<=this.$8;$1++){for(var $2=1;$2<=this.$A;$2++){this.$14($1,$2,'insert_table_cell_normal');}}this.$D.innerHTML='Insert Table';}else{var $3=parseInt(($0/this.$A).toString(),10)+1;var $4=($0%this.$A)+1;if($p1!==Kepler.Framework.UI.Controls.EItemState.eNormal){this.$D.innerHTML=String.format('{0}x{1} Table',$3,$4);}for(var $5=1;$5<=this.$8;$5++){for(var $6=1;$6<=this.$A;$6++){this.$14($5,$6,($5>$3||$6>$4)?'insert_table_cell_normal':'insert_table_cell_hover');}}}},$16:function(){return this.$D.innerHTML;}}
Kepler.Engine.UI.Menu.InsertTableMenuItem=function(iRows,iCols){Kepler.Engine.UI.Menu.InsertTableMenuItem.initializeBase(this);this.$13=new Kepler.Engine.UI.Menu.Engine$7(this);this.$13.$10(iRows,iCols);}
Kepler.Engine.UI.Menu.InsertTableMenuItem.prototype={$13:null,get_columns:function(){return this.$13.get_$B();},get_menuSubItemCount:function(){return (this.$13.get_$9()*this.$13.get_$B());},createMenuItem:function(elmMenuItem,iLeft,iTop){this.setMenuItemID(elmMenuItem);if(ss.isNullOrUndefined(elmMenuItem)){return;}this._elemMenuItem=elmMenuItem;this.get_rectangle().set_left(iLeft);this.get_rectangle().set_top(iTop);var $0=parseInt(elmMenuItem.getAttribute('index'));Kepler.Engine.UI.Helper.HtmlCssHelper.setElementTop(elmMenuItem,'0px');Kepler.Engine.UI.Helper.HtmlCssHelper.setElementLeft(elmMenuItem,'0px');Kepler.Engine.UI.Helper.HtmlCssHelper.setElementWidth(elmMenuItem,'100%');Kepler.Engine.UI.Helper.HtmlCssHelper.setElementHeight(elmMenuItem,'100%');this.$13.$11(elmMenuItem,$0,this.get_rectangle());this.drawItem(elmMenuItem,Kepler.Framework.UI.Controls.EItemState.eNormal);},drawItem:function(element,eState){if(ss.isNullOrUndefined(element)){element=this._elemMenuItem;if(ss.isNullOrUndefined(element)){return;}}if(this._eToState===Kepler.Framework.UI.Controls.EItemState.eFocus){this._eToState=Kepler.Framework.UI.Controls.EItemState.eHover;}this._elemActiveMenuSubItem=element;this.$13.$15(this._elemActiveMenuSubItem,eState);if(eState===Kepler.Framework.UI.Controls.EItemState.eNormal){this._elemActiveMenuSubItem=null;}},getActionString:function(){return this.$13.$16();},handleKeyUp:function(){if(ss.isNullOrUndefined(this._elemActiveMenuSubItem)){return this._lstSubItemsElement[this.get_menuSubItemCount()-1];}var $0=this._lstSubItemsElement.indexOf(this._elemActiveMenuSubItem)-this.get_columns();if($0<0||$0>this.get_menuSubItemCount()-1){return null;}else{return this._lstSubItemsElement[$0];}},handleKeyDown:function(){if(ss.isNullOrUndefined(this._elemActiveMenuSubItem)){return this._lstSubItemsElement[0];}var $0=this._lstSubItemsElement.indexOf(this._elemActiveMenuSubItem)+this.get_columns();if($0<0||$0>this.get_menuSubItemCount()-1){return null;}else{return this._lstSubItemsElement[$0];}},handleKeyLeft:function(){if(ss.isValue(this._elemActiveMenuSubItem)){var $0=this._lstSubItemsElement.indexOf(this._elemActiveMenuSubItem);var $1=($0-1)%this.$13.get_$B();if($1<0){$1=this.$13.get_$B()-1;}$0=(Math.floor(($0/this.get_columns()))*this.get_columns())+$1;if($0>this.get_menuSubItemCount()-1){return this._lstSubItemsElement[this.get_menuSubItemCount()-1];}return this._lstSubItemsElement[$0];}return null;},handleKeyRight:function(){if(ss.isValue(this._elemActiveMenuSubItem)){var $0=this._lstSubItemsElement.indexOf(this._elemActiveMenuSubItem);var $1=(($0+1)%this.get_columns());$0=(Math.floor(($0/this.get_columns()))*this.get_columns())+$1;if($0>this.get_menuSubItemCount()-1){return this._lstSubItemsElement[$0-$1];}return this._lstSubItemsElement[$0];}return null;}}
Kepler.Engine.UI.Menu.ListMenuCtrl=function(){Kepler.Engine.UI.Menu.ListMenuCtrl.initializeBase(this);this.$1C=[];this._lstSubItemsElement=[];this.$1B=[];}
Kepler.Engine.UI.Menu.ListMenuCtrl.prototype={$1B:null,$1C:null,get_menuSubItems:function(){return this.$1C;},get_itemSize:function(){if(this.$1C.length>0){for(var $0=0;$0<this.$1C.length;$0++){if((Kepler.Engine.UI.Menu.SeperatorMenuItem).isInstanceOfType(this.$1C[$0])){return this.$1C[0].get_rectangle().get_size();}}}return null;},get_menuSubItemCount:function(){return this.$1C.length;},get_checkedSubItem:function(){return Kepler.Engine.UI.Menu.ListMenuCtrl.callBaseMethod(this, 'get_checkedSubItem');},set_checkedSubItem:function(value){Kepler.Engine.UI.Menu.ListMenuCtrl.callBaseMethod(this, 'set_checkedSubItem',[value]);var $0=this.$1C[Kepler.Engine.UI.Menu.ListMenuCtrl.callBaseMethod(this, 'get_checkedSubItem')];if(ss.isValue($0)&&$0.get_isCheckable()){$0.set_checked(true);}return value;},get_scrollbarWidth:function(){return this._sbVertical.get_width();},get_width:function(){return Kepler.Engine.UI.Menu.ListMenuCtrl.callBaseMethod(this, 'get_width');},set_width:function(value){Kepler.Engine.UI.Menu.ListMenuCtrl.callBaseMethod(this, 'set_width',[value]);if(this._sbVertical.get_isLoaded()){Kepler.Engine.UI.Helper.HtmlCssHelper.setElementLeft(this._sbVertical.get_element(),(this.get_rectangle().get_width()-this._sbVertical.get_width()).toString());}return value;},get_ttParams:function(){return (ss.isValue(this.$1C[this.get_menuHoverSubItem()]))?this.$1C[this.get_menuHoverSubItem()].get_ttParams():null;},set_ttParams:function(value){Kepler.Engine.UI.Menu.ListMenuCtrl.callBaseMethod(this, 'set_ttParams',[value]);return value;},addItemToList:function(oItem){this.$1C.add(oItem);this.$1B[oItem.get_id()]=this.$1C.length-1;oItem.set_parentMenu(this.get_parentMenu());oItem.get_parentMenu().get_msgParent().addItemAndFillDefState(oItem);},createMenuItem:function(elmMenuItem,iLeft,iTop){this.setMenuItemID(elmMenuItem);if(ss.isNullOrUndefined(elmMenuItem)){return;}this._elemMenuItem=elmMenuItem;var $0=new Kepler.Framework.UI.Rect(0,0,0,0);this.get_rectangle().set_left(iLeft);this.get_rectangle().set_top(iTop);var $1={};this._elemScroller=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div','menulist-container','absolute',null,null,null,null,null,null);Kepler.Engine.UI.Helper.HtmlCssHelper.setElementWidth(this._elemScroller,'100%');Kepler.Engine.UI.Helper.HtmlCssHelper.setElementHeight(this._elemScroller,'100%');var $2=document.createElement('div');Kepler.Engine.UI.Helper.HtmlCssHelper.addChild(this._elemScroller,$2,null);for(var $3=0;$3<this.$1C.length;$3++){var $4=this.$1C[$3];$1['index']=$3.toString();var $5=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div','','relative',0,0,$4.get_rectangle().get_width(),$4.get_rectangle().get_height(),null,$1);$5.setAttribute('name','menuitem');if(!!$3){this.$1D($5,this.$1C[$3-1],this.$1C[$3]);}Kepler.Engine.UI.Helper.HtmlCssHelper.addChild($2,$5,null);$4.createMenuItem($5,0,0);$5.menuitem=this;this._lstSubItemsElement[$3]=$5;this.drawItem($5,this._eToState);}Kepler.Engine.UI.Helper.HtmlCssHelper.addChild(elmMenuItem,this._elemScroller,null);Kepler.Engine.UI.Helper.HtmlCssHelper.setElementClassName(this._elemScroller,'class_menu_list_ctrl');Kepler.Engine.UI.Helper.HtmlCssHelper.addChild(elmMenuItem,this._sbVertical.get_element(),null);Kepler.Engine.UI.Helper.HtmlCssHelper.setElementLeft(this._sbVertical.get_element(),(this.get_rectangle().get_width()-this._sbVertical.get_width()).toString());Kepler.Engine.UI.Helper.HtmlCssHelper.setElementTop(this._sbVertical.get_element(),'0');this._sbVertical.set_height(this.get_rectangle().get_height());this._sbVertical.onLoadFromNonControlParent();this._sbVertical.show(true);},$1D:function($p0,$p1,$p2){if(Kepler.Engine.UI.Menu.MenuWnd.toucH_DEVICE){$p0.style.marginTop=((Kepler.Engine.UI.Menu.MenuWnd.sameMenuItemType($p1,$p2))?Kepler.Engine.UI.Menu.MenuWnd.toucH_MARGIN_VERT*2:Kepler.Engine.UI.Menu.MenuWnd.toucH_MARGIN_VERT)+'px';}},drawItem:function(element,eState){if(ss.isNullOrUndefined(element)){if(ss.isValue(this._elemActiveMenuSubItem)){element=this._elemActiveMenuSubItem;}else{return;}}this.setEnabledDisabledState(element);if(eState===Kepler.Framework.UI.Controls.EItemState.eFocus){this._eToState=eState=Kepler.Framework.UI.Controls.EItemState.eHover;}this._oActiveMenuSubItem=this.$1C[this._lstSubItemsElement.indexOf(element)];this._elemActiveMenuSubItem=element;this.setItemState(this._elemActiveMenuSubItem,this._oActiveMenuSubItem,eState);if(eState===Kepler.Framework.UI.Controls.EItemState.eNormal){this._oActiveMenuSubItem=null;this._elemActiveMenuSubItem=null;}},setEnabledDisabledState:function(element){var $0=0;var $enum1=ss.IEnumerator.getEnumerator(this.$1C);while($enum1.moveNext()){var $1=$enum1.current;var $2=this._lstSubItemsElement[$0];if(ss.isNullOrUndefined($2)){return;}$1.set_enabled(this.get_enabled());$1.drawItem($2,this._eToState);$0++;}},setItemState:function(element,oMenuSubItem,eItemState){if(ss.isNullOrUndefined(element)||ss.isNullOrUndefined(oMenuSubItem)){return;}if(oMenuSubItem.get_enabled()){oMenuSubItem.changeState(eItemState,element);}},highlightSubItem:function(elmMenuItem,iSubItemIndex){if(this._lstSubItemsElement.length>0){if(this._iHighlightedSubItem>=0&&this._iHighlightedSubItem<this._lstSubItemsElement.length){elmMenuItem=this._lstSubItemsElement[this._iHighlightedSubItem];Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(elmMenuItem,'box_shadow_visual_hint');elmMenuItem.style.zIndex=0;}if(iSubItemIndex>=0&&iSubItemIndex<this._lstSubItemsElement.length){elmMenuItem=this._lstSubItemsElement[iSubItemIndex];Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(elmMenuItem,'box_shadow_visual_hint');}}return true;},toString:function(){return 'ListMenuCtrl';},getComputedHeight:function(){var $0=0;var $1=null;var $enum1=ss.IEnumerator.getEnumerator(this.$1C);while($enum1.moveNext()){var $2=$enum1.current;$0+=$2.getComputedHeight();$0+=((Kepler.Engine.UI.Menu.MenuWnd.sameMenuItemType($1,$2))?Kepler.Engine.UI.Menu.MenuWnd.toucH_MARGIN_VERT*2:Kepler.Engine.UI.Menu.MenuWnd.toucH_MARGIN_VERT);$1=$2;}return $0;},handleKeyUp:function(){var $0=this.$1C.length-1;if(ss.isValue(this._elemActiveMenuSubItem)&&ss.isValue(this._oActiveMenuSubItem)){$0=this._lstSubItemsElement.indexOf(this._elemActiveMenuSubItem)-1;if($0<0){return null;}}while(this.$1C[$0].get_isSeperator()){$0--;if($0<0){return null;}}this.scrollToItem($0);return this._lstSubItemsElement[$0];},handleKeyDown:function(){var $0=0;if(ss.isValue(this._elemActiveMenuSubItem)&&ss.isValue(this._oActiveMenuSubItem)){$0=this._lstSubItemsElement.indexOf(this._elemActiveMenuSubItem)+1;if($0>this.$1C.length-1){return null;}}while(this.$1C[$0].get_isSeperator()){$0++;if($0>this.$1C.length-1){return null;}}this.scrollToItem($0);return this._lstSubItemsElement[$0];},scrollToItem:function(iItemIdx){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientRect(this._lstSubItemsElement[iItemIdx]);var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientRect(this._elemMenuItem);if($0!=null&&$1!=null){$0.set_top($0.get_top()-Kepler.Engine.UI.Menu.MenuWnd.toucH_MARGIN_VERT);$0.set_height($0.get_height()+Kepler.Engine.UI.Menu.MenuWnd.toucH_MARGIN_VERT);if(!$1.isRectInRect($0)){var $2=($0.get_top()<$1.get_top())?true:false;var $3=0;if($2){var $4=this.$1C[iItemIdx-1];var $5=ss.isValue($4)&&$4.get_isSeperator();$3=($0.get_top()-$1.get_top());$3-=(($5)?$4.get_rectangle().get_height()+(2*Kepler.Engine.UI.Menu.MenuWnd.toucH_MARGIN_VERT):0);$3=(($3+this._sbVertical.get_curPos())<this._sbVertical.get_minPos())?(this._sbVertical.get_minPos()-this._sbVertical.get_curPos()):$3;this._sbVertical.performScroll($3);}else{$3=($0.get_bottom()-$1.get_bottom());$3+=Kepler.Engine.UI.Menu.MenuWnd.toucH_MARGIN_VERT;$3=(($3+this._sbVertical.get_curPos())>this._sbVertical.get_maxPos())?(this._sbVertical.get_maxPos()-this._sbVertical.get_curPos()):$3;this._sbVertical.performScroll($3);}}}},getActionString:function(){return this.get_menuSubItems()[this.get_menuHoverSubItem()].get_actionString();},onUnload:function(){Kepler.Engine.UI.Menu.ListMenuCtrl.callBaseMethod(this, 'onUnload');var $enum1=ss.IEnumerator.getEnumerator(this.$1C);while($enum1.moveNext()){var $0=$enum1.current;$0.dispose();}this.$1C.clear();}}
Kepler.Engine.UI.Menu.FilterMenuItem=function(){Kepler.Engine.UI.Menu.FilterMenuItem.initializeBase(this,['','']);this.$18=false;this.$1E();this.$1F();}
Kepler.Engine.UI.Menu.FilterMenuItem.prototype={$18:false,$19:null,$1A:null,$1B:null,$1C:null,$1D:null,get_actionString:function(){var $0=[];this.$1C.getCheckedItemText($0);return $0.join(', ');},$1E:function(){this.attachMessage(Kepler.Engine.UI.Controls.TreeControl.msG_NONE_SELECTED,ss.Delegate.create(this,this.$23));},onMsgButtonClicked:function(wParam,lParam){if(lParam===this.$1D){if(this.$1D.get_state()===Kepler.Engine.UI.Controls.ECheckBoxState.eChecked){this.$1C.showHideCheckBox(true);this.$1C.set_isCheckBoxSeperate(true);}else{this.$1C.showHideCheckBox(false);this.$22();this.$23(false,null);this.$1C.set_isCheckBoxSeperate(false);}}else if(Type.canCast(lParam,Kepler.Engine.UI.Controls.Button)){var $0=lParam;if($0===this.$19){if(0!==this.get_parentMenu().sendMessage('eONDetectMode',null,null)&&$0!==this._oContainerCtrl.get_controls()[this._iHighlightedSubItem]){return null;}(this.get_parentMenu().get_parent()).onMenuItemCommand(this,true);}else if($0===this.$1A){if(0!==this.get_parentMenu().sendMessage('eONDetectMode',null,null)&&$0!==this._oContainerCtrl.get_controls()[this._iHighlightedSubItem]){return null;}(this.get_parentMenu().get_parent()).hideMenu(-1);}}return null;},onMsgSelectionChanged:function(wParam,lParam){if(wParam!=null&&this.$18&&this.$1D.get_state()===Kepler.Engine.UI.Controls.ECheckBoxState.eUnchecked){var $0=this.$1C.get_selectAllNode();if($0===wParam){($0.get_nodeControl()).set_state(Kepler.Engine.UI.Controls.ECheckBoxState.eChecked);$0.setChildNodesState(Kepler.Engine.UI.Controls.ECheckBoxState.eChecked);}else{($0.get_nodeControl()).set_state(Kepler.Engine.UI.Controls.ECheckBoxState.eIntermediate);$0.setChildNodesState(Kepler.Engine.UI.Controls.ECheckBoxState.eUnchecked);((wParam).get_nodeControl()).set_state(Kepler.Engine.UI.Controls.ECheckBoxState.eChecked);}}return Kepler.Engine.UI.Menu.FilterMenuItem.callBaseMethod(this, 'onMsgSelectionChanged',[wParam,lParam]);},$1F:function(){var $0=0;this.$1B=new Kepler.Engine.UI.Controls.TextBox('Search',new Kepler.Framework.UI.Point(30,10),new Kepler.Framework.UI.Size(226,17),''+Kepler.Engine.UI.Controls.Control.csS_CLASS_POSITION_ABSOLUTE,(++$0).toString());this.$1B.setText('Search');this.addControl(this.$1B);this.$1C=new Kepler.Engine.UI.Controls.TreeControl(new Kepler.Framework.UI.Point(30,34),new Kepler.Framework.UI.Size(228,160),16,(++$0).toString(),14,new Kepler.Framework.UI.Point(1,1),new Kepler.Framework.UI.Size(14,14),' expand_collapse_image','');this.$1C.get_nodeContainer().style.top='2px';this.$1C.set_leftPosNodeContainer(2);this.$1C.set_isCheckBoxSeperate(true);this.addControl(this.$1C);this.$19=new Kepler.Engine.UI.Controls.Button('OK',new Kepler.Framework.UI.Point(102,210),new Kepler.Framework.UI.Size(71,19),(++$0).toString());this.addControl(this.$19);this.$1A=new Kepler.Engine.UI.Controls.Button('Cancel',new Kepler.Framework.UI.Point(102+86,210),new Kepler.Framework.UI.Size(71,19),(++$0).toString());this.addControl(this.$1A);this.$1D=new Kepler.Engine.UI.Controls.CheckBox('Select Multiple Items',new Kepler.Framework.UI.Point(5,205),null,(++$0).toString());this.$1D.show(false);this.addControl(this.$1D);},$F:function($p0){var $0=true;var $1=null;var $2=-1;var $3=$p0.get_text().split(Kepler.Framework.Core.Seperators.doublE_CROSS);var $4;var $enum1=ss.IEnumerator.getEnumerator($3);while($enum1.moveNext()){var $5=$enum1.current;$4=$5.split(Kepler.Framework.Core.Seperators.STAR,1);if(ss.isValue($4)&&$4.length===1){$2=parseInt($4[0],10);if(ss.isValue($2)&&ss.isValue($1=this.getControl($2))){if(Type.getInstanceType($1)===Kepler.Engine.UI.Controls.TreeControl){$0=($0&($1).isCorrectAction($5))===1;}}}}return $0;},reflectText:function(){var $0=null;var $1=-1;var $2=this.get_text().split(Kepler.Framework.Core.Seperators.doublE_CROSS);var $3;var $4=false;var $5='(Select All)';var $enum1=ss.IEnumerator.getEnumerator($2);while($enum1.moveNext()){var $6=$enum1.current;$3=$6.split(Kepler.Framework.Core.Seperators.STAR);if(ss.isValue($3)&&$3.length>1){$1=parseInt($3[0],10);if(ss.isValue($1)&&ss.isValue($0=this.getControl($1))){if(Type.canCast($0,Kepler.Engine.UI.Controls.TreeControl)){var $7=$0;$7.set_selectAll($5);$7.setData($6.substring(2,$6.length));if($4&&this.$1D.get_state()===Kepler.Engine.UI.Controls.ECheckBoxState.eUnchecked){$7.showHideCheckBox(false);}this.populateShowMeData($7);}else if(Type.canCast($0,Kepler.Engine.UI.Controls.CheckBox)){$5='(All)';var $8=$0;$8.set_state(parseInt($3[1],10));$4=true;}}}}this.$20($4);},$20:function($p0){if(this.$18!==$p0){this.$18=$p0;this.$1D.show($p0);if($p0){this.$21(this.$1B,-25,-7);this.$21(this.$1C,-25,-7);this.$21(this.$19,-25,-7+25);this.$21(this.$1A,-25,-7+25);this.set_originalWidth(this.get_originalWidth()-25);this.set_originalHeight(this.get_originalHeight()+7);this._oContainerCtrl.set_width(this._oContainerCtrl.get_width()-25);this._oContainerCtrl.set_height(this._oContainerCtrl.get_height()+7);}else{this.$21(this.$1B,25,7);this.$21(this.$1C,25,7);this.$21(this.$19,25,7-25);this.$21(this.$1A,25,7-25);this.set_originalWidth(this.get_originalWidth()+25);this.set_originalHeight(this.get_originalHeight()-7);this._oContainerCtrl.set_width(this._oContainerCtrl.get_width()+25);this._oContainerCtrl.set_height(this._oContainerCtrl.get_height()-7);}this.get_rectangle().set_width(this.get_originalWidth());this.get_rectangle().set_height(this.get_originalHeight());this.set_recreateItem(true);}},$21:function($p0,$p1,$p2){$p0.set_left($p0.get_left()+$p1);$p0.set_top($p0.get_top()+$p2);},$22:function(){var $0=this.$1C.get_selectAllNode();if(($0.get_nodeControl()).get_state()===Kepler.Engine.UI.Controls.ECheckBoxState.eChecked){return;}var $1=[];this.$1C.getCheckedNodeIndexes($1);if($1.length===1){this.$1C.setSelectedNodeByIndex($1[0]);return;}else{($0.get_nodeControl()).set_state(Kepler.Engine.UI.Controls.ECheckBoxState.eChecked);$0.setChildNodesState(Kepler.Engine.UI.Controls.ECheckBoxState.eChecked);this.$1C.setSelectedNode($0);}},$23:function($p0,$p1){var $0=$p0;if(ss.isValue(this.$19)){if($0&&this.$19.get_enable()){this.$19.set_enable(false);}else if(!$0&&!this.$19.get_enable()){this.$19.set_enable(true);}}return null;}}
Kepler.Engine.UI.Menu.MenuContainerCtrl=function(strClassName,strId,oMsgParent){Kepler.Engine.UI.Menu.MenuContainerCtrl.initializeBase(this,['span',strClassName+Kepler.Engine.UI.Controls.Control.csS_CLASS_POSITION_ABSOLUTE,strId]);this.$3_1();this.$3_0=oMsgParent;}
Kepler.Engine.UI.Menu.MenuContainerCtrl.prototype={$3_0:null,onLoad:function(){Kepler.Engine.UI.Menu.MenuContainerCtrl.callBaseMethod(this, 'onLoad');this.$3_0.sendMessage('AddControls',null,null);},$3_1:function(){this.attachMessage('eONDetectMode',ss.Delegate.create(this,this.onMsgDetectMode));this.attachMessage(Kepler.Engine.UI.Controls.ButtonBase.msG_BUTTON_CLICKED,ss.Delegate.create(this,this.$3_2));this.attachMessage(Kepler.Engine.UI.Controls.TreeControl.msG_NONE_SELECTED,ss.Delegate.create(this,this.onMsgNoneSelected));this.attachMessage(Kepler.Engine.UI.Controls.Control.msG_SELECTION_CHANGED,ss.Delegate.create(this,this.onMsgSelectionChanged));},$3_2:function($p0,$p1){return this.$3_0.sendMessage(Kepler.Engine.UI.Controls.ButtonBase.msG_BUTTON_CLICKED,$p0,$p1);},onMsgDetectMode:function(wParam,lParam){return this.$3_0.sendMessage('eONDetectMode',wParam,lParam);},onMsgNoneSelected:function(wParam,lParam){return this.$3_0.sendMessage(Kepler.Engine.UI.Controls.TreeControl.msG_NONE_SELECTED,wParam,lParam);},onMsgSelectionChanged:function(wParam,lParam){return this.$3_0.sendMessage(Kepler.Engine.UI.Controls.Control.msG_SELECTION_CHANGED,wParam,lParam);}}
Kepler.Engine.UI.Menu.MenuContainerCtrlItem=function(strClassName,strId){Kepler.Engine.UI.Menu.MenuContainerCtrlItem.initializeBase(this);this._mapMessageHandlers={};this._oContainerCtrl=new Kepler.Engine.UI.Menu.MenuContainerCtrl(strClassName,strId,this);this.$13={};this.$14=[];this.$15();}
Kepler.Engine.UI.Menu.MenuContainerCtrlItem.prototype={_mapMessageHandlers:null,_oContainerCtrl:null,$13:null,$14:null,get_menuSubItemCount:function(){var $0=0;if(ss.isValue(this._oContainerCtrl)){$0=this._oContainerCtrl.get_controls().length;}return $0;},initialise:function(iId,strText,strImageStyle,strAcc,iWidth,iHeight,iPopUpMenuNo){Kepler.Engine.UI.Menu.MenuContainerCtrlItem.callBaseMethod(this, 'initialise',[iId,strText,null,strAcc,iWidth,iHeight,iPopUpMenuNo]);this._oContainerCtrl.set_width(iWidth);this._oContainerCtrl.set_height(iHeight);},addControl:function(oContCtrl){if(ss.isValue(oContCtrl)){this._oContainerCtrl.add(oContCtrl);this.$13[oContCtrl.get_id()]=oContCtrl;}},getControl:function(iId){return this.$13[iId];},handleKeyUp:function(){return null;},handleKeyDown:function(){return null;},createMenuItem:function(elmMenuItem,iLeft,iTop){this.setMenuItemID(elmMenuItem);this._elemMenuItem=elmMenuItem;elmMenuItem.appendChild(this._oContainerCtrl.get_element());},highlightSubItem:function(elmMenuItem,iSubItemIndex){if(this._oContainerCtrl.get_controls().length>0){var $0=null;if(this._iHighlightedSubItem>=0&&this._iHighlightedSubItem<this._oContainerCtrl.get_controls().length){$0=this._oContainerCtrl.get_controls()[this._iHighlightedSubItem];$0.get_elementStyle()['outline']='';elmMenuItem.style.zIndex=0;}if(iSubItemIndex>=0&&iSubItemIndex<this._oContainerCtrl.get_controls().length){$0=this._oContainerCtrl.get_controls()[iSubItemIndex];$0.get_elementStyle()['outline']='2px solid red';}}return true;},getActionString:function(){return '';},populateShowMeData:function(oControl){this.$14.clear();if(ss.isValue(oControl)){var $0=oControl.get_highlightedNodes();var $enum1=ss.IEnumerator.getEnumerator($0);while($enum1.moveNext()){var $1=$enum1.current;this.$14.add($1.get_element().childNodes[1].firstChild.firstChild.firstChild);}}},getHintCount:function(){var $0=this.$14.length;if(this._iHighlightedSubItem>=0){$0+=1;}return $0;},getDynamicShowMeElement:function(){if(this.$14.length>0){var $0=this.$14[0];var $1=this.get_parentMenu().get_scrollView();var $2=$1.get_scrollElem();if(ss.isValue($2)){var $3=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientRect($2);var $4=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientRect($0);while(!$3.isRectInRect($4)){if($4.get_bottom()>$3.get_bottom()){this.get_parentMenu().sendMessage('msg_scroll_menu',true,null);}else{this.get_parentMenu().sendMessage('msg_scroll_menu',false,null);}$4=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientRect($0);}}this.$14.remove($0);return $0;}else if(this._iHighlightedSubItem>=0){var $5=this._oContainerCtrl.get_controls()[this._iHighlightedSubItem].get_element();var $6=this.get_parentMenu().get_scrollView();var $7=$6.get_scrollElem();if(ss.isValue($7)){var $8=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientRect($7);var $9=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientRect($5);while(!$8.isRectInRect($9)){if($9.get_bottom()>$8.get_bottom()){this.get_parentMenu().sendMessage('msg_scroll_menu',true,null);}else{this.get_parentMenu().sendMessage('msg_scroll_menu',false,null);}$9=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientRect($5);}}return $5;}return null;},$15:function(){this.attachMessage('eONDetectMode',ss.Delegate.create(this,this.onMsgDetectMode));this.attachMessage(Kepler.Engine.UI.Controls.ButtonBase.msG_BUTTON_CLICKED,ss.Delegate.create(this,this.onMsgButtonClicked));this.attachMessage(Kepler.Engine.UI.Controls.Control.msG_SELECTION_CHANGED,ss.Delegate.create(this,this.onMsgSelectionChanged));},onMsgButtonClicked:function(wParam,lParam){return null;},onMsgDetectMode:function(wParam,lParam){return this.get_parentMenu().sendMessage('eONDetectMode',null,null);},onMsgSelectionChanged:function(wParam,lParam){return null;},attachMessage:function(strMessage,msgHandler){this._mapMessageHandlers[strMessage]=msgHandler;},detachMessage:function(strMessage){delete this._mapMessageHandlers[strMessage];},sendMessage:function(strMessage,wParam,lParam){var $0=this._mapMessageHandlers[strMessage];if($0!=null){return $0(wParam,lParam);}return null;},postMessage:function(strMessage,wParam,lParam,bRemovePreviousMsgs){Kepler.Framework.Core.Messaging.PostMessageManager.postMessage(this,strMessage,wParam,lParam,bRemovePreviousMsgs);}}
Kepler.Engine.UI.Menu.BaseMenuItem=function(){this.$2=-1;this._iMenuFocusSubItem=-1;this._iHighlightedSubItem=-1;this.$5=true;this.$4=-1;this.$6=false;this._bIsCheckable=false;this.$7=true;this._strImageStyle=null;this.$8='';this._strKbrdShortcut='';this.$9=null;this._eToState=Kepler.Framework.UI.Controls.EItemState.eNormal;this.$A=new Kepler.Framework.UI.Rect(0,0,0,0);this.$B=new Kepler.Framework.UI.Rect(0,0,0,0);this._oTTParams=null;this.$C=null;if(ss.isNullOrUndefined(Kepler.Engine.UI.Menu.BaseMenuItem.$D)){Kepler.Engine.UI.Menu.BaseMenuItem.$D=document.getElementById('player-span-dbg-flash');}this._elemMenuItem=null;}
Kepler.Engine.UI.Menu.BaseMenuItem.prototype={$2:0,get_id:function(){return this.$2;},set_id:function(value){this.$2=value;return value;},$3:0,get_popUpMenuNo:function(){return this.$3;},set_popUpMenuNo:function(value){this.$3=value;return value;},$4:0,get_highlight:function(){return this.$4;},set_highlight:function(value){if(this.$4!==value){this.highlightSubItem(this._elemMenuItem,value);this.$4=value;if((Kepler.Engine.UI.Menu.MenuItemNavigator).isInstanceOfType(this)&&this.$4>=0){this._iHighlightedSubItem=this.$4;}else{this._iHighlightedSubItem=-1;}}return value;},get_menuSubItemCount:function(){return 0;},_iCheckedSubItem:0,get_checkedSubItem:function(){return this._iCheckedSubItem;},set_checkedSubItem:function(value){this._iCheckedSubItem=value;return value;},_elemMenuItem:null,get_elemMenuItem:function(){return this._elemMenuItem;},_iMenuFocusSubItem:0,get_menuFocusSubItem:function(){return this._iMenuFocusSubItem;},set_menuFocusSubItem:function(value){this._iMenuFocusSubItem=value;return value;},$5:false,get_enabled:function(){return this.$5;},set_enabled:function(value){this.$5=value;this.drawItem(null,this._eToState);return value;},$6:false,get_checked:function(){return this.$6;},set_checked:function(value){this.$6=value;this.drawItem(null,this._eToState);return value;},_bIsCheckable:false,get_isCheckable:function(){return this._bIsCheckable;},set_isCheckable:function(value){this._bIsCheckable=value;return value;},get_lineAfterImage:function(){return false;},set_lineAfterImage:function(value){return value;},get_isSeperator:function(){return false;},get_actionableItem:function(){return true;},$7:false,get_recreateItem:function(){return this.$7;},set_recreateItem:function(value){this.$7=value;return value;},_eToState:0,get_state:function(){return this._eToState;},$8:null,get_text:function(){if(String.isNullOrEmpty(this.$8)){return '';}else{return this.$8;}},set_text:function(value){this.$8=value;return value;},_strKbrdShortcut:null,get_kbrdShortcut:function(){return this._strKbrdShortcut;},set_kbrdShortcut:function(value){this._strKbrdShortcut=value;return value;},_strImageStyle:null,get_imageStyle:function(){return this._strImageStyle;},set_imageStyle:function(value){this._strImageStyle=value;return value;},$9:null,get_actionString:function(){var $0=this.$9;if(String.isNullOrEmpty($0)||!$0.trim()){$0=this.get_text();if(ss.isValue($0)){$0=$0.replaceAll('<u>','');$0=$0.replaceAll('</u>','');}}if(String.isNullOrEmpty($0)||!$0.trim()){var $1=this.get_ttParams();if(ss.isValue($1)&&!String.isNullOrEmpty($1._strTextualData)){$0=$1._strTextualData.split(Kepler.Framework.Core.Seperators.z_CARON)[0];}}if(this.get_menuSubItemCount()>0&&(Kepler.Engine.UI.Menu.MenuItemNavigator).isInstanceOfType(this)){$0+=(String.isNullOrEmpty($0))?'':' -> ';$0+=(this).getActionString();}return $0;},$A:null,get_rectangle:function(){return this.$A;},get_width:function(){return this.$A.get_width();},set_width:function(value){this.$A.set_width(value);return value;},get_height:function(){return this.$A.get_height();},set_height:function(value){this.$A.set_height(value);return value;},$B:null,get_originalWidth:function(){return this.$B.get_width();},set_originalWidth:function(value){this.$B.set_width(value);return value;},get_originalHeight:function(){return this.$B.get_height();},set_originalHeight:function(value){this.$B.set_height(value);return value;},$C:null,get_parentMenu:function(){return this.$C;},set_parentMenu:function(value){this.$C=value;return value;},_oTTParams:null,get_ttParams:function(){return this._oTTParams;},set_ttParams:function(value){this._oTTParams=value;return value;},get_tooltip:function(){if(ss.isValue(this._oTTParams)){return this._oTTParams._strTextualData;}return '';},set_tooltip:function(value){if(ss.isValue(this._oTTParams)){this._oTTParams._strTextualData=value;}return value;},get_isMenuItemCmdBlocked:function(){return true;},_iHighlightedSubItem:0,$E:false,get_disposed:function(){return this.$E;},initialise:function(iId,strText,strImageStyle,strAcc,iWidth,iHeight,iPopUpMenuNo){this.$2=iId;this.$3=iPopUpMenuNo;this._strImageStyle=strImageStyle;this.$8=strText;this.$9=strAcc;this.$A.set_width(iWidth);this.$A.set_height(iHeight);this.$B.set_width(iWidth);this.$B.set_height(iHeight);},createMenuItem:function(elmMenuItem,iLeft,iTop){this.setMenuItemID(elmMenuItem);},setMenuItemID:function(elmMenuItem){if(this.$2!==-1){elmMenuItem.id=(this.get_parentMenu().get_msgParent().get_parent()).get_app().get_idPrefix()+'menu_'+this.$2;}},changeState:function(eToState,element){this._eToState=eToState;this.drawItem(element,this._eToState);},drawItem:function(element,eState){switch(eState){case Kepler.Framework.UI.Controls.EItemState.eHover:Kepler.Engine.UI.Helper.HtmlCssHelper.addElementAttribute(element,'aria-checked','true');break;case Kepler.Framework.UI.Controls.EItemState.eNormal:default:Kepler.Engine.UI.Helper.HtmlCssHelper.addElementAttribute(element,'aria-checked','false');break;}},highlightSubItem:function(elmMenuItem,iSubItemIndex){if(ss.isValue(elmMenuItem)&&iSubItemIndex!==this.$4){if(iSubItemIndex<=0){Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(elmMenuItem,'box_shadow_visual_hint');elmMenuItem.style.zIndex=0;}else{Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(elmMenuItem,'box_shadow_visual_hint');}}return false;},reflectText:function(){},getComputedHeight:function(){return this.get_rectangle().get_height();},$F:function($p0){return true;},getTtLaunchParams:function(ptShowTT){if(Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()||this.get_popUpMenuNo()>0){return null;}var $0=this.get_ttParams();var $1=false;if(ss.isValue($0)){$1=Kepler.Engine.UI.Controls.Tooltip.TooltipManager.isActionableTooltip(this.get_ttParams()._eType);}return new Kepler.Engine.UI.Controls.Tooltip.TooltipLaunch_Params($0,$1,null,false,this.get_id(),this);},disableImage:function(element){if(this.get_enabled()){Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(element,'img-disabled');element.style.opacity='1';}else{Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(element,'img-disabled');element.style.opacity='0.536';}},$10:function(){var $0=false;if(ss.isValue(this.$C)){$0=this.$C.$4_2A();}return $0;},isMenuItemHighlighted:function(iHighlightIdx){var $0=false;iHighlightIdx=(iHighlightIdx===1000)?this.get_highlight():iHighlightIdx;if(Type.canCast(this,Kepler.Engine.UI.Menu.WindowsMenuItem)){$0=iHighlightIdx>0;}else if(Type.canCast(this,Kepler.Engine.UI.Menu.MenuItemNavigator)){$0=iHighlightIdx>=0;}else{$0=iHighlightIdx>0;}return $0;},onLButtonDown:function(element){var $0=Type.getInstanceType(this).get_name()+'<br>ID: '+this.get_id().toString()+'<br>Text: '+this.get_text();if(ss.isValue(Kepler.Engine.UI.Menu.BaseMenuItem.$D)){Kepler.Engine.UI.Menu.BaseMenuItem.$D.innerHTML=$0;}return true;},onLButtonUp:function(element){if((this.$3===-1)&&this.get_actionableItem()){this.get_parentMenu().get_msgParent().onMenuItemCommand(this,true);this.get_parentMenu().get_msgParent().sendMessage('msg_hide_menu',null,null);}else if((this.$3!==-1)){if(Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){this.get_parentMenu().showPopUp(element,this,null);}}return true;},dispose:function(){if(!this.$E){this.$E=true;this.onUnload();}},onUnload:function(){this._elemMenuItem=null;this.$C=null;this._oTTParams=null;this._elemMenuItem=null;},$11:function($p0){return this.$C.$4_33($p0);}}
Kepler.Engine.UI.Menu.MenuItemNavigator=function(){Kepler.Engine.UI.Menu.MenuItemNavigator.initializeBase(this);this.$12=Kepler.Engine.UI.Menu.MenuWnd.rtclK_MENU_DONT_SHOW;this._lstSubItemsElement=[];}
Kepler.Engine.UI.Menu.MenuItemNavigator.prototype={get_menuHoverSubItem:function(){if(ss.isValue(this._elemActiveMenuSubItem)){return this._lstSubItemsElement.indexOf(this._elemActiveMenuSubItem);}return -1;},_lstSubItemsElement:null,get_subItemsElement:function(){return this._lstSubItemsElement;},_oActiveMenuSubItem:null,get_activeMenuSubItem:function(){return this._oActiveMenuSubItem;},set_activeMenuSubItem:function(value){this._oActiveMenuSubItem=value;return value;},_elemActiveMenuSubItem:null,get_activeMenuSubItemElement:function(){return this._elemActiveMenuSubItem;},set_activeMenuSubItemElement:function(value){this._elemActiveMenuSubItem=value;return value;},$12:0,get_rtClickMenu:function(){return this.$12;},set_rtClickMenu:function(value){this.$12=value;return value;},handleKeyLeft:function(){return this._elemActiveMenuSubItem;},handleKeyRight:function(){return this._elemActiveMenuSubItem;},scrollToItem:function(iItemIdx){},onRButtonUp:function(mouseEvtArgs,element){return true;},isHoverOnFirstCol:function(){return true;},onUnload:function(){var $enum1=ss.IEnumerator.getEnumerator(this._lstSubItemsElement);while($enum1.moveNext()){var $0=$enum1.current;if(ss.isValue($0)&&ss.isValue($0.parentNode)){$0.parentNode.removeChild($0);}}this._lstSubItemsElement.clear();this._oActiveMenuSubItem=null;this._elemActiveMenuSubItem=null;Kepler.Engine.UI.Menu.MenuItemNavigator.callBaseMethod(this, 'onUnload');},getIndexOfActiveElmSubMenuItem:function(){return this._lstSubItemsElement.indexOf(this._elemActiveMenuSubItem);}}
Kepler.Engine.UI.Menu.MenuItemScrollAndNav=function(){Kepler.Engine.UI.Menu.MenuItemScrollAndNav.initializeBase(this);this._sbVertical=new Kepler.Engine.UI.Controls.VScrollBar(new Kepler.Framework.UI.Point(0,0),new Kepler.Framework.UI.Size(18,200));this._sbVertical.set_iSendMsgParent(this);this._sbVertical.set_mfcBehaviour(false);this._sbVertical.set_scrollBarType(Kepler.Engine.UI.Controls.EScrollBarType.APP);this._eScrollbarMode=Kepler.Engine.UI.Controls.EScrollbarMode.AUTO;this.$14=new Kepler.Framework.UI.Scroller.ScrollStruct();this.$14.scrollElement=this._elemScroller;this.$14.onScrollMove=ss.Delegate.create(this,this.$1A);this.$13={};this.$16();}
Kepler.Engine.UI.Menu.MenuItemScrollAndNav.prototype={$13:null,_elemScroller:null,_sbVertical:null,_eScrollbarMode:0,get_scrollbarMode:function(){return this._eScrollbarMode;},set_scrollbarMode:function(value){this._eScrollbarMode=value;return value;},$14:null,$15:null,get_scrollerView:function(){return this.$15;},get_isScrollbarVisible:function(){return this._sbVertical.get_visible();},itemCreated:function(){this.$14.scrollElement=this._elemScroller;this.$15=this.get_parentMenu().setScrollable(this.$14);this.$15.setOptions(false,false,false,true,5);this.updateScrollBar(this.get_rectangle().get_height(),this.getComputedHeight());},updateScrollBar:function(iVisibleHeight,iScrollableHeight){var $0=0;var $1=iScrollableHeight-iVisibleHeight;var $2=true;if($1<=$0){$1=$0;$2=false;}else{$2=true;}if(this.get_scrollbarMode()===Kepler.Engine.UI.Controls.EScrollbarMode.NONE){this._sbVertical.show(false);}else if(this.get_scrollbarMode()===Kepler.Engine.UI.Controls.EScrollbarMode.AUTO){this._sbVertical.show($2);}else if(this.get_scrollbarMode()===Kepler.Engine.UI.Controls.EScrollbarMode.shoW_ALWAYS){this._sbVertical.set_enable($2);}Kepler.Engine.UI.Helper.HtmlCssHelper.setElementTop(this._sbVertical.get_element(),'0');this._sbVertical.set_height(iVisibleHeight);this._sbVertical.setBounds($0,$1);this._sbVertical.set_pageStep(iVisibleHeight);this._sbVertical.set_curPos(0);if(this.get_isScrollbarVisible()&&ss.isValue(this.$15)){this.$15.refresh();this.$15.setOptions(false,false,false,true,5);}},resetScroll:function(){var $0=this._sbVertical.get_minPos()-this._sbVertical.get_curPos();this._sbVertical.performScroll($0);},onMouseWheel:function(evt){var $0=-evt.get_delta()/3;var $1=24;var $2=$0*$1;$2=(($2+this._sbVertical.get_curPos())>this._sbVertical.get_maxPos())?(this._sbVertical.get_maxPos()-this._sbVertical.get_curPos()):$2;$2=(($2+this._sbVertical.get_curPos())<this._sbVertical.get_minPos())?(this._sbVertical.get_minPos()-this._sbVertical.get_curPos()):$2;this._sbVertical.performScroll($2);return $2;},$16:function(){this.attachMessage(Kepler.Engine.UI.Controls.ScrollBarBase.msG_SCROLL_POS_CHANGED,ss.Delegate.create(this,this.$17));this.attachMessage(Kepler.Engine.UI.Controls.ScrollBarBase.msG_SCROLL_POS_CHANGING,ss.Delegate.create(this,this.$18));},$17:function($p0,$p1){var $0=($p1);if($0===this._sbVertical){this.$19(this._sbVertical.get_curPos());}return null;},$18:function($p0,$p1){var $0=($p1);if($0===this._sbVertical){this.$19(this._sbVertical.get_curPos());}return null;},$19:function($p0){if(ss.isValue(this.$15)){$p0=-$p0;var $0=this.$15.get_y();var $1=this.$15.get_maxScrollY();var $2=this.$15.get_minScrollY();var $3=$0-$p0;if($3>($0-$1)){$3=($0-$1);}if($3<($0-$2)){$3=($0-$2);}this.$15.scrollToY($3,0);}},$1A:function(){if(ss.isValue(this.$15)&&this.get_isScrollbarVisible()){var $0=-this.$15.get_y();this._sbVertical.set_curPos($0);}},attachMessage:function(strMessage,msgHandler){this.$13[strMessage]=msgHandler;},detachMessage:function(strMessage){delete this.$13[strMessage];},sendMessage:function(strMessage,wParam,lParam){var $0=this.$13[strMessage];if($0!=null){return $0(wParam,lParam);}return null;},postMessage:function(strMessage,wParam,lParam,bRemovePreviousMsgs){Kepler.Framework.Core.Messaging.PostMessageManager.postMessage(this,strMessage,wParam,lParam,bRemovePreviousMsgs);},onUnload:function(){Kepler.Engine.UI.Menu.MenuItemScrollAndNav.callBaseMethod(this, 'onUnload');Object.clearKeys(this.$13);this._sbVertical.dispose();this._sbVertical=null;}}
Kepler.Engine.UI.Menu.ImageItem=function(oToolTipParams,strAccelerator,strKbrdShortcut,strActionStirng,strImageSrc,ptImgPosition,oParentGroup){this.$7=strAccelerator;this.$8=(ss.isNullOrUndefined(strKbrdShortcut))?'':strKbrdShortcut;this.$9=(ss.isNullOrUndefined(strActionStirng))?'':strActionStirng;this.$A=oToolTipParams;this.$0=strImageSrc;this.$3=oParentGroup;this.$4=this.$3.get_parentGrid().get_parent();this.$5=(ss.isValue(ptImgPosition))?ptImgPosition.clone():null;this.$1=this.$3.get_parentGrid().get_itemSize();this.$2=this.$3.get_parentGrid().get_imageSize();}
Kepler.Engine.UI.Menu.ImageItem.prototype={$0:null,get_imageSrc:function(){return this.$0;},$1:null,$2:null,$3:null,$4:null,get_parentMenuItem:function(){return this.$4;},$5:null,get_imgPosition:function(){return this.$5;},$6:null,get_itemElement:function(){return this.$6;},$7:null,get_accelerator:function(){return this.$7;},$8:null,get_kbrdShortcut:function(){return this.$8;},$9:null,get_actionString:function(){return this.$9;},$A:null,get_ttParams:function(){if(ss.isValue(this.$A)){if(Kepler.Engine.UI.Controls.Tooltip.TooltipManager.isActionableTooltip(this.$A._eType)){this.$A._elemScalable=this.$3.get_parentGrid().get_parent().get_activeMenuSubItemElement().firstChild;this.$A._iHighlight=((this.$4.get_menuHoverSubItem()===this.$4.get_highlight())?1:0);if(this.$A._eType===Kepler.Engine.UI.Controls.Tooltip.ETooltipTypes.actionablE_SCALE){this.$A._fScaleFactor=1.5;}}}return this.$A;},$B:false,get_disposed:function(){return this.$B;},createImageItem:function(elemTd){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div','','relative',null,null,this.$1.get_width(),this.$1.get_height(),'',null);$0.setAttribute('name','menuitem');Kepler.Engine.UI.Helper.HtmlCssHelper.addChild(elemTd,$0,null);$0.menuitem=this.$3.get_parentGrid().get_parent();this.$3.get_itemsElement().add($0);this.$3.get_parentGrid().get_parent().get_subItemsElement().add($0);this.$6=$0;var $1=((this.$1.get_width()-this.$2.get_width())/2);var $2=((this.$1.get_height()-this.$2.get_height())/2);var $3=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div',null,'absolute',$1,$2,this.$2.get_width(),this.$2.get_height(),null,null);Kepler.Engine.UI.Helper.HtmlCssHelper.addChild($0,$3,null);$3.className=this.$0;if(ss.isValue(this.$5)){$3.style.backgroundPosition=this.$5.get_x()+'px '+this.$5.get_y()+'px';}},dispose:function(){if(!this.$B){this.$B=true;this.onUnload();}},onUnload:function(){this.$3=null;this.$A=null;}}
Kepler.Engine.UI.Menu.ImageGroup=function(strHeader,strImgSrc,ptImgPosition,oParentGrid,iType){this.$1=-1;this.$0=oParentGrid.get_columns();this.$3=strHeader;this._strImgSrc=strImgSrc;this.$7=null;if(ss.isValue(ptImgPosition)){this.$7=ptImgPosition.clone();}if(ss.isValue(iType)){this.$1=iType;}this.$5=[];this.$4=[];this.$6=[];this.$2=oParentGrid;}
Kepler.Engine.UI.Menu.ImageGroup.prototype={$0:0,get_itemCount:function(){if(this.$1===-1||!this.$1){return this.$5.length;}else{return this.$4.length;}},get_imageType:function(){return this.$1;},$2:null,get_parentGrid:function(){return this.$2;},$3:null,get_heading:function(){return this.$3;},_strImgSrc:null,get_imageSource:function(){return this._strImgSrc;},set_imageSource:function(value){for(var $0=0;$0<this.$4.length;$0++){this.$4[$0].set_imageSrc(value);}return value;},$4:null,get_specialItem:function(){return this.$4;},$5:null,get_items:function(){return this.$5;},$6:null,get_itemsElement:function(){return this.$6;},$7:null,get_imgPosition:function(){return this.$7;},set_imgPosition:function(value){this.$7=value;return value;},$8:false,get_disposed:function(){return this.$8;},addImageItem:function(oTooltipParams,strAccelerator,strKbrdShortcut,strActionString,strCssCls,ptImgPosition){var $0=null;if((String).isInstanceOfType(oTooltipParams)){$0=new Kepler.Engine.UI.Controls.Tooltip.Tooltip_Params(Kepler.Engine.UI.Controls.Tooltip.ETooltipTypes.simplE_DESCR,oTooltipParams,null);}else if((Kepler.Engine.UI.Controls.Tooltip.Tooltip_Params).isInstanceOfType(oTooltipParams)){$0=oTooltipParams;}if(ss.isValue(this.$7)&&ss.isValue(ptImgPosition)){this.$7=ptImgPosition;}if(!String.isNullOrEmpty(strCssCls)){this._strImgSrc=strCssCls;}this.$5.add(new Kepler.Engine.UI.Menu.ImageItem($0,strAccelerator,strKbrdShortcut,strActionString,this._strImgSrc,this.$7,this));if(ss.isValue(this.$7)){this.$7.set_x(this.$7.get_x()-this.$2.get_imageSize().get_width());}},$9:function($p0,$p1,$p2,$p3,$p4){if(!String.isNullOrEmpty($p4)){this._strImgSrc=$p4;}this.$4.add(new Kepler.Engine.UI.Menu.ImageSpecialItem($p0,$p1,$p2,$p3,$p4,this));if(ss.isValue(this.$7)){this.$7.set_x(this.$7.get_x()-this.$2.get_imageSize().get_width());}},addGroupHeaderRow:function(elemTable){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('tr','imagegrid-row','relative',null,null,null,null,'gridTableRow',null);Kepler.Engine.UI.Helper.HtmlCssHelper.addChild(elemTable,$0,null);var $1={};$1['colspan']=(this.$0+1).toString();$1['IsSeperator']='true';var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('td','heading','relative',null,null,null,null,'gridTableCell class_menuitem_greySep',$1);Kepler.Engine.UI.Helper.HtmlCssHelper.addChild($0,$2,null);var $3=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div',null,'relative',0,0,null,null,'class_greySep_text '+'class_menu_font '+'class_menu_item_text ',null);Kepler.Engine.UI.Helper.HtmlCssHelper.setElementInnerHtml($3,this.$3);Kepler.Engine.UI.Helper.HtmlCssHelper.setElementLineHeight($3,23+'px');$3.style.textAlign='left';$3.style.marginLeft='9px';Kepler.Engine.UI.Helper.HtmlCssHelper.addChild($2,$3,null);},addGroupItems:function(elemTable,bCreateDummyCell){var $0=0;var $1=this.get_itemCount();var $2=Math.ceil($1/this.$0);var $3=this.$1;if(!ss.isNullOrUndefined($3)&&$3>0){this.$6.clear();for(var $4=0;$4<=$2;$4++){var $5=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('tr','imagegrid-row','relative',null,null,null,null,'gridTableRow',null);Kepler.Engine.UI.Helper.HtmlCssHelper.addChild(elemTable,$5,null);if(!$4){this.$A($5,$2,$3);}else{for(var $6=1;$6<=this.$0;$6++){if($0>($1-1)){break;}else{var $7=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('td','menusubitem','relative',null,null,null,null,'gridTableCell',null);Kepler.Engine.UI.Helper.HtmlCssHelper.addChild($5,$7,null);this.$4[(($4-1)*this.$0)+($6-1)].createImageSpecialItem($7);$0++;}}if(bCreateDummyCell){this.$B(bCreateDummyCell,$5);bCreateDummyCell=false;}}}}else{for(var $8=1;$8<=$2;$8++){var $9=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('tr','imagegrid-row','relative',null,null,null,null,'gridTableRow',null);Kepler.Engine.UI.Helper.HtmlCssHelper.addChild(elemTable,$9,null);for(var $A=1;$A<=this.$0;$A++){if($0>($1-1)){break;}else{var $B=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('td','menusubitem','relative',null,null,null,null,'gridTableCell',null);Kepler.Engine.UI.Helper.HtmlCssHelper.addChild($9,$B,null);this.$5[(($8-1)*this.$0)+($A-1)].createImageItem($B);$0++;}}if(bCreateDummyCell){this.$B(bCreateDummyCell,$9);bCreateDummyCell=false;}}}},$A:function($p0,$p1,$p2){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('td','menusubitem','relative',null,null,null,null,'gridTableCell',null);$0.setAttribute('rowspan',$p1+1);$0.style.verticalAlign='top';Kepler.Engine.UI.Helper.HtmlCssHelper.addChild($p0,$0,null);var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div',null,'relative',null,null,null,null,'gridImageIcon',null);$1.style.backgroundPosition=(-17*($p2-1))+'px '+'0px';Kepler.Engine.UI.Helper.HtmlCssHelper.addChild($0,$1,null);},$B:function($p0,$p1){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('td','dummy','relative',null,null,null,null,'gridTableCell',null);Kepler.Engine.UI.Helper.HtmlCssHelper.addChild($p1,$0,null);$0.style.width='100%';},$C:function(){this.$5.clear();},$D:function($p0){if(this.$6.contains($p0)){return (!(this.$6.indexOf($p0)%this.$0));}return false;},dispose:function(){if(!this.$8){this.$8=true;this.onUnload();}},onUnload:function(){this.$2=null;var $enum1=ss.IEnumerator.getEnumerator(this.$6);while($enum1.moveNext()){var $0=$enum1.current;if(ss.isValue($0)&&ss.isValue($0.parentNode)){$0.parentNode.removeChild($0);}}this.$6.clear();var $enum2=ss.IEnumerator.getEnumerator(this.$5);while($enum2.moveNext()){var $1=$enum2.current;$1.dispose();}this.$5.clear();},$E:function(){this.$4.clear();}}
Kepler.Engine.UI.Menu.ImageGrid=function(oParent){this.$0=0;this.$8=oParent;this.$1=new Kepler.Framework.UI.Size(0,0);this.$2=new Kepler.Framework.UI.Size(0,0);this.$6=new Kepler.Framework.UI.Point(0,0);this.$4=null;this.$5=[];}
Kepler.Engine.UI.Menu.ImageGrid.prototype={$0:0,get_columns:function(){return this.$0;},set_columns:function(value){this.$0=value;return value;},$1:null,get_itemSize:function(){return this.$1;},set_itemSize:function(value){this.$1=value;return value;},$2:null,get_imageSize:function(){return this.$2;},set_imageSize:function(value){this.$2=value;return value;},$3:0,get_leftMargin:function(){return this.$3;},set_leftMargin:function(value){this.$3=value;return value;},$4:null,get_element:function(){return this.$4;},_elemCheckedItem:null,$5:null,get_groups:function(){return this.$5;},$6:null,get_imgPosition:function(){return this.$6;},set_imgPosition:function(value){this.$6=value;return value;},$7:null,get_spriteImageSource:function(){return this.$7;},set_spriteImageSource:function(value){this.$7=value;return value;},$8:null,get_parent:function(){return this.$8;},$9:null,get_activeImageGroup:function(){return this.$9;},set_activeImageGroup:function(value){this.$9=value;return value;},$A:false,get_disposed:function(){return this.$A;},addGroup:function(strHeader,iImageType){var $0=this.$6;var $1=this.$7;if(ss.isValue($0)){var $3=this.$5[this.$5.length-1];if(ss.isValue($3)){$0=$3.get_imgPosition();$1=$3.get_imageSource();}}var $2;if(ss.isValue(iImageType)){$2=new Kepler.Engine.UI.Menu.ImageGroup(strHeader,$1,$0,this,iImageType);}else{$2=new Kepler.Engine.UI.Menu.ImageGroup(strHeader,$1,$0,this);}this.$5.add($2);return $2;},$B:function($p0,$p1){var $0=0;var $enum1=ss.IEnumerator.getEnumerator(this.get_groups());while($enum1.moveNext()){var $1=$enum1.current;if($1===$p1){break;}$0+=$1.get_itemCount();}return $0+$p0;},$C:function($p0){if(this.$9==null){return false;}var $enum1=ss.IEnumerator.getEnumerator(this.get_groups());while($enum1.moveNext()){var $0=$enum1.current;if($0===this.$9){break;}$p0-=$0.get_itemCount();}return ($p0<this.$0);},$D:function($p0){if(ss.isValue($p0)){var $enum1=ss.IEnumerator.getEnumerator(this.get_groups());while($enum1.moveNext()){var $0=$enum1.current;if($0.get_itemsElement().contains($p0)){return $0.get_items()[$0.get_itemsElement().indexOf($p0)];}}}return null;},$E:function($p0){if(ss.isValue($p0)){var $enum1=ss.IEnumerator.getEnumerator(this.get_groups());while($enum1.moveNext()){var $0=$enum1.current;if($0.get_itemsElement().contains($p0)){return $0.get_specialItem()[$0.get_itemsElement().indexOf($p0)];}}}return null;},$F:function($p0){var $0=null;var $1=0;var $enum1=ss.IEnumerator.getEnumerator(this.get_groups());while($enum1.moveNext()){var $2=$enum1.current;var $enum2=ss.IEnumerator.getEnumerator($2.get_items());while($enum2.moveNext()){var $3=$enum2.current;if($1===$p0){return $3;}$1++;}}return $0;},setImageSize:function(iItemWidth,iItemHeight,iImgWidth,iImgHeight){if(!isNaN(iItemWidth)){this.$1.set_width(iItemWidth);}if(!isNaN(iItemHeight)){this.$1.set_height(iItemHeight);}if(!isNaN(iImgWidth)){this.$2.set_width(iImgWidth);}if(!isNaN(iImgHeight)){this.$2.set_height(iImgHeight);}},onCreate:function(){this.setEnabledDisabledState(this.$8.get_enabled());this.$10(this.$8.get_checkedSubItem());},setEnabledDisabledState:function(bIsEnabled){if(ss.isValue(this.$8)){for(var $0=0;$0<this.$8.get_menuSubItemCount();$0++){var $1=this.$8.get_subItemsElement()[$0];if(ss.isValue($1)){this.$8.disableImage($1);}}}},$10:function($p0){var $0=null;if($p0>=0&&$p0<this.$8.get_subItemsElement().length){$0=this.$8.get_subItemsElement()[$p0];}if(this._elemCheckedItem!==$0){if(ss.isValue(this._elemCheckedItem)){var $1=this._elemCheckedItem;this._elemCheckedItem=null;this.setItemState($1,Kepler.Framework.UI.Controls.EItemState.eNormal);}if(ss.isValue($0)){this._elemCheckedItem=$0;this.setItemState(this._elemCheckedItem,Kepler.Framework.UI.Controls.EItemState.eNormal);}}},setItemState:function(elemItem,eState){if(ss.isValue(elemItem)){var $0='';var $1=elemItem.childNodes[0];if(eState===Kepler.Framework.UI.Controls.EItemState.eNormal){if(ss.isValue(this._elemCheckedItem)){if(elemItem===this._elemCheckedItem){$0=Kepler.Engine.Core.EngineApp.get_engine().get_currentApp().getAppFrame().get_themeDetails().get_colorChecked();}}if(ss.isValue($1)){$1.style.opacity='';}}else if(eState===Kepler.Framework.UI.Controls.EItemState.eHover){$0=Kepler.Engine.Core.EngineApp.get_engine().get_currentApp().getAppFrame().get_themeDetails().get_colorHover();if(ss.isValue($1)){$1.style.opacity='';}}else if(eState===Kepler.Framework.UI.Controls.EItemState.ePressed){$0=Kepler.Engine.Core.EngineApp.get_engine().get_currentApp().getAppFrame().get_themeDetails().get_colorPressed();if(ss.isValue($1)){$1.style.opacity='0.436';}}else if(eState===9){$0=Kepler.Engine.Core.EngineApp.get_engine().get_currentApp().getAppFrame().get_themeDetails().get_colorPressed();if(ss.isValue($1)){$1.style.opacity='';}}Kepler.Engine.UI.Helper.HtmlCssHelper.setElementBackgroundColor(elemItem,$0);}},create:function(elmMenuItem,Rectangle){elmMenuItem.style.overflowY='hidden';elmMenuItem.style.overflowX='hidden';if(this.$4!=null){this.$4=null;}this.$4=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('table','imagegrid-table',null,null,null,null,null,'gridTable',null);this.$4.style.marginLeft=this.$3+'px';this.$4.style.width='100%';this.createGroups(this.$4);this.onCreate();Kepler.Engine.UI.Helper.HtmlCssHelper.addChild(elmMenuItem,this.$4,null);},createGroups:function(elemTable){var $0=0;var $1=false;var $enum1=ss.IEnumerator.getEnumerator(this.$5);while($enum1.moveNext()){var $2=$enum1.current;if(ss.isValue($2)){$2.addGroupHeaderRow(elemTable);$1=($2.get_itemCount()>=this.$0&&!$1);$2.addGroupItems(elemTable,$1);$0+=$2.get_itemCount();}}},getActionString:function(iIndex){var $0='';var $1=this.$F(iIndex);if(ss.isValue($1)){$0=$1.get_actionString();}if(String.isNullOrEmpty($0)||!$0.trim()){var $2=this.get_parent().get_ttParams();if(ss.isValue($2)&&!String.isNullOrEmpty($2._strTextualData)){$0=$2._strTextualData.split(Kepler.Framework.Core.Seperators.z_CARON)[0];}}if(String.isNullOrEmpty($0)||!$0.trim()){var $3=Math.floor(iIndex/this.$0);var $4=iIndex%this.$0;$3+=1;$4+=1;$0='Row:'+$3+',Col:'+$4;}return $0;},$11:function(){this._elemCheckedItem=null;var $enum1=ss.IEnumerator.getEnumerator(this.$5);while($enum1.moveNext()){var $0=$enum1.current;$0.$C();}this.$5.clear();},dispose:function(){if(!this.$A){this.$A=true;this.onUnload();}},onUnload:function(){if(ss.isValue(this.$4)&&ss.isValue(this.$4.parentNode)){this.$4.parentNode.removeChild(this.$4);}this.$4=null;this._elemCheckedItem=null;var $enum1=ss.IEnumerator.getEnumerator(this.$5);while($enum1.moveNext()){var $0=$enum1.current;$0.dispose();}this.$5.clear();this.$8=null;this.$9=null;}}
Kepler.Engine.UI.Menu.MiscMenuItem=function(bDefaultMenu){Kepler.Engine.UI.Menu.MiscMenuItem.initializeBase(this);if(!ss.isNullOrUndefined(bDefaultMenu)&&!bDefaultMenu){this._oImageGrid=new Kepler.Engine.UI.Menu.IconStyleMenu();}else{this._oImageGrid=new Kepler.Engine.UI.Menu.ImageGrid(this);}this.$1B=new Kepler.Framework.UI.Size(-1,-1);}
Kepler.Engine.UI.Menu.MiscMenuItem.prototype={$1B:null,get_itemSize:function(){return this._oImageGrid.get_itemSize();},get_menuSubItemCount:function(){var $0=0;var $enum1=ss.IEnumerator.getEnumerator(this._oImageGrid.get_groups());while($enum1.moveNext()){var $1=$enum1.current;$0+=$1.get_itemCount();}return $0;},_oImageGrid:null,get_grid:function(){return this._oImageGrid;},get_checkedSubItem:function(){return Kepler.Engine.UI.Menu.MiscMenuItem.callBaseMethod(this, 'get_checkedSubItem');},set_checkedSubItem:function(value){Kepler.Engine.UI.Menu.MiscMenuItem.callBaseMethod(this, 'set_checkedSubItem',[value]);this._oImageGrid.$10(value);return value;},get_width:function(){return Kepler.Engine.UI.Menu.MiscMenuItem.callBaseMethod(this, 'get_width');},set_width:function(value){Kepler.Engine.UI.Menu.MiscMenuItem.callBaseMethod(this, 'set_width',[value]);if(this._sbVertical.get_isLoaded()){Kepler.Engine.UI.Helper.HtmlCssHelper.setElementLeft(this._sbVertical.get_element(),(this.get_rectangle().get_width()-18).toString());}return value;},get_columns:function(){return this._oImageGrid.get_columns();},get_scrollbarWidth:function(){return this._sbVertical.get_width();},get_ttParams:function(){var $0=null;var $1=this._oImageGrid.$E(this._elemActiveMenuSubItem);var $2=this._oImageGrid.$D(this._elemActiveMenuSubItem);if(ss.isValue($1)&&$1.get_imageType()>0){$0=$1.get_ttParams();}if(ss.isValue($2)){$0=$2.get_ttParams();}return $0;},set_ttParams:function(value){Kepler.Engine.UI.Menu.MiscMenuItem.callBaseMethod(this, 'set_ttParams',[value]);return value;},addGroup:function(strHeader,iImageType){if(ss.isValue(iImageType)&&!!iImageType){return this._oImageGrid.addGroup(strHeader,iImageType);}else{return this._oImageGrid.addGroup(strHeader);}},setImageGrid:function(colCount,iItemWidth,iItemHeight,iImgWidth,iImgHeight,iLeftMargin,ptImgPosition,strGridImageSrc){this._oImageGrid.set_columns(colCount);this._oImageGrid.setImageSize(iItemWidth,iItemHeight,iImgWidth,iImgHeight);this._oImageGrid.set_leftMargin((ss.isNullOrUndefined(iLeftMargin))?0:iLeftMargin);this._oImageGrid.set_imgPosition(ptImgPosition);this._oImageGrid.set_spriteImageSource(strGridImageSrc);},createMenuItem:function(elmMenuItem,iLeft,iTop){this.setMenuItemID(elmMenuItem);if(ss.isNullOrUndefined(elmMenuItem)){return;}this._lstSubItemsElement.clear();this._elemMenuItem=elmMenuItem;this.get_rectangle().set_left(iLeft);this.get_rectangle().set_top(iTop);Kepler.Engine.UI.Helper.HtmlCssHelper.setElementClassName(elmMenuItem,'class_miscmenuitem');this._elemScroller=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div','imagegrid-table-container','absolute',null,null,null,null,'gridTable-container',null);Kepler.Engine.UI.Helper.HtmlCssHelper.setElementWidth(this._elemScroller,'100%');Kepler.Engine.UI.Helper.HtmlCssHelper.setElementHeight(this._elemScroller,'100%');if(!String.isNullOrEmpty(this._strImageStyle)||this.get_isCheckable()){var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div',null,'absolute',3,1,null,null,this._strImageStyle,null);Kepler.Engine.UI.Helper.HtmlCssHelper.addChild(elmMenuItem,$2,null);Kepler.Engine.UI.Helper.HtmlCssHelper.setElementZindex($2,'1');}var $0=Kepler.Engine.UI.OfficeThemeNs.OfficeTheme.get_instance();var $1=$0.getMenuActivePaletteItems();Kepler.Engine.UI.Menu.SpecialImageDataStructure.$7($1);this._oImageGrid.create(this._elemScroller,this.get_rectangle());Kepler.Engine.UI.Helper.HtmlCssHelper.addChild(elmMenuItem,this._elemScroller,null);Kepler.Engine.UI.Helper.HtmlCssHelper.addChild(elmMenuItem,this._sbVertical.get_element(),null);Kepler.Engine.UI.Helper.HtmlCssHelper.setElementLeft(this._sbVertical.get_element(),(this.get_rectangle().get_width()-this._sbVertical.get_width()).toString());Kepler.Engine.UI.Helper.HtmlCssHelper.setElementTop(this._sbVertical.get_element(),'0');this._sbVertical.set_height(this.get_rectangle().get_height());this._sbVertical.onLoadFromNonControlParent();this._sbVertical.show(true);this.computeSize();},drawItem:function(element,eState){if(ss.isNullOrUndefined(element)){if(ss.isValue(this._elemActiveMenuSubItem)){element=this._elemActiveMenuSubItem;}else{return;}}if(eState===Kepler.Framework.UI.Controls.EItemState.eFocus){this._eToState=eState=Kepler.Framework.UI.Controls.EItemState.eHover;}this._oImageGrid.setItemState(element,eState);if(!this.get_enabled()&&ss.isValue(this.get_parentMenu())){this._oImageGrid.setEnabledDisabledState(this.get_enabled());}if(eState===Kepler.Framework.UI.Controls.EItemState.eNormal){this._oImageGrid.set_activeImageGroup(null);this._elemActiveMenuSubItem=null;}else{this._elemActiveMenuSubItem=element;if(eState===Kepler.Framework.UI.Controls.EItemState.eHover){var $enum1=ss.IEnumerator.getEnumerator(this._oImageGrid.get_groups());while($enum1.moveNext()){var $0=$enum1.current;if($0.get_itemsElement().contains(element)){this._oImageGrid.set_activeImageGroup($0);}}}}},highlightSubItem:function(elmMenuItem,iSubItemIndex){if(this._lstSubItemsElement.length>0){if(this._iHighlightedSubItem>=0&&this._iHighlightedSubItem<this._lstSubItemsElement.length){elmMenuItem=this._lstSubItemsElement[this._iHighlightedSubItem];Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(elmMenuItem,'box_shadow_visual_hint');}if(iSubItemIndex>=0&&iSubItemIndex<this._lstSubItemsElement.length){elmMenuItem=this._lstSubItemsElement[iSubItemIndex];Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(elmMenuItem,'box_shadow_visual_hint');}}return true;},toString:function(){return 'MiscMenuItem';},getItemNo:function(ptPos){return 0;},isFirstRowOfGroup:function(iItemNo){return this._oImageGrid.$C(iItemNo);},computeSize:function(){var $0=$(this._oImageGrid.get_element());if($0.size()===1){this.$1B.set_height($0.height());this.$1B.set_width($0.width());}},getComputedHeight:function(){if(this.$1B.get_height()<=0){this.computeSize();}if(this.$1B.get_height()!==-1){return this.$1B.get_height();}else{return Kepler.Engine.UI.Menu.MiscMenuItem.callBaseMethod(this, 'getComputedHeight');}},$1C:function(){this.$1B.set_width(this.$1B.set_height(-1));this._lstSubItemsElement.clear();this._oImageGrid.$11();},isHoverOnFirstCol:function(){var $0=this.get_menuHoverSubItem();if($0>=0){var $enum1=ss.IEnumerator.getEnumerator(this._oImageGrid.get_groups());while($enum1.moveNext()){var $1=$enum1.current;if($1.$D(this._lstSubItemsElement[$0])){return true;}}}return false;},getActionString:function(){if(ss.isValue(this._oImageGrid)){return this._oImageGrid.getActionString(this.get_menuHoverSubItem());}return '';},getItemFromIdx:function(iIdx){return this._oImageGrid.$F(iIdx);},$11:function($p0){if(Type.canCast($p0,Kepler.Engine.UI.Menu.ImageItem)){this._elemActiveMenuSubItem=($p0).get_itemElement();}return Kepler.Engine.UI.Menu.MiscMenuItem.callBaseMethod(this, '$11',[this]);},onLButtonDown:function(element){Kepler.Engine.UI.Menu.MiscMenuItem.callBaseMethod(this, 'onLButtonDown',[element]);this.changeState(Kepler.Framework.UI.Controls.EItemState.ePressed,element);return true;},onRButtonUp:function(mouseEvtArgs,element){this.changeState(9,element);return true;},handleKeyUp:function(){var $0=0;var $1=this._oImageGrid.get_activeImageGroup();if(ss.isValue(this._elemActiveMenuSubItem)&&ss.isValue($1)){$0=$1.get_itemsElement().indexOf(this._elemActiveMenuSubItem);}else{$1=this._oImageGrid.get_groups()[this._oImageGrid.get_groups().length-1];$0=$1.get_itemCount()-1;this.scrollToItem(this._oImageGrid.$B($0,$1));return $1.get_itemsElement()[$0];}$0=$0-this.get_columns();if($0<0){$0=$0+this.get_columns();var $2=this._oImageGrid.get_groups().indexOf($1);do{$2--;if($2<0){this._elemActiveMenuSubItem=null;return null;}}while(this._oImageGrid.get_groups()[$2].get_itemCount()<($0+1));$1=this._oImageGrid.set_activeImageGroup(this._oImageGrid.get_groups()[$2]);var $3=($1.get_itemCount()-1)%this.get_columns();if($3<$0){$0=(Math.floor($1.get_itemCount()/this.get_columns())*this.get_columns())+($0-this.get_columns());}else{$0=($1.get_itemCount()-1)-($3-$0);}}this.scrollToItem(this._oImageGrid.$B($0,$1));return $1.get_itemsElement()[$0];},handleKeyDown:function(){var $0=0;var $1=this._oImageGrid.get_activeImageGroup();if(ss.isValue(this._elemActiveMenuSubItem)&&ss.isValue($1)){$0=$1.get_itemsElement().indexOf(this._elemActiveMenuSubItem);}else{this.scrollToItem(0);return this._oImageGrid.get_groups()[0].get_itemsElement()[0];}$0=$0+this.get_columns();if($0>=$1.get_itemCount()){$0=$0%this.get_columns();var $2=this._oImageGrid.get_groups().indexOf($1);do{$2++;if($2===this._oImageGrid.get_groups().length){this._elemActiveMenuSubItem=null;return null;}}while(this._oImageGrid.get_groups()[$2].get_itemCount()<($0+1));$1=this._oImageGrid.set_activeImageGroup(this._oImageGrid.get_groups()[$2]);}this.scrollToItem(this._oImageGrid.$B($0,$1));return $1.get_itemsElement()[$0];},handleKeyLeft:function(){var $0=0;var $1=this._oImageGrid.get_activeImageGroup();if(ss.isValue(this._elemActiveMenuSubItem)&&ss.isValue($1)){$0=$1.get_itemsElement().indexOf(this._elemActiveMenuSubItem);}else{return this._oImageGrid.get_groups()[0].get_itemsElement()[0];}var $2=($0-1)%this.get_columns();if($2<0){$2=this.get_columns()-1;}$0=(Math.floor(($0/this.get_columns()))*this.get_columns())+$2;if($0>$1.get_itemCount()-1){$0=$1.get_itemCount()-1;}return $1.get_itemsElement()[$0];},handleKeyRight:function(){var $0=0;var $1=this._oImageGrid.get_activeImageGroup();if(ss.isValue(this._elemActiveMenuSubItem)&&ss.isValue($1)){$0=$1.get_itemsElement().indexOf(this._elemActiveMenuSubItem);}else{return this._oImageGrid.get_groups()[0].get_itemsElement()[0];}var $2=(($0+1)%this.get_columns());$0=(Math.floor(($0/this.get_columns()))*this.get_columns())+$2;if($0>$1.get_itemCount()-1){$0=$0-$2;}return $1.get_itemsElement()[$0];},scrollToItem:function(iItemIdx){var $0=this._elemMenuItem;var $1=$($0);var $2=$1.find('#'+'menusubitem');var $3=null;if(ss.isValue($2)){if($2.length>0){$3=$2.get(iItemIdx);}}if(ss.isNullOrUndefined($3)){return;}var $4=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientRect($3);var $5=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientRect($0);if($4!=null&&$5!=null){if(!$5.isRectInRect($4)){var $6=($4.get_top()<$5.get_top())?true:false;if($6){this._sbVertical.performScroll(-($5.get_top()-$4.get_top())-((this.isFirstRowOfGroup(iItemIdx))?23:0));}else{this._sbVertical.performScroll(($4.get_bottom()-$5.get_bottom()));}}else if(this.isFirstRowOfGroup(iItemIdx)){this._sbVertical.performScroll(-($5.get_top()-$4.get_top())-23);}}},onUnload:function(){Kepler.Engine.UI.Menu.MiscMenuItem.callBaseMethod(this, 'onUnload');this._oImageGrid.dispose();}}
Kepler.Engine.UI.Menu.MiscMenuSpImgItem=function(){Kepler.Engine.UI.Menu.MiscMenuSpImgItem.initializeBase(this);}
Kepler.Engine.UI.Menu.MiscMenuSpImgItem.prototype={get_text:function(){return Kepler.Engine.UI.Menu.MiscMenuSpImgItem.callBaseMethod(this, 'get_text');},set_text:function(value){for(var $0=0;$0<this.get_grid().get_groups().length;$0++){this.get_grid().get_groups()[$0].set_imageSource(value);}this.set_recreateItem(true);return value;}}
Kepler.Engine.UI.Menu.ImageSpecialItem=function(oTooltipParams,eImageType,iIndex,strActionStirng,strImageSrc,oParentGroup){this.$0=eImageType;this.$1=iIndex;this.$7=(ss.isNullOrUndefined(strActionStirng))?'':strActionStirng;this.$2=strImageSrc;this.$9=oTooltipParams;this.$5=oParentGroup;this.$6=this.$5.get_parentGrid().get_parent();this.$3=this.$5.get_parentGrid().get_itemSize();this.$4=this.$5.get_parentGrid().get_imageSize();}
Kepler.Engine.UI.Menu.ImageSpecialItem.prototype={$0:0,get_imageType:function(){return this.$0;},$1:0,get_index:function(){return this.$1;},$2:null,get_imageSrc:function(){return this.$2;},set_imageSrc:function(value){this.$2=value;return value;},$3:null,$4:null,$5:null,$6:null,$7:null,get_actionString:function(){return this.$7;},$8:false,get_disposed:function(){return this.$8;},$9:null,get_ttParams:function(){if(ss.isValue(this.$9)){if(this.$0===5){this.$9._strTextualData=Kepler.Engine.UI.Menu.SpecialImageDataStructure.get_toolTip()[5][this.$1];}if(Kepler.Engine.UI.Controls.Tooltip.TooltipManager.isActionableTooltip(this.$9._eType)){this.$9._elemScalable=this.$5.get_parentGrid().get_parent().get_activeMenuSubItemElement().firstChild;this.$9._iHighlight=((this.$6.get_menuHoverSubItem()===this.$6.get_highlight())?1:0);if(this.$9._eType===Kepler.Engine.UI.Controls.Tooltip.ETooltipTypes.actionablE_SCALE){this.$9._fScaleFactor=1.5;}}}return this.$9;},createImageSpecialItem:function(elemTd){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div','','relative',null,null,this.$3.get_width(),this.$3.get_height(),'',null);$0.setAttribute('name','menuitem');$0.menuitem=this.$5.get_parentGrid().get_parent();this.$5.get_itemsElement().add($0);this.$5.get_parentGrid().get_parent().get_subItemsElement().add($0);var $1=elemTd.ownerDocument.createElementNS('http://www.w3.org/2000/svg','svg');$1.setAttribute('xlink','http://www.w3.org/1999/xlink');$1.setAttribute('width',this.$4.get_width().toString());$1.setAttribute('height',this.$4.get_height().toString());$1.setAttribute('style','margin-left: '+((this.$3.get_width()-this.$4.get_width())/2)+'px;'+'margin-top:'+((this.$3.get_height()-this.$4.get_height())/2)+'px;');var $2=elemTd.ownerDocument.createElementNS('http://www.w3.org/2000/svg','filter');$2.setAttribute('id',this.$0+'_'+this.$1);var $3=null;$3=elemTd.ownerDocument.createElementNS('http://www.w3.org/2000/svg','image');$3.setAttributeNS('http://www.w3.org/1999/xlink','xlink:href',this.$2);$3.setAttribute('width','100%');$3.setAttribute('height','100%');$3.setAttribute('filter','url('+window.location.href+'#'+this.$0+'_'+this.$1+')');switch(this.$0){case 1:this.$A($2);break;case 2:this.$12($2);break;case 3:this.$11($2);break;case 4:this.$10($2);break;case 5:this.$B($2);break;default:break;}$1.appendChild($2);$1.appendChild($3);$0.appendChild($1);elemTd.appendChild($0);},$A:function($p0){var $0=0;if(this.$1<3){$0=0.5*(2-this.$1);var $1=$p0.ownerDocument.createElementNS('http://www.w3.org/2000/svg','feGaussianBlur');$1.setAttribute('stdDeviation',$0);$p0.appendChild($1);}else{var $2=[0,0,0,0,1,0,0,0,0];if(this.$1===4){$2[0]=$2[2]=$2[6]=$2[8]=1;$2[1]=$2[3]=$2[4]=$2[5]=$2[7]=-1;}var $3=$p0.ownerDocument.createElementNS('http://www.w3.org/2000/svg','feConvolveMatrix');$3.setAttribute('order',3);$3.setAttribute('kernelMatrix',$2);$p0.appendChild($3);}},$B:function($p0){var $0=this.$1;var $1=0;var $2=0;var $3=[0.3333,0.3333,0.3333,0,0,0.3333,0.3333,0.3333,0,0,0.3333,0.3333,0.3333,0,0,0,0,0,1,0];var $4=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];switch(this.$1){case 0:this.$13($p0,$4);return;case 1:this.$13($p0,$3);return;case 2:var $5=[0.343,0.669,0.119,0,0,0.249,0.626,0.13,0,0,0.172,0.334,0.111,0,0,0,0,0,1,0];this.$13($p0,$5);return;case 3:var $6=[1,0,0,0.8,0,0,1,0,0.8,0,0,0,1,0.8,0,0,0,0,1,0];this.$13($p0,$6);return;case 4:$1=10;$2=-0.369;this.$13($p0,$3);this.$14($p0,$1,$2);break;case 5:$1=10;$2=-2;this.$13($p0,$3);this.$14($p0,$1,$2);break;case 6:$1=10;$2=-5.714;this.$13($p0,$3);this.$14($p0,$1,$2);break;case 7:$4=this.$C(Kepler.Engine.UI.Menu.SpecialImageDataStructure.get_recolor()[0]);this.$13($p0,$4);break;case 8:$4=this.$C(Kepler.Engine.UI.Menu.SpecialImageDataStructure.get_recolor()[2]);this.$13($p0,$4);break;case 9:$4=this.$C(Kepler.Engine.UI.Menu.SpecialImageDataStructure.get_recolor()[3]);this.$13($p0,$4);break;case 10:$4=this.$C(Kepler.Engine.UI.Menu.SpecialImageDataStructure.get_recolor()[4]);this.$13($p0,$4);break;case 11:$4=this.$C(Kepler.Engine.UI.Menu.SpecialImageDataStructure.get_recolor()[5]);this.$13($p0,$4);break;case 12:$4=this.$C(Kepler.Engine.UI.Menu.SpecialImageDataStructure.get_recolor()[6]);this.$13($p0,$4);break;case 13:$4=this.$C(Kepler.Engine.UI.Menu.SpecialImageDataStructure.get_recolor()[7]);this.$13($p0,$4);break;case 14:$4=this.$D(Kepler.Engine.UI.Menu.SpecialImageDataStructure.get_recolor()[1]);this.$13($p0,$4);break;case 15:$4=this.$D(Kepler.Engine.UI.Menu.SpecialImageDataStructure.get_recolor()[2]);this.$13($p0,$4);break;case 16:$4=this.$D(Kepler.Engine.UI.Menu.SpecialImageDataStructure.get_recolor()[3]);this.$13($p0,$4);break;case 17:$4=this.$D(Kepler.Engine.UI.Menu.SpecialImageDataStructure.get_recolor()[4]);this.$13($p0,$4);break;case 18:$4=this.$D(Kepler.Engine.UI.Menu.SpecialImageDataStructure.get_recolor()[5]);this.$13($p0,$4);break;case 19:$4=this.$D(Kepler.Engine.UI.Menu.SpecialImageDataStructure.get_recolor()[6]);this.$13($p0,$4);break;case 20:$4=this.$D(Kepler.Engine.UI.Menu.SpecialImageDataStructure.get_recolor()[7]);this.$13($p0,$4);break;default:break;}},$C:function($p0){var $0;var $1,$2,$3;var $4=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];$1=$p0.iRed;$2=$p0.iGreen;$3=$p0.iBlue;var $5=255,$6=255,$7=255;var $8=0,$9=0,$A=0;var $B,$C,$D=0;$0=this.$F($1,$2,$3);var $E=$0[0];var $F=$0[1]*255;var $10=((0.647*$F)+12.7);var $11=255;var $12=this.$E($E,$10/255,$11);$5=$12.iRed;$6=$12.iGreen;$7=$12.iBlue;if($5>255){$5=255;}else if($5<0){$5=0;}if($6>255){$6=255;}else if($6<0){$6=0;}if($7>255){$7=255;}else if($7<0){$7=0;}$B=($5-$8);$C=($6-$9);$D=($7-$A);$4[0]=0.21*$B/255;$4[1]=0.71*$B/255;$4[2]=0.08*$B/255;$4[5]=0.21*$C/255;$4[6]=0.71*$C/255;$4[7]=0.08*$C/255;$4[10]=0.21*$D/255;$4[11]=0.71*$D/255;$4[12]=0.08*$D/255;$4[3]=$p0.iRed/255;$4[8]=$p0.iGreen/255;$4[13]=$p0.iBlue/255;return $4;},$D:function($p0){var $0;var $1,$2,$3;var $4=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];$1=$p0.iRed;$2=$p0.iGreen;$3=$p0.iBlue;var $5=255,$6=255,$7=255;var $8=0,$9=0,$A=0;var $B,$C,$D=0;$0=this.$F($1,$2,$3);var $E=$0[0];var $F=$0[1]*255;var $10=$0[2];var $11=((1.14*$F)+18.22);var $12=((0.888*$10)-23.62);if($11>255){$11=255;}if($12>255){$12=255;}var $13=this.$E($E,$11/255,$12);$8=$13.iRed;$9=$13.iGreen;$A=$13.iBlue;$B=($5-$8);$C=($6-$9);$D=($7-$A);$4[0]=0.21*$B/255;$4[1]=0.71*$B/255;$4[2]=0.08*$B/255;$4[5]=0.21*$C/255;$4[6]=0.71*$C/255;$4[7]=0.08*$C/255;$4[10]=0.21*$D/255;$4[11]=0.71*$D/255;$4[12]=0.08*$D/255;$4[3]=$p0.iRed/255;$4[8]=$p0.iGreen/255;$4[13]=$p0.iBlue/255;return $4;},$E:function($p0,$p1,$p2){var $0;var $1,$2,$3,$4;var $5,$6,$7;if(!$p1){$5=$6=$7=$p2;return new Kepler.Framework.UI.Color(parseInt($5),parseInt($6),parseInt($7));}$p0/=60;$0=Math.floor($p0);$1=$p0-$0;$2=$p2*(1-$p1);$3=$p2*(1-$p1*$1);$4=$p2*(1-$p1*(1-$1));switch($0){case 0:$5=$p2;$6=$4;$7=$2;break;case 1:$5=$3;$6=$p2;$7=$2;break;case 2:$5=$2;$6=$p2;$7=$4;break;case 3:$5=$2;$6=$3;$7=$p2;break;case 4:$5=$4;$6=$2;$7=$p2;break;default:$5=$p2;$6=$2;$7=$3;break;}return new Kepler.Framework.UI.Color(parseInt($5),parseInt($6),parseInt($7));},$F:function($p0,$p1,$p2){var $0=[];var $1,$2,$3;$1=Math.min($p0,$p1,$p2);$2=Math.max($p0,$p1,$p2);$0[2]=$2;$3=$2-$1;if(!!$2){$0[1]=$3/$2;}else{$0[1]=0;$0[0]=-1;return $0;}if(!$3){$0[0]=0;}else if($p0===$2){$0[0]=($p1-$p2)/$3;}else if($p1===$2){$0[0]=2+($p2-$p0)/$3;}else{$0[0]=4+($p0-$p1)/$3;}$0[0]*=60;if($0[0]<0){$0[0]+=360;}return $0;},$10:function($p0){var $0=0,$1=0,$2=0;switch(this.$1){case 0:$0=20;break;case 1:$0=12;break;case 2:$0=5;break;case 3:break;case 4:$1=1;$2=9;break;case 5:$1=1;$2=23;break;case 6:$1=2;$2=36;break;}$0=$0/255;$1=$1/255;$2=$2/255;var $3=[1,0,0,$0,0,0,1,0,$1,0,0,0,1,$2,0,0,0,0,1,0];var $4=$p0.ownerDocument.createElementNS('http://www.w3.org/2000/svg','feColorMatrix');$4.setAttribute('type','matrix');$4.setAttribute('values',$3);$p0.appendChild($4);},$11:function($p0){var $0=0;switch(this.$1){case 1:$0=0.33;break;case 2:$0=0.66;break;case 3:$0=1;break;case 4:$0=2;break;case 5:$0=3;break;case 6:$0=4;break;case 7:break;}var $1=0.2127;var $2=0.7152;var $3=0.0722;var $4=[$1+0.7873*$0,$2-$2*$0,$3-$3*$0,0,0,$1-$1*$0,$2+0.2848*$0,$3-$3*$0,0,0,$1-$1*$0,$2-$2*$0,$3+0.9278*$0,0,0,0,0,0,1,0];this.$13($p0,$4);},$12:function($p0){var $0=(this.$1%5)+1;var $1=(this.$1/1)+1;var $2=0.02;var $3=0.35;var $4=0.01;var $5=0.35;$3=$3+($0-1)*$5;$2=$2-(($1-1)*$4);if($0===3){$3=1;}else if($0===4){$3=1.73;}else if($0===5){$3=3.45;}this.$14($p0,$3,$2);},$13:function($p0,$p1){var $0=$p0.ownerDocument.createElementNS('http://www.w3.org/2000/svg','feColorMatrix');$0.setAttribute('type','matrix');$0.setAttribute('values',$p1);$p0.appendChild($0);},$14:function($p0,$p1,$p2){var $0=$p0.ownerDocument.createElementNS('http://www.w3.org/2000/svg','feComponentTransfer');var $1=$p0.ownerDocument.createElementNS('http://www.w3.org/2000/svg','feFuncR');var $2=$p0.ownerDocument.createElementNS('http://www.w3.org/2000/svg','feFuncG');var $3=$p0.ownerDocument.createElementNS('http://www.w3.org/2000/svg','feFuncB');$1.setAttribute('type','linear');$2.setAttribute('type','linear');$3.setAttribute('type','linear');$1.setAttribute('slope',$p1);$1.setAttribute('intercept',$p2);$2.setAttribute('slope',$p1);$2.setAttribute('intercept',$p2);$3.setAttribute('slope',$p1);$3.setAttribute('intercept',$p2);$0.appendChild($1);$0.appendChild($2);$0.appendChild($3);$p0.appendChild($0);},dispose:function(){if(!this.$8){this.$8=true;this.onUnload();}},onUnload:function(){this.$5=null;}}
Kepler.Engine.UI.Menu.MultilineMenuItem=function(){Kepler.Engine.UI.Menu.MultilineMenuItem.initializeBase(this);this.$12='';this.$13=32;}
Kepler.Engine.UI.Menu.MultilineMenuItem.prototype={$12:null,get_description:function(){return this.$12;},set_description:function(value){this.$12=value;return value;},get_text:function(){return Kepler.Engine.UI.Menu.MultilineMenuItem.callBaseMethod(this, 'get_text');},set_text:function(value){if(value.indexOf('|')>-1){var $0=value.split('|');this.set_description($0[1]);Kepler.Engine.UI.Menu.MultilineMenuItem.callBaseMethod(this, 'set_text',[$0[0]]);}else{Kepler.Engine.UI.Menu.MultilineMenuItem.callBaseMethod(this, 'set_text',[value]);}return value;},$13:0,initialise:function(iId,strText,strImageStyle,strAcc,iWidth,iHeight,iPopUpMenuNo,iImgSize,bIsCheckable){Kepler.Engine.UI.Menu.MultilineMenuItem.callBaseMethod(this, 'initialise',[iId,strText,strImageStyle,strAcc,iWidth,iHeight,iPopUpMenuNo]);this.set_isCheckable(bIsCheckable);this.$13=iImgSize;},createMenuItem:function(elmMenuItem,iLeft,iTop){Kepler.Engine.UI.Menu.MultilineMenuItem.callBaseMethod(this, 'createMenuItem',[elmMenuItem,iLeft,iTop]);if(ss.isNullOrUndefined(elmMenuItem)){return;}this._elemMenuItem=elmMenuItem;var $0=new Kepler.Framework.UI.Rect(0,0,0,0);var $1=null;var $2=null;var $3=null;var $4=null;var $5=2;var $6=2;this.get_rectangle().set_left(iLeft);this.get_rectangle().set_top(iTop);if(!String.isNullOrEmpty(this._strImageStyle)){var $8=3;$0.set_top(Math.floor(((this.get_rectangle().get_height()-4)-(this.$13+($8*2)+2))/2));$0.set_left(($8+1));$0.set_top($0.get_top()+($8+1));$1=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div','','absolute',$0.get_left()+$5,$0.get_top()+$6,null,null,this._strImageStyle,null);$1.setAttribute('name','menuitem-icon');Kepler.Engine.UI.Helper.HtmlCssHelper.addChild(elmMenuItem,$1,null);}var $7=(String.isNullOrEmpty(this._strImageStyle)&&!this.get_isCheckable()&&!this.$13)?0:(11+2+6+this.$13);$0.set_left($7);$0.set_top(2);$0.set_height(20);$2=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div','','absolute',$0.get_left()+$5,$0.get_top()+$6,null,$0.get_height(),'class_menu_font '+'class_text_bold',null);$2.setAttribute('name','menuitem-text');Kepler.Engine.UI.Helper.HtmlCssHelper.addChild(elmMenuItem,$2,null);Kepler.Engine.UI.Helper.HtmlCssHelper.setElementLineHeight($2,($0.get_height()-6).toString()+'px');Kepler.Engine.UI.Helper.HtmlCssHelper.setElementVerticalAlign($2,'middle');Kepler.Engine.UI.Helper.HtmlCssHelper.setElementInnerHtml($2,this.get_text());$0.set_left($0.get_left()-1)+1;$0.set_top(16);$0.set_width(this.get_rectangle().get_width()-$0.get_left()-2-1);$0.set_height(this.get_rectangle().get_height()-$0.get_top()-2-2);$3=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div','','absolute',$0.get_left()+$5,$0.get_top()+$6,$0.get_width(),$0.get_height(),'class_menu_font '+'class_menuitem_description',null);$3.setAttribute('name','menuitem-desc');Kepler.Engine.UI.Helper.HtmlCssHelper.addChild(elmMenuItem,$3,null);Kepler.Engine.UI.Helper.HtmlCssHelper.setElementInnerHtml($3,this.$12);Kepler.Engine.UI.Helper.HtmlCssHelper.setElementLineHeight($3,15+'px');if(this.get_popUpMenuNo()!==-1){$0.set_width(4);$0.set_height(7);$0.set_top(Math.floor((this.get_rectangle().get_height()-2-$0.get_height())/2)-1);$4=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div','menuitem-arrow',null,null,$0.get_top()+$6,$0.get_width(),$0.get_height(),'windowMenuItemSubMenuArrow class_ImgPath_Arrow',null);if(ss.isValue($4)){Kepler.Engine.UI.Helper.HtmlCssHelper.addChild(elmMenuItem,$4,null);}}this.drawItem(elmMenuItem,Kepler.Framework.UI.Controls.EItemState.eNormal);elmMenuItem.menuitem=this;},drawItem:function(element,eState){if(ss.isNullOrUndefined(element)){element=this._elemMenuItem;if(ss.isNullOrUndefined(element)){return;}}var $0='';switch(this._eToState){case Kepler.Framework.UI.Controls.EItemState.eNormal:break;case Kepler.Framework.UI.Controls.EItemState.eHover:case Kepler.Framework.UI.Controls.EItemState.eFocus:case Kepler.Framework.UI.Controls.EItemState.eFocusHover:$0=Kepler.Engine.Core.EngineApp.get_engine().get_currentApp().getAppFrame().get_themeDetails().get_colorHover();break;default:break;}if(this.get_isCheckable()){this.setCheckedState(element);}this.setEnabledDisabledState(element);Kepler.Engine.UI.Helper.HtmlCssHelper.setElementBackgroundColor(element,$0);},setEnabledDisabledState:function(element){var $0=$(element);var $1=null;$1=Kepler.Engine.UI.Helper.HtmlCssHelper.getFirstChildElementByName(element,'menuitem-text');if(ss.isValue($1)){var $2=(this.get_enabled())?'#5E5E5E':'#B1B1B1';$1.style.color=$2;}$1=Kepler.Engine.UI.Helper.HtmlCssHelper.getFirstChildElementByName(element,'menuitem-desc');if(ss.isValue($1)){var $3=(this.get_enabled())?'#5E5E5E':'#B1B1B1';$1.style.color=$3;}if(!String.isNullOrEmpty(this._strImageStyle)||this.get_isCheckable()){$1=Kepler.Engine.UI.Helper.HtmlCssHelper.getFirstChildElementByName(element,'menuitem-icon');if(ss.isValue($1)){this.disableImage($1);}}$1=Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementById(element,'menuitem-arrow');if(ss.isValue($1)){this.disableImage($1);}},setCheckedState:function(element){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getFirstChildElementByName(element,'menuitem-icon');var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getFirstChildElementByName(element,'menuitem-icon-cont');if(ss.isValue($1)){if(this.get_checked()){Kepler.Engine.UI.Helper.HtmlCssHelper.setElementBackgroundColor($1,Kepler.Engine.Core.EngineApp.get_engine().get_currentApp().getAppFrame().get_themeDetails().get_colorCheckedBG());Kepler.Engine.UI.Helper.HtmlCssHelper.setElementBorder($1,'1px solid '+Kepler.Engine.Core.EngineApp.get_engine().get_currentApp().getAppFrame().get_themeDetails().get_colorPressed());}else{Kepler.Engine.UI.Helper.HtmlCssHelper.setElementBackgroundColor($1,'');Kepler.Engine.UI.Helper.HtmlCssHelper.setElementBorder($1,'');Kepler.Engine.UI.Helper.HtmlCssHelper.setElementClassName($1,'class_menu_img_icon_normal');}}else{if(this.get_checked()){var $2=new Kepler.Framework.UI.Rect(0,0,0,0);var $3=3;$2.set_top(Math.floor(((this.get_rectangle().get_height()-4)-(this.$13+($3*2)+2))/2));$2.set_width(this.$13+($3*2));$2.set_height(this.$13+($3*2));$1=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div','','absolute',2,$2.get_top()+2,$2.get_width(),$2.get_height(),'',null);$1.setAttribute('name','menuitem-icon-cont');Kepler.Engine.UI.Helper.HtmlCssHelper.addChild(element,$1,null);Kepler.Engine.UI.Helper.HtmlCssHelper.setElementLeft($0,$3.toString());Kepler.Engine.UI.Helper.HtmlCssHelper.setElementTop($0,$3.toString());Kepler.Engine.UI.Helper.HtmlCssHelper.setElementBackgroundColor($1,Kepler.Engine.Core.EngineApp.get_engine().get_currentApp().getAppFrame().get_themeDetails().get_colorCheckedBG());Kepler.Engine.UI.Helper.HtmlCssHelper.setElementBorder($1,'1px solid '+Kepler.Engine.Core.EngineApp.get_engine().get_currentApp().getAppFrame().get_themeDetails().get_colorPressed());Kepler.Engine.UI.Helper.HtmlCssHelper.addChild($1,$0,null);}}}}
Kepler.Engine.UI.Menu.SystemMenuItem=function(){Kepler.Engine.UI.Menu.SystemMenuItem.initializeBase(this);}
Kepler.Engine.UI.Menu.SystemMenuItem.prototype={createMenuItem:function(elmMenuItem,iLeft,iTop){Kepler.Engine.UI.Helper.HtmlCssHelper.setElementPadding(this.get_parentMenu().get_element(),'2px');Kepler.Engine.UI.Menu.SystemMenuItem.callBaseMethod(this, 'createMenuItem',[elmMenuItem,iLeft,iTop]);},drawState:function(element){var $0='';var $1='';var $2='windowMenuItemKbrdFocus';switch(this._eToState){case Kepler.Framework.UI.Controls.EItemState.eNormal:if(!String.isNullOrEmpty(this._strMenuItemClass)){$0=this._strMenuItemClass;}else{$0='class_sys_menuitem_normal ';}$1='class_sys_menuitem_container_normal';$2+='Off';break;case Kepler.Framework.UI.Controls.EItemState.eHover:$0=(this.get_enabled())?'class_sys_menuitem_hover ':'class_sys_menuitem_hover_disabled ';$1=(this.get_enabled())?'class_sys_menuitem_container_hover':'class_sys_menuitem_container_hover_disabled';$2+='Off';break;case Kepler.Framework.UI.Controls.EItemState.eFocus:$0+='class_sys_menuitem_Focus ';$2+='On';break;case Kepler.Framework.UI.Controls.EItemState.eFocusHover:$0+='class_sys_menuitem_Hover ';$2+='On';break;}if(this.isMenuItemHighlighted(this.get_highlight())){$0=new ss.StringBuilder().append($0).append('box_shadow_visual_hint').toString();}Kepler.Engine.UI.Helper.HtmlCssHelper.setElementClassName(element,$0);}}
Kepler.Engine.UI.Menu.WindowsMenuItem=function(){Kepler.Engine.UI.Menu.WindowsMenuItem.initializeBase(this);this._oImgSize=new Kepler.Framework.UI.Size(16,16);this._bSwapTextAndIcon=false;this._eChekableType=0;this.$14=Number.NaN;}
Kepler.Engine.UI.Menu.WindowsMenuItem.prototype={_strMenuItemClass:'',$12:'',$13:'',_strTextStyle:null,_oImgSize:null,_bSwapTextAndIcon:false,get_swapTextAndIcon:function(){return this._bSwapTextAndIcon;},set_swapTextAndIcon:function(value){this._bSwapTextAndIcon=value;return value;},get_imageStyle:function(){return Kepler.Engine.UI.Menu.WindowsMenuItem.callBaseMethod(this, 'get_imageStyle');},set_imageStyle:function(value){if(!String.isNullOrEmpty(this._strImageStyle)&&!!this._strImageStyle.compareTo(value,false)){if(ss.isValue(this.get_parentMenu())){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getFirstChildElementByName(this._elemMenuItem,'menuitem-icon');if(ss.isValue($0)&&ss.isValue($0.firstChild)){Kepler.Engine.UI.Helper.HtmlCssHelper.replaceCssClass($0,this._strImageStyle,value);}}this._strImageStyle=value;}return value;},$14:0,get_imageLeft:function(){return this.$14;},set_imageLeft:function(value){this.$14=value;return value;},_eChekableType:0,get_checkableType:function(){return this._eChekableType;},set_checkableType:function(value){this._eChekableType=value;switch(this._eChekableType){case 0:case 3:case 7:default:this.$12='';this.$13='';break;case 6:case 5:case 1:this.$12='class_menu_select';this.$13='';break;case 2:this.$12='class_menu_select_filled';this.$13='';break;case 4:this.$12='radio_check';this.$13='radio_uncheck';break;case 8:this.$12='win8_radio_check';this.$13='';break;case 9:this.$12='class_win8_menu_select';this.$13='';break;}return value;},initialise:function(iId,strText,strImageStyle,strAcc,iWidth,iHeight,iPopUpMenuNo,strTextStyle,szImg,eChekableType,bSwapTextAndIcon,strMenuItemClass){Kepler.Engine.UI.Menu.WindowsMenuItem.callBaseMethod(this, 'initialise',[iId,strText,strImageStyle,strAcc,iWidth,iHeight,iPopUpMenuNo]);this._strMenuItemClass=(ss.isValue(strMenuItemClass))?strMenuItemClass:'';this._strTextStyle=strTextStyle;this._bIsCheckable=eChekableType>0;if(this._bIsCheckable){if(!String.isNullOrEmpty(this._strImageStyle)&&eChekableType!==7){eChekableType=3;}this.set_checkableType(eChekableType);}this._oImgSize=szImg;this._bSwapTextAndIcon=bSwapTextAndIcon;this._bSwapTextAndIcon=(ss.isNullOrUndefined(this._bSwapTextAndIcon))?false:this._bSwapTextAndIcon;},createMenuItem:function(elmMenuItem,iLeft,iTop){Kepler.Engine.UI.Menu.WindowsMenuItem.callBaseMethod(this, 'createMenuItem',[elmMenuItem,iLeft,iTop]);this._elemMenuItem=elmMenuItem;var $0=new Kepler.Framework.UI.Rect(0,0,0,0);var $1=null;var $2=null;var $3=null;var $4=2;var $5=2;this.get_rectangle().set_left(iLeft);this.get_rectangle().set_top(iTop);$0.copy(this.get_rectangle());var $6=0;$6=(this._oImgSize.get_height()<=16)?1:3;if(!String.isNullOrEmpty(this._strImageStyle)||this.get_isCheckable()){$0.set_top(Math.floor(((this.get_rectangle().get_height()-4)-(this._oImgSize.get_height()+($6*2)+2))/2));$0.set_top((this._oImgSize.get_height()===16)?0:$0.get_top());$0.set_left((this._bSwapTextAndIcon)?(this.get_rectangle().get_width()-(this._oImgSize.get_width()+3+$6+2)):($6+1));$0.set_top($0.get_top()+($6+1));$0.set_left((isNaN(this.$14))?$0.get_left():this.$14);$1=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div','','absolute',$0.get_left()+$4,$0.get_top()+$5,null,null,this._strImageStyle,null);$1.setAttribute('name','menuitem-icon');Kepler.Engine.UI.Helper.HtmlCssHelper.addChild(elmMenuItem,$1,null);}if(!this._oImgSize.get_width()){$0.set_left(1);}else{var $7=10;$7=(this._oImgSize.get_width()!==16&&!this.get_isCheckable())?6:$7;$0.set_left(2+((this._bSwapTextAndIcon)?0:this._oImgSize.get_width()+($6*2)+$7-1));}$0.set_top(0);$2=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div','','absolute',$0.get_left()+$4,$0.get_top()+$5,null,null,'class_menu_font class_menu_item_text '+this._strTextStyle,null);$2.setAttribute('name','menuitem-text');$2.style.width='100%';$2.style.textAlign='left';Kepler.Engine.UI.Helper.HtmlCssHelper.addChild(elmMenuItem,$2,null);Kepler.Engine.UI.Helper.HtmlCssHelper.setElementLineHeight($2,(this.get_rectangle().get_height()-4).toString()+'px');Kepler.Engine.UI.Helper.HtmlCssHelper.setElementVerticalAlign($2,'middle');Kepler.Engine.UI.Helper.HtmlCssHelper.setElementInnerHtml($2,this.get_text());if(this.get_popUpMenuNo()!==-1){$0.set_width(4);$0.set_height(7);$0.set_top(Math.floor((this.get_rectangle().get_height()-2-$0.get_height())/2)-1);$3=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div','menuitem-arrow',null,null,$0.get_top()+$5,$0.get_width(),$0.get_height(),'windowMenuItemSubMenuArrow class_ImgPath_Arrow',null);if(ss.isValue($3)){Kepler.Engine.UI.Helper.HtmlCssHelper.addChild(elmMenuItem,$3,null);}}this.drawItem(elmMenuItem,Kepler.Framework.UI.Controls.EItemState.eNormal);if(!String.isNullOrEmpty(this._strMenuItemClass)){elmMenuItem.className=this._strMenuItemClass;}elmMenuItem.menuitem=this;},drawItem:function(element,eState){if(ss.isNullOrUndefined(element)){element=this._elemMenuItem;if(ss.isNullOrUndefined(element)){return;}}if(this._bIsCheckable){this.setCheckedState(element);}this.setEnabledDisabledState(element);this.drawState(element);},drawState:function(element){var $0='';switch(this._eToState){case Kepler.Framework.UI.Controls.EItemState.eNormal:break;case Kepler.Framework.UI.Controls.EItemState.eFocus:case Kepler.Framework.UI.Controls.EItemState.eFocusHover:case Kepler.Framework.UI.Controls.EItemState.eHover:$0=Kepler.Engine.Core.EngineApp.get_engine().get_currentApp().getAppFrame().get_themeDetails().get_colorHover();break;default:break;}Kepler.Engine.UI.Helper.HtmlCssHelper.setElementBackgroundColor(element,$0);},setEnabledDisabledState:function(element){var $0=null;$0=Kepler.Engine.UI.Helper.HtmlCssHelper.getFirstChildElementByName(element,'menuitem-text');if(ss.isValue($0)){var $1=(this.get_enabled())?'#5E5E5E':'#B1B1B1';$0.style.color=$1;}if(!String.isNullOrEmpty(this._strImageStyle)||this.get_isCheckable()){$0=Kepler.Engine.UI.Helper.HtmlCssHelper.getFirstChildElementByName(element,'menuitem-icon');if(ss.isValue($0)){this.disableImage($0);}}$0=Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementById(element,'menuitem-arrow');if(ss.isValue($0)){this.disableImage($0);}},setCheckedState:function(element){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getFirstChildElementByName(element,'menuitem-icon');var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getFirstChildElementByName(element,'menuitem-icon-cont');if(ss.isValue($1)){this.$15($1,$0);}else if(ss.isValue($0)){if(this._eChekableType>0){var $2=new Kepler.Framework.UI.Rect(0,0,0,0);var $3=(this._oImgSize.get_height()<=16)?1:3;$0.style.width=this._oImgSize.get_width()+'px';$0.style.height=this._oImgSize.get_height()+'px';$2.set_top(Math.floor(((this.get_rectangle().get_height()-4)-(this._oImgSize.get_height()+($3*2)+2))/2));$2.set_top((this._oImgSize.get_height()===16)?-1:$2.get_top());$2.set_width(this._oImgSize.get_width()+($3*2));$2.set_height(this._oImgSize.get_height()+($3*2));$2.set_left((this._bSwapTextAndIcon)?(this.get_rectangle().get_width()-($2.get_width()+4+$3+1)):0);$2.set_top($2.get_top()+(1));$1=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div','','absolute',$2.get_left()+2,$2.get_top()+2,$2.get_width(),$2.get_height(),'',null);$1.setAttribute('name','menuitem-icon-cont');Kepler.Engine.UI.Helper.HtmlCssHelper.addChild(element,$1,null);Kepler.Engine.UI.Helper.HtmlCssHelper.setElementLeft($0,$3.toString());Kepler.Engine.UI.Helper.HtmlCssHelper.setElementTop($0,$3.toString());this.$15($1,$0);Kepler.Engine.UI.Helper.HtmlCssHelper.addChild($1,$0,null);}}},$15:function($p0,$p1){var $0=this.getBkgndColor();var $1=this.getBorderColor();$p0.style.backgroundColor=$0;$p0.style.border='1px solid '+$1;var $2='';if(String.isNullOrEmpty(this._strImageStyle)){if(this.get_checked()){$2=(String.isNullOrEmpty(this.$12))?this.$12:(' class_ImgPath_Arrow '+this.$12);}else{$2=(String.isNullOrEmpty(this.$13))?this.$13:(' class_ImgPath_Arrow '+this.$13);}Kepler.Engine.UI.Helper.HtmlCssHelper.setElementClassName($p1,$2);}},getBkgndColor:function(){var $0='transparent';if(this._bIsCheckable){switch(this._eChekableType){case 0:case 1:default:$0='transparent';break;case 2:$0='#E3E3E3';break;case 6:case 3:if(this.get_checked()){$0=Kepler.Engine.Core.EngineApp.get_engine().get_currentApp().getAppFrame().get_themeDetails().get_colorCheckedBG();}break;case 8:case 9:case 4:case 5:case 7:if(this.get_checked()){$0=(this._eToState===Kepler.Framework.UI.Controls.EItemState.eNormal)?Kepler.Engine.Core.EngineApp.get_engine().get_currentApp().getAppFrame().get_themeDetails().get_colorPressed():Kepler.Engine.Core.EngineApp.get_engine().get_currentApp().getAppFrame().get_themeDetails().get_colorHover();}break;}}return $0;},getBorderColor:function(){var $0='transparent';if(this._bIsCheckable){switch(this._eChekableType){case 0:case 1:default:$0='transparent';break;case 2:$0='#808080';break;case 6:case 3:if(this.get_checked()){$0=Kepler.Engine.Core.EngineApp.get_engine().get_currentApp().getAppFrame().get_themeDetails().get_colorPressed();}break;case 8:case 9:case 4:case 5:case 7:if(this.get_checked()){$0=(this._eToState===Kepler.Framework.UI.Controls.EItemState.eNormal)?Kepler.Engine.Core.EngineApp.get_engine().get_currentApp().getAppFrame().get_themeDetails().get_colorNormalLight():Kepler.Engine.Core.EngineApp.get_engine().get_currentApp().getAppFrame().get_themeDetails().get_colorPressed();}break;}}return $0;},reflectText:function(){Kepler.Engine.UI.Menu.WindowsMenuItem.callBaseMethod(this, 'reflectText');var $0=this._elemMenuItem;if(ss.isValue($0)){var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getFirstChildElementByName($0,'menuitem-text');if(ss.isValue($1)){Kepler.Engine.UI.Helper.HtmlCssHelper.setElementInnerHtml($1,this.get_text());}}}}
Kepler.Engine.UI.Menu.WindowsSepMenuItem=function(){Kepler.Engine.UI.Menu.WindowsSepMenuItem.initializeBase(this);}
Kepler.Engine.UI.Menu.WindowsSepMenuItem.prototype={createMenuItem:function(elmMenuItem,iLeft,iTop){this.setMenuItemID(elmMenuItem);this._elemMenuItem=elmMenuItem;if(!isNaN(this.get_rectangle().get_width())){Kepler.Engine.UI.Helper.HtmlCssHelper.setElementWidth(elmMenuItem,this.get_rectangle().get_width()+'px');}Kepler.Engine.UI.Helper.HtmlCssHelper.setElementHeight(elmMenuItem,'1px');Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(elmMenuItem,'class_windowMenuItemSep');}}
Kepler.Engine.UI.Menu.MenuItemState=function(bDontCare){this.$0=(bDontCare)?1000:0;this.$1=(bDontCare)?1000:0;this.$2=(bDontCare)?1000:0;this.$3=-1;this.$4='';this.$5='';this.$6='';this._strKbrdShortcut='';}
Kepler.Engine.UI.Menu.MenuItemState.prototype={$0:0,get_checked:function(){return this.$0;},set_checked:function(value){this.$0=value;return value;},$1:0,get_highlight:function(){return this.$1;},set_highlight:function(value){this.$1=value;return value;},$2:0,get_enabled:function(){return this.$2;},set_enabled:function(value){this.$2=value;return value;},$3:0,get_index:function(){return this.$3;},set_index:function(value){this.$3=value;return value;},$4:null,get_imageStyle:function(){return this.$4;},set_imageStyle:function(value){this.$4=value;return value;},$5:null,get_text:function(){return this.$5;},set_text:function(value){this.$5=value;return value;},$6:null,get_toolTip:function(){return this.$6;},set_toolTip:function(value){this.$6=value;return value;},_strKbrdShortcut:null,get_kbrdShortcut:function(){return this._strKbrdShortcut;},set_kbrdShortcut:function(value){this._strKbrdShortcut=value;return value;},copy:function(oItemState){if(ss.isValue(oItemState)){this.$2=oItemState.get_enabled();this.$0=oItemState.get_checked();this.$1=oItemState.get_highlight();this.$3=oItemState.get_index();this.$4=oItemState.get_imageStyle();this.$5=oItemState.get_text();this.$6=oItemState.get_toolTip();this._strKbrdShortcut=oItemState.get_kbrdShortcut();}},toString:function(iMenuItemId){return (iMenuItemId+Kepler.Framework.Core.Seperators.miD_DOT+this.$2+Kepler.Framework.Core.Seperators.miD_DOT+this.$0+Kepler.Framework.Core.Seperators.miD_DOT+this.$3+Kepler.Framework.Core.Seperators.miD_DOT+this.$1+Kepler.Framework.Core.Seperators.miD_DOT+this.$4+Kepler.Framework.Core.Seperators.miD_DOT+this.$5+Kepler.Framework.Core.Seperators.miD_DOT+this.$6);},clone:function(){var $0=new Kepler.Engine.UI.Menu.MenuItemState();$0.set_enabled(this.$2);$0.set_checked(this.$0);$0.set_index(this.$3);$0.set_highlight(this.$1);$0.set_imageStyle(this.$4);$0.set_text(this.$5);$0.set_toolTip(this.$6);$0.set_kbrdShortcut(this._strKbrdShortcut);return $0;}}
Kepler.Engine.UI.Menu.MiscCtrlItemState=function(){this._iId=-1;this._iNumberOfHeaders=-1;this._iControlWidth=-1;this._iControlHeight=-1;this._iCols=-1;this._iImageHeight=0;this._iImageWidth=0;this._iItemWidth=0;this._iItemHeight=0;this._iHintIndex=-1;this._iCheckedSubItem=-1;this._strGridImgCls='';this._lstItemsImgCls=[];this._lstTooltipParams=[];this._lstHeader=[];this._lstAccelerator=[];this._lstShortCut=[];this._lstActionString=[];this._strRightClickMenu='';this._lstItemImgPos=[];this._ptImgPosition=null;}
Kepler.Engine.UI.Menu.MiscCtrlItemState.prototype={_iId:0,_iCols:0,_iImageHeight:0,_iImageWidth:0,_iImageIdx:0,_iNumberOfHeaders:0,_iControlWidth:0,_iControlHeight:0,_iItemWidth:0,_iItemHeight:0,_iHintIndex:0,_iCheckedSubItem:0,_strGridImgCls:null,_lstItemsImgCls:null,_lstTooltipParams:null,_lstAccelerator:null,_lstShortCut:null,_lstActionString:null,_lstHeader:null,_strRightClickMenu:null,_ptImgPosition:null,_lstItemImgPos:null}
Kepler.Engine.UI.Menu.AddRemoveMenuItem=function(){this._bAdd=false;this._iType=1;this._iMenuNo=-1;this._iMenuItemId=0;this._iIndex=0;this._iChildPopupNo=-1;this._strMenuText='';this._strActionStr='';this._strImageClass='';this._strAccelerator='';this._iRtClkMenuNo=-1;this._iHeight=22;this._iWidth=-1;this._iChecked=0;this._eCheckableType=0;this._szImage=new Kepler.Framework.UI.Size(16,16);this._oMenuItem=null;this._iSepLineLeft=2;this._strMenuItemClass='';this._strTextStyle='';}
Kepler.Engine.UI.Menu.AddRemoveMenuItem.prototype={_bAdd:false,_iType:0,_iMenuNo:0,_iMenuItemId:0,_iIndex:0,_iChildPopupNo:0,_strMenuText:null,_strImageClass:null,_strActionStr:null,_strAccelerator:null,_iRtClkMenuNo:0,_iHeight:0,_iWidth:0,_eCheckableType:0,_iChecked:0,_szImage:null,_oMenuItem:null,_iSepLineLeft:0,_strMenuItemClass:null,_strTextStyle:null}
Kepler.Engine.UI.Menu.ColorParts=function(){}
Kepler.Engine.UI.Menu.RowDetails=function(lstColor,eRowType,iRowIdx){this._lstColor=lstColor;this._eRowType=eRowType;this._iRowIdx=iRowIdx;}
Kepler.Engine.UI.Menu.RowDetails.prototype={_lstColor:null,_eRowType:0,_iRowIdx:0}
Kepler.Engine.UI.Menu.ColorItem=function(color,strTooltip){this.$0=color;this.$1=strTooltip;}
Kepler.Engine.UI.Menu.ColorItem.prototype={$0:null,get_color:function(){return this.$0;},$1:null,get_tooltip:function(){return this.$1;}}
Kepler.Engine.UI.Menu.MenuWnd=function(iMenuNo,oMenuManager){Kepler.Engine.UI.Menu.MenuWnd.initializeBase(this,['menuWnd','menuwnd']);this.set_rightClickEventNeeded(true);this.set_showHideProperty(Kepler.Framework.UI.ShowHideProperty.display);this.$4_0=iMenuNo;this.$4_D=-1;this.$4_10=null;this._oActiveMenuItem=null;this.$4_3=-1;this.$4_1=Kepler.Engine.UI.Menu.MenuWnd.rtclK_MENU_PARENT_SHOW;this.$4_2=-1;this.$4_A='-1';this.$4_4=true;this._bRDownCapture=false;this._oSize=new Kepler.Framework.UI.Size(0,0);this._oTooltipMgr=Kepler.Engine.UI.DesktopWnd.get_instance().get_tooltipManager();this._oSizeOriginal=new Kepler.Framework.UI.Size(0,0);this.$4_8=oMenuManager;this.$4_9=null;this.$4_F=null;this.$4_5=[];this.$4_6=false;this.$4_7=null;this.$4_E=0;this.$4_13=document.createElement('div');this.$4_13.style.width='100%';this.$4_13.style.height='100%';this.$4_13.style.position='relative';this.get_element().appendChild(this.$4_13);this._bScrollViewRequired=false;this._divScrollArea=document.createElement('div');this._divScrollArea.style.overflow='hidden';this.$4_13.appendChild(this._divScrollArea);var $0=new Kepler.Framework.UI.Scroller.ScrollStruct();$0.scrollElement=this.$4_13;$0.onScrollMove=ss.Delegate.create(this,this.onScroll);this.$4_17=this.setScrollable($0);if(Kepler.Engine.Core.EngineApp.get_engine().get_taskMaster().get_isAccessibility()){Kepler.Engine.UI.Helper.HtmlCssHelper.addElementAttribute(this.get_element(),'role','menubar');Kepler.Engine.UI.Helper.HtmlCssHelper.addElementAttribute(this.get_element(),'aria-hidden','true');Kepler.Engine.UI.Helper.HtmlCssHelper.addElementAttribute(this.$4_13,'role','menuitem');this.$4_13.tabIndex=0;Kepler.Engine.UI.Helper.HtmlCssHelper.addElementAttribute(this._divScrollArea,'role','menu');}this.$4_14=null;this.$4_15=null;this.$4_16=null;Kepler.Engine.UI.Helper.HtmlCssHelper.addElementAttribute(Kepler.Engine.UI.Menu.MenuWnd.callBaseMethod(this, 'get_element'),'index',this.$4_0.toString());this.$4_C=false;this.$4_39();}
Kepler.Engine.UI.Menu.MenuWnd.sameMenuItemType=function(oPrevMenuItem,oCurMenuItem){if(ss.isValue(oPrevMenuItem)&&ss.isValue(oCurMenuItem)){return (Type.getInstanceType(oCurMenuItem)===Type.getInstanceType(oPrevMenuItem));}return false;}
Kepler.Engine.UI.Menu.MenuWnd.prototype={$4_0:0,get_menuNo:function(){return this.$4_0;},set_menuNo:function(value){this.$4_0=value;return value;},$4_1:0,get_rightClkMenu:function(){return (this.$4_1===Kepler.Engine.UI.Menu.MenuWnd.rtclK_MENU_PARENT_SHOW)?(this.$4_8).get_defRtClickMenuForApp():this.$4_1;},set_rightClkMenu:function(value){this.$4_1=value;return value;},get_isRtClkMenu:function(){return this.get_rightClkMenu()===Kepler.Engine.UI.Menu.MenuWnd.rtclK_MENU_DONT_SHOW;},$4_2:0,get_curRtClkMenu:function(){return this.$4_2;},set_curRtClkMenu:function(value){this.$4_2=value;return value;},$4_3:0,get_popUpMenuNo:function(){return this.$4_3;},set_popUpMenuNo:function(value){this.$4_3=value;return value;},$4_4:false,get_validClk:function(){return this.$4_4;},set_validClk:function(value){this.$4_4=value;return value;},get_recreateMenu:function(){var $enum1=ss.IEnumerator.getEnumerator(this.$4_5);while($enum1.moveNext()){var $0=$enum1.current;if(ss.isNullOrUndefined($0)||$0.get_recreateItem()){return true;}}return false;},get_isScrolling:function(){var $0=false;if(ss.isValue(this.$4_16)){$0=($0|this.$4_16.get_isScrolling())===1;}if(ss.isValue(this.$4_17)){$0=($0|this.$4_17.get_isScrolling())===1;}return $0;},get_hoverElement:function(){return this.$4_10;},get_hoverItem:function(){return this._oActiveMenuItem;},get_focusElement:function(){if(this.$4_D!==-1){return this.getElementFromItem(this.$4_5[this.$4_D]);}return null;},$4_5:null,get_menuItems:function(){return this.$4_5;},$4_6:false,get_noShrunkableItem:function(){return this.$4_6;},set_noShrunkableItem:function(value){this.$4_6=value;return value;},$4_7:null,$4_8:null,get_msgParent:function(){return this.$4_8;},$4_9:null,get_launchFrom:function(){return this.$4_9;},$4_A:null,get_refrenceLaunchFrom:function(){return this.$4_A;},$4_B:false,get_isPaneMenu:function(){return this.$4_B;},set_isPaneMenu:function(value){this.$4_B=value;return value;},$4_C:false,$4_D:0,_bRDownCapture:false,_bScrollViewRequired:false,_bMenuSuccessfullyLaunched:false,_oTooltipMgr:null,_oSize:null,_oSizeOriginal:null,get_originalWidth:function(){return this._oSizeOriginal.get_width();},set_originalWidth:function(value){this._oSizeOriginal.set_width(value);return value;},get_originalHeight:function(){return this._oSizeOriginal.get_height();},set_originalHeight:function(value){this._oSizeOriginal.set_height(value);return value;},$4_E:0,$4_F:null,$4_10:null,_oActiveMenuItem:null,$4_11:null,$4_12:null,_divScrollArea:null,$4_13:null,$4_14:null,$4_15:null,$4_16:null,$4_17:null,get_scrollView:function(){return this.$4_17;},add_$4_18:function($p0){this.$4_19=ss.Delegate.combine(this.$4_19,$p0);},remove_$4_18:function($p0){this.$4_19=ss.Delegate.remove(this.$4_19,$p0);},$4_19:null,$4_1A:null,$4_1D:true,get_contextMenu:function(){return this.$4_1D;},set_contextMenu:function(value){this.$4_1D=value;return value;},addItem:function(oMenuItem){if(this.$4_32(oMenuItem)){this.$4_1D=false;}this.$4_5.add(oMenuItem);oMenuItem.set_parentMenu(this);if((Kepler.Engine.UI.Menu.MenuItemScrollAndNav).isInstanceOfType(oMenuItem)){this.$4_7=null;this.$4_7=oMenuItem;var $0=(oMenuItem).get_itemSize();this.$4_E=(ss.isValue($0))?$0.get_height():this.$4_E;}},$4_1E:function($p0,$p1){if(ss.isNullOrUndefined($p0)||ss.isNullOrUndefined($p1)||$p1<0){return;}$p0.set_parentMenu(this);this.$4_5.insert($p1,$p0);},$4_1F:function($p0){if(ss.isNullOrUndefined($p0)){return;}var $0=this.getElementFromItem($p0);if(ss.isValue($0)&&ss.isValue($0.parentNode)){$0.parentNode.removeChild($0);}$p0.set_parentMenu(null);var $1=this.$4_5.indexOf($p0);this.$4_5[$1]=null;},createMenuWnd:function(){},$4_20:function(){var $0=null;for(var $1=this.$4_5.length-1;$1>=0;$1--){$0=this.$4_5[$1];if(ss.isNullOrUndefined($0)){this.$4_5.remove($0);}}},createMenu:function(){Kepler.Engine.UI.Helper.HtmlCssHelper.flushElement(this._divScrollArea);this.$4_20();for(var $0=0;$0<this.$4_5.length;$0++){var $1=this.$4_5[$0];if(ss.isNullOrUndefined($1)){this.$4_5.remove($1);$0--;}else if(!$1.get_recreateItem()){var $2=this.getElementFromItem($1);Kepler.Engine.UI.Helper.HtmlCssHelper.addElementAttribute($2,'index',$0.toString());Kepler.Engine.UI.Helper.HtmlCssHelper.addChild(this._divScrollArea,$2,null);}else{this.createMenuItem($0);}}this.updateSize();if(!this.get_isPaneMenu()){Kepler.Engine.UI.Helper.HtmlCssHelper.setElementZindex(this.get_element(),(this.canLaunchRtClkMenu())?Kepler.Framework.UI.Controls.ZIndexConstants.frame_Menu_Min.toString():Kepler.Framework.UI.Controls.ZIndexConstants.frame_RtClkMenu.toString());}else{Kepler.Engine.UI.Helper.HtmlCssHelper.setElementZindex(this.get_element(),(this.canLaunchRtClkMenu())?Kepler.Framework.UI.Controls.ZIndexConstants.pane_Menu_Min.toString():Kepler.Framework.UI.Controls.ZIndexConstants.pane_RtClkMenu.toString());}},applyMargin:function(elmDiv,prevMenuItem,curMenuItem){if(ss.isNullOrUndefined(elmDiv)||((Kepler.Engine.UI.Menu.MenuItemNavigator).isInstanceOfType(curMenuItem)&&!(Kepler.Engine.UI.Menu.ListMenuCtrl).isInstanceOfType(curMenuItem))||Type.canCast(curMenuItem,Kepler.Engine.UI.Menu.SystemMenuItem)){return;}if(Kepler.Engine.UI.Menu.MenuWnd.toucH_DEVICE){elmDiv.style.marginTop=((Kepler.Engine.UI.Menu.MenuWnd.sameMenuItemType(prevMenuItem,curMenuItem))?Kepler.Engine.UI.Menu.MenuWnd.toucH_MARGIN_VERT*2:Kepler.Engine.UI.Menu.MenuWnd.toucH_MARGIN_VERT)+'px';elmDiv.style.marginLeft=Kepler.Engine.UI.Menu.MenuWnd.toucH_MARING_HORZ+'px';}},createMenuItem:function(iIdx){var $0=this.$4_5[iIdx-1];var $1=this.$4_5[iIdx];if(ss.isNullOrUndefined($1)){return;}if(!$1.get_isSeperator()){var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div','','relative',0,0,$1.get_rectangle().get_width(),$1.get_rectangle().get_height(),null,null);$2.setAttribute('name',Kepler.Engine.UI.Menu.MenuWnd.iteM_NAME);this.applyMargin($2,$0,$1);Kepler.Engine.UI.Helper.HtmlCssHelper.addElementAttribute($2,'index',iIdx.toString());Kepler.Engine.UI.Helper.HtmlCssHelper.addElementAttribute($2,'parentindex',this.$4_0.toString());Kepler.Engine.UI.Helper.HtmlCssHelper.addElementAttribute($2,'role','menuitem');$2.tabIndex=-1;if(!String.isNullOrEmpty($1.get_tooltip())){Kepler.Engine.UI.Helper.HtmlCssHelper.addElementAttribute($2,'aria-labelledby',$1.get_tooltip());}Kepler.Engine.UI.Helper.HtmlCssHelper.addChild(this._divScrollArea,$2,null);if((Kepler.Engine.UI.Menu.SystemMenuItem).isInstanceOfType($1)){var $3=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div','menu-v-sep','absolute',0,-1,25,$1.get_rectangle().get_height()+2,'class_menu_Vline',null);Kepler.Engine.UI.Helper.HtmlCssHelper.addChild($2,$3,null);}$1.createMenuItem($2,0,0);if($1.isMenuItemHighlighted($1.get_highlight())){var $4=$1.highlightSubItem($2,$1.get_highlight());if(!$4){Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass($2,'box_shadow_visual_hint');}}}else{var $5=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div','','relative',$1.get_rectangle().get_left(),0,$1.get_rectangle().get_width(),$1.get_rectangle().get_height(),null,null);$5.setAttribute('name',Kepler.Engine.UI.Menu.MenuWnd.iteM_NAME);this.applyMargin($5,$0,$1);Kepler.Engine.UI.Helper.HtmlCssHelper.addElementAttribute($5,'index',iIdx.toString());Kepler.Engine.UI.Helper.HtmlCssHelper.addElementAttribute($5,'parentindex',this.$4_0.toString());Kepler.Engine.UI.Helper.HtmlCssHelper.addChild(this._divScrollArea,$5,null);$1.createMenuItem($5,0,0);}if((Kepler.Engine.UI.Menu.MenuItemScrollAndNav).isInstanceOfType($1)){var $6=$1;$6.itemCreated();}$1.set_recreateItem(false);if(Type.canCast($1,Kepler.Engine.UI.Menu.ColorGridMenuItem)){(this.$4_8).addColorGridMenuItems($1);}if(Type.canCast($1,Kepler.Engine.UI.Menu.MiscMenuSpImgItem)){(this.$4_8).addRecolorMenuItems($1);}},$4_21:function(){this._bScrollViewRequired=(this.get_height()<$(this._divScrollArea).outerHeight(true));if(this._bScrollViewRequired){this.$4_22(false,true);this.$4_17.refresh();}else{this.$4_22(false,false);}this.$4_17.scrollToY(this.$4_17.get_y()-this.$4_17.get_minScrollY(),0);},$4_22:function($p0,$p1){if($p0){if(this.$4_14==null){this.$4_14=new Kepler.Engine.UI.Menu.NavigatorBar();this.$4_14.set_parentMenu(this);this.$4_14.set_scrollDirectionDown(false);this.$4_14.createMenuItem(null,0,0);}if(this.$4_14.get_elemMenuItem().parentNode!==this.get_element()){this.get_element().appendChild(this.$4_14.get_elemMenuItem());}}else{if(this.$4_14!=null&&this.$4_14.get_elemMenuItem().parentNode===this.get_element()){this.get_element().removeChild(this.$4_14.get_elemMenuItem());}}if($p1){if(this.$4_15==null){this.$4_15=new Kepler.Engine.UI.Menu.NavigatorBar();this.$4_15.set_parentMenu(this);this.$4_15.set_scrollDirectionDown(true);this.$4_15.createMenuItem(null,0,0);}if(this.$4_15.get_elemMenuItem().parentNode!==this.get_element()){this.get_element().appendChild(this.$4_15.get_elemMenuItem());}}else{if(this.$4_15!=null&&this.$4_15.get_elemMenuItem().parentNode===this.get_element()){this.get_element().removeChild(this.$4_15.get_elemMenuItem());}}var $0=0,$1=0,$2=this.get_height();var $3=10+(1*2)+1;if($p0&&$p1){$0=$3;$1=$2-(2*$3);}else if($p0){$0=$3;$1=$2-$3;}else if($p1){$0=0;$1=$2-$3;}else{$0=0;$1=$2;}this.$4_13.style.top=$0+'px';this.$4_13.style.height=$1+'px';},$4_23:function(){if(ss.isValue(this.$4_17)&&this._bScrollViewRequired){var $0=this.$4_17.get_y();var $1=this.$4_17.get_maxScrollY();var $2=this.$4_17.get_minScrollY();if($0<=$1){this.$4_22(true,false);}else if($0>=$2){this.$4_22(false,true);}else{this.$4_22(true,true);}if(ss.isValue(this.$4_19)){this.$4_19(this);}}},$4_24:function($p0,$p1){$p0=this.$4_25($p0,$p1);this.$4_17.scrollToY($p0,0);var $0=$p1&&ss.isValue(this.$4_14)&&this.get_element().contains(this.$4_14.get_elemMenuItem());this.$4_23();var $1=$p1&&ss.isValue(this.$4_14)&&this.get_element().contains(this.$4_14.get_elemMenuItem());if(!$0&&$1){var $2=10+(1*2)+1;this.$4_24($2,true);}},$4_25:function($p0,$p1){$p0=Math.abs($p0);$p0=($p1)?$p0:-$p0;if($p1){if($p0>(this.$4_17.get_y()-this.$4_17.get_maxScrollY())){$p0=(this.$4_17.get_y()-this.$4_17.get_maxScrollY());}}else{if($p0<(this.$4_17.get_y()-this.$4_17.get_minScrollY())){$p0=(this.$4_17.get_y()-this.$4_17.get_minScrollY());}}return $p0;},scrollToItem:function(oActiveMenuItem,elemActiveMenuItem){if(!this._bScrollViewRequired){return;}var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientRect(elemActiveMenuItem);var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientRect(this.$4_13);if($0!=null&&$1!=null){if(!$1.isRectInRect($0)){var $2=($0.get_top()<$1.get_top())?false:true;var $3=($2)?$0.get_bottom()-$1.get_bottom():$1.get_top()-$0.get_top();if((Kepler.Engine.UI.Menu.WindowsMenuItem).isInstanceOfType(oActiveMenuItem)||(Kepler.Engine.UI.Menu.MultilineMenuItem).isInstanceOfType(oActiveMenuItem)){$3+=Kepler.Engine.UI.Menu.MenuWnd.toucH_MARGIN_VERT;}this.$4_24($3,$2);}}},$4_26:function(){if(0!==Kepler.Engine.Core.EngineApp.get_engine().get_applicationMode()){var $enum1=ss.IEnumerator.getEnumerator(this.$4_5);while($enum1.moveNext()){var $0=$enum1.current;if($0.isMenuItemHighlighted($0.get_highlight())&&$0.get_enabled()){if((Kepler.Engine.UI.Menu.MenuItemScrollAndNav).isInstanceOfType($0)){($0).scrollToItem($0.get_highlight());}var $1=$0.get_elemMenuItem();if($0.get_menuSubItemCount()>0){$1=($0).get_subItemsElement()[$0.get_highlight()];}this.scrollToItem($0,$1);break;}}}},$4_27:function($p0){var $0=new Kepler.Framework.UI.Size(this._oSizeOriginal.get_width()+4,this._oSizeOriginal.get_height()+4);var $1=this.getSuggestedMenuLaunchRect($p0,$0);$1.set_width($1.get_width()-4);$1.set_height($1.get_height()-4);if(ss.isValue(this.$4_7)){if(!this.$4_6){if($1.get_height()<this._oSizeOriginal.get_height()){var $2=this._oSize.get_height()-$1.get_height();var $3=this.$4_7.get_rectangle().get_height()-$2;if($3<this.$4_E){$3=this.$4_E;}this.changeMenuItemHeight(this.$4_7,$3,true);}else if($1.get_height()>=this._oSizeOriginal.get_height()&&this._oSizeOriginal.get_height()!==this._oSize.get_height()){this.changeMenuItemHeight(this.$4_7,this.$4_7.get_originalHeight(),true);this.resetMenuWidth(true);}}if(this.isMenuItemScrollbarVisible(this.$4_7)){this.extendMenuWidth(this.getMenuItemScrollbarWidth(this.$4_7));this.updateSize();$1=this.getSuggestedMenuLaunchRect($p0,this._oSize);}else if(!this.$4_6){this.updateSize();}(this.$4_7).resetScroll();}return $1;},getSuggestedMenuLaunchRect:function(menuParams,szMenu){var $0;var $1=new Kepler.Framework.UI.Rect(0,0,0,0);var $2=new Kepler.Framework.UI.Rect(0,0,0,0);var $3=new Kepler.Framework.UI.Rect(0,0,0,0);var $4=Kepler.Engine.UI.DesktopWnd.get_instance().get_margin();var $5=menuParams._rcSpace;$1.set_width(szMenu.get_width());$1.set_height(szMenu.get_height());$1.set_topLeft(menuParams._rcLauncher.get_bottomLeft());$0=menuParams._ePositioningOrder.getEnumerator();while($0.moveNext()){$3=this.getSuggestedMenuLaunchRectInDirection(menuParams._rcLauncher,$0.current,szMenu,$5);if($3.get_height()>=$2.get_height()&&$3.get_width()>=$2.get_width()){$2.copy($3);}if($2.get_width()===$1.get_width()){if($2.get_height()<$1.get_height()&&!ss.isNull(this.$4_7)&&!this.$4_6){var $6=$1.get_height()-(this.$4_7.get_originalHeight()-this.$4_E);if($2.get_height()>=$6){break;}}if($2.get_height()===$1.get_height()){break;}}}if(!$2.get_isZero()){$1=$2;}if(!String.isNullOrEmpty(menuParams._strLaunchFrom)&&!String.compare(menuParams._strLaunchFrom,'AppView',true)){if($1.get_height()+$1.get_top()>$5.get_height()){$1.set_top($1.get_top()-$1.get_height());}if($1.get_width()+$1.get_left()>$5.get_width()){$1.set_left($5.get_width()-$1.get_width()-2);}}return $1;},getSuggestedMenuLaunchRectInDirection:function(rcLauncher,ePosition,szMenu,rcDoc){var $0=new Kepler.Framework.UI.Rect(0,0,0,0);$0.set_width(szMenu.get_width());$0.set_height(szMenu.get_height());switch(ePosition){case 0:$0.set_topLeft(rcLauncher.get_bottomLeft());if($0.get_bottom()>rcDoc.get_bottom()-2){$0.set_height(rcDoc.get_bottom()-$0.get_top()-2);}if($0.get_right()>rcDoc.get_right()-2){$0.set_left(rcDoc.get_right()-$0.get_width()-2);}break;case 1:$0.set_topLeft(rcLauncher.get_topRight());if($0.get_height()>rcDoc.get_height()-4){$0.set_top(rcDoc.get_top()+2);$0.set_height(rcDoc.get_height()-4);}else if($0.get_bottom()>rcDoc.get_bottom()-2){$0.set_top(rcDoc.get_bottom()-$0.get_height()-2);}if($0.get_right()>rcDoc.get_right()-2){$0.set_width(rcDoc.get_right()-$0.get_left()-2);}break;case 2:$0.set_top(rcLauncher.get_top());$0.set_left(rcLauncher.get_left()-$0.get_width());if($0.get_height()>rcDoc.get_height()-4){$0.set_top(rcDoc.get_top()+2);$0.set_height(rcDoc.get_height()-4);}else if($0.get_bottom()>rcDoc.get_bottom()-2){$0.set_top(rcDoc.get_bottom()-$0.get_height()-2);}if($0.get_left()<rcDoc.get_left()+2){$0.set_left(rcDoc.get_left()+2);$0.set_width(rcLauncher.get_left()-rcDoc.get_left()-2);}break;case 3:$0.set_top(rcLauncher.get_top()-$0.get_height());$0.set_left(rcLauncher.get_left());if($0.get_top()<rcDoc.get_top()+2){$0.set_top(rcDoc.get_top()+2);$0.set_height(rcLauncher.get_top()-rcDoc.get_top()-4);}if($0.get_right()>rcDoc.get_right()-2){$0.set_left(rcDoc.get_right()-$0.get_width()-2);}if($0.get_left()<rcDoc.get_left()+2){$0.set_left(rcDoc.get_left()+2);$0.set_width($0.get_right()-rcDoc.get_left()-2);}break;case 4:$0.set_top(rcLauncher.get_top()-$0.get_height());$0.set_left(rcLauncher.get_left()-$0.get_width()/2);if($0.get_top()<rcDoc.get_top()+2){$0.set_top(rcDoc.get_top()+2);$0.set_height(rcLauncher.get_top()-rcDoc.get_top()-4);}if($0.get_right()>rcDoc.get_right()-2){$0.set_left(rcDoc.get_right()-$0.get_width()-2);}if($0.get_left()<rcDoc.get_left()+2){$0.set_left(rcDoc.get_left()+2);$0.set_width($0.get_right()-rcDoc.get_left()-2);}break;default:break;}return $0;},getElementFromItem:function(oMenuItem){if(ss.isValue(oMenuItem)){return oMenuItem.get_elemMenuItem();}return null;},getIndexFromId:function(iMenuItemId){var $0=0;for($0=0;$0<this.$4_5.length&&this.$4_5[$0].get_id()!==iMenuItemId;$0++){}return ($0===this.$4_5.length)?-1:$0;},findScrollableItem:function(){var $0=0;for($0=0;$0<this.$4_5.length;$0++){if((Kepler.Engine.UI.Menu.MenuItemScrollAndNav).isInstanceOfType(this.$4_5[$0])){return this.$4_5[$0];}}return null;},isMenuItemScrollbarVisible:function(oMenuItem){if((Kepler.Engine.UI.Menu.MenuItemScrollAndNav).isInstanceOfType(oMenuItem)){return (oMenuItem).get_isScrollbarVisible();}return false;},$4_28:function($p0){var $0=false;if(!this.get_isScrolling()){var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getAttachedObjectFromElementTree($p0.get_target(),Kepler.Engine.UI.Menu.MenuWnd.iteM_NAME);if(ss.isValue($1)){if($1.get_menuSubItemCount()>0){if(Type.getInstanceType($1)===Kepler.Engine.UI.Menu.MiscMenuItem){$0=true;}else{$0=true;}}else{if(false===$1.get_isSeperator()){$0=true;}}}}return $0;},updateSize:function(){this.updateMenuSize(this._oSize,false);this.updateMenuSize(this._oSizeOriginal,true);},updateMenuSize:function(oSize,bOriginal){var $0=0;var $1=0;var $2=false;var $3=false;var $4=null;var $5=0;var $enum1=ss.IEnumerator.getEnumerator(this.$4_5);while($enum1.moveNext()){var $6=$enum1.current;$2=(Kepler.Engine.UI.Menu.SystemMenuItem).isInstanceOfType($6);$3=(Kepler.Engine.UI.Menu.MenuItemNavigator).isInstanceOfType($6)&&!(Kepler.Engine.UI.Menu.ListMenuCtrl).isInstanceOfType($6);$1+=((bOriginal)?$6.get_originalHeight():$6.get_height());if((!(Kepler.Engine.UI.Menu.MenuItemNavigator).isInstanceOfType($6)||(Kepler.Engine.UI.Menu.ListMenuCtrl).isInstanceOfType($6))&&!$2){$1+=((Kepler.Engine.UI.Menu.MenuWnd.sameMenuItemType($4,$6))?Kepler.Engine.UI.Menu.MenuWnd.toucH_MARGIN_VERT*2:Kepler.Engine.UI.Menu.MenuWnd.toucH_MARGIN_VERT);}$5=((bOriginal)?$6.get_originalWidth():$6.get_width());$5+=(($3)?0:(Kepler.Engine.UI.Menu.MenuWnd.toucH_MARING_HORZ*2));if($0<=$5){$0=$5;if($2){$0+=2;}}if($2){$1+=2;}$4=$6;}$1+=Kepler.Engine.UI.Menu.MenuWnd.toucH_MARGIN_VERT;oSize.set_width($0);oSize.set_height($1);},equateAllMenuItemsWt:function(bOriginalWt,bWidth){var $0=0;var $1=false;var $enum1=ss.IEnumerator.getEnumerator(this.$4_5);while($enum1.moveNext()){var $4=$enum1.current;if($4!=null){$1=(Kepler.Engine.UI.Menu.MenuItemNavigator).isInstanceOfType($4)&&!(Kepler.Engine.UI.Menu.ListMenuCtrl).isInstanceOfType($4);if($4.get_width()>$0||$1){$0=$4.get_originalWidth();if($1){break;}}}}var $2=Kepler.Engine.UI.Menu.MenuWnd.toucH_MARING_HORZ*2;$2*=(($1)?-1:1);var $3=0;var $enum2=ss.IEnumerator.getEnumerator(this.$4_5);while($enum2.moveNext()){var $5=$enum2.current;if($5!=null){if(!(Kepler.Engine.UI.Menu.MenuItemNavigator).isInstanceOfType($5)||(Kepler.Engine.UI.Menu.ListMenuCtrl).isInstanceOfType($5)){$3=$0+$2;if((Kepler.Engine.UI.Menu.SeperatorMenuItem).isInstanceOfType($5)){$3=($0-$5.get_rectangle().get_left()+$2);}if(bOriginalWt){$5.set_originalWidth($3);}if(bWidth){$5.set_width($3);}}}}},changeMenuItemHeight:function(oMenuItem,iHeight,bUpdateMenuWndHeight){var $0=0;if(ss.isNullOrUndefined(bUpdateMenuWndHeight)){bUpdateMenuWndHeight=false;}if(bUpdateMenuWndHeight){$0=this._oSize.get_height()-oMenuItem.get_height();}var $1=this.getElementFromItem(oMenuItem);if($1!=null){var $2=$($1);var $3=$2.children('div[name='+Kepler.Engine.UI.Menu.MenuWnd.iteM_NAME+']')[0];var $4=$2.children('div[name='+Kepler.Engine.UI.Menu.MenuWnd.iteM_NAME+']')[0];var $5=$2.children('div#'+'menuitem-hint')[0];Kepler.Engine.UI.Helper.HtmlCssHelper.setElementHeight($1,iHeight.toString());if(!ss.isNullOrUndefined($3)){Kepler.Engine.UI.Helper.HtmlCssHelper.setElementHeight($3,iHeight.toString());}if(!ss.isNullOrUndefined($4)){Kepler.Engine.UI.Helper.HtmlCssHelper.setElementHeight($4,iHeight.toString());}if(!ss.isNullOrUndefined($5)){Kepler.Engine.UI.Helper.HtmlCssHelper.setElementHeight($5,(iHeight-4).toString());}oMenuItem.set_height(iHeight);}if((Kepler.Engine.UI.Menu.MenuItemScrollAndNav).isInstanceOfType(oMenuItem)){(oMenuItem).updateScrollBar(iHeight,oMenuItem.getComputedHeight());}},changeMenuItemWidth:function(menuItem,iWidth){var $0=this.getElementFromItem(menuItem);if($0!=null){var $1=$($0);var $2=$1.children('div[name='+Kepler.Engine.UI.Menu.MenuWnd.iteM_NAME+']')[0];var $3=$1.children('div[name='+Kepler.Engine.UI.Menu.MenuWnd.iteM_NAME+']')[0];var $4=$1.children('div#'+'menuitem-hint')[0];Kepler.Engine.UI.Helper.HtmlCssHelper.setElementWidth($0,iWidth.toString());if(!ss.isNullOrUndefined($2)){Kepler.Engine.UI.Helper.HtmlCssHelper.setElementWidth($2,iWidth.toString());}if(!ss.isNullOrUndefined($3)){Kepler.Engine.UI.Helper.HtmlCssHelper.setElementWidth($3,iWidth.toString());}if(!ss.isNullOrUndefined($4)){Kepler.Engine.UI.Helper.HtmlCssHelper.setElementWidth($4,(iWidth-4).toString());}menuItem.set_width(iWidth);}},$4_29:function(){var $0=0;var $enum1=ss.IEnumerator.getEnumerator(this.$4_5);while($enum1.moveNext()){var $1=$enum1.current;if(ss.isValue($1)&&$1.get_rectangle().get_width()>$0){$0=$1.get_rectangle().get_width();}}this._oSizeOriginal.set_width($0+2);},getMenuItemScrollbarWidth:function(oMenuItem){if((Kepler.Engine.UI.Menu.MenuItemScrollAndNav).isInstanceOfType(oMenuItem)){return (oMenuItem).get_scrollbarWidth();}return 0;},extendMenuWidth:function(iWidthExtension){var $enum1=ss.IEnumerator.getEnumerator(this.$4_5);while($enum1.moveNext()){var $0=$enum1.current;this.changeMenuItemWidth($0,$0.get_originalWidth()+iWidthExtension);}return true;},resetMenuWidth:function(bResetChildWidth){if(ss.isNullOrUndefined(bResetChildWidth)){bResetChildWidth=false;}if(bResetChildWidth){var $enum1=ss.IEnumerator.getEnumerator(this.$4_5);while($enum1.moveNext()){var $0=$enum1.current;this.changeMenuItemWidth($0,$0.get_originalWidth());}}return true;},setMenuWidth:function(iWidth){this._oSize.set_width(iWidth);if(this.get_recreateMenu()){this.createMenu();}var $enum1=ss.IEnumerator.getEnumerator(this.$4_5);while($enum1.moveNext()){var $0=$enum1.current;this.changeMenuItemWidth($0,iWidth-2);}this.$4_29();},resetMenuHeight:function(){this._oSize.set_height(this._oSizeOriginal.get_height());Kepler.Engine.UI.Helper.HtmlCssHelper.setElementHeight(this.get_element(),this._oSize.get_height().toString());return true;},canLaunchRtClkMenu:function(){return (this.get_rightClkMenu()!==Kepler.Engine.UI.Menu.MenuWnd.rtclK_MENU_DONT_SHOW&&this.$4_2<0);},$4_2A:function(){return this.sendMessageToParent('msg_is_menu_in_view',this.$4_0,null);},anyMenuItemHighlighted:function(){var $enum1=ss.IEnumerator.getEnumerator(this.$4_5);while($enum1.moveNext()){var $0=$enum1.current;if(ss.isValue($0)&&$0.isMenuItemHighlighted($0.get_highlight())){return true;}}return false;},showMenu:function(menuParams,wndParentPopup){this.$4_F=wndParentPopup;this.$4_9=menuParams._oLaunchFrom;this.$4_A=(!String.isNullOrEmpty(menuParams._strLaunchFrom))?menuParams._strLaunchFrom:this.$4_A;if(!ss.isNullOrUndefined(this._oActiveMenuItem)){this._oActiveMenuItem.changeState(Kepler.Framework.UI.Controls.EItemState.eNormal,this.$4_10);}this.$4_10=null;this._oActiveMenuItem=null;this.$4_D=-1;this.$4_3=-1;this.$4_2=-1;var $0=this.get_recreateMenu();this.hideTooltip();this.set_rightClkMenu((ss.isValue(this.$4_F))?(((this.$4_F).get_isRtClkMenu())?Kepler.Engine.UI.Menu.MenuWnd.rtclK_MENU_DONT_SHOW:this.$4_1):this.$4_1);if(!(Kepler.Engine.UI.Menu.BaseMenuManager).isInstanceOfType(this.get_parent())){this.$4_8.sendMessage('msg_add_ctrl',this,null);}Kepler.Engine.UI.Helper.HtmlCssHelper.addElementAttribute(this.get_element(),'aria-hidden','false');this.get_elementStyle().visibility='hidden';this.show(true);if($0){if(ss.isNull(this.$4_7)){this.$4_7=this.findScrollableItem();if(this.$4_7!=null&&!this.$4_6){var $2=(this.$4_7).get_itemSize();if($2!=null){this.$4_E=$2.get_height();}}}this.equateAllMenuItemsWt(true,true);this.createMenu();}var $1=this.$4_27(menuParams);this.moveWindowToRect($1);this.get_elementStyle().visibility='';this.$4_21();this.$4_26();this.$4_C=true;},hideMenu:function(oDOMEventArgs){if(ss.isNullOrUndefined(Kepler.Engine.UI.Menu.MenuWnd.callBaseMethod(this, 'get_element'))){return false;}this.hideTooltip();Kepler.Engine.UI.Helper.HtmlCssHelper.addElementAttribute(this.get_element(),'aria-hidden','true');this.resetHoverItem();this.resetFocusItem();if(ss.isValue(this.$4_7)){(this.$4_7).resetScroll();}this.show(false);this.$4_3=-1;this.$4_2=-1;this.$4_F=null;if(this.getFocus()===this){if(this.$4_9!=null&&Type.canCast(this.$4_9,Kepler.Engine.UI.Controls.Control)){(this.$4_9).setFocus();}else{Kepler.Engine.Core.EngineApp.get_engine().get_currentApp().getAppFrame().setFocus();}}if((Kepler.Framework.Core.Messaging.IMessageProvider).isInstanceOfType(this.$4_9)){return (this.$4_9).sendMessage('msg_menu_close',oDOMEventArgs,this);}return false;},showPopUp:function(elemMenuItem,oMenuItem,iDefaultActiveItem){if(this.$4_3!==-1||ss.isNullOrUndefined(oMenuItem)||ss.isNullOrUndefined(elemMenuItem)){return;}if(oMenuItem.get_popUpMenuNo()!==-1&&oMenuItem.get_enabled()){this.$4_3=oMenuItem.get_popUpMenuNo();var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementRect(elemMenuItem);var $1=new Kepler.Engine.UI.MenuWnd_MenuParams(this,this.$4_3,iDefaultActiveItem,$0,null);$1.setPositioningOrder(2);$1.addPositioningOrder(0);$1.addPositioningOrder(3);this.sendMessageToParent('msg_show_menu',this.$4_3,$1);}},showTooltip:function(ptLaunch){if(Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){return;}if(ss.isValue(this._oActiveMenuItem)){if(this._oActiveMenuItem.get_popUpMenuNo()<=0){var $0=null;if(ss.isValue($0=this._oActiveMenuItem.getTtLaunchParams(ptLaunch))){this._oTooltipMgr.showTooltip($0);}}}},hideTooltip:function(){if(Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){return;}this._oTooltipMgr.hideTooltip();},hideAccessoryMenus:function(bHideRtClkMenu,bHidePopUpMenu){if(bHidePopUpMenu){if(this.$4_3>0){(this.get_parent()).hideMenu(this.$4_3);}}if(bHideRtClkMenu){if(this.$4_2>0){(this.get_parent()).hideMenu(this.$4_2);}}},$4_2B:function($p0){var $0=false;this._bRDownCapture=false;var $1=this.$4_28($p0);if(this.$4_4&&$1){this.releaseCapture();var $2=[];var $3=Kepler.Engine.UI.Helper.HtmlCssHelper.getAttachedObjectFromElementTree($p0.get_target(),Kepler.Engine.UI.Menu.MenuWnd.iteM_NAME,$2);var $4=$2[0];$0=this.$4_2C($3,$4,$p0);this.$4_11=null;this.$4_12=null;}this.set_validClk(true);return $0;},$4_2C:function($p0,$p1,$p2){var $0=false;if(this.canLaunchRtClkMenu()){this.$4_2=this.get_rightClkMenu();var $1=ss.isValue($p1)&&$p0.get_menuSubItemCount()>0;if($1){this.$4_2=($p0).get_rtClickMenu();}else if(ss.isValue($p1)&&(Kepler.Engine.UI.Menu.NavigatorBar).isInstanceOfType($p0)){this.$4_2=Kepler.Engine.UI.Menu.MenuWnd.rtclK_MENU_DONT_SHOW;}if(this.$4_2>0){if((this.$4_8).isMenuInList(this.$4_2)){this.$4_12=this._oActiveMenuItem;this.$4_11=this.$4_10;var $2='';this.setActiveItem($p0,$p1);if($1){($p0).onRButtonUp($p2,$p1);$2=($p0.get_id()*1000+($p0).get_menuHoverSubItem()).toString();}else{this.resetHoverItem();this.resetFocusItem();$2=$p0.get_id().toString();}this.hideAccessoryMenus(false,true);var $3=(this.get_parent()).getMenuWnd(this.$4_2);var $4=null;if(ss.isValue($p2)){var $6=Kepler.Engine.UI.Controls.Control.getClientPointFromEventArgs($p2);$4=new Kepler.Framework.UI.Rect($6.get_x(),$6.get_y(),1,1);}else{$4=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientRect($p1);$4.set_top($4.get_top()+$4.get_height());$4.set_width($4.set_height(1));}var $5=new Kepler.Engine.UI.MenuWnd_MenuParams(this,this.$4_2,null,$4,$2);$5.setPositioningOrder(2);if(ss.isValue($3)){$3.$4_1=-1;}this.sendMessageToParent('msg_show_menu',this.$4_2,$5);$0=true;}}}if(!$0){this.$4_2=-1;this.$4_11=null;this.$4_12=null;}return $0;},setActiveItem:function(oMenuItem,elemMenuItem){var $0=false;if(elemMenuItem!==this.$4_10||oMenuItem!==this._oActiveMenuItem){if(ss.isValue(this.$4_10)&&ss.isValue(this._oActiveMenuItem)){this._oActiveMenuItem.changeState(Kepler.Framework.UI.Controls.EItemState.eNormal,this.$4_10);this._oActiveMenuItem=null;this.$4_10=null;this.hideAccessoryMenus(false,true);}if(ss.isValue(elemMenuItem)&&ss.isValue(oMenuItem)){$0=oMenuItem.get_enabled()||(Kepler.Engine.UI.Menu.SystemMenuItem).isInstanceOfType(oMenuItem);if($0){this.$4_10=elemMenuItem;this._oActiveMenuItem=oMenuItem;this._oActiveMenuItem.changeState(Kepler.Framework.UI.Controls.EItemState.eHover,this.$4_10);if(Kepler.Engine.Core.EngineApp.get_engine().get_taskMaster().get_isAccessibility()){this.setAriaAttributes();}}}}else if(ss.isValue(this.$4_10)&&ss.isValue(this._oActiveMenuItem)){$0=true;}return $0;},getAriaSpeech:function(){var $0='';if(ss.isValue(this._oActiveMenuItem)){this.set_ariaRole('menuitem');var $1=this.$4_2E(this._oActiveMenuItem);$0=this.$4_2D(this._oActiveMenuItem);if(!this._oActiveMenuItem.get_isCheckable()){if(!this._oActiveMenuItem.get_enabled()){$0+=' Unavailable ';}}else{if(this._oActiveMenuItem.get_checked()){$0+=' checked ';}}if(this._oActiveMenuItem.get_popUpMenuNo()!==-1){$0+=' Submenu ';Kepler.Engine.UI.Menu.MenuWnd.$4_1B=true;}if(!(Type.canCast(this._oActiveMenuItem,Kepler.Engine.UI.Menu.MiscMenuItem))){$0+=$1;}this.$4_30(this._oActiveMenuItem);}else{this.set_ariaRole('menubar');if(!Kepler.Engine.UI.Menu.MenuWnd.$4_1B){Kepler.Engine.UI.Menu.MenuWnd.$4_1C=true;if(Type.canCast(this.get_launchFrom(),Ribbon.BaseRibbonManager)){var $2=this.get_launchFrom();var $3=$2.get_menuLaunchedFromItem();if(ss.isValue($3)){$0=$3.$B();if($2.get_isFileTabActive()&&String.isNullOrEmpty($0)){$0='Context Menu '+this.$4_2E(this.$4_5[0]);}}else{$0='Context Menu';}}else{$0='Context Menu ';$0+=this.$4_2E(this.$4_5[0]);}}else{Kepler.Engine.UI.Menu.MenuWnd.$4_1B=false;}}return $0;},$4_2D:function($p0){var $0='';var $1=this.$4_2F(this._oActiveMenuItem);var $2=new RegExp('\\<[^\\>]*\\>');if(!String.isNullOrEmpty($1)){$0=$1;}else if(!String.isNullOrEmpty(this._oActiveMenuItem.get_text())&&!this._oActiveMenuItem.get_menuSubItemCount()){$0=this._oActiveMenuItem.get_text();}else{$0=this._oActiveMenuItem.get_actionString();if(!String.isNullOrEmpty($0)){$0=$0.substring($0.indexOf('>')+1,$0.length);}}while($0.search($2)!==-1){$0=$0.replace($2,'');}$0=$0.replaceAll(Kepler.Framework.Core.Seperators.z_CARON,' ');$0=$0.replaceAll(Kepler.Framework.Core.Seperators.v_CROSS,' ');$0=$0.replaceAll(Kepler.Framework.Core.Seperators.doublE_CROSS,' ');return $0;},$4_2E:function($p0){var $0=this.get_launchFrom();var $1='';while(ss.isValue($0)&&ss.isValue($p0)&&(!String.isNullOrEmpty($p0.get_kbrdShortcut())||Type.canCast($p0,Kepler.Engine.UI.Menu.MiscMenuItem))){if(Type.canCast($0,Kepler.Engine.UI.Menu.MenuWnd)){var $2=$0;var $3=$2._oActiveMenuItem;if(ss.isValue($3)){$1=' '+$3.get_kbrdShortcut()+$1;}$0=$2.get_launchFrom();}else if(Type.canCast($0,Ribbon.BaseRibbonManager)&&!($0).get_isFileTabActive()){var $4=$0;var $5=$4.get_menuLaunchedFromItem();if(ss.isValue($5)){$1=' alt followed by '+$5.$6()+' '+$1+' '+$p0.get_kbrdShortcut();}else{$1=$p0.get_kbrdShortcut();}break;}else{$1=' '+$p0.get_kbrdShortcut();break;}}return $1;},$4_2F:function($p0){var $0='';if(ss.isValue($p0)&&ss.isValue($p0.get_ttParams())){$0=$p0.get_ttParams()._strTextualData;}return $0;},$4_30:function($p0){if(Kepler.Engine.UI.Menu.MenuWnd.$4_1C){if(Type.canCast(this.get_launchFrom(),Ribbon.BaseRibbonManager)){if(this.$4_32($p0)){Kepler.Engine.UI.Menu.MenuWnd.$4_1C=false;}}}},$4_31:function($p0){var $0='';if(Kepler.Engine.UI.Menu.MenuWnd.$4_1C&&Type.canCast(this.get_launchFrom(),Ribbon.BaseRibbonManager)&&this.$4_32($p0)){var $1=this.get_launchFrom();var $2=$1.get_menuLaunchedFromItem();if(Type.canCast($2,Ribbon.RibbonMiscMenuBtn)){}else{if(ss.isValue($2)){$0=$2.$8();}}}return $0;},$4_32:function($p0){return ss.isValue($p0)&&Type.canCast($p0,Kepler.Engine.UI.Menu.MenuItemNavigator);},resetActiveItem:function(){if(this.$4_3!==-1){return;}if(ss.isValue(this._oActiveMenuItem)&&ss.isValue(this.$4_10)){this._oActiveMenuItem.changeState(Kepler.Framework.UI.Controls.EItemState.eNormal,this.$4_10);this._oActiveMenuItem=null;this.$4_10=null;}this.hideTooltip();},resetHoverItem:function(){if(ss.isValue(this.$4_10)&&ss.isValue(this._oActiveMenuItem)){this._oActiveMenuItem.changeState(Kepler.Framework.UI.Controls.EItemState.eNormal,this.$4_10);this._oActiveMenuItem=null;this.$4_10=null;}},resetFocusItem:function(){if(this.$4_D>=0){this.$4_5[this.$4_D].changeState(Kepler.Framework.UI.Controls.EItemState.eNormal,this.get_focusElement());this.$4_D=-1;}},$4_33:function($p0){var $0=this.$4_5.indexOf($p0);if($0===-1){return 0;}if(($p0.get_popUpMenuNo()===-1)&&$p0.get_actionableItem()){(this.$4_8).onMenuItemCommand($p0,true);this.$4_8.sendMessage('msg_hide_menu',null,null);return 7;}else if(($p0.get_popUpMenuNo()!==-1)){this.setActiveItem($p0,$p0.get_elemMenuItem());this.showPopUp($p0.get_elemMenuItem(),$p0,0);return 6;}return 0;},onLoad:function(){Kepler.Engine.UI.Menu.MenuWnd.callBaseMethod(this, 'onLoad');this.$4_17.setOptions(false,false,false,true,5);this.$4_34();},onUnload:function(){this.$4_8=null;this.$4_F=null;Kepler.Engine.UI.Menu.MenuWnd.callBaseMethod(this, 'onUnload');},$4_34:function(){this.addEvents(Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseDown);this.addEvents(Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseUp);this.addEvents(Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseOver);this.addEvents(Kepler.Framework.UI.Events.EventArgsNs.EventType.touchStart);this.addEvents(Kepler.Framework.UI.Events.EventArgsNs.EventType.touchMove);this.addEvents(Kepler.Framework.UI.Events.EventArgsNs.EventType.touchEnd);},onKeyDown:function(KeyEventArgs){if(KeyEventArgs.get_key()!==Kepler.Framework.UI.Events.EventArgsNs.Keys.tab){Kepler.Engine.UI.Menu.MenuWnd.callBaseMethod(this, 'onKeyDown',[KeyEventArgs]);}KeyEventArgs.set_defaultPrevented(true);KeyEventArgs.set_propogationStopped(true);this.$4_35(KeyEventArgs);if(Type.canCast(this.$4_9,Ribbon.RibbonItemContainer)){var $0=this.$4_9;var $1=$0.get_focusItem();if(ss.isValue($1)&&(Ribbon.EditableRibbonItem).isInstanceOfType($1)){$0.onKeyDown(KeyEventArgs);}}},$4_35:function($p0){var $0=$p0.get_key();var $1=-1;var $2=0;var $3=null;var $4=null;if(ss.isValue(this._oActiveMenuItem)){$1=this.$4_5.indexOf(this._oActiveMenuItem);$2=this._oActiveMenuItem.get_menuSubItemCount();}var $5=true;var $6=this.$4_5.length;switch($0){case Kepler.Framework.UI.Events.EventArgsNs.Keys.menu:$5=false;(this.$4_8).hideMenu(-1);this.sendMessageToParent('msg_hide_minitoolbar',null,null);this.sendMessageToParent('msg_hide_pane_as_menu',null,null);break;case Kepler.Framework.UI.Events.EventArgsNs.Keys.space:$5=false;if(!((Ribbon.RibbonItemContainer).isInstanceOfType(this.$4_9)&&(Ribbon.EditableRibbonItem).isInstanceOfType((this.$4_9).get_currentItem()))){if(0===this.onMsgDetectMode(null,null)){if(ss.isValue(this._oActiveMenuItem)){if($2<=0&&this._oActiveMenuItem.get_popUpMenuNo()!==-1){this.showPopUp(this.getElementFromItem(this.$4_5[$1]),this.$4_5[$1],0);}else if(Type.canCast(this._oActiveMenuItem,Kepler.Engine.UI.Menu.CategoryMenuItem)){(this._oActiveMenuItem).showContext(this.$4_10,0);}else{(this.$4_8).set_keepKbdHooks(true);(this.$4_8).onMenuItemCommand(this._oActiveMenuItem,true);}}}}break;case Kepler.Framework.UI.Events.EventArgsNs.Keys.done:case Kepler.Framework.UI.Events.EventArgsNs.Keys.enter:$5=false;if(0===this.onMsgDetectMode(null,null)){if(ss.isValue(this._oActiveMenuItem)){if($2<=0&&this._oActiveMenuItem.get_popUpMenuNo()!==-1){this.showPopUp(this.getElementFromItem(this.$4_5[$1]),this.$4_5[$1],0);}else if(Type.canCast(this._oActiveMenuItem,Kepler.Engine.UI.Menu.CategoryMenuItem)){(this._oActiveMenuItem).showContext(this.$4_10,0);}else{(this.$4_8).set_keepKbdHooks(true);(this.$4_8).onMenuItemCommand(this._oActiveMenuItem,true);}}}break;case Kepler.Framework.UI.Events.EventArgsNs.Keys.cancel:case Kepler.Framework.UI.Events.EventArgsNs.Keys.escape:$5=false;if((Kepler.Framework.Core.Messaging.IMessageProvider).isInstanceOfType(this.$4_9)){(this.$4_9).sendMessage('msg_undo_on_esc_key',this,null);}(this.$4_8).hideMenu(this.$4_0);break;case Kepler.Framework.UI.Events.EventArgsNs.Keys.up:if($2>0){$4=(this._oActiveMenuItem).handleKeyUp();$3=this._oActiveMenuItem;}if(ss.isNullOrUndefined($4)){do{$1--;if($1<0){$1=$6-1;}}while(this.$4_5[$1].get_isSeperator()||!this.$4_5[$1].get_enabled());$3=this.$4_5[$1];$4=this.getElementFromItem($3);if($3.get_menuSubItemCount()>0){$4=($3).handleKeyUp();}}break;case Kepler.Framework.UI.Events.EventArgsNs.Keys.down:if($2>0){$4=(this._oActiveMenuItem).handleKeyDown();$3=this._oActiveMenuItem;}if(ss.isNullOrUndefined($4)){do{$1++;if($1===$6){$1=0;}}while(this.$4_5[$1].get_isSeperator()||!this.$4_5[$1].get_enabled());$3=this.$4_5[$1];$4=this.getElementFromItem($3);if($3.get_menuSubItemCount()>0){$4=($3).handleKeyDown();}}break;case Kepler.Framework.UI.Events.EventArgsNs.Keys.left:if($1>=0){if($2<=0){$5=false;if(ss.isValue(this.$4_F)){(this.$4_8).hideMenu(this.$4_0);}}else{if((this._oActiveMenuItem).isHoverOnFirstCol()&&ss.isValue(this.$4_F)){$5=false;(this.$4_8).hideMenu(this.$4_0);}else{$4=(this._oActiveMenuItem).handleKeyLeft();$3=this._oActiveMenuItem;}}}break;case Kepler.Framework.UI.Events.EventArgsNs.Keys.right:if($1>=0){if($2<=0){$5=false;this.showPopUp(this.getElementFromItem(this.$4_5[$1]),this.$4_5[$1],0);}else{$4=(this._oActiveMenuItem).handleKeyRight();$3=this._oActiveMenuItem;}}break;case Kepler.Framework.UI.Events.EventArgsNs.Keys.tab:var $7=-1;if(ss.isValue(this._oActiveMenuItem)&&ss.isValue(this.$4_10)&&$2>0){$7=(this._oActiveMenuItem).get_subItemsElement().indexOf(this.$4_10);}if($p0.get_shiftKey()){if($2>0){if($7===-1){$7=$2-1;}else{$7--;}if(Type.getInstanceType(this._oActiveMenuItem)===Kepler.Engine.UI.Menu.ListMenuCtrl){for(;$7>=0&&(this._oActiveMenuItem).get_menuSubItems()[$7].get_isSeperator();$7=$7-1){}}if($7>=0){$3=this._oActiveMenuItem;$4=(this._oActiveMenuItem).get_subItemsElement()[$7];(this._oActiveMenuItem).scrollToItem($7);}}if($7===-1){if($1<=0){$1=$6-1;if(this.$4_5[$1].get_isSeperator()){for($1=$1-1;this.$4_5[$1].get_isSeperator()&&$1>=0;$1=$1-1){}}}else{for($1=$1-1;this.$4_5[$1].get_isSeperator()&&$1>=0;$1=$1-1){}}$2=this.$4_5[$1].get_menuSubItemCount();$3=this.$4_5[$1];if($1!==-1&&$2>0){$7=$2-1;if(Type.getInstanceType($3)===Kepler.Engine.UI.Menu.ListMenuCtrl){for(;$7>=0&&($3).get_menuSubItems()[$7].get_isSeperator();$1=$1-1){}}$4=($3).get_subItemsElement()[$7];($3).scrollToItem($7);}else if($1!==-1){$4=this.getElementFromItem($3);}}}else{if($2>0){if($7===-1){$7=0;}else{$7++;}if(Type.getInstanceType(this._oActiveMenuItem)===Kepler.Engine.UI.Menu.ListMenuCtrl){for(;$7<$2&&(this._oActiveMenuItem).get_menuSubItems()[$7].get_isSeperator();$7=$7+1){}}if($7<$2){$3=this._oActiveMenuItem;$4=(this._oActiveMenuItem).get_subItemsElement()[$7];(this._oActiveMenuItem).scrollToItem($7);}}if($7>=$2||$7===-1){if($1>=$6-1||$1<0){$1=0;if(this.$4_5[$1].get_isSeperator()){for($1=$1+1;this.$4_5[$1].get_isSeperator()&&$1<$6;$1=$1+1){}}}else{for($1=$1+1;this.$4_5[$1].get_isSeperator()&&$1<$6;$1=$1+1){}}$2=this.$4_5[$1].get_menuSubItemCount();$3=this.$4_5[$1];if($1!==-1&&$2>0){$7=0;if(Type.getInstanceType($3)===Kepler.Engine.UI.Menu.ListMenuCtrl){for(;$7<$2&&($3).get_menuSubItems()[$7].get_isSeperator();$7=$7+1){}}$4=($3).get_subItemsElement()[$7];($3).scrollToItem($7);}else if($1!==-1){$4=this.getElementFromItem($3);}}}break;case Kepler.Framework.UI.Events.EventArgsNs.Keys.apps:$5=false;$p0.set_defaultPrevented(true);Kepler.Engine.UI.Controls.Control.stopHookEventPropagation($p0);this.$4_2C(this._oActiveMenuItem,this.$4_10,null);break;default:$5=false;break;}if($5){this.setActiveItem($3,$4);(this.$4_8).set_reset(false);this.scrollToItem($3,$4);}return $5;},onLButtonDown:function(mouseEventArgs){Kepler.Engine.UI.Menu.MenuWnd.callBaseMethod(this, 'onLButtonDown',[mouseEventArgs]);this.hideTooltip();this.hideAccessoryMenus(true,true);this.onMouseOver(mouseEventArgs);if(ss.isValue(this._oActiveMenuItem)&&this._oActiveMenuItem.get_enabled()){this._oActiveMenuItem.onLButtonDown(this.$4_10);}this.$4_4=this.$4_28(mouseEventArgs);mouseEventArgs.set_defaultPrevented(true);},onLButtonUp:function(mouseEventArgs){Kepler.Engine.UI.Menu.MenuWnd.callBaseMethod(this, 'onLButtonUp',[mouseEventArgs]);if(mouseEventArgs.get_cleanUpEvent()){return;}if(Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){this.onMouseOver(mouseEventArgs);}var $0=this;if(ss.isValue(this._oActiveMenuItem)){if((this._oActiveMenuItem.get_menuSubItemCount()>0&&this._oActiveMenuItem.get_menuSubItemCount()===-1)){mouseEventArgs.set_propogationStopped(true);}else if(!this._oActiveMenuItem.get_isSeperator()&&this._oActiveMenuItem.get_enabled()){var $1=this.$4_28(mouseEventArgs);if(this.$4_4&&$1){this._oActiveMenuItem.onLButtonUp(this.$4_10);}}else{mouseEventArgs.set_propogationStopped(true);}}this.resetActiveItem();this.set_validClk(true);mouseEventArgs.set_defaultPrevented(true);return;},onRButtonDown:function(mouseEventArgs){Kepler.Engine.UI.Menu.MenuWnd.callBaseMethod(this, 'onRButtonDown',[mouseEventArgs]);if(this.getCapture()===this||this.get_isScrolling()){return;}this.hideTooltip();this.hideAccessoryMenus(true,false);if(ss.isValue(this._oActiveMenuItem)&&(Kepler.Engine.UI.Menu.MiscMenuItem).isInstanceOfType(this._oActiveMenuItem)){this.onMouseOver(mouseEventArgs);}this._bRDownCapture=true;this._bMenuSuccessfullyLaunched=false;this.$4_4=this.$4_28(mouseEventArgs);if(Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientRect(this.$4_10);if(this.$4_4&&ss.isValue($0)&&$0.isPtInRect(this.$4_1A.get_x(),this.$4_1A.get_y())){this._bMenuSuccessfullyLaunched=this.$4_2B(mouseEventArgs);}}},onRButtonUp:function(mouseEventArgs){if(Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){if(!this.get_isScrolling()){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientRect(this.$4_10);if((Kepler.Engine.UI.Menu.NavigatorBar).isInstanceOfType(this._oActiveMenuItem)||(!this._bMenuSuccessfullyLaunched)){this.onLButtonUp(mouseEventArgs);}}return;}else{this.$4_2B(mouseEventArgs);}},onMouseOver:function(mouseEventArgs){if(!this.$4_4){return;}var $0=[];var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getAttachedObjectFromElementTree(mouseEventArgs.get_target(),Kepler.Engine.UI.Menu.MenuWnd.iteM_NAME,$0);var $2=Kepler.Engine.UI.Controls.Control.getClientPointFromEventArgs(mouseEventArgs);$2.set_y($2.get_y()+20);if(!this.$4_C||Kepler.Engine.Core.EngineApp.get_engine().get_isShowMe()){if(this.setActiveItem($1,$0[0])){if(!Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()&&$1.get_popUpMenuNo()!==-1&&!(Type.canCast($1,Kepler.Engine.UI.Menu.CategoryMenuItem))){this.showPopUp($0[0],$1,null);Kepler.Engine.UI.Engine$1D.get_$4_2().$4_F();}this.showTooltip($2);}else{this.resetActiveItem();}}this.$4_C=false;},$4_36:function($p0){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getParentElementByName($p0.get_target(),Kepler.Engine.UI.Menu.MenuWnd.iteM_NAME);var $1=null;if(ss.isValue($0)&&$0.hasAttribute('index')){var $3=parseInt($0.getAttribute('index').toString(),10);$1=this.$4_5[$3];}var $2=0;$1=(ss.isValue($1))?$1:this._oActiveMenuItem;if(ss.isValue($1)&&(Kepler.Engine.UI.Menu.MenuItemScrollAndNav).isInstanceOfType($1)){$2=($1).onMouseWheel($p0);}if(!$2&&this._bScrollViewRequired){this.$4_37($p0);}},$4_37:function($p0){var $0=-$p0.get_delta()/3;var $1=24;var $2=$0*$1;this.$4_24($2,$2>0);},$4_38:function($p0){var $0=null;var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getParentElementByAttr($p0.get_target(),'parentindex');var $2=null;if(ss.isValue($1)&&$1.hasAttribute('index')){var $3=parseInt($1.getAttribute('index').toString(),10);$2=this.$4_5[$3];}$2=(ss.isValue($2))?$2:this._oActiveMenuItem;if((Kepler.Engine.UI.Menu.MenuItemScrollAndNav).isInstanceOfType($2)){var $4=$2;if($4.get_isScrollbarVisible()){$0=$4.get_scrollerView();}}else if(this._bScrollViewRequired){$0=this.$4_17;}return $0;},onTouchStart:function(touchEventArgs){this.hideAccessoryMenus(true,true);if(touchEventArgs.get_touches().length===1){this.onMouseOver(touchEventArgs);}this.$4_16=this.$4_38(touchEventArgs);if(ss.isValue(this.$4_16)){this.$4_16.scrollStart(touchEventArgs);}this.$4_1A=Kepler.Engine.UI.Controls.Control.getClientPointFromEventArgs(touchEventArgs);Kepler.Engine.UI.Menu.MenuWnd.callBaseMethod(this, 'onTouchStart',[touchEventArgs]);},onTouchMove:function(evt){if(ss.isValue(this.$4_16)){this.$4_16.scroll(evt);}this.$4_1A=Kepler.Engine.UI.Controls.Control.getClientPointFromEventArgs(evt);Kepler.Engine.UI.Menu.MenuWnd.callBaseMethod(this, 'onTouchMove',[evt]);},onTouchEnd:function(evt){if(ss.isValue(this.$4_16)){this.$4_16.scrollEnd(evt);if(this.$4_16===this.$4_17){this.$4_23();}}this.$4_16=null;Kepler.Engine.UI.Menu.MenuWnd.callBaseMethod(this, 'onTouchEnd',[evt]);},onFocus:function(oFocusedPrevControl){Kepler.Engine.UI.Menu.MenuWnd.callBaseMethod(this, 'onFocus',[oFocusedPrevControl]);},onScroll:function(){this.$4_23();},$4_39:function(){this.attachMessage('eONDetectMode',ss.Delegate.create(this,this.onMsgDetectMode));this.attachMessage('msg_scroll_menu',ss.Delegate.create(this,this.onMsgScrollMenu));this.attachMessage('msg_menu_close',ss.Delegate.create(this,this.onMsgMenuClose));},onMsgMenuClose:function(wParam,lParam){var $0=lParam;if(this.$4_2===$0.get_menuNo()){if(ss.isValue(this.$4_11)&&ss.isValue(this.$4_12)){this._oActiveMenuItem.changeState(Kepler.Framework.UI.Controls.EItemState.eNormal,this.$4_10);this._oActiveMenuItem=null;this.$4_10=null;this.setActiveItem(this.$4_12,this.$4_11);}else{this.resetHoverItem();this.resetFocusItem();}this.$4_2=-1;}else if(this.$4_3===$0.get_menuNo()){this.$4_3=-1;}return null;},onMsgDetectMode:function(wParam,lParam){return Kepler.Engine.Core.EngineApp.get_engine().get_applicationMode();},onMsgScrollMenu:function(wParam,lParam){var $0=wParam;var $1=15;this.$4_24($1,$0);return null;}}
Kepler.Engine.UI.Menu.ExploreFileTabMenuWnd=function(iMenuNo,oMenuManager){Kepler.Engine.UI.Menu.ExploreFileTabMenuWnd.initializeBase(this,[iMenuNo,oMenuManager]);this._divScrollArea.style.height=287+'px';this._divScrollArea.style.backgroundColor='#F6F7F8';this.$4_3F=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div',null,'absolute',0,0,215,-1,null,null);this.$4_3F.style.borderBottom='1px solid #DCDDDE';this.$4_3F.style.borderRight='1px solid #DCDDDE';this.$4_3F.style.backgroundColor='#FBFCFD';this.$4_40=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div',null,'absolute',215+1,0,300,268,null,null);this.$4_40.style.borderBottom='1px solid #DCDDDE';this.$4_40.style.paddingLeft='1px';this.$4_40.style.backgroundColor='#F6F7F8';Kepler.Engine.UI.Helper.HtmlCssHelper.addChild(this._divScrollArea,this.$4_3F,null);Kepler.Engine.UI.Helper.HtmlCssHelper.addChild(this._divScrollArea,this.$4_40,null);this._oSize=new Kepler.Framework.UI.Size(517,287);this._oSizeOriginal=new Kepler.Framework.UI.Size(517,287);}
Kepler.Engine.UI.Menu.ExploreFileTabMenuWnd.prototype={$4_3F:null,$4_40:null,updateSize:function(){this._oSize=new Kepler.Framework.UI.Size(517,287);this._oSizeOriginal=new Kepler.Framework.UI.Size(517,287);},createMenu:function(){var $0=this.get_menuItems().length;for(var $1=0;$1<$0;$1++){var $2=this.get_menuItems()[$1];if(ss.isNullOrUndefined($2)){this.get_menuItems().remove($2);$1--;}else if($2.get_recreateItem()){this.createMenuItem($1);}if(!$2.get_recreateItem()){var $3=this.getElementFromItem($2);Kepler.Engine.UI.Helper.HtmlCssHelper.addElementAttribute($3,'index',$1.toString());var $4=this.$4_3F.offsetHeight;if($4<268){Kepler.Engine.UI.Helper.HtmlCssHelper.addChild(this.$4_3F,$3,null);}else{Kepler.Engine.UI.Helper.HtmlCssHelper.addChild(this.$4_40,$3,null);}}}this.updateSize();Kepler.Engine.UI.Helper.HtmlCssHelper.setElementZindex(this.get_element(),(this.canLaunchRtClkMenu())?Kepler.Framework.UI.Controls.ZIndexConstants.frame_Menu_Min.toString():Kepler.Framework.UI.Controls.ZIndexConstants.frame_RtClkMenu.toString());},createMenuItem:function(iIdx){var $0=this.get_menuItems()[iIdx-1];var $1=this.get_menuItems()[iIdx];if(ss.isNullOrUndefined($1)){return;}if(!$1.get_isSeperator()){var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div','','relative',0,0,$1.get_rectangle().get_width(),$1.get_rectangle().get_height(),null,null);$2.setAttribute('name',Kepler.Engine.UI.Menu.MenuWnd.iteM_NAME);this.applyMargin($2,$0,$1);Kepler.Engine.UI.Helper.HtmlCssHelper.addElementAttribute($2,'index',iIdx.toString());Kepler.Engine.UI.Helper.HtmlCssHelper.addElementAttribute($2,'parentindex',this.get_menuNo().toString());Kepler.Engine.UI.Helper.HtmlCssHelper.addElementAttribute($2,'role','menuitem');$2.tabIndex=-1;if(!String.isNullOrEmpty($1.get_tooltip())){Kepler.Engine.UI.Helper.HtmlCssHelper.addElementAttribute($2,'aria-labelledby',$1.get_tooltip());}if((Kepler.Engine.UI.Menu.SystemMenuItem).isInstanceOfType($1)){var $3=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div','menu-v-sep','absolute',0,-1,25,$1.get_rectangle().get_height()+2,'class_menu_Vline',null);Kepler.Engine.UI.Helper.HtmlCssHelper.addChild($2,$3,null);}$1.createMenuItem($2,0,0);if($1.isMenuItemHighlighted($1.get_highlight())){var $4=$1.highlightSubItem($2,$1.get_highlight());if(!$4){Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass($2,'box_shadow_visual_hint');}}}else{var $5=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div','','relative',$1.get_rectangle().get_left(),0,$1.get_rectangle().get_width(),$1.get_rectangle().get_height(),null,null);$5.setAttribute('name',Kepler.Engine.UI.Menu.MenuWnd.iteM_NAME);this.applyMargin($5,$0,$1);Kepler.Engine.UI.Helper.HtmlCssHelper.addElementAttribute($5,'index',iIdx.toString());Kepler.Engine.UI.Helper.HtmlCssHelper.addElementAttribute($5,'parentindex',this.get_menuNo().toString());$1.createMenuItem($5,0,0);}if((Kepler.Engine.UI.Menu.MenuItemScrollAndNav).isInstanceOfType($1)){var $6=$1;$6.itemCreated();}$1.set_recreateItem(false);},showPopUp:function(elemMenuItem,oMenuItem,iDefaultActiveItem){if(this.get_popUpMenuNo()!==-1||ss.isNullOrUndefined(oMenuItem)||ss.isNullOrUndefined(elemMenuItem)){return;}if(oMenuItem.get_popUpMenuNo()!==-1&&oMenuItem.get_enabled()){this.set_popUpMenuNo(oMenuItem.get_popUpMenuNo());var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementRect(this.get_menuItems()[0].get_elemMenuItem());$0.set_width($0.get_width()+2);var $1=new Kepler.Engine.UI.MenuWnd_MenuParams(this,this.get_popUpMenuNo(),iDefaultActiveItem,$0,null);$1.setPositioningOrder(2);this.sendMessageToParent('msg_show_menu',this.get_popUpMenuNo(),$1);}},$4_33:function($p0){if((Kepler.Engine.UI.Menu.Items.SubMenuArrowBtnMenuItem).isInstanceOfType($p0)){this.setActiveItem($p0,$p0.get_elemMenuItem());this.showPopUp($p0.get_elemMenuItem(),$p0,0);return 6;}if((Kepler.Engine.UI.Menu.Items.SplitBtnTypeMenuItem).isInstanceOfType($p0)){(this.get_msgParent()).onMenuItemCommand($p0,true);this.get_msgParent().sendMessage('msg_hide_menu',null,null);return 7;}return Kepler.Engine.UI.Menu.ExploreFileTabMenuWnd.callBaseMethod(this, '$4_33',[$p0]);},showTooltip:function(ptLaunch){if(Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){return;}if(ss.isValue(this._oActiveMenuItem)){var $0=null;var $1=this._oActiveMenuItem.get_ttParams();var $2=false;if(ss.isValue($1)){$2=Kepler.Engine.UI.Controls.Tooltip.TooltipManager.isActionableTooltip(this._oActiveMenuItem.get_ttParams()._eType);}$0=new Kepler.Engine.UI.Controls.Tooltip.TooltipLaunch_Params($1,$2,null,false,this._oActiveMenuItem.get_id(),this);if(ss.isValue($0)){this._oTooltipMgr.showTooltip($0);}}}}
Type.registerNamespace('Kepler.Engine.UI.MetroUiControls.MenuLaunchBtn');Kepler.Engine.UI.MetroUiControls.MenuLaunchBtn.MenuLaunchBtn=function(strHtml,oPos,oSize,iMenuNumber,strCssClass,strId){Kepler.Engine.UI.MetroUiControls.MenuLaunchBtn.MenuLaunchBtn.initializeBase(this,[oPos,oSize,iMenuNumber,strCssClass,strId]);if(ss.isValue(strHtml)){this.$3_2=true;this.$3_3=strHtml;}this._strClassName=((ss.isValue(strCssClass)&&''!==strCssClass)?' '+strCssClass:' menu_launch_btn');this.get_element().className=this._strClassName+' '+this._strClassName+'_normal';this.createContentPart();}
Kepler.Engine.UI.MetroUiControls.MenuLaunchBtn.MenuLaunchBtn.prototype={_strClassName:null,$3_2:false,$3_3:null,$3_4:null,$3_5:null,createContentPart:function(){this.get_element().style.verticalAlign='middle';var $0=document.createElement('table');$0.style.width='100%';$0.style.height='100%';Kepler.Engine.UI.Helper.HtmlCssHelper.setStyleProperty($0,'border-spacing','0px');var $1=$0.insertRow(0);this.$3_5=$1.insertCell(0);if(this.$3_2){this.$3_5.style.paddingLeft='2px';this.$3_5.style.textAlign='left';this.$3_5.innerHTML=this.$3_3;}var $2=$1.insertCell(1);$2.style.verticalAlign='middle';this.$3_4=document.createElement('div');this.$3_4.className=' menu_launcher_btn_dwn_arrow'+' menu_launcher_btn_dwn_arrow'+'_normal';$2.appendChild(this.$3_4);this.get_element().appendChild($0);},drawItem:function(eState){var $0='';switch(eState){case Kepler.Framework.UI.Controls.EItemState.eFocus:case Kepler.Framework.UI.Controls.EItemState.eHover:$0='_hover';break;case Kepler.Framework.UI.Controls.EItemState.eNormal:$0='_normal';break;case Kepler.Framework.UI.Controls.EItemState.ePressed:$0='_pressed';break;case Kepler.Framework.UI.Controls.EItemState.eDisabled:if(!this.get_visible()){$0='_disabled'+Kepler.Engine.UI.Controls.Control.csS_CLASS_DISPLAY_NONE;}else{$0='_disabled';}break;default:throw new Error('Not Implemented Exception : '+'eState');}if($0.length>0){this.get_element().className=this._strClassName+this._strClassName+$0;}},onEventProcessClick:function(mouseEventArgs){Kepler.Engine.UI.MetroUiControls.MenuLaunchBtn.MenuLaunchBtn.callBaseMethod(this, 'onEventProcessClick',[mouseEventArgs]);this.launchMenu();}}
Type.registerNamespace('Kepler.Engine.UI.MetroUiControls.MetroAppPaneCtrl');Kepler.Engine.UI.MetroUiControls.MetroAppPaneCtrl.ELanunchType=function(){};Kepler.Engine.UI.MetroUiControls.MetroAppPaneCtrl.ELanunchType.prototype = {eTop:0,eBottom:1}
Kepler.Engine.UI.MetroUiControls.MetroAppPaneCtrl.ELanunchType.registerEnum('Kepler.Engine.UI.MetroUiControls.MetroAppPaneCtrl.ELanunchType',false);Kepler.Engine.UI.MetroUiControls.MetroAppPaneCtrl.RightClickPane=function(strClassName,strId,height,eLaunchType){Kepler.Engine.UI.MetroUiControls.MetroAppPaneCtrl.RightClickPane.initializeBase(this,['div',strClassName+Kepler.Engine.UI.Controls.Control.csS_CLASS_POSITION_ABSOLUTE,strId]);this.$3_0=eLaunchType;this.set_height(height);this.$3_1=false;this.set_doNotHandleAsAParent(true);}
Kepler.Engine.UI.MetroUiControls.MetroAppPaneCtrl.RightClickPane.prototype={$3_0:0,$3_1:false,get_isVisible:function(){return this.$3_1;},set_isVisible:function(value){this.$3_1=value;return value;},onLoad:function(){Kepler.Engine.UI.MetroUiControls.MetroAppPaneCtrl.RightClickPane.callBaseMethod(this, 'onLoad');this.$3_3(-this.get_height());this.$3_2();},$3_2:function(){if(!this.$3_0){Kepler.Engine.UI.Helper.HtmlCssHelper.applyTransition(this.get_element(),'top','300ms');}else{Kepler.Engine.UI.Helper.HtmlCssHelper.applyTransition(this.get_element(),'bottom','300ms');}},$3_3:function($p0){if(!this.$3_0){this.set_top($p0);}else{this.set_bottom($p0);}},showHidePane:function(bShow){if(bShow){this.$3_3(0);this.$3_1=true;}else{this.$3_3(-this.get_height());this.$3_1=false;}},onParentResized:function(szParent){Kepler.Engine.UI.MetroUiControls.MetroAppPaneCtrl.RightClickPane.callBaseMethod(this, 'onParentResized',[szParent]);this.set_width(szParent.get_width());}}
Type.registerNamespace('Kepler.Engine.UI.DocumentProperties');Kepler.Engine.UI.DocumentProperties.DocumentPropertiesImageItem=function(){Kepler.Engine.UI.DocumentProperties.DocumentPropertiesImageItem.initializeBase(this);}
Kepler.Engine.UI.DocumentProperties.DocumentPropertiesImageItem.prototype={$18:null,$19:null,$1A:null,$1B:null,initialiseDocImage:function(iId,rcMouse,rcTouch,iMenuNo,iRtClkMenu,strText,strImageClass,oMsgParent,szImage,strNormal,strHover,strPressed){Kepler.Engine.UI.DocumentProperties.DocumentPropertiesImageItem.callBaseMethod(this, 'initialise',[iId,rcMouse,rcTouch,iMenuNo,iRtClkMenu,strText,strImageClass,oMsgParent,szImage,strNormal,strHover,strPressed]);if(!String.isNullOrEmpty(strNormal)){this.$18=strNormal;}if(!String.isNullOrEmpty(strHover)){this.$19=strHover;}if(!String.isNullOrEmpty(strPressed)){this.$1A=strPressed;}if(ss.isValue(szImage)){this.$1B=szImage;}},createRibbonItem:function(bTouchMode){Kepler.Engine.UI.DocumentProperties.DocumentPropertiesImageItem.callBaseMethod(this, 'createRibbonItem',[bTouchMode]);this._elemItem.rbnItem=this;},drawItem:function(element){var $0='';var $1='';var $2='';switch(this._eToState){case Kepler.Framework.UI.Controls.EItemState.eNormal:$0=this.$19+' '+this.$1A;$1=this.$18;$2='';break;case Kepler.Framework.UI.Controls.EItemState.eHover:$0=this.$18+' '+this.$1A;$1=this.$19;$2=this._oThemeDetails.get_colorNormalLight();break;case Kepler.Framework.UI.Controls.EItemState.ePressedHover:case Kepler.Framework.UI.Controls.EItemState.ePressed:$0=this.$18+' '+this.$19;$1=this.$1A;$2=this._oThemeDetails.get_colorNormalDark();break;case Kepler.Framework.UI.Controls.EItemState.eFocus:break;case Kepler.Framework.UI.Controls.EItemState.eFocusHover:break;default:break;}Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(this._elemItem,$0);Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this._elemItem,$1);this._elemItem.style.backgroundColor=$2;this._elemItem.style.borderColor=$2;}}
Kepler.Engine.UI.DocumentProperties.DocumentPropertiesLable=function(){Kepler.Engine.UI.DocumentProperties.DocumentPropertiesLable.initializeBase(this);this._bFocusable=false;this._elemItem=document.createElement('div');this._elemItem.className='document_properties_label';}
Kepler.Engine.UI.DocumentProperties.DocumentPropertiesLable.prototype={initialise:function(iId,rcMouse,rcTouch,iMenuNo,iRtClkMenu,strText,strImageClass,oMsgParent,bIsTextMultiline){Kepler.Engine.UI.DocumentProperties.DocumentPropertiesLable.callBaseMethod(this, 'initialise',[iId,rcMouse,rcTouch,iMenuNo,iRtClkMenu,strText,strImageClass,oMsgParent]);},createRibbonItem:function(bTouchMode){var $0=document.createElement('div');$0.innerHTML=this.get_text();var $1=this.getItemRect(bTouchMode);this.setItemRect(this._elemItem,$1);this._elemItem.appendChild($0);this._elemItem.rbnItem=this;this._elemItem.style.paddingBottom='3px';}}
Kepler.Engine.UI.DocumentProperties.DocumentPropertiesPane=function(oAppFrame){this.$4_3A=Kepler.Framework.UI.Events.EventArgsNs.Keys.enter;Kepler.Engine.UI.DocumentProperties.DocumentPropertiesPane.initializeBase(this,['document_properties_id','document_properties_class',oAppFrame.get_touchMode()]);this._strTaitPrefix='Document Properties';this.$4_17=document.createElement('div');this.$4_17.style.width=this.get_element().style.width;this.$4_17.style.height=this.get_element().style.height;this.$4_17.style.position='relative';this.get_element().appendChild(this.$4_17);this.$4_18=document.createElement('div');this.$4_18.style.overflow='hidden';this.$4_17.appendChild(this.$4_18);var $0=new Kepler.Framework.UI.Scroller.ScrollStruct();$0.scrollElement=this.$4_17;$0.bHandleEvents=true;$0.hScroll=true;$0.onScrollMove=ss.Delegate.create(this,this.$4_3C);this.$4_16=this.setScrollable($0);this.$4_16.set_animationTime(0);this._sbVertical=new Kepler.Engine.UI.Controls.VScrollBar(new Kepler.Framework.UI.Point(0,0),new Kepler.Framework.UI.Size(18,139));this._sbVertical.set_iSendMsgParent(this);this._sbVertical.set_mfcBehaviour(false);this._sbVertical.set_scrollBarType(Kepler.Engine.UI.Controls.EScrollBarType.APP);this._eScrollbarMode=Kepler.Engine.UI.Controls.EScrollbarMode.AUTO;this._sbVertical.get_element().style.right='0px';Kepler.Engine.UI.Helper.HtmlCssHelper.setElementTop(this._sbVertical.get_element(),'0');this._sbVertical.onLoadFromNonControlParent();this._sbVertical.show(false);this.get_element().appendChild(this._sbVertical.get_element());this._sbHorizontal=new Kepler.Engine.UI.Controls.HScrollBar(new Kepler.Framework.UI.Point(0,0),new Kepler.Framework.UI.Size(702,18));this._sbHorizontal.set_iSendMsgParent(this);this._sbHorizontal.set_mfcBehaviour(false);this._sbHorizontal.set_scrollBarType(Kepler.Engine.UI.Controls.EScrollBarType.APP);this._sbHorizontal.get_element().style.bottom='0px';this._sbHorizontal.get_element().style.left='0px';this._sbHorizontal.onLoadFromNonControlParent();this._sbHorizontal.show(false);this.get_element().appendChild(this._sbHorizontal.get_element());this.$4_3D();this.attachEvents();this.attachMouseEvent();this.createElements();this.initialiseItems(oAppFrame);this.appendElementsToParent();this.applyStylesToItems();this.$4_37=[];this.addItemsToList();}
Kepler.Engine.UI.DocumentProperties.DocumentPropertiesPane.prototype={i:100000,$4_16:null,get_scrollView:function(){return this.$4_16;},$4_17:null,$4_18:null,_sbVertical:null,get_isScrollbarVisible:function(){return this._sbVertical.get_visible();},_sbHorizontal:null,get_isHScrollbarVisible:function(){return this._sbHorizontal.get_visible();},_eScrollbarMode:0,get_scrollbarMode:function(){return this._eScrollbarMode;},set_scrollbarMode:function(value){this._eScrollbarMode=value;return value;},$4_19:null,$4_1A:null,$4_1B:null,$4_1C:null,$4_1D:null,$4_1E:null,$4_1F:null,$4_20:null,$4_21:null,$4_22:null,$4_23:null,$4_24:null,$4_25:null,$4_26:null,$4_27:null,$4_28:null,$4_29:null,$4_2A:null,$4_2B:null,$4_2C:null,$4_2D:null,$4_2E:null,$4_2F:null,$4_30:null,$4_31:null,$4_32:null,$4_33:null,$4_34:null,$4_35:null,$4_36:null,$4_37:null,$4_38:0,$4_39:false,createElements:function(){this.$4_19=new Ribbon.RibbonItemStatic();this.$4_1A=new Ribbon.RibbonItemNormal();this.$4_1B=new Kepler.Engine.UI.DocumentProperties.DocumentPropertiesLable();this.$4_1C=new Kepler.Engine.UI.DocumentProperties.DocumentPropertiesTextBox();this.$4_1D=new Kepler.Engine.UI.DocumentProperties.DocumentPropertiesLable();this.$4_1E=new Kepler.Engine.UI.DocumentProperties.DocumentPropertiesTextBox();this.$4_1F=new Kepler.Engine.UI.DocumentProperties.DocumentPropertiesLable();this.$4_20=new Kepler.Engine.UI.DocumentProperties.DocumentPropertiesTextBox();this.$4_21=new Kepler.Engine.UI.DocumentProperties.DocumentPropertiesLable();this.$4_22=new Kepler.Engine.UI.DocumentProperties.DocumentPropertiesTextBox();this.$4_23=new Kepler.Engine.UI.DocumentProperties.DocumentPropertiesLable();this.$4_24=new Kepler.Engine.UI.DocumentProperties.DocumentPropertiesTextBox();this.$4_25=new Kepler.Engine.UI.DocumentProperties.DocumentPropertiesLable();this.$4_26=new Kepler.Engine.UI.DocumentProperties.DocumentPropertiesTextBox();this.$4_27=new Kepler.Engine.UI.DocumentProperties.DocumentPropertiesLable();this.$4_28=new Kepler.Engine.UI.DocumentProperties.DocumentPropertiesTextBox();this.$4_29=new Kepler.Engine.UI.DocumentProperties.DocumentPropertiesLable();this.$4_2A=new Ribbon.RibbonItemTextBox();this.$4_2B=new Ribbon.RibbonItemStatic();this.$4_2C=new Kepler.Engine.UI.DocumentProperties.DocumentPropertiesLable();this.$4_2D=new Kepler.Engine.UI.DocumentProperties.DocumentPropertiesImageItem();this.$4_2E=document.createElement('div');this.$4_2F=document.createElement('div');this.$4_30=document.createElement('div');this.$4_31=document.createElement('div');this.$4_32=document.createElement('div');this.$4_33=document.createElement('div');this.$4_34=document.createElement('div');this.$4_35=document.createElement('div');this.$4_36=document.createElement('div');},attachMouseEvent:function(){this.addEvents(Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseWheel);},$4_3B:function(){},initialiseItems:function(oAppFrame){this.$4_19.initialise(this.i++,new Kepler.Framework.UI.Rect(8,7,16,16),new Kepler.Framework.UI.Rect(8,7,16,16),-1,-1,'','document_properties_i',this);this.$4_19.createRibbonItem(oAppFrame.get_touchMode());this.$4_1A.initialise(this.i++,new Kepler.Framework.UI.Rect(24,4,135,23),new Kepler.Framework.UI.Rect(24,4,135,23),571,-1,'Document Properties','',this);this.$4_1A.set_border(true);this.$4_1A.set_focusable(true);this.addItemToContainer(this.$4_1A);this.$4_1B.initialise(this.i++,new Kepler.Framework.UI.Rect(0,0,0,12),new Kepler.Framework.UI.Rect(0,0,0,12),-1,-1,'Author:',null,this);this.$4_1B.createRibbonItem(oAppFrame.get_touchMode());this.$4_1C.initialise(this.i++,new Kepler.Framework.UI.Rect(7,48,152,18),new Kepler.Framework.UI.Rect(7,48,152,18),-1,-1,'',null,this);this.$4_1C.createRibbonItem(oAppFrame.get_touchMode());this.$4_1C.set_actionString('Author');this.addItemToContainer(this.$4_1C);this.$4_1D.initialise(this.i++,new Kepler.Framework.UI.Rect(0,0,0,12),new Kepler.Framework.UI.Rect(0,0,0,12),-1,-1,'Title:',null,this);this.$4_1D.createRibbonItem(oAppFrame.get_touchMode());this.$4_1E.initialise(this.i++,new Kepler.Framework.UI.Rect(172,48,152,18),new Kepler.Framework.UI.Rect(172,48,152,18),-1,-1,'',null,this);this.$4_1E.set_actionString('Title');this.$4_1E.createRibbonItem(oAppFrame.get_touchMode());this.addItemToContainer(this.$4_1E);this.$4_1F.initialise(this.i++,new Kepler.Framework.UI.Rect(0,0,0,12),new Kepler.Framework.UI.Rect(0,0,0,12),-1,-1,'Subject:',null,this);this.$4_1F.createRibbonItem(oAppFrame.get_touchMode());this.$4_20.initialise(this.i++,new Kepler.Framework.UI.Rect(337,48,152,18),new Kepler.Framework.UI.Rect(337,48,152,18),-1,-1,'',null,this);this.$4_20.set_actionString('Subject');this.$4_20.createRibbonItem(oAppFrame.get_touchMode());this.addItemToContainer(this.$4_20);this.$4_21.initialise(this.i++,new Kepler.Framework.UI.Rect(0,0,0,12),new Kepler.Framework.UI.Rect(0,0,0,12),-1,-1,'Keywords:',null,this);this.$4_21.createRibbonItem(oAppFrame.get_touchMode());this.$4_22.initialise(this.i++,new Kepler.Framework.UI.Rect(502,48,152,18),new Kepler.Framework.UI.Rect(502,48,152,18),-1,-1,'',null,this);this.$4_22.set_actionString('Keywords');this.$4_22.createRibbonItem(oAppFrame.get_touchMode());this.addItemToContainer(this.$4_22);this.$4_23.initialise(this.i++,new Kepler.Framework.UI.Rect(0,0,0,12),new Kepler.Framework.UI.Rect(0,0,0,12),-1,-1,'Category:',null,this);this.$4_23.createRibbonItem(oAppFrame.get_touchMode());this.$4_24.initialise(this.i++,new Kepler.Framework.UI.Rect(667,48,152,18),new Kepler.Framework.UI.Rect(667,48,152,18),-1,-1,'',null,this);this.$4_24.set_actionString('Category');this.$4_24.createRibbonItem(oAppFrame.get_touchMode());this.addItemToContainer(this.$4_24);this.$4_25.initialise(this.i++,new Kepler.Framework.UI.Rect(0,0,0,12),new Kepler.Framework.UI.Rect(0,0,0,12),-1,-1,'Status:',null,this);this.$4_25.createRibbonItem(oAppFrame.get_touchMode());this.$4_26.initialise(this.i++,new Kepler.Framework.UI.Rect(0,13,152,18),new Kepler.Framework.UI.Rect(832,48,152,18),-1,-1,'',null,this);this.$4_26.set_actionString('Status');this.$4_26.createRibbonItem(oAppFrame.get_touchMode());this.addItemToContainer(this.$4_26);this.$4_27.initialise(this.i++,new Kepler.Framework.UI.Rect(0,0,0,12),new Kepler.Framework.UI.Rect(0,0,0,12),-1,-1,'Comments:',null,this);this.$4_27.set_actionString('Comments');this.$4_27.createRibbonItem(oAppFrame.get_touchMode());this.$4_28.initialise(this.i++,new Kepler.Framework.UI.Rect(0,0,482,45),new Kepler.Framework.UI.Rect(7,86,482,45),-1,-1,'',null,this);this.$4_28.createRibbonItem(oAppFrame.get_touchMode());this.addItemToContainer(this.$4_28);this.$4_2A.initialise(this.i++,new Kepler.Framework.UI.Rect('a',4,340,22),new Kepler.Framework.UI.Rect('a',4,340,22),-1,-1,'',null,this);this.$4_2A.createRibbonItem(oAppFrame.get_touchMode());this.addItemToContainer(this.$4_2A);this.$4_29.initialise(this.i++,new Kepler.Framework.UI.Rect('a',9,49,9),new Kepler.Framework.UI.Rect('a',9,49,9),-1,-1,'Location:',null,this);this.$4_29.createRibbonItem(oAppFrame.get_touchMode());this.$4_2B.initialise(this.i++,new Kepler.Framework.UI.Rect('a',7,16,16),new Kepler.Framework.UI.Rect('a',7,16,16),-1,-1,'','document_properties_star',this);this.$4_2B.createRibbonItem(oAppFrame.get_touchMode());this.$4_2C.initialise(this.i++,new Kepler.Framework.UI.Rect('a',9,75,12),new Kepler.Framework.UI.Rect('a',9,75,12),-1,-1,'Required field',null,this);this.$4_2C.createRibbonItem(oAppFrame.get_touchMode());this.$4_2D.initialiseDocImage(this.i++,new Kepler.Framework.UI.Rect('a',7,16,16),new Kepler.Framework.UI.Rect('a',7,16,16),-1,-1,'','document_properties_close',this,new Kepler.Framework.UI.Size(16,16),'document_properties_close_normal','document_properties_close_hover','document_properties_close_pressed');this.$4_2D.createRibbonItem(oAppFrame.get_touchMode());this.$4_2D.set_focusable(true);this.addItemToContainer(this.$4_2D);if(oAppFrame.get_touchMode()){this.get_element().style.top='186px';}else{this.get_element().style.top='141px';}},applyStylesToItems:function(){this.$4_19.get_elementItem().style.position='relative';this.$4_19.get_elementItem().style.display='inline-block';this.$4_1A.get_elementItem().style.position='relative';this.$4_1A.get_elementItem().style.display='inline-block';this.$4_2A.get_elementItem().style.right='136px';this.$4_2A.get_elementItem().style.position='absolute';this.$4_29.get_elementItem().style.right='486px';this.$4_29.get_elementItem().style.position='absolute';this.$4_2B.get_elementItem().style.right='119px';this.$4_2C.get_elementItem().style.right='42px';this.$4_2C.get_elementItem().style.position='absolute';this.$4_2D.get_elementItem().style.right='16px';Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this.$4_2D.get_elementItem(),'document_properties_sprite');this.$4_35.style.position='relative';this.$4_36.style.position='relative';this.$4_35.style.marginTop='10px';this.$4_36.style.marginTop='6px';this.$4_36.style.marginLeft='6px';this.$4_2E.className='document_properties_parents';this.$4_2F.className='document_properties_parents';this.$4_30.className='document_properties_parents';this.$4_32.className='document_properties_parents';this.$4_33.className='document_properties_parents';this.$4_31.className='document_properties_parents';this.$4_34.className='document_properties_comment';this.get_element().style.height='139px';},appendElementsToParent:function(){this.$4_2E.appendChild(this.$4_1B.get_elementItem());this.$4_2E.appendChild(this.$4_1C.get_elementItem());this.$4_2F.appendChild(this.$4_1D.get_elementItem());this.$4_2F.appendChild(this.$4_1E.get_elementItem());this.$4_30.appendChild(this.$4_1F.get_elementItem());this.$4_30.appendChild(this.$4_20.get_elementItem());this.$4_31.appendChild(this.$4_21.get_elementItem());this.$4_31.appendChild(this.$4_22.get_elementItem());this.$4_32.appendChild(this.$4_23.get_elementItem());this.$4_32.appendChild(this.$4_24.get_elementItem());this.$4_33.appendChild(this.$4_25.get_elementItem());this.$4_33.appendChild(this.$4_26.get_elementItem());this.$4_34.appendChild(this.$4_27.get_elementItem());this.$4_34.appendChild(this.$4_28.get_elementItem());this.$4_35.appendChild(this.$4_2E);this.$4_35.appendChild(this.$4_2F);this.$4_35.appendChild(this.$4_30);this.$4_35.appendChild(this.$4_31);this.$4_35.appendChild(this.$4_32);this.$4_35.appendChild(this.$4_33);this.$4_36.appendChild(this.$4_34);this.$4_18.appendChild(this.$4_19.get_elementItem());this.$4_18.appendChild(this.$4_1A.get_elementItem());this.$4_18.appendChild(this.$4_2A.get_elementItem());this.$4_18.appendChild(this.$4_29.get_elementItem());this.$4_18.appendChild(this.$4_2B.get_elementItem());this.$4_18.appendChild(this.$4_2C.get_elementItem());this.$4_18.appendChild(this.$4_2D.get_elementItem());this.$4_18.appendChild(this.$4_35);this.$4_18.appendChild(this.$4_36);this.$4_28.set_scrollViewObject(this.$4_16);},addItemsToList:function(){this.$4_37.add(this.$4_1C);this.$4_37.add(this.$4_1E);this.$4_37.add(this.$4_20);this.$4_37.add(this.$4_22);this.$4_37.add(this.$4_24);this.$4_37.add(this.$4_26);this.$4_37.add(this.$4_28);this.$4_38=0;this.$4_1C.setFocusOnItem();},onSize:function(){Kepler.Engine.UI.DocumentProperties.DocumentPropertiesPane.callBaseMethod(this, 'onSize');var $0=parseInt(this.get_element().style.height,10);var $1=parseInt(this.get_element().style.width,10);if(this.get_isScrollbarVisible()){$1=$1-18;}this.$4_17.style.width=$1+'px';var $2=$1;if($1<720){$2=720;}this.$4_18.style.width=$2+'px';this.updateHScrollBar($1,$2);if(this.get_isHScrollbarVisible()){$0=$0-18;}this.$4_17.style.height=$0+'px';var $3=this.$4_18.clientHeight;this.updateScrollBar($0,$3);},$4_3C:function(){if(ss.isValue(this.$4_16)&&this.get_isScrollbarVisible()){var $0=-this.$4_16.get_y();this._sbVertical.set_curPos($0);}},$4_3D:function(){this.attachMessage(Kepler.Engine.UI.Controls.ScrollBarBase.msG_SCROLL_POS_CHANGED,ss.Delegate.create(this,this.$4_3E));this.attachMessage(Kepler.Engine.UI.Controls.ScrollBarBase.msG_SCROLL_POS_CHANGING,ss.Delegate.create(this,this.$4_3F));},$4_3E:function($p0,$p1){var $0=($p1);if($0===this._sbVertical){this.$4_40(this._sbVertical.get_curPos());}if($0===this._sbHorizontal){this.$4_42(this._sbHorizontal.get_curPos());}return null;},$4_3F:function($p0,$p1){var $0=($p1);if($0===this._sbVertical){this.$4_40(this._sbVertical.get_curPos());}if($0===this._sbHorizontal){this.$4_42(this._sbHorizontal.get_curPos());}return null;},$4_40:function($p0){if(ss.isValue(this.$4_16)){var $0=this.$4_41($p0);this.$4_16.scrollToXY(0,$0);}},$4_41:function($p0){$p0=-$p0;var $0=this.$4_16.get_y();var $1=this.$4_16.get_maxScrollY();var $2=this.$4_16.get_minScrollY();var $3=$0-$p0;if($3>($0-$1)){$3=($0-$1);}if($3<($0-$2)){$3=($0-$2);}return $3;},updateScrollBar:function(iVisibleHeight,iScrollableHeight){var $0=0;var $1=iScrollableHeight-iVisibleHeight;var $2=true;if($1<=$0){$1=$0;$2=false;}else{$2=true;}if(this.get_scrollbarMode()===Kepler.Engine.UI.Controls.EScrollbarMode.NONE){this._sbVertical.show(false);}else if(this.get_scrollbarMode()===Kepler.Engine.UI.Controls.EScrollbarMode.AUTO){this._sbVertical.show($2);}else if(this.get_scrollbarMode()===Kepler.Engine.UI.Controls.EScrollbarMode.shoW_ALWAYS){this._sbVertical.set_enable($2);}Kepler.Engine.UI.Helper.HtmlCssHelper.setElementTop(this._sbVertical.get_element(),'0');this._sbVertical.set_height(iVisibleHeight);this._sbVertical.setBounds($0,$1);this._sbVertical.set_pageStep(iVisibleHeight);this._sbVertical.set_curPos(0);if(ss.isValue(this.$4_16)){this.$4_16.refresh();this.$4_16.setOptions(false,false,false,false,0);this.$4_16.scrollToStart();}},onMsgScrollOnFocus:function(wParam,lParam){var $0=wParam;var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementRect(this.get_element());var $2=0,$3=0;if($0.get_bottom()>=$1.get_bottom()||$0.get_top()<=$1.get_top()){var $4=$0.get_top()-$1.get_top();if(this._sbVertical.get_visible()){$3=this.$4_41($4);}}if($0.get_right()>=$1.get_right()||$0.get_left()<=$1.get_left()){var $5=$0.get_left()-$1.get_left();if(this._sbHorizontal.get_visible()){$2=this.$4_43($5);}}this.$4_16.scrollToXY($2,$3);return true;},onMouseWheel:function(evt){Kepler.Engine.UI.DocumentProperties.DocumentPropertiesPane.callBaseMethod(this, 'onMouseWheel',[evt]);var $0=evt.get_delta();$0=$0*3+1;this._sbVertical.performScroll(-$0);},$4_42:function($p0){if(ss.isValue(this.$4_16)){var $0=this.$4_43($p0);this.$4_16.scrollToXY($0,0);}},$4_43:function($p0){$p0=-$p0;var $0=this.$4_16.get_x();var $1=this.$4_16.get_maxScrollX();var $2=0;var $3=$0-$p0;if($3>($0-$1)){$3=($0-$1);}if($3<($0-$2)){$3=($0-$2);}return $3;},updateHScrollBar:function(iVisibleWidth,iScrollableWidth){var $0=0;var $1=iScrollableWidth-iVisibleWidth;var $2=true;if($1<=$0){$1=$0;$2=false;}else{$2=true;}this._sbHorizontal.show($2);Kepler.Engine.UI.Helper.HtmlCssHelper.setElementLeft(this._sbHorizontal.get_element(),'0');this._sbHorizontal.set_width(iVisibleWidth);this._sbHorizontal.setBounds($0,$1);this._sbHorizontal.set_pageStep(iVisibleWidth);this._sbHorizontal.set_curPos(0);if(ss.isValue(this.$4_16)){this.$4_16.refresh();this.$4_16.setOptions(false,false,false,false,0);this.$4_16.scrollToStart();}},setData:function(mapData){this.setActionDataDocPane(mapData);this.$4_44(mapData);},$4_44:function($p0){var $0=7;this._lstHighlightedItems.clear();this._iHighlightedItemsIdx=0;this.resetOverrides(this._mapOverrideState);this.resetOverrides(this._mapTempOverrideState);var $1=Kepler.Engine.Core.TaitHelper.parseCountDataTags($p0,'document_override_count','document_override_data');if(ss.isValue($1)){var $enum1=ss.IEnumerator.getEnumerator($1);while($enum1.moveNext()){var $2=$enum1.current;var $3=new Ribbon.RibbonItemState();var $4=$2.split(Kepler.Framework.Core.Seperators.miD_DOT,$0);var $5=parseInt($4[0],10);$3.set_enabled(parseInt($4[1],10));$3.set_checked(parseInt($4[2],10));$3.set_selectedIndex(parseInt($4[3],10));$3.set_highlighted(parseInt($4[4],10));$3.set_imageClass($4[5]);$3.set_text($4[6]);$3.set_toolTip($4[7]);this._mapOverrideState[$5]=$3;}this.setOverrides(this._mapOverrideState);if(Kepler.Engine.Core.EngineApp.get_engine().get_isShowMe()){if(ss.isValue(this.get_focusItem())&&(Kepler.Engine.UI.DocumentProperties.DocumentPropertiesTextBox).isInstanceOfType(this.get_focusItem())){var $6=this.get_focusItem();var $7='';$7=$6.get_text();$6.get_textBox().setSelection($7.length,$7.length);}}}},setActionDataDocPane:function(mapData){var $0=7;this._lstAction.clear();var $1=Kepler.Engine.Core.TaitHelper.parseCountDataTags(mapData,'document_action_count','document_action_data');if(ss.isValue($1)){var $enum1=ss.IEnumerator.getEnumerator($1);while($enum1.moveNext()){var $2=$enum1.current;var $3=new Ribbon.ItemAction();var $4=$2.split(Kepler.Framework.Core.Seperators.miD_DOT);$3.set_id(parseInt($4[0],10));$3.set_index(parseInt($4[1],10));$3.set_frameJump(parseInt($4[2],10));$3.set_subFrameJump(parseInt($4[3],10));$3.set_checkWithViewInBool((1===parseInt($4[4],10)));$3.set_checkWithViewInText($4[5]);$3.set_text($4[6]);this._lstAction.add($3);if($4.length>8){this.$4_3A=parseInt($4[8]);}}}},onKeyDown:function(KeyEventArgs){switch(KeyEventArgs.get_key()){case Kepler.Framework.UI.Events.EventArgsNs.Keys.tab:this.processTabKeyNav();break;}Kepler.Engine.UI.DocumentProperties.DocumentPropertiesPane.callBaseMethod(this, 'onKeyDown',[KeyEventArgs]);},processTabKeyNav:function(){this.setFocusedItemNo();var $0=null;this.$4_38+=1;if(ss.isValue(this.$4_37[this.$4_38])){$0=this.$4_37[this.$4_38];}else{this.$4_38=0;$0=this.$4_37[this.$4_38];}$0.setFocusOnItem();if(!this.$4_39&&(!Kepler.Engine.Core.EngineApp.get_engine().get_isShowMe()&&Kepler.Engine.Core.EngineApp.get_engine().get_isTutorial())){this.$4_38-=1;if(this.$4_38<0){this.$4_38=this.$4_37.length-1;}$0=this.$4_37[this.$4_38];$0.setFocusOnItem();}},setFocusedItemNo:function(){var $0=this.get_focusItem();if(ss.isValue($0)){for(var $1=0;$1<this.$4_37.length;$1++){var $2=this.$4_37[$1];if($2.get_id()===$0.get_id()){this.$4_38=$1;break;}}}},onMsgRibbonItemCommand:function(wParam,lParam){this.$4_39=Kepler.Engine.UI.DocumentProperties.DocumentPropertiesPane.callBaseMethod(this, 'onMsgRibbonItemCommand',[wParam,lParam]);return this.$4_39;},setFocus:function(){var $0;if(this.getFocus()!==this){if(!(Kepler.Engine.UI.DocumentProperties.DocumentPropertiesTextBox).isInstanceOfType(this.get_focusItem())&&!Kepler.Engine.Core.EngineApp.get_engine().get_isTutorial()&&!Kepler.Engine.Core.EngineApp.get_engine().get_isShowMe()){$0=Kepler.Engine.UI.DocumentProperties.DocumentPropertiesPane.callBaseMethod(this, 'setFocus');this.$4_1C.setFocusOnItem();}else if((Kepler.Engine.UI.DocumentProperties.DocumentPropertiesTextBox).isInstanceOfType(this.get_focusItem())){$0=Kepler.Engine.UI.DocumentProperties.DocumentPropertiesPane.callBaseMethod(this, 'setFocus');this.get_focusItem().setFocusOnItem();}else{$0=this;}}else{$0=this;}return $0;}}
Kepler.Engine.UI.DocumentProperties.DocumentPropertiesTextBox=function(){Kepler.Engine.UI.DocumentProperties.DocumentPropertiesTextBox.initializeBase(this);}
Kepler.Engine.UI.DocumentProperties.DocumentPropertiesTextBox.prototype={$D:null,get_scrollViewObject:function(){return this.$D;},set_scrollViewObject:function(value){this.$D=value;return value;},createRibbonItem:function(bTouchMode){this._elemItem.style.position='relative';this._elemItem.style.top='0px';this._elemItem.style.left='0px';},drawItem:function(element){switch(this._eToState){case Kepler.Framework.UI.Controls.EItemState.eNormal:this._elemItem.style.borderColor=(!!this._iFocus)?this._oThemeDetails.get_colorPressed():'';break;case Kepler.Framework.UI.Controls.EItemState.eHover:this._elemItem.style.borderColor='#696969';break;case Kepler.Framework.UI.Controls.EItemState.ePressed:case Kepler.Framework.UI.Controls.EItemState.ePressedHover:case Kepler.Framework.UI.Controls.EItemState.eFocus:case Kepler.Framework.UI.Controls.EItemState.eFocusHover:this._elemItem.style.borderColor=this._oThemeDetails.get_colorPressed();break;default:break;}},processEnter:function(KeyEvtArgs){if(KeyEvtArgs.get_key()===Kepler.Framework.UI.Events.EventArgsNs.Keys.enter&&Kepler.Engine.UI.BaseAppFrame.get_toucH_MODE()){return true;}KeyEvtArgs.set_propogationStopped(true);KeyEvtArgs.set_defaultPrevented(true);return true;},isCorrectAction:function(oItemAction){return (!this.get_text().compareTo(oItemAction.get_text(),false));},getShowMeEle:function(){var $0;if(this.get_highlight()===1){$0=this._oTextBox.get_textControl().get_textElement();}else{$0=Kepler.Engine.UI.DocumentProperties.DocumentPropertiesTextBox.callBaseMethod(this, 'getShowMeEle');}return $0;},onKeyPress:function(KeyEvtArgs){if(KeyEvtArgs.get_key()===Kepler.Framework.UI.Events.EventArgsNs.Keys.tab){return;}Kepler.Engine.UI.DocumentProperties.DocumentPropertiesTextBox.callBaseMethod(this, 'onKeyPress',[KeyEvtArgs]);}}
Type.registerNamespace('Kepler.Engine.UI.Menu.Items');Kepler.Engine.UI.Menu.Items.SplitBtnTypeMenuItem=function(){Kepler.Engine.UI.Menu.Items.SplitBtnTypeMenuItem.initializeBase(this);this.$19=new Kepler.Engine.UI.Menu.Items.SubMenuArrowBtnMenuItem();}
Kepler.Engine.UI.Menu.Items.SplitBtnTypeMenuItem.prototype={$18:null,$19:null,get_arrowBtnMenuItem:function(){return this.$19;},$1A:false,get_isSubMenuBtn:function(){return this.$1A;},get_enabled:function(){return Kepler.Engine.UI.Menu.Items.SplitBtnTypeMenuItem.callBaseMethod(this, 'get_enabled');},set_enabled:function(value){Kepler.Engine.UI.Menu.Items.SplitBtnTypeMenuItem.callBaseMethod(this, 'set_enabled',[value]);this.$19.set_enabled(value);return value;},$1B:null,$1C:false,get_isMenuItemCmdBlocked:function(){return false;},initialise:function(iId,strText,strImageStyle,strAcc,iWidth,iHeight,iPopUpMenuNo,strTextStyle,szImg,eChekableType,bSwapTextAndIcon,bIsSubMenuBtn,strSplitBtnKbcSc){Kepler.Engine.UI.Menu.Items.SplitBtnTypeMenuItem.callBaseMethod(this, 'initialise',[iId,strText,strImageStyle,strAcc,iWidth,iHeight,iPopUpMenuNo,strTextStyle,szImg,eChekableType,bSwapTextAndIcon]);this.$1A=bIsSubMenuBtn;this.$1B=strSplitBtnKbcSc;},createMenuItem:function(elmMenuItem,iLeft,iTop){Kepler.Engine.UI.Menu.Items.SplitBtnTypeMenuItem.callBaseMethod(this, 'createMenuItem',[elmMenuItem,iLeft,iTop]);elmMenuItem.style.width=this.get_width()-2+'px';elmMenuItem.style.height=this.get_height()-2+'px';elmMenuItem.style.border='1px solid';elmMenuItem.style.borderColor='transparent';var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementByAttr(elmMenuItem,"[name='"+'menuitem-icon'+"']");var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementByAttr(elmMenuItem,"[name='"+'menuitem-text'+"']");if(!ss.isNullOrUndefined($0)&&!ss.isNullOrUndefined($1)){this.$18=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div','iconandtextelementwrapper','absolute',null,null,null,null,null,null);this.$18.style.height=elmMenuItem.style.height;this.$18.style.width=parseInt(elmMenuItem.style.width,10)-23+'px';Kepler.Engine.UI.Helper.HtmlCssHelper.addChild(this.$18,$0,null);Kepler.Engine.UI.Helper.HtmlCssHelper.addChild(this.$18,$1,null);Kepler.Engine.UI.Helper.HtmlCssHelper.addChild(elmMenuItem,this.$18,null);$1.style.left='44px';}if(this.$1A){var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementById(elmMenuItem,'menuitem-arrow');if(!ss.isNullOrUndefined($2)){$2.style.position='absolute';$2.style.left='11px';this.$19.initialise(this.get_id()*10,null,null,null,23,this.get_rectangle().get_height(),this.get_popUpMenuNo());var $3=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div',null,null,null,null,null,null,null,null);$3.setAttribute('name','menuitem');Kepler.Engine.UI.Helper.HtmlCssHelper.addElementAttribute($3,'index','1');Kepler.Engine.UI.Helper.HtmlCssHelper.addElementAttribute($3,'role','menuitem');this.$19.createMenuItem($3,-1,-1);Kepler.Engine.UI.Helper.HtmlCssHelper.addChild(this.$19.get_elemMenuItem(),$2,null);Kepler.Engine.UI.Helper.HtmlCssHelper.addChild(elmMenuItem,this.$19.get_elemMenuItem(),null);this.$19.set_kbrdShortcut(this.$1B);this.$19.set_parentMenu(this.get_parentMenu());}else{this.$1A=false;}}},drawState:function(element){if(ss.isNullOrUndefined(this.$18)){return;}var $0='';var $1='';switch(this._eToState){case Kepler.Framework.UI.Controls.EItemState.eNormal:$0='transparent';$1='transparent';if(this.$1A){this.$19.drawItem(this.$19.get_elemMenuItem(),Kepler.Framework.UI.Controls.EItemState.eNormal);}break;case Kepler.Framework.UI.Controls.EItemState.eFocus:case Kepler.Framework.UI.Controls.EItemState.eFocusHover:case Kepler.Framework.UI.Controls.EItemState.eHover:$0='#EDF4FC';$1='#A8D2FD';if(this.$1A){Kepler.Engine.UI.Helper.HtmlCssHelper.applyTransition(this.$19.get_elemMenuItem(),'background-color','0s','0.3s');this.$19.drawItem(this.$19.get_elemMenuItem(),Kepler.Framework.UI.Controls.EItemState.eHover);}break;default:break;}if(this.$1A){Kepler.Engine.UI.Helper.HtmlCssHelper.setElementBackgroundColor(this.$18,$0);}else{Kepler.Engine.UI.Helper.HtmlCssHelper.setElementBackgroundColor(element,$0);}Kepler.Engine.UI.Helper.HtmlCssHelper.setElementBorderColor(element,$1);},onLButtonUp:function(element){if(this.get_actionableItem()){this.get_parentMenu().get_msgParent().onMenuItemCommand(this,true);this.get_parentMenu().get_msgParent().sendMessage('msg_hide_menu',null,null);}return true;},highlightSubItem:function(elmMenuItem,iSubItemIndex){if(ss.isValue(elmMenuItem)){switch(iSubItemIndex){case -1:case 0:Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(elmMenuItem,'box_shadow_visual_hint');Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(this.$18,'box_shadow_visual_hint');Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(this.$19.get_elemMenuItem(),'box_shadow_visual_hint');if(this.$1C){var $0=parseInt(this.$18.style.width,10);var $1=parseInt(this.$18.style.height,10);this.$18.style.width=($0+4)+'px';this.$18.style.height=($1+4)+'px';this.$18.style.left='';this.$18.style.top='';var $2=this.$19.get_elemMenuItem();var $3=parseInt($2.style.height,10);var $4=parseInt($2.style.width,10);$2.style.height=($3+4)+'px';$2.style.top='';$2.style.width=($4+2)+'px';$2.style.right='0px';this.$1C=true;}elmMenuItem.style.zIndex=0;return true;case 1:Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(elmMenuItem,'box_shadow_visual_hint');var $5=parseInt(this.$18.style.width,10);var $6=parseInt(this.$18.style.height,10);this.$18.style.width=($5-4)+'px';this.$18.style.height=($6-4)+'px';this.$18.style.left='2px';this.$18.style.top='2px';var $7=this.$19.get_elemMenuItem();var $8=parseInt($7.style.height,10);var $9=parseInt($7.style.width,10);$7.style.height=($8-4)+'px';$7.style.top='2px';$7.style.width=($9-2)+'px';$7.style.right='2px';this.$1C=true;return true;case 2:Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this.$18,'box_shadow_visual_hint');return true;case 3:Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this.$19.get_elemMenuItem(),'box_shadow_visual_hint');return true;}}return false;}}
Kepler.Engine.UI.Menu.Items.SubMenuArrowBtnMenuItem=function(){Kepler.Engine.UI.Menu.Items.SubMenuArrowBtnMenuItem.initializeBase(this);}
Kepler.Engine.UI.Menu.Items.SubMenuArrowBtnMenuItem.prototype={$12:null,createMenuItem:function(elmMenuItem,iLeft,iTop){if(!ss.isNullOrUndefined(elmMenuItem)){this._elemMenuItem=elmMenuItem;this._elemMenuItem.style.position='absolute';this._elemMenuItem.style.right='0px';this._elemMenuItem.style.borderLeft='1px solid';this._elemMenuItem.style.borderLeftColor='transparent';this._elemMenuItem.style.height=this.get_rectangle().get_height()-2+'px';this._elemMenuItem.style.width=this.get_rectangle().get_width()-2+'px';elmMenuItem.menuitem=this;}},drawItem:function(element,eState){Kepler.Engine.UI.Menu.Items.SubMenuArrowBtnMenuItem.callBaseMethod(this, 'drawItem',[element,eState]);if(ss.isNullOrUndefined(this.$12)&&!ss.isNullOrUndefined(this.get_elemMenuItem())){this.$12=this.get_elemMenuItem().parentNode;}var $0='';var $1='';switch(eState){case Kepler.Framework.UI.Controls.EItemState.eNormal:Kepler.Engine.UI.Helper.HtmlCssHelper.remvoeAllTransition(this._elemMenuItem);$1='transparent';$0='transparent';break;case Kepler.Framework.UI.Controls.EItemState.eFocus:case Kepler.Framework.UI.Controls.EItemState.eFocusHover:case Kepler.Framework.UI.Controls.EItemState.eHover:$1='#EDF4FC';$0='#A8D2FD';break;default:break;}if(!ss.isNullOrUndefined(element)){Kepler.Engine.UI.Helper.HtmlCssHelper.setElementBackgroundColor(element,$1);Kepler.Engine.UI.Helper.HtmlCssHelper.setElementBorderColor(element,$0);}if(!ss.isNullOrUndefined(this.$12)){Kepler.Engine.UI.Helper.HtmlCssHelper.setElementBorderColor(this.$12,$0);}}}
Kepler.Engine.UI.Menu.Items.PinnableMenuItem=function(){Kepler.Engine.UI.Menu.Items.PinnableMenuItem.initializeBase(this);this._oImgSize=new Kepler.Framework.UI.Size(16,8);this._pinBtnMenuItem=new Kepler.Engine.UI.Menu.Items.PinBtnMenuItem();}
Kepler.Engine.UI.Menu.Items.PinnableMenuItem.prototype={_strTextStyle:null,_oImgSize:null,_pinBtnMenuItem:null,get_enabled:function(){return Kepler.Engine.UI.Menu.Items.PinnableMenuItem.callBaseMethod(this, 'get_enabled');},set_enabled:function(value){Kepler.Engine.UI.Menu.Items.PinnableMenuItem.callBaseMethod(this, 'set_enabled',[value]);this._pinBtnMenuItem.set_enabled(value);return value;},initialise:function(iId,strText,strImageStyle,strAcc,iWidth,iHeight,iPopUpMenuNo,strTextStyle,szImg){Kepler.Engine.UI.Menu.Items.PinnableMenuItem.callBaseMethod(this, 'initialise',[iId,strText,strImageStyle,strAcc,iWidth,iHeight,iPopUpMenuNo]);this._strTextStyle=strTextStyle;this._oImgSize=szImg;},createMenuItem:function(elmMenuItem,iLeft,iTop){Kepler.Engine.UI.Menu.Items.PinnableMenuItem.callBaseMethod(this, 'createMenuItem',[elmMenuItem,iLeft,iTop]);this._elemMenuItem=elmMenuItem;elmMenuItem.style.border='1px solid';elmMenuItem.style.borderColor='transparent';var $0=new Kepler.Framework.UI.Rect(0,0,0,0);var $1=null;var $2=null;var $3=2;var $4=1;this.get_rectangle().set_left(iLeft);this.get_rectangle().set_top(iTop);$0.copy(this.get_rectangle());$0.set_left(5);$0.set_top(0);$1=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div','','absolute',$0.get_left()+$3,$0.get_top()+$4,null,null,'class_menu_font class_menu_item_text '+this._strTextStyle,null);$1.setAttribute('name','menuitem-text');$1.style.width='100%';$1.style.textAlign='left';Kepler.Engine.UI.Helper.HtmlCssHelper.addChild(elmMenuItem,$1,null);Kepler.Engine.UI.Helper.HtmlCssHelper.setElementLineHeight($1,(this.get_rectangle().get_height()-4).toString()+'px');Kepler.Engine.UI.Helper.HtmlCssHelper.setElementVerticalAlign($1,'middle');Kepler.Engine.UI.Helper.HtmlCssHelper.setElementInnerHtml($1,this.get_text());$0.set_width(this._oImgSize.get_width());$0.set_height(this._oImgSize.get_height());$0.set_top(Math.floor((this.get_rectangle().get_height()-2-$0.get_height())/2));$0.set_left(Math.floor((26-$0.get_width())/2));$2=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div','menuitem-pinbtn','position',$0.get_left(),$0.get_top()+$4,$0.get_width(),$0.get_height(),this._strImageStyle+' class_ImgPath_Arrow',null);this._pinBtnMenuItem.initialise(this.get_id()*10,null,null,null,26,this.get_rectangle().get_height(),-1);this._pinBtnMenuItem.set_parentMenu(this.get_parentMenu());var $5=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div',null,null,null,null,null,null,null,null);$5.setAttribute('name','menuitem');Kepler.Engine.UI.Helper.HtmlCssHelper.addElementAttribute($5,'index','1');Kepler.Engine.UI.Helper.HtmlCssHelper.addElementAttribute($5,'role','menuitem');this._pinBtnMenuItem.createMenuItem($5,-1,-1);Kepler.Engine.UI.Helper.HtmlCssHelper.addChild(this._pinBtnMenuItem.get_elemMenuItem(),$2,null);Kepler.Engine.UI.Helper.HtmlCssHelper.addChild(elmMenuItem,this._pinBtnMenuItem.get_elemMenuItem(),null);this.drawItem(elmMenuItem,Kepler.Framework.UI.Controls.EItemState.eNormal);elmMenuItem.menuitem=this;},drawItem:function(element,eState){if(ss.isNullOrUndefined(element)){return;}var $0='';var $1='';switch(this._eToState){case Kepler.Framework.UI.Controls.EItemState.eNormal:$0='';$1='transparent';break;case Kepler.Framework.UI.Controls.EItemState.eFocus:case Kepler.Framework.UI.Controls.EItemState.eFocusHover:case Kepler.Framework.UI.Controls.EItemState.eHover:$0='#EDF4FC';$1='#A8D2FD';break;default:break;}Kepler.Engine.UI.Helper.HtmlCssHelper.setElementBackgroundColor(element,$0);Kepler.Engine.UI.Helper.HtmlCssHelper.setElementBorderColor(element,$1);},highlightSubItem:function(elmMenuItem,iSubItemIndex){if(ss.isValue(elmMenuItem)){switch(iSubItemIndex){case -1:case 0:Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(elmMenuItem,'box_shadow_visual_hint');Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(this._pinBtnMenuItem.get_elemMenuItem(),'box_shadow_visual_hint');elmMenuItem.style.zIndex=0;return true;case 1:Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(elmMenuItem,'box_shadow_visual_hint');return true;case 2:Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this._pinBtnMenuItem.get_elemMenuItem(),'box_shadow_visual_hint');return true;}}return false;}}
Kepler.Engine.UI.Menu.Items.PinBtnMenuItem=function(){Kepler.Engine.UI.Menu.Items.PinBtnMenuItem.initializeBase(this);}
Kepler.Engine.UI.Menu.Items.PinBtnMenuItem.prototype={createMenuItem:function(elmMenuItem,iLeft,iTop){if(!ss.isNullOrUndefined(elmMenuItem)){this._elemMenuItem=elmMenuItem;this._elemMenuItem.style.position='absolute';this._elemMenuItem.style.right='0px';this._elemMenuItem.style.border='1px solid';this._elemMenuItem.style.borderColor='transparent';this._elemMenuItem.style.height=this.get_rectangle().get_height()+'px';this._elemMenuItem.style.width=this.get_rectangle().get_width()+'px';this._elemMenuItem.style.top='-1px';elmMenuItem.menuitem=this;}},drawItem:function(element,eState){var $0='';var $1='';switch(eState){case Kepler.Framework.UI.Controls.EItemState.eNormal:$1='';$0='transparent';break;case Kepler.Framework.UI.Controls.EItemState.eFocus:case Kepler.Framework.UI.Controls.EItemState.eFocusHover:case Kepler.Framework.UI.Controls.EItemState.eHover:$1='#D2E4F8';$0='#4AA2FB';break;default:break;}if(!ss.isNullOrUndefined(element)){Kepler.Engine.UI.Helper.HtmlCssHelper.setElementBackgroundColor(element,$1);Kepler.Engine.UI.Helper.HtmlCssHelper.setElementBorderColor(element,$0);}}}
Kepler.Engine.UI.Menu.Items.StaticTextMenuItem=function(){Kepler.Engine.UI.Menu.Items.StaticTextMenuItem.initializeBase(this);}
Kepler.Engine.UI.Menu.Items.StaticTextMenuItem.prototype={_strTextStyle:null,initialise:function(iId,strText,strImageStyle,strAcc,iWidth,iHeight,iPopUpMenuNo,iLeft,strTextStyle){Kepler.Engine.UI.Menu.Items.StaticTextMenuItem.callBaseMethod(this, 'initialise',[iId,strText,strImageStyle,strAcc,iWidth,iHeight,iPopUpMenuNo]);this.get_rectangle().set_left(iLeft);this._strTextStyle=strTextStyle;},createMenuItem:function(elmMenuItem,iLeft,iTop){Kepler.Engine.UI.Menu.Items.StaticTextMenuItem.callBaseMethod(this, 'createMenuItem',[elmMenuItem,iLeft,iTop]);var $0=8;Kepler.Engine.UI.Helper.HtmlCssHelper.setElementWidth(elmMenuItem,this.get_rectangle().get_width()-$0+'px');Kepler.Engine.UI.Helper.HtmlCssHelper.setElementPadding(elmMenuItem,'0 0 0 '+$0+'px');Kepler.Engine.UI.Helper.HtmlCssHelper.setElementTextAlign(elmMenuItem,'left');Kepler.Engine.UI.Helper.HtmlCssHelper.setElementInnerHtml(elmMenuItem,this.get_text());Kepler.Engine.UI.Helper.HtmlCssHelper.setElementLineHeight(elmMenuItem,this.get_rectangle().get_height().toString()+'px');Kepler.Engine.UI.Helper.HtmlCssHelper.setElementLeft(elmMenuItem,this.get_rectangle().get_left()+'px');Kepler.Engine.UI.Helper.HtmlCssHelper.setElementClassName(elmMenuItem,this._strTextStyle+' '+'class_menu_font '+'class_menu_item_text ');this._elemMenuItem=elmMenuItem;}}
Type.registerNamespace('Kepler.Framework.UI.Metro_Ui_Controls.MetroUiTextBox');Kepler.Framework.UI.Metro_Ui_Controls.MetroUiTextBox.MetroUiCssImgBtn=function(strImagePath,oPosition,oSize,strCssClassName,strId){Kepler.Framework.UI.Metro_Ui_Controls.MetroUiTextBox.MetroUiCssImgBtn.initializeBase(this,[strImagePath,oPosition,oSize,strCssClassName,strId,null]);this.setCssStatePrefix(Kepler.Framework.UI.Controls.EItemState.eHover,'_hovr');this.get_elementStyle().position='absolute';}
Kepler.Framework.UI.Metro_Ui_Controls.MetroUiTextBox.MetroUiCssImgBtn.prototype={onLoad:function(){Kepler.Framework.UI.Metro_Ui_Controls.MetroUiTextBox.MetroUiCssImgBtn.callBaseMethod(this, 'onLoad');this.addEvents(Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseOver|Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseOut);},onMouseOver:function(evt){Kepler.Framework.UI.Metro_Ui_Controls.MetroUiTextBox.MetroUiCssImgBtn.callBaseMethod(this, 'onMouseOver',[evt]);this.sendMessageToParent('msg_btn_mouse_over',evt,this);},onMouseOut:function(evt){Kepler.Framework.UI.Metro_Ui_Controls.MetroUiTextBox.MetroUiCssImgBtn.callBaseMethod(this, 'onMouseOut',[evt]);this.sendMessageToParent('msg_btn_mouse_out',evt,this);},drawItem:function(eState){}}
Kepler.Framework.UI.Metro_Ui_Controls.MetroUiTextBox.MetroUiText=function(strImagePath,oPosition,oSize,strCssClassName,strID){Kepler.Framework.UI.Metro_Ui_Controls.MetroUiTextBox.MetroUiText.initializeBase(this,[strImagePath,oPosition,oSize,strCssClassName,strID]);this._oBaseTextBox.setFontFamily('k_Segoewp');this._oBaseTextBox.setFontSize(13);this.$5_0=-1;this.$5_1=true;}
Kepler.Framework.UI.Metro_Ui_Controls.MetroUiTextBox.MetroUiText.prototype={$5_0:0,get_rightClickMenu:function(){return this.$5_0;},set_rightClickMenu:function(value){this.$5_0=value;return value;},$5_1:false,get_checkSelection:function(){return this.$5_1;},set_checkSelection:function(value){this.$5_1=value;return value;},onLoad:function(){Kepler.Framework.UI.Metro_Ui_Controls.MetroUiTextBox.MetroUiText.callBaseMethod(this, 'onLoad');this.addEvents(Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseOver|Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseOut);},$5_2:function($p0){var $0=Kepler.Engine.UI.Controls.Control.getClientPointFromEventArgs($p0);var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientRect(this.get_element());var $2=new Kepler.Framework.UI.Rect($0.get_x(),$1.get_top(),1,1);var $3=new Kepler.Engine.UI.MenuWnd_MenuParams(this,this.$5_0,-1,$2,null);$3.setPositioningOrder(7);var $4=Kepler.Engine.Core.EngineApp.get_engine().get_desktopApp();$4.getAppFrame().sendMessage('msg_show_menu',null,$3);},onMouseOver:function(evt){Kepler.Framework.UI.Metro_Ui_Controls.MetroUiTextBox.MetroUiText.callBaseMethod(this, 'onMouseOver',[evt]);this.sendMessageToParent('msg_txt_box_mouse_over',evt,this);},onMouseOut:function(evt){Kepler.Framework.UI.Metro_Ui_Controls.MetroUiTextBox.MetroUiText.callBaseMethod(this, 'onMouseOut',[evt]);this.sendMessageToParent('msg_txt_box_mouse_out',evt,this);},onFocus:function(oFocusedPrevControl){Kepler.Framework.UI.Metro_Ui_Controls.MetroUiTextBox.MetroUiText.callBaseMethod(this, 'onFocus',[oFocusedPrevControl]);this.sendMessageToParent('msg_txt_box_focus',null,this);},onLostFocus:function(oFocusedNewControl){Kepler.Framework.UI.Metro_Ui_Controls.MetroUiTextBox.MetroUiText.callBaseMethod(this, 'onLostFocus',[oFocusedNewControl]);this.sendMessageToParent('msg_txt_box_focus_lost',null,this);},onRButtonUp:function(evt){Kepler.Framework.UI.Metro_Ui_Controls.MetroUiTextBox.MetroUiText.callBaseMethod(this, 'onRButtonUp',[evt]);if(this.$5_0!==-1){if(this.$5_1){var $0=this.getSelection();if($0.get_startIndex()!==$0.get_endIndex()){this.$5_2(evt);}}else{this.$5_2(evt);}}}}
Kepler.Framework.UI.Metro_Ui_Controls.MetroUiTextBox.MetroUiTextBox=function(strText,ptPosition,oSize,strCssClassName,strId,oImgSize,strImageCss){Kepler.Framework.UI.Metro_Ui_Controls.MetroUiTextBox.MetroUiTextBox.initializeBase(this,[strText,ptPosition,oSize,strCssClassName,strId,oImgSize,strImageCss]);this._oClearButton.set_focusable(false);}
Kepler.Framework.UI.Metro_Ui_Controls.MetroUiTextBox.MetroUiTextBox.prototype={_bHover:false,setHover:function(bHover){if(this._bHover!==bHover){if(this.getFocus()!==this._oTextBox){this._bHover=bHover;if(bHover){this.get_element().className='metro_ui_txt_box'+'_hover';if(!!this._oTextBox.get_text()){this._oClearButton.show(true);}else{this._oClearButton.show(false);}}else{this.get_element().className='metro_ui_txt_box';this._oClearButton.show(false);}}}},setFocused:function(bFocus){if(bFocus){this.get_element().className='metro_ui_txt_box'+'_focus';if(!!this._oTextBox.get_text()){this._oClearButton.show(true);}else{this._oClearButton.show(false);}}else if(this.getFocus()!==this._oClearButton){this.get_element().className='metro_ui_txt_box';this._oClearButton.show(false);this._bHover=false;}},onMouseOver:function(evt){Kepler.Framework.UI.Metro_Ui_Controls.MetroUiTextBox.MetroUiTextBox.callBaseMethod(this, 'onMouseOver',[evt]);this.setHover(true);},onMouseOut:function(evt){Kepler.Framework.UI.Metro_Ui_Controls.MetroUiTextBox.MetroUiTextBox.callBaseMethod(this, 'onMouseOut',[evt]);if(!(this.get_element()===evt.get_relatedTarget()||this.get_element().contains(evt.get_relatedTarget()))){this.setHover(false);}},onMsgButtonClicked:function(wParam,lParam){var $0=lParam;if($0===this._oClearButton){this._oTextBox.setText('');this._oTextBox.setFocus();}return null;},onMsgTxtBoxTextChanged:function(wParam,lParam){var $0=lParam;if($0===this._oTextBox){var $1=wParam;if(!$1){this._oClearButton.show(false);}else{this._oClearButton.show(true);}}Kepler.Framework.UI.Metro_Ui_Controls.MetroUiTextBox.MetroUiTextBox.callBaseMethod(this, 'onMsgTxtBoxTextChanged',[wParam,lParam]);return null;},onMsgTxtBoxMouseOver:function(wParam,lParam){var $0=lParam;if($0===this._oTextBox){this.setHover(true);}return null;},onMsgTxtBoxMouseOut:function(wParam,lParam){var $0=lParam;if($0===this._oTextBox){var $1=wParam;if(!(this.get_element()===$1.get_relatedTarget()||this.get_element().contains($1.get_relatedTarget()))){this.setHover(false);}}return null;},onMsgTxtBoxFocus:function(wParam,lParam){var $0=lParam;if($0===this._oTextBox){this.setFocused(true);}return null;},onMsgTxtBoxFocusLost:function(wParam,lParam){var $0=lParam;if($0===this._oTextBox){this.setFocused(false);}return null;},onMsgBtnMouseOver:function(wParam,lParam){var $0=lParam;if($0===this._oClearButton){this.setHover(true);}return null;},onMsgBtnMouseOut:function(wParam,lParam){var $0=lParam;if($0===this._oClearButton){var $1=wParam;if(!(this.get_element()===$1.get_relatedTarget()||this.get_element().contains($1.get_relatedTarget()))){this.setHover(false);}}return null;}}
Kepler.Framework.UI.Metro_Ui_Controls.MetroUiTextBox.MetroUiTextBoxBase=function(strText,ptPosition,oSize,strCssClassName,strId,oImgSize,strImageCss,bIsToolTipNeeded,strToolTipText){Kepler.Framework.UI.Metro_Ui_Controls.MetroUiTextBox.MetroUiTextBoxBase.initializeBase(this,['div',(ss.isValue(strCssClassName))?strCssClassName:'metro_ui_txt_box',strId]);this.get_element().style.position='absolute';if(ss.isValue(ptPosition)){this.set_position(ptPosition);}if(ss.isValue(oSize)){this.set_size(oSize);}this.$3_0=(ss.isValue(bIsToolTipNeeded))?bIsToolTipNeeded:true;this.$3_1=(ss.isValue(strToolTipText)&&!String.isNullOrEmpty(strToolTipText))?strToolTipText:'Clear';this.initControls(strText,oImgSize,strImageCss);}
Kepler.Framework.UI.Metro_Ui_Controls.MetroUiTextBox.MetroUiTextBoxBase.prototype={gaP_BTWN_CTRL:2,txT_BOX_LEFT_MARGIN:10,_oTextBox:null,get_metroTextBox:function(){return this._oTextBox;},_oClearButton:null,get_text:function(){return this._oTextBox.get_text();},$3_0:false,$3_1:null,setText:function(strText){this._oTextBox.setText(strText);},initControls:function(strText,oImgSize,strImageCss){var $0=new Kepler.Framework.UI.Size(this.get_size().get_width()-oImgSize.get_width()-this.gaP_BTWN_CTRL-this.txT_BOX_LEFT_MARGIN,this.get_size().get_height());this._oTextBox=new Kepler.Framework.UI.Metro_Ui_Controls.MetroUiTextBox.MetroUiText(strText,new Kepler.Framework.UI.Point(0,0),$0,'txt_box','txtBox');this._oTextBox.get_elementStyle().position='absolute';this._oTextBox.get_element().style.marginLeft=this.txT_BOX_LEFT_MARGIN+'px';this._oTextBox.get_element().style.border='none';this._oTextBox.get_elementStyle().backgroundColor='transparent';var $1=new Kepler.Framework.UI.Point(this.txT_BOX_LEFT_MARGIN+this._oTextBox.get_width()+this.gaP_BTWN_CTRL,0);this._oClearButton=new Kepler.Framework.UI.Metro_Ui_Controls.MetroUiTextBox.MetroUiCssImgBtn('',$1,oImgSize,(ss.isValue(strImageCss))?strImageCss:'metro_textbox_close','clr_btn');this._oClearButton.get_elementStyle().position='absolute';this._oClearButton.show(false);if(this.$3_0){this._oClearButton.setTooltipParams(this.$3_1,Kepler.Engine.UI.Controls.Tooltip.ETooltipTypes.metrO_SIMPLE_DESCR);}},$3_2:function(){this.add(this._oTextBox);this.add(this._oClearButton);},attachMessages:function(){this.attachMessage(Kepler.Engine.UI.Controls.ButtonBase.msG_BUTTON_CLICKED,ss.Delegate.create(this,this.onMsgButtonClicked));this.attachMessage(Kepler.Engine.UI.Controls.TextBox.msG_TEXT_CHANGED,ss.Delegate.create(this,this.onMsgTxtBoxTextChanged));this.attachMessage('msg_txt_box_mouse_over',ss.Delegate.create(this,this.onMsgTxtBoxMouseOver));this.attachMessage('msg_txt_box_mouse_out',ss.Delegate.create(this,this.onMsgTxtBoxMouseOut));this.attachMessage('msg_txt_box_focus',ss.Delegate.create(this,this.onMsgTxtBoxFocus));this.attachMessage('msg_txt_box_focus_lost',ss.Delegate.create(this,this.onMsgTxtBoxFocusLost));this.attachMessage('msg_btn_mouse_over',ss.Delegate.create(this,this.onMsgBtnMouseOver));this.attachMessage('msg_btn_mouse_out',ss.Delegate.create(this,this.onMsgBtnMouseOut));},attachEvents:function(){this.addEvents(Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseDown|Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseUp|Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseOver|Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseOut|Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseMove);this.addEvents(Kepler.Framework.UI.Events.EventArgsNs.EventType.touchStart|Kepler.Framework.UI.Events.EventArgsNs.EventType.touchEnd|Kepler.Framework.UI.Events.EventArgsNs.EventType.keyDown|Kepler.Framework.UI.Events.EventArgsNs.EventType.keyPress|Kepler.Framework.UI.Events.EventArgsNs.EventType.keyUp);},onLButtonDown:function(evt){Kepler.Framework.UI.Metro_Ui_Controls.MetroUiTextBox.MetroUiTextBoxBase.callBaseMethod(this, 'onLButtonDown',[evt]);this._oTextBox.setFocus();},onLoad:function(){Kepler.Framework.UI.Metro_Ui_Controls.MetroUiTextBox.MetroUiTextBoxBase.callBaseMethod(this, 'onLoad');this.$3_2();this.attachMessages();this.attachEvents();},onMsgButtonClicked:function(wParam,lParam){return null;},onMsgTxtBoxTextChanged:function(wParam,lParam){var $0=lParam;if($0===this._oTextBox){var $1=wParam;var $2=new Kepler.Framework.UI.Controls.OnCommandStruct($1,Kepler.Framework.UI.Controls.NotificationCode.texT_CHANGED);var $3=this.sendMessageToParent(Kepler.Engine.UI.Controls.Control.msG_COMMAND,$2,this);if(!$3){this.sendMessageToParent(Kepler.Engine.UI.Controls.TextBox.msG_TEXT_CHANGED,$1,this);}}return null;},onMsgTxtBoxMouseOver:function(wParam,lParam){return null;},onMsgTxtBoxMouseOut:function(wParam,lParam){return null;},onMsgTxtBoxFocus:function(wParam,lParam){return null;},onMsgTxtBoxFocusLost:function(wParam,lParam){return null;},onMsgBtnMouseOver:function(wParam,lParam){return null;},onMsgBtnMouseOut:function(wParam,lParam){return null;}}
Type.registerNamespace('Kepler.Framework.UI.Metro_Ui_Controls.PaneListCtrl');Kepler.Framework.UI.Metro_Ui_Controls.PaneListCtrl.ETextAlign=function(){};Kepler.Framework.UI.Metro_Ui_Controls.PaneListCtrl.ETextAlign.prototype = {eLeft:0,eRight:1,eCenter:2}
Kepler.Framework.UI.Metro_Ui_Controls.PaneListCtrl.ETextAlign.registerEnum('Kepler.Framework.UI.Metro_Ui_Controls.PaneListCtrl.ETextAlign',false);Kepler.Framework.UI.Metro_Ui_Controls.PaneListCtrl.PaneListCtrl=function(strCssClassName,strId){Kepler.Framework.UI.Metro_Ui_Controls.PaneListCtrl.PaneListCtrl.initializeBase(this,[(ss.isValue(strCssClassName))?strCssClassName:' pane_list',strId]);this.initialize();}
Kepler.Framework.UI.Metro_Ui_Controls.PaneListCtrl.PaneListCtrl.prototype={$4_0:null,$4_1:0,get_focusIndex:function(){return this.$4_1;},get_ariaSpeech:function(){if(this.$4_1!==-1&&this.get_ariaSpeechFromOnFocus()){var $0=this.$4_0[this.$4_1].get_text();var $1=(this.$4_1+1)+' of '+(this.$4_0.length+1)+' ';return (this._strAriaSpeech+$0+$1);}return '';},set_ariaSpeech:function(value){Kepler.Framework.UI.Metro_Ui_Controls.PaneListCtrl.PaneListCtrl.callBaseMethod(this, 'set_ariaSpeech',[value]);return value;},setListItems:function(lstPanelListItems){this.$4_0=lstPanelListItems;this.removeAll();for(var $0=0;$0<this.$4_0.length;$0++){this.add(this.$4_0[$0],this._divScrollArea);}},addListItem:function(oPanelListItem){this.$4_0.add(oPanelListItem);this.add(oPanelListItem,this._divScrollArea);},initialize:function(){this.addCssClass(Kepler.Engine.UI.Controls.Control.csS_CLASS_POSITION_ABSOLUTE);this.$4_0=[];},attachMessages:function(){Kepler.Framework.UI.Metro_Ui_Controls.PaneListCtrl.PaneListCtrl.callBaseMethod(this, 'attachMessages');this.attachMessage(Kepler.Engine.UI.Controls.ButtonBase.msG_BUTTON_CLICKED,ss.Delegate.create(this,this.$4_2));},setFocusedIndexOnKeyNavigation:function(key){if(key===Kepler.Framework.UI.Events.EventArgsNs.Keys.up){this.$4_1-=1;if(!ss.isValue(this.$4_0[this.$4_1])){this.$4_1=this.$4_0.length-1;}}else if(key===Kepler.Framework.UI.Events.EventArgsNs.Keys.down){this.$4_1+=1;if(!ss.isValue(this.$4_0[this.$4_1])){this.$4_1=0;}}else if(key===Kepler.Framework.UI.Events.EventArgsNs.Keys.enter){}},onLoad:function(){Kepler.Framework.UI.Metro_Ui_Controls.PaneListCtrl.PaneListCtrl.callBaseMethod(this, 'onLoad');this.attachMessages();},$4_2:function($p0,$p1){var $0=$p1;var $1=this.$4_0.indexOf($0);var $2=new Kepler.Framework.UI.Controls.OnCommandStruct($0,Kepler.Framework.UI.Controls.NotificationCode.buttoN_CLICK);var $3=this.sendMessageToParent(Kepler.Engine.UI.Controls.Control.msG_COMMAND,$2,this);if(!$3){this.sendMessageToParent(Kepler.Engine.UI.Controls.ButtonBase.msG_BUTTON_CLICKED,$p0,$0);}return null;}}
Kepler.Framework.UI.Metro_Ui_Controls.PaneListCtrl.PaneIcon=function(oPos,oSize,oImageSize,strIconText,strImageCss,strId){Kepler.Framework.UI.Metro_Ui_Controls.PaneListCtrl.PaneIcon.initializeBase(this,[oPos,oSize,' pane_icon',strId]);this.$3_9(oImageSize,strIconText,strImageCss);}
Kepler.Framework.UI.Metro_Ui_Controls.PaneListCtrl.PaneIcon.prototype={$3_7:null,$3_8:null,$3_9:function($p0,$p1,$p2){this.$3_7=document.createElement('div');this.$3_7.style.position='absolute';this.$3_7.className=$p2;this.$3_7.style.left=this.get_size().get_width()/2-$p0.get_width()/2+'px';this.$3_7.style.width=$p0.get_width()+'px';this.$3_7.style.height=$p0.get_height()+'px';this.$3_7.style.top=6+(56-$p0.get_height()-6)/2+'px';this.$3_8=document.createElement('div');this.$3_8.style.width=this.get_size().get_width()+'px';this.$3_8.style.left=0+'px';this.$3_8.textContent=$p1;this.$3_8.className='pane_icon_txt';this.get_element().appendChild(this.$3_7);this.get_element().appendChild(this.$3_8);},setTextCss:function(strCss){this.$3_8.className=strCss;}}
Kepler.Framework.UI.Metro_Ui_Controls.PaneListCtrl.PaneListItem=function(oPos,oSize,strClassName,strId,iMenuNumber){Kepler.Framework.UI.Metro_Ui_Controls.PaneListCtrl.PaneListItem.initializeBase(this,[oPos,oSize,iMenuNumber,strClassName,strId]);this.$3_2=strClassName;this.get_element().className=this.$3_2+' '+this.$3_2+'_normal';this.get_element().style.position='relative';this.set_neverSpeechAriaText(true);}
Kepler.Framework.UI.Metro_Ui_Controls.PaneListCtrl.PaneListItem.prototype={$3_2:null,drawItem:function(eState){var $0='';switch(eState){case Kepler.Framework.UI.Controls.EItemState.eHover:$0='_hover';break;case Kepler.Framework.UI.Controls.EItemState.eNormal:$0='_normal';break;case Kepler.Framework.UI.Controls.EItemState.ePressed:$0='_pressed';break;default:throw new Error('Not Implemented Exception : '+'eState');}if($0.length>0){this.get_element().className=this.$3_2+this.$3_2+$0;}}}
Kepler.Framework.UI.Metro_Ui_Controls.PaneListCtrl.PaneTextItem=function(oPos,oSize,strItemText,strId){Kepler.Framework.UI.Metro_Ui_Controls.PaneListCtrl.PaneTextItem.initializeBase(this,[oPos,oSize,' txt_item',strId]);this.$3_7(strItemText);}
Kepler.Framework.UI.Metro_Ui_Controls.PaneListCtrl.PaneTextItem.prototype={$3_6:null,$3_7:function($p0){this.$3_6=document.createElement('div');this.$3_6.textContent=$p0;this.$3_6.className=' txt_item_txt';this.get_element().appendChild(this.$3_6);this.setTextAlign(0);},setTextAlign:function(eTxtAlign){switch(eTxtAlign){case 0:this.$3_6.style.paddingRight=0+'px';this.$3_6.style.paddingLeft=40+'px';this.$3_6.style.textAlign='left';break;case 1:this.$3_6.style.paddingLeft=0+'px';this.$3_6.style.paddingRight=40+'px';this.$3_6.style.textAlign='right';break;case 2:this.$3_6.style.paddingLeft=0+'px';this.$3_6.style.paddingRight=0+'px';this.$3_6.style.textAlign='center';break;}}}
Kepler.Framework.UI.Metro_Ui_Controls.PaneListCtrl.PaneTxtImgDescrItem=function(oPos,oSize,oImageSize,strIconText,strImageCss,strId){Kepler.Framework.UI.Metro_Ui_Controls.PaneListCtrl.PaneTxtImgDescrItem.initializeBase(this,[oPos,oSize,' img_descr_txt_item',strId]);this.$3_E(oImageSize,strIconText,strImageCss,strId);}
Kepler.Framework.UI.Metro_Ui_Controls.PaneListCtrl.PaneTxtImgDescrItem.prototype={$3_9:null,$3_A:null,$3_B:null,$3_C:null,$3_D:null,$3_E:function($p0,$p1,$p2,$p3){this.$3_9=document.createElement('div');this.$3_9.style.position='relative';this.$3_9.className=$p2;this.$3_9.style['float']='left';this.$3_A=document.createElement('div');this.$3_A.className=' img_descr_txt_item_txt';this.$3_B=document.createElement('div');this.$3_B.className=' item_description'+' '+' img_descr_txt_item_txt';this.$3_D=document.createElement('div');this.$3_D.style['float']='left';this.$3_D.style.marginLeft=8+'px';this.$3_D.style.width=this.get_size().get_width()-40-$p0.get_width()-8-3+'px';this.$3_D.appendChild(this.$3_A);this.$3_D.appendChild(this.$3_B);this.$3_C=document.createElement('div');this.$3_C.style.left=40+'px';this.$3_C.style.top=this.get_size().get_height()/2-$p0.get_height()/2+'px';this.$3_C.style.position='absolute';this.$3_C.appendChild(this.$3_9);this.$3_C.appendChild(this.$3_D);this.get_element().appendChild(this.$3_C);this.setTexts($p1);},setTexts:function(strItemText){var $0=strItemText.split(Kepler.Framework.Core.Seperators.doublE_DELTA);if(!ss.isNullOrUndefined($0[0])){this.$3_A.textContent=$0[0];}if($0.length===2&&!ss.isNullOrUndefined($0[1])){this.$3_B.textContent=$0[1];}},setTextCss:function(strCss){this.$3_A.className=strCss;},setDescriptionCss:function(strCss){this.$3_B.className=strCss;},onRButtonUp:function(mouseEventArgs){var $0=Kepler.Engine.UI.Controls.Control.getClientPointFromEventArgs(mouseEventArgs);var $1=new Kepler.Framework.UI.Rect($0.get_x(),$0.get_y(),1,1);this.changeState(Kepler.Framework.UI.Controls.EItemState.eNormal);Kepler.Framework.UI.Metro_Ui_Controls.PaneListCtrl.PaneTxtImgDescrItem.callBaseMethod(this, 'onRButtonUp',[mouseEventArgs]);this.launchMenu($1,10);}}
Kepler.Framework.UI.Metro_Ui_Controls.PaneListCtrl.PaneTxtImgItem=function(oPos,oSize,oImageSize,strIconText,strImageCss,strId){Kepler.Framework.UI.Metro_Ui_Controls.PaneListCtrl.PaneTxtImgItem.initializeBase(this,[oPos,oSize,' txt_img_item',strId]);this.$3_B(oImageSize,strIconText,strImageCss);}
Kepler.Framework.UI.Metro_Ui_Controls.PaneListCtrl.PaneTxtImgItem.prototype={$3_8:null,$3_9:null,$3_A:null,$3_B:function($p0,$p1,$p2){this.$3_8=document.createElement('div');this.$3_8.className=$p2;this.$3_8.style['float']='left';this.$3_9=document.createElement('div');this.$3_9.textContent=$p1;this.$3_9.className=' txt_img_item_txt';this.$3_9.style.marginLeft=22+'px';this.$3_9.style.width=this.get_size().get_width()-40-$p0.get_width()-22+'px';this.$3_A=document.createElement('div');this.$3_A.style.left=40+'px';this.$3_A.style.top=20+'px';this.$3_A.style.position='absolute';this.$3_A.appendChild(this.$3_8);this.$3_A.appendChild(this.$3_9);this.get_element().appendChild(this.$3_A);}}
Type.registerNamespace('Kepler.Engine.UI.OfficeThemeNs');Kepler.Engine.UI.OfficeThemeNs.eOfficeTheme=function(){};Kepler.Engine.UI.OfficeThemeNs.eOfficeTheme.prototype = {NONE:-1,office:0,facet:1,integral:2,ion:3,ionBoardroom:4,organic:5,retrospect:6,slice:7,wisp:8,banded:9,basis:10,berlin:11,celestial:12,circuit:13,damask:14,depth:15,dividend:16,droplet:17,frame:18,mainEvent:19,mesh:20,metropolitan:21,parallax:22,quotable:23,savon:24,slate:25,vaporTrail:26,view:27,woodType:28}
Kepler.Engine.UI.OfficeThemeNs.eOfficeTheme.registerEnum('Kepler.Engine.UI.OfficeThemeNs.eOfficeTheme',false);Kepler.Engine.UI.OfficeThemeNs.eOfficeColors=function(){};Kepler.Engine.UI.OfficeThemeNs.eOfficeColors.prototype = {NONE:-1,office:0,office2007_2010:1,grayscale:2,blueWarm:3,blue:4,blueII:5,blueGreen:6,green:7,greenYellow:8,yellow:9,yellowOrange:10,orange:11,orangeRed:12,redOrange:13,red:14,redViolet:15,violet:16,violetII:17,median:18,paper:19,marquee:20,slipstream:21,aspect:22}
Kepler.Engine.UI.OfficeThemeNs.eOfficeColors.registerEnum('Kepler.Engine.UI.OfficeThemeNs.eOfficeColors',false);Kepler.Engine.UI.OfficeThemeNs.Palette=function(){this.$0={};this.$0['Dark 1']=new Kepler.Engine.UI.OfficeThemeNs.PaletteItem(null,'');this.$0['Light 1']=new Kepler.Engine.UI.OfficeThemeNs.PaletteItem(null,'');this.$0['Dark 2']=new Kepler.Engine.UI.OfficeThemeNs.PaletteItem(null,'');this.$0['Light 2']=new Kepler.Engine.UI.OfficeThemeNs.PaletteItem(null,'');this.$0['Accent 1']=new Kepler.Engine.UI.OfficeThemeNs.PaletteItem(null,'');this.$0['Accent 2']=new Kepler.Engine.UI.OfficeThemeNs.PaletteItem(null,'');this.$0['Accent 3']=new Kepler.Engine.UI.OfficeThemeNs.PaletteItem(null,'');this.$0['Accent 4']=new Kepler.Engine.UI.OfficeThemeNs.PaletteItem(null,'');this.$0['Accent 5']=new Kepler.Engine.UI.OfficeThemeNs.PaletteItem(null,'');this.$0['Accent 6']=new Kepler.Engine.UI.OfficeThemeNs.PaletteItem(null,'');this.$0['Hyperlink']=new Kepler.Engine.UI.OfficeThemeNs.PaletteItem(null,'');this.$0['Followed Hyperlink']=new Kepler.Engine.UI.OfficeThemeNs.PaletteItem(null,'');}
Kepler.Engine.UI.OfficeThemeNs.Palette.prototype={$0:null,getDark1:function(){return this.$0['Dark 1'];},setDark1:function(oDark1){this.$0['Dark 1']=oDark1;},getLight1:function(){return this.$0['Light 1'];},setLight1:function(oLight1){this.$0['Light 1']=oLight1;},getDark2:function(){return this.$0['Dark 2'];},setDark2:function(oDark2){this.$0['Dark 2']=oDark2;},getLight2:function(){return this.$0['Light 2'];},setLight2:function(oLight2){this.$0['Light 2']=oLight2;},getAccent1:function(){return this.$0['Accent 1'];},setAccent1:function(oAccent1){this.$0['Accent 1']=oAccent1;},getAccent2:function(){return this.$0['Accent 2'];},setAccent2:function(oAccent2){this.$0['Accent 2']=oAccent2;},getAccent3:function(){return this.$0['Accent 3'];},setAccent3:function(oAccent3){this.$0['Accent 3']=oAccent3;},getAccent4:function(){return this.$0['Accent 4'];},setAccent4:function(oAccent4){this.$0['Accent 4']=oAccent4;},getAccent5:function(){return this.$0['Accent 5'];},setAccent5:function(oAccent5){this.$0['Accent 5']=oAccent5;},getAccent6:function(){return this.$0['Accent 6'];},setAccent6:function(oAccent6){this.$0['Accent 6']=oAccent6;},getHyperlink:function(){return this.$0['Hyperlink'];},setHyperlink:function(oHyperlink){this.$0['Hyperlink']=oHyperlink;},getFollowedHyperlink:function(){return this.$0['Followed Hyperlink'];},setFollowedHyperlink:function(oFollowedHyperlink){this.$0['Followed Hyperlink']=oFollowedHyperlink;},getPaletteItems:function(){return this.$0;}}
Kepler.Engine.UI.OfficeThemeNs.PaletteItem=function(oColor,strColorName){this.$0=oColor;this.$1=strColorName;}
Kepler.Engine.UI.OfficeThemeNs.PaletteItem.prototype={$0:null,$1:null,getColor:function(){return this.$0;},setColor:function(oColor){this.$0=oColor;},getColorName:function(){return this.$1;},setColorName:function(strColorName){this.$1=strColorName;},clone:function(){return new Kepler.Engine.UI.OfficeThemeNs.PaletteItem(this.$0,this.$1);}}
Kepler.Engine.UI.OfficeThemeNs.OfficeTheme=function(){this.$0=0;this.$1=0;this.$3=false;this.$4=false;}
Kepler.Engine.UI.OfficeThemeNs.OfficeTheme.get_instance=function(){return Kepler.Engine.UI.OfficeThemeNs.OfficeTheme.$2;}
Kepler.Engine.UI.OfficeThemeNs.OfficeTheme.prototype={$0:0,get_activeTheme:function(){return this.$0;},$1:0,get_activeColor:function(){return this.$1;},$3:false,$4:false,setDefaultTheme:function(){this.setActiveTheme(0);},setActiveTheme:function(eTheme){if(this.$0===eTheme){this.$3=false;return;}this.$3=true;this.$0=eTheme;if(!eTheme){this.setActiveColor(0);}else if(eTheme===6){this.setActiveColor(11);}else{this.setActiveColor(-1);}},setActiveColor:function(eColor){if(this.$1===eColor){this.$4=false;return;}this.$4=true;this.$1=eColor;this.$0=-1;},isActiveThemeOrColorChanged:function(){return this.$3||this.$4;},getActivePalette:function(){if(this.$0!==-1){return this.getThemePalette(this.$0);}else{return this.getColorsPalette(this.$1);}},getThemePalette:function(eTheme){return this.$5(eTheme,-1);},getColorsPalette:function(eColor){return this.$5(-1,eColor);},$5:function($p0,$p1){if(!$p0||!$p1){var $0=new Kepler.Engine.UI.OfficeThemeNs.Palette();$0.setDark1(new Kepler.Engine.UI.OfficeThemeNs.PaletteItem(new Kepler.Framework.UI.Color(0,0,0),'Black'));$0.setLight1(new Kepler.Engine.UI.OfficeThemeNs.PaletteItem(new Kepler.Framework.UI.Color(255,255,255),'White'));$0.setDark2(new Kepler.Engine.UI.OfficeThemeNs.PaletteItem(new Kepler.Framework.UI.Color(68,84,106),'Blue-Gray'));$0.setLight2(new Kepler.Engine.UI.OfficeThemeNs.PaletteItem(new Kepler.Framework.UI.Color(231,230,230),'Gray-25%'));$0.setAccent1(new Kepler.Engine.UI.OfficeThemeNs.PaletteItem(new Kepler.Framework.UI.Color(91,155,213),'Blue'));$0.setAccent2(new Kepler.Engine.UI.OfficeThemeNs.PaletteItem(new Kepler.Framework.UI.Color(237,125,49),'Orange'));$0.setAccent3(new Kepler.Engine.UI.OfficeThemeNs.PaletteItem(new Kepler.Framework.UI.Color(165,165,165),'Gray-50%'));$0.setAccent4(new Kepler.Engine.UI.OfficeThemeNs.PaletteItem(new Kepler.Framework.UI.Color(255,192,0),'Gold'));$0.setAccent5(new Kepler.Engine.UI.OfficeThemeNs.PaletteItem(new Kepler.Framework.UI.Color(68,144,196),'Blue'));$0.setAccent6(new Kepler.Engine.UI.OfficeThemeNs.PaletteItem(new Kepler.Framework.UI.Color(112,173,71),'Green'));$0.setHyperlink(new Kepler.Engine.UI.OfficeThemeNs.PaletteItem(new Kepler.Framework.UI.Color(5,99,193),'Dark Blue'));$0.setFollowedHyperlink(new Kepler.Engine.UI.OfficeThemeNs.PaletteItem(new Kepler.Framework.UI.Color(149,79,114),'Purple'));return $0;}else if($p1===1){var $1=new Kepler.Engine.UI.OfficeThemeNs.Palette();$1.setDark1(new Kepler.Engine.UI.OfficeThemeNs.PaletteItem(new Kepler.Framework.UI.Color(0,0,0),'Black'));$1.setLight1(new Kepler.Engine.UI.OfficeThemeNs.PaletteItem(new Kepler.Framework.UI.Color(255,255,255),'White'));$1.setDark2(new Kepler.Engine.UI.OfficeThemeNs.PaletteItem(new Kepler.Framework.UI.Color(31,73,125),'Dark Blue'));$1.setLight2(new Kepler.Engine.UI.OfficeThemeNs.PaletteItem(new Kepler.Framework.UI.Color(238,236,225),'Tan'));$1.setAccent1(new Kepler.Engine.UI.OfficeThemeNs.PaletteItem(new Kepler.Framework.UI.Color(79,129,189),'Blue'));$1.setAccent2(new Kepler.Engine.UI.OfficeThemeNs.PaletteItem(new Kepler.Framework.UI.Color(192,80,77),'Red'));$1.setAccent3(new Kepler.Engine.UI.OfficeThemeNs.PaletteItem(new Kepler.Framework.UI.Color(155,187,89),'Olive Green'));$1.setAccent4(new Kepler.Engine.UI.OfficeThemeNs.PaletteItem(new Kepler.Framework.UI.Color(128,100,162),'Purple'));$1.setAccent5(new Kepler.Engine.UI.OfficeThemeNs.PaletteItem(new Kepler.Framework.UI.Color(75,172,198),'Aqua'));$1.setAccent6(new Kepler.Engine.UI.OfficeThemeNs.PaletteItem(new Kepler.Framework.UI.Color(247,150,70),'Orange'));$1.setHyperlink(new Kepler.Engine.UI.OfficeThemeNs.PaletteItem(new Kepler.Framework.UI.Color(0,0,255),'Blue'));$1.setFollowedHyperlink(new Kepler.Engine.UI.OfficeThemeNs.PaletteItem(new Kepler.Framework.UI.Color(128,0,128),'Dark Purple'));return $1;}return null;},getMenuActivePaletteItems:function(){if(this.$0!==-1){return this.getMenuThemePaletteItems(this.$0);}else if(this.$1!==-1){return this.getMenuColorsPaletteItems(this.$1);}return null;},getMenuThemePaletteItems:function(eTheme){return this.$6(eTheme,-1);},getMenuColorsPaletteItems:function(eColors){return this.$6(-1,eColors);},$6:function($p0,$p1){var $0={};var $1=this.$5($p0,$p1);$0['Background 1']=$1.getLight1();$0['Text 1']=$1.getDark1();$0['Background 2']=$1.getLight2();$0['Text 2']=$1.getDark2();$0['Accent 1']=$1.getAccent1();$0['Accent 2']=$1.getAccent2();$0['Accent 3']=$1.getAccent3();$0['Accent 4']=$1.getAccent4();$0['Accent 5']=$1.getAccent5();$0['Accent 6']=$1.getAccent6();return $0;}}
Type.registerNamespace('Kepler.Engine.UI.QAT');Kepler.Engine.UI.QAT.IQatRadioGroup=function(){};Kepler.Engine.UI.QAT.IQatRadioGroup.registerInterface('Kepler.Engine.UI.QAT.IQatRadioGroup');Kepler.Engine.UI.QAT._INode=function(){};Kepler.Engine.UI.QAT._INode.registerInterface('Kepler.Engine.UI.QAT._INode');Kepler.Engine.UI.QAT.QatMode=function(){};Kepler.Engine.UI.QAT.QatMode.prototype = {none:0,chart:1,number:2}
Kepler.Engine.UI.QAT.QatMode.registerEnum('Kepler.Engine.UI.QAT.QatMode',false);Kepler.Engine.UI.QAT.Sides=function(){};Kepler.Engine.UI.QAT.Sides.prototype = {left:0,top:1,right:2,bottom:3}
Kepler.Engine.UI.QAT.Sides.registerEnum('Kepler.Engine.UI.QAT.Sides',false);Kepler.Engine.UI.QAT.BaseQatManager=function(oAppFrame){Kepler.Engine.UI.QAT.BaseQatManager.initializeBase(this,[null,'QAT_LAYER']);this._bParsingDone=false;this.$4_1B='qatbtn';this._mapQatContainers={};this._mapQatButton={};this.$4_2=[];this.$4_3=[];this.$4_4=oAppFrame;this.$4_1D=null;this.$4_17={};this.$4_18={};this.$4_19={};this.$4_1A=[];this.$4_1E=[];this.$4_7(oAppFrame);this.$4_D();}
Kepler.Engine.UI.QAT.BaseQatManager.prototype={_mapQatContainers:null,_mapQatButton:null,$4_2:null,$4_3:null,$4_4:null,$4_5:null,$4_6:null,get_activeQatBtn:function(){return this.$4_6;},set_activeQatBtn:function(value){var $0=this.$4_6;this.$4_6=value;if(ss.isValue($0)){$0.set_state(Kepler.Engine.UI.Controls.ECheckBoxState.eUnchecked);}return value;},_bParsingDone:false,get_parsingDone:function(){return this._bParsingDone;},$4_7:function($p0){if((Kepler.Engine.UI.WeapAppFrame).isInstanceOfType($p0)){var $0=$p0;var $1=Kepler.Engine.Core.EngineApp.get_engine().get_commonResourcePath()+Kepler.Engine.UI.BaseAppFrame.xmL_AUTOMATION_FILE;$1=$0.get_resourcePath()+Kepler.Engine.UI.BaseAppFrame.xmL_AUTOMATION_FILE;this.$4_5=new Ribbon.QatParser($1,this);}},$4_8:function(){if(!this.$4_5.get_downloaded()||!this.get_loaded()||this._bParsingDone){return;}this.$4_9(this.$4_5);this.parsingCompleted();},$4_9:function($p0){var $0=new Ribbon.XmlParser_ParentParam();$0.oRbnItem=null;$0.element=null;$0.lstRbnItems=null;$0.oRbnContainer=null;$p0.startXmlParsing('quick_access',$0);},$4_A:function($p0){this.$4_8();},$4_B:function($p0){this.$4_5.set_xmlNode($p0.get_xmlNode());this.$4_8();},$4_C:function($p0){},parsingCompleted:function(){this._bParsingDone=true;this.$4_4.sendMessage('msg_parsing_done',null,null);},$4_D:function(){var $0=new Kepler.Engine.UI.QAT.DataQatButton(1,null,new Kepler.Framework.UI.Size(24,24),(1).toString(),null,'qat_btn_data_analyser');this.addQatButton($0);$0=new Kepler.Engine.UI.QAT.ChartQatButton(2,null,new Kepler.Framework.UI.Size(28,28),(2).toString(),null,'qat_btn_plus');this.addQatButton($0);$0=new Kepler.Engine.UI.QAT.ChartQatButton(3,null,new Kepler.Framework.UI.Size(28,28),(3).toString(),null,'qat_btn_styler');this.addQatButton($0);$0=new Kepler.Engine.UI.QAT.ChartQatButton(4,null,new Kepler.Framework.UI.Size(28,28),(4).toString(),null,'qat_btn_filter');this.addQatButton($0);$0=new Kepler.Engine.UI.QAT.ChartQatButton(14,null,new Kepler.Framework.UI.Size(28,28),(14).toString(),null,'qat_btn_layout_options');this.addQatButton($0);$0=new Kepler.Engine.UI.QAT.SlideshowQatButton(9,null,new Kepler.Framework.UI.Size(32,32),(9).toString(),' pentools',null);this.addQatButton($0);$0=new Kepler.Engine.UI.QAT.SlideshowQatButton(5,null,new Kepler.Framework.UI.Size(32,32),(5).toString(),' slideoptions',null);this.addQatButton($0);},addContainer:function(oContainer){if(ss.isValue(oContainer)){var $0=oContainer.get_id();if(Object.keyExists(this._mapQatContainers,$0)){}this._mapQatContainers[$0]=oContainer;}},showContainer:function(iContId,ptLocation){if(!this.$4_2.contains(iContId)&&Object.keyExists(this._mapQatContainers,iContId)){var $0=this._mapQatContainers[iContId];this.$4_2.add(iContId);this.$4_4.add($0,this.get_element());$0.showContainer(ptLocation);}},hideContainer:function(iContId){var $0=this.$4_2.length-1;for(var $1=$0;$1>=0;$1--){this._mapQatContainers[this.$4_2[$1]].hideContainer();var $2=this.$4_2[this.$4_2.length-1];this.$4_2.removeAt(this.$4_2.length-1);if($2===iContId){break;}}},isContainerInView:function(iContId){return this.$4_2.contains(iContId);},getContainer:function(iContId){return this._mapQatContainers[iContId];},addQatButton:function(oBtn){if(ss.isValue(oBtn)){var $0=oBtn.get_id();if(Object.keyExists(this._mapQatContainers,$0)){}this._mapQatButton[$0]=oBtn;this.$4_1F(oBtn);}},getQATButton:function(iBtnId){return this._mapQatButton[iBtnId];},showQatButton:function(iButtonId,ptLocation,oParent){if(!this.$4_3.contains(iButtonId)&&Object.keyExists(this._mapQatButton,iButtonId)){var $0=this._mapQatButton[iButtonId];this.$4_3.add(iButtonId);if(ss.isValue(oParent)){this.add($0,oParent);}else{this.add($0);}$0.showButton(ptLocation);}},hideQatButton:function(iButtonId){if(this.$4_3.contains(iButtonId)&&Object.keyExists(this._mapQatButton,iButtonId)){var $0=this._mapQatButton[iButtonId];this.hideContainer($0.get_containerId());$0.hideButton();this.$4_3.remove(iButtonId);}},onLoad:function(){Kepler.Engine.UI.QAT.BaseQatManager.callBaseMethod(this, 'onLoad');this.initialise();this.$4_29();(this.get_parent()).getAppParser(ss.Delegate.create(this,this.$4_B),ss.Delegate.create(this,this.$4_C));},initialise:function(){},createImageList:function(){},$4_17:null,$4_18:null,$4_19:null,$4_1A:null,$4_1B:null,$4_1C:0,$4_1D:null,$4_1E:null,$4_1F:function($p0){if(ss.isNullOrUndefined($p0)){return;}var $0=new Kepler.Engine.UI.QAT.QatBtnState();$0.set_highlighted($p0.get_highlight());$0.set_imageClass($p0.get_imageClass());$0.set_toolTip($p0.get_toolTip());this.$4_17[$p0.get_id()]=$0;},setData:function($p0){var $0=null;var $dict1=this._mapQatContainers;for(var $key2 in $dict1){var $1={key:$key2,value:$dict1[$key2]};$0=$1.value;$0.setData($p0);}this.$4_21($p0);this.$4_20($p0);this.$4_26($p0);},$4_20:function($p0){var $0=9;this.$4_23(this.$4_18);this.$4_23(this.$4_19);var $1=Kepler.Engine.Core.TaitHelper.parseCountDataTags($p0,this.$4_1B+Kepler.Engine.UI.QAT.BaseQatManager.$4_F,this.$4_1B+Kepler.Engine.UI.QAT.BaseQatManager.$4_11);if(ss.isValue($1)){var $enum1=ss.IEnumerator.getEnumerator($1);while($enum1.moveNext()){var $2=$enum1.current;var $3=new Kepler.Engine.UI.QAT.QatBtnState();var $4=$2.split(Kepler.Framework.Core.Seperators.miD_DOT,$0);var $5=-1;var $6=parseInt($4[++$5],10);$3.set_highlighted(parseInt($4[++$5],10));$3.set_imageClass($4[++$5]);$3.set_toolTip($4[++$5]);if($4.length>4){$3.set_buttonState(parseInt($4[++$5]));}this.$4_18[$6]=$3;}this.$4_22(this.$4_18);}},$4_21:function($p0){var $0=9;this.$4_1A.clear();var $1=Kepler.Engine.Core.TaitHelper.parseCountDataTags($p0,this.$4_1B+Kepler.Engine.UI.QAT.BaseQatManager.$4_E,this.$4_1B+Kepler.Engine.UI.QAT.BaseQatManager.$4_10);if(ss.isValue($1)){var $enum1=ss.IEnumerator.getEnumerator($1);while($enum1.moveNext()){var $2=$enum1.current;var $3=new Ribbon.ItemAction();var $4=$2.split(Kepler.Framework.Core.Seperators.miD_DOT,$0);$3.set_id(parseInt($4[0],10));$3.set_index(parseInt($4[1],10));$3.set_frameJump(parseInt($4[2],10));$3.set_subFrameJump(parseInt($4[3],10));$3.set_checkWithViewInBool((1===parseInt($4[4],10)));$3.set_checkWithViewInText($4[5]);this.$4_1A.add($3);}}},$4_22:function($p0){var $dict1=$p0;for(var $key2 in $dict1){var $0={key:$key2,value:$dict1[$key2]};var $1=$0.key;var $2=$0.value;this.$4_24($1,$2);}},$4_23:function($p0){var $dict1=$p0;for(var $key2 in $dict1){var $0={key:$key2,value:$dict1[$key2]};var $1=$0.key;var $2=this.$4_17[$1];if(ss.isValue($2)){this.$4_24($1,$2);}}Object.clearKeys($p0);},$4_24:function($p0,$p1){var $0=this._mapQatButton[$p0];if(ss.isNullOrUndefined($0)){return;}if(($p1.get_highlighted()!==Kepler.Engine.UI.QAT.QatBtnState.donT_CARE)){if($p1.get_highlighted()>0){this.$4_1D=$0;}$0.set_highlight($p1.get_highlighted());}if(!String.isNullOrEmpty($p1.get_imageClass())){$0.set_imageClass($p1.get_imageClass());}if(!String.isNullOrEmpty($p1.get_toolTip())){$0.set_toolTip($p1.get_toolTip());}$0.set_state($p1.get_buttonState());},$4_25:function($p0,$p1){var $0=this._mapQatButton[$p0];if(!String.isNullOrEmpty($p1.get_imageClass())){$0.set_imageClass($p1.get_imageClass());}if(!String.isNullOrEmpty($p1.get_toolTip())){$0.set_toolTip($p1.get_toolTip());}},$4_26:function($p0){this.$4_1E.clear();if(Object.keyExists($p0,'qat_show_cont_data')){var $0=$p0['qat_show_cont_data'].split(Kepler.Framework.Core.Seperators.PIPE);var $enum1=ss.IEnumerator.getEnumerator($0);while($enum1.moveNext()){var $1=$enum1.current;this.$4_1E.add(parseInt($1,10));}}},$4_27:function($p0,$p1){var $0=$p0.get_highlight()>0;var $1='Qat button command : '+$p0.getActionString();if(!$0){this.$4_28($p0);}if(ss.isValue($p1)){$p1.set_frameJump(-1);$p1.set_subFrameJump(-1);$p1.set_text($1);}return $0;},$4_28:function($p0){var $0=this.$4_17[$p0.get_id()];if(!ss.isNullOrUndefined($0)){this.$4_25($p0.get_id(),$0);}$0=this.$4_19[$p0.get_id()];if(!ss.isNullOrUndefined($0)){this.$4_25($p0.get_id(),$0);}$0=this.$4_18[$p0.get_id()];if(!ss.isNullOrUndefined($0)){this.$4_25($p0.get_id(),$0);}},$4_29:function(){this.attachMessage('eONDetectMode',ss.Delegate.create(this,this.$4_2E));this.attachMessage('msg_qatbtn_cmd',ss.Delegate.create(this,this.$4_2D));this.attachMessage('msg_show_qat_container_popup',ss.Delegate.create(this,this.$4_2B));this.attachMessage('msg_hide_qat_container_popup',ss.Delegate.create(this,this.$4_2A));this.attachMessage('msg_view_ready',ss.Delegate.create(this,this.$4_2F));},$4_2A:function($p0,$p1){var $0=$p0;this.hideContainer($0);return null;},$4_2B:function($p0,$p1){var $0=$p0;var $1=$p1;this.showContainer($0,$1);return null;},$4_2C:function($p0,$p1){return true;},$4_2D:function($p0,$p1){var $0=$p0;var $1=new Ribbon.ItemAction();var $2=this.$4_2E(null,null);var $3=true;if(!!$2){$3=this.$4_27($0,$1);}if($3){var $4=$0.get_state();$0.set_state(($4===Kepler.Engine.UI.Controls.ECheckBoxState.eUnchecked)?Kepler.Engine.UI.Controls.ECheckBoxState.eChecked:Kepler.Engine.UI.Controls.ECheckBoxState.eUnchecked);}else{this.get_parent().sendMessage('eONActionEngine',$3,$1);}return null;},$4_2E:function($p0,$p1){return this.get_parent().sendMessage('eONDetectMode',$p0,$p1);},$4_2F:function($p0,$p1){var $enum1=ss.IEnumerator.getEnumerator(this.$4_1E);while($enum1.moveNext()){var $0=$enum1.current;this.getQATButton($0).set_state(Kepler.Engine.UI.Controls.ECheckBoxState.eChecked);}return null;}}
Kepler.Engine.UI.QAT.QatApplyFooter=function(){Kepler.Engine.UI.QAT.QatApplyFooter.initializeBase(this);this._elemItem=document.createElement('div');}
Kepler.Engine.UI.QAT.QatApplyFooter.prototype={createRibbonItem:function(bTouchMode){this._elemItem.rbnItem=this;this._elemItem.setAttribute('role','qatapplyfooter');this._elemItem.style.position='absolute';this.setItemRect(this._elemItem,this.getItemRect(bTouchMode));var $0='class_ribbonitem_center';Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this._elemItem,$0);this._elemItem.style.borderTop='1px dotted #ABABAB';}}
Kepler.Engine.UI.QAT.QatRadio=function(){Kepler.Engine.UI.QAT.QatRadio.initializeBase(this);this._elemItem=document.createElement('div');this._bChecked=false;}
Kepler.Engine.UI.QAT.QatRadio.prototype={$10:null,get_parentGroup:function(){return this.$10;},set_parentGroup:function(value){this.$10=value;return value;},createRibbonItem:function(bTouchMode){Kepler.Engine.UI.QAT.QatRadio.callBaseMethod(this, 'createRibbonItem',[bTouchMode]);var $0=this.getItemRect(bTouchMode);this._elemItem.style.position='relative';this.setItemRect(this._elemItem,$0);this._elemItem.rbnItem=this;this._elemItem.setAttribute('controltype','button');var $1=document.createElement('div');$1.style.marginLeft='4px';$1.style['border-radius']=Math.ceil(11/2)+'px';$1.id='ribbonitem-icon';$1.style.position='relative';$1.style.width=$1.style.height=11+'px';$1.style.display='inline-block';$1.style.verticalAlign='top';$1.style.top='4px';var $2=document.createElement('div');$2.style['border-radius']=Math.ceil(7/2)+'px';$2.style.margin='2px';$2.style.width=$2.style.height=7+'px';$2.style.display='inline-block';$1.appendChild($2);if(!this._bChecked){$2.style.display='none';}Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass($1,'chkbox_normal');var $3=this.get_text().split(Kepler.Framework.Core.Seperators.STAR);var $4=document.createElement('span');$4.id='ribbonitem-text';$4.style.position='relative';$4.innerHTML=$3[0];$4.style.display='inline-block';$4.style.top='4px';$4.style.marginLeft='5px';$4.style.width=$0.get_width()-25+'px';Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass($4,'class_ribbon_font');var $5=document.createElement('div');if(!String.isNullOrEmpty($3[1])){$5.id='info-image';$5.style.position='absolute';$5.className='wd_info';$5.style.display='inline-block';var $6=$3[1].split(',');$5.style.top=$6[0]+'px';$5.style.left=$6[1]+'px';}if(this._iEnabled===1){Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass($4,'text-enabled');}this._elemItem.appendChild($1);this._elemItem.appendChild($4);this._elemItem.appendChild($5);},drawItem:function(element){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementById(this._elemItem,'ribbonitem-icon');switch(this._eToState){case Kepler.Framework.UI.Controls.EItemState.eNormal:Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass($0,'chkbox_normal');Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass($0,'chkbox_hover');Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass($0,'chkbox_pressed');$0.style.borderColor='';$0.style.backgroundColor='';$0.firstChild.style.backgroundColor='#777777';break;case Kepler.Framework.UI.Controls.EItemState.eHover:Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass($0,'chkbox_hover');Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass($0,'chkbox_normal');Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass($0,'chkbox_pressed');$0.style.borderColor=Kepler.Framework.UI.ThemeDetails.get_currentTheme().get_colorPressed();$0.style.backgroundColor=Kepler.Framework.UI.ThemeDetails.get_currentTheme().get_colorHover();$0.firstChild.style.backgroundColor='#444444';break;case Kepler.Framework.UI.Controls.EItemState.ePressed:case Kepler.Framework.UI.Controls.EItemState.ePressedHover:Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass($0,'chkbox_pressed');Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass($0,'chkbox_hover');Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass($0,'chkbox_normal');$0.style.borderColor=Kepler.Framework.UI.ThemeDetails.get_currentTheme().get_colorPressed();$0.style.backgroundColor=Kepler.Framework.UI.ThemeDetails.get_currentTheme().get_colorPressed();$0.firstChild.style.backgroundColor='#1B1C1D';break;default:break;}if(this._bChecked&&this.get_enabled()===1){$0.firstChild.style.display='';}else{$0.firstChild.style.display='none';}},drawHighlightedState:function(){this.highlightDiv(this._elemItem);},drawEnabledDisabledState:function(){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementById(this._elemItem,'ribbonitem-icon');if(ss.isValue($0)){this.enableDisableImage($0);}var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementById(this._elemItem,'ribbonitem-text');if(ss.isValue($1)){this.enableDisableText($1);}},reflectText:function(){Kepler.Engine.UI.QAT.QatRadio.callBaseMethod(this, 'reflectText');var $0=this.get_text().split(Kepler.Framework.Core.Seperators.STAR);var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementById(this._elemItem,'ribbonitem-text');$1.innerHTML=$0[0];},onLButtonUp:function(element,mouseEventArgs){if(!this._bChecked){this._bChecked=true;if(ss.isValue(this.$10)){(this.$10).setSelectedRadio(this);}this.drawItem(null);}return true;}}
Kepler.Engine.UI.QAT.QatRadioGroup=function(){Kepler.Engine.UI.QAT.QatRadioGroup.initializeBase(this);}
Kepler.Engine.UI.QAT.QatRadioGroup.prototype={$C:null,addItem:function(oRibbonItem,elemParent){this._oParentRbnItem.addItem(oRibbonItem,elemParent);},setSelectedRadio:function(oRadio){if(this.$C!=null){this.$C.set_checked(false);this.$C.drawItem(null);}this.$C=oRadio;}}
Kepler.Engine.UI.QAT.QatButton=function(iContId,strHtml,oSize,strId,strClassName,strImgPath){Kepler.Engine.UI.QAT.QatButton.initializeBase(this,[strHtml,null,oSize,strId,strClassName,null,strImgPath]);this._iContId=iContId;this.get_elementStyle().zIndex=1;}
Kepler.Engine.UI.QAT.QatButton.prototype={_iContId:0,get_containerId:function(){return this._iContId;},_oQatManager:null,get_state:function(){return Kepler.Engine.UI.QAT.QatButton.callBaseMethod(this, 'get_state');},set_state:function(value){Kepler.Engine.UI.QAT.QatButton.callBaseMethod(this, 'set_state',[value]);this.$4_0();return value;},_iHighlight:0,get_highlight:function(){return this._iHighlight;},set_highlight:function(value){this._iHighlight=value;this.$4_1();return value;},_strImageClass:null,get_imageClass:function(){return this._strImageClass;},set_imageClass:function(value){var $0=null;if(ss.isValue($0)){if(ss.isValue(this._strImageClass)){Kepler.Engine.UI.Helper.HtmlCssHelper.replaceCssClass($0,this._strImageClass,value);}else{Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass($0,value);}}this._strImageClass=value;return value;},get_toolTip:function(){if(ss.isValue(this._oToolTipParam)){return this._oToolTipParam._strTextualData;}return '';},set_toolTip:function(value){if(ss.isValue(this._oToolTipParam)){this._oToolTipParam._strTextualData=value;}return value;},_oToolTipParam:null,get_toolTipParam:function(){return this._oToolTipParam;},set_toolTipParam:function(value){this._oToolTipParam=value;return value;},onLoad:function(){Kepler.Engine.UI.QAT.QatButton.callBaseMethod(this, 'onLoad');this._oQatManager=this.get_parent();},onEventProcessClick:function(mouseEventArgs){this.sendMessageToParent('msg_qatbtn_cmd',this,null);var $0=new Kepler.Framework.UI.Controls.OnCommandStruct(mouseEventArgs,Kepler.Framework.UI.Controls.NotificationCode.buttoN_CLICK);var $1=this.sendMessageToParent(Kepler.Engine.UI.Controls.Control.msG_COMMAND,$0,this);if(!$1){this.sendMessageToParent(Kepler.Engine.UI.Controls.ButtonBase.msG_BUTTON_CLICKED,mouseEventArgs,this);}},$4_0:function(){if(this.get_state()===Kepler.Engine.UI.Controls.ECheckBoxState.eUnchecked){this.hideContainer();}else{if(this.get_visible()){this.launchContainer();}}},hideContainer:function(){if(this._oQatManager.get_activeQatBtn()===this){this._oQatManager.set_activeQatBtn(null);}this._oQatManager.hideContainer(this._iContId);},showButton:function(ptLocation){this.set_position(ptLocation);this.show(true);this.set_state(Kepler.Engine.UI.Controls.ECheckBoxState.eUnchecked);},isCorrectAction:function(oItemAction){return true;},getActionString:function(){if(ss.isValue(this._oToolTipParam)){var $0=this._oToolTipParam;var $1=$0._strTextualData;if(!String.isNullOrEmpty($1)){$1=$1.split(Kepler.Framework.Core.Seperators.z_CARON)[0];}return "'"+$1+"' clicked";}return '';},hideButton:function(){this.show(false);this.set_state(Kepler.Engine.UI.Controls.ECheckBoxState.eUnchecked);},$4_1:function(){if(this._iHighlight>0){Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this.get_element(),'class_visual_hint');}else{Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(this.get_element(),'class_visual_hint');}},onKeyDown:function(keyboardEventArgs){if(keyboardEventArgs.get_key()===Kepler.Framework.UI.Events.EventArgsNs.Keys.escape){this.hideContainer();}Kepler.Engine.UI.QAT.QatButton.callBaseMethod(this, 'onKeyDown',[keyboardEventArgs]);}}
Kepler.Engine.UI.QAT.DataQatButton=function(iContId,strHtml,oSize,strId,strClassName,strImgPath){Kepler.Engine.UI.QAT.DataQatButton.initializeBase(this,[iContId,strHtml,oSize,strId,strClassName,strImgPath]);var $0=Kepler.Engine.UI.EngineThemeDetails.getThemeDetails();this.get_elementStyle().borderColor=$0.get_colorNormal();this.get_elementStyle().backgroundColor='White';this.$4_2=ss.Delegate.create(this,this.mouseHookProc);this.$4_3=new Kepler.Engine.UI.Transparency_Animation(this,null);this.$4_6();}
Kepler.Engine.UI.QAT.DataQatButton.prototype={$4_2:null,$4_3:null,drawItem:function(eState){var $0='';var $1='';var $2=Kepler.Engine.UI.EngineThemeDetails.getThemeDetails();switch(eState){case Kepler.Framework.UI.Controls.EItemState.eNormal:$0=((this.get_state()===Kepler.Engine.UI.Controls.ECheckBoxState.eChecked)?$2.get_colorPressed():'White');break;case Kepler.Framework.UI.Controls.EItemState.eHover:$0=$2.get_colorHover();break;case Kepler.Framework.UI.Controls.EItemState.ePressed:$0=$2.get_colorPressed();break;case Kepler.Framework.UI.Controls.EItemState.eDisabled:if(!this.get_visible()){$1='_disabled'+Kepler.Engine.UI.Controls.Control.csS_CLASS_DISPLAY_NONE;}else{$1='_disabled';}break;default:throw new Error('Not Implemented Exception : '+'eState');}if($1.length>0){this.get_element().className=this._strClassName+this._strClassName+$1;}this.get_elementStyle().backgroundColor=$0;},launchContainer:function(){var $0=null;if(ss.isValue($0=this._oQatManager.getContainer(this._iContId))){var $1=this.get_left()+(this.get_width()/2);var $2=Kepler.Engine.Core.EngineApp.get_engine().getDesktopViewRect();var $3=new Kepler.Framework.UI.Rect(0,0,0,0);$3.set_left($1-($0.get_width()/2));$3.set_left(($3.get_left()<0)?0:$3.get_left());$3.set_top(this.get_top()-Math.floor(15/2)-5);$3.set_width(this.get_width()+15);$3.set_height(this.get_height()+15+5);var $4=new Kepler.Engine.UI.Helper.LaunchParams(null,$3,null,$0.get_size(),$2,null);$4.clearPositioningOrder();$4.setPositioningOrder(Kepler.Engine.UI.Helper.Launch_Positioning_Order.eBottomTop);var $5=Kepler.Engine.UI.Helper.CalcHelper.getSuggestedLaunchRect($4);this._oQatManager.set_activeQatBtn(this);this._oQatManager.showContainer(this._iContId,new Kepler.Framework.UI.Point($5.get_left(),$5.get_top()));$0.placeDiamond(((this.get_top()<$5.get_top())?1:3),$1-$5.get_left()-2);}},$4_4:function(){if(2!==this.get_parent().sendMessage('eONDetectMode',null,null)){if(!Kepler.Framework.UI.Events.Hooks.MouseHook.isRegistered(this.$4_2)){Kepler.Framework.UI.Events.Hooks.MouseHook.register(this.$4_2);}if(!Kepler.Framework.UI.Events.Hooks.TouchHook.isRegistered(this.$4_2)){Kepler.Framework.UI.Events.Hooks.TouchHook.register(this.$4_2);}}},$4_5:function(){Kepler.Framework.UI.Events.Hooks.MouseHook.unRegister(this.$4_2);Kepler.Framework.UI.Events.Hooks.TouchHook.unRegister(this.$4_2);},mouseHookProc:function(evt){var $0=evt.get_target();switch(evt.get_type()){case Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseMove:if(this.get_state()===Kepler.Engine.UI.Controls.ECheckBoxState.eUnchecked){if(!this.get_element().contains($0)){this.$4_3.transparentControl(evt);}else{this.$4_3._bAnimation=false;this.get_elementStyle().opacity='1';}}break;case Kepler.Framework.UI.Events.EventArgsNs.EventType.touchStart:case Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseDown:var $1=this._oQatManager.getContainer(this._iContId);if(this.get_state()!==Kepler.Engine.UI.Controls.ECheckBoxState.eUnchecked&&$1.get_visible()&&!this.get_element().contains($0)&&!$1.get_element().contains($0)){this.set_state(Kepler.Engine.UI.Controls.ECheckBoxState.eUnchecked);}$1=null;break;default:break;}return false;},$4_6:function(){this.get_elementStyle().opacity='1';this.$4_3._bAnimation=false;this.$4_3._iDistCur=1;this.$4_3._iDistTransparentAnim1=50;this.$4_3._iDistTransparentAnimX=80;this.$4_3._iDistOpaqueAnim1=1;this.$4_3._iDistOpaqueAnimX=1;this.$4_3._iDistVisibleAnim1=100;this.$4_3._iDistVisibleAnimX=150;},showButton:function(ptLocation){Kepler.Engine.UI.QAT.DataQatButton.callBaseMethod(this, 'showButton',[ptLocation]);this.$4_6();this.$4_4();},hideButton:function(){Kepler.Engine.UI.QAT.DataQatButton.callBaseMethod(this, 'hideButton');this.$4_5();}}
Kepler.Engine.UI.QAT.ChartQatButton=function(iContId,strHtml,oSize,strId,strClassName,strImgPath){Kepler.Engine.UI.QAT.ChartQatButton.initializeBase(this,[iContId,strHtml,oSize,strId,strClassName,strImgPath]);this.get_elementStyle().backgroundColor='White';this.get_elementStyle().border='1px solid #ABABAB';}
Kepler.Engine.UI.QAT.ChartQatButton.prototype={launchContainer:function(){var $0=null;if(ss.isValue($0=this._oQatManager.getContainer(this._iContId))){var $1=this.get_top()+(this.get_height()/2);var $2=Kepler.Engine.Core.EngineApp.get_engine().getDesktopViewRect();var $3=new Kepler.Framework.UI.Rect(0,0,0,0);$3.set_left(this.get_left()-(15/2)-2);$3.set_top($1-(15/2)-10);$3.set_width(this.get_width()+15+2);$3.set_height(this.get_height()+15+5);var $4=new Kepler.Engine.UI.Helper.LaunchParams(null,$3,null,$0.get_size(),$2,null);$4.clearPositioningOrder();$4.setPositioningOrder(Kepler.Engine.UI.Helper.Launch_Positioning_Order.eRightLeft);var $5=Kepler.Engine.UI.Helper.CalcHelper.getSuggestedLaunchRect($4);this._oQatManager.set_activeQatBtn(this);this._oQatManager.showContainer(this._iContId,new Kepler.Framework.UI.Point($5.get_left(),$5.get_top()));$0.placeDiamond(((this.get_left()<$5.get_left())?0:2),$1-$5.get_top()-2);}},drawItem:function(eState){var $0='';var $1='';var $2='';var $3=Kepler.Engine.UI.EngineThemeDetails.getThemeDetails();switch(eState){case Kepler.Framework.UI.Controls.EItemState.eNormal:$0='White';$1='#ABABAB';break;case Kepler.Framework.UI.Controls.EItemState.eHover:$0=$3.get_colorHover();$1=$3.get_colorPressed();break;case Kepler.Framework.UI.Controls.EItemState.ePressed:$0=$3.get_colorPressed();$1=$3.get_colorNormalLight();break;case Kepler.Framework.UI.Controls.EItemState.eDisabled:if(!this.get_visible()){$2='_disabled'+Kepler.Engine.UI.Controls.Control.csS_CLASS_DISPLAY_NONE;}else{$2='_disabled';}break;default:throw new Error('Not Implemented Exception : '+'eState');}if($2.length>0){this.get_element().className=this._strClassName+this._strClassName+$2;}this.get_elementStyle().backgroundColor=$0;this.get_elementStyle().borderColor=$1;}}
Kepler.Engine.UI.QAT.SlideshowQatButton=function(iContId,strHtml,oSize,strId,strClassName,strImgPath){Kepler.Engine.UI.QAT.SlideshowQatButton.initializeBase(this,[iContId,strHtml,oSize,strId,strClassName,strImgPath]);this.get_elementStyle().position='absolute';}
Kepler.Engine.UI.QAT.SlideshowQatButton.prototype={launchContainer:function(){var $0=null;if(ss.isValue($0=this._oQatManager.getContainer(this._iContId))){var $1=this.get_element().parentNode.style;var $2=new Kepler.Framework.UI.Rect(0,0,0,0);$2.set_left(parseInt($1.left)+this.get_left()-Math.ceil(($0.get_width()/2))+14);$2.set_top(parseInt($1.top)-$0.get_height()-15);$2.set_width(this.get_width()+15+2);$2.set_height(this.get_height()+15+5);this._oQatManager.set_activeQatBtn(this);this._oQatManager.showContainer(this._iContId,new Kepler.Framework.UI.Point($2.get_left(),$2.get_top()));$0.placeDiamond(3,Math.ceil($0.get_width()/2));this.sendMessageToParent('qat_container_Launched',true,$0);}}}
Kepler.Engine.UI.QAT.QatCheckBox=function(){Kepler.Engine.UI.QAT.QatCheckBox.initializeBase(this);this.$18=-1;}
Kepler.Engine.UI.QAT.QatCheckBox.prototype={$18:0,get_containerId:function(){return this.$18;},initialise:function(iId,rcMouse,rcTouch,iMenuNo,iRtClkMenu,strText,strImageClass,oMsgParent,iContId){Kepler.Engine.UI.QAT.QatCheckBox.callBaseMethod(this, 'initialise',[iId,rcMouse,rcTouch,iMenuNo,iRtClkMenu,strText,strImageClass,oMsgParent]);this.$18=iContId;},createRibbonItem:function(bTouchMode){var $0=this.getItemRect(false);this._elemItem.className='qat_chkbox ';this._elemItem.style.marginLeft=$0.get_left()+'px';this._elemItem.style.marginTop=$0.get_top()+'px';this.setItemSize(this._elemItem,$0.get_width(),$0.get_height());var $1=document.createElement('div');this._elemItem.appendChild($1);$1.className='qat_chkbox_checkbox_part ';var $2=$0.get_width();if(this.$18>0){$2-=31;}$1.style.width=$2+'px';$1.setAttribute('controltype','button');$1.rbnItem=this;var $3=(($0.get_height()-(12+2))/2);var $4=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div','ribbonitem-icon','relative',null,$3,12,12,'qat_chkbox_normal ',null);$1.appendChild($4);if(this._bChecked){Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass($4,Kepler.Engine.UI.QAT.QatCheckBox.$11);}var $5=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('span','ribbonitem-text','relative',null,null,null,null,'qat_chkbox_text '+'class_ribbon_font ',null);$5.textContent=this.get_text();$1.appendChild($5);if(this.$18>0){var $6=document.createElement('div');this._elemItem.appendChild($6);$6.style.width=31+'px';$6.className='qat_chkbox_arrow_part ';$6.setAttribute('controltype','menubutton');$6.rbnItem=this;var $7=($0.get_height()-9)/2;var $8=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('span','ribbonitem-arrow','relative',null,$7,6,9,'class_ImgPath_Arrow '+' '+'qat_chkbox_rt_arr'+' '+'display_none ',null);$6.appendChild($8);}},drawItem:function(element){var $0=null;if(ss.isValue(this._elemItem.childNodes[1])){$0=this._elemItem.childNodes[1].firstChild;}switch(this._eToState){case Kepler.Framework.UI.Controls.EItemState.eNormal:this._elemItem.firstChild.style.backgroundColor='';var $2=(this._oMsgParent).get_qatManager().isContainerInView(this.$18);if($2){Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass($0,'display_none ');}else{Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass($0,'display_none ');}break;case Kepler.Framework.UI.Controls.EItemState.eHover:Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass($0,'display_none ');if(element===this._elemItem.firstChild){this._elemItem.firstChild.style.backgroundColor=this._oThemeDetails.get_colorHover();}else{this._elemItem.firstChild.style.backgroundColor='';}break;case Kepler.Framework.UI.Controls.EItemState.ePressedHover:case Kepler.Framework.UI.Controls.EItemState.ePressed:Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass($0,'display_none ');if(element===this._elemItem.firstChild){this._elemItem.firstChild.style.backgroundColor=this._oThemeDetails.get_colorPressed();}break;}var $1=this._elemItem.childNodes[0].firstChild;if(this._bChecked){Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass($1,Kepler.Engine.UI.QAT.QatCheckBox.$11);}else{Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass($1,Kepler.Engine.UI.QAT.QatCheckBox.$11);}},showMenu:function(element,bDefActiveItem){(this._oMsgParent).sendMessage('msg_show_qat_container_popup',this,null);},onLButtonUp:function(element,mouseEventArgs){var $0=Kepler.Engine.UI.QAT.QatCheckBox.callBaseMethod(this, 'onLButtonUp',[element,mouseEventArgs]);if(element!==this._elemItem.firstChild){this._bChecked=!this._bChecked;}return $0;}}
Kepler.Engine.UI.QAT.QatContainer=function(strId,oSize,strCls,oQatManager){Kepler.Engine.UI.QAT.QatContainer.initializeBase(this,[strId,'qat_container '+strCls,false]);this.set_showHideProperty(Kepler.Framework.UI.ShowHideProperty.display);this.$4_1A={};this.$4_19={};this._lstQatTabs=[];this._iPrevTab=-1;this.$4_18=-1;this.$4_1B=null;this._strTaitPrefix='qat'+this.get_id();if(ss.isValue(oSize)){this.set_size(oSize);}this._elemDiamond=document.createElement('div');var $0=Math.round(15/Math.SQRT2);this._elemDiamond.style.width=this._elemDiamond.style.height=$0+'px';this._elemDiamond.className='diamond';this.get_element().appendChild(this._elemDiamond);this.$4_20=oQatManager;this.$4_1F=null;}
Kepler.Engine.UI.QAT.QatContainer.prototype={_elemTabBar:null,_elemDiamond:null,_elemTabPaneBar:null,_elemCloseBtn:null,_lstQatTabs:null,_iPrevTab:0,$4_18:0,$4_19:null,$4_1A:null,$4_1B:null,add_$4_1C:function($p0){this.$4_1D=ss.Delegate.combine(this.$4_1D,$p0);},remove_$4_1C:function($p0){this.$4_1D=ss.Delegate.remove(this.$4_1D,$p0);},$4_1D:null,$4_1E:false,$4_1F:null,$4_20:null,get_qatManager:function(){return this.$4_20;},get_closeBtn:function(){return this.$4_1E;},set_closeBtn:function(value){this.$4_1E=value;return value;},get_height:function(){return Kepler.Engine.UI.QAT.QatContainer.callBaseMethod(this, 'get_height');},set_height:function(value){Kepler.Engine.UI.QAT.QatContainer.callBaseMethod(this, 'set_height',[value+10+20+10]);return value;},$4_21:false,get_resizable:function(){return this.$4_21;},set_resizable:function(value){this.$4_21=value;return value;},addTab:function(oQatTab){this.addItemToContainer(oQatTab);this._lstQatTabs.add(oQatTab);},addFooter:function(oQatFooter){this.addItemToContainer(oQatFooter);this.$4_1F=oQatFooter;},createContainer:function(){this.get_elementStyle().borderColor=Kepler.Framework.UI.ThemeDetails.get_currentTheme().get_colorNormal();if(this.$4_1E){this._elemCloseBtn=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div','qat_close_btn','absolute',null,10,16,16,' pane_dialog_btn_cross_word'+' pane_dialog_btn_cross_word'+'_normal',null);this._elemCloseBtn.style.right='10px';this._elemCloseBtn.style.zIndex=1;this.get_element().appendChild(this._elemCloseBtn);}this._elemTabBar=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div','qat_tab_buttons','relative',null,10,null,20,'',null);Kepler.Engine.UI.Helper.HtmlCssHelper.setElementWidth(this._elemTabBar,'100%');this.get_element().appendChild(this._elemTabBar);this._elemTabPaneBar=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div','qat_tab_pane_container','relative',null,10,null,this.get_height()-10-20,'',null);Kepler.Engine.UI.Helper.HtmlCssHelper.setElementWidth(this._elemTabPaneBar,'100%');this.get_element().appendChild(this._elemTabPaneBar);},createTab:function(){var $enum1=ss.IEnumerator.getEnumerator(this._lstQatTabs);while($enum1.moveNext()){var $0=$enum1.current;this._elemTabBar.appendChild($0.get_elemTabButton());$0.drawItem(null);}if(this._lstQatTabs.length===1&&!this._lstQatTabs[0].get_text()){this._elemTabBar.style.height='0px';}this._lstQatTabs[this._lstQatTabs.length-1].get_elemTabButton().style.borderRight='0px';},createFooter:function(){if(this.$4_1F!=null){this.get_element().appendChild(this.$4_1F.get_elementItem());}},initialise:function(){Kepler.Engine.UI.QAT.QatContainer.callBaseMethod(this, 'initialise');this.createContainer();this.createTab();this.createFooter();},onParentResized:function(size){},setActiveTab:function(iTabID){if(ss.isNullOrUndefined(iTabID)){return;}else if(iTabID===this.$4_18){return;}var $0=this._mapRibbonItem[iTabID];if(ss.isValue($0)&&(Kepler.Engine.UI.QAT.QatTab).isInstanceOfType($0)){this.$4_22($0);}},$4_22:function($p0){if(ss.isNullOrUndefined($p0)){return;}if(this.$4_18!==-1){var $1=this._mapRibbonItem[this.$4_18];($1).set_active(false);}if(this.$4_18!==$p0.get_id()){this._iPrevTab=this.$4_18;}this.$4_18=$p0.get_id();$p0.set_active(true);var $0=$p0.get_elementItem();if(ss.isNullOrUndefined($0.parentNode)){this._elemTabPaneBar.appendChild($0);}},placeDiamond:function(ePos,iDistance){var $0=0,$1=0;switch(ePos){case 0:var $2=this.get_height()-15;var $3=2;iDistance+=$3;iDistance-=(15/2);iDistance=(iDistance<$3)?$3:iDistance;iDistance=(iDistance>$2)?$2:iDistance;$0=-Math.floor(15/2);$1=iDistance;this._elemDiamond.style.borderBottomColor=Kepler.Framework.UI.ThemeDetails.get_currentTheme().get_colorNormal();this._elemDiamond.style.borderLeftColor=Kepler.Framework.UI.ThemeDetails.get_currentTheme().get_colorNormal();this._elemDiamond.style.borderTopColor='transparent';this._elemDiamond.style.borderRightColor='transparent';break;case 1:var $4=this.get_width()-15;var $5=2;iDistance+=$5;iDistance-=(15/2);iDistance=(iDistance<$5)?$5:iDistance;iDistance=(iDistance>$4)?$4:iDistance;$0=iDistance;$1=-Math.floor(15/2);this._elemDiamond.style.borderTopColor=Kepler.Framework.UI.ThemeDetails.get_currentTheme().get_colorNormal();this._elemDiamond.style.borderLeftColor=Kepler.Framework.UI.ThemeDetails.get_currentTheme().get_colorNormal();this._elemDiamond.style.borderBottomColor='transparent';this._elemDiamond.style.borderRightColor='transparent';break;case 2:var $6=this.get_height()-15;var $7=2;iDistance+=$7;iDistance-=(15/2);iDistance=(iDistance<$7)?$7:iDistance;iDistance=(iDistance>$6)?$6:iDistance;$0=this.get_width()-Math.floor(15/2);$1=iDistance;this._elemDiamond.style.borderTopColor=Kepler.Framework.UI.ThemeDetails.get_currentTheme().get_colorNormal();this._elemDiamond.style.borderRightColor=Kepler.Framework.UI.ThemeDetails.get_currentTheme().get_colorNormal();this._elemDiamond.style.borderBottomColor='transparent';this._elemDiamond.style.borderLeftColor='transparent';break;case 3:var $8=this.get_width()-15;var $9=2;iDistance+=$9;iDistance-=(15/2);iDistance=(iDistance<$9)?$9:iDistance;iDistance=(iDistance>$8)?$8:iDistance;$0=iDistance;$1=this.get_height()-Math.floor(15/2)+1;this._elemDiamond.style.borderBottomColor=Kepler.Framework.UI.ThemeDetails.get_currentTheme().get_colorNormal();this._elemDiamond.style.borderRightColor=Kepler.Framework.UI.ThemeDetails.get_currentTheme().get_colorNormal();this._elemDiamond.style.borderTopColor='transparent';this._elemDiamond.style.borderLeftColor='transparent';break;default:break;}this._elemDiamond.style.left=$0+'px';this._elemDiamond.style.top=$1+'px';},$4_23:function(){var $0={};var $1=0;var $dict1=this._mapDefaultShowHideState;for(var $key2 in $dict1){var $2={key:$key2,value:$dict1[$key2]};var $3=$2.key;var $4=this._mapDefaultShowHideState[$3];if(ss.isValue($4)){var $5=this.getRibbonItemFromId($3);if(Type.canCast($5,Kepler.Engine.UI.QAT.QatCheckBox)&&$4){$0[$5.get_id()]=$4;}}}var $dict3=this._mapOverrideShowHideState;for(var $key4 in $dict3){var $6={key:$key4,value:$dict3[$key4]};var $7=$6.key;var $8=this._mapOverrideShowHideState[$7];if(ss.isValue($8)){var $9=this.getRibbonItemFromId($7);if(Type.canCast($9,Kepler.Engine.UI.QAT.QatCheckBox)){$0[$9.get_id()]=$8;}}}var $dict5=$0;for(var $key6 in $dict5){var $A={key:$key6,value:$dict5[$key6]};var $B=$A.key;var $C=this.getRibbonItemFromId($B);var $D=$0[$B];if(ss.isValue($D)){if($D){$1=$1+$C.get_rectangleMouse().get_height();}}}this.set_height($1);},setRibbonItemShowHide:function(mapData){Kepler.Engine.UI.QAT.QatContainer.callBaseMethod(this, 'setRibbonItemShowHide',[mapData]);var $0=mapData[this._strTaitPrefix+'_item_showhide'];if(this.get_resizable()){this.$4_23();}},showContainer:function(ptLocation){this.set_left(ptLocation.get_x());this.set_top(ptLocation.get_y());this.$4_1B=null;this.get_elementStyle().zIndex=Kepler.Framework.UI.Controls.ZIndexConstants.frame_Max;this.setActiveTab(this._lstQatTabs[0].get_id());this.show(true);},hideContainer:function(){this.show(false);if(ss.isValue(this.$4_1B)){this.$4_1B.invalidate();this.$4_1B=null;}},autoHideContainer:function(){if(this.$4_1D!=null){this.$4_1D(this);}},getContName:function(oItem){return 'QAT';},autoHighlight:function(){var $0=-1;var $1=null;var $2=null;var $dict1=this._mapOverrideState;for(var $key2 in $dict1){var $3={key:$key2,value:$dict1[$key2]};$0=$3.key;$1=$3.value;$2=this.getRibbonItemFromId($0);if(ss.isValue($2)&&!(Type.canCast($2,Ribbon.RibbonTab))&&!(Type.canCast($2,Ribbon.RibbonPane))&&$2.isRbnItemHighlighted($1.get_highlighted())){var $4=this.fetchRibbonPane($2);if(ss.isValue($4)&&!$4.isRbnItemHighlighted($4.get_highlight())){this.autoHighlightItem($4.get_id(),10000,1);}var $5=this.fetchRibbonTab($2);if(ss.isValue($5)&&!$5.isRbnItemHighlighted($5.get_highlight())&&(this.$4_18!==$5.get_id())){var $6=$5.get_id();this.autoHighlightItem($6,-1,1);var $7=new Ribbon.ItemAction();$7.set_id($6);$7.set_index(-1);$7.set_checkWithViewInBool(false);this._lstAction.add($7);}break;}}},sortHighlightedItems:function(){var $0=new Array(1);var $1=new Array(1);var $2=-1;var $3=-1;var $enum1=ss.IEnumerator.getEnumerator(this._lstHighlightedItems);while($enum1.moveNext()){var $4=$enum1.current;$2=$4.get_id();$3=this._mapOverrideState[$2].get_highlighted();if(ss.isValue($4)&&$4.isRbnItemHighlighted($3)){if((Kepler.Engine.UI.QAT.QatTab).isInstanceOfType($4)){$1[0]=$4;}else{$0[0]=$4;}}}this._lstHighlightedItems.clear();var $enum2=ss.IEnumerator.getEnumerator($1);while($enum2.moveNext()){var $5=$enum2.current;if(ss.isValue($5)){this.addHighlightedItem($5);}}var $enum3=ss.IEnumerator.getEnumerator($0);while($enum3.moveNext()){var $6=$enum3.current;if(ss.isValue($6)){this.addHighlightedItem($6);}}},setData:function(mapData){this.$4_24(mapData);Kepler.Engine.UI.QAT.QatContainer.callBaseMethod(this, 'setData',[mapData]);},$4_24:function($p0){this.parseOverridesMiscCtrl($p0);this.$4_25(this.$4_19);},$4_25:function($p0){if(ss.isNullOrUndefined($p0)){return;}var $dict1=$p0;for(var $key2 in $dict1){var $0={key:$key2,value:$dict1[$key2]};var $1=$0.key;var $2=$p0[$1];if(ss.isValue($2)){this.$4_27($1,$2);}}},$4_26:function($p0){if(ss.isNullOrUndefined($p0)){return;}var $dict1=$p0;for(var $key2 in $dict1){var $0={key:$key2,value:$dict1[$key2]};var $1=$0.key;var $2=this.$4_1A[$1];if(ss.isValue($2)){this.$4_27($1,$2);}}},$4_27:function($p0,$p1){var $0=this._mapRibbonItem[$p0];if(ss.isNullOrUndefined($0)){return;}$0.clearInfo();$0.setMiscItemSize($p1._iItemWidth,$p1._iItemHeight,$p1._iImageWidth,$p1._iImageHeight,$p1._ptImgPosition);$0.set_imageClass($p1._strGridImgCls);$0._iRtClickMenuNo=parseInt($p1._strRightClickMenu,10);if($p1._iControlHeight!==-1){$0.get_rectangleMouse().set_height($p1._iControlHeight);}if($p1._iControlWidth!==-1){$0.get_rectangleMouse().set_width($p1._iControlWidth);}var $1;var $2;var $3=0;var $4=0;var $5=ss.isNullOrUndefined($p1._ptImgPosition);var $enum1=ss.IEnumerator.getEnumerator($p1._lstHeader);while($enum1.moveNext()){var $6=$enum1.current;$1=$6.split(Kepler.Framework.Core.Seperators.doublE_DELTA);$2=$1[0];$3+=parseInt($1[1],10);$0.addGroup($2);for(;$4<$3;$4++){$0.addMiscItem($p1._lstTooltipParams[$4],-1,($5)?null:((ss.isValue($p1._lstItemImgPos[$4]))?$p1._lstItemImgPos[$4]:null));}}$0.createRibbonItem(false);},parseOverridesMiscCtrl:function(mapData){var $0=12;this.$4_26(this.$4_19);Object.clearKeys(this.$4_19);var $1=Kepler.Engine.Core.TaitHelper.parseCountDataTags(mapData,this._strTaitPrefix+'_miscctrl_format_override_count',this._strTaitPrefix+'_miscctrl_format_override_data');if(ss.isValue($1)){var $enum1=ss.IEnumerator.getEnumerator($1);while($enum1.moveNext()){var $2=$enum1.current;var $3=new Kepler.Engine.UI.Menu.MiscCtrlItemState();var $4=$2.split(Kepler.Framework.Core.Seperators.miD_DOT,$0);$3._iId=parseInt($4[0],10);$3._strGridImgCls=$4[2];var $5,$6;$5=$4[3].split(Kepler.Framework.Core.Seperators.v_CROSS,2);$6=$4[4].split(Kepler.Framework.Core.Seperators.v_CROSS,2);$3._iImageWidth=parseInt($5[0],10);if($5.length>1){$3._iItemWidth=parseInt($5[1],10);}$3._iImageHeight=parseInt($6[0],10);if($6.length>1){$3._iItemHeight=parseInt($6[1],10);}if(!String.isNullOrEmpty($4[5])){var $8=$4[5].split(Kepler.Framework.Core.Seperators.doublE_CROSS);var $enum2=ss.IEnumerator.getEnumerator($8);while($enum2.moveNext()){var $9=$enum2.current;var $A=$9.split(Kepler.Framework.Core.Seperators.v_CROSS,3);if($A.length===3){$3._lstTooltipParams.add(new Kepler.Engine.UI.Controls.Tooltip.Tooltip_Params(parseInt($A[0],10),$A[1],$A[2]));}else if($A.length===1){$3._lstTooltipParams.add(new Kepler.Engine.UI.Controls.Tooltip.Tooltip_Params(Kepler.Engine.UI.Controls.Tooltip.ETooltipTypes.simplE_DESCR,$A[0],null));}}}$3._iNumberOfHeaders=parseInt($4[6],10);var $enum3=ss.IEnumerator.getEnumerator($4[7].split(Kepler.Framework.Core.Seperators.v_CROSS));while($enum3.moveNext()){var $B=$enum3.current;$3._lstHeader.add($B);}if($4.length>9){if(!!$4[9]){$3._iControlWidth=parseInt($4[9],10);}else{$3._iControlWidth=-1;}if(!!$4[10]){$3._iControlHeight=parseInt($4[10],10);}else{$3._iControlHeight=-1;}}$3._ptImgPosition=new Kepler.Framework.UI.Point(0,0);this.$4_28($3._iId);var $7;if(ss.isValue($7=this.$4_1A[$3._iId])){$3._strRightClickMenu=$7._strRightClickMenu;}this.$4_19[$3._iId]=$3;}}},$4_28:function($p0){var $0=this._mapRibbonItem[$p0];if(ss.isNullOrUndefined($0)){return;}var $1=new Kepler.Engine.UI.Menu.MiscCtrlItemState();$1._ptImgPosition=$0.get_imagePoint();var $2=ss.isNullOrUndefined($1._ptImgPosition);$1._iControlWidth=$0.get_rectangleMouse().get_width();$1._iControlHeight=$0.get_rectangleMouse().get_height();$1._iImageWidth=$0.get_imageWidth();$1._iImageHeight=$0.get_imageHeight();$1._iItemWidth=$0.get_itemWidth();$1._iItemHeight=$0.get_itemHeight();var $3='';var $4='';var $5='';var $6=-1;var $enum1=ss.IEnumerator.getEnumerator($0.get_groups());while($enum1.moveNext()){var $7=$enum1.current;for(var $8=0;$8<$7._iItemCount;$8++){$6++;var $9=$0.get_listRibbonItems()[$6];$1._lstTooltipParams.add($9.get_ttParamList()[0]);if(!String.compare($5,$9.get_imageClass(),false)){$4='';}else{$5=$9.get_imageClass();$4=$5;}if(!$2){$1._lstItemImgPos.add(new Kepler.Framework.UI.Point(-$9.get_$F().get_left(),-$9.get_$F().get_top()));}}$3=($7._strHeader+Kepler.Framework.Core.Seperators.doublE_DELTA+$7._iItemCount);$1._lstHeader.add($3);}$1._iNumberOfHeaders=$0.get_groups().length;$1._strRightClickMenu=$0._iRtClickMenuNo.toString();if($1._iNumberOfHeaders>0){$1._strGridImgCls=$0.get_imageClass();}$1._iHintIndex=$0.get_highlight();this.$4_1A[$p0]=$1;},toString:function(){return 'QatContainer';},onMsgRibbonItemCommand:function(wParam,lParam){return Kepler.Engine.UI.QAT.QatContainer.callBaseMethod(this, 'onMsgRibbonItemCommand',[wParam,lParam]);},attachMessages:function(){Kepler.Engine.UI.QAT.QatContainer.callBaseMethod(this, 'attachMessages');this.attachMessage('msg_show_qat_container_popup',ss.Delegate.create(this,this.onMsgShowContainerPopUp));this.attachMessage('msg_qat_checkbox_click',ss.Delegate.create(this,this.onMsgQatCheckBoxClick));},onMsgShowContainerPopUp:function(wParam,lParam){var $0=this.$4_1B;if(ss.isValue(this.$4_1B)&&this.$4_1B.get_containerId()>0){this.$4_20.sendMessage('msg_hide_qat_container_popup',this.$4_1B.get_containerId(),null);this.$4_1B.invalidate();this.$4_1B=null;}var $1=wParam;if(ss.isValue($1)&&$1.get_containerId()>0&&$0!==$1){this.$4_1B=$1;var $2=this.$4_20.getContainer(this.$4_1B.get_containerId());var $3=Kepler.Engine.Core.EngineApp.get_engine().getDesktopViewRect();var $4=this.$4_1B.getPopupMenuRect(this.$4_1B.get_elementItem());$4.set_top($4.get_top()-10);$4.set_height($4.get_height()+10);$4.set_left($4.get_left()-(15/2));$4.set_width($4.get_width()+15);var $5=new Kepler.Engine.UI.Helper.LaunchParams(null,$4,null,$2.get_size(),$3,null);$5.clearPositioningOrder();$5.setPositioningOrder(Kepler.Engine.UI.Helper.Launch_Positioning_Order.eRightLeft);var $6=Kepler.Engine.UI.Helper.CalcHelper.getSuggestedLaunchRect($5);$2.addPopUpHideHandler(ss.Delegate.create(this,this.$4_29));this.$4_20.sendMessage('msg_show_qat_container_popup',this.$4_1B.get_containerId(),new Kepler.Framework.UI.Point($6.get_left(),$6.get_top()));var $7=$4.get_top()+($4.get_height()/2)+(10/2);$2.placeDiamond((($4.get_left()<$6.get_left())?0:2),$7-$6.get_top()-2);}return null;},onMsgQatCheckBoxClick:function(wParam,lParam){var $0=lParam;if(ss.isValue($0)){var $1=$0.get_checked();var $2=$0.get_isIntermediateState();var $3=this.getRibbonItemFromId(430001);if($1||$2){$3.set_enabled(1);}else{$3.set_enabled(0);}}return true;},getBlankRibbonItemFromRole:function(iRole){var $0=null;switch(iRole){case 27:$0=new Kepler.Engine.UI.QAT.QatCheckBoxNode();break;case 28:$0=new Kepler.Engine.UI.QAT.QatRadioNode();break;default:$0=Kepler.Engine.UI.QAT.QatContainer.callBaseMethod(this, 'getBlankRibbonItemFromRole',[iRole]);break;}return $0;},attachEvents:function(){Kepler.Engine.UI.QAT.QatContainer.callBaseMethod(this, 'attachEvents');this.addEvents(Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseWheel);},onMouseWheel:function(evt){var $0=evt.get_target();var $1=(ss.isValue(this._oCurRbnItem))?this._oCurRbnItem:Kepler.Engine.UI.Helper.HtmlCssHelper.getAttachedObjectFromElementTree($0,Ribbon.RibbonItemContainer.ribboN_ITEM);if((Ribbon.Engine$15).isInstanceOfType($1)){while(ss.isValue($1)){if((Kepler.Engine.UI.QAT.QatMiscCtrl).isInstanceOfType($1)){break;}else{$1=$1.get_parentRibbonItem();}}}if((Kepler.Engine.UI.QAT.QatMiscCtrl).isInstanceOfType($1)){($1).onMouseWheel(evt);}},addPopUpHideHandler:function(evtHandler){this.add_$4_1C(evtHandler);},removePopUpHideHandler:function(evtHandler){this.remove_$4_1C(evtHandler);},$4_29:function($p0){$p0.removePopUpHideHandler(ss.Delegate.create(this,this.$4_29));this.onMsgShowContainerPopUp(null,null);},onMouseOver:function(mouseEventArgs){Kepler.Engine.UI.QAT.QatContainer.callBaseMethod(this, 'onMouseOver',[mouseEventArgs]);if(ss.isValue(this._elemCloseBtn)&&mouseEventArgs.get_target()===this._elemCloseBtn){if(this.getCapture()===this){this._elemCloseBtn.className=' pane_dialog_btn_cross_word'+' pane_dialog_btn_cross_word'+'_pressed';}else{this._elemCloseBtn.className=' pane_dialog_btn_cross_word'+' pane_dialog_btn_cross_word'+'_hover';}}},onMouseOut:function(mouseEventArgs){Kepler.Engine.UI.QAT.QatContainer.callBaseMethod(this, 'onMouseOut',[mouseEventArgs]);if(ss.isValue(this._elemCloseBtn)&&mouseEventArgs.get_target()===this._elemCloseBtn){if(this.getCapture()===this){this._elemCloseBtn.className=' pane_dialog_btn_cross_word'+' pane_dialog_btn_cross_word'+'_hover';}else{this._elemCloseBtn.className=' pane_dialog_btn_cross_word'+' pane_dialog_btn_cross_word'+'_normal';}}},onLButtonDown:function(mouseEventArgs){Kepler.Engine.UI.QAT.QatContainer.callBaseMethod(this, 'onLButtonDown',[mouseEventArgs]);if(ss.isValue(this._elemCloseBtn)&&mouseEventArgs.get_target()===this._elemCloseBtn){this.setCapture();this._elemCloseBtn.className=' pane_dialog_btn_cross_word'+' pane_dialog_btn_cross_word'+'_pressed';}},onLButtonUp:function(mouseEventArgs){if(ss.isValue(this._elemCloseBtn)&&this.getCapture()===this){this._elemCloseBtn.className=' pane_dialog_btn_cross_word'+' pane_dialog_btn_cross_word'+'_normal';if(mouseEventArgs.get_target()===this._elemCloseBtn){this.$4_20.getQATButton(this.get_id()).set_state(Kepler.Engine.UI.Controls.ECheckBoxState.eUnchecked);}}Kepler.Engine.UI.QAT.QatContainer.callBaseMethod(this, 'onLButtonUp',[mouseEventArgs]);}}
Kepler.Engine.UI.QAT.QatItemNormal=function(){Kepler.Engine.UI.QAT.QatItemNormal.initializeBase(this);this._elemItem=document.createElement('div');this.$12=false;this.$13=-1;}
Kepler.Engine.UI.QAT.QatItemNormal.prototype={$12:false,$13:0,get_containerId:function(){return this.$13;},initialise:function(iId,rcMouse,rcTouch,iMenuNo,iRtClkMenu,strText,strImageClass,oMsgParent,bIsTextMultiline,iContId){Kepler.Engine.UI.QAT.QatItemNormal.callBaseMethod(this, 'initialise',[iId,rcMouse,rcTouch,iMenuNo,iRtClkMenu,strText,strImageClass,oMsgParent]);this.$13=iContId;this.$12=bIsTextMultiline;},createRibbonItem:function(bTouchMode){var $0='class_qat_item_normal ';var $1=this.getItemRect(bTouchMode);this._elemItem.rbnItem=this;this._elemItem.style.position='relative';this._elemItem.style.marginLeft=$1.get_left()+'px';this._elemItem.style.marginTop=$1.get_top()+'px';this._elemItem.id=this.get_id().toString();if(this.$13>0){this._elemItem.setAttribute('controltype','menubutton');}else{this._elemItem.setAttribute('controltype','button');}this.setItemSize(this._elemItem,$1.get_width(),$1.get_height());Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this._elemItem,$0);if(this._eTextPosition===1){Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this._elemItem,'class_ribbonitem_center');}this.$14(bTouchMode);this.$15(bTouchMode);if(this.$13>0){var $2=document.createElement('div');this._elemItem.appendChild($2);$2.style.width=31+'px';$2.className='qat_chkbox_arrow_part ';$2.setAttribute('controltype','menubutton');$2.rbnItem=this;var $3=($1.get_height()-9)/2;var $4=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('span','ribbonitem-arrow','relative',null,$3,6,9,'class_ImgPath_Arrow '+' '+'qat_chkbox_rt_arr'+' ',null);$2.appendChild($4);}},$14:function($p0){if(!String.isNullOrEmpty(this._strImageClass)){var $0=document.createElement('div');$0.id='ribbonitem-icon'+this.get_id();Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass($0,'class_ribbon_img_cont ');Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass($0,this._strImageClass);var $1=3;if(this.$12){$1=2;$0.style.margin='auto';$0.style.display='block';}if(!this._eTextPosition){$0.style.marginLeft='3px';$0.style.width=$0.style.height='16px';}$0.style.top=$1+'px';this._elemItem.appendChild($0);}},$15:function($p0){if(ss.isValue(this.get_text())&&!String.isNullOrEmpty(this.get_text())){var $0=document.createElement('span');$0.setAttribute('role','document');$0.id='ribbonitem-text'+this.get_id();$0.innerHTML=this.get_text();$0.style.position='relative';var $1=0;var $2=0;$0.style.left='0px';var $3='class_ribbon_font '+' ';if(this._eTextPosition===1){$1=0;$2=11;$3+='class_ribbon_item_text '+' '+'class_ribbon_item_text_bottomalign';$0.style.paddingLeft=$0.style.paddingRight='1px';if(!this.$12){$0.style.display='block';}}else{if(String.isNullOrEmpty(this._strImageClass)){$1=6;}else{$1=8;}$2=3;}Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass($0,$3);$0.style.left=$1+'px';$0.style.top=$2+'px';this._elemItem.appendChild($0);}},drawItem:function(element){this.drawState();},drawState:function(){switch(this._eToState){case Kepler.Framework.UI.Controls.EItemState.eNormal:this._elemItem.style.backgroundColor=(this.get_checked())?this._oThemeDetails.get_colorChecked():'transparent';break;case Kepler.Framework.UI.Controls.EItemState.eFocus:case Kepler.Framework.UI.Controls.EItemState.eHover:this._elemItem.style.backgroundColor=this._oThemeDetails.get_colorHover();break;case Kepler.Framework.UI.Controls.EItemState.ePressedHover:case Kepler.Framework.UI.Controls.EItemState.ePressed:this._elemItem.style.backgroundColor=this._oThemeDetails.get_colorPressed();break;default:break;}},showMenu:function(element,bDefActiveItem){(this._oMsgParent).sendMessage('msg_show_qat_container_popup',this,null);},drawEnabledDisabledState:function(){this.enableDisableImage(Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementById(this._elemItem,'ribbonitem-icon'+this.get_id()));this.enableDisableText(Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementById(this._elemItem,'ribbonitem-text'+this.get_id()));},drawHighlightedState:function(){this.highlightDiv(this._elemItem);},toString:function(){return 'QatItemNormal';},reflectText:function(){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementById(this._elemItem,'ribbonitem-text');if(ss.isValue($0)){$0.textContent=this.get_text();}},getTtLaunchParams:function(element,ptTooltip){var $0=Kepler.Engine.UI.QAT.QatItemNormal.callBaseMethod(this, 'getTtLaunchParams',[element,ptTooltip]);if(ss.isValue($0)&&ss.isValue($0.get_ttParams())){if($0.get_ttParams()._eType===Kepler.Engine.UI.Controls.Tooltip.ETooltipTypes.qaT_CHARTS){$0._bShowImmediate=true;$0.get_ttParams()._elemScalable=(this._oMsgParent).get_element();}}return $0;},onLButtonUp:function(element,mouseEventArgs){var $0=Kepler.Engine.UI.QAT.QatItemNormal.callBaseMethod(this, 'onLButtonUp',[element,mouseEventArgs]);if(this._oMsgParent!=null){(this._oMsgParent).autoHideContainer();}return $0;}}
Kepler.Engine.UI.QAT.QatMiscCtrl=function(){Kepler.Engine.UI.QAT.QatMiscCtrl.initializeBase(this);this.$1A();this._iHighlight=-1;this._elemItem=document.createElement('div');var $0=document.createElement('div');$0.className='qat_misc_cont';this._elemItem.appendChild($0);this.$F=document.createElement('div');this.$F.className='qat_misc_scroll';$0.appendChild(this.$F);this._sbVertical=new Kepler.Engine.UI.Controls.VScrollBar(new Kepler.Framework.UI.Point(0,0),new Kepler.Framework.UI.Size(15,200));this._sbVertical.set_iSendMsgParent(this);this._sbVertical.set_mfcBehaviour(false);this._sbVertical.set_scrollBarType(Kepler.Engine.UI.Controls.EScrollBarType.APP);this._eScrollbarMode=Kepler.Engine.UI.Controls.EScrollbarMode.AUTO;this.$10={};}
Kepler.Engine.UI.QAT.QatMiscCtrl.prototype={$F:null,_sbVertical:null,_eScrollbarMode:0,$10:null,$11:0,$12:0,$13:0,get_itemHeight:function(){return this.$13;},$14:0,get_itemWidth:function(){return this.$14;},$15:0,get_imageWidth:function(){return this.$15;},$16:0,get_imageHeight:function(){return this.$16;},$17:null,get_imagePoint:function(){return this.$17;},$18:null,get_groups:function(){return this.$18;},get_highlight:function(){return Kepler.Engine.UI.QAT.QatMiscCtrl.callBaseMethod(this, 'get_highlight');},set_highlight:function(value){var $0;if(this._iHighlight!==-1){$0=this._lstRibbonItems[this.get_highlight()];$0.set_highlight(0);}if(value<0||value>=this._lstRibbonItems.length||ss.isNullOrUndefined(value)){return;}Kepler.Engine.UI.QAT.QatMiscCtrl.callBaseMethod(this, 'set_highlight',[value]);$0=this._lstRibbonItems[value];$0.set_highlight(1);return value;},get_selectedIndex:function(){return Kepler.Engine.UI.QAT.QatMiscCtrl.callBaseMethod(this, 'get_selectedIndex');},set_selectedIndex:function(value){var $0;if(this.get_selectedIndex()!==-1){$0=this._lstRibbonItems[this.get_selectedIndex()];$0.set_checked(false);}var $1=value;if($1<0||$1>=this._lstRibbonItems.length||ss.isNullOrUndefined($1)){return;}Kepler.Engine.UI.QAT.QatMiscCtrl.callBaseMethod(this, 'set_selectedIndex',[$1]);$0=this._lstRibbonItems[$1];$0.set_checked(true);return value;},get_enabled:function(){return Kepler.Engine.UI.QAT.QatMiscCtrl.callBaseMethod(this, 'get_enabled');},set_enabled:function(value){Kepler.Engine.UI.QAT.QatMiscCtrl.callBaseMethod(this, 'set_enabled',[value]);var $enum1=ss.IEnumerator.getEnumerator(this._lstRibbonItems);while($enum1.moveNext()){var $0=$enum1.current;$0.set_enabled(value);}return value;},initialise:function(iId,rcMouse,rcTouch,iMenuNo,iRtClkMenu,strText,strImageClass,oMsgParent){Kepler.Engine.UI.QAT.QatMiscCtrl.callBaseMethod(this, 'initialise',[iId,rcMouse,rcTouch,iMenuNo,iRtClkMenu,strText,strImageClass,oMsgParent]);this.$19();this._sbVertical.set_height(this._rcMouse.get_height());this._elemItem.appendChild(this._sbVertical.get_element());this._sbVertical.onLoadFromNonControlParent();this._sbVertical.show(true);},$19:function(){this.attachMessage(Kepler.Engine.UI.Controls.ScrollBarBase.msG_SCROLL_POS_CHANGED,ss.Delegate.create(this,this.$1B));this.attachMessage(Kepler.Engine.UI.Controls.ScrollBarBase.msG_SCROLL_POS_CHANGING,ss.Delegate.create(this,this.$1C));},createRibbonItem:function(bTouchMode){this.setItemRect(this._elemItem,this.getItemRect(false));this._elemItem.style.position='absolute';this._elemItem.rbnItem=this;this._sbVertical.get_element().style.right='0px';this.updateScrollBar(this._rcMouse.get_height(),this.$11);},addGroup:function(strHeader){if(!String.isNullOrEmpty(strHeader)){var $0=document.createElement('div');$0.className='qat_misc_header';$0.innerHTML=strHeader;this.$F.appendChild($0);this.$11+=23;}this.$12=0;this.$18.add(new Kepler.Engine.UI.QAT.MiscGroup(strHeader));},addMiscItem:function(oTooltipParams,iRtClkMenu,ptImgStrip){var $0=this._lstRibbonItems.length;var $1=new Ribbon.Engine$15();var $2=(this.get_id()*1000)+($0+1);$1.initialise($2,new Kepler.Framework.UI.Rect(0,0,this.$14,this.$13),null,-1,iRtClkMenu,null,this._strImageClass,this._oMsgParent);if(ss.isValue(this.$17)&&ss.isValue(ptImgStrip)){this.$17=ptImgStrip;}$1.get_$F().set_left((ss.isValue(this.$17))?-this.$17.get_x():1);$1.get_$F().set_top((ss.isValue(this.$17))?-this.$17.get_y():1);$1.get_$F().set_width(this.$15);$1.get_$F().set_height(this.$16);var $3=null;if((String).isInstanceOfType(oTooltipParams)){$3=new Kepler.Engine.UI.Controls.Tooltip.Tooltip_Params(Kepler.Engine.UI.Controls.Tooltip.ETooltipTypes.simplE_DESCR,oTooltipParams,null);}else if((Kepler.Engine.UI.Controls.Tooltip.Tooltip_Params).isInstanceOfType(oTooltipParams)){$3=oTooltipParams;}$1.get_ttParamList().add($3);if(ss.isValue(this.$17)){this.$17.set_x(this.$17.get_x()+this.$15);}this.addItem($1,this.$F);$1.createRibbonItem(false);this.$18[this.$18.length-1]._iItemCount++;if(!this.$12){this.$11+=this.$13;}this.$12+=this.$14;if(this.$12===this._rcMouse.get_width()){this.$12=0;}else if(this.$12>this._rcMouse.get_width()){this.$12=this.$15;this.$11+=this.$13;}},setMiscItemSize:function(iItemWidth,iItemHeight,iImgWidth,iImgHeight,ptImgStrip){this.$14=iItemWidth;this.$13=iItemHeight;this.$15=iImgWidth;this.$16=iImgHeight;this.$17=ptImgStrip;},$1A:function(){this.$13=0;this.$14=0;this.$15=0;this.$16=0;this.$11=0;this.$12=0;this.$17=null;this.$18=null;this.$18=[];},updateScrollBar:function(iVisibleHeight,iScrollableHeight){var $0=0;var $1=iScrollableHeight-iVisibleHeight;var $2=true;if($1<=$0){$1=$0;$2=false;}else{$2=true;}if(this._eScrollbarMode===Kepler.Engine.UI.Controls.EScrollbarMode.NONE){this._sbVertical.show(false);}else if(this._eScrollbarMode===Kepler.Engine.UI.Controls.EScrollbarMode.AUTO){this._sbVertical.show($2);}else if(this._eScrollbarMode===Kepler.Engine.UI.Controls.EScrollbarMode.shoW_ALWAYS){this._sbVertical.set_enable($2);}Kepler.Engine.UI.Helper.HtmlCssHelper.setElementTop(this._sbVertical.get_element(),'0');this._sbVertical.set_height(iVisibleHeight);this._sbVertical.setBounds($0,$1);this._sbVertical.set_pageStep(iVisibleHeight);this._sbVertical.set_curPos(0);},clearInfo:function(){Kepler.Engine.UI.Helper.HtmlCssHelper.flushElement(this.$F);this._lstRibbonItems.clear();this.$1A();},attachMessage:function(strMessage,msgHandler){this.$10[strMessage]=msgHandler;},detachMessage:function(strMessage){delete this.$10[strMessage];},sendMessage:function(strMessage,wParam,lParam){var $0=this.$10[strMessage];if($0!=null){return $0(wParam,lParam);}return null;},postMessage:function(strMessage,wParam,lParam,bRemovePreviousMsgs){Kepler.Framework.Core.Messaging.PostMessageManager.postMessage(this,strMessage,wParam,lParam,bRemovePreviousMsgs);},$1B:function($p0,$p1){var $0=($p1);if($0===this._sbVertical){this.$1D(this._sbVertical.get_curPos());}return null;},$1C:function($p0,$p1){var $0=($p1);if($0===this._sbVertical){this.$1D(this._sbVertical.get_curPos());}return null;},$1D:function($p0){this.$F.parentNode.scrollTop=$p0;},onUnload:function(){Kepler.Engine.UI.QAT.QatMiscCtrl.callBaseMethod(this, 'onUnload');Object.clearKeys(this.$10);this._sbVertical.dispose();this._sbVertical=null;},onMouseWheel:function(evt){var $0=-evt.get_delta()/3;var $1=24;var $2=$0*$1;$2=(($2+this._sbVertical.get_curPos())>this._sbVertical.get_maxPos())?(this._sbVertical.get_maxPos()-this._sbVertical.get_curPos()):$2;$2=(($2+this._sbVertical.get_curPos())<this._sbVertical.get_minPos())?(this._sbVertical.get_minPos()-this._sbVertical.get_curPos()):$2;this._sbVertical.performScroll($2);return $2;}}
Kepler.Engine.UI.QAT.MiscGroup=function(strHeader){this._strHeader=strHeader;this._iItemCount=0;}
Kepler.Engine.UI.QAT.MiscGroup.prototype={_strHeader:null,_iItemCount:0}
Kepler.Engine.UI.QAT.QatScrollable=function(){Kepler.Engine.UI.QAT.QatScrollable.initializeBase(this);}
Kepler.Engine.UI.QAT.QatScrollable.prototype={createRibbonItem:function(bTouchMode){Kepler.Engine.UI.QAT.QatScrollable.callBaseMethod(this, 'createRibbonItem',[bTouchMode]);this._elemScrollContainer.style.position='absolute';this._elemRightBtn.style.cssFloat='right';},drawItem:function(element){if(ss.isNullOrUndefined(element)){this.drawEnabledDisabledNavBtn(this._elemLeftBtn);this.drawEnabledDisabledNavBtn(this._elemRightBtn);}else if((element===this._elemLeftBtn&&this._bLeftBtnState)||(element===this._elemRightBtn&&this._bRightBtnState)){switch(this._eToState){case Kepler.Framework.UI.Controls.EItemState.eNormal:element.style.opacity='0.50';break;case Kepler.Framework.UI.Controls.EItemState.eHover:element.style.opacity='0.75';break;case Kepler.Framework.UI.Controls.EItemState.ePressedHover:case Kepler.Framework.UI.Controls.EItemState.ePressed:element.style.opacity='';break;}}},drawEnabledDisabledNavBtn:function(element){if(element===this._elemLeftBtn){if(this._bLeftBtnState){element.style.opacity='0.50';}else{element.style.opacity='.25';}}if(element===this._elemRightBtn){if(this._bRightBtnState){element.style.opacity='0.50';}else{element.style.opacity='.25';}}}}
Kepler.Engine.UI.QAT.QatTab=function(){Kepler.Engine.UI.QAT.QatTab.initializeBase(this);}
Kepler.Engine.UI.QAT.QatTab.prototype={$1A:null,initialise:function(iId,rcMouse,rcTouch,iMenuNo,iRtClkMenu,strText,strImageClass,oMsgParent,strDesc){Kepler.Engine.UI.QAT.QatTab.callBaseMethod(this, 'initialise',[iId,rcMouse,rcTouch,iMenuNo,iRtClkMenu,strText,strImageClass,oMsgParent]);this._rcMouse.set_height(20);this.$1A=strDesc;},createRibbonItem:function(bTouchMode){this.setItemSize(this._elemTabButton,this._rcMouse.get_width(),this._rcMouse.get_height());this.setItemPosition(this._elemTabButton,this._rcMouse.get_left(),this._rcMouse.get_top());this._elemTabButton.style.lineHeight=this._rcMouse.get_height()+'px';this._elemTabButton.innerHTML=this.get_text();Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this._elemTabButton,'class_qat_tab');this._elemTabButton.rbnItem=this;this._elemTabButton.setAttribute('role','button');this._elemItem.style.width='100%';this._elemItem.style.height='100%';if(!String.isNullOrEmpty(this.$1A)){var $0=document.createElement('div');$0.innerHTML=this.$1A;$0.className='qat_desc ';this._elemItem.appendChild($0);}},drawState:function(element){if(this._eToState===Kepler.Framework.UI.Controls.EItemState.eNormal){if(this._bIsActive){Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this._elemTabButton,'class_qat_tab_active');this._elemTabButton.style.color=this._oThemeDetails.get_colorNormal();}else{Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(this._elemTabButton,'class_qat_tab_active');this._elemTabButton.style.color='';}}else{this._elemTabButton.style.color=this._oThemeDetails.get_colorNormal();}}}
Kepler.Engine.UI.QAT.QatTextButton=function(){Kepler.Engine.UI.QAT.QatTextButton.initializeBase(this);this._bBorder=true;this._bNormalStateBorder=true;}
Kepler.Engine.UI.QAT.QatTextButton.prototype={get_enabled:function(){return Kepler.Engine.UI.QAT.QatTextButton.callBaseMethod(this, 'get_enabled');},set_enabled:function(value){Kepler.Engine.UI.QAT.QatTextButton.callBaseMethod(this, 'set_enabled',[value]);if(this.get_enabled()===1){this._elemItem.style.borderColor='#ABABAB';}else{this._elemItem.style.borderColor='#E1E1E1';}return value;},createRibbonItem:function(bTouchMode){this._elemItem.rbnItem=this;this._elemItem.setAttribute('role','button');this._elemItem.style.position='absolute';this._elemItem.setAttribute('controltype',((this._iMenuNo===-1)?'button':'menubutton'));this.setItemRect(this._elemItem,this.getItemRect(bTouchMode));var $0='class_ribbonitem_center';Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this._elemItem,'class_ribbon_item_normal');Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this._elemItem,$0);this._elemItem.style.border=(this._bNormalStateBorder)?'1px solid #ABABAB':'1px solid transparent';this.createTextPart(bTouchMode);var $1=this._elemItem.firstChild;Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass($1,'class_ribbon_left_margin_3');}}
Kepler.Engine.UI.QAT.QatTree=function(){Kepler.Engine.UI.QAT.QatTree.initializeBase(this);this.$14=6;this.$13={};this._elemItem=document.createElement('div');this._elemItem.id='qat_tree';this.$10=document.createElement('div');this.$10.id='qat_node_container';this.$11=document.createElement('div');this.$11.id='qat_scrollable';this.$12=new Kepler.Engine.UI.Controls.VScrollBar(new Kepler.Framework.UI.Point(0,0),new Kepler.Framework.UI.Size(17-2,100));this.$12.set_iSendMsgParent(this);this.$12.set_mfcBehaviour(false);this.$12.set_scrollBarType(Kepler.Engine.UI.Controls.EScrollBarType.APP);}
Kepler.Engine.UI.QAT.QatTree.prototype={$10:null,$11:null,$12:null,$13:null,$14:0,initialise:function(iId,rcMouse,rcTouch,iMenuNo,iRtClkMenu,strText,strImageClass,oMsgParent){Kepler.Engine.UI.QAT.QatTree.callBaseMethod(this, 'initialise',[iId,rcMouse,rcTouch,iMenuNo,iRtClkMenu,strText,strImageClass,oMsgParent]);this.$15();this.$12.set_right(1);this.$12.set_height(this._rcMouse.get_height());this._elemItem.appendChild(this.$12.get_element());this.$12.show(true);},createRibbonItem:function(bTouchMode){this._elemItem.style.left=this._rcMouse.get_left()+'px';this._elemItem.style.top=this._rcMouse.get_top()+'px';this._elemItem.style.width=this._rcMouse.get_width()+'px';this._elemItem.style.height=this._rcMouse.get_height()+'px';this._elemItem.style.position='absolute';this.$10.style.width=this._rcMouse.get_width()-17+'px';this.$10.style.height='100%';this.$10.style.overflow='hidden';this._elemItem.appendChild(this.$10);this.$11.style.width='100%';this.$11.style.overflow='hidden';this.$10.appendChild(this.$11);this.$12.onLoadFromNonControlParent();this.updateScrollBar(this._rcMouse.get_height(),this.$14);},drawItem:function(element){},addItem:function(oRibbonItem,elemParent){if(ss.isNullOrUndefined(elemParent)){elemParent=this.$11;}this.$14+=oRibbonItem.get_rectangleMouse().get_height()+3;Kepler.Engine.UI.QAT.QatTree.callBaseMethod(this, 'addItem',[oRibbonItem,elemParent]);},updateScrollBar:function(iVisibleHeight,iScrollableHeight){if(ss.isNullOrUndefined(iVisibleHeight)){iVisibleHeight=this._rcMouse.get_height();}if(ss.isNullOrUndefined(iScrollableHeight)){iScrollableHeight=this.$11.offsetHeight;}var $0=0;var $1=iScrollableHeight-iVisibleHeight;var $2=true;if($1<=$0){$1=$0;$2=false;}else{$2=true;}this.$12.show($2);var $3=new Kepler.Engine.UI.Controls.ScrollBarParams();$3._iMinPos=$0;$3._iMaxPos=$1;$3._iPageStep=iVisibleHeight;$3._iCurPos=0;this.$12.updateScrollbarParams($3);},$15:function(){this.attachMessage(Kepler.Engine.UI.Controls.ScrollBarBase.msG_SCROLL_POS_CHANGING,ss.Delegate.create(this,this.onMsgScrollPosChanging));this.attachMessage(Kepler.Engine.UI.Controls.ScrollBarBase.msG_SCROLL_POS_CHANGED,ss.Delegate.create(this,this.onMsgScrollPosChanging));},attachMessage:function(strMessage,msgHandler){this.$13[strMessage]=msgHandler;},detachMessage:function(strMessage){delete this.$13[strMessage];},sendMessage:function(strMessage,wParam,lParam){var $0=this.$13[strMessage];if($0!=null){return $0(wParam,lParam);}return null;},postMessage:function(strMessage,wParam,lParam,bRemovePreviousMsgs){Kepler.Framework.Core.Messaging.PostMessageManager.postMessage(this,strMessage,wParam,lParam,bRemovePreviousMsgs);},onMsgScrollPosChanging:function(wParam,lParam){this.$10.scrollTop=this.$12.get_curPos();return null;}}
Kepler.Engine.UI.QAT.QatECNode=function(){Kepler.Engine.UI.QAT.QatECNode.initializeBase(this);this._elemItem=document.createElement('div');this._elemItem.rbnItem=this;this._elemItem.id='qat_node';this.$11=document.createElement('div');this.$10=document.createElement('div');this.$11.id=this.$10.id='qat_node_button';this.$12=document.createElement('span');this.$12.id='qat_node_text';this.$13=null;this.$F=true;}
Kepler.Engine.UI.QAT.QatECNode.prototype={$F:false,$10:null,$11:null,$12:null,$13:null,get_expanded:function(){return this.$F;},set_expanded:function(value){if(this.$F!==value){this.$F=value;this.$14();}return value;},get_commonNode:function(){return this.$13;},set_commonNode:function(value){this.$13=value;return value;},createRibbonItem:function(bTouchMode){this._elemItem.style.width=this._rcMouse.get_width()-2+'px';this._elemItem.style.height=this._rcMouse.get_height()-2+'px';this.$10.style.marginBottom='1px';this._elemItem.appendChild(this.$10);this.$11.style.position='absolute';this.$11.style.left='1px';this.$11.style.top='4px';this.$11.style.borderLeftColor='white';this.$11.style.borderWidth='3px';this.$11.style.display='none';this._elemItem.appendChild(this.$11);this.$12.innerHTML=this._strText;this.$12.style.lineHeight=this._rcMouse.get_height()+'px';this._elemItem.appendChild(this.$12);this.drawItem(null);},drawItem:function(element){switch(this._eToState){case Kepler.Framework.UI.Controls.EItemState.eNormal:this._elemItem.style.border='1px solid transparent';this._elemItem.style.backgroundColor='';if(this.$F){this.$10.style.borderRightColor=this.$10.style.borderBottomColor='#444444';this.$10.style.borderLeftColor='';this.$12.style.color=Kepler.Framework.UI.ThemeDetails.get_currentTheme().get_colorNormal();}else{this.$10.style.borderRightColor=this.$10.style.borderBottomColor='';this.$10.style.borderLeftColor='#838688';this.$11.style.display='';this.$12.style.color='#444444';}break;case Kepler.Framework.UI.Controls.EItemState.eHover:if(this.$F){this.$10.style.borderRightColor=this.$10.style.borderBottomColor=Kepler.Framework.UI.ThemeDetails.get_currentTheme().get_colorNormalLight();this._elemItem.style.border='1px solid '+Kepler.Framework.UI.ThemeDetails.get_currentTheme().get_colorPressed();}else{this.$10.style.borderLeftColor=Kepler.Framework.UI.ThemeDetails.get_currentTheme().get_colorNormalLight();this.$11.style.display='none';this._elemItem.style.border='1px solid '+Kepler.Framework.UI.ThemeDetails.get_currentTheme().get_colorHover();}this._elemItem.style.backgroundColor=Kepler.Framework.UI.ThemeDetails.get_currentTheme().get_colorHover();break;case Kepler.Framework.UI.Controls.EItemState.ePressedHover:case Kepler.Framework.UI.Controls.EItemState.ePressed:this.$11.style.display='none';this._elemItem.style.border='1px solid '+Kepler.Framework.UI.ThemeDetails.get_currentTheme().get_colorPressed();this._elemItem.style.backgroundColor=Kepler.Framework.UI.ThemeDetails.get_currentTheme().get_colorPressed();this.$12.style.color='';if(this.$F){this.$10.style.borderRightColor=this.$10.style.borderBottomColor=Kepler.Framework.UI.ThemeDetails.get_currentTheme().get_colorNormalLight();}else{this.$10.style.borderLeftColor=Kepler.Framework.UI.ThemeDetails.get_currentTheme().get_colorNormalLight();}break;}},addItem:function(oRibbonItem,elemParent){if(ss.isValue(oRibbonItem)){(oRibbonItem).set_parentNode(this);if(ss.isValue(this.get_parentRibbonItem())){var $0=this._lstRibbonItems.length;if($0>0){var $1=this._lstRibbonItems[$0-1].get_elementItem();var $2=$1.nextSibling;if($2!=null){this.get_parentRibbonItem().insertBefore(oRibbonItem,$2);}else{this.get_parentRibbonItem().addItem(oRibbonItem);}}else{this.get_parentRibbonItem().addItem(oRibbonItem);}}this._lstRibbonItems.add(oRibbonItem);oRibbonItem.get_elementItem().style.position='relative';}},$14:function(){var $0='';if(!this.$F){$0='none';this.$10.style.borderWidth='5px';this.$10.style.marginBottom='';this.$12.style.marginLeft='3px';}else{this.$10.style.borderWidth='';this.$10.style.marginBottom='1px';this.$12.style.marginLeft='';}var $enum1=ss.IEnumerator.getEnumerator(this._lstRibbonItems);while($enum1.moveNext()){var $1=$enum1.current;$1.get_elementItem().style.display=$0;}if(ss.isValue(this.get_parentRibbonItem())){(this.get_parentRibbonItem()).updateScrollBar();}},changeSelectAllState:function(oSender){var $0=this.$13;if(ss.isValue($0)){if(oSender===$0){var $1=$0.get_checked();var $enum1=ss.IEnumerator.getEnumerator(this._lstRibbonItems);while($enum1.moveNext()){var $2=$enum1.current;($2).set_checked($1);$2.drawItem(null);}}else{if(this._lstRibbonItems.length>2){var $3=false;var $4=this._lstRibbonItems[1].get_checked();for(var $5=2;$5<this._lstRibbonItems.length;$5++){if($4!==this._lstRibbonItems[$5].get_checked()){$3=true;break;}}(this.$13).set_isIntermediateState($3);if($3){this.$13.set_checked(true);}else{this.$13.set_checked($4);}this.$13.drawItem(null);}}this._oMsgParent.sendMessage('msg_qat_checkbox_click',null,$0);}},changeRadioState:function(oSender){if(oSender!==this.$13&&ss.isValue(this.$13)){this.$13.set_checked(false);this.$13.drawItem(null);this.$13=oSender;}},onLButtonUp:function(element,mouseEventArgs){this.$F=!this.$F;this.$14();return Kepler.Engine.UI.QAT.QatECNode.callBaseMethod(this, 'onLButtonUp',[element,mouseEventArgs]);}}
Kepler.Engine.UI.QAT.QatCheckBoxNode=function(){Kepler.Engine.UI.QAT.QatCheckBoxNode.initializeBase(this);this.$E=false;this.$F=document.createElement('div');}
Kepler.Engine.UI.QAT.QatCheckBoxNode.prototype={$D:null,$E:false,$F:null,get_parentNode:function(){return this.$D;},set_parentNode:function(value){this.$D=value;return value;},get_isIntermediateState:function(){return this.$E;},set_isIntermediateState:function(value){this.$E=value;return value;},createRibbonItem:function(bTouchMode){Kepler.Engine.UI.QAT.QatCheckBoxNode.callBaseMethod(this, 'createRibbonItem',[bTouchMode]);this._elemItem.style.position='relative';this._elemItem.style.textAlign='';this._elemItem.firstChild.style.marginLeft='4px';this.$F.style.height='7px';this.$F.style.width='7px';this.$F.style.margin='2px';this.$F.style.display='none';this._elemItem.firstChild.appendChild(this.$F);},drawItem:function(element){Kepler.Engine.UI.QAT.QatCheckBoxNode.callBaseMethod(this, 'drawItem',[element]);switch(this._eToState){case Kepler.Framework.UI.Controls.EItemState.eNormal:this._elemItem.style.backgroundColor='';this.$F.style.backgroundColor='#777777';break;case Kepler.Framework.UI.Controls.EItemState.eHover:this._elemItem.style.backgroundColor=Kepler.Framework.UI.ThemeDetails.get_currentTheme().get_colorHover();this.$F.style.backgroundColor='#444444';break;case Kepler.Framework.UI.Controls.EItemState.ePressed:case Kepler.Framework.UI.Controls.EItemState.ePressedHover:this._elemItem.style.backgroundColor=Kepler.Framework.UI.ThemeDetails.get_currentTheme().get_colorHover();this.$F.style.backgroundColor='#1B1C1D';break;}if(this.$E){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementById(this._elemItem,'ribbonitem-icon');Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass($0,Ribbon.RibbnItemCheckBox.checkeD_CLASS);this.$F.style.display='';}else{this.$F.style.display='none';}},onLButtonUp:function(element,mouseEventArgs){this._bChecked=!this._bChecked;this.$E=false;if(ss.isValue(this.$D)){this.$D.changeSelectAllState(this);}this.drawItem(null);return true;}}
Kepler.Engine.UI.QAT.QatRadioNode=function(){Kepler.Engine.UI.QAT.QatRadioNode.initializeBase(this);this._elemItem=document.createElement('div');this._bChecked=false;}
Kepler.Engine.UI.QAT.QatRadioNode.prototype={$F:null,get_parentNode:function(){return this.$F;},set_parentNode:function(value){this.$F=value;return value;},createRibbonItem:function(bTouchMode){Kepler.Engine.UI.QAT.QatRadioNode.callBaseMethod(this, 'createRibbonItem',[bTouchMode]);var $0=this.getItemRect(bTouchMode);this._elemItem.style.position='relative';this.setItemRect(this._elemItem,$0);this._elemItem.rbnItem=this;this._elemItem.setAttribute('controltype','button');var $1=document.createElement('div');$1.style.marginLeft='4px';var $2=Math.ceil(11/2);Kepler.Engine.UI.Helper.HtmlCssHelper.setStyleProperty($1,'border-radius',$2+'px');$1.id='ribbonitem-icon';$1.style.position='relative';$1.style.width=$1.style.height=11+'px';$1.style.display='inline-block';$1.style.top='4px';var $3=document.createElement('div');$2=Math.ceil(7/2);Kepler.Engine.UI.Helper.HtmlCssHelper.setStyleProperty($3,'border-radius',$2+'px');$3.style.margin='2px';$3.style.width=$3.style.height=7+'px';$3.style.display='inline-block';$1.appendChild($3);if(!this._bChecked){$3.style.display='none';}Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass($1,'chkbox_normal');var $4=this.get_text().split(Kepler.Framework.Core.Seperators.STAR);var $5=document.createElement('span');$5.id='ribbonitem-text';$5.style.position='relative';$5.textContent=$4[0];$5.style.display='inline-block';$5.style.top='2px';$5.style.marginLeft='5px';Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass($5,'class_ribbon_font');var $6=document.createElement('span');if(!String.isNullOrEmpty($4[1])){$6.id='description';$6.style.position='absolute';$6.textContent=$4[1];$6.style.display='inline-block';$6.style.top=11+9+'px';$6.style.left='40px';Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass($6,'class_ribbon_font');}if(this._iEnabled===1){Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass($5,'text-enabled');Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass($6,'text-enabled');}this._elemItem.appendChild($1);this._elemItem.appendChild($5);this._elemItem.appendChild($6);},drawItem:function(element){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementById(this._elemItem,'ribbonitem-icon');switch(this._eToState){case Kepler.Framework.UI.Controls.EItemState.eNormal:Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass($0,'chkbox_normal');Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass($0,'chkbox_hover');Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass($0,'chkbox_pressed');$0.style.borderColor='';this._elemItem.style.backgroundColor=$0.style.backgroundColor='';$0.firstChild.style.backgroundColor='#777777';break;case Kepler.Framework.UI.Controls.EItemState.eHover:Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass($0,'chkbox_hover');Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass($0,'chkbox_normal');Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass($0,'chkbox_pressed');$0.style.borderColor=Kepler.Framework.UI.ThemeDetails.get_currentTheme().get_colorPressed();this._elemItem.style.backgroundColor=$0.style.backgroundColor=Kepler.Framework.UI.ThemeDetails.get_currentTheme().get_colorHover();$0.firstChild.style.backgroundColor='#444444';break;case Kepler.Framework.UI.Controls.EItemState.ePressed:case Kepler.Framework.UI.Controls.EItemState.ePressedHover:Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass($0,'chkbox_pressed');Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass($0,'chkbox_hover');Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass($0,'chkbox_normal');this._elemItem.style.backgroundColor=Kepler.Framework.UI.ThemeDetails.get_currentTheme().get_colorHover();$0.style.borderColor=Kepler.Framework.UI.ThemeDetails.get_currentTheme().get_colorPressed();$0.style.backgroundColor=Kepler.Framework.UI.ThemeDetails.get_currentTheme().get_colorPressed();$0.firstChild.style.backgroundColor='#1B1C1D';break;default:break;}if(this._bChecked){$0.firstChild.style.display='';}else{$0.firstChild.style.display='none';}},drawHighlightedState:function(){this.highlightDiv(this._elemItem);},drawEnabledDisabledState:function(){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementById(this._elemItem,'ribbonitem-icon');if(ss.isValue($0)){this.enableDisableImage($0);}var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementById(this._elemItem,'ribbonitem-text');var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementById(this._elemItem,'description');if(ss.isValue($1)){this.enableDisableText($1);}if(ss.isValue($2)){this.enableDisableText($2);}},reflectText:function(){Kepler.Engine.UI.QAT.QatRadioNode.callBaseMethod(this, 'reflectText');var $0=this.get_text().split(Kepler.Framework.Core.Seperators.STAR);var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementById(this._elemItem,'ribbonitem-text');$1.textContent=$0[0];var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementById(this._elemItem,'description');if($2!=null){$2.textContent=$0[1];}},onLButtonUp:function(element,mouseEventArgs){if(!this._bChecked){this._bChecked=true;if(ss.isValue(this.$F)){(this.$F).changeRadioState(this);}this.drawItem(null);}return true;}}
Kepler.Engine.UI.QAT.QatBtnState=function(bDontCare){bDontCare=(ss.isNullOrUndefined(bDontCare))?false:bDontCare;this.$0=(bDontCare)?Kepler.Engine.UI.QAT.QatBtnState.donT_CARE:0;this.$1='';this.$2='';this.$3=Kepler.Engine.UI.Controls.ECheckBoxState.eUnchecked;}
Kepler.Engine.UI.QAT.QatBtnState.prototype={$0:0,get_highlighted:function(){return this.$0;},set_highlighted:function(value){this.$0=value;return value;},$1:null,get_imageClass:function(){return this.$1;},set_imageClass:function(value){this.$1=value;return value;},$2:null,get_toolTip:function(){return this.$2;},set_toolTip:function(value){this.$2=value;return value;},$3:0,get_buttonState:function(){return this.$3;},set_buttonState:function(value){this.$3=value;return value;},copy:function(oItemState){if(ss.isValue(oItemState)){this.$0=oItemState.get_highlighted();this.$1=oItemState.get_imageClass();this.$2=oItemState.get_toolTip();this.$3=oItemState.$3;}},or:function(newState){if((this.$0===Kepler.Engine.UI.QAT.QatBtnState.donT_CARE)){this.$0=newState.get_highlighted();}if(!String.isNullOrEmpty(newState.get_imageClass())){this.$1=newState.get_imageClass();}if(!String.isNullOrEmpty(newState.get_toolTip())){this.$2=newState.get_toolTip();}this.$3=newState.$3;},clone:function(){var $0=new Kepler.Engine.UI.QAT.QatBtnState();$0.copy(this);return $0;}}
Type.registerNamespace('Ribbon');Ribbon.FileTabType=function(){};Ribbon.FileTabType.prototype = {fileTabDefault:0,fileTabParent:1,fileTabChild:2,fileTabNoNavigator_Dev:3}
Ribbon.FileTabType.registerEnum('Ribbon.FileTabType',false);Ribbon.FileTabTitleType=function(){};Ribbon.FileTabTitleType.prototype = {noTitle:0,titleOnly:1,titleWithImg:2,fileTabButton:3}
Ribbon.FileTabTitleType.registerEnum('Ribbon.FileTabTitleType',false);Ribbon.ERibbonListItemType=function(){};Ribbon.ERibbonListItemType.prototype = {eListImage:0,eListItmeDiscription:1,eListItemWODiscription:2,eListMulLines:3}
Ribbon.ERibbonListItemType.registerEnum('Ribbon.ERibbonListItemType',false);Ribbon.FileTab_Nodes=function(){};Ribbon.FileTab_Nodes.prototype = {page_navigator:'page_navigator',page:'page',content:'content',table:'table',tr:'tr',td:'td',btn_content_grouping:'btn_content_grouping',drop_down_button:'drop_down_button',size:'size',label:'label',editbox:'editbox',button:'button',author_button:'author_button',br:'br',author_editbox:'author_editbox',page_group:'page_group',style:'style',title_text:'title_text',hyperlink:'hyperlink',checkbox:'checkbox',editspin:'editspin',scroll_container:'scroll_container',img_dropdown:'img_dropdown',list_ctrl:'list_ctrl',list_item:'list_item',zoom_ctrl:'zoom_ctrl',print_page_container:'print_page_container',print_page:'print_page',path_button:'path_button',group_node:'group_node',ribbon_tab_container:'ribbon_tab_container',img_btn:'img_btn',file_picker:'file_picker',export_file:'export_file'}
Ribbon.FileTab_Nodes.registerEnum('Ribbon.FileTab_Nodes',false);Ribbon.RbnConstants=function(){};Ribbon.RbnConstants.prototype = {taB_MODE_NORMAL:0,taB_MODE_CHART_LAYOUT:1,taB_MODE_PICTURE:2,taB_MODE_TEXTBOXES_SHAPES:3,taB_MODE_TABLE_LAYOUT:4,taB_MODE_PIVOT_TABLE:5,taB_MODE_PIVOT_CHART:6,taB_MODE_DEVELOPER:7,taB_MODE_PICTURE_DRAWINGTOOL:8,taB_MODE_BACKGROUND_REMOVAL:9,taB_MODE_CHART_TABLE:10,taB_MODE_SLICER_TOOL:11,taB_MODE_SPARKLINES:12,taB_MODE_SHRINKED:13,taB_MODE_HEADER_FOOTER:14,taB_MODE_WORD_TABLE_DESIGN:15,taB_MODE_SMARTART_TOOL:16,taB_MODE_OUTLINING:17,taB_MODE_BLOGPOST:18,taB_MODE_ALL_SPTABS_TESTING:100,taB_MODE_OFFICE_MENU:24,rbN_QAT_DISPLAY_OPTION_ID:1011,filE_BACK_BUTTON:20000000,collapsE_RIBBON_ITEM:20000001,authoR_IMAGE_RIBBON_ITEM:20000002,authoR_HYPER_LINK_RIBBON_ITEM:20000003,evaluatE_BUTTON:20000004,reseT_BUTTON:20000005,filE_TAB:10000000,filE_TAB_OPTION_PAGE:10110000,filE_TAB_INFO_PAGE:10010000,homE_TAB:110000,qaT_APPLY_FOOTER:430000,qaT_APPLY_FOOTER_APPLY:430001,qaT_APPLY_FOOTER_SELECT_DATA:430002,cM_PICTURE_TOOLS_FORMAT_TAB:510000,cM_PICTURE_TOOLS_FORMAT_ADJUST_PANE:510100,cM_PICTURE_TOOLS_FORMAT_ADJUST_REMOVEBACKGROUND:510101,cM_PICTURE_TOOLS_FORMAT_ADJUST_CORRECTIONS:510102,cM_PICTURE_TOOLS_FORMAT_ADJUST_COLOR:510103,cM_PICTURE_TOOLS_FORMAT_ADJUST_ARTISTICEFFECTS:510104,cM_PICTURE_TOOLS_FORMAT_ADJUST_COMPRESSPICTURES:510105,cM_PICTURE_TOOLS_FORMAT_ADJUST_CHANGEPICTURE:510106,cM_PICTURE_TOOLS_FORMAT_ADJUST_RESETPICTURE:510107,cM_PICTURE_TOOLS_FORMAT_PICTURESTYLES_PANE:510200,cM_PICTURE_TOOLS_FORMAT_PICTURESTYLES_GRID:510202,cM_PICTURE_TOOLS_FORMAT_PICTURESTYLES_PICTUREBORDER:510201,cM_PICTURE_TOOLS_FORMAT_PICTURESTYLES_PICTUREEFFECTS:510203,cM_PICTURE_TOOLS_FORMAT_PICTURESTYLES_PICTURELAYOUT:510204,cM_PICTURE_TOOLS_FORMAT_PICTURESTYLES_FORMATSHAPE:510205,cM_PICTURE_TOOLS_FORMAT_ARRANGE_PANE:510300,cM_PICTURE_TOOLS_FORMAT_ARRANGE_POSITION:510301,cM_PICTURE_TOOLS_FORMAT_ARRANGE_WRAPTEXT:510302,cM_PICTURE_TOOLS_FORMAT_ARRANGE_BRINGFORWARD:510303,cM_PICTURE_TOOLS_FORMAT_ARRANGE_SENDBACKWARD:510304,cM_PICTURE_TOOLS_FORMAT_ARRANGE_SELECTIONPANE:510305,cM_PICTURE_TOOLS_FORMAT_ARRANGE_ALIGN:510306,cM_PICTURE_TOOLS_FORMAT_ARRANGE_GROUP:510307,cM_PICTURE_TOOLS_FORMAT_ARRANGE_ROTATE:510308,cM_PICTURE_TOOLS_FORMAT_SIZE_PANE:510400,cM_PICTURE_TOOLS_FORMAT_SIZE_CROP:510401,cM_PICTURE_TOOLS_FORMAT_SIZE_HEIGHT:510402,cM_PICTURE_TOOLS_FORMAT_SIZE_SHAPEHEIGHT:510403,cM_PICTURE_TOOLS_FORMAT_SIZE_WIDTH:510404,cM_PICTURE_TOOLS_FORMAT_SIZE_SHAPEWIDTH:510405,cM_PICTURE_TOOLS_FORMAT_SIZE_ADVANCELAYOUTSIZE:510406,cM_DRAWINGTOOLS_FORMAT_TAB:520000,cM_DRAWINGTOOLS_FORMAT_INSERTSHAPES_PANE:520100,cM_DRAWINGTOOLS_FORMAT_INSERTSHAPES_SHAPES_GRID:520201,cM_DRAWINGTOOLS_FORMAT_INSERTSHAPES_EDITSHAPE:520202,cM_DRAWINGTOOLS_FORMAT_INSERTSHAPES_DRAWTEXTBOX:520203,cM_DRAWINGTOOLS_FORMAT_INSERTSHAPES_MERGESHAPES:520204,cM_DRAWINGTOOLS_FORMAT_SHAPESTYLES_PANE:520200,cM_DRAWINGTOOLS_FORMAT_SHAPESTYLES_QUICKSTYLES:520301,cM_DRAWINGTOOLS_FORMAT_SHAPESTYLES_SHAPEFILL:520303,cM_DRAWINGTOOLS_FORMAT_SHAPESTYLES_SHAPEOUTLINE:520304,cM_DRAWINGTOOLS_FORMAT_SHAPESTYLES_SHAPEEFFECT:520305,cM_DRAWINGTOOLS_FORMAT_SHAPESTYLES_DLG:520306,cM_DRAWINGTOOLS_FORMAT_WORDARTSTYLES_PANE:520300,cM_DRAWINGTOOLS_FORMAT_WORDARTSTYLES_QUICKSTYLES:520401,cM_DRAWINGTOOLS_FORMAT_WORDARTSTYLES_TEXTFILL:520403,cM_DRAWINGTOOLS_FORMAT_WORDARTSTYLES_TEXTOUTLINE:520404,cM_DRAWINGTOOLS_FORMAT_WORDARTSTYLES_TEXTEFFECTS:520405,cM_DRAWINGTOOLS_FORMAT_WORDARTSTYLES_DLG:520406,cM_DRAWINGTOOLS_FORMAT_TEXT_PANE:520400,cM_DRAWINGTOOLS_FORMAT_TEXT_TEXTDIRECTION:520501,cM_DRAWINGTOOLS_FORMAT_TEXT_ALIGNTEXT:520502,cM_DRAWINGTOOLS_FORMAT_TEXT_CREATELINK:520503,cM_DRAWINGTOOLS_FORMAT_ARRANGE_PANE:520500,cM_DRAWINGTOOLS_FORMAT_ARRANGE_POSITION:520501,cM_DRAWINGTOOLS_FORMAT_ARRANGE_WRAPTEXT:520502,cM_DRAWINGTOOLS_FORMAT_ARRANGE_BRINGFORWARD:520503,cM_DRAWINGTOOLS_FORMAT_ARRANGE_SENDBACKWARD:520504,cM_DRAWINGTOOLS_FORMAT_ARRANGE_SELECTIONPANE:520505,cM_DRAWINGTOOLS_FORMAT_ARRANGE_ALIGN:520506,cM_DRAWINGTOOLS_FORMAT_ARRANGE_GROUP:520507,cM_DRAWINGTOOLS_FORMAT_ARRANGE_ROTATE:520508,cM_DRAWINGTOOLS_FORMAT_SIZE_PANE:520600,cM_DRAWINGTOOLS_FORMAT_SIZE_HEIGHT:520601,cM_DRAWINGTOOLS_FORMAT_SIZE_HEIGHTTEXTB:520602,cM_DRAWINGTOOLS_FORMAT_SIZE_WIDTH:520603,cM_DRAWINGTOOLS_FORMAT_SIZE_WIDTHTEXTBOX:520604,cM_DRAWINGTOOLS_FORMAT_SIZE_DLG:520605}
Ribbon.RbnConstants.registerEnum('Ribbon.RbnConstants',false);Ribbon.ActionControlType=function(){};Ribbon.ActionControlType.prototype = {none:0,combo:1,miscCtrl:2,spinBox:3,normalEdit:4}
Ribbon.ActionControlType.registerEnum('Ribbon.ActionControlType',false);Ribbon.ColorType=function(){};Ribbon.ColorType.prototype = {invalid:-1,eOrangeColor:0,ePinkColor:1,eYellowColor:2,eBlueColor:3,ePurpleColor:4,eGreenColor:5,eMagentaColor:6,eCyanColor:7}
Ribbon.ColorType.registerEnum('Ribbon.ColorType',false);Ribbon.PaneMode=function(){};Ribbon.PaneMode.prototype = {eNormal:0,eShrunk:1}
Ribbon.PaneMode.registerEnum('Ribbon.PaneMode',false);Ribbon.CONTROL_TYPE=function(){};Ribbon.CONTROL_TYPE.prototype = {INVALID:'INVALID',button:'button',menubutton:'menubutton',editbox:'editbox',navbutton:'navbutton'}
Ribbon.CONTROL_TYPE.registerEnum('Ribbon.CONTROL_TYPE',false);Ribbon.eSpinCtrlType=function(){};Ribbon.eSpinCtrlType.prototype = {spiN_CTRL_INT:0,spiN_CTRL_MARGIN:1,spiN_CTRL_HR_MIN_SEC:2,spiN_CTRL_MIN_SEC:3}
Ribbon.eSpinCtrlType.registerEnum('Ribbon.eSpinCtrlType',false);Ribbon.ZoomCtrlIdx=function(){};Ribbon.ZoomCtrlIdx.prototype = {zooM_BTN:0,zoomouT_BTN:1,zoomiN_BTN:2,SLIDER:3}
Ribbon.ZoomCtrlIdx.registerEnum('Ribbon.ZoomCtrlIdx',false);Ribbon.EAlignment=function(){};Ribbon.EAlignment.prototype = {eRight:0,eBottom:1}
Ribbon.EAlignment.registerEnum('Ribbon.EAlignment',false);Ribbon.ShowMe_Menu=function(){};Ribbon.ShowMe_Menu.prototype = {leftClick:10000,rightClick:20000}
Ribbon.ShowMe_Menu.registerEnum('Ribbon.ShowMe_Menu',false);Ribbon.AltModeType=function(){};Ribbon.AltModeType.prototype = {doNotCare:0,centerPoint:1,topLeft:2}
Ribbon.AltModeType.registerEnum('Ribbon.AltModeType',false);Ribbon.Row=function(){};Ribbon.Row.prototype = {verY_FIRST_ROW:0,firsT_ROW:1,middlE_ROWS:2,lasT_ROW:3}
Ribbon.Row.registerEnum('Ribbon.Row',false);Ribbon.RibbonRoles=function(){};Ribbon.RibbonRoles.prototype = {comboBox:0,spinCtrl:1,textBox:2,checkBox:3,colorDropDown:4,documentTitle:5,dropDown:6,imageBtn:7,internalSeperator:8,normal:9,staticItem:10,miscCtrl:11,miscCtrlItem:12,pane:13,tab:14,dialogLauncher:15,fileTab:16,tabHeaderInfo:17,tabMode:18,miniToolbarMap:19,miniToolbarNormal:20,qatContainer:21,scrollableItem:22,qatMiscCtrl:23,qatMiscCtrlItem:24,qatTree:25,qatECNode:26,qatCheckBoxNode:27,qatRadioNode:28,inverseDropDown:29,qatRadioGroup:30,qatRadio:31,hyperLink:32,invalid:33,ribbonItemOutlineDropDown:34,qatApplyFooter:35,qatTextButton:36,ribbonTabMenuLauncher:37,ribbonItemBlank:38,standardColorGrid:39}
Ribbon.RibbonRoles.registerEnum('Ribbon.RibbonRoles',false);Ribbon.RbnRoleAttr=function(){};Ribbon.RbnRoleAttr.prototype = {id:'id',name:'name',role:'role',left:'left',top:'top',width:'width',height:'height',touchleft:'touchleft',touchtop:'touchtop',touchwidth:'touchwidth',touchheight:'touchheight',cssclass:'cssclass',enable:'enable',kbdshortcut:'kbdshortcut',menuno:'menuno',rtmenuno:'rtmenuno',tt_type:'tt_type',tt_text:'tt_text',tt_class:'tt_class',specialtab:'specialtab',color:'color',shrinkwidth:'shrinkwidth',shrinktouchwidth:'shrinktouchwidth',shrink:'shrink',multiline:'multiline',textposition:'textposition',behavnormal:'behavnormal',minval:'minval',maxval:'maxval',incrval:'incrval',unit:'unit',type:'type',normalimgclass:'normalimgclass',hoverimgclass:'hoverimgclass',pressedimgclass:'pressedimgclass',imgwidth:'imgwidth',imgheight:'imgheight',itemwidth:'itemwidth',itemheight:'itemheight',imgpoint:'imgpoint',align:'align',visible:'visible',paneheightttouch:'paneheightttouch',paneheight:'paneheight',qatheighttouch:'qatheighttouch',qatheight:'qatheight',tabbtnheighttouch:'tabbtnheighttouch',tabbtnheight:'tabbtnheight',touchvisible:'touchvisible',checked:'checked',mode:'mode',activetab:'activetab',othermodes:'othermodes',ignorepoint:'ignorepoint',rbnid:'rbnid',mtbid:'mtbid',app:'app',shrinkitem:'shrinkitem',shortcutbuddy:'shortcutbuddy',shortcutmenu:'shortcutmenu',expanded:'expanded',common:'common',imgprecache:'imgprecache',actionstring:'actionstring',dblclk:'dblclk',description:'description',closebtn:'closebtn',misc_can_store_selection:'misc_can_store_selection',resizable_qat:'resizable_qat'}
Ribbon.RbnRoleAttr.registerEnum('Ribbon.RbnRoleAttr',false);Ribbon.QatParser=function(strXmlFile,oQatManager){Ribbon.QatParser.initializeBase(this,[strXmlFile]);this.$2D=oQatManager;this._strDbgLogPrefix='[QatParser] ';this.addParserRoleDelegate(21,ss.Delegate.create(this,this.$2E));this.addParserRoleDelegate(25,ss.Delegate.create(this,this.parseRoleQatTree));this.addParserRoleDelegate(26,ss.Delegate.create(this,this.parseRoleQatECNode));this.addParserRoleDelegate(23,ss.Delegate.create(this,this.$31));this.addParserRoleDelegate(24,ss.Delegate.create(this,this.$30));this.addParserRoleDelegate(28,ss.Delegate.create(this,this.parseRoleQatRadioNode));this.addParserRoleDelegate(30,ss.Delegate.create(this,this.parseRoleQatRadioGroup));this.addParserRoleDelegate(31,ss.Delegate.create(this,this.parseRoleQatRadio));this.addParserRoleDelegate(27,ss.Delegate.create(this,this.parseRoleQatCheckBoxNode));this.addParserRoleDelegate(22,ss.Delegate.create(this,this.$32));this.addParserRoleDelegate(32,ss.Delegate.create(this,this.$33));this.addParserRoleDelegate(35,ss.Delegate.create(this,this.$2F));this.addParserRoleDelegate(36,ss.Delegate.create(this,this.$34));this.addParserRoleDelegate(39,ss.Delegate.create(this,this.parseRoleColorGrid));}
Ribbon.QatParser.prototype={$2D:null,$2E:function($p0,$p1){if(!this.isCorrectApp($p1)){return;}this.parseCommonAttributes($p1);var $0=$($p1);var $1=new Kepler.Engine.UI.QAT.QatContainer(this._iId.toString(),new Kepler.Framework.UI.Size(this._rcMouse.get_width(),this._rcMouse.get_height()),this._strImgCls,this.$2D);$1.set_closeBtn(Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'closebtn')===1);$1.set_resizable(Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'resizable_qat')===1);this.$2D.addContainer($1);var $2=new Ribbon.XmlParser_ParentParam();$2.oRbnContainer=$1;var $3=$0.children();this.parseXmlNodes($2,$3);},$2F:function($p0,$p1){if(!this.isCorrectApp($p1)){return;}var $0=$p0.oRbnContainer;this.parseCommonAttributes($p1);var $1=$($p1);var $2=new Kepler.Engine.UI.QAT.QatApplyFooter();$2.initialise(this._iId,this._rcMouse,this._rcTouch,-1,-1,null,null,$0);if((Kepler.Engine.UI.QAT.QatContainer).isInstanceOfType($0)){($0).addFooter($2);}var $3=$p0.cloneWithContainerOnly();$3.oRbnItem=$2;var $4=$1.children();this.parseXmlNodes($3,$4);},parseRoleTab:function(oParents,elmNode){if(!this.isCorrectApp(elmNode)){return;}var $0=$(elmNode);var $1=oParents.oRbnContainer;this.parseCommonAttributes(elmNode);var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString(elmNode,'description');var $3=new Kepler.Engine.UI.QAT.QatTab();$3.initialise(this._iId,new Kepler.Framework.UI.Rect(0,0,this._rcMouse.get_width(),this._rcMouse.get_height()),null,-1,this._iRtClkMenuNo,this._strText,null,$1,$2);this.setTooltip($3,elmNode);if((Kepler.Engine.UI.QAT.QatContainer).isInstanceOfType($1)){($1).addTab($3);}$1.addItemToContainer($3);var $4=oParents.cloneWithContainerOnly();$4.oRbnItem=$3;var $5=$0.children();this.parseXmlNodes($4,$5);},parseRoleCheckBox:function(oParents,elmNode){if(!this.isCorrectApp(elmNode)){return;}this.parseCommonAttributes(elmNode);this._rcMouse.set_top(this._rcMouse.get_top()-this.panE_TOP);this._rcTouch.set_top(this._rcTouch.get_top()-this.panE_TOP);var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt(elmNode,'checked');var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt(elmNode,'contid',-1);var $2=new Kepler.Engine.UI.QAT.QatCheckBox();$2.initialise(this._iId,this._rcMouse,this._rcTouch,-1,this._iRtClkMenuNo,this._strText,null,oParents.oRbnContainer,$1);$2.set_checked((!!$0));$2.set_visible((!!this._iVisible));$2.set_kbrdShortcut(this._strKbrdShortcut);this.setTooltip($2,elmNode);this.addToParent($2,oParents);$2.set_enabled(this._iEnabled);},$30:function($p0,$p1){if(!this.isCorrectApp($p1)){return;}var $0=$p0.oRbnItem;var $1=this.getTtParams($p1);var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'rtmenuno');var $3=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'cssclass');var $4=null;if(ss.isValue($0.get_imagePoint())){var $5=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'imgpoint');var $6=$5.split(',',2);if($6.length===2){$4=new Kepler.Framework.UI.Point(-parseInt($6[0],10),-parseInt($6[1],10));}}$0.addMiscItem($1,$2,$4);},$31:function($p0,$p1){if(!this.isCorrectApp($p1)){return;}var $0=$($p1);this.parseCommonAttributes($p1);this._rcMouse.set_top(this._rcMouse.get_top()-(this.panE_TOP+2));this._rcMouse.set_width(this._rcMouse.get_width()-2);this._rcTouch.set_top(this._rcTouch.get_top()-(this.panE_TOP+2));var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'imgwidth');var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'imgheight');var $3=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'itemwidth');var $4=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'itemheight');var $5=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'checked',-1);var $6=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'ignorepoint');var $7='';var $8=null;if(!$6){$7=this._strImgCls;var $C=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'imgpoint');var $D=$C.split(',',2);if($D.length===2){$8=new Kepler.Framework.UI.Point(-parseInt($D[0],10),-parseInt($D[1],10));}else{$8=new Kepler.Framework.UI.Point(0,0);}}var $9=new Kepler.Engine.UI.QAT.QatMiscCtrl();this.setTooltip($9,$p1);$9.initialise(this._iId,this._rcMouse,this._rcTouch,this._iMenuNo,this._iRtClkMenuNo,null,$7,$p0.oRbnContainer);$9.setMiscItemSize($3,$4,$1,$2,$8);var $A=$p0.cloneWithContainerOnly();$A.oRbnItem=$9;var $B=$0.children();this.parseXmlNodes($A,$B);this.addToParent($9,$p0);$9.set_enabled(this._iEnabled);},parseRoleInternalSeperator:function(oParents,elmNode){if((Kepler.Engine.UI.QAT.QatMiscCtrl).isInstanceOfType(oParents.oRbnItem)){var $0=oParents.oRbnItem;this.parseCommonAttributes(elmNode);$0.addGroup(this._strText);}else{this.parseCommonAttributes(elmNode);var $1=new Ribbon.RibbonItemInternalSeperator();$1.initialise(this._iId,this._rcMouse,this._rcTouch,-1,-1,null,null,oParents.oRbnContainer);this.addToParent($1,oParents);$1.createRibbonItem(oParents.oRbnContainer.get_touchMode());$1.get_elementItem().style.position='relative';$1.get_elementItem().style.marginTop=Math.ceil(this._rcMouse.get_height()/2)+'px';$1.get_elementItem().style.marginBottom=Math.ceil(this._rcMouse.get_height()/2)+'px';$1.get_elementItem().style.height='1px';this._rcMouse.set_height(1);this._rcTouch.set_height(1);}},parseRoleQatTree:function(oParents,elmNode){if(!this.isCorrectApp(elmNode)){return;}this.parseCommonAttributes(elmNode);this._rcMouse.set_top(this._rcMouse.get_top()-this.panE_TOP);this._rcTouch.set_top(this._rcTouch.get_top()-this.panE_TOP);var $0=new Kepler.Engine.UI.QAT.QatTree();$0.initialise(this._iId,this._rcMouse,this._rcTouch,-1,this._iRtClkMenuNo,this._strText,null,oParents.oRbnContainer);$0.set_kbrdShortcut(this._strKbrdShortcut);this.setTooltip($0,elmNode);var $1=oParents.cloneWithContainerOnly();$1.oRbnItem=$0;var $2=$(elmNode);var $3=$2.children();this.parseXmlNodes($1,$3);this.addToParent($0,oParents);$0.set_enabled(this._iEnabled);},parseRoleQatECNode:function(oParents,elmNode){if(!this.isCorrectApp(elmNode)){return;}this.parseCommonAttributes(elmNode);this._rcMouse.set_top(this._rcMouse.get_top()-this.panE_TOP);this._rcTouch.set_top(this._rcTouch.get_top()-this.panE_TOP);var $0=new Kepler.Engine.UI.QAT.QatECNode();$0.initialise(this._iId,this._rcMouse,this._rcTouch,-1,this._iRtClkMenuNo,this._strText,null,oParents.oRbnContainer);$0.set_kbrdShortcut(this._strKbrdShortcut);this.setTooltip($0,elmNode);this.addToParent($0,oParents);$0.set_enabled(this._iEnabled);var $1=oParents.cloneWithContainerOnly();$1.oRbnItem=$0;var $2=$(elmNode);var $3=$2.children();this.parseXmlNodes($1,$3);},parseRoleQatCheckBoxNode:function(oParents,elmNode){if(!this.isCorrectApp(elmNode)){return;}this.parseCommonAttributes(elmNode);this._rcMouse.set_top(this._rcMouse.get_top()-this.panE_TOP);this._rcTouch.set_top(this._rcTouch.get_top()-this.panE_TOP);var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt(elmNode,'checked');var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttribute(elmNode,'common');var $2=new Kepler.Engine.UI.QAT.QatCheckBoxNode();$2.initialise(this._iId,this._rcMouse,this._rcTouch,-1,this._iRtClkMenuNo,this._strText,null,oParents.oRbnContainer);if($1){(oParents.oRbnItem).set_commonNode($2);}$2.set_checked((!!$0));$2.set_kbrdShortcut(this._strKbrdShortcut);this.setTooltip($2,elmNode);this.addToParent($2,oParents);$2.set_enabled(this._iEnabled);},parseRoleQatRadioNode:function(oParents,elmNode){if(!this.isCorrectApp(elmNode)){return;}this.parseCommonAttributes(elmNode);this._rcMouse.set_top(this._rcMouse.get_top()-this.panE_TOP);this._rcTouch.set_top(this._rcTouch.get_top()-this.panE_TOP);var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt(elmNode,'checked');var $1=new Kepler.Engine.UI.QAT.QatRadioNode();$1.initialise(this._iId,this._rcMouse,this._rcTouch,-1,this._iRtClkMenuNo,this._strText,null,oParents.oRbnContainer);$1.set_checked((!!$0));if($1.get_checked()&&Type.canCast(oParents.oRbnItem,Kepler.Engine.UI.QAT.QatECNode)){(oParents.oRbnItem).set_commonNode($1);}$1.set_kbrdShortcut(this._strKbrdShortcut);this.setTooltip($1,elmNode);this.addToParent($1,oParents);$1.set_enabled(this._iEnabled);},$32:function($p0,$p1){if(!this.isCorrectApp($p1)){return;}this.parseCommonAttributes($p1);this._rcMouse.set_top(this._rcMouse.get_top()-this.panE_TOP);this._rcTouch.set_top(this._rcTouch.get_top()-this.panE_TOP);var $0=new Kepler.Engine.UI.QAT.QatScrollable();$0.initialise(this._iId,this._rcMouse,this._rcTouch,this._iMenuNo,this._iRtClkMenuNo,this._strText,this._strImgCls,$p0.oRbnContainer,this._strImgCls,null);this.addToParent($0,$p0);var $1=$p0.cloneWithContainerOnly();$1.oRbnItem=$0;var $2=$($p1);var $3=$2.children();this.parseXmlNodes($1,$3);var $4=0;var $enum1=ss.IEnumerator.getEnumerator($0.get_listRibbonItems());while($enum1.moveNext()){var $5=$enum1.current;if(ss.isValue($5)){$4+=$5.get_rectangleMouse().get_width();}}$0.set_scrollWidth($4);},parseRoleQatRadio:function(oParents,elmNode){if(!this.isCorrectApp(elmNode)){return;}this.parseCommonAttributes(elmNode);var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt(elmNode,'checked');var $1=new Kepler.Engine.UI.QAT.QatRadio();$1.initialise(this._iId,this._rcMouse,this._rcTouch,-1,this._iRtClkMenuNo,this._strText,null,oParents.oRbnContainer);$1.set_checked((!!$0));$1.set_parentGroup(oParents.oRbnItem);if($1.get_checked()){(oParents.oRbnItem).setSelectedRadio($1);}$1.set_kbrdShortcut(this._strKbrdShortcut);this.setTooltip($1,elmNode);this.addToParent($1,oParents);$1.set_enabled(this._iEnabled);},parseRoleQatRadioGroup:function(oParents,elmNode){if(!this.isCorrectApp(elmNode)){return;}this.parseCommonAttributes(elmNode);var $0=new Kepler.Engine.UI.QAT.QatRadioGroup();$0.set_parentRibbonItem(oParents.oRbnItem);var $1=oParents.cloneWithContainerOnly();$1.oRbnItem=$0;var $2=$(elmNode);var $3=$2.children();this.parseXmlNodes($1,$3);},$33:function($p0,$p1){if(!this.isCorrectApp($p1)){return;}this.parseCommonAttributes($p1);var $0=new Ribbon.RibbonItemHyperLink();$0.initialise(this._iId,this._rcMouse,this._rcTouch,-1,this._iRtClkMenuNo,this._strText,null,$p0.oRbnContainer);$0.set_textClass(this._strImgCls);$0.setItemRect($0.get_elementItem(),this._rcMouse);$0.set_kbrdShortcut(this._strKbrdShortcut);this.setTooltip($0,$p1);this.addToParent($0,$p0);$0.set_enabled(this._iEnabled);},parseRoleNormal:function(oParents,elmNode){if(!this.isCorrectApp(elmNode)){return;}this.parseCommonAttributes(elmNode);this._rcMouse.set_top(this._rcMouse.get_top()-this.panE_TOP);this._rcTouch.set_top(this._rcTouch.get_top()-this.panE_TOP+2);this._rcTouch.set_height(this._rcTouch.get_height()-(4));var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt(elmNode,'multiline');var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt(elmNode,'textposition',1);var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt(elmNode,'contid',-1);var $3=new Kepler.Engine.UI.QAT.QatItemNormal();$3.initialise(this._iId,this._rcMouse,this._rcTouch,this._iMenuNo,this._iRtClkMenuNo,this._strText,this._strImgCls,oParents.oRbnContainer,$0>0,$2);$3.setTextPosition(((!$1)?0:1));$3.set_checked((!!this._iChecked));$3.set_visible((!!this._iVisible));$3.set_kbrdShortcut(this._strKbrdShortcut);$3.set_actionString(this._strActionString);this.setTooltip($3,elmNode);this.addToParent($3,oParents);$3.set_enabled(this._iEnabled);},$34:function($p0,$p1){if(!this.isCorrectApp($p1)){return;}this.parseCommonAttributes($p1);var $0=new Kepler.Engine.UI.QAT.QatTextButton();$0.initialise(this._iId,this._rcMouse,this._rcTouch,-1,this._iRtClkMenuNo,this._strText,null,$p0.oRbnContainer);$0.set_kbrdShortcut(this._strKbrdShortcut);this.setTooltip($0,$p1);this.addToParent($0,$p0);$0.set_enabled(this._iEnabled);},parseRoleColorGrid:function(oParents,elmNode){if(!this.isCorrectApp(elmNode)){return;}this.parseCommonAttributes(elmNode);var $0=new Ribbon.RibbonItemColorGrid();$0.initialise(this._iId,this._rcMouse,this._rcTouch,this._iMenuNo,this._iRtClkMenuNo,this._strText,this._strImgCls,oParents.oRbnContainer);$0.setColorGrid();this.addToParent($0,oParents);$0.set_enabled(this._iEnabled);}}
Ribbon.BaseRibbonManager=function(oAppFrame){this.infO_TITLE_ID=-1;this.sharE_TITLE_ID=-1;this.$4_22=-1;this._strCssRibbonTabContainerBeforeFileTab='';this._evalObserveButtonMode=0;Ribbon.BaseRibbonManager.initializeBase(this,['ribbon_container','class_ribbon_container',oAppFrame.get_touchMode()]);this._iActiveTab=-1;this._iPrevTab=-1;this._iRibbonTabMode=-1;this._iOverrideTabMode=-1;this._iModeActiveTabId=-1;this.$4_23=-1;this._lstTabModesPriority=[];this._lstQatButtons=[];this._lstRibbonTabs=[];this._lstVisibleTabs=[];this.$4_27=[];this.$4_28=[];this._mapTabHeaderInfo={};this._mapRbnToMiniToolbar={};this._mapTabMode={};this.$4_24={};this.$4_25={};this._mapDialogLaunchingRibbonItem={};this._strTaitPrefix='ribbon';this.set_strIDPrefix('rbn');this.set_zIndex(Kepler.Framework.UI.Controls.ZIndexConstants.frame_Ribbon);this._imgbtnFileTabBack=new Kepler.Engine.UI.Controls.CssImageButton(null,new Kepler.Framework.UI.Point(0,0),null,new ss.StringBuilder(oAppFrame.get_app().get_resourcePrefix()).append('f').toString());this._imgbtnFileTabBack.get_elementStyle().position=Kepler.Framework.Core.Browser.PositionStyle.strRelative;this._imgbtnFileTabBack.setCssStatePrefix(Kepler.Framework.UI.Controls.EItemState.eNormal,'_norm');this._imgbtnFileTabBack.setCssStatePrefix(Kepler.Framework.UI.Controls.EItemState.eHover,'_hovr');this._imgbtnFileTabBack.setCssStatePrefix(Kepler.Framework.UI.Controls.EItemState.ePressed,'_hovr');var $0=new ss.StringBuilder(oAppFrame.get_app().get_resourcePrefix()).toString();this.$4_3D($0);this.createParsers(oAppFrame);this.$4_37=(Kepler.Framework.Core.Browser.BrowserCapabilities.get_platform()!==Kepler.Framework.Core.Browser.BrowserPlatform.android);this.$4_34=ss.Delegate.create(this,this.mouseHookProc);this.$4_35=ss.Delegate.create(this,this.keyboardHookProc);this.$4_36=[];this.set_parseRbnDone(false);this.set_parseViewDone(false);this.set_overrideTabGiven(false);this.set_setOverrideTabMode(false);this.populateShowAllPropertiesItems();this.populatePriorityTabModes();}
Ribbon.BaseRibbonManager.get_PIN=function(){return (Kepler.Engine.Core.EngineApp.get_engine().get_currentApp().getAppFrame()).get_ribbonManager().get_pin();}
Ribbon.BaseRibbonManager.prototype={_imgbtnFileTabBack:null,$4_1D:2,_iActiveTab:0,_iRibbonTabMode:0,_iModeActiveTabId:0,_iOverrideTabMode:0,$4_23:0,_iFileTab:0,_iPrevTab:0,_iPrevNormalTab:0,_lstQatButtons:null,_lstRibbonTabs:null,_lstVisibleTabs:null,_lstTabModesPriority:null,_mapTabHeaderInfo:null,_mapTabMode:null,_mapRbnToMiniToolbar:null,$4_24:null,$4_25:null,$4_26:null,get_paneWndControl:function(){return this.$4_26;},$4_27:null,$4_28:null,$4_29:false,_elemQatBar:null,_elemTabBar:null,_elemFileTabBackBtnCntr:null,_elemRibbonBar:null,_spanTabAreaPart1:null,_spanTabAreaPart2:null,$4_2A:0,_elemRibbonContainer:null,_eleHomeSignInCntr:null,$4_2B:null,_eleSignIn:null,$4_2C:null,$4_2D:null,$4_2E:null,$4_2F:null,$4_30:null,_oPreviousTab:null,$4_31:null,$4_32:null,_oCommonRbnParser:null,_oAppRbnParser:null,$4_33:null,_oThemeDetails:null,$4_34:null,$4_35:null,$4_36:null,_iShowAllProperties:0,_lstShowAllPropertiesItems:null,$4_37:false,get_pin:function(){return this.$4_37;},set_pin:function(value){this.$4_37=value;this.$4_5A();return value;},get_ribbonTabs:function(){return this._lstRibbonTabs;},get_visibleTabs:function(){return this._lstVisibleTabs;},get_qatButtons:function(){return this._lstQatButtons;},get_isFileTabActive:function(){return (this._iActiveTab===this._iFileTab);},$4_38:false,get_parseViewDone:function(){return this.$4_38;},set_parseViewDone:function(value){this.$4_38=value;if(this.get_parseViewDone()&&this.get_parseRbnDone()){this.set_setOverrideTabMode(true);}return value;},$4_39:false,get_parseRbnDone:function(){return this.$4_39;},set_parseRbnDone:function(value){this.$4_39=value;if(this.get_parseViewDone()&&this.get_parseRbnDone()){this.set_setOverrideTabMode(true);}return value;},$4_3A:false,get_overrideTabGiven:function(){return this.$4_3A;},set_overrideTabGiven:function(value){this.$4_3A=value;return value;},$4_3B:false,$4_3C:null,get_documentTitle:function(){return this.$4_3C;},set_documentTitle:function(value){this.$4_3C=value;return value;},get_setOverrideTabMode:function(){return this.$4_3B;},set_setOverrideTabMode:function(value){this.$4_3B=value;if(this.$4_3B&&!this.get_isFileTabActive()&&this.get_overrideTabGiven()){this.$4_42(this._iRibbonTabMode);}var $dict1=this._mapOverrideState;for(var $key2 in $dict1){var $0={key:$key2,value:$dict1[$key2]};var $1=$0.key;var $2=this.getRibbonItemFromId($1);if(Type.canCast($2,Ribbon.RibbonMiscCtrl)){var $3=$0.value;this.setState($1,$3);$2.miscCtrScroll();}}return value;},get_evalObserveButtonMode:function(){return this._evalObserveButtonMode;},$4_3D:function($p0){this.$4_2C=new Ribbon.RibbonItemCssImageButton();this.$4_2C.set_border(true);this.$4_2C.initialise(20000001,new Kepler.Framework.UI.Rect(0,0,Ribbon.BaseRibbonManager.ribboN_COLLAPSE_WIDTH_NORMAL,Ribbon.BaseRibbonManager.ribboN_COLLAPSE_HEIGHT),new Kepler.Framework.UI.Rect(0,0,Ribbon.BaseRibbonManager.ribboN_COLLAPSE_WIDTH_NORMAL,Ribbon.BaseRibbonManager.ribboN_COLLAPSE_HEIGHT),-1,-1,'',$p0+'c',this,null,'_norm','_hov','_pres');this.$4_31=new Ribbon.RibbonItemCssImageButton();this.$4_31.set_border(true);this.$4_31.initialise(20000004,new Kepler.Framework.UI.Rect(0,0,Ribbon.BaseRibbonManager.ribboN_EVAL_RESET_BUTTON_W,Ribbon.BaseRibbonManager.ribboN_EVAL_RESET_BUTTON_H),new Kepler.Framework.UI.Rect(0,0,Ribbon.BaseRibbonManager.ribboN_EVAL_RESET_BUTTON_W,Ribbon.BaseRibbonManager.ribboN_EVAL_RESET_BUTTON_H),-1,-1,'Evaluate',$p0+'btn_eval',this,null,'_norm','_hov','_pres');this.$4_32=new Ribbon.RibbonItemCssImageButton();this.$4_32.set_border(true);this.$4_32.initialise(20000005,new Kepler.Framework.UI.Rect(0,0,Ribbon.BaseRibbonManager.ribboN_EVAL_RESET_BUTTON_W,Ribbon.BaseRibbonManager.ribboN_EVAL_RESET_BUTTON_H),new Kepler.Framework.UI.Rect(0,0,Ribbon.BaseRibbonManager.ribboN_EVAL_RESET_BUTTON_W,Ribbon.BaseRibbonManager.ribboN_EVAL_RESET_BUTTON_H),-1,-1,'',$p0+'btn_reset',this,null,'_norm','_hov','_pres');this.$4_2D=new Ribbon.RibbonItemCssImageButton();this.$4_2D.initialise(20000002,new Kepler.Framework.UI.Rect(0,0,Ribbon.BaseRibbonManager.ribboN_AUTHOR_IMAGE_H_W,Ribbon.BaseRibbonManager.ribboN_AUTHOR_IMAGE_H_W),new Kepler.Framework.UI.Rect(0,0,Ribbon.BaseRibbonManager.ribboN_AUTHOR_IMAGE_H_W,Ribbon.BaseRibbonManager.ribboN_AUTHOR_IMAGE_H_W),-1,-1,'',$p0+'author',this,null,'','','');this.$4_2E=new Ribbon.RibbonItemHyperLink();this.$4_2E.initialise(20000003,new Kepler.Framework.UI.Rect(0,0,0,0),new Kepler.Framework.UI.Rect(0,0,0,0),-1,-1,'Sign In','',this);this.$4_2F=new Ribbon.RibbonItemScrollable();this.$4_2F.set_isTabScroller(true);this.$4_2F.set_autoHideBtn(true);this.$4_2F.initialise(-1,new Kepler.Framework.UI.Rect(0,0,0,Ribbon.BaseRibbonManager.ribboN_TAB_BUTTONS_HEIGHT+1),new Kepler.Framework.UI.Rect(0,0,0,Ribbon.BaseRibbonManager.ribboN_TAB_BUTTONS_HEIGHT+1),-1,-1,'','',this);this.$4_2F.get_elementItem().style.zIndex=Kepler.Framework.UI.Controls.ZIndexConstants.view_Min;this.$4_30=new Ribbon.RibbonItemScrollable();this.$4_30.set_autoHideBtn(true);this.$4_30.initialise(-1,new Kepler.Framework.UI.Rect(0,0,0,Ribbon.BaseRibbonManager.ribboN_PANE_HEIGHT_NORMAL+8),new Kepler.Framework.UI.Rect(0,0,0,Ribbon.BaseRibbonManager.ribboN_PANE_HEIGHT_TOUCH+8),-1,-1,'','',this);this.$4_30.setPadding(4);},onLoad:function(){Ribbon.BaseRibbonManager.callBaseMethod(this, 'onLoad');this.set_pin(Kepler.Engine.Core.EngineApp.get_engine().get_taskMaster().get_isPinRibbon());(this.get_parent()).getAppParser(ss.Delegate.create(this,this.$4_3E),ss.Delegate.create(this,this.rbnXmlDownloadFailed));(this.get_parent()).getAppParser(ss.Delegate.create(this,this.rbnXmlDownloadComplete),ss.Delegate.create(this,this.rbnXmlDownloadFailed));(this.get_parent()).getCommonAppParser(ss.Delegate.create(this,this.commonRbnXmlDownloadComplete),ss.Delegate.create(this,this.rbnXmlDownloadFailed));},createParsers:function(oAppFrame){if((Kepler.Engine.UI.WeapAppFrame).isInstanceOfType(oAppFrame)){var $0=oAppFrame;var $1=Kepler.Engine.Core.EngineApp.get_engine().get_commonResourcePath()+Kepler.Engine.UI.BaseAppFrame.xmL_AUTOMATION_FILE;this._oCommonRbnParser=new Ribbon.RibbonParser($1);$1=(oAppFrame).get_resourcePath()+Kepler.Engine.UI.BaseAppFrame.xmL_AUTOMATION_FILE;this._oAppRbnParser=new Ribbon.RibbonParser($1);$1=(oAppFrame).get_resourcePath()+Kepler.Engine.UI.BaseAppFrame.xmL_FILE_STURT_UP_AUTOMATION;this.$4_33=new Ribbon.FileAndStartUpParser($1);}},commonRbnXmlDownloadComplete:function(oParser){if(ss.isValue(this._oCommonRbnParser)){this._oCommonRbnParser.set_xmlNode(oParser.get_xmlNode());this.startFullParsing();}},rbnXmlDownloadComplete:function(oParser){if(ss.isValue(this._oAppRbnParser)){this._oAppRbnParser.set_xmlNode(oParser.get_xmlNode());this.startFullParsing();}},$4_3E:function($p0){if(ss.isValue(this.$4_33)){this.$4_33.set_xmlNode($p0.get_xmlNode());this.startFullParsing();}},rbnXmlDownloadFailed:function(oParser){},startFullParsing:function(){if(!this._oCommonRbnParser.get_downloaded()||!this._oAppRbnParser.get_downloaded()||!this.get_loaded()||!this.$4_33.get_downloaded()||this._bParsingDone){return;}this.parseXmlFile(this._oCommonRbnParser);this.parseXmlFile(this._oAppRbnParser);this.createRibbon();this.$4_3F();this.parsingCompleted();this.onSize();},parseXmlFile:function(oParser){var $0=new Ribbon.XmlParser_ParentParam();$0.oRbnItem=null;$0.element=null;$0.lstRbnItems=null;$0.oRbnContainer=this;oParser.startXmlParsing(Ribbon.BaseRibbonManager.$4_17,$0);$0=new Ribbon.XmlParser_ParentParam();$0.oRbnItem=null;$0.element=null;$0.oRbnContainer=this;$0.lstRbnItems=this._lstQatButtons;oParser.startXmlParsing(Ribbon.BaseRibbonManager.$4_18,$0);$0=new Ribbon.XmlParser_ParentParam();$0.oRbnItem=null;$0.element=null;$0.lstRbnItems=null;$0.oRbnContainer=this;oParser.startXmlParsing(Ribbon.BaseRibbonManager.$4_19,$0);$0=new Ribbon.XmlParser_ParentParam();$0.oRbnItem=null;$0.element=null;$0.lstRbnItems=null;$0.oRbnContainer=this;oParser.startXmlParsing(Ribbon.BaseRibbonManager.$4_1A,$0);$0=new Ribbon.XmlParser_ParentParam();$0.oRbnItem=null;$0.element=null;$0.lstRbnItems=null;$0.oRbnContainer=this;oParser.startXmlParsing(Ribbon.BaseRibbonManager.$4_1B,$0);},$4_3F:function(){var $0=new Ribbon.XmlParser_ParentParam();var $1=this.getRibbonItemFromId(this._iFileTab);$0.oRbnItem=$1;$0.element=$1.get_elemContent();$0.oRbnContainer=this;this.$4_33.startXmlParsing(Ribbon.BaseRibbonManager.$4_1C,$0);},initialise:function(){if(ss.isNullOrUndefined(this._oThemeDetails)){this._oThemeDetails=Kepler.Engine.Core.EngineApp.get_engine().get_currentApp().getAppFrame().get_themeDetails();}this.createRibbonDiv();this.resizeRibbon();},checkItemIsFocused:function(oItem){var $0=false;if(ss.isValue(this._oFocusRbnItem)&&this.get_isFileTabActive()){var $1=this._oFocusRbnItem;while(ss.isValue($1)){if($1===oItem&&$1.get_focusedRbnItem()==null){$1.changeState(Kepler.Framework.UI.Controls.EItemState.eFocus,$1.get_elementItem());$0=true;break;}$1=$1.get_focusedRbnItem();}}return $0;},createImageList:function(){var $0=Kepler.Engine.Core.EngineApp.get_engine().get_commonResourcePath();var $enum1=ss.IEnumerator.getEnumerator(this._lstVisibleTabs);while($enum1.moveNext()){var $1=$enum1.current;var $2=this._mapRibbonItem[$1];if(ss.isValue($2)){var $enum2=ss.IEnumerator.getEnumerator($2.get_precacheImages());while($enum2.moveNext()){var $3=$enum2.current;this.addImage($3,null);}}}},$4_40:function(){var $0=null;var $1=-1;var $2=null;var $3=0;var $dict1=this._mapTabHeaderInfo;for(var $key2 in $dict1){var $4={key:$key2,value:$dict1[$key2]};$1=$4.key;$2=$4.value;$3=0;var $enum3=ss.IEnumerator.getEnumerator($2._lstSpecialTabs);while($enum3.moveNext()){var $5=$enum3.current;$0=this._mapRibbonItem[$5];if(ss.isValue($0)){$3+=($0.get_rectangleMouse().get_width()+2);}}if(!!$3){var $6=document.createElement('div');$6.style.width=$3+'px';$6.className='class_special_tab_header';$6.style.height=((this._bTouchMode)?Ribbon.BaseRibbonManager.ribboN_QAT_HEIGHT_TOUCH:Ribbon.BaseRibbonManager.ribboN_QAT_HEIGHT_NORMAL)+'px';$6.style.display='block';$6.style.overflow='hidden';var $7=document.createElement('div');$7.innerHTML=$2._sTabHeaderText;if(ss.isValue($0)){$7.className='tab_color_glow_'+$0.getStringFromColorType();}$7.style.display='block';$7.style.whiteSpace='nowrap';$7.style.height=((this._bTouchMode)?Ribbon.BaseRibbonManager.ribboN_QAT_HEIGHT_TOUCH:Ribbon.BaseRibbonManager.ribboN_QAT_HEIGHT_NORMAL)+'px';$7.style.overflow='hidden';$7.style.textOverflow='ellipsis';$6.appendChild($7);$2._elemTabHeader=$6;$2.iTabHeaderWidth=$3;}}},createRibbon:function(){this.$4_40();this.setInnerHtmlForQatButtons();this.$4_2F.createRibbonItem(this._bTouchMode);this.$4_2F.set_scrollStep(20);this.$4_30.createRibbonItem(this._bTouchMode);this.$4_30.set_scrollStep(20);this._spanTabAreaPart1.appendChild(this.$4_30.get_elementItem());this.$4_41();this.setRibbonTabMode(0);this.initializeRightClickMenus();},$4_41:function(){this.$4_2C.createRibbonItem(this._bTouchMode);this.addItemToContainer(this.$4_2C);this._spanTabAreaPart2.appendChild(this.$4_2C.get_elementItem());this.$4_2C.get_elementItem().style.position='absolute';this.$4_2C.get_elementItem().style.top='';this.$4_2C.get_elementItem().style.left='';this.$4_2C.get_elementItem().style.right='0px';this.$4_2C.get_elementItem().style.bottom='0px';this.$4_2C.set_toolTip('0'+Kepler.Framework.Core.Seperators.doublE_CROSS+'Collapse The Ribbon ( Ctrl + F1 )'+Kepler.Framework.Core.Seperators.doublE_CROSS+'Need a bit more space ? Collpase the <br/> ribbon so only the tab names shown.');this.addItemToContainer(this.$4_31);this._spanTabAreaPart1.appendChild(this.$4_31.get_elementItem());this.$4_31.get_elementItem().style.position='absolute';this.$4_31.get_elementItem().style.top='';this.$4_31.get_elementItem().style.left='';this.$4_31.get_elementItem().style.width='';this.$4_31.get_elementItem().style.height='';this.addItemToContainer(this.$4_32);this._spanTabAreaPart1.appendChild(this.$4_32.get_elementItem());this.$4_32.get_elementItem().style.position='absolute';this.$4_32.get_elementItem().style.top='';this.$4_32.get_elementItem().style.left='';this.$4_32.get_elementItem().style.width='';this.$4_32.get_elementItem().style.height='';this.$4_32.get_elementItem().innerHTML='<span class=xl_btn_reset_span>Reset Answers</span>';this.$4_2E.createRibbonItem(this._bTouchMode);this.$4_2E.get_elementItem().style.right='26px';this.$4_2E.get_elementItem().style.color='gray';this.$4_2E.get_elementItem().style.position=Kepler.Framework.Core.Browser.PositionStyle.strAbsolute;this.$4_2E.get_elementItem().style.display='inline-block';this.$4_2E.get_elementItem().style.top='6px';this.addItemToContainer(this.$4_2E);this.$4_2D.createRibbonItem(this._bTouchMode);this.$4_2D.get_elementItem().style.right='0px';this.$4_2D.get_elementItem().style.display='inline-block';this.addItemToContainer(this.$4_2D);this.$4_2D.get_elementItem().style.left='';},initializeRightClickMenus:function(){var $enum1=ss.IEnumerator.getEnumerator(this._lstRibbonTabs);while($enum1.moveNext()){var $2=$enum1.current;$2._iRtClickMenuNo=10085;var $enum2=ss.IEnumerator.getEnumerator($2.getPanes());while($enum2.moveNext()){var $3=$enum2.current;$3._iRtClickMenuNo=10086;var $enum3=ss.IEnumerator.getEnumerator($3.getRibbonItems());while($enum3.moveNext()){var $4=$enum3.current;$4._iRtClickMenuNo=10086;}}}var $0=this._lstQatButtons.length;var $1=null;if($0>0){for(var $5=0;$5<$0-3;$5++){if(ss.isValue($1=this._lstQatButtons[$5])&&$1._iRtClickMenuNo===-2){$1._iRtClickMenuNo=10088;}}for(var $6=$0-3;$6<$0;$6++){if(ss.isValue($1=this._lstQatButtons[$6])){$1._iRtClickMenuNo=-1;}}}},getRibbonTabMode:function(){return this._iRibbonTabMode;},setRibbonTabMode:function(iRibbonTabMode){if((this._iRibbonTabMode===iRibbonTabMode)||ss.isNullOrUndefined(iRibbonTabMode)){return;}this.$4_42(iRibbonTabMode);this.setInnerHtmlForRibbonTabs();this.setTabHeaderInfo(iRibbonTabMode);this.$4_45();this.repositionTabs();this.resizeDocumentTitle();},$4_42:function($p0){if(ss.isNullOrUndefined($p0)){return;}var $0=this._lstVisibleTabs.clone();this._lstVisibleTabs.clear();this.showTabItem(10000000,false);this.ribbonTabMode($p0);this.$4_43($p0);this._iRibbonTabMode=$p0;var $enum1=ss.IEnumerator.getEnumerator($0);while($enum1.moveNext()){var $1=$enum1.current;if(!this._lstVisibleTabs.contains($1)){var $2=this._mapRibbonItem[$1];var $3=$2.get_elemTabButton();if(ss.isValue($3.parentNode)){$3.parentNode.removeChild($3);}}}$0.clear();},$4_43:function($p0){var $0=this._iActiveTab;var $1=110000;if(this._lstVisibleTabs.length>0){$1=this._lstVisibleTabs[1];}var $2=$1;if(this.$4_44($p0)){if(this._iModeActiveTabId!==-1&&this._lstVisibleTabs.contains(this._iModeActiveTabId)){$2=this._iModeActiveTabId;}this._iModeActiveTabId=$0;}else{if(this._lstVisibleTabs.contains($0)){$2=$0;this._iModeActiveTabId=$0;}else{this._iModeActiveTabId=$0;if($0===$1){this._iModeActiveTabId=-1;}}}$2=($2>0)?$2:$1;if(this.get_setOverrideTabMode()){$2=(this.$4_23>0)?this.$4_23:$2;this.set_setOverrideTabMode(false);}this.setActiveTab($2);},$4_44:function($p0){var $0=0,$1=0;for(var $2=0;$2<this._lstTabModesPriority.length;$2++){if(this._lstTabModesPriority[$2]===this._iRibbonTabMode){$1=$2;}if(this._lstTabModesPriority[$2]===$p0){$0=$2;}}return ($1>=$0)?true:false;},tabHeaderInfo:function(iRibbonTabMode){var $0=this._mapTabMode[iRibbonTabMode];if(ss.isValue($0)){if($0.lstOtherModes.length>0){var $enum1=ss.IEnumerator.getEnumerator($0.lstOtherModes);while($enum1.moveNext()){var $1=$enum1.current;this.setHeaderTabInfo($1,false,false);}}else{this.setHeaderTabInfo(iRibbonTabMode,false,false);}}else{}},ribbonTabMode:function(iRibbonTabMode){var $0=this._mapTabMode[iRibbonTabMode];if(ss.isValue($0)){var $enum1=ss.IEnumerator.getEnumerator($0.lstTabId);while($enum1.moveNext()){var $1=$enum1.current;this.showTabItem($1,false);}}else{}},showTabItem:function(iRibbonTab,bUpdate){var $0=this.getRibbonItemFromId(iRibbonTab);if(ss.isValue($0)&&(Ribbon.RibbonTab).isInstanceOfType($0)){this._lstVisibleTabs.add(iRibbonTab);}},$4_45:function(){var $enum1=ss.IEnumerator.getEnumerator(this.$4_27);while($enum1.moveNext()){var $0=$enum1.current;var $1=$0._elemTabHeader;if(ss.isNullOrUndefined($1.parentNode)){this._elemQatBar.appendChild($1);}}},resizeRibbon:function(){var $0=0,$1=0,$2=0,$3=0;if(this._bTouchMode){$0=Ribbon.BaseRibbonManager.ribboN_QAT_HEIGHT_TOUCH;$1=Ribbon.BaseRibbonManager.ribboN_TAB_BUTTONS_SHRINK_HEIGHT;$2=Ribbon.BaseRibbonManager.ribboN_PANE_HEIGHT_TOUCH;$3=Ribbon.BaseRibbonManager.ribboN_TAB_AREA_TOUCH;}else{$0=Ribbon.BaseRibbonManager.ribboN_QAT_HEIGHT_NORMAL;$1=Ribbon.BaseRibbonManager.ribboN_TAB_BUTTONS_HEIGHT;$2=Ribbon.BaseRibbonManager.ribboN_PANE_HEIGHT_NORMAL;$3=Ribbon.BaseRibbonManager.ribboN_TAB_AREA_NORMAL;}this._elemQatBar.style.height=$0+'px';this._elemTabBar.style.height=$1+'px';this._elemRibbonBar.style.height=$2+8+'px';this._spanTabAreaPart2.style.width=$3+'px';this.set_height($0+$1+((this.$4_37)?($2+10):0));if(this.get_parent().get_visible()){this.get_parent().onSize();}},showActiveTab:function(bShow){var $0=this._mapRibbonItem[this._iActiveTab];var $1=ss.isValue($0)&&(Ribbon.RibbonTab).isInstanceOfType($0);if(bShow){if($1){($0).set_active(true);var $2=$0.get_elementItem();if(ss.isNullOrUndefined($2.parentNode)){if((Ribbon.FileTab).isInstanceOfType($0)){this._spanTabAreaPart1.appendChild($2);}else{this.$4_30.addElement($2);}}}if(this.$4_37){this.$4_5C();}else{if(this._iActiveTab!==this._iFileTab){this.$4_5B();}}this._elemRibbonBar.style.display='';}else{this._iActiveTab=-1;if($1){($0).set_active(false);}this.$4_5C();if(this.$4_37){this._elemRibbonBar.style.display='';}else{this._elemRibbonBar.style.display='none';}}if((Ribbon.RibbonTabForFileTab).isInstanceOfType($0)){this.$4_46(bShow);this.sendMessage('msg_draw_latest_highlighted_item',null,null);}},hideActiveTab:function(){if(!this.get_pin()){this.showActiveTab(false);}},hideFileTab:function(){this.setActiveTab(this._iPrevNormalTab);},$4_46:function($p0){var $0=this._mapRibbonItem[this._iFileTab];if(ss.isNullOrUndefined($0)||!(Ribbon.RibbonTabForFileTab).isInstanceOfType($0)){return;}if($p0){this.$4_29=true;this.$4_5D(true);var $1=Kepler.Engine.Core.EngineApp.get_engine().get_currentApp().getAppView();$1.show(false);this.$4_2A=((this._bTouchMode)?Ribbon.BaseRibbonManager.ribboN_PANE_HEIGHT_TOUCH:Ribbon.BaseRibbonManager.ribboN_PANE_HEIGHT_NORMAL);if(this._strCssRibbonTabContainerBeforeFileTab.search(new RegExp('class_ribbon_filetab_container'))>=0||String.isNullOrEmpty(this._strCssRibbonTabContainerBeforeFileTab)){this._strCssRibbonTabContainerBeforeFileTab=this._elemRibbonBar.className;this._elemRibbonBar.className='class_ribbon_filetab_container';}if(this._oThemeDetails!=null){var $2=this._mapRibbonItem[Ribbon.BaseRibbonManager.qaT_TITLE_ID];if($0.get_text().toUpperCase()==='FILE'){if($2!=null){$2.get_elementItem().style.color=this._oThemeDetails.get_colorFilePageText();}this._elemQatBar.style.backgroundColor=this._oThemeDetails.get_colorBar();this._elemTabBar.style.backgroundColor=this._oThemeDetails.get_colorBar();this.$4_2E.get_elementItem().style.color=this._oThemeDetails.get_colorFilePageText();}}Kepler.Engine.UI.Helper.HtmlCssHelper.setElementDisplay(this._elemFileTabBackBtnCntr,'');Kepler.Engine.UI.Helper.HtmlCssHelper.setElementDisplay(this.$4_2B,'');this._spanTabAreaPart2.style.display='none';this.$4_2F.set_visible(false);this._elemTabBar.style.height=(Ribbon.BaseRibbonManager.ribboN_TAB_BUTTONS_HEIGHT+Ribbon.BaseRibbonManager.heighT_DEF_BACK_BUTTON_CONTAINER)+'px';this.$4_63($0);this.$4_4F(false);($0).setVerScrollTo(0);($0).setHorScrollTo(0);this.$4_4E($0);this.$4_66($p0);this.resizeDocumentTitle();this.set_preFocusedCtrl(this.getFocus());this.setFocus();this.onMsgSetFocus($0.get_listRibbonItems()[0],null);if(this._eleHomeSignInCntr.contains(this._eleSignIn)){this._eleHomeSignInCntr.removeChild(this._eleSignIn);}if(ss.isNull(this._eleSignIn.parentNode)){this.$4_2B.appendChild(this._eleSignIn);}if(Kepler.Engine.Core.EngineApp.get_engine().get_taskMaster().get_isAccessibility()){var $3='File menu, in Back stage view, on Info tab, press up or down arrow keys to navigate in Backstage view';Kepler.Framework.Accessibility.AccessibilitySupport.get_instance().setRole('label');Kepler.Framework.Accessibility.AccessibilitySupport.get_instance().setAccessibilitySpeech($3);Kepler.Framework.Accessibility.AccessibilitySupport.get_instance().setFocusOnAccessibilityElement();}this.$4_29=false;}else{this.$4_5D(false);this.$4_2F.set_visible(true);if(this._oThemeDetails!=null){var $6=this._mapRibbonItem[Ribbon.BaseRibbonManager.qaT_TITLE_ID];if($6!=null){$6.get_elementItem().style.color=this._oThemeDetails.get_colorBarText();}this._elemQatBar.style.backgroundColor=this._oThemeDetails.get_colorTabAndHeader();this._elemTabBar.style.backgroundColor=this._oThemeDetails.get_colorTabAndHeader();this.$4_2E.get_elementItem().style.color=this._oThemeDetails.get_colorBarText();}this._elemTabBar.style.height=Ribbon.BaseRibbonManager.ribboN_TAB_BUTTONS_HEIGHT+'px';var $4=Kepler.Engine.Core.EngineApp.get_engine().get_currentApp().getAppView();$4.show(true);this.onMsgResetFocus(null,null);$4.setFocus();this.set_preFocusedCtrl(null);this._oFocusRbnItem=null;this._spanTabAreaPart2.style.display='';this.resizeRibbon();var $5=this._elemRibbonBar.className;if($5.search(new RegExp('class_ribbon_filetab_container'))>=0){this._elemRibbonBar.className=this._strCssRibbonTabContainerBeforeFileTab;this._strCssRibbonTabContainerBeforeFileTab='';}this.$4_4F(true);this.$4_66($p0);Kepler.Engine.UI.Helper.HtmlCssHelper.setElementVisibility(this._elemTabBar,'');Kepler.Engine.UI.Helper.HtmlCssHelper.setElementDisplay(this._elemFileTabBackBtnCntr,'none');Kepler.Engine.UI.Helper.HtmlCssHelper.setElementDisplay(this.$4_2B,'none');if(this.$4_2B.contains(this._eleSignIn)){this.$4_2B.removeChild(this._eleSignIn);}if(ss.isNull(this._eleSignIn.parentNode)){this._eleHomeSignInCntr.appendChild(this._eleSignIn);}this.resizeDocumentTitle();}},setFileTabActive:function(bShow){if(this.get_isFileTabActive()&&!bShow){this.setActiveTab(this._iFileTab);}if(!this.get_isFileTabActive()&&bShow){this.setActiveTab(this._iFileTab);}},setFocusOnRbnItem:function(oRbnItem,mouseEventArgs){var $0=null;if(oRbnItem!==this._oFocusRbnItem&&!this.checkItemIsFocused(oRbnItem)){$0=this._oFocusRbnItem;if(ss.isValue($0)){var $2=(ss.isValue(oRbnItem))?oRbnItem.get_id().toString():'-1';if($2.length>6){$2=$2.substr(0,6);}if(parseInt($2)!==this._oFocusRbnItem.get_id()){this.onMsgResetFocus(null,null);$0.onKillFocus();}}}this._oFocusRbnItem=null;var $1=false;$0=oRbnItem;if(ss.isValue($0)&&!!$0.get_enabled()){var $3=(Ribbon.EditableRibbonItem).isInstanceOfType($0)||(Ribbon.BaseTextBox).isInstanceOfType($0);if($3&&!this.get_isFileTabActive()){this._oFocusRbnItem=oRbnItem;if((Kepler.Framework.UI.Events.EventArgsNs.MouseEventArgs).isInstanceOfType(mouseEventArgs)){$0.onSetFocus(mouseEventArgs);}else{$0.onSetFocus(null);}if(!!$0.get_focus()){if(this.getFocus()!==this){this.set_preFocusedCtrl(this.getFocus());this.setFocus();}$1=true;}else{this._oFocusRbnItem=null;}}if(ss.isValue(mouseEventArgs)&&this._bAltMode&&!this.get_isFileTabActive()){this._bAltMode=false;this.setFocusToView();$1=true;}if((Ribbon.RibbonTabForFileTab).isInstanceOfType($0)||this.get_isFileTabActive()||this._bAltMode){if(this.getFocus()!==this){this.set_preFocusedCtrl(this.getFocus());this.setFocus();}var $4=true;if((Ribbon.EditableRibbonItem).isInstanceOfType(oRbnItem)||(Ribbon.BaseTextBox).isInstanceOfType(oRbnItem)){if((Kepler.Framework.UI.Events.EventArgsNs.MouseEventArgs).isInstanceOfType(mouseEventArgs)){oRbnItem.onSetFocus(mouseEventArgs);}else{oRbnItem.onSetFocus(null);}$4=false;if(!!oRbnItem.get_focus()){$4=true;}}if($4){oRbnItem.changeState(Kepler.Framework.UI.Controls.EItemState.ePressed,oRbnItem.get_elementItem());while(ss.isValue(oRbnItem.get_parentRibbonItem())){oRbnItem.get_parentRibbonItem().set_focusedRbnItem(oRbnItem);oRbnItem=oRbnItem.get_parentRibbonItem();}this._oFocusRbnItem=oRbnItem;}$1=true;}}if(!$1&&(Kepler.Engine.UI.BaseAppFrame).isInstanceOfType(mouseEventArgs)&&((mouseEventArgs))===Kepler.Engine.Core.EngineApp.get_engine().get_$1_D().getAppFrame()){Kepler.Engine.Core.EngineApp.get_engine().getCurrentAppView().setFocus();}else if(!$1){this.setFocusToPreFocusedCtrl();}},setFocusToPreFocusedCtrl:function(){this._bAltMode=false;if(!this.get_isFileTabActive()){this.setFocusToView();}else{this.setFocus();}},onPretranslateEvent:function(sender,eventArgs){if(eventArgs.get_categoryType()===Kepler.Framework.UI.Events.EventArgsNs.EventCategoryType.key){if(!Kepler.Engine.Core.EngineApp.get_engine().get_isShowMe()&&eventArgs.get_type()===Kepler.Framework.UI.Events.EventArgsNs.EventType.keyDown&&(eventArgs).get_key()===Kepler.Framework.UI.Events.EventArgsNs.Keys.f7&&(eventArgs).get_ctrlKey()&&!(eventArgs).get_shiftKey()&&!(eventArgs).get_altKey()){return Kepler.Engine.Core.EngineApp.get_engine().get_$1_D().getAppFrame().sendMessage('msg_set_focus_on_player',this.get_focusItem(),this);}if(!Kepler.Engine.Core.EngineApp.get_engine().get_isTutorial()){if(eventArgs.get_type()===Kepler.Framework.UI.Events.EventArgsNs.EventType.keyDown){if(this.get_isFileTabActive()){if((eventArgs).get_key()===Kepler.Framework.UI.Events.EventArgsNs.Keys.menu){return Kepler.Engine.UI.Engine$1D.get_$4_2().$4_D(eventArgs);}else if((eventArgs).get_key()===Kepler.Framework.UI.Events.EventArgsNs.Keys.escape){this.setActiveTab(this._iFileTab);}}else{if((eventArgs).get_key()===Kepler.Framework.UI.Events.EventArgsNs.Keys.menu){if(this.getFocus()!==this){this.setFocusToView();}}else if((eventArgs).get_key()===Kepler.Framework.UI.Events.EventArgsNs.Keys.escape&&this._bAltMode){this.setFocusToView();}}}}}return Ribbon.BaseRibbonManager.callBaseMethod(this, 'onPretranslateEvent',[sender,eventArgs]);},getActiveTab:function(){var $0=this._mapRibbonItem[this._iActiveTab];if(!(ss.isValue($0)&&(Ribbon.RibbonTab).isInstanceOfType($0))){$0=null;}return $0;},setActiveTab:function(iTabID){var $0=this.$4_48(iTabID);if($0){return;}else{var $1=this._mapRibbonItem[iTabID];if(ss.isNullOrUndefined($1)||!(Ribbon.RibbonTab).isInstanceOfType($1)){}this.$4_49($1);if(ss.isValue($1)){$1.miscCtrScroll();}}Kepler.Engine.Core.EngineApp.get_engine().getCurrentAppView().sendMessage('show_hide_controls',null,!this.get_isFileTabActive());},$4_47:function($p0){if(ss.isValue($p0)){var $enum1=ss.IEnumerator.getEnumerator($p0.get_precacheImages());while($enum1.moveNext()){var $0=$enum1.current;this.addImage($0,null);}(this.get_parent()).precacheImages(ss.Delegate.create(this,this.$4_4A));}},$4_48:function($p0){var $0=false;if(ss.isNullOrUndefined($p0)){$0=true;}else if($p0===this._iActiveTab&&$p0===this._iFileTab){if(this.$4_37){var $1=this.getPreviousActiveTab();if($1===-1){$0=false;}else{this.setActiveTab($1);$0=true;}}else{this.hideActiveTab();$0=true;}}else if($p0===this._iActiveTab){$0=true;}return $0;},$4_49:function($p0){if(ss.isNullOrUndefined($p0)||!(Ribbon.RibbonTab).isInstanceOfType($p0)){return;}if(ss.isValue(this._oFocusRbnItem)){this._oFocusRbnItem.changeState(Kepler.Framework.UI.Controls.EItemState.eNormal,this._oFocusRbnItem.get_elementItem());}this._oFocusRbnItem=$p0;this.$4_22=$p0.get_id();if(this._bTouchMode!==$p0.get_touchMode()&&$p0.get_id()!==this._iFileTab){$p0.toggleMode(this._bTouchMode);}$p0.$14(this.get_width());if(this._bParsingDone){this.$4_47($p0);}else{this.$4_4A();}},$4_4A:function(){var $0=this._iActiveTab;this.showActiveTab(false);this._iActiveTab=this.$4_22;this.showActiveTab(true);var $1=this.getActiveTab();this.scrollToTab($1);this.$4_30.set_scrollWidth($1.get_totalWt()+this.$4_1D);this.$4_30.scrollToStart();this._iActiveTab=$1.get_id();if(!$1.toString().compareTo('RibbonTab',false)){this._iPrevNormalTab=this._iActiveTab;}var $enum1=ss.IEnumerator.getEnumerator($1.get_listRibbonItems());while($enum1.moveNext()){var $2=$enum1.current;if($2.isRbnItemHighlighted($2.get_highlight())){if($2.get_shrinkable()){this.$4_30.refreshScroller();$2.drawHighlightedState();}break;}}},getPreviousActiveTab:function(){var $0=-1;var $1=null;if(ss.isValue($1=this._mapRibbonItem[this._iPrevTab])&&(Ribbon.RibbonTab).isInstanceOfType($1)&&$1.get_visible()){$0=this._iPrevTab;}else if(ss.isValue($1=this._mapRibbonItem[this._iPrevNormalTab])&&(Ribbon.RibbonTab).isInstanceOfType($1)&&$1.get_visible()){$0=this._iPrevNormalTab;}return $0;},addTab:function(oRibbonTab){if(ss.isNullOrUndefined(oRibbonTab)){return;}if(Type.getInstanceType(oRibbonTab)===Ribbon.FileTab){this._iFileTab=oRibbonTab.get_id();}this._lstRibbonTabs.add(oRibbonTab);},$4_4B:function($p0,$p1){var $0=$p0;if((Kepler.Engine.UI.Controls.HScrollBar).isInstanceOfType($p1)){this._imgbtnFileTabBack.set_left($0);Kepler.Engine.UI.Helper.HtmlCssHelper.setElementLeft(this._elemFileTabBackBtnCntr,(-$0).toString());}return null;},repositionTabs:function(){var $0=0;var $1=0;var $2=false;var $3=null;var $4=null;var $enum1=ss.IEnumerator.getEnumerator(this._lstVisibleTabs);while($enum1.moveNext()){var $5=$enum1.current;var $6=this._mapRibbonItem[$5];if((Ribbon.FileTab).isInstanceOfType($6)){continue;}var $7;$7=$6.get_rectangleMouse();$3=this.$4_4D($6.get_id());$2=ss.isValue($3)&&$3===$4;if($2){$0-=2;}$6.get_elemTabButton().style.left=$0+'px';$6.get_elemTabButton().style.top=$1+'px';$6.move($0,$1,false);$0+=($7.get_width()+4);$4=$3;}this.$4_2F.addElement(this._eleHomeSignInCntr);this._eleHomeSignInCntr.style.left=$0+'px';this.$4_2F.set_scrollWidth($0+Ribbon.BaseRibbonManager.ribboN_AUTHOR_SIGNIN_WIDTH-2);this.$4_4C();},$4_4C:function(){var $enum1=ss.IEnumerator.getEnumerator(this.$4_27);while($enum1.moveNext()){var $0=$enum1.current;var $1=$0._lstSpecialTabs[0];if(Object.keyExists(this._mapRibbonItem,$1)&&(Ribbon.RibbonTab).isInstanceOfType(this._mapRibbonItem[$1])){var $2=this._mapRibbonItem[$1];$0._elemTabHeader.style.left=parseInt($2.get_elemTabButton().style.left,10)+this.$4_2F.get_rectangleMouse().get_left()+'px';}}},setTabHeaderInfo:function(iRibbonTabMode){var $0=this.$4_27.clone();this.$4_27.clear();this.tabHeaderInfo(iRibbonTabMode);var $enum1=ss.IEnumerator.getEnumerator($0);while($enum1.moveNext()){var $1=$enum1.current;if(!this.$4_27.contains($1)){var $2=$1._elemTabHeader;if(ss.isValue($2.parentNode)){$2.parentNode.removeChild($2);}}}$0.clear();},$4_4D:function($p0){var $0=this._mapRibbonItem[$p0];if(ss.isValue($0)&&(Ribbon.RibbonTab).isInstanceOfType($0)){var $1=$0;if($1.get_specialTab()){var $enum1=ss.IEnumerator.getEnumerator(this.$4_27);while($enum1.moveNext()){var $2=$enum1.current;if($2._lstSpecialTabs.contains($p0)){return $2;}}}}return null;},getTtLaunchPt:function(element,ptMouse){var $0=null;var $1=this.fetchRibbonPane(this._oCurRbnItem);if(ss.isValue($1)){$0=ptMouse.clone();var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientPosition(element);if($2!=null){$0.set_x($2.get_x());}if(ss.isValue($1)){var $3=($1.get_droppedState())?$1.get_elementItem():$1.$1E();if(ss.isValue($3)){var $4=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientRect($3);$0.set_y($4.get_bottom()+4);}}}return $0;},setInnerHtmlForRibbonTabs:function(){var $enum1=ss.IEnumerator.getEnumerator(this._lstVisibleTabs);while($enum1.moveNext()){var $0=$enum1.current;var $1=this._mapRibbonItem[$0];if(ss.isValue($1)){if(ss.isNullOrUndefined($1.get_elemTabButton().parentNode)){if((Ribbon.FileTab).isInstanceOfType($1)){this._elemTabBar.appendChild($1.get_elemTabButton());this.$4_2F.setLeft($1.get_rectangleMouse().get_width()+4);}else{this.$4_2F.addElement($1.get_elemTabButton());}}}var $2=this._oThemeDetails;this._elemRibbonBar.style.backgroundColor=$2.get_colorBar();if(!ss.isValue(this.getActiveTab())||this.getActiveTab().get_text().toUpperCase()!=='FILE'){this._elemTabBar.style.backgroundColor=$2.get_colorTabAndHeader();this._elemQatBar.style.backgroundColor=$2.get_colorTabAndHeader();}else{this._elemTabBar.style.backgroundColor=$2.get_colorBar();this._elemQatBar.style.backgroundColor=$2.get_colorBar();}if($2.get_themeType()!==Kepler.Framework.UI.ThemeType.white){this.$4_2E.get_elementItem().style.color=$2.get_colorBarText();}}var $enum2=ss.IEnumerator.getEnumerator(this._lstRibbonTabs);while($enum2.moveNext()){var $3=$enum2.current;if($3.get_visible()){$3.drawItem(null);}}this._elemTabBar.appendChild(this.$4_2F.get_elementItem());},$4_4E:function($p0){var $enum1=ss.IEnumerator.getEnumerator($p0.get_listRibbonItems());while($enum1.moveNext()){var $0=$enum1.current;if((Ribbon.RibbonTabContainer).isInstanceOfType($0)){var $1=$0;$1.setActiveTab($1.get_defaultTabID());this.$4_4E($0);}if((Ribbon.RibbonTabForFileTab).isInstanceOfType($0)){this.$4_4E($0);var $2=$0;if($2.get_checked()){$2.set_checked(true);}}}},iterateVisibleTabItems:function(callback){var $0;var $1=-1;for(var $2=0;$2<this._lstVisibleTabs.length;$2++){$1=this._lstVisibleTabs[$2];if($1===10000000){continue;}$0=this.getRibbonItemFromId($1);var $enum1=ss.IEnumerator.getEnumerator($0.getPanes());while($enum1.moveNext()){var $3=$enum1.current;var $enum2=ss.IEnumerator.getEnumerator($3.getRibbonItems());while($enum2.moveNext()){var $4=$enum2.current;callback($0,$3,$4);}}}},$4_4F:function($p0){var $0=($p0)?'':'hidden';var $enum1=ss.IEnumerator.getEnumerator(this._lstQatButtons);while($enum1.moveNext()){var $2=$enum1.current;if(ss.isValue($2)){if($2.get_id()===Ribbon.BaseRibbonManager.qaT_TITLE_ID){break;}$2.get_elementItem().style.visibility=$0;}}var $1=this.getRibbonItemFromId(1011);if(ss.isValue($1)){$1.set_visible($p0);}this.resizeDocumentTitle();},addQatButton:function(oQatButton){if(ss.isNullOrUndefined(oQatButton)){return;}this._lstQatButtons.add(oQatButton);},repositionQatButtons:function(){var $0=4;var $1=this._lstQatButtons.length;var $2=0;var $3=null;for(;$2<$1;$2++){$3=this._lstQatButtons[$2];$3.get_elementItem().style.position='relative';$3.get_elementItem().style.cssFloat='left';$3.get_elementItem().style.marginLeft=(this._bTouchMode||!$2)?'':$0+'px';if($3.get_id()===Ribbon.BaseRibbonManager.qaT_TITLE_ID){break;}}for(var $4=$2+1;$4<$1;$4++){$3=this._lstQatButtons[$4];$3.get_elementItem().style.position='relative';$3.get_elementItem().style.cssFloat='right';$3.get_elementItem().style.marginRight=(this._bTouchMode)?'4px':'';}},$4_50:function(){var $0=null;var $1=this.get_width();var $enum1=ss.IEnumerator.getEnumerator(this.$4_27);while($enum1.moveNext()){var $2=$enum1.current;var $3=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientPosition($2._elemTabHeader).get_x();if($3<$1){$1=$3;$0=$2;}}return $0;},setInnerHtmlForQatButtons:function(){var $enum1=ss.IEnumerator.getEnumerator(this._lstQatButtons);while($enum1.moveNext()){var $0=$enum1.current;if(ss.isNullOrUndefined($0.get_elementItem().parentNode)){this._elemQatBar.appendChild($0.get_elementItem());}}this.repositionQatButtons();var $enum2=ss.IEnumerator.getEnumerator(this._lstQatButtons);while($enum2.moveNext()){var $1=$enum2.current;if($1.get_visible()){$1.drawItem(null);}}},setData:function(mapData){this.set_parseViewDone(false);this.set_parseRbnDone(false);this.set_overrideTabGiven(false);this._iModeActiveTabId=-1;this.get_parent().sendMessage('msg_hide_pane_as_menu',null,null);this.$4_52(mapData);this._bTutStepsTagPresent=Object.keyExists(mapData,'tut_steps');Ribbon.BaseRibbonManager.callBaseMethod(this, 'setData',[mapData]);var $0=this.createOverridesForMiniToolbar();var $1=this.createActionForMiniToolbar();this.get_parent().sendMessage('msg_setdata_minitoolbar',$0,$1);var $2='';var $3='';if(ss.isNullOrUndefined(mapData)){return;}$2=mapData['ribbon_tab_mode'];$2=(ss.isValue($2)&&$2.length>0)?$2:(0).toString();this._iOverrideTabMode=parseInt($2,10);this.setRibbonTabMode(parseInt($2,10));this.$4_51(mapData);if(!this.get_pin()&&!this.get_isFileTabActive()){this.hideActiveTab();}$2=mapData['title'];if(ss.isValue($2)){this.$4_57($2);}this.set_parseRbnDone(true);},autoHighlight:function(){var $0=-1;var $1=null;var $2=null;var $dict1=this._mapOverrideState;for(var $key2 in $dict1){var $3={key:$key2,value:$dict1[$key2]};$0=$3.key;$1=$3.value;$2=this.getRibbonItemFromId($0);if(ss.isValue($2)&&!(Type.canCast($2,Ribbon.RibbonTab))&&!(Type.canCast($2,Ribbon.RibbonPane))&&$2.isRbnItemHighlighted($1.get_highlighted())){var $4=this.fetchRibbonPane($2);if(ss.isValue($4)&&!$4.isRbnItemHighlighted($4.get_highlight())){this.autoHighlightItem($4.get_id(),10000,1);}var $5=this.fetchRibbonTab($2);if(ss.isValue($5)&&!$5.isRbnItemHighlighted($5.get_highlight())&&(!this.$4_37&&this._iActiveTab!==$5.get_id())){var $6=$5.get_id();this.autoHighlightItem($6,-1,1);var $7=new Ribbon.ItemAction();$7.set_id($6);$7.set_index(-1);$7.set_checkWithViewInBool(false);this._lstAction.add($7);}break;}}},$4_51:function($p0){var $0=$p0['ribbon_active_tab'];if(ss.isValue($0)&&$0.length>0){var $1=parseInt($0,10);var $2=false;if(!this.$4_37){if(this.get_isFileTabActive()){this.hideActiveTab();$2=true;}else{if($1!==this._iFileTab){$2=true;}}}if($2){return;}this.set_overrideTabGiven(true);this.$4_23=$1;this.setActiveTab($1);}else{$0=$p0['file_tab_visible'];if(ss.isValue($0)&&$0.length>0){var $3=(parseInt($0)>0)?true:false;if($3){if(this._iActiveTab!==this._iFileTab){this.setActiveTab(this._iFileTab);}}else{if(this._iActiveTab===this._iFileTab){this.setActiveTab(this._iFileTab);}}}}},$4_52:function($p0){this.parseOverridesMiscCtrl($p0);this.$4_53(this.$4_24);},$4_53:function($p0){if(ss.isNullOrUndefined($p0)){return;}var $dict1=$p0;for(var $key2 in $dict1){var $0={key:$key2,value:$dict1[$key2]};var $1=$0.key;var $2=$p0[$1];if(ss.isValue($2)){this.$4_54($1,$2);}}},$4_54:function($p0,$p1){var $0=this._mapRibbonItem[$p0];if(ss.isNullOrUndefined($0)){return;}$0.$25();$0.setMiscItemSize($p1._iItemWidth,$p1._iItemHeight,$p1._iImageWidth,$p1._iImageHeight,$p1._ptImgPosition);var $1=!String.isNullOrEmpty($p1._strItemsImgCls);var $2=($1)?$p1._strItemsImgCls.split(Kepler.Framework.Core.Seperators.v_CROSS):null;var $3=$p1._strAccelerator.split(Kepler.Framework.Core.Seperators.doublE_CROSS);var $4=ss.isNullOrUndefined($p1._ptImgPosition);$0.set_imageClass($p1._strImageCls);for(var $5=0;$5<$p1._iItemCount;$5++){$0.addMiscCtrlItem($p1._lstTooltipParams[$5],-1,($4)?null:((ss.isValue($p1._lstItemImgPos[$5]))?$p1._lstItemImgPos[$5]:null));}$0.evaluateNoOfItems();$0.enableDisableBtn();},parseOverridesMiscCtrl:function(mapData){var $0=12;var $1=0;this.$4_56(this.$4_24);Object.clearKeys(this.$4_24);var $2=Kepler.Engine.Core.TaitHelper.parseCountDataTags(mapData,this._strTaitPrefix+'_miscctrl_format_override_count',this._strTaitPrefix+'_miscctrl_format_override_data');if(ss.isValue($2)){var $enum1=ss.IEnumerator.getEnumerator($2);while($enum1.moveNext()){var $3=$enum1.current;$1=0;var $4=new Ribbon.MiscCtrlItemState();var $5=$3.split(Kepler.Framework.Core.Seperators.miD_DOT,$0);$4._iId=parseInt($5[$1++],10);$4._strImageCls=$5[$1++];var $6,$7;$6=$5[$1++].split(Kepler.Framework.Core.Seperators.v_CROSS,2);$7=$5[$1++].split(Kepler.Framework.Core.Seperators.v_CROSS,2);$4._iImageWidth=parseInt($6[0],10);if($6.length>1){$4._iItemWidth=parseInt($6[1],10);}$4._iImageHeight=parseInt($7[0],10);if($7.length>1){$4._iItemHeight=parseInt($7[1],10);}$4._iItemCount=parseInt($5[$1++],10);if(!String.isNullOrEmpty($5[$1])){var $8=$5[$1].split(Kepler.Framework.Core.Seperators.doublE_CROSS,$4._iItemCount);var $enum2=ss.IEnumerator.getEnumerator($8);while($enum2.moveNext()){var $9=$enum2.current;var $A=$9.split(Kepler.Framework.Core.Seperators.v_CROSS,3);if($A.length===3){$4._lstTooltipParams.add(new Kepler.Engine.UI.Controls.Tooltip.Tooltip_Params(parseInt($A[0],10),$A[1],$A[2]));}else if($A.length===1){$4._lstTooltipParams.add(new Kepler.Engine.UI.Controls.Tooltip.Tooltip_Params(Kepler.Engine.UI.Controls.Tooltip.ETooltipTypes.simplE_DESCR,$A[0],null));}}}$1++;if($5.length>=7){if(!String.isNullOrEmpty($5[$1])){var $B=$5[$1].split(Kepler.Framework.Core.Seperators.doublE_CROSS,2);$4._strAccelerator=$B[0];if($B.length>1){$4._strShortCut=$B[1];}}}$1++;$4._ptImgPosition=new Kepler.Framework.UI.Point(0,0);this.$4_55($4._iId);this.$4_24[$4._iId]=$4;}}},getContName:function(oItem){var $0='';if(oItem.get_id()>=this._iFileTab&&!(Type.canCast(oItem,Ribbon.Engine$15))){$0='Backstage';}else{$0=Ribbon.BaseRibbonManager.callBaseMethod(this, 'getContName',[oItem]);}return $0;},$4_55:function($p0){var $0=this._mapRibbonItem[$p0];if(ss.isNullOrUndefined($0)){return;}var $1=new Ribbon.MiscCtrlItemState();$1._ptImgPosition=$0.get_imagePoint();var $2=ss.isNullOrUndefined($1._ptImgPosition);$1._iImageWidth=$0.get_imageWidth();$1._iImageHeight=$0.get_imageHeight();$1._iItemWidth=$0.get_itemWidth();$1._iItemHeight=$0.get_itemHeight();$1._iItemCount=$0.get_listRibbonItems().length-3;var $3='';var $4=$0.get_imageClass();var $5='';var $6=$0.get_listRibbonItems();for(var $7=3;$7<$6.length;$7++){var $8=$6[$7];$1._lstTooltipParams.add($8.get_ttParamList()[0]);if(!String.compare($4,$8.get_imageClass(),false)){$5+=(''+Kepler.Framework.Core.Seperators.v_CROSS);}else{$4=$8.get_imageClass();$5+=($4+Kepler.Framework.Core.Seperators.v_CROSS);}if(!$2){$1._lstItemImgPos.add(new Kepler.Framework.UI.Point(-$8.get_$F().get_left(),-$8.get_$F().get_top()));}$3.remove($3.length-1,1);$5.remove($5.length-1,1);}$1._strAccelerator=$3;$1._strItemsImgCls=$5;$1._strImageCls=$0.get_imageClass();this.$4_25[$p0]=$1;},$4_56:function($p0){if(ss.isNullOrUndefined($p0)){return;}var $dict1=$p0;for(var $key2 in $dict1){var $0={key:$key2,value:$dict1[$key2]};var $1=$0.key;var $2=this.$4_25[$1];if(ss.isValue($2)){this.$4_54($1,$2);}}},$4_57:function($p0){var $0=this._mapRibbonItem[this.infO_TITLE_ID];if(ss.isValue($0)){$0.set_text($p0);$0.reflectText();}$0=this._mapRibbonItem[this.sharE_TITLE_ID];if(ss.isValue($0)){$0.set_text($p0);$0.reflectText();}$0=this._mapRibbonItem[Ribbon.BaseRibbonManager.qaT_TITLE_ID];if(ss.isValue($0)){var $1=Kepler.Engine.Core.EngineApp.get_engine().get_currentApp().get_appName().toLowerCase();if($1==='powerpoint'){$1='PowerPoint';}else{$1=$1.substr(0,1).toUpperCase()+$1.substr(1,$1.length-1);}if(String.isNullOrEmpty($p0)){$p0=$1;}else{$p0=String.format('{0}',$p0);}$0.set_text($p0);$0.reflectText();this.$4_3C=$p0;}},setHeaderTabInfo:function(iMode,bNew,bUpdate){var $0=this._mapTabHeaderInfo[iMode];if(ss.isValue($0)){this.$4_27.add($0);}},createRibbonDiv:function(){this._elemQatBar=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div','ribbon_qat','relative',null,null,null,null,null,null);Kepler.Engine.UI.Helper.HtmlCssHelper.setElementWidth(this._elemQatBar,'100%');this._elemQatBar.style.lineHeight='0px';this._elemTabBar=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div','ribbon_tab_buttons','relative',null,null,null,null,'class_ribbon_font',null);Kepler.Engine.UI.Helper.HtmlCssHelper.setElementWidth(this._elemTabBar,'100%');this._elemFileTabBackBtnCntr=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div','ribbon_filetab_back_cntr','absolute',0,0,null,Ribbon.BaseRibbonManager.ribboN_TAB_BUTTONS_HEIGHT,'class_ribbon_filetab_back_cntr',null);Kepler.Engine.UI.Helper.HtmlCssHelper.setElementWidth(this._elemFileTabBackBtnCntr,'122px');Kepler.Engine.UI.Helper.HtmlCssHelper.setElementBackgroundColor(this._elemFileTabBackBtnCntr,this._oThemeDetails.get_colorNormal());Kepler.Engine.UI.Helper.HtmlCssHelper.setElementDisplay(this._elemFileTabBackBtnCntr,'none');this.add(this._imgbtnFileTabBack,this._elemFileTabBackBtnCntr);this._elemRibbonBar=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div','ribbon_tab','relative',null,null,null,null,'class_ribbon_tab_container',null);Kepler.Engine.UI.Helper.HtmlCssHelper.setElementWidth(this._elemRibbonBar,'100%');this._spanTabAreaPart1=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('span',null,null,null,null,null,null,'class_tab_area1 ',null);this._elemRibbonBar.appendChild(this._spanTabAreaPart1);this._spanTabAreaPart2=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('span',null,null,null,null,null,null,'class_tab_area2 ',null);this._elemRibbonBar.appendChild(this._spanTabAreaPart2);var $0=(this._bTouchMode)?Ribbon.BaseRibbonManager.ribboN_QAT_HEIGHT_TOUCH:Ribbon.BaseRibbonManager.ribboN_QAT_HEIGHT_NORMAL;this.$4_2B=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div','ribbon_filetab_sign_id','absolute',0,$0,Ribbon.BaseRibbonManager.ribboN_AUTHOR_SIGNIN_WIDTH,Ribbon.BaseRibbonManager.ribboN_AUTHOR_IMAGE_H_W,'class_ribbon_filetab_sign_id',null);Kepler.Engine.UI.Helper.HtmlCssHelper.setElementDisplay(this.$4_2B,'none');this.$4_2B.style.left='';this.$4_2B.style.right='0px';this._eleHomeSignInCntr=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div','ribbon_hometab_sign_id','absolute',0,0,null,Ribbon.BaseRibbonManager.ribboN_AUTHOR_IMAGE_H_W,'',null);this._eleHomeSignInCntr.style.minWidth=Ribbon.BaseRibbonManager.ribboN_AUTHOR_SIGNIN_WIDTH+'px';this._eleSignIn=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div','ribbon_sign_id','absolute',0,0,null,Ribbon.BaseRibbonManager.ribboN_AUTHOR_IMAGE_H_W,'',null);Kepler.Engine.UI.Helper.HtmlCssHelper.setElementWidth(this._eleSignIn,'100%');this._elemRibbonContainer=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div','ribbon',null,0,0,null,null,null,null);Kepler.Engine.UI.Helper.HtmlCssHelper.setElementWidth(this._elemRibbonContainer,'100%');Kepler.Engine.UI.Helper.HtmlCssHelper.setElementHeight(this._elemRibbonContainer,'100%');this._elemRibbonContainer.appendChild(this._elemQatBar);this._elemRibbonContainer.appendChild(this._elemTabBar);this._elemRibbonContainer.appendChild(this._elemFileTabBackBtnCntr);this._elemRibbonContainer.appendChild(this.$4_2B);this._elemRibbonContainer.appendChild(this._elemRibbonBar);this.get_element().appendChild(this._elemRibbonContainer);},mapRbnToMiniToolbar:function(iRibbonId,lstMiniToolbar){if(iRibbonId!==-1&&ss.isValue(lstMiniToolbar)){if(Object.keyExists(this._mapRbnToMiniToolbar,iRibbonId)){var $0=this._mapRbnToMiniToolbar[iRibbonId];var $enum1=ss.IEnumerator.getEnumerator(lstMiniToolbar);while($enum1.moveNext()){var $1=$enum1.current;$0.add($1);}}else{this._mapRbnToMiniToolbar[iRibbonId]=lstMiniToolbar;}}},updateRibbon:function(obj){},updateRibbonDialogMap:function(obj){this._mapDynamicDialogLaunchingRibbonItem=obj;},createOverridesForMiniToolbar:function(map){var $0={};var $1=-1;var $2=null;var $3=null;var $4=0!==this.get_parent().sendMessage('eONDetectMode',null,null);map=(ss.isNullOrUndefined(map))?this._mapOverrideState:map;var $dict1=map;for(var $key2 in $dict1){var $5={key:$key2,value:$dict1[$key2]};$1=$5.key;$3=$5.value.clone();$3.set_highlighted(1000);if(ss.isValue(($2=this._mapRbnToMiniToolbar[$1]))){var $enum3=ss.IEnumerator.getEnumerator($2);while($enum3.moveNext()){var $6=$enum3.current;$0[$6]=$3;}}}return $0;},createActionForMiniToolbar:function(lst){var $0=[];if(0===this.get_parent().sendMessage('eONDetectMode',null,null)){var $1=-1;var $2=null;lst=(ss.isNullOrUndefined(lst))?this._lstAction:lst;var $enum1=ss.IEnumerator.getEnumerator(lst);while($enum1.moveNext()){var $3=$enum1.current;$1=$3.get_id();if(ss.isValue(($2=this._mapRbnToMiniToolbar[$1]))){var $enum2=ss.IEnumerator.getEnumerator($2);while($enum2.moveNext()){var $4=$enum2.current;var $5=$3.clone();$5.set_id($4);$0.add($5);}}}}return $0;},$4_58:function(){this.set_pin(!this.get_pin());},toggleTouchMode:function(bMode){Ribbon.BaseRibbonManager.callBaseMethod(this, 'toggleTouchMode',[bMode]);this.$4_59(bMode);var $enum1=ss.IEnumerator.getEnumerator(this._lstQatButtons);while($enum1.moveNext()){var $1=$enum1.current;$1.toggleMode(bMode);}this.resizeDocumentTitle();var $0=this.getActiveTab();if(ss.isValue($0)){$0.toggleMode(bMode);$0.$14(this.get_width());this.$4_30.set_scrollWidth($0.get_totalWt()+this.$4_1D);}this.$4_30.toggleMode(bMode);this.$4_30.setWidth(this.get_width()-((bMode)?Ribbon.BaseRibbonManager.ribboN_TAB_AREA_TOUCH:Ribbon.BaseRibbonManager.ribboN_TAB_AREA_NORMAL));},$4_59:function($p0){this._elemQatBar.style.height=(($p0)?Ribbon.BaseRibbonManager.ribboN_QAT_HEIGHT_TOUCH:Ribbon.BaseRibbonManager.ribboN_QAT_HEIGHT_NORMAL)+'px';this._elemRibbonBar.style.height=(($p0)?Ribbon.BaseRibbonManager.ribboN_PANE_HEIGHT_TOUCH:Ribbon.BaseRibbonManager.ribboN_PANE_HEIGHT_NORMAL)+8+'px';this.resizeRibbon();},onUnload:function(){var $enum1=ss.IEnumerator.getEnumerator(this._lstQatButtons);while($enum1.moveNext()){var $0=$enum1.current;$0.dispose();}this._lstQatButtons.clear();var $enum2=ss.IEnumerator.getEnumerator(this._lstRibbonTabs);while($enum2.moveNext()){var $1=$enum2.current;$1.dispose();}this._lstRibbonTabs.clear();var $dict3=this._mapTabHeaderInfo;for(var $key4 in $dict3){var $2={key:$key4,value:$dict3[$key4]};$2.value._elemTabHeader=null;}Object.clearKeys(this._mapTabHeaderInfo);if(ss.isValue(this._elemQatBar.parentNode)){this._elemQatBar.parentNode.removeChild(this._elemQatBar);}if(ss.isValue(this._elemTabBar.parentNode)){this._elemTabBar.parentNode.removeChild(this._elemTabBar);}if(ss.isValue(this._elemFileTabBackBtnCntr.parentNode)){this._elemFileTabBackBtnCntr.parentNode.removeChild(this._elemFileTabBackBtnCntr);}if(ss.isValue(this.$4_2B.parentNode)){this.$4_2B.parentNode.removeChild(this.$4_2B);}if(ss.isValue(this._eleHomeSignInCntr.parentNode)){this._eleHomeSignInCntr.parentNode.removeChild(this._eleHomeSignInCntr);}if(ss.isValue(this._eleSignIn.parentNode)){this._eleSignIn.parentNode.removeChild(this._eleSignIn);}if(ss.isValue(this._elemRibbonBar.parentNode)){this._elemRibbonBar.parentNode.removeChild(this._elemRibbonBar);}if(ss.isValue(this._elemRibbonContainer.parentNode)){this._elemRibbonContainer.parentNode.removeChild(this._elemRibbonContainer);}Ribbon.BaseRibbonManager.callBaseMethod(this, 'onUnload');},$4_5A:function(){if(this.$4_37){this.setActiveTab(this.getPreviousActiveTab());}else{this.hideActiveTab();}this.$4_5C();this.resizeRibbon();},$4_5B:function(){if(2!==this.get_parent().sendMessage('eONDetectMode',null,null)){if(!Kepler.Framework.UI.Events.Hooks.MouseHook.isRegistered(this.$4_34)){Kepler.Framework.UI.Events.Hooks.MouseHook.register(this.$4_34);}if(!Kepler.Framework.UI.Events.Hooks.TouchHook.isRegistered(this.$4_34)){Kepler.Framework.UI.Events.Hooks.TouchHook.register(this.$4_34);}if(!Kepler.Framework.UI.Events.Hooks.KeyboardHook.isRegistered(this.$4_35)){Kepler.Framework.UI.Events.Hooks.KeyboardHook.register(this.$4_35);}}},$4_5C:function(){Kepler.Framework.UI.Events.Hooks.MouseHook.unRegister(this.$4_34);Kepler.Framework.UI.Events.Hooks.TouchHook.unRegister(this.$4_34);Kepler.Framework.UI.Events.Hooks.KeyboardHook.unRegister(this.$4_35);},$4_5D:function($p0){var $0=Kepler.Engine.UI.DesktopWnd.get_instance().get_dialogManager();if($p0){this.$4_36=$0.get_visibleDialogs().clone();var $1=this.$4_36.length;for(var $2=0;$2<$1;$2++){var $3=this.$4_36[$2];if($3.get_paneDialog()){$0.$4_7($3);}}}else{var $4=this.$4_36.length;for(var $5=0;$5<$4;$5++){var $6=this.$4_36[$5];if($6.get_paneDialog()){$0.$4_5($6);}}this.$4_36.clear();}},getDefRightClkMenu:function(mouseEventArgs){var $0=Kepler.Framework.Core.Globals.invaliD_VALUE;var $1=mouseEventArgs.get_target();var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getAttachedObjectFromElementTree(mouseEventArgs.get_target(),'pane_item',null);if((Ribbon.RibbonPane).isInstanceOfType($2)){$0=$2._iRtClickMenuNo;}else if(this._spanTabAreaPart1.contains($1)||this._spanTabAreaPart2.contains($1)){$0=10085;}else if(this._elemTabBar.contains($1)){$0=10087;}return $0;},populateShowAllPropertiesItems:function(){this._iShowAllProperties=-1;this._lstShowAllPropertiesItems=[];},populatePriorityTabModes:function(){this._lstTabModesPriority=[];},$4_5E:function($p0){for(var $0=0;$0<this._lstShowAllPropertiesItems.length;$0++){var $1=this.getRibbonItemFromId(this._lstShowAllPropertiesItems[$0]);$1.set_visible(!$1.get_visible());}if(this.getRibbonItemFromId(this._lstShowAllPropertiesItems[0]).get_visible()){$p0.set_text('Show Fewer Properties');}else{$p0.set_text('Show All Properties');}this.get_parentWnd().set_height(this.get_parentWnd().get_height()-1);},resetCurrentItem:function(){if(this.get_isFileTabActive()&&!(Type.canCast(this._oCurRbnItem,Ribbon.FileTab))&&!((Ribbon.EditableRibbonItem).isInstanceOfType(this._oCurRbnItem)||(Ribbon.BaseTextBox).isInstanceOfType(this._oCurRbnItem)||(Ribbon.RibbonTabListItem).isInstanceOfType(this._oCurRbnItem))){this.onMsgResetFocus(null,null);}Ribbon.BaseRibbonManager.callBaseMethod(this, 'resetCurrentItem');},setViewTypeNormal:function(){var $0=null;var $1=this.getEnabledItemsForViewType(null);this.iterateVisibleTabItems(ss.Delegate.create(this,function($p1_0,$p1_1,$p1_2){
if(!$1.contains($p1_2.get_id())){$0=this._mapDefaultState[$p1_2.get_id()];if(!ss.isNullOrUndefined($0)&&(($p1_2.get_enabled()!==$0.get_enabled())||($0.get_checked()===1))){this.resetRibbonItemState($p1_2);}if(Type.canCast($p1_2,Ribbon.RibbonMiscCtrl)){Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass($p1_2.get_elementItem().firstChild,Kepler.Engine.UI.Controls.Control.csS_CLASS_DISPLAY_NONE);}}}));},setViewTypeNoFile:function(){var $0=this.getEnabledItemsForViewType(null);var $1=this.getNonEmptyTextItemsForViewType(null);this.iterateVisibleTabItems(function($p1_0,$p1_1,$p1_2){
if(!$0.contains($p1_2.get_id())){if(!!$p1_2.get_enabled()){$p1_2.set_enabled(0);}if(!!$p1_2.get_checked()){$p1_2.set_checked(false);$p1_2.drawItem($p1_2.get_elementItem());}if(Type.canCast($p1_2,Ribbon.RibbonMiscCtrl)){Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass($p1_2.get_elementItem().firstChild,Kepler.Engine.UI.Controls.Control.csS_CLASS_DISPLAY_NONE);}if(Type.canCast($p1_2,Ribbon.EditableRibbonItem)){if(!$1.contains($p1_2.get_id())){$p1_2.set_text('-1');$p1_2.reflectText();}}}});},getEnabledItemsForViewType:function(lstEnabledItems){if(ss.isNullOrUndefined(lstEnabledItems)){lstEnabledItems=[];}return lstEnabledItems;},getNonEmptyTextItemsForViewType:function(lstNonEmptyTextItems){if(ss.isNullOrUndefined(lstNonEmptyTextItems)){lstNonEmptyTextItems=[];}return lstNonEmptyTextItems;},tutorialModeStart:function(){this._oPreviousTab=null;var $0=this.getActiveTab();if($0!=null){this._oPreviousTab=$0;}},tutorialModeEnd:function(){if(this._oPreviousTab!=null){this.setActiveTab(this._oPreviousTab.get_id());}},$4_5F:function($p0){var $0=1;var $1=this._lstQatButtons.length;var $2=null;if($p0!=null){$0=this._lstQatButtons.indexOf($p0);$0++;}for(;$0<$1;$0++){var $3=this._lstQatButtons[$0];if(Type.canCast($3,Ribbon.RibbonItemDocumentTitle)){break;}if($3.get_visible()){$2=$3;break;}}if($2==null){$2=this.getActiveTab();}return $2;},$4_60:function($p0){var $0=this._lstQatButtons.length;var $1=$0;var $2=null;if($p0!=null){$1=this._lstQatButtons.indexOf($p0);$1--;}else{for(;$1>0;$1--){var $3=this._lstQatButtons[$1];if(Type.canCast($3,Ribbon.RibbonItemDocumentTitle)){$1--;break;}}}for(;$1>0;$1--){var $4=this._lstQatButtons[$1];if($4.get_visible()){$2=$4;break;}}if($2==null){$2=this._mapRibbonItem[this._iFileTab];}return $2;},$4_61:function($p0){if($p0===1){this._evalObserveButtonMode=1;this.$4_31.get_elementItem().innerHTML='<span class=xl_btn_eval_span>Observations</span>';this.$4_31.get_elementItem().style.width=Ribbon.BaseRibbonManager.ribboN_OBSERVE_RESET_BUTTON_W+'px';this.$4_32.get_elementItem().style.width=Ribbon.BaseRibbonManager.ribboN_OBSERVE_RESET_BUTTON_W+'px';}else{this._evalObserveButtonMode=0;this.$4_31.get_elementItem().innerHTML='<span class=xl_btn_eval_span>Evaluate Answers</span>';Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this.$4_31.get_elementItem(),'evaluate_btn');Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this.$4_32.get_elementItem(),'reset_btn');}},altModeStarted:function(){if(!this.get_isFileTabActive()){var $0=this.getActiveTab();$0.setFocusOnItem();this._oFocusRbnItem=$0;$0.changeState(Kepler.Framework.UI.Controls.EItemState.eFocus,$0.get_elementItem());}},altModeStoped:function(oKeyEvtArgs){if(oKeyEvtArgs.get_key()===Kepler.Framework.UI.Events.EventArgsNs.Keys.tab||oKeyEvtArgs.get_key()===Kepler.Framework.UI.Events.EventArgsNs.Keys.left||oKeyEvtArgs.get_key()===Kepler.Framework.UI.Events.EventArgsNs.Keys.right||oKeyEvtArgs.get_key()===Kepler.Framework.UI.Events.EventArgsNs.Keys.up||oKeyEvtArgs.get_key()===Kepler.Framework.UI.Events.EventArgsNs.Keys.down){this.setFocus();var $0=this.getActiveTab();if(!this.get_isFileTabActive()){this._bAltMode=true;}else{this.setFocusOnRbnItem($0,null);}if(this._bAltMode){switch(oKeyEvtArgs.get_key()){case Kepler.Framework.UI.Events.EventArgsNs.Keys.tab:$0.processTabNavigation(oKeyEvtArgs);break;case Kepler.Framework.UI.Events.EventArgsNs.Keys.left:$0.processLeftArrow(oKeyEvtArgs);break;case Kepler.Framework.UI.Events.EventArgsNs.Keys.right:$0.processRightArrow(oKeyEvtArgs);break;case Kepler.Framework.UI.Events.EventArgsNs.Keys.up:$0.processPrevArrow(oKeyEvtArgs);break;case Kepler.Framework.UI.Events.EventArgsNs.Keys.down:$0.processNextArrow(oKeyEvtArgs);break;}}}},onSize:function(){if(Kepler.Engine.UI.Engine$1D.get_$4_2().get_$4_7()&&!this.$4_29){Kepler.Engine.UI.Engine$1D.get_$4_2().$4_F();}var $0=this.get_width();var $1=this.getActiveTab();if(ss.isValue($1)){$1.$14($0);if(this._iActiveTab===this._iFileTab){this.$4_63($1);}this.$4_30.set_scrollWidth($1.get_totalWt()+this.$4_1D);}this.resizeDocumentTitle();this.$4_2F.setWidth($0-this.$4_2F.get_rectangleMouse().get_left());this.$4_30.setWidth($0-((this._bTouchMode)?Ribbon.BaseRibbonManager.ribboN_TAB_AREA_TOUCH:Ribbon.BaseRibbonManager.ribboN_TAB_AREA_NORMAL));},$4_62:function(){var $0=this.get_width();var $1=this.getActiveTab();if(ss.isValue($1)){$1.$14($0,true);this.$4_30.set_scrollWidth($1.get_totalWt()+this.$4_1D);}this.$4_2F.setWidth($0-this.$4_2F.get_rectangleMouse().get_left());this.$4_30.setWidth($0-((this._bTouchMode)?Ribbon.BaseRibbonManager.ribboN_TAB_AREA_TOUCH:Ribbon.BaseRibbonManager.ribboN_TAB_AREA_NORMAL));},setRibbonItemShowHide:function(mapData){Ribbon.BaseRibbonManager.callBaseMethod(this, 'setRibbonItemShowHide',[mapData]);this.$4_62();},$4_63:function($p0){var $0=this.get_parentWnd();if(ss.isValue($0)){var $1;this._imgbtnFileTabBack.get_elementStyle().top=((this._bTouchMode)?Ribbon.BaseRibbonManager.bacK_BUTTON_TOP_TOUCH:Ribbon.BaseRibbonManager.bacK_BUTTON_TOP_NORMAL)+'px';var $2=(this._bTouchMode)?Ribbon.BaseRibbonManager.ribboN_QAT_HEIGHT_TOUCH:Ribbon.BaseRibbonManager.ribboN_QAT_HEIGHT_NORMAL;var $3=Ribbon.BaseRibbonManager.ribboN_TAB_BUTTONS_HEIGHT;$1=$(this._elemFileTabBackBtnCntr);var $4=$1.outerWidth();var $5=this.get_width();var $6=$0.get_height()-$2-$3-Ribbon.BaseRibbonManager.heighT_DEF_BACK_BUTTON_CONTAINER;this._elemFileTabBackBtnCntr.style.height=($2+$3+Ribbon.BaseRibbonManager.heighT_DEF_BACK_BUTTON_CONTAINER)+'px';this.$4_2B.style.top=$2+'px';$p0.size($5,$6,true);this.get_parent().onSize();}},updateOnAppSwitch:function(){this.resizeDocumentTitle();},resizeDocumentTitle:function(){var $0=this._mapRibbonItem[Ribbon.BaseRibbonManager.qaT_TITLE_ID];var $1=this._lstQatButtons[this._lstQatButtons.length-1];if(ss.isValue($0)){$0.get_elementItem().style.width='0px';var $2=this.$4_50();var $3=null;var $4=this.get_width();if(ss.isValue($2)){$3=$2._elemTabHeader;$3.style.width='0px';$4=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientPosition($3).get_x();}var $5=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientPosition($1.get_elementItem()).get_x();var $6=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientPosition($0.get_elementItem()).get_x();if(ss.isValue($2)){var $7=$5-$4;var $8=($7>$2.iTabHeaderWidth)?$2.iTabHeaderWidth:$7;$3.style.width=$8+'px';var $9=($7<0)?($5-$6):($4-$6);$0.get_elementItem().style.width=$9+'px';}else{$0.get_elementItem().style.width=($5-$6)+'px';}}},attachEvents:function(){Ribbon.BaseRibbonManager.callBaseMethod(this, 'attachEvents');this.addEvents(Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseWheel);},onParentResized:function(size){if(this._iActiveTab===this._iFileTab){this.set_size(size);}else{this.set_width(size.get_width());}},onMsgShowMenu:function(wParam,lParam){var $0=Ribbon.BaseRibbonManager.callBaseMethod(this, 'onMsgShowMenu',[wParam,lParam]);if(!this.get_isFileTabActive()&&ss.isNullOrUndefined(this._rbnMenuLaunched)){this.resetCurrentItem();}return $0;},onFocus:function(oFocusedPrevControl){Ribbon.BaseRibbonManager.callBaseMethod(this, 'onFocus',[oFocusedPrevControl]);},onLostFocus:function(oFocusedNewControl){Ribbon.BaseRibbonManager.callBaseMethod(this, 'onLostFocus',[oFocusedNewControl]);if(!this.get_isFileTabActive()){if(ss.isValue(this._oFocusRbnItem)){if(Type.canCast(oFocusedNewControl,Kepler.Engine.UI.Menu.MenuWnd)&&this._bAltMode&&(oFocusedNewControl).get_launchFrom()===this){}else{this.resetAltMode();}}}},onMouseWheel:function(evt){this.hideTooltip();if(this._iActiveTab!==this._iFileTab){this.$4_64(evt.get_delta());}var $0=false;if(this._oFocusRbnItem!=null){$0=this._oFocusRbnItem.onMouseWheel(evt);}var $1=null;if(!$0){$1=Kepler.Engine.UI.Helper.HtmlCssHelper.getAttachedObjectFromElementTree(evt.get_target(),'rbnItem');if($1!=null){while(ss.isValue($1)){$0=$1.onMouseWheel(evt);if($0){break;}$1=$1.get_parentRibbonItem();}}}if(!$0){$1=Kepler.Engine.UI.Helper.HtmlCssHelper.getAttachedObjectFromElementTree(evt.get_target(),'rbnPageItem');if($1!=null){$0=$1.onMouseWheel(evt);}}if($0&&Kepler.Engine.UI.Engine$1D.get_$4_2().get_$4_7()){Kepler.Engine.UI.Engine$1D.get_$4_2().$4_F();}},$4_64:function($p0){if(0!==this.sendMessageToParent('eONDetectMode',null,null)||!this.$4_37||Type.canCast(this._oFocusRbnItem,Ribbon.EditableRibbonItem)||Type.canCast(this._oFocusRbnItem,Ribbon.BaseTextBox)){return;}var $0=false;if($p0<0){$0=this.switchToRightTab();}else{$0=this.switchToLeftTab();}if($0){if(Kepler.Framework.Accessibility.AccessibilitySupport.get_instance().get_isAccessibilityOn()&&!this.get_isFileTabActive()){this.setAria();}}},switchToRightTab:function(){var $0=true;var $1=this._iActiveTab;var $2=this._lstVisibleTabs[this._lstVisibleTabs.indexOf(this._iActiveTab)+1];if($2!==this._iFileTab){this.setActiveTab($2);}if($1===this._iActiveTab){$0=false;}return $0;},switchToLeftTab:function(){var $0=true;var $1=this._iActiveTab;var $2=this._lstVisibleTabs[this._lstVisibleTabs.indexOf(this._iActiveTab)-1];if($2!==this._iFileTab){this.setActiveTab($2);}if($1===this._iActiveTab){$0=false;}return $0;},switchToFirstTab:function(){var $0=this._lstVisibleTabs[this._lstVisibleTabs.indexOf(this._iFileTab)+1];if($0!==this._iFileTab){this.setActiveTab($0);}},switchToLastTab:function(){var $0=this._lstVisibleTabs[this._lstVisibleTabs.length-1];if($0!==this._iFileTab){this.setActiveTab($0);}},scrollToTab:function(oRibbonTab){if(ss.isValue(this.$4_2F)&&ss.isValue(oRibbonTab)){var $0=oRibbonTab.get_elemTabButton().offsetLeft;if($0<this.$4_2F.get_x()){this.$4_2F.scrollToXPosition($0);}else{var $1=$0+oRibbonTab.get_rectangleMouse().get_width()+2;var $2=this.$4_2F.get_containerWidth();var $3=this.$4_2F.get_x()+$2;if($1>$3){this.$4_2F.scrollToXPosition($1-$2);}}}},scrollToPane:function(oPane){if(ss.isValue(this.$4_30)&&ss.isValue(oPane)){var $0=oPane.$1E();var $1=$0.offsetLeft;if($1<this.$4_30.get_x()){this.$4_30.scrollToXPosition($1);}else{var $2=$1+oPane.$1F(this._bTouchMode)+2;var $3=this.$4_30.get_containerWidth();var $4=this.$4_30.get_x()+$3;if($2>$4){this.$4_30.scrollToXPosition($2-$3);}}}},onKeyDown:function(oKeyEventArgs){if(!this.get_isFileTabActive()&&(this._oFocusRbnItem===this.$4_31||this._oFocusRbnItem===this.$4_32||this._oFocusRbnItem===this.$4_2C||this._oFocusRbnItem===this.$4_2E||this._oFocusRbnItem===this._mapRibbonItem[this._iFileTab]||this._lstQatButtons.contains(this._oFocusRbnItem))&&oKeyEventArgs.get_key()===Kepler.Framework.UI.Events.EventArgsNs.Keys.tab&&this._bAltMode){this.hideTooltip();this.$4_68(oKeyEventArgs,this._oFocusRbnItem);}else if(!this.get_isFileTabActive()&&this._bAltMode&&(this._oFocusRbnItem===this.$4_2E||this._oFocusRbnItem===this._mapRibbonItem[this._iFileTab]||this._oFocusRbnItem===this.$4_2C||this._lstQatButtons.contains(this._oFocusRbnItem))&&(oKeyEventArgs.get_key()===Kepler.Framework.UI.Events.EventArgsNs.Keys.left||oKeyEventArgs.get_key()===Kepler.Framework.UI.Events.EventArgsNs.Keys.right||oKeyEventArgs.get_key()===Kepler.Framework.UI.Events.EventArgsNs.Keys.down||oKeyEventArgs.get_key()===Kepler.Framework.UI.Events.EventArgsNs.Keys.up)){this.hideTooltip();this.$4_69(oKeyEventArgs,this._oFocusRbnItem);}else if(oKeyEventArgs.get_altKey()&&!oKeyEventArgs.get_ctrlKey()&&this._bAltMode){this.resetAltMode();this.setFocusToView();}else{Ribbon.BaseRibbonManager.callBaseMethod(this, 'onKeyDown',[oKeyEventArgs]);}},mouseHookProc:function(evt){var $0=evt.get_target();var $1=false;switch(evt.get_type()){case Kepler.Framework.UI.Events.EventArgsNs.EventType.touchStart:case Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseDown:var $2=!this.get_element().contains($0)&&!this._bMenuDropDown&&!Kepler.Engine.Core.EngineApp.get_engine().get_uiMrg().get_isFreezed();var $3=Kepler.Engine.Core.EngineApp.get_engine().get_currentApp().getAppView().get_element().contains($0);if($2){if(!this.$4_37){this.hideActiveTab();}}$1=($2&&$3);break;default:break;}return $1;},keyboardHookProc:function(evt){var $0=evt.get_type();var $1=false;switch($0){case Kepler.Framework.UI.Events.EventArgsNs.EventType.keyDown:var $2=evt;var $3=$2.get_key();if(!this._bMenuDropDown){if((!this.$4_37&&!Kepler.Engine.UI.Engine$1D.get_$4_2().get_$4_7())||(Kepler.Engine.UI.Engine$1D.get_$4_2().get_$4_7()&&$3===Kepler.Framework.UI.Events.EventArgsNs.Keys.escape)){this.hideActiveTab();$1=false;}}break;default:break;}return $1;},attachMessages:function(){Ribbon.BaseRibbonManager.callBaseMethod(this, 'attachMessages');this.attachMessage('msg_show_pane_as_menu',ss.Delegate.create(this,this.onMsgShowPaneAsMenu));this.attachMessage('msg_hide_pane_as_menu',ss.Delegate.create(this,this.onMsgHidePaneAsMenu));this.attachMessage('msg_set_active_tab',ss.Delegate.create(this,this.onMsgSetActiveTab));this.attachMessage(Kepler.Engine.UI.Controls.ButtonBase.msG_BUTTON_CLICKED,ss.Delegate.create(this,this.$4_67));this.attachMessage('msg_toggle_ribbon_pin',ss.Delegate.create(this,this.onMsgToggleRibbonPin));this.attachMessage('HScrollChange',ss.Delegate.create(this,this.$4_4B));this.attachMessage('msg_get_document_title',ss.Delegate.create(this,this.onMsgGetDocumentTitle));this.attachMessage('msg_set_focus_on_tab_key',ss.Delegate.create(this,this.$4_68));this.attachMessage('msg_set_focus_on_arrow_key',ss.Delegate.create(this,this.$4_69));this.attachMessage('msg_reset_focus_check_alt_mode',ss.Delegate.create(this,this.$4_6A));},onMsgToggleRibbonPin:function(wParam,lParam){return this.sendMessageToParent('msg_toggle_ribbon_pin',wParam,lParam);},onMsgSetActiveTab:function(wParam,lParam){var $0=wParam;this.setActiveTab($0);return null;},onMsgGetDocumentTitle:function(wParam,lParam){var $0=this._mapRibbonItem[Ribbon.BaseRibbonManager.qaT_TITLE_ID];if(ss.isValue($0)){return $0.get_text();}return null;},getDialogInfo:function(oRbnItem){var $0=Ribbon.BaseRibbonManager.callBaseMethod(this, 'getDialogInfo',[oRbnItem]);if((Ribbon.RibbonItemBuddyButton).isInstanceOfType(oRbnItem)){var $1=(oRbnItem).get_attachedID();var $2=this.getRibbonItemFromId($1);if((Ribbon.RibbonItemListCtrl).isInstanceOfType($2)){$0=this._mapDialogLaunchingRibbonItem[($2).get_activeItem()];}this.setActiveTab(this._iFileTab);}if((Ribbon.RibbonTabListItem).isInstanceOfType(oRbnItem)){if((oRbnItem).get_ribbonItemType()===3){this.setActiveTab(this._iFileTab);}}return $0;},onMsgRibbonItemCommand:function(wParam,lParam){var $0=wParam;if($0.get_id()===this._iShowAllProperties){this.$4_5E($0);return true;}var $1=Ribbon.BaseRibbonManager.callBaseMethod(this, 'onMsgRibbonItemCommand',[wParam,lParam]);if($1){if(!this.get_pin()){this.hideActiveTab();}}if(!this.get_isFileTabActive()){this.setFocusToPreFocusedCtrl();}this.get_parent().sendMessage('msg_hide_pane_as_menu',null,null);return $1;},onMsgRibbonItemCommandDblClk:function(wParam,lParam){this.get_parent().sendMessage('msg_hide_pane_as_menu',null,null);var $0=Ribbon.BaseRibbonManager.callBaseMethod(this, 'onMsgRibbonItemCommandDblClk',[wParam,lParam]);if($0){if(!this.get_pin()){this.hideActiveTab();}}return $0;},onMsgAppShortcutKey:function(wParam,lParam){var $0=wParam;var $1=$0.iActionId;var $2=$0.getActionString();var $3=this._mapRibbonItem[$1];if($1>this._iFileTab){if(this._iActiveTab!==this._iFileTab){if(this.$4_65($3)){this.setFocusOnRbnItem($3,null);return true;}}else{return true;}}if(ss.isNullOrUndefined($3)){return null;}if(!!$3.get_enabled()){var $4=new Ribbon.ItemAction();var $5=this.isActionCorrect($3,$4);if($5===2){return true;}var $6=($5===1);var $7='';var $8=$4.get_text();var $9=$8.split(Kepler.Framework.Core.Seperators.doublE_DELTA);if(ss.isValue($9)&&$9.length>2){$7=Kepler.Framework.Core.Seperators.doublE_DELTA+$9[2];}$4.set_text($2+$7);var $A=false;if(!$6&&this.shouldLaunchDialog($3)){$A=this.launchDialog($3);}if(!$A){return this.get_parent().sendMessage('eONActionEngine',$6,$4);}return true;}return null;},$4_65:function($p0){var $0=false;if(!this.shouldLaunchDialog($p0)){this.setActiveTab(this._iFileTab);while($p0!=null){var $1=$p0.get_id();$p0=$p0.get_parentRibbonItem();if((Ribbon.RibbonTabContainer).isInstanceOfType($p0)){var $2;$2=$p0;$2.setActiveTab($1);}}$0=true;}return $0;},$4_66:function($p0){if($p0){var $enum1=ss.IEnumerator.getEnumerator(this.$4_27);while($enum1.moveNext()){var $0=$enum1.current;if(this.$4_27.contains($0)){var $1=$0._elemTabHeader;if(ss.isValue($1.parentNode)){$1.parentNode.removeChild($1);}}}this.$4_27.clear();}else{this.setTabHeaderInfo(this._iRibbonTabMode);this.$4_45();}},onMsgShowPaneAsMenu:function(wParam,lParam){var $0=lParam;if(this.$4_26==null){this.$4_26=new Ribbon.PaneWnd();this.add(this.$4_26);}this.$4_26.set_position($0._rcLauncher.get_bottomLeft());var $1=Kepler.Engine.UI.DesktopWnd.get_instance().get_margin();this.$4_26.set_top(this.$4_26.get_top()-$1.get_top());this.$4_26.set_left(this.$4_26.get_left()-$1.get_left());var $2=$0._oLaunchFrom;var $3=(this._bTouchMode)?$2.get_rectangleTouch().get_width():$2.get_rectangleMouse().get_width();var $4=(this._bTouchMode)?Ribbon.BaseRibbonManager.ribboN_PANE_HEIGHT_TOUCH:Ribbon.BaseRibbonManager.ribboN_PANE_HEIGHT_NORMAL;this.$4_26.set_size(new Kepler.Framework.UI.Size($3,$4));if(this.$4_26.get_position().get_x()+this.$4_26.get_width()>=this.get_width()){var $5=this.get_width()-this.$4_26.get_width()-4;if($5<0){$5=0;}this.$4_26.set_left($5);}this.$4_26.setRibbonPane($2);this.releaseCapture();this.$4_26.show(true);return null;},onMsgHidePaneAsMenu:function(wParam,lParam){if(this.$4_26!=null&&this.$4_26.get_pane()!=null){this.$4_26.show(false);}return null;},$4_67:function($p0,$p1){var $0=$p1;var $1=0!==this.get_parent().sendMessage('eONDetectMode',null,null);if(!$1){if($0===this._imgbtnFileTabBack){this.setActiveTab(this._iFileTab);}}return null;},$4_68:function($p0,$p1){if($p0==null||$p1==null){return null;}var $0=$p0;var $1=$p1;$1.changeState(Kepler.Framework.UI.Controls.EItemState.eNormal,$1.get_elementItem());this._oFocusRbnItem=null;if($0.get_shiftKey()){if($1===this.$4_2E){this._oFocusRbnItem=this.$4_2C;}else if($1===this.$4_2C){this._oFocusRbnItem=this.$4_32;}else if($1===this.$4_32){this._oFocusRbnItem=this.$4_31;}else if($1===this.$4_31){this._oFocusRbnItem=this.getActiveTab();this._oFocusRbnItem.processTabNavigation($0);return null;}else if($1===this._mapRibbonItem[this._iFileTab]){this._oFocusRbnItem=this.$4_2E;}else if($1===this.getActiveTab()){this._oFocusRbnItem=this.$4_60(null);}else if(this._lstQatButtons.contains($1)){this._oFocusRbnItem=this.$4_60($1);}}else{if($1===this.getActiveTab()){this._oFocusRbnItem=this.$4_31;}else if($1===this.$4_31){this._oFocusRbnItem=this.$4_32;}else if($1===this.$4_32){this._oFocusRbnItem=this.$4_2C;}else if($1===this.$4_2C){this._oFocusRbnItem=this.$4_2E;}else if($1===this.$4_2E){this._oFocusRbnItem=this._mapRibbonItem[this._iFileTab];}else if($1===this._mapRibbonItem[this._iFileTab]){this._oFocusRbnItem=this.$4_5F(null);}else if(this._lstQatButtons.contains($1)){this._oFocusRbnItem=this.$4_5F($1);}}if(this._oFocusRbnItem!=null){this._oFocusRbnItem.setFocusOnItem();if(ss.isNullOrUndefined(this._oFocusRbnItem.get_parentRibbonItem())){this._oFocusRbnItem.changeState(Kepler.Framework.UI.Controls.EItemState.eFocus,this._oFocusRbnItem.get_elementItem());}}else{this.setFocusToView();}return null;},$4_69:function($p0,$p1){if($p0==null||$p1==null){return null;}var $0=$p0;var $1=$p1;$1.changeState(Kepler.Framework.UI.Controls.EItemState.eNormal,$1.get_elementItem());this._oFocusRbnItem=null;if($1===this.getActiveTab()){switch($0.get_key()){case Kepler.Framework.UI.Events.EventArgsNs.Keys.left:if(!this.switchToLeftTab()){this._oFocusRbnItem=this._mapRibbonItem[this._iFileTab];}else{this._oFocusRbnItem=this.getActiveTab();}break;case Kepler.Framework.UI.Events.EventArgsNs.Keys.right:if(!this.switchToRightTab()){this._oFocusRbnItem=this.$4_2E;}else{this._oFocusRbnItem=this.getActiveTab();}break;case Kepler.Framework.UI.Events.EventArgsNs.Keys.up:if($1===this.getActiveTab()&&$1.get_focusedRbnItem()!=null){this._oFocusRbnItem=this.getActiveTab();}else{this._oFocusRbnItem=this.$4_5F(null);}break;case Kepler.Framework.UI.Events.EventArgsNs.Keys.down:if($1===this.getActiveTab()){this._oFocusRbnItem=this.getActiveTab();this._oFocusRbnItem.processTabNavigation($0);return null;}break;}}else if($1===this.$4_2C){switch($0.get_key()){case Kepler.Framework.UI.Events.EventArgsNs.Keys.right:case Kepler.Framework.UI.Events.EventArgsNs.Keys.left:this._oFocusRbnItem=this.$4_2E;break;case Kepler.Framework.UI.Events.EventArgsNs.Keys.up:this._oFocusRbnItem=this.$4_2C;break;case Kepler.Framework.UI.Events.EventArgsNs.Keys.down:this._oFocusRbnItem=this.getActiveTab();this._oFocusRbnItem.processTabNavigation($0);return null;}}else if($1===this._mapRibbonItem[this._iFileTab]){switch($0.get_key()){case Kepler.Framework.UI.Events.EventArgsNs.Keys.left:this._oFocusRbnItem=this.$4_2E;break;case Kepler.Framework.UI.Events.EventArgsNs.Keys.right:this.switchToFirstTab();this._oFocusRbnItem=this.getActiveTab();break;case Kepler.Framework.UI.Events.EventArgsNs.Keys.up:this._oFocusRbnItem=this.$4_5F(null);break;case Kepler.Framework.UI.Events.EventArgsNs.Keys.down:this._oFocusRbnItem=$1;break;}}else if($1===this.$4_2E){switch($0.get_key()){case Kepler.Framework.UI.Events.EventArgsNs.Keys.left:this.switchToLastTab();this._oFocusRbnItem=this.getActiveTab();break;case Kepler.Framework.UI.Events.EventArgsNs.Keys.right:this._oFocusRbnItem=this._mapRibbonItem[this._iFileTab];break;case Kepler.Framework.UI.Events.EventArgsNs.Keys.up:case Kepler.Framework.UI.Events.EventArgsNs.Keys.down:this._oFocusRbnItem=this.$4_2C;break;}}else if(this._lstQatButtons.contains($1)){switch($0.get_key()){case Kepler.Framework.UI.Events.EventArgsNs.Keys.left:case Kepler.Framework.UI.Events.EventArgsNs.Keys.up:if(this._lstQatButtons.contains($1)){this._oFocusRbnItem=this.$4_60($1);}break;case Kepler.Framework.UI.Events.EventArgsNs.Keys.right:if(this._lstQatButtons.contains($1)){this._oFocusRbnItem=this.$4_5F($1);}break;case Kepler.Framework.UI.Events.EventArgsNs.Keys.down:if(this._lstQatButtons.contains($1)){this._oFocusRbnItem=this.getActiveTab();}break;}}if(this._oFocusRbnItem!=null){this._oFocusRbnItem.setFocusOnItem();if(ss.isNullOrUndefined(this._oFocusRbnItem.get_parentRibbonItem())){this._oFocusRbnItem.changeState(Kepler.Framework.UI.Controls.EItemState.eFocus,this._oFocusRbnItem.get_elementItem());}}return null;},$4_6A:function($p0,$p1){if(!this._bAltMode&&!this.get_isFileTabActive()){this.onMsgResetFocus(null,null);if(ss.isValue(this._oFocusRbnItem)&&!(Type.canCast(this._oFocusRbnItem,Ribbon.RibbonItemComboBox))){this._oFocusRbnItem.changeState(Kepler.Framework.UI.Controls.EItemState.eNormal,this._oFocusRbnItem.get_elementItem());this._oFocusRbnItem=null;}}return null;}}
Ribbon.FileTabBtnContentGrp=function(){Ribbon.FileTabBtnContentGrp.initializeBase(this);this.$F=new Ribbon.RibbonItemNormal();this.$10=new Ribbon.RibbonItemLable();this.$11=document.createElement('table');this.$11.style.width='100%';this.$11.style.borderCollapse='collapse';this.$14=document.createElement('div');this.$15();}
Ribbon.FileTabBtnContentGrp.prototype={$F:null,get_rbnButton:function(){return this.$F;},set_rbnButton:function(value){this.$F=value;return value;},$10:null,get_rbnTitle:function(){return this.$10;},set_rbnTitle:function(value){this.$10=value;return value;},$11:null,get_element:function(){return this.$11;},$12:null,get_buttonContentArea:function(){return this.$12;},$13:null,get_titleContentArea:function(){return this.$13;},$14:null,get_descriptionContentArea:function(){return this.$14;},createRibbonItem:function(bTouchMode){this._elemItem=this.$11;},$15:function(){var $0=this.$11.insertRow(0);this.$12=$0.insertCell(0);this.$12.rowSpan=2;this.$12.style.verticalAlign='top';this.$13=$0.insertCell(1);this.$13.style.verticalAlign='top';this.$13.className='filetab_group_title';$0=this.$11.insertRow(1);var $1=$0.insertCell(0);$1.className='filetab_group_discription';$1.appendChild(this.$14);this.$14.style.minHeight='49px';this.$14.style.overflow='hidden';},initialiseButton:function(iId,strText,iMenuNo,strImageClass,oMsgParent,bMultiline,iWidth,iHeight){this.$F.initialise(iId,new Kepler.Framework.UI.Rect(0,0,iWidth,iHeight),new Kepler.Framework.UI.Rect(0,0,iWidth,iHeight),iMenuNo,-1,strText,' filetab_normal_btn_group_image'+' '+strImageClass,oMsgParent,bMultiline);this.$F.setTextPosition(1);},applyStyleForBtnGroup:function(){this.$F.set_border(true);this.$F.set_borderNormalState(true);this.$F.drawState();this.$F.get_elementItem().style.position='relative';this.$F.get_elementItem().style.overflow='visible';if(ss.isValue(this.$F.get_imageClass())){this.$F.get_elementItem().childNodes[1].style.lineHeight='16px';}else{this.$F.get_elementItem().childNodes[0].style.lineHeight='16px';}this.$12.style.width=86+'px';this.$10.get_elementItem().childNodes[0].className=' filetab_title_normal';if(this.$10.get_text().length>0){}else{this.$13.parentNode.appendChild(this.$14.parentNode);this.$13.parentNode.removeChild(this.$13);this.$12.removeAttribute('rowspan');this.$11.deleteRow(1);}},initialiseButtonFromXmlElement:function(elmXml,oMsgParent){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt(elmXml,'id',-1);var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString(elmXml,'text');var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString(elmXml,'kbdshortcut');var $3=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt(elmXml,'menuid',-1);var $4=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttribute(elmXml,'img_class');var $5=false;var $6=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttribute(elmXml,'multiline');var $7=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttribute(elmXml,'text_class');var $8=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt(elmXml,'width',86);var $9=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt(elmXml,'height',82);if(ss.isValue($6)){$5=true;}this.get_rbnButton().set_kbrdShortcut($2);this.get_rbnButton().set_textCssClass($7);this.initialiseButton($0,$1,$3,$4,oMsgParent,$5,$8,$9);var $A=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt(elmXml,'enable',1);this.get_rbnButton().set_enabled($A);},initialiseTitle:function(iId,rcItem,strText,iMenuNo,strImageClass,oMsgParent){this.$10.initialise(iId,rcItem,rcItem,iMenuNo,-1,strText,strImageClass,oMsgParent);},initialiseTitleFromXmlElement:function(elmXml,oMsgParent){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt(elmXml,'id',-1);var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString(elmXml,'text');var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt(elmXml,'menuid',-1);var $3=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttribute(elmXml,'img_class');this.initialiseTitle($0,null,$1,$2,$3,oMsgParent);}}
Ribbon.FileTabListItem=function(iPinId,strHeaderText,strDiscriptionText,strImageCssClass,strHeaderCss,strDiscriptionCss,oParent){this.$0=document.createElement('div');this.$0.className='filetab_listitem_container';this.$9=strHeaderText;this.$A=strDiscriptionText;this.$5=new Ribbon.RibbonItemPin();if(ss.isValue(strImageCssClass)&&!!strImageCssClass){this.$8=strImageCssClass;}else{this.$8='filetab_listitem_image';}if(ss.isValue(strHeaderCss)&&!!strHeaderCss){this.$6=strHeaderCss;}else{this.$6='filetab_listitem_header';}if(ss.isValue(strDiscriptionCss)&&!!strDiscriptionCss){this.$7=strDiscriptionCss;}else{this.$7='filetab_listitem_path';}this.$4=oParent;this.$5.set_parentRibbonItem(oParent);this.$5.initialise(iPinId,new Kepler.Framework.UI.Rect(0,0,22,22),new Kepler.Framework.UI.Rect(0,0,22,22),-1,-1,'','',oParent.get_msgParent());this.$5.createRibbonItem(false);var $0=!String.isNullOrEmpty(strHeaderText);var $1=!String.isNullOrEmpty(strDiscriptionText);var $2=!String.isNullOrEmpty(strImageCssClass);this.$B($0,$1,$2);}
Ribbon.FileTabListItem.prototype={$0:null,get_containerElement:function(){return this.$0;},$1:null,get_imageElement:function(){return this.$1;},$2:null,get_headerElement:function(){return this.$2;},$3:null,get_discriptionElement:function(){return this.$3;},$4:null,$5:null,get_ribbonItemPinObject:function(){return this.$5;},set_ribbonItemPinObject:function(value){this.$5=value;return value;},$6:null,$7:null,$8:null,$9:null,$A:null,$B:function($p0,$p1,$p2){if($p2){this.$1=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div',null,null,null,null,null,null,this.$8,null);this.get_containerElement().appendChild(this.$1);}if($p0){this.$2=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('span',null,null,null,null,null,null,this.$6,null);this.get_containerElement().appendChild(this.$2);this.$2.innerHTML=this.$9;}if($p1){this.$3=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('span',null,null,null,null,null,null,this.$7,null);this.get_containerElement().appendChild(this.$3);this.$3.innerHTML=this.$A;}this.get_containerElement().appendChild(this.$5.get_elementItem());},dispose:function(){this.onUnload();},onUnload:function(){this.$5.dispose();this.$4=null;this.$0=null;this.$3=null;this.$2=null;this.$1=null;}}
Ribbon.MiniToolbarNormal=function(){Ribbon.MiniToolbarNormal.initializeBase(this);}
Ribbon.MiniToolbarNormal.prototype={createDropDownPart:function(bTouchMode){},drawItem:function(element){switch(this._eToState){case Kepler.Framework.UI.Controls.EItemState.eNormal:if(this._bBorder){this._elemItem.style.border=(this._bNormalStateBorder)?'1px solid #ABABAB':'1px solid transparent';}this._elemItem.style.backgroundColor=(this.get_checked())?this._oThemeDetails.get_colorChecked():'transparent';break;case Kepler.Framework.UI.Controls.EItemState.eHover:if(this._bBorder){this._elemItem.style.border='1px solid '+this._oThemeDetails.get_colorPressed();}this._elemItem.style.backgroundColor=this._oThemeDetails.get_colorHover();break;case Kepler.Framework.UI.Controls.EItemState.ePressedHover:case Kepler.Framework.UI.Controls.EItemState.ePressed:if(this._bBorder){this._elemItem.style.border='1px solid '+this._oThemeDetails.get_colorNormalLight();}this._elemItem.style.backgroundColor=this._oThemeDetails.get_colorPressed();break;default:break;}}}
Ribbon.RibbonItem=function(){this._bCapture=false;this._bChecked=false;this._bCheckable=false;this._iEnabled=1;this._iHighlight=0;this._bVisible=true;this._iFocus=0;this._bFocusable=true;this._eTextPosition=0;this._eToState=Kepler.Framework.UI.Controls.EItemState.eNormal;this.$1=-1;this._iMenuNo=-1;this._iRtClickMenuNo=-1;this.$2=-1;this._lstRibbonItems=[];this._rcMouse=null;this._rcTouch=null;this._strHtml='';this._strImageClass='';this._strText='';this._strKbrdShortcut='';this._lstTTParams=[];this._oMsgParent=null;this._oParentRbnItem=null;this._elemItem=null;var $0=Kepler.Engine.Core.EngineApp.get_engine().get_currentApp();if(ss.isValue($0)){this._oThemeDetails=$0.getAppFrame().get_themeDetails();}else{if(ss.isNullOrUndefined(Ribbon.RibbonItem.$4)){Ribbon.RibbonItem.$4=new Kepler.Framework.UI.ThemeDetails();Ribbon.RibbonItem.$4.set_colorNormal('#217346');Ribbon.RibbonItem.$4.set_colorNormalLight('#439467');Ribbon.RibbonItem.$4.set_colorNormalDark('#0A6332');Ribbon.RibbonItem.$4.set_colorHover('#D3F0E0');Ribbon.RibbonItem.$4.set_colorPressed('#86BFA0');Ribbon.RibbonItem.$4.set_colorChecked('#9FD5B7');Ribbon.RibbonItem.$4.set_colorCheckedHover('#D4F0E1');}this._oThemeDetails=Ribbon.RibbonItem.$4;}if(ss.isNullOrUndefined(Ribbon.RibbonItem.$5)){Ribbon.RibbonItem.$5=document.getElementById('player-span-dbg-flash');}this.$3=0;}
Ribbon.RibbonItem.prototype={get_elementScrollRect:function(){return this._elemItem;},_elemItem:null,get_elementItem:function(){return this._elemItem;},_iFocus:0,get_focus:function(){return this._iFocus;},_bVisible:false,get_visible:function(){return this._bVisible;},set_visible:function(value){this._bVisible=value;if(value){Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(this._elemItem,'display_none ');}else{Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this._elemItem,'display_none ');}return value;},_bChecked:false,get_checked:function(){return this._bChecked;},set_checked:function(value){this._bChecked=value;return value;},_bCheckable:false,get_checkable:function(){return this._bCheckable;},set_checkable:function(value){this._bCheckable=value;return value;},_focusOnRibbonTab:false,get_focusOnRibbonTab:function(){return this._focusOnRibbonTab;},set_focusOnRibbonTab:function(value){this._focusOnRibbonTab=value;return value;},get_dblClkNeeded:function(){return false;},set_dblClkNeeded:function(value){return value;},_iHighlight:0,get_highlight:function(){return this._iHighlight;},set_highlight:function(value){this._iHighlight=value;this.drawHighlightedState();return value;},_iEnabled:0,get_enabled:function(){return this._iEnabled;},set_enabled:function(value){this._iEnabled=value;this.drawEnabledDisabledState();return value;},get_defEnabled:function(){return this._iEnabled;},set_defEnabled:function(value){this._iEnabled=value;return value;},$1:0,get_id:function(){return this.$1;},set_id:function(value){this.$1=value;return value;},$2:0,get_selectedIndex:function(){return this.$2;},set_selectedIndex:function(value){this.$2=value;return value;},_iMenuNo:0,get_menuNo:function(){return this._iMenuNo;},get_toolTip:function(){var $0=[];var $enum1=ss.IEnumerator.getEnumerator(this._lstTTParams);while($enum1.moveNext()){var $1=$enum1.current;var $2=[];if(ss.isValue($1)){$2.add($1._eType.toString());$2.add($1._strTextualData);$2.add($1._strImageCls);var $3=$2.join(Kepler.Framework.Core.Seperators.v_CROSS);$0.add($3);}}return $0.join(Kepler.Framework.Core.Seperators.doublE_CROSS);},set_toolTip:function(value){if(ss.isValue(value)&&!String.isNullOrEmpty(value)){var $0=value.split(Kepler.Framework.Core.Seperators.doublE_CROSS);for(var $1=0;$1<$0.length;$1++){var $2=$0[$1];var $3=this._lstTTParams[$1];if(!String.isNullOrEmpty($2)&&ss.isValue($3)){var $4=$2.split(Kepler.Framework.Core.Seperators.v_CROSS,3);if($4.length===3){$3._eType=parseInt($4[0],10);$3._strTextualData=$4[1];$3._strImageCls=$4[2];}else if($4.length===1){$3._strTextualData=$4[1];}}}}return value;},_strText:null,get_text:function(){return this._strText;},set_text:function(value){this._strText=value;return value;},_strKbrdShortcut:null,get_kbrdShortcut:function(){return this._strKbrdShortcut;},set_kbrdShortcut:function(value){if(!value.compareTo('-1',false)){value='';}this._strKbrdShortcut=value;return value;},_strImageClass:null,get_imageClass:function(){return this._strImageClass;},set_imageClass:function(value){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementById(this._elemItem,'ribbonitem-icon');if(ss.isValue($0)){if(ss.isValue(this._strImageClass)){Kepler.Engine.UI.Helper.HtmlCssHelper.replaceCssClass($0,this._strImageClass,value);}else{Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass($0,value);}}this._strImageClass=value;return value;},_rcMouse:null,get_rectangleMouse:function(){return this._rcMouse;},_rcTouch:null,get_rectangleTouch:function(){return this._rcTouch;},_lstTTParams:null,get_ttParamList:function(){return this._lstTTParams;},set_ttParamList:function(value){this._lstTTParams=value;return value;},_strActionString:null,get_actionString:function(){return this._strActionString;},set_actionString:function(value){this._strActionString=value;return value;},get_shouldShowMenuInHintMode:function(){return this._iHighlight===1;},get_msgParent:function(){return this._oMsgParent;},get_parentRibbonItem:function(){return this._oParentRbnItem;},set_parentRibbonItem:function(value){this._oParentRbnItem=value;return value;},get_listRibbonItems:function(){return this._lstRibbonItems;},set_listRibbonItems:function(value){this._lstRibbonItems=value;return value;},_rbnFocusedItem:null,get_focusedRbnItem:function(){return this._rbnFocusedItem;},set_focusedRbnItem:function(value){this._rbnFocusedItem=value;return value;},_bFocusable:false,get_focusable:function(){return this._bFocusable;},set_focusable:function(value){this._bFocusable=value;return value;},$3:0,get_altModeType:function(){return this.$3;},set_altModeType:function(value){this.$3=value;return value;},_bCapture:false,_eTextPosition:0,_eToState:0,_iRtClickMenuNo:0,_lstRibbonItems:null,_strHtml:null,_oMsgParent:null,_oParentRbnItem:null,_oThemeDetails:null,$6:function(){var $0=' ';var $1=this;while($1!=null){if(!(Type.canCast($1,Ribbon.RibbonPane))){$0=' '+$1.get_kbrdShortcut()+$0;}$1=$1.get_parentRibbonItem();}return $0;},$7:function(){var $0='';var $1=this.get_parentRibbonItem();while(ss.isValue($1)&&!(Type.canCast($1,Ribbon.RibbonPane))){$1=$1.get_parentRibbonItem();}if(ss.isValue($1)){$0=$1.getName();}return $0;},$8:function(){var $0='';var $1=this;while($1!=null){if(!!this._strText){$0=' '+$1._strText+$0;}else{$0=' '+$1.getName()+$0;}$1=$1.get_parentRibbonItem();}return $0;},initialise:function(iId,rcMouse,rcTouch,iMenuNo,iRtClkMenu,strText,strImageClass,oMsgParent){this.$1=iId;this._iMenuNo=(ss.isNullOrUndefined(iMenuNo))?-1:iMenuNo;this._iRtClickMenuNo=iRtClkMenu;this._rcMouse=rcMouse;this._rcTouch=rcTouch;this._strText=strText;this._strImageClass=strImageClass;this._oMsgParent=oMsgParent;},move:function(iXpos,iYpos,bUpdateElem){this._rcMouse.set_left(iXpos);this._rcMouse.set_top(iYpos);bUpdateElem=(ss.isValue(bUpdateElem))?bUpdateElem:false;if(bUpdateElem){this.setItemPosition(this._elemItem,iXpos,iYpos);}},size:function(iWidth,iHeight,bUpdateElem){this._rcMouse.set_width(iWidth);this._rcMouse.set_height(iHeight);bUpdateElem=(ss.isValue(bUpdateElem))?bUpdateElem:false;if(bUpdateElem){this.setItemSize(this._elemItem,iWidth,iHeight);}},setItemRect:function(element,rcItem){if(ss.isValue(element)&&ss.isValue(rcItem)){element.style.left=rcItem.get_left()+'px';element.style.top=rcItem.get_top()+'px';element.style.width=rcItem.get_width()+'px';element.style.height=rcItem.get_height()+'px';}},getItemRect:function(bMode){return (bMode)?this._rcTouch:this._rcMouse;},setItemPosition:function(element,iLeft,iTop){if(ss.isValue(element)){element.style.left=iLeft+'px';element.style.top=iTop+'px';}},setItemSize:function(element,iWidth,iHeight){if(ss.isValue(element)){element.style.width=iWidth+'px';element.style.height=iHeight+'px';}},addItem:function(oRibbonItem,elemParent){if(ss.isNullOrUndefined(oRibbonItem)){return;}this._lstRibbonItems.add(oRibbonItem);oRibbonItem._oParentRbnItem=this;if(ss.isValue(oRibbonItem.get_elementItem())){if(ss.isValue(elemParent)){elemParent.appendChild(oRibbonItem.get_elementItem());}else if(ss.isValue(this._elemItem)){this._elemItem.appendChild(oRibbonItem.get_elementItem());}}},insertBefore:function(oRibbonItem,elmSibling){if(ss.isNullOrUndefined(oRibbonItem)){return;}this._lstRibbonItems.add(oRibbonItem);oRibbonItem._oParentRbnItem=this;if(ss.isValue(oRibbonItem.get_elementItem())){var $0=elmSibling.parentNode;if(ss.isValue($0)){$0.insertBefore(oRibbonItem.get_elementItem(),elmSibling);}else if(ss.isValue(this._elemItem)){this._elemItem.insertBefore(oRibbonItem.get_elementItem(),elmSibling);}}},removeItem:function(oRibbonItem){if(ss.isNullOrUndefined(oRibbonItem)){return;}this._lstRibbonItems.remove(oRibbonItem);var $0=oRibbonItem.get_elementItem();if(ss.isValue($0)){var $1=$0.parentNode;if($1!=null){$1.removeChild($0);}}},getItemById:function(Id){var $enum1=ss.IEnumerator.getEnumerator(this._lstRibbonItems);while($enum1.moveNext()){var $0=$enum1.current;if($0.get_id()===Id){return $0;}}return null;},changeState:function(eToState,element){if(this._eToState===eToState){return;}this._eToState=eToState;this.drawItem(element);},createRibbonItem:function(bTouchMode){this.assignDOMId(this._elemItem);},getHtmlText:function(bRefresh){return '';},getName:function(){var $0=this._strActionString;if(String.isNullOrEmpty($0)){if(ss.isValue(this._lstTTParams)&&ss.isValue(this._lstTTParams[0])){var $1=this._lstTTParams[0];var $2=$1._strTextualData;if(!String.isNullOrEmpty($2)){$2=$2.split(Kepler.Framework.Core.Seperators.z_CARON)[0];}$0=$2;}}return $0;},getActionString:function(bDblClk){var $0='';bDblClk=(ss.isValue(bDblClk))?bDblClk:false;var $1=(bDblClk)?43:42;$0=this._strActionString;if(!String.isNullOrEmpty(this._strText)&&String.isNullOrEmpty($0)){$0=this._strText.replaceAll('<u>','');$0=$0.replaceAll('</u>','');}else if(String.isNullOrEmpty($0)){$0=this._strText;}if(String.isNullOrEmpty($0)){if(ss.isValue(this._lstTTParams)&&ss.isValue(this._lstTTParams[0])){var $2=this._lstTTParams[0];var $3=$2._strTextualData;if(!String.isNullOrEmpty($3)){$3=$3.split(Kepler.Framework.Core.Seperators.z_CARON)[0];}$0=$3;}}if(!String.isNullOrEmpty($0)){$0=$1+Kepler.Framework.Core.Seperators.v_CROSS+$0;}return $0;},getDefText:function(){return this.get_text();},getPopupMenuPt:function(element){var $0=new Kepler.Framework.UI.Point(0,0);if(ss.isValue(element)){var $1=$(element);var $2=$1.offset();var $3=$1.height();$0.set_x($2.left);$0.set_y($2.top+$3);}else{$0.set_x(this.get_rectangleMouse().get_left());$0.set_y(this.get_rectangleMouse().get_top());}return $0;},getPopupMenuRect:function(element){var $0=new Kepler.Framework.UI.Rect(0,0,0,0);if(ss.isValue(element)){var $1=$(element);var $2=$1.offset();$0.set_left($2.left);$0.set_top($2.top);$0.set_width($1.outerWidth());$0.set_height($1.outerHeight());}else{$0.copy(this.get_rectangleMouse());return $0;}return $0;},setTextPosition:function(eAlignment){this._eTextPosition=eAlignment;},$9:function(){var $0=new Ribbon.RibbonItemState();$0.set_checked((this.get_checked())?1:0);$0.set_enabled(this.get_enabled());$0.set_highlighted(this.get_highlight());$0.set_imageClass(this.get_imageClass());$0.set_selectedIndex(this.get_selectedIndex());$0.set_text(this.get_text());$0.set_kbrdShortcut(this.get_kbrdShortcut());$0.set_toolTip(this.get_toolTip());return $0;},isCorrectAction:function(oItemAction){return true;},isRbnItemHighlighted:function(iHighlightIdx){var $0=false;iHighlightIdx=(iHighlightIdx===1000)?this.get_highlight():iHighlightIdx;if(Type.canCast(this,Ribbon.RibbonMiscCtrl)){$0=(iHighlightIdx>=0);}else if(Type.canCast(this,Ribbon.RibbonPane)){$0=(iHighlightIdx>0&&(this).get_canShrink());}else{$0=(iHighlightIdx>0);}return $0;},isAnyRibbonItemHighlighted:function(){var $enum1=ss.IEnumerator.getEnumerator(this._lstRibbonItems);while($enum1.moveNext()){var $0=$enum1.current;if(ss.isValue($0)){if($0.isRbnItemHighlighted($0.get_highlight())){return $0;}}}return null;},drawItem:function(element){},drawEnabledDisabledState:function(){},drawHighlightedState:function(){},getShowMeEle:function(){return Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementByClassName(this._elemItem,'class_visual_hint ');},enableDisableImage:function(element,bEnabled){if(ss.isNullOrUndefined(element)){return;}bEnabled=(ss.isNullOrUndefined(bEnabled))?(!!this._iEnabled):bEnabled;if(bEnabled){Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(element,'img-disabled ');element.style.opacity='1';}else{Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(element,'img-disabled ');element.style.opacity='0.536';}},enableDisableText:function(elementText,bEnabled){if(ss.isNullOrUndefined(elementText)){return;}bEnabled=(ss.isNullOrUndefined(bEnabled))?(!!this._iEnabled):bEnabled;if(bEnabled){Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(elementText,'text-disabled ');}else{Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(elementText,'text-disabled ');}},enableDisableArrow:function(element,bEnabled){if(ss.isNullOrUndefined(element)){return;}bEnabled=(ss.isNullOrUndefined(bEnabled))?(!!this._iEnabled):bEnabled;if(bEnabled){Kepler.Engine.UI.Helper.HtmlCssHelper.replaceCssClass(element,'arr_disabled ','arr_normal ');}else{Kepler.Engine.UI.Helper.HtmlCssHelper.replaceCssClass(element,'arr_normal ','arr_disabled ');}},highlightDiv:function(element,bHighlight){if(ss.isNullOrUndefined(element)){return;}bHighlight=(ss.isNullOrUndefined(bHighlight))?(!!this._iHighlight):bHighlight;if(bHighlight){Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(element,'class_visual_hint ');}else{Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(element,'class_visual_hint ');}},invalidate:function(){this.drawItem(null);var $enum1=ss.IEnumerator.getEnumerator(this._lstRibbonItems);while($enum1.moveNext()){var $0=$enum1.current;$0.invalidate();}},setCapture:function(){this._bCapture=true;},releaseCapture:function(){this._bCapture=false;},reflectText:function(){},onMenuItemCommand:function(oMenuItem){return false;},getTtLaunchParams:function(element,ptTooltip){if(ss.isNullOrUndefined(element)){return null;}var $0=this._lstTTParams[(this.isMenuLaunchElement(element))?1:0];$0=(ss.isNullOrUndefined($0))?this._lstTTParams[0]:$0;return new Kepler.Engine.UI.Controls.Tooltip.TooltipLaunch_Params($0,false,ptTooltip,false,this.get_id(),this);},toggleMode:function(bMode){var $enum1=ss.IEnumerator.getEnumerator(this._lstRibbonItems);while($enum1.moveNext()){var $0=$enum1.current;$0.toggleMode(bMode);}},dispose:function(){this.onUnload();},onUnload:function(){this._oMsgParent=null;this._oParentRbnItem=null;if(ss.isValue(this._elemItem)){this._elemItem.innerHTML='';}this._elemItem=null;var $enum1=ss.IEnumerator.getEnumerator(this._lstRibbonItems);while($enum1.moveNext()){var $0=$enum1.current;if(ss.isValue($0)){$0.dispose();}}},onParentResize:function(){var $enum1=ss.IEnumerator.getEnumerator(this._lstRibbonItems);while($enum1.moveNext()){var $0=$enum1.current;$0.onParentResize();}},getItemElementRect:function(){return Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientRect(this._elemItem);},isItemVisibleInParent:function(){var $0=true;if(this._oParentRbnItem!=null){var $1=this.getItemElementRect();$0=this._oParentRbnItem.isItemVisible($1);}return $0;},isItemVisible:function(oRbnItemRect){return true;},assignDOMId:function(elem){var $0='rbn';var $1=Kepler.Engine.Core.EngineApp.get_engine().get_currentApp().get_appName().charAt(0);if(Type.canCast(this._oMsgParent,Ribbon.RibbonItemContainer)){$0=(this._oMsgParent).get_strIDPrefix();}if(!ss.isNullOrUndefined(elem)){elem.setAttribute('id',$1+'_'+$0+'_'+this.$1);}},onKeyDown:function(KeyEvtArgs){switch(KeyEvtArgs.get_key()){case Kepler.Framework.UI.Events.EventArgsNs.Keys.left:this.processLeftArrow(KeyEvtArgs);break;case Kepler.Framework.UI.Events.EventArgsNs.Keys.up:this.processPrevArrow(KeyEvtArgs);break;case Kepler.Framework.UI.Events.EventArgsNs.Keys.right:this.processRightArrow(KeyEvtArgs);break;case Kepler.Framework.UI.Events.EventArgsNs.Keys.down:this.processNextArrow(KeyEvtArgs);break;case Kepler.Framework.UI.Events.EventArgsNs.Keys.space:this.processSpace(KeyEvtArgs);break;case Kepler.Framework.UI.Events.EventArgsNs.Keys.enter:this.processEnter(KeyEvtArgs);break;case Kepler.Framework.UI.Events.EventArgsNs.Keys.escape:this.processEscape(KeyEvtArgs);break;case Kepler.Framework.UI.Events.EventArgsNs.Keys.tab:this.processTabNavigation(KeyEvtArgs);break;case Kepler.Framework.UI.Events.EventArgsNs.Keys.apps:this.processAppsKey(KeyEvtArgs);break;default:this.processDefault(KeyEvtArgs);break;}},miscCtrScroll:function(){for(var $0=0;$0<this._lstRibbonItems.length;$0++){var $1=this._lstRibbonItems[$0];$1.miscCtrScroll();}},processAppsKey:function(KeyEvtArgs){if(ss.isValue(this.get_focusedRbnItem())){this.get_focusedRbnItem().processAppsKey(KeyEvtArgs);}else{KeyEvtArgs.set_defaultPrevented(false);this.changeState(Kepler.Framework.UI.Controls.EItemState.eNormal,this.get_elementItem());var $0=$(this.get_elementItem());var $1=$0.offset();var $2=new Kepler.Framework.UI.Rect(0,0,1,1);$2.set_left($1.left);$2.set_top($1.top+$0.height());$2.set_width(1);$2.set_height(1);this.showMenuWnd(false,this._iRtClickMenuNo,$2);}return true;},processLeftArrow:function(KeyEvtArgs){return this.processPrevArrow(KeyEvtArgs);},processRightArrow:function(KeyEvtArgs){return this.processNextArrow(KeyEvtArgs);},processDefault:function(KeyEvtArgs){if(ss.isValue(this.get_focusedRbnItem())){this.get_focusedRbnItem().onKeyDown(KeyEvtArgs);}return true;},processEscape:function(KeyEvtArgs){return true;},processSpace:function(KeyEvtArgs){if(ss.isValue(this.get_focusedRbnItem())){return this.get_focusedRbnItem().processSpace(KeyEvtArgs);}else{return this.processEnter(KeyEvtArgs);}},processTabNavigation:function(KeyEvtArgs){var $0;var $1=false;var $2=false;if(KeyEvtArgs.get_shiftKey()||KeyEvtArgs.get_key()===Kepler.Framework.UI.Events.EventArgsNs.Keys.up){$2=true;}if(this._bFocusable){if(this._lstRibbonItems.length>0){$1=false;if(ss.isValue(this._rbnFocusedItem)){$0=this._rbnFocusedItem;}else{$0=($2)?this.getPreFocusableItem(this._lstRibbonItems.length):this.getNextFocusableItem(-1);}if(ss.isValue($0)){$1=$0.processTabNavigation(KeyEvtArgs);if(!$1){var $3=this.get_listRibbonItems().indexOf($0);$0=($2)?this.getPreFocusableItem($3):this.getNextFocusableItem($3);$1=(ss.isValue($0))?$0.processTabNavigation(KeyEvtArgs):false;}}}else{if($1=ss.isNullOrUndefined(this.get_parentRibbonItem())){this._oMsgParent.sendMessage('msg_set_focus',this,null);}else{if(this.get_parentRibbonItem().get_focusedRbnItem()!==this){$1=this.setFocusOnItem();}}}}return $1;},processEnter:function(KeyEvtArgs){var $0=this;if(ss.isValue($0.get_focusedRbnItem())){return this.get_focusedRbnItem().processEnter(KeyEvtArgs);}else{if(!$0.get_enabled()){this._oMsgParent.sendMessage('msg_reset_focus',null,null);this._oMsgParent.sendMessage('msg_focus_view',null,null);}else{this.performEnterOnItem($0,KeyEvtArgs);}return true;}},performEnterOnItem:function(oItem,KeyEvtArgs){if(this.isActionCommandElement(oItem.get_elementItem())){this._oMsgParent.sendMessage('msg_ribbon_item_command',oItem,oItem.get_elementItem());}else{var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementByAttr(oItem.get_elementItem(),'[controltype='+'menubutton'+']');this.changeState(Kepler.Framework.UI.Controls.EItemState.ePressedHover,$0);oItem.launchMenu($0,true);this._oMsgParent.sendMessage('msg_set_current_ribbon_item_on_showmenu',oItem,null);}},processNextArrow:function(KeyEvtArgs){var $0;var $1=false;if(this._bFocusable){if(this._lstRibbonItems.length>0){$1=false;$0=(ss.isValue(this._rbnFocusedItem))?this._rbnFocusedItem:this.getNextFocusableItem(-1);if(ss.isValue($0)){$1=$0.processNextArrow(KeyEvtArgs);if(!$1){var $2=this.get_listRibbonItems().indexOf($0);$0=this.getNextFocusableItem($2);$1=(ss.isValue($0))?$0.processNextArrow(KeyEvtArgs):false;}}}else{if($1=ss.isNullOrUndefined(this.get_parentRibbonItem())){this._oMsgParent.sendMessage('msg_set_focus',this,null);}else{if(this.get_parentRibbonItem().get_focusedRbnItem()!==this){$1=this.setFocusOnItem();}}}}return $1;},processPrevArrow:function(KeyEvtArgs){var $0;var $1=false;if(this._bFocusable){if(this._lstRibbonItems.length>0){$1=false;$0=(ss.isValue(this._rbnFocusedItem))?this._rbnFocusedItem:this.getPreFocusableItem(this._lstRibbonItems.length);if(ss.isValue($0)){$1=$0.processPrevArrow(KeyEvtArgs);if(!$1){var $2=this.get_listRibbonItems().indexOf($0);$0=this.getPreFocusableItem($2);$1=(ss.isValue($0))?$0.processPrevArrow(KeyEvtArgs):false;}}}else{if($1=ss.isNullOrUndefined(this.get_parentRibbonItem())){this._oMsgParent.sendMessage('msg_set_focus',this,null);}else{if(this.get_parentRibbonItem().get_focusedRbnItem()!==this){$1=this.setFocusOnItem();}}}}return $1;},onKeyPress:function(KeyEvtArgs){if(ss.isValue(this.get_focusedRbnItem())){this.get_focusedRbnItem().onKeyPress(KeyEvtArgs);}},onKeyUp:function(KeyEvtArgs){if(ss.isValue(this.get_focusedRbnItem())){this.get_focusedRbnItem().onKeyUp(KeyEvtArgs);}},setFocusOnItem:function(){var $0=false;var $1=this._oMsgParent.sendMessage('eONDetectMode',null,null);if(!$1){$0=this.setFocusAllMode();}if(Kepler.Framework.Accessibility.AccessibilitySupport.get_instance().get_isAccessibilityOn()){this.setAria();}return $0;},setAria:function(){if(Type.canCast(this._oMsgParent,Ribbon.RibbonItemContainer)){(this._oMsgParent).setAria();}else if(ss.isValue(this._oParentRbnItem)){this._oParentRbnItem.setAria();}},setFocusAllMode:function(){var $0=false;this._oMsgParent.sendMessage('msg_reset_focus',null,null);if(ss.isNullOrUndefined(this.get_parentRibbonItem())){this._oMsgParent.sendMessage('msg_kill_focus',this,null);}var $1=this;while(ss.isValue($1.get_parentRibbonItem())){$1.get_parentRibbonItem().set_focusedRbnItem($1);$1=$1.get_parentRibbonItem();}if(ss.isValue(this.get_parentRibbonItem())){this.scrollToFocusedItem(Kepler.Engine.UI.Helper.HtmlCssHelper.getElementRect(this.get_elementScrollRect()));this.get_parentRibbonItem().get_focusedRbnItem().changeState(Kepler.Framework.UI.Controls.EItemState.eFocus,this.get_parentRibbonItem().get_focusedRbnItem().get_elementItem());$0=true;}else{$0=this._oMsgParent.sendMessage('msg_set_focus',this,null);}return $0;},getNextFocusableItem:function(iCounter){while(iCounter<this.get_listRibbonItems().length){iCounter++;var $0=this.get_listRibbonItems()[iCounter];if(ss.isValue($0)){if($0.get_focusable()&&$0.get_visible()&&$0.get_enabled()===1){return $0;}}}return null;},getPreFocusableItem:function(iCounter){while(iCounter>0){iCounter--;var $0=this.get_listRibbonItems()[iCounter];if(ss.isValue($0)){if($0.get_focusable()&&$0.get_visible()&&$0.get_enabled()===1){return $0;}}}return null;},scrollToFocusedItem:function(rcNextFocusItem){if(ss.isValue(this.get_parentRibbonItem())){this.get_parentRibbonItem().scrollToFocusedItem(rcNextFocusItem);}else{this._oMsgParent.sendMessage('msg_scroll_on_focus',rcNextFocusItem,this);}},onSetFocus:function(mouseEventArgs){this._iFocus=0;if(mouseEventArgs!=null){mouseEventArgs.set_defaultPrevented(false);}},onKillFocus:function(){},onMouseLeave:function(){this.changeState(Kepler.Framework.UI.Controls.EItemState.eNormal,null);},onMouseOver:function(element){if(this._bCapture){this.changeState(Kepler.Framework.UI.Controls.EItemState.ePressedHover,element);}else{this.changeState(Kepler.Framework.UI.Controls.EItemState.eHover,element);}},onMouseMove:function(mouseEventArgs){},onLButtonDown:function(element,mouseEventArgs){var $0=Type.getInstanceType(this).get_name()+'<br>ID: '+this.get_id().toString()+'<br>Text: '+this.get_text();if(ss.isValue(Ribbon.RibbonItem.$5)){Ribbon.RibbonItem.$5.innerHTML=$0;}this.setCapture();if(!Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){if(!(this._eToState===Kepler.Framework.UI.Controls.EItemState.ePressed||this._eToState===Kepler.Framework.UI.Controls.EItemState.ePressedHover)){this.changeState(Kepler.Framework.UI.Controls.EItemState.ePressedHover,element);}this.launchMenu(element,false);}else{if(this._eToState===Kepler.Framework.UI.Controls.EItemState.ePressed||this._eToState===Kepler.Framework.UI.Controls.EItemState.ePressedHover){this.changeState(Kepler.Framework.UI.Controls.EItemState.eHover,element);}else{this.changeState(Kepler.Framework.UI.Controls.EItemState.ePressedHover,element);}}return true;},onLButtonUp:function(element,mouseEventArgs){if(this._bCapture){this.releaseCapture();if(!Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){if(this.isActionCommandElement(element)){this._oMsgParent.sendMessage('msg_left_btn_up',this,element);}}else{this.changeState(Kepler.Framework.UI.Controls.EItemState.eNormal,element);if(this.isActionCommandElement(element)){this._oMsgParent.sendMessage('msg_left_btn_up',this,element);}else{this.launchMenu(element,false);}}}if(Kepler.Framework.Accessibility.AccessibilitySupport.get_instance().get_isAccessibilityOn()){if(!(Type.canCast(this._oMsgParent,Ribbon.BaseRibbonManager)&&(this._oMsgParent).get_isFileTabActive())){this.setAria();}}return true;},isMenuLaunchElement:function(element){return ('menubutton'===this.getControlType(element));},isActionCommandElement:function(element){var $0=('button'===this.getControlType(element));return $0;},getControlType:function(element){var $0='INVALID';if(ss.isValue(element)&&element.hasAttribute('controltype')){var $1=element.getAttribute('controltype');$0=$1;}return $0;},launchMenu:function(element,bDefActiveItem){if(!this.isMenuLaunchElement(element)){return false;}var $0=true;var $1=this._oMsgParent.sendMessage('eONDetectMode',null,null);if($1===1&&!Kepler.Engine.Core.EngineApp.get_engine().isHintFreeNavigation()&&!(Ribbon.RibbonItemDocumentTitle).isInstanceOfType(this)){$0=this.get_shouldShowMenuInHintMode();if(!$0){this._oMsgParent.sendMessage('msg_ribbon_item_command',this,element.cloneNode(true));}}if($0){this.changeState(Kepler.Framework.UI.Controls.EItemState.ePressedHover,element);this.showMenu(element,bDefActiveItem);}return $0;},showMenu:function(element,bDefActiveItem){var $0=this.getPopupMenuRect(this._elemItem);this.showMenuWnd(bDefActiveItem,this._iMenuNo,$0);},showMenuWnd:function(bDefActiveItem,iMenuNumber,rcMenuLaunch){var $0=new Kepler.Engine.UI.MenuWnd_MenuParams(this._oMsgParent,iMenuNumber,null,rcMenuLaunch,null);bDefActiveItem=(ss.isValue(bDefActiveItem))?bDefActiveItem:false;if(bDefActiveItem){$0._iDefaultActiveItem=0;$0._iDefaultActiveSubItem=0;}this._oMsgParent.sendMessage('msg_show_menu',iMenuNumber,$0);},onMouseDblClick:function(element,mouseEventArgs){if(this.isActionCommandElement(element)){this._oMsgParent.sendMessage('msg_dbl_clk',this,element);}return true;},onMouseClick:function(element,mouseEventArgs){return true;},onSelectStart:function(element){return false;},toString:function(){return 'RibbonItem';},processShowMe:function(iHighlightIndex){var $0=false;this.setCapture();if(this.get_selectedIndex()===10000&&!!iHighlightIndex){var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementByAttr(this._elemItem,'[controltype='+'menubutton'+']');if($0=ss.isValue($1)){this.launchMenu($1,false);this.changeState(Kepler.Framework.UI.Controls.EItemState.ePressedHover,$1);}}this.releaseCapture();return $0;},$A:function(){if(this.isActionCommandElement(this._elemItem)){this._oMsgParent.sendMessage('msg_ribbon_item_command',this,this._elemItem);return 7;}else{var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementByAttr(this._elemItem,'[controltype='+'menubutton'+']');this.changeState(Kepler.Framework.UI.Controls.EItemState.ePressedHover,$0);this.launchMenu($0,true);this._oMsgParent.sendMessage('msg_set_current_ribbon_item_on_showmenu',this,null);return 3;}},onMouseWheel:function(mouseEventArgs){return false;},$B:function(){var $0,$1=this.getLabel(),$2=this.getTooltipBody();var $3;if(!String.isNullOrEmpty($1)){$0=$1+' button '+this.getShortcutKey()+' '+$2;}else{$3=$2.indexOf('(');if($3!==-1){$0=$2.substring(0,$3)+' '+this.getShortcutKey();}else{$0=$2+' '+this.getShortcutKey();}}return $0;},getLabel:function(){var $0='';var $1;if(!String.isNullOrEmpty(this.get_toolTip())){if(this.get_toolTip().indexOf(Kepler.Framework.Core.Seperators.z_CARON)!==-1){$0=this.get_toolTip().split(Kepler.Framework.Core.Seperators.z_CARON)[0].split(Kepler.Framework.Core.Seperators.v_CROSS)[1];$1=$0.indexOf('(');if($1!==-1){$0=$0.substring(0,$1);}}else{$0=this.get_text();}}else{$0=this.get_text();}return $0;},getShortcutKey:function(){var $0='',$1='',$2=this.get_toolTip();$1=this.$6();if(!String.isNullOrEmpty($2)){$0=$2.split(Kepler.Framework.Core.Seperators.z_CARON)[0].substring($2.indexOf('(')+1,$2.indexOf(')'));}if($1!=='  '){$1=' alt followed by '+$1;if(!String.isNullOrEmpty($0)){$0=$1+' or '+$0;}else{$0=$1;}}return $0;},getTooltipBody:function(){var $0='';var $1=new RegExp('\\<[^\\>]*\\>');if(!String.isNullOrEmpty(this.get_toolTip())){$0=this.get_toolTip().split(Kepler.Framework.Core.Seperators.doublE_CROSS)[0];if(!ss.isNullOrUndefined($0)){$0=$0.split(Kepler.Framework.Core.Seperators.v_CROSS)[1];if(!ss.isNullOrUndefined($0)){if($0.indexOf(Kepler.Framework.Core.Seperators.z_CARON)!==-1){$0=$0.split(Kepler.Framework.Core.Seperators.z_CARON)[1];}}else{$0='';}}else{$0='';}}if(!String.isNullOrEmpty($0)){while($0.search($1)!==-1){$0=$0.replace($1,'');}}return $0;}}
Ribbon.RibbonItemBlank=function(){Ribbon.RibbonItemBlank.initializeBase(this);this._elemItem=document.createElement('div');}
Ribbon.RibbonItemBlank.prototype={createRibbonItem:function(bTouchMode){Ribbon.RibbonItemBlank.callBaseMethod(this, 'createRibbonItem',[bTouchMode]);this._elemItem.innerHTML='';this._elemItem.rbnItem=this;}}
Ribbon.RibbonItemBuddyButton=function(){Ribbon.RibbonItemBuddyButton.initializeBase(this);this._elemItem=document.createElement('div');this.$13=-1;}
Ribbon.RibbonItemBuddyButton.prototype={$13:0,get_attachedID:function(){return this.$13;},set_attachedID:function(value){this.$13=value;return value;}}
Ribbon.RibbonItemBulletText=function(){Ribbon.RibbonItemBulletText.initializeBase(this);this._bFocusable=false;this._elemItem=document.createElement('div');}
Ribbon.RibbonItemBulletText.prototype={createRibbonItem:function(bTouchMode){Ribbon.RibbonItemBulletText.callBaseMethod(this, 'createRibbonItem',[bTouchMode]);this._elemItem.className='filetab_bullettext_parent';var $0=this.getItemRect(bTouchMode);this._elemItem.style.position='absolute';var $1=document.createElement('div');$1.id='ribbonitem-icon';if(!String.isNullOrEmpty(this._strImageClass)){$1.className=this._strImageClass;}this.setItemPosition(this._elemItem,$0.get_left(),$0.get_top());$1.style.position='absolute';this._elemItem.appendChild($1);if(!String.isNullOrEmpty(this.get_text())){this.setItemSize($1,16,16);var $2=document.createElement('div');$2.id='ribbonitem-text';$2.innerHTML=this.get_text();$2.className='class_ribbon_font '+' '+'class_ribbon_item_text ';$2.style.position='relative';$2.style.paddingLeft=16+2+'px';$2.style.height='100%';$2.style.lineHeight=16+1+'px';$2.style.textAlign='left';this._elemItem.setAttribute('role','document');this._elemItem.appendChild($2);}}}
Ribbon.RibbnItemCheckBox=function(){Ribbon.RibbnItemCheckBox.initializeBase(this);this._elemItem=document.createElement('div');this._bChecked=false;}
Ribbon.RibbnItemCheckBox.prototype={createRibbonItem:function(bTouchMode){Ribbon.RibbnItemCheckBox.callBaseMethod(this, 'createRibbonItem',[bTouchMode]);var $0=this.getItemRect(bTouchMode);this._elemItem.style.position='absolute';this.setItemRect(this._elemItem,$0);this._elemItem.style.verticalAlign='middle';this._elemItem.style.textAlign='center';this._elemItem.rbnItem=this;this._elemItem.setAttribute('controltype','button');var $1=document.createElement('div');$1.id='ribbonitem-icon';$1.style.position='relative';$1.style.width=$1.style.height=11+'px';$1.style.display='inline-block';$1.style.top=(($0.get_height()-11)/2-1)+'px';if(this._bChecked){Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass($1,Ribbon.RibbnItemCheckBox.checkeD_CLASS);}Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass($1,'chkbox_normal');var $2=document.createElement('span');$2.id='ribbonitem-text';$2.style.position='relative';$2.textContent=this.get_text();$2.style.display='inline-block';$2.style.top=(($0.get_height()-11-2)/2-2)+'px';$2.style.marginLeft='5px';Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass($2,'class_ribbon_font');if(this._iEnabled===1){Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass($2,'text-enabled');}this._elemItem.appendChild($1);this._elemItem.appendChild($2);},toggleMode:function(bMode){Ribbon.RibbnItemCheckBox.callBaseMethod(this, 'toggleMode',[bMode]);var $0=this._elemItem.childNodes[0];var $1=this._elemItem.childNodes[1];var $2=this.getItemRect(bMode);this.setItemRect(this._elemItem,$2);$0.style.top=(($2.get_height()-11)/2-1)+'px';$1.style.top=(($2.get_height()-11-2)/2-2)+'px';},drawItem:function(element){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementById(this._elemItem,'ribbonitem-icon');switch(this._eToState){case Kepler.Framework.UI.Controls.EItemState.eNormal:Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass($0,'chkbox_normal');Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass($0,'chkbox_hover');Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass($0,'chkbox_pressed');$0.style.borderColor='';$0.style.backgroundColor='';break;case Kepler.Framework.UI.Controls.EItemState.eFocus:case Kepler.Framework.UI.Controls.EItemState.eHover:Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass($0,'chkbox_hover');Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass($0,'chkbox_normal');Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass($0,'chkbox_pressed');$0.style.borderColor=this._oThemeDetails.get_colorPressed();$0.style.backgroundColor=this._oThemeDetails.get_colorHover();break;case Kepler.Framework.UI.Controls.EItemState.ePressed:case Kepler.Framework.UI.Controls.EItemState.ePressedHover:Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass($0,'chkbox_pressed');Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass($0,'chkbox_hover');Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass($0,'chkbox_normal');$0.style.borderColor=this._oThemeDetails.get_colorPressed();$0.style.backgroundColor=this._oThemeDetails.get_colorPressed();break;default:break;}if(this._bChecked){Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass($0,Ribbon.RibbnItemCheckBox.checkeD_CLASS);}else{Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass($0,Ribbon.RibbnItemCheckBox.checkeD_CLASS);}},drawHighlightedState:function(){this.highlightDiv(this._elemItem);},drawEnabledDisabledState:function(){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementById(this._elemItem,'ribbonitem-icon');if(ss.isValue($0)){this.enableDisableImage($0);}var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementById(this._elemItem,'ribbonitem-text');if(ss.isValue($1)){this.enableDisableText($1);}},reflectText:function(){Ribbon.RibbnItemCheckBox.callBaseMethod(this, 'reflectText');var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementById(this._elemItem,'ribbonitem-text');$0.textContent=this.get_text();},$B:function(){var $0='',$1=this.getLabel(),$2=this.getShortcutKey(),$3=this.getTooltipBody(),$4;if(this._bChecked){$4=' checkbox checked ';}else{$4=' checkbox unchecked ';}if(!String.isNullOrEmpty($1)){$0=$1+$4+$2+' '+$3;}else{$0=$3+$4+$2;}return $0;},onLButtonUp:function(element,mouseEventArgs){this._bChecked=!this._bChecked;return Ribbon.RibbnItemCheckBox.callBaseMethod(this, 'onLButtonUp',[element,mouseEventArgs]);}}
Ribbon.RibbonItemColorDropDown=function(){Ribbon.RibbonItemColorDropDown.initializeBase(this);}
Ribbon.RibbonItemColorDropDown.prototype={createTextPart:function(divCombo,bTouchMode){this._bBehaviorToNormal=true;if(!this._eTextPosition){var $0=this.getItemRect(bTouchMode);var $1=document.createElement('div');$1.id='color_div';$1.style.position='absolute';$1.style.width=16+'px';$1.style.height=4+'px';if(bTouchMode){$1.style.top=1+Math.floor(($0.get_height()-2-16)/2+10)+'px';$1.style.left=Math.floor(($0.get_width()-13-2-16)/2+2)+'px';}else{$1.style.top=Math.ceil(($0.get_height()-2-16)/2+11)+'px';$1.style.left=Math.floor(($0.get_width()-13-2-16)/2)+'px';}this.$12($1);divCombo.appendChild($1);}},convertToRibbonItemNormal:function(bReverse){Ribbon.RibbonItemColorDropDown.callBaseMethod(this, 'convertToRibbonItemNormal',[bReverse]);var $0=this._elemItem.childNodes[0].childNodes[1];var $1=(bReverse)?this._rcMouse:this._rcTouch;if(bReverse){$0.style.top=1+Math.floor(($1.get_height()-2-16)/2+((Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice())?10:11))+'px';$0.style.left=Math.floor(($1.get_width()-13-2-16)/2)+'px';}else{$0.style.top=1+Math.floor(($1.get_height()-2-16)/2+10)+'px';$0.style.left=Math.floor(($1.get_width()-13-2-16)/2+2)+'px';}},reflectText:function(){if(ss.isValue(this._elemItem.childNodes[0].childNodes[1])){this.$12(this._elemItem.childNodes[0].childNodes[1]);}},$12:function($p0){if(ss.isValue(this.get_text())&&!String.isNullOrEmpty(this.get_text())){if(Kepler.Framework.UI.Color.parse(this.get_text()).equals(Kepler.Framework.UI.Colors.WHITE)){$p0.style.border='1px solid #808080';$p0.style.height=(4-2)+'px';}else{$p0.style.border='';$p0.style.height=4+'px';}$p0.style.backgroundColor=this.get_text();}},drawEnabledDisabledState:function(){Ribbon.RibbonItemColorDropDown.callBaseMethod(this, 'drawEnabledDisabledState');if(!this._iEnabled||(this._iEnabled===4|this._iEnabled===2)===1){this._elemItem.childNodes[0].childNodes[1].style.backgroundColor='#A8A8A8';this._elemItem.childNodes[0].childNodes[1].style.opacity='0.536';}else{this._elemItem.childNodes[0].childNodes[1].style.backgroundColor=this.get_text();this._elemItem.childNodes[0].childNodes[1].style.opacity='1';}},getActionString:function(){var $0='';if(ss.isValue(this._lstTTParams)&&ss.isValue(this._lstTTParams[0])){var $1=this._lstTTParams[0];$0=$1._strTextualData;if(!String.isNullOrEmpty($0)){$0=$0.split(Kepler.Framework.Core.Seperators.z_CARON)[0];}}return 42+Kepler.Framework.Core.Seperators.v_CROSS+$0;}}
Ribbon.RibbonItemColorGrid=function(){Ribbon.RibbonItemColorGrid.initializeBase(this);this._elemItem=document.createElement('div');this.$E=0;this.$C=0;this.$D=0;this.$F=0;this.$10=new Kepler.Framework.UI.Size(0,0);this.$15='';this.$13=[];this.$14=[];this.$11={};}
Ribbon.RibbonItemColorGrid.prototype={$C:0,get_columns:function(){return this.$C;},$D:0,get_itemCount:function(){return this.$D;},$E:0,$F:0,$10:null,$11:null,$12:null,$13:null,$14:null,$15:null,$16:0,$17:0,setColorGrid:function(){var $0=11;var $1=12;this.$12=this.$19();this.$C=$1;this.setColorSize($0,$0,4);if(ss.isValue(this.$12)&&this.$12.length>0){this.$11['Standard Colors']=this.$12;this.$D+=this.$12.length;}},initialise:function(iId,rcMouse,rcTouch,iMenuNo,iRtClkMenu,strText,strImageClass,oMsgParent){Ribbon.RibbonItemColorGrid.callBaseMethod(this, 'initialise',[iId,rcMouse,rcTouch,iMenuNo,iRtClkMenu,strText,strImageClass,oMsgParent]);this.$15='e_qat_'+iId;this._elemItem.style.left=this._rcMouse.get_left()+'px';this._elemItem.style.position='relative';this._elemItem.style.top='2px';},createRibbonItem:function(bTouchMode){this._elemItem.rbnItem=this;this.create(this._elemItem,'menusubitem');},create:function(elemParent,strColorItemId){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('table','colorgrid-table',null,null,null,null,null,'gridTable',null);this.$18($0);Kepler.Engine.UI.Helper.HtmlCssHelper.addChild(elemParent,$0,null);this.setSelectedColor(3);},$18:function($p0){var $0=1;var $dict1=this.$11;for(var $key2 in $dict1){var $1={key:$key2,value:$dict1[$key2]};var $2=$1.value;if(ss.isValue($2)){var $3=$1.key;var $4=1;var $5=Math.ceil($2.length/this.$C);for($4=1;$4<=$5;$4++){this.addRow($p0,$0);$0++;}}}},setColorSize:function(iWidth,iHeight,iColorColumnSpace){if(!isNaN(iWidth)){this.$10.set_width(iWidth);}if(!isNaN(iHeight)){this.$10.set_height(iHeight);}if(!isNaN(iColorColumnSpace)){this.$F=iColorColumnSpace;}},$19:function(){var $0=[];var $1=[];$0.addRange([new Kepler.Framework.UI.Color(255,255,255),new Kepler.Framework.UI.Color(0,0,0),new Kepler.Framework.UI.Color(192,0,0),new Kepler.Framework.UI.Color(255,0,0),new Kepler.Framework.UI.Color(255,192,0),new Kepler.Framework.UI.Color(255,255,0),new Kepler.Framework.UI.Color(146,208,80),new Kepler.Framework.UI.Color(0,176,80),new Kepler.Framework.UI.Color(0,176,240),new Kepler.Framework.UI.Color(0,112,192),new Kepler.Framework.UI.Color(0,32,96),new Kepler.Framework.UI.Color(112,48,160)]);$1.addRange(['White','Black','Dark Red','Red','Orange','Yellow','Light Green','Green','Light Blue','Blue','Dark Blue','Purple']);for(var $2=0;$2<12;$2++){this.$13.add(Kepler.Framework.UI.Controls.EItemState.eNormal);}return this.$1A($0,$1);},$1A:function($p0,$p1){var $0=null;if(ss.isValue($p0)){$0=[];for(var $1=0;$1<$p0.length;$1++){$0.add(new Ribbon.ColorItem($p0[$1],$p1[$1]));}}return $0;},getRowDetails:function(iRow){var $0=[];var $1='';var $2=new Ribbon.Row();var $3=1;var $4=1;var $dict1=this.$11;for(var $key2 in $dict1){var $5={key:$key2,value:$dict1[$key2]};$1=$5.key;$0=$5.value;if(ss.isValue($0)){var $6=$0.length;var $7=Math.ceil(($6/this.$C));var $8=$7+$4-1;if(iRow>=$4&&iRow<=$8){$3=iRow-$4+1;$2=3;}else{$4+=$7;}}}return new Ribbon.RowDetails($0,$2,$3);},addRow:function(elemTable,iRow){var $0=this.getRowDetails(iRow);var $1=$0._lstColor;var $2=$0._eRowType;var $3=$0._iRowIdx;var $4=((iRow-1)*this.$C);var $5=($3-1)*this.$C;var $6=$5+this.$C-1;$5=($5>($1.length-1))?($1.length-1):$5;$6=($6>($1.length-1))?($1.length-1):$6;var $7=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('tr','colorgrid-row','relative',null,null,null,null,'gridTableRow',null);$7.style.overflow='visible';Kepler.Engine.UI.Helper.HtmlCssHelper.addChild(elemTable,$7,null);for(;$5<=$6;$5++){var $8=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('td',null,'relative',null,null,null,null,'gridTableCell',null);Kepler.Engine.UI.Helper.HtmlCssHelper.addChild($7,$8,null);var $9=this.createItemElem($2,$4);$9.childNodes[0].style.backgroundColor=$1[$5].get_color().toString();Kepler.Engine.UI.Helper.HtmlCssHelper.addChild($8,$9,null);$4++;}},createItemElem:function(eRow,iIdx){var $0=document.createElement('xyz');var $1=0;var $2=0;var $3='';var $4='';var $5='';var $6='';var $7='';var $8=new Kepler.Engine.UI.Controls.Tooltip.Tooltip_Params(Kepler.Engine.UI.Controls.Tooltip.ETooltipTypes.simplE_DESCR,'',null);$1=this.$10.get_width();$2=this.$10.get_height();$3='colItmFill colItmBorderLeft colItmBorderRight colItmBorderTop colItmBorderBottom';$4=$5=$6=$7=(this.$F/2)+'px';var $9={};$9['index']=iIdx.toString();$0=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div','colorgrid-item-fill'+'-'+(iIdx+1),'relative',0,0,$1,$2,$3,null);this.$14.add($0);var $A=this.$12[iIdx];$8._strTextualData=$A.get_tooltip();this._lstTTParams.add($8);$0.rbnItem=this;var $B=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div','','relative',null,null,this.$10.get_width()+2,this.$10.get_height()+2,null,$9);$B.setAttribute('name','rbnItem');$B.style.margin=$6+' '+$5+' '+$7+' '+$4;Kepler.Engine.UI.Helper.HtmlCssHelper.addChild($B,$0,null);return $B;},drawHighlightedState:function(){Ribbon.RibbonItemColorGrid.callBaseMethod(this, 'drawHighlightedState');if(this._iHighlight===1){if(this.get_selectedIndex()!==-1){Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this.$14[this.get_selectedIndex()],'class_visual_hint ');}}},onLButtonUp:function(element,mouseEventArgs){if(element.id!==this.$15){var $0=this.$14.indexOf(element);this.setSelectedColor($0);}return true;},onMouseOver:function(element){Ribbon.RibbonItemColorGrid.callBaseMethod(this, 'onMouseOver',[element]);var $0=null;if(this.$14.contains(element)){var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientPosition(element);this.$17=this.$14.indexOf(element);$0=this._lstTTParams[this.$17];$0=(ss.isNullOrUndefined($0))?this._lstTTParams[0]:$0;var $2=new Kepler.Engine.UI.Controls.Tooltip.TooltipLaunch_Params($0,false,new Kepler.Framework.UI.Point($1.get_x()+11,$1.get_y()+22),false);Kepler.Engine.UI.DesktopWnd.get_instance().get_tooltipManager().showTooltip($2);}},getTtLaunchParams:function(element,ptTooltip){return null;},setItemState:function(elemSubItem,eState){if(ss.isNullOrUndefined(elemSubItem)){return;}var $0='';var $1=new Kepler.Framework.UI.Size(0,0);var $2=1;var $3=this.getRowDetails($2);var $4=$3._eRowType;if(eState===Kepler.Framework.UI.Controls.EItemState.eNormal){$0='colItmFill colItmBorderLeft colItmBorderRight '+'colItmBorderTop colItmBorderBottom';$1.set_width(this.$10.get_width());$1.set_height(this.$10.get_height());}else{$0='colItmFillHover';$1.set_width(this.$10.get_width());$1.set_height(this.$10.get_height());}this.setItemCss(elemSubItem,$0,$1);},setItemCss:function(elemParent,strFillCssClass,sizeFill){if(ss.isValue(elemParent)){var $0=$(elemParent);if(ss.isValue($0)){$0.removeClass();$0.addClass(strFillCssClass);$0.width(sizeFill.get_width());$0.height(sizeFill.get_height());}}},getIndexOfSelectedColor:function(){return this.$16;},getSelectedColor:function(){return this.$12[this.$16];},getColorAtIndex:function(iIndex){return this.$12[iIndex];},setSelectedColor:function(iIndex){this.$16=iIndex;this.$13[iIndex]=Kepler.Framework.UI.Controls.EItemState.ePressed;for(var $0=0;$0<12;$0++){if($0!==iIndex){this.$13[$0]=Kepler.Framework.UI.Controls.EItemState.eNormal;}this.setItemState(this.$14[$0],this.$13[$0]);}}}
Ribbon.RibbonItemCssImageButton=function(){Ribbon.RibbonItemCssImageButton.initializeBase(this);this._elemItem=document.createElement('div');this.$C=false;}
Ribbon.RibbonItemCssImageButton.prototype={$C:false,get_border:function(){return this.$C;},set_border:function(value){this.$C=value;return value;},$D:null,$E:null,$F:null,createRibbonItem:function(bTouchMode){Ribbon.RibbonItemCssImageButton.callBaseMethod(this, 'createRibbonItem',[bTouchMode]);var $0=this.getItemRect(bTouchMode);this._elemItem.style.position='absolute';this.setItemSize(this._elemItem,$0.get_width(),$0.get_height());this.setItemPosition(this._elemItem,$0.get_left(),$0.get_top());this._elemItem.rbnItem=this;this._elemItem.setAttribute('controltype',((this._iMenuNo===-1)?'button':'menubutton'));this._elemItem.setAttribute('role','button');Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this._elemItem,this._strImageClass+' '+this.$D);},initialise:function(iId,rcMouse,rcTouch,iMenuNo,iRtClkMenu,strText,strImageClass,oMsgParent,szImage,strNormal,strHover,strPressed){Ribbon.RibbonItemCssImageButton.callBaseMethod(this, 'initialise',[iId,rcMouse,rcTouch,iMenuNo,iRtClkMenu,strText,strImageClass,oMsgParent]);this.$D=(ss.isValue(strNormal))?strNormal:'';this.$E=(ss.isValue(strHover))?strHover:'';this.$F=(ss.isValue(strPressed))?strPressed:'';this.drawItem(this.get_elementItem());},drawItem:function(element){this.$10();},$10:function(){var $0='';switch(this._eToState){case Kepler.Framework.UI.Controls.EItemState.eFocus:case Kepler.Framework.UI.Controls.EItemState.eHover:$0=this.get_imageClass()+this.$E;if(this.$C){this._elemItem.style.borderColor=this._oThemeDetails.get_colorHover();}break;case Kepler.Framework.UI.Controls.EItemState.ePressedHover:case Kepler.Framework.UI.Controls.EItemState.ePressed:$0=this.get_imageClass()+this.$F;if(this.$C){this._elemItem.style.borderColor=this._oThemeDetails.get_colorPressed();}break;case Kepler.Framework.UI.Controls.EItemState.eNormal:default:$0=this.get_imageClass()+this.$D;if(this.$C){this._elemItem.style.borderColor='white';}break;}this._elemItem.className=$0;}}
Ribbon.RibbonItemDocumentTitle=function(){Ribbon.RibbonItemDocumentTitle.initializeBase(this);this._bFocusable=false;this._elemItem=document.createElement('div');}
Ribbon.RibbonItemDocumentTitle.prototype={createRibbonItem:function(bTouchMode){this._elemItem.className='document_title_cont';var $0=document.createElement('div');$0.innerHTML=this.get_text();$0.className='document_title';this.$19($0,bTouchMode);this._elemItem.appendChild($0);this._elemItem.style.color=this._oThemeDetails.get_colorBarText();this._elemItem.rbnItem=this;if(this._iMenuNo!==-1||this._iRtClickMenuNo!==-1){this._elemItem.rbnItem=this;this._elemItem.setAttribute('controltype','menubutton');}},reflectText:function(){this._elemItem.firstChild.innerHTML=this.get_text();},toggleMode:function(bMode){if(ss.isValue(this._elemItem)){this.$19(this._elemItem.firstChild,bMode);}},$19:function($p0,$p1){if(ss.isValue($p0)){$p0.style.lineHeight=($p1)?'3':'2';}}}
Ribbon.RibbonItemDropdown=function(){Ribbon.RibbonItemDropdown.initializeBase(this);this._elemItem=document.createElement('div');this._eTextPosition=1;this._bIsTextMultiLine=false;this._bBehaviorToNormal=false;this._strArrowCss='';}
Ribbon.RibbonItemDropdown.prototype={_bIsTextMultiLine:false,_strArrowCss:null,_bBehaviorToNormal:false,get_shouldShowMenuInHintMode:function(){return this.get_highlight()===2;},$C:false,get_dblClkNeeded:function(){return this.$C;},set_dblClkNeeded:function(value){this.$C=value;return value;},$B:function(){var $0='';if(this.get_checkable()&&ss.isNullOrUndefined((this._oMsgParent).get_rbnMenuLaunched())){$0=Ribbon.RibbonItemDropdown.callBaseMethod(this, '$B');if(this.get_checked()){$0=' ON '+$0;}else{$0=' OFF '+$0;}}else{$0=Ribbon.RibbonItemDropdown.callBaseMethod(this, '$B');}return $0;},initialise:function(iId,rcMouse,rcTouch,iMenuNo,iRtClkMenu,strText,strImageClass,oMsgParent,bIsTextMultiline,bBehaviorToNormal){Ribbon.RibbonItemDropdown.callBaseMethod(this, 'initialise',[iId,rcMouse,rcTouch,iMenuNo,iRtClkMenu,strText,strImageClass,oMsgParent]);if(ss.isValue(bBehaviorToNormal)){this._bBehaviorToNormal=bBehaviorToNormal;}if((ss.isNullOrUndefined(this.get_text())||String.isNullOrEmpty(this.get_text()))){this._bBehaviorToNormal=true;}this._bIsTextMultiLine=bIsTextMultiline;},toggleMode:function(bMode){Ribbon.RibbonItemDropdown.callBaseMethod(this, 'toggleMode',[bMode]);var $0=20;var $1;var $2;var $3;var $4;var $5;var $6;if(this._eTextPosition===1){$1=this._elemItem.childNodes[1];$2=this._elemItem.childNodes[0];$6=this._elemItem.childNodes[1].childNodes[1];$3=(ss.isValue($6))?$6:null;$4=(ss.isValue($6))?$6:null;$5=this._elemItem.childNodes[1].childNodes[0];}else{$1=this._elemItem.childNodes[0];$2=this._elemItem.childNodes[0].childNodes[0];$3=this._elemItem.childNodes[1];$6=this._elemItem.childNodes[0].childNodes[1];$4=(ss.isValue($6)&&$6.id==='ribbonitem-text')?$6:null;$5=null;}var $7=this.getItemRect(bMode);this.setItemRect(this._elemItem,$7);if(this._eTextPosition===1){$1.style.width=($7.get_width()-2)+'px';$1.style.height=((bMode)?($7.get_height()-49-1):($7.get_height()-36))+'px';var $8=(bMode)?49:35;var $9=$7.get_width()-2;var $A=(bMode)?3:2;var $B=Math.floor(($9-32)/2);var $C=Math.ceil(($9-32)/2);var $D=$8-$A-32;$2.style.borderLeftWidth=$B+'px';$2.style.borderTopWidth=$A+'px';$2.style.borderRightWidth=$C+'px';$2.style.borderBottomWidth=$D+'px';$5.style.width=($7.get_width()-14)+'px';$5.style.visibility=(bMode)?'visible':'hidden';}else{$1.style.height=($7.get_height()-2)+'px';$1.style.width=($7.get_width()-((bMode&&!this._bBehaviorToNormal)?26:13)-1)+'px';$2.style.top=(($7.get_height()-$0)/2)+'px';if($4!=null){$4.style.top=(($7.get_height()-26)/2)+'px';if(bMode){$4.style.marginLeft='';$4.style.marginRight='';}else{$4.style.marginLeft='4px';$4.style.marginRight='4px';}}if(this._bBehaviorToNormal){this.convertToRibbonItemNormal(!bMode);}$3.style.borderTopWidth=Math.round(($7.get_height()-2-3)/2)+'px';$3.style.borderBottomWidth=Math.floor(($7.get_height()-2-3)/2)+'px';$3.style.borderLeftWidth=$3.style.borderRightWidth=((((bMode&&!this._bBehaviorToNormal)?26:13)-5)/2)+'px';}this.drawHighlightedState();},convertToRibbonItemNormal:function(bReverse){var $0=this._elemItem.childNodes[0];var $1=$0.childNodes[0];var $2=this._elemItem.childNodes[1];var $3=(ss.isValue($0.childNodes[1])&&$0.childNodes[1].id==='ribbonitem-text')?$0.childNodes[1]:null;if(bReverse){$0.setAttribute('controltype','button');$1.style.left=(parseInt($1.style.left,10)-2)+'px';if($3!=null){$3.style.zIndex=0;$3.style.left=(parseInt($3.style.left,10)-8)+'px';}$2.style.left=(parseInt($2.style.left,10)+1+2)+'px';}else{$0.setAttribute('controltype','menubutton');$0.style.width=(this.get_rectangleTouch().get_width()-13-1)+'px';$1.style.left=(parseInt($1.style.left,10)+2)+'px';if($3!=null){$3.style.zIndex=1;$3.style.left=(parseInt($3.style.left,10)+8)+'px';}$2.style.left=(parseInt($2.style.left,10)-1-2)+'px';}},createRibbonItem:function(bTouchMode){Ribbon.RibbonItemDropdown.callBaseMethod(this, 'createRibbonItem',[bTouchMode]);this._elemItem.style.position='absolute';this.setItemRect(this._elemItem,this.getItemRect(bTouchMode));var $0=document.createElement('div');this.createComboPart($0,bTouchMode);this.$E($0,bTouchMode);this.createTextPart($0,bTouchMode);this.$D($0,bTouchMode);if(this._eTextPosition===1){this._elemItem.appendChild($0);}if(this._bBehaviorToNormal&&!this._eTextPosition&&bTouchMode){this.convertToRibbonItemNormal(false);}},$D:function($p0,$p1){var $0=this.getItemRect($p1);var $1=document.createElement('div');$1.id='ribbonitem-arrow';var $2='relative';var $3=1;if(this._eTextPosition===1){if(this._bIsTextMultiLine){this._strArrowCss='class_ribbon_left_margin_4';}else{$3=2;}$p0.appendChild($1);}else{$1.style.left='-1px';$1.style.borderStyle='solid';$1.style.borderTopWidth=Math.round(($0.get_height()-2-3)/2)+'px';$1.style.borderBottomWidth=Math.floor(($0.get_height()-2-3)/2)+'px';$1.style.borderLeftWidth=$1.style.borderRightWidth=((($p1&&!this._bBehaviorToNormal)?26:13-5)/2)+'px';$1.style.borderColor=this._oThemeDetails.get_colorBar();$1.style.cssFloat='right';$1.rbnItem=this;$1.setAttribute('controltype','menubutton');$1.setAttribute('role','button');this._elemItem.appendChild($p0);this._elemItem.appendChild($1);}this._strArrowCss+=' '+'arr_normal_2 '+' '+'arrow_down '+' '+'class_ribbon_img_cont '+' '+'class_ImgPath_Arrow ';Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass($1,this._strArrowCss);$1.style.position=$2;$1.style.top=$3+'px';$1.style.width=5+'px';$1.style.height=3+'px';},createComboPart:function(divCombo,bTouchMode){var $0=this.getItemRect(bTouchMode);if(this._eTextPosition===1){divCombo.setAttribute('id','rbn_menu_launch_'+this.get_id());divCombo.style.position='absolute';divCombo.style.width=($0.get_width()-2)+'px';divCombo.style.height=((bTouchMode)?($0.get_height()-49-1):($0.get_height()-36))+'px';divCombo.setAttribute('controltype','menubutton');if(this._bIsTextMultiLine){}var $1=document.createElement('div');$1.style.height='1px';$1.style.width=($0.get_width()-14)+'px';$1.style.top='0px';$1.style.margin='auto';$1.style.backgroundColor='#E0E0E0';$1.style.visibility=(bTouchMode)?'visible':'hidden';divCombo.appendChild($1);}else{divCombo.style.position='relative';divCombo.style.width=($0.get_width()-((bTouchMode&&!this._bBehaviorToNormal)?26:13)-1)+'px';divCombo.style.height=($0.get_height()-2)+'px';divCombo.style.display='inline-block';divCombo.style.top='1px';divCombo.setAttribute('controltype','button');}divCombo.style.left='1px';divCombo.rbnItem=this;divCombo.setAttribute('role','button');divCombo.style.verticalAlign='middle';divCombo.style.textAlign='center';},$E:function($p0,$p1){if(ss.isValue(this._strImageClass)){var $0=this.getItemRect($p1);var $1=document.createElement('div');$1.id='ribbonitem-icon';Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass($1,this._strImageClass);$1.style.position='relative';var $2=1;var $3=1;var $4=0;var $5=($p1)?49:35;if(this._eTextPosition===1){$1.rbnItem=this;var $6=0;var $7=0;var $8=0;var $9=0;$4=$0.get_width()-2;$7=($p1)?3:2;$6=Math.floor(($4-32)/2);$8=Math.ceil(($4-32)/2);$9=$5-$7-32;$5=$4=32;$1.setAttribute('controltype','button');$1.setAttribute('role','button');$1.style.borderLeftWidth=$6+'px';$1.style.borderTopWidth=$7+'px';$1.style.borderRightWidth=$8+'px';$1.style.borderBottomWidth=$9+'px';$1.style.borderColor=this._oThemeDetails.get_colorBar();this._elemItem.appendChild($1);}else{$5=$4=16;$2=-1;$3=($0.get_height()-2-16-2)/2;$1.style.display='inline-block';$p0.appendChild($1);}$1.style.height=$5+'px';$1.style.width=$4+'px';$1.style.top=$3+'px';$1.style.left=$2+'px';$1.style.borderStyle='solid';}},createTextPart:function(divCombo,bTouchMode){if(ss.isValue(this.get_text())&&!String.isNullOrEmpty(this.get_text())){var $0=document.createElement('span');$0.id='ribbonitem-text';$0.textContent=this.get_text();$0.style.position='relative';$0.style.left='0px';$0.setAttribute('role','document');var $1=0;Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass($0,'class_ribbon_item_text class_ribbon_font');if(this._eTextPosition===1){if(!this._bIsTextMultiLine){$0.style.display='block';$1=5;}}else{$1=((this.getItemRect(bTouchMode).get_height()-26)/2);if(!bTouchMode){$0.style.marginLeft='4px';$0.style.marginRight='4px';}}$0.style.top=$1+'px';divCombo.appendChild($0);}},setTextPosition:function(eAlignment){Ribbon.RibbonItemDropdown.callBaseMethod(this, 'setTextPosition',[eAlignment]);if(this._eTextPosition===1){this._bBehaviorToNormal=false;}},drawItem:function(element){if(ss.isNullOrUndefined(element)){if(this._iHighlight>0){element=Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementByAttr(this._elemItem,'[controltype='+'menubutton'+']');}}var $0=0;if(ss.isValue(element)&&element.hasAttribute('controltype')){if(!element.getAttribute('controltype').toString().compareTo('menubutton',false)){$0=1;}}this.drawState($0);},drawState:function(iEleIndex){var $0=new Array(2);switch(this._eToState){case Kepler.Framework.UI.Controls.EItemState.eNormal:if(this.get_checked()){$0[iEleIndex]=this._oThemeDetails.get_colorChecked();$0[1-iEleIndex]=this._oThemeDetails.get_colorChecked();this._elemItem.style.backgroundColor=this._oThemeDetails.get_colorChecked();}else{$0[iEleIndex]=this._oThemeDetails.get_colorBar();$0[1-iEleIndex]=this._oThemeDetails.get_colorBar();this._elemItem.style.backgroundColor=this._oThemeDetails.get_colorBar();}break;case Kepler.Framework.UI.Controls.EItemState.ePressedHover:case Kepler.Framework.UI.Controls.EItemState.ePressed:if((this._oMsgParent).get_touchMode()&&this._bBehaviorToNormal){$0[iEleIndex]=this._oThemeDetails.get_colorPressed();$0[1-iEleIndex]=this._oThemeDetails.get_colorPressed();}else{$0[iEleIndex]=this._oThemeDetails.get_colorPressed();$0[1-iEleIndex]=(!iEleIndex)?this._oThemeDetails.get_colorBar():this._oThemeDetails.get_colorPressed();}if(this._iEnabled===1){this._elemItem.style.backgroundColor=this._oThemeDetails.get_colorPressed();}break;case Kepler.Framework.UI.Controls.EItemState.eHover:if((this._oMsgParent).get_touchMode()&&this._bBehaviorToNormal){$0[iEleIndex]=this._oThemeDetails.get_colorHover();$0[1-iEleIndex]=this._oThemeDetails.get_colorHover();}else{if(this.get_checked()){$0[iEleIndex]=this._oThemeDetails.get_colorHover();$0[1-iEleIndex]=this._oThemeDetails.get_colorChecked();}else{$0[iEleIndex]=this._oThemeDetails.get_colorHover();$0[1-iEleIndex]=this._oThemeDetails.get_colorBar();}}if(this._iEnabled===1){this._elemItem.style.backgroundColor=this._oThemeDetails.get_colorHover();}break;case Kepler.Framework.UI.Controls.EItemState.eFocus:$0[iEleIndex]=this._oThemeDetails.get_colorHover();$0[1-iEleIndex]=this._oThemeDetails.get_colorHover();this._elemItem.style.backgroundColor=this._oThemeDetails.get_colorHover();break;default:$0[iEleIndex]=this._oThemeDetails.get_colorBar();$0[1-iEleIndex]=this._oThemeDetails.get_colorBar();this._elemItem.style.backgroundColor=this._oThemeDetails.get_colorBar();break;}if(this._eTextPosition===1){if((this._iEnabled!==2&&!!this._iEnabled)||this._eToState===Kepler.Framework.UI.Controls.EItemState.eNormal||this._eToState===Kepler.Framework.UI.Controls.EItemState.eFocus){this._elemItem.childNodes[0].style.borderColor=$0[0];this._elemItem.childNodes[0].style.backgroundColor=$0[0];}if((this._iEnabled!==3&&!!this._iEnabled)||this._eToState===Kepler.Framework.UI.Controls.EItemState.eNormal||this._eToState===Kepler.Framework.UI.Controls.EItemState.eFocus){this._elemItem.childNodes[1].style.backgroundColor=$0[1];if(this._eToState!==Kepler.Framework.UI.Controls.EItemState.eNormal){Kepler.Engine.UI.Helper.HtmlCssHelper.replaceCssClass(this._elemItem.childNodes[1].childNodes[2],'arr_normal_2 ','arrow_down ');if((this._oMsgParent).get_touchMode()){this._elemItem.childNodes[1].childNodes[0].style.visibility='hidden';}}else{Kepler.Engine.UI.Helper.HtmlCssHelper.replaceCssClass(this._elemItem.childNodes[1].childNodes[2],'arrow_down ','arr_normal_2 ');if((this._oMsgParent).get_touchMode()){this._elemItem.childNodes[1].childNodes[0].style.visibility='visible';}}}}else{if((this._iEnabled!==3&&!!this._iEnabled)||this._eToState===Kepler.Framework.UI.Controls.EItemState.eNormal||this._eToState===Kepler.Framework.UI.Controls.EItemState.eFocus){this._elemItem.childNodes[1].style.borderColor=$0[1];this._elemItem.childNodes[1].style.backgroundColor=$0[1];if(this._eToState!==Kepler.Framework.UI.Controls.EItemState.eNormal){Kepler.Engine.UI.Helper.HtmlCssHelper.replaceCssClass(this._elemItem.childNodes[1],'arr_normal_2 ','arrow_down ');}else{Kepler.Engine.UI.Helper.HtmlCssHelper.replaceCssClass(this._elemItem.childNodes[1],'arrow_down ','arr_normal_2 ');}}if((this._iEnabled!==2&&!!this._iEnabled)||this._eToState===Kepler.Framework.UI.Controls.EItemState.eNormal||this._eToState===Kepler.Framework.UI.Controls.EItemState.eFocus){this._elemItem.childNodes[0].style.backgroundColor=$0[0];}}},drawEnabledDisabledState:function(){var $0,$1=null,$2;var $3=(!this._iEnabled||this._iEnabled===4);$0=Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementById(this._elemItem,'ribbonitem-icon');$1=Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementById(this._elemItem,'ribbonitem-text');$2=Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementById(this._elemItem,'ribbonitem-arrow');this.enableDisableImage($0,!(this._iEnabled===2||$3));this.enableDisableArrow($2,!(this._iEnabled===3||$3));var $4=!($3||(this._eTextPosition===1&&this._iEnabled===3)||(!this._eTextPosition&&this._iEnabled===2));this.enableDisableText($1,$4);},enableDisableArrow:function(element,bEnabled){if(ss.isNullOrUndefined(element)){return;}bEnabled=(ss.isNullOrUndefined(bEnabled))?(!!this._iEnabled):bEnabled;if(bEnabled){Kepler.Engine.UI.Helper.HtmlCssHelper.replaceCssClass(element,'arr_disabled_2 ','arr_normal_2 ');}else{Kepler.Engine.UI.Helper.HtmlCssHelper.replaceCssClass(element,'arr_normal_2 ','arr_disabled_2 ');}},drawHighlightedState:function(){this.$F();if(this._iHighlight===1){if(this._bBehaviorToNormal&&(this._oMsgParent).get_touchMode()){Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this._elemItem,'class_visual_hint ');}else{Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this._elemItem.childNodes[0],'class_visual_hint ');}}else if(this._iHighlight===2){if(this._bBehaviorToNormal&&(this._oMsgParent).get_touchMode()){Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this._elemItem,'class_visual_hint ');}else{Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this._elemItem.childNodes[1],'class_visual_hint ');this._elemItem.childNodes[1].style.zIndex=1;}}else{this.$F();}},getShowMeEle:function(){if(this._iHighlight===1){return this._elemItem.childNodes[0];}else if(this._iHighlight===2){return this._elemItem.childNodes[1];}else{return this._elemItem;}},$F:function(){Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(this._elemItem,'class_visual_hint ');Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(this._elemItem.childNodes[0],'class_visual_hint ');Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(this._elemItem.childNodes[1],'class_visual_hint ');this._elemItem.childNodes[1].style.zIndex=0;},toString:function(){return 'RibbonItemDropdown';},reflectText:function(){Ribbon.RibbonItemDropdown.callBaseMethod(this, 'reflectText');if(this._eTextPosition===1){if(ss.isValue(this._elemItem.childNodes[1].childNodes[0])&&this._elemItem.childNodes[1].childNodes[0].id==='ribbonitem-text'){this._elemItem.childNodes[1].childNodes[0].textContent=this.get_text();}}else{if(ss.isValue(this._elemItem.childNodes[0].childNodes[1])&&this._elemItem.childNodes[0].childNodes[1].id==='ribbonitem-text'){this._elemItem.childNodes[0].childNodes[1].textContent=this.get_text();}}},onLButtonDown:function(element,mouseEventArgs){var $0=this.isMenuLaunchElement(element);if((!$0&&(this._iEnabled===3||this._iEnabled===1))||($0&&(this._iEnabled===2||this._iEnabled===1))){return Ribbon.RibbonItemDropdown.callBaseMethod(this, 'onLButtonDown',[element,mouseEventArgs]);}return true;},onLButtonUp:function(element,mouseEventArgs){var $0=this.isMenuLaunchElement(element);if((!$0&&(this._iEnabled===3||this._iEnabled===1))||($0&&(this._iEnabled===2||this._iEnabled===1))){return Ribbon.RibbonItemDropdown.callBaseMethod(this, 'onLButtonUp',[element,mouseEventArgs]);}return true;}}
Ribbon.RibbonItemGroupContainer=function(eleItem){Ribbon.RibbonItemGroupContainer.initializeBase(this);if(ss.isValue(eleItem)){this._elemItem=eleItem;}else{this._elemItem=document.createElement('div');}}
Ribbon.RibbonItemGroupContainer.prototype={$C:false,get_tabGroup:function(){return this.$C;},set_tabGroup:function(value){this.$C=value;return value;},$D:false,get_arrowGroup:function(){return this.$D;},set_arrowGroup:function(value){this.$D=value;return value;},createRibbonItem:function(bTouchMode){Ribbon.RibbonItemGroupContainer.callBaseMethod(this, 'createRibbonItem',[bTouchMode]);},processTabNavigation:function(KeyEvtArgs){if(this.$C){var $0;var $1=false;var $2=false;if(KeyEvtArgs.get_shiftKey()){$2=true;}if(this._bFocusable){if(this._lstRibbonItems.length>0){$1=false;if(ss.isValue(this._rbnFocusedItem)){$0=($2)?this.getNextFocusableItem(-1):this._rbnFocusedItem;}else{$0=this.getNextFocusableItem(-1);}if(ss.isValue($0)){$1=$0.processTabNavigation(KeyEvtArgs);}}}return $1;}else{return Ribbon.RibbonItemGroupContainer.callBaseMethod(this, 'processTabNavigation',[KeyEvtArgs]);}},processNextArrow:function(KeyEvtArgs){if(this.$D){var $0;var $1=false;if(this._bFocusable){if(this._lstRibbonItems.length>0){$1=false;$0=(ss.isValue(this._rbnFocusedItem))?this._rbnFocusedItem:this.getNextFocusableItem(-1);if(ss.isValue($0)){$1=$0.processNextArrow(KeyEvtArgs);if(!$1){var $2=this.get_listRibbonItems().indexOf($0);$2=($2>=this.get_listRibbonItems().length-1)?-1:$2;$0=this.getNextFocusableItem($2);$1=(ss.isValue($0))?$0.processNextArrow(KeyEvtArgs):true;}}}}return $1;}else{return Ribbon.RibbonItemGroupContainer.callBaseMethod(this, 'processNextArrow',[KeyEvtArgs]);}},processPrevArrow:function(KeyEvtArgs){if(this.$D){var $0;var $1=false;if(this._bFocusable){if(this._lstRibbonItems.length>0){$1=false;if(ss.isValue(this._rbnFocusedItem)){$0=this._rbnFocusedItem;$1=$0.processPrevArrow(KeyEvtArgs);if(!$1){var $2=this.get_listRibbonItems().indexOf($0);$2=($2<=1)?this.get_listRibbonItems().length:$2;$0=this.getPreFocusableItem($2);$1=(ss.isValue($0))?$0.processPrevArrow(KeyEvtArgs):true;}}}}return $1;}else{return Ribbon.RibbonItemGroupContainer.callBaseMethod(this, 'processPrevArrow',[KeyEvtArgs]);}}}
Ribbon.RibbonItemHyperLink=function(){Ribbon.RibbonItemHyperLink.initializeBase(this);this._elemItem=document.createElement('div');}
Ribbon.RibbonItemHyperLink.prototype={$C:null,get_textClass:function(){return this.$C;},set_textClass:function(value){this.$C=value;return value;},get_text:function(){return Ribbon.RibbonItemHyperLink.callBaseMethod(this, 'get_text');},set_text:function(value){Ribbon.RibbonItemHyperLink.callBaseMethod(this, 'set_text',[value]);this._elemItem.textContent=value;this.invalidate();return value;},initialise:function(iId,rcMouse,rcTouch,iMenuNo,iRtClkMenu,strText,strImageClass,oMsgParent){Ribbon.RibbonItemHyperLink.callBaseMethod(this, 'initialise',[iId,rcMouse,rcTouch,iMenuNo,iRtClkMenu,strText,strImageClass,oMsgParent]);},createRibbonItem:function(bTouchMode){Ribbon.RibbonItemHyperLink.callBaseMethod(this, 'createRibbonItem',[bTouchMode]);if(!String.isNullOrEmpty(this._strImageClass)){var $0=document.createElement('div');Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass($0,this._strImageClass);$0.style.display='inline-block';this._elemItem.appendChild($0);var $1=document.createElement('div');this._elemItem.appendChild($1);$1.style.display='inline-block';$1.style.textDecoration='inherit';$1.innerHTML=this._strText;}else{this._elemItem.innerHTML=this._strText;}if(String.isNullOrEmpty(this.$C)){this._elemItem.className='filetab_ribbonitemhyperlink';}else{this._elemItem.className=this.$C;}this._elemItem.rbnItem=this;this._elemItem.setAttribute('controltype','button');},drawItem:function(element){this.drawState();},drawState:function(){switch(this._eToState){case Kepler.Framework.UI.Controls.EItemState.eNormal:this._elemItem.style.textDecoration='none';break;case Kepler.Framework.UI.Controls.EItemState.eFocus:case Kepler.Framework.UI.Controls.EItemState.eHover:this._elemItem.style.cursor='pointer';this._elemItem.style.textDecoration='underline';break;default:break;}},$B:function(){var $0='',$1=this.getLabel(),$2=this.getTooltipBody();if(!String.isNullOrEmpty($1)){$0=this.getLabel()+' hyperlink '+this.getShortcutKey();}return $0;}}
Ribbon.RibbonItemImageAuthor=function(){Ribbon.RibbonItemImageAuthor.initializeBase(this);this._elemItem=document.createElement('div');}
Ribbon.RibbonItemImageAuthor.prototype={$C:false,get_border:function(){return this.$C;},set_border:function(value){this.$C=value;return value;},$D:false,get_isRibbonItemAuthor:function(){return this.$D;},set_isRibbonItemAuthor:function(value){this.$D=value;return value;},initalizeImage:function(strCssClass){this._elemItem.className=strCssClass;},$B:function(){return this.get_actionString()+' button';},createRibbonItem:function(bTouchMode){Ribbon.RibbonItemImageAuthor.callBaseMethod(this, 'createRibbonItem',[bTouchMode]);this._elemItem.rbnItem=this;this._elemItem.setAttribute('controltype','button');this._elemItem.style.border='1px solid white';},drawItem:function(element){this.drawState();},drawState:function(){switch(this._eToState){case Kepler.Framework.UI.Controls.EItemState.eNormal:this._elemItem.style.backgroundColor='white';this._elemItem.style.borderColor='white';if(this.$D){(this.get_parentRibbonItem()).get_elemTextBox().style.border='1px solid white';if(!!this._iFocus){(this.get_parentRibbonItem()).get_elemTextBox().style.borderColor=this._oThemeDetails.get_colorPressed();(this.get_parentRibbonItem()).get_imageOutTextBox().get_elementItem().style.display='block';(this.get_parentRibbonItem()).get_imageInTextBox().get_elementItem().style.display='block';(this.get_parentRibbonItem()).get_elemTextBox().style.color='black';}else{(this.get_parentRibbonItem()).get_elemTextBox().style.borderColor='white';(this.get_parentRibbonItem()).get_imageOutTextBox().get_elementItem().style.display='none';(this.get_parentRibbonItem()).get_imageInTextBox().get_elementItem().style.display='none';(this.get_parentRibbonItem()).get_elemTextBox().style.color='#B0B2B4';}}break;case Kepler.Framework.UI.Controls.EItemState.eFocus:case Kepler.Framework.UI.Controls.EItemState.eHover:if(this.$D){(this.get_parentRibbonItem()).get_elemTextBox().style.borderColor=this._oThemeDetails.get_colorPressed();(this.get_parentRibbonItem()).get_imageOutTextBox().get_elementItem().style.display='block';(this.get_parentRibbonItem()).get_imageInTextBox().get_elementItem().style.display='block';(this.get_parentRibbonItem()).get_elemTextBox().style.color='#6D6D6D';}this._elemItem.style.backgroundColor=this._oThemeDetails.get_colorHover();if(this.$C){this._elemItem.style.border='1px solid'+this._oThemeDetails.get_colorPressed();}break;}},setFocusOnItem:function(){var $0;this._oMsgParent.sendMessage('msg_reset_focus',null,null);if(ss.isNullOrUndefined(this.get_parentRibbonItem())){this._oMsgParent.sendMessage('msg_kill_focus',this,null);}var $1=this;while(ss.isValue($1.get_parentRibbonItem())){$1.get_parentRibbonItem().set_focusedRbnItem($1);$1=$1.get_parentRibbonItem();}if(ss.isValue(this.get_parentRibbonItem())){Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this.get_elementItem(),'display_block ');this.scrollToFocusedItem(Kepler.Engine.UI.Helper.HtmlCssHelper.getElementRect(this.get_elementScrollRect()));Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(this.get_elementItem(),'display_block ');this.get_parentRibbonItem().get_focusedRbnItem().changeState(Kepler.Framework.UI.Controls.EItemState.eFocus,this.get_parentRibbonItem().get_focusedRbnItem().get_elementItem());$0=true;}else{$0=this._oMsgParent.sendMessage('msg_set_focus',this,null);}if(Kepler.Framework.Accessibility.AccessibilitySupport.get_instance().get_isAccessibilityOn()){this.setAria();}return $0;},onMouseMove:function(mouseEventArgs){Ribbon.RibbonItemImageAuthor.callBaseMethod(this, 'onMouseMove',[mouseEventArgs]);}}
Ribbon.RibbonItemImageBtn=function(){Ribbon.RibbonItemImageBtn.initializeBase(this);this._elemItem=document.createElement('div');this.$F=new Kepler.Framework.UI.Size(0,0);this.$10=0;this.$11=0;this.$12=0;this.$13=0;}
Ribbon.RibbonItemImageBtn.prototype={$C:null,$D:null,$E:null,$F:null,$10:0,$11:0,$12:0,$13:0,createRibbonItem:function(bTouchMode){Ribbon.RibbonItemImageBtn.callBaseMethod(this, 'createRibbonItem',[bTouchMode]);var $0=this.getItemRect(bTouchMode);this._elemItem.style.position='absolute';this.setItemSize(this._elemItem,this.$F.get_width(),this.$F.get_height());this.setItemPosition(this._elemItem,$0.get_left(),$0.get_top());this.$15(bTouchMode);this._elemItem.rbnItem=this;this._elemItem.setAttribute('controltype',((this._iMenuNo===-1)?'button':'menubutton'));this._elemItem.setAttribute('role','button');Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this._elemItem,'class_image_btn'+' '+this._strImageClass+' '+this.$C);},initialise:function(iId,rcMouse,rcTouch,iMenuNo,iRtClkMenu,strText,strImageClass,oMsgParent,szImage,strNormal,strHover,strPressed){Ribbon.RibbonItemImageBtn.callBaseMethod(this, 'initialise',[iId,rcMouse,rcTouch,iMenuNo,iRtClkMenu,strText,strImageClass,oMsgParent]);if(!String.isNullOrEmpty(strNormal)){this.$C=strNormal;}if(!String.isNullOrEmpty(strHover)){this.$D=strHover;}if(!String.isNullOrEmpty(strPressed)){this.$E=strPressed;}if(ss.isValue(szImage)){this.$F=szImage;}if(ss.isValue(this._rcMouse)){this.$10=(this._rcMouse.get_width()-this.$F.get_width())/2;this.$12=(this._rcMouse.get_height()-this.$F.get_height())/2;}if(ss.isValue(this._rcTouch)){this.$11=(this._rcTouch.get_width()-this.$F.get_width())/2;this.$13=(this._rcTouch.get_height()-this.$F.get_height())/2;}},drawItem:function(element){this.$14();},drawHighlightedState:function(){this.highlightDiv(this._elemItem);},drawEnabledDisabledState:function(){this.enableDisableImage(this._elemItem);},$14:function(){var $0='';var $1='';var $2='';switch(this._eToState){case Kepler.Framework.UI.Controls.EItemState.eNormal:$0=this.$D+' '+this.$E;$1=this.$C;$2='';break;case Kepler.Framework.UI.Controls.EItemState.eHover:$0=this.$C+' '+this.$E;$1=this.$D;$2=this._oThemeDetails.get_colorHover();break;case Kepler.Framework.UI.Controls.EItemState.ePressedHover:case Kepler.Framework.UI.Controls.EItemState.ePressed:$0=this.$C+' '+this.$D;$1=this.$E;$2=this._oThemeDetails.get_colorPressed();break;case Kepler.Framework.UI.Controls.EItemState.eFocus:$0=this.$C+' '+this.$E;$1=this.$D;$2=this._oThemeDetails.get_colorHover();break;case Kepler.Framework.UI.Controls.EItemState.eFocusHover:break;default:break;}Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(this._elemItem,$0);Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this._elemItem,$1);this._elemItem.style.backgroundColor=$2;this._elemItem.style.borderColor=$2;},toString:function(){return 'RibbonItemImageBtn';},toggleMode:function(bMode){Ribbon.RibbonItemImageBtn.callBaseMethod(this, 'toggleMode',[bMode]);var $0=this.getItemRect(bMode);this.setItemPosition(this._elemItem,$0.get_left(),$0.get_top());this.$15(bMode);},$15:function($p0){this._elemItem.style.borderLeftWidth=this._elemItem.style.borderRightWidth=this.$16($p0)+'px';this._elemItem.style.borderTopWidth=this._elemItem.style.borderBottomWidth=this.$17($p0)+'px';},$16:function($p0){return ($p0)?this.$11:this.$10;},$17:function($p0){return ($p0)?this.$13:this.$12;}}
Ribbon.RibbonItemImageDropDown=function(){Ribbon.RibbonItemImageDropDown.initializeBase(this);this._elemItem=document.createElement('div');}
Ribbon.RibbonItemImageDropDown.prototype={$B:function(){var $0='',$1=this.getLabel();if((this._oMsgParent).get_isFileTabActive()&&!String.isNullOrEmpty($1)){$0=$1+' editable combobox '+this.getShortcutKey();}else{$0=Ribbon.RibbonItemImageDropDown.callBaseMethod(this, '$B');}return $0;},$10:function(){var $0=this;while($0!=null){if(Type.canCast($0,Ribbon.RibbonTabForFileTab)&&($0).get_ribbonTabType()===1){return $0.get_text();}$0=$0.get_parentRibbonItem();}return '';},$11:null,get_discriptionText:function(){return this.$11;},set_discriptionText:function(value){this.$11=value;return value;},$12:null,get_elementImage:function(){return this.$12;},$13:null,get_elementHeaderText:function(){return this.$13;},$14:null,get_elementDiscriptionText:function(){return this.$14;},$15:null,get_elementArrowImage:function(){return this.$15;},$16:false,get_isComboBox:function(){return this.$16;},set_isComboBox:function(value){this.$16=value;return value;},get_text:function(){return Ribbon.RibbonItemImageDropDown.callBaseMethod(this, 'get_text');},set_text:function(value){if(ss.isValue(value)){var $0=value.split(Kepler.Framework.Core.Seperators.spikeD_CIRCLE);if($0.length===2){this._strText=$0[0];this.$11=$0[1];}else{this._strText=value;}}return value;},initialise:function(iId,rcMouse,rcTouch,iMenuNo,iRtClkMenu,strText,strImageClass,oMsgParent){Ribbon.RibbonItemImageDropDown.callBaseMethod(this, 'initialise',[iId,rcMouse,rcTouch,iMenuNo,iRtClkMenu,strText,strImageClass,oMsgParent]);if(String.isNullOrEmpty(strImageClass)){this.$16=true;}},createRibbonItem:function(bTouchMode){Ribbon.RibbonItemImageDropDown.callBaseMethod(this, 'createRibbonItem',[bTouchMode]);this.$12=document.createElement('div');this.$13=document.createElement('div');this.$14=document.createElement('div');this.$15=document.createElement('div');this.$12.className=this._strImageClass;this.$12.id='ribbonitem-icon';this.$13.className='filetab_dropdownheader_class';this.$14.className='filetab_dropdowndis_class';this.$15.className='filetab_dropdownarrow_class';this._elemItem.className='filetab_dropdownparent_class';this.$13.innerHTML=this._strText;this.$14.innerHTML=this.$11;if(!this.$16){this._elemItem.appendChild(this.$12);this._elemItem.appendChild(this.$13);this._elemItem.appendChild(this.$14);this._elemItem.appendChild(this.$15);}else{this._elemItem.appendChild(this.$15);this._elemItem.appendChild(this.$13);this.$15.style.top='7px';this.$15.style.right='6px';this.$13.style.left='2px';}this._elemItem.rbnItem=this;this._elemItem.setAttribute('controltype','menubutton');},showMenu:function(element,bDefActiveItem){if(this.$16){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getComputedRect(this._elemItem);var $1=this._oMsgParent.sendMessage('msg_get_menu_wnd',this._iMenuNo,null);$1.setMenuWidth($0.get_width()-2);}Ribbon.RibbonItemImageDropDown.callBaseMethod(this, 'showMenu',[element,bDefActiveItem]);},drawItem:function(element){this.drawDropDownState();},drawDropDownState:function(){switch(this._eToState){case Kepler.Framework.UI.Controls.EItemState.eNormal:this._elemItem.style.backgroundColor='white';this._elemItem.style.border='1px solid #ABABAB';break;case Kepler.Framework.UI.Controls.EItemState.eFocus:case Kepler.Framework.UI.Controls.EItemState.eHover:this._elemItem.style.border='1px solid '+this._oThemeDetails.get_colorPressed();this._elemItem.style.backgroundColor=this._oThemeDetails.get_colorHover();break;case Kepler.Framework.UI.Controls.EItemState.ePressedHover:case Kepler.Framework.UI.Controls.EItemState.ePressed:if(this.$16){this._elemItem.style.backgroundColor=this._oThemeDetails.get_colorPressed();}break;default:break;}},reflectText:function(){Ribbon.RibbonItemImageDropDown.callBaseMethod(this, 'reflectText');this.$13.innerHTML=this.get_text();this.$14.innerHTML=this.get_discriptionText();},processNextArrow:function(KeyEvtArgs){var $0=false;if(KeyEvtArgs.get_key()===Kepler.Framework.UI.Events.EventArgsNs.Keys.down&&ss.isValue(this.get_parentRibbonItem())&&this.get_parentRibbonItem().get_focusedRbnItem()===this){this.showMenu(this.get_elementArrowImage(),false);$0=true;}else{$0=Ribbon.RibbonItemImageDropDown.callBaseMethod(this, 'processNextArrow',[KeyEvtArgs]);}return $0;},processPrevArrow:function(KeyEvtArgs){var $0=false;if(KeyEvtArgs.get_key()===Kepler.Framework.UI.Events.EventArgsNs.Keys.up&&ss.isValue(this.get_parentRibbonItem())&&this.get_parentRibbonItem().get_focusedRbnItem()===this){this.showMenu(this.get_elementArrowImage(),false);$0=true;}else{$0=Ribbon.RibbonItemImageDropDown.callBaseMethod(this, 'processPrevArrow',[KeyEvtArgs]);}return $0;}}
Ribbon.RibbonItemInternalSeperator=function(){Ribbon.RibbonItemInternalSeperator.initializeBase(this);this._elemItem=document.createElement('div');this.$D=false;this._bFocusable=false;}
Ribbon.RibbonItemInternalSeperator.prototype={$D:false,initialise:function(iId,rcMouse,rcTouch,iMenuNo,iRtClkMenu,strText,strImageClass,oMsgParent,bTouchVisible){Ribbon.RibbonItemInternalSeperator.callBaseMethod(this, 'initialise',[iId,rcMouse,rcTouch,iMenuNo,iRtClkMenu,strText,strImageClass,oMsgParent]);this.$D=bTouchVisible;},createRibbonItem:function(bTouchMode){Ribbon.RibbonItemInternalSeperator.callBaseMethod(this, 'createRibbonItem',[bTouchMode]);this._elemItem.style.position='absolute';this.setItemRect(this._elemItem,this.getItemRect(bTouchMode));Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this._elemItem,'class_rbnitem_internal_seperator');this._elemItem.style.display=(bTouchMode)?((this.$D)?'block':'none'):'block';},toggleMode:function(bMode){Ribbon.RibbonItemInternalSeperator.callBaseMethod(this, 'toggleMode',[bMode]);this.setItemRect(this._elemItem,this.getItemRect(bMode));this._elemItem.style.display=(bMode)?((this.$D)?'block':'none'):'block';},toString:function(){return 'RibbonItemInternalSeperator';}}
Ribbon.RibbonItemInverseDropDown=function(){Ribbon.RibbonItemInverseDropDown.initializeBase(this);}
Ribbon.RibbonItemInverseDropDown.prototype={initialise:function(iId,rcMouse,rcTouch,iMenuNo,iRtClkMenu,strText,strImageClass,oMsgParent){Ribbon.RibbonItemInverseDropDown.callBaseMethod(this, 'initialise',[iId,rcMouse,rcTouch,iMenuNo,iRtClkMenu,strText,strImageClass,oMsgParent,false,true]);},createRibbonItem:function(bTouchMode){var $0={};this._elemItem.style.position='absolute';this._elemItem.setAttribute('controltype','menubutton');Object.clearKeys($0);$0['role']='button';$0['controltype']='button';var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div',null,'relative',1,1,null,null,null,$0);this._elemItem.appendChild($1);$1.style.cssFloat='left';var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div','ribbonitem-icon','relative',null,null,16,16,this._strImageClass,null);this._elemItem.appendChild($1);$2.style.margin='auto';$1.appendChild($2);Object.clearKeys($0);$0['role']='button';$0['controltype']='menubutton';var $3=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div',null,'relative',2,1,null,null,'class_ribbon_font '+' '+'class_ribbon_item_text ',$0);this._elemItem.appendChild($3);$3.style.cssFloat='left';$3.style.textAlign='left';$3.innerHTML=this._strText;var $4=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div','ribbonitem-arrow','relative',3,-4,5,3,'class_ImgPath_Arrow '+' '+'arr_normal_2 ',null);$3.appendChild($4);$4.style.display='inline-block';this.toggleMode(bTouchMode);},drawState:function(iEleIndex){var $0=new Array(2);switch(this._eToState){case Kepler.Framework.UI.Controls.EItemState.eNormal:if(this.get_checked()){$0[iEleIndex]=this._oThemeDetails.get_colorChecked();$0[1-iEleIndex]=this._oThemeDetails.get_colorChecked();this._elemItem.style.backgroundColor=this._oThemeDetails.get_colorChecked();}else{$0[iEleIndex]='#FFFFFF';$0[1-iEleIndex]='#FFFFFF';if(this._iEnabled===1){this._elemItem.style.backgroundColor='#FFFFFF';}}break;case Kepler.Framework.UI.Controls.EItemState.ePressedHover:case Kepler.Framework.UI.Controls.EItemState.ePressed:if((this._oMsgParent).get_touchMode()){$0[iEleIndex]=this._oThemeDetails.get_colorPressed();$0[1-iEleIndex]=this._oThemeDetails.get_colorPressed();}else{$0[iEleIndex]=this._oThemeDetails.get_colorPressed();$0[1-iEleIndex]=(!iEleIndex)?'#FFFFFF':this._oThemeDetails.get_colorPressed();}if(this._iEnabled===1){this._elemItem.style.backgroundColor=this._oThemeDetails.get_colorPressed();}break;case Kepler.Framework.UI.Controls.EItemState.eHover:if((this._oMsgParent).get_touchMode()){$0[iEleIndex]=this._oThemeDetails.get_colorHover();$0[1-iEleIndex]=this._oThemeDetails.get_colorHover();}else{if(this.get_checked()){$0[iEleIndex]=this._oThemeDetails.get_colorHover();$0[1-iEleIndex]=this._oThemeDetails.get_colorChecked();}else{$0[iEleIndex]=this._oThemeDetails.get_colorHover();$0[1-iEleIndex]='#FFFFFF';}}if(this._iEnabled===1){this._elemItem.style.backgroundColor=this._oThemeDetails.get_colorHover();}break;default:$0[iEleIndex]='#FFFFFF';$0[1-iEleIndex]='#FFFFFF';this._elemItem.style.backgroundColor='#FFFFFF';break;}if(this._iEnabled!==3&&!!this._iEnabled){this._elemItem.childNodes[1].style.backgroundColor=$0[1];if(this._eToState!==Kepler.Framework.UI.Controls.EItemState.eNormal){Kepler.Engine.UI.Helper.HtmlCssHelper.replaceCssClass(Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementById(this._elemItem,'ribbonitem-arrow'),'arr_normal_2 ','arrow_down ');}else{Kepler.Engine.UI.Helper.HtmlCssHelper.replaceCssClass(Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementById(this._elemItem,'ribbonitem-arrow'),'arrow_down ','arr_normal_2 ');}}if(this._iEnabled!==2&&!!this._iEnabled){this._elemItem.childNodes[0].style.backgroundColor=$0[0];}},toggleMode:function(bMode){var $0=20;var $1=new Kepler.Framework.UI.Rect(0,0,0,0);var $2=this.getItemRect(bMode);var $3=this._elemItem.childNodes[0];var $4=this._elemItem.childNodes[1];var $5=$3.firstChild;var $6=Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementById($4,'ribbonitem-arrow');this.setItemRect(this._elemItem,$2);$1.set_width($0);$1.set_height(($2.get_height()-2));this.setItemSize($3,$1.get_width(),$1.get_height());var $7=(bMode)?12:0;$3.style.marginLeft=$7+'px';$1.set_top(($1.get_height()-16)/2);$5.style.top=$1.get_top()+'px';$1.set_top(1);$1.set_left((bMode)?5:2);$1.set_height($2.get_height()-2);$1.set_width($2.get_width()-($0+$7+$1.get_left()+1));this.setItemRect($4,$1);$4.style.lineHeight=$2.get_height()-2+'px';this.drawHighlightedState();if(bMode){$3.rbnItem=null;$4.rbnItem=null;this._elemItem.rbnItem=this;}else{$3.rbnItem=this;$4.rbnItem=this;this._elemItem.rbnItem=null;}},reflectText:function(){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementById(this._elemItem,'ribbonitem-text');if(ss.isValue($0)){$0.textContent=this.get_text();}}}
Ribbon.RibbonItemLable=function(){Ribbon.RibbonItemLable.initializeBase(this);this._bFocusable=false;this._elemItem=document.createElement('div');}
Ribbon.RibbonItemLable.prototype={createRibbonItem:function(bTouchMode){this._elemItem.className='lable_text_cont';var $0=document.createElement('div');$0.innerHTML=this.get_text();$0.className='lable_text';this._elemItem.appendChild($0);this._elemItem.rbnItem=this;if(this._iMenuNo!==-1||this._iRtClickMenuNo!==-1){this._elemItem.rbnItem=this;this._elemItem.setAttribute('controltype','menubutton');}},reflectText:function(){this._elemItem.firstChild.innerHTML=this.get_text();},toggleMode:function(bMode){}}
Ribbon.RibbonItemListCtrl=function(){Ribbon.RibbonItemListCtrl.initializeBase(this);this._lstRbnItemsForListItems=[];this._elemItem=document.createElement('div');this.$C=-1;this.$D={};}
Ribbon.RibbonItemListCtrl.prototype={$C:0,_lstRbnItemsForListItems:null,get_activeItem:function(){return this.$C;},set_activeItem:function(value){this.$C=value;return value;},$D:null,createRibbonItem:function(bTouchMode){Ribbon.RibbonItemListCtrl.callBaseMethod(this, 'createRibbonItem',[bTouchMode]);},attachMessages:function(){this.attachMessage('msg_ribbon_item_command',ss.Delegate.create(this,this.onMsgRibbonItemCommand));},onMsgRibbonItemCommand:function(wParam,lParam){this._oMsgParent.sendMessage('msg_ribbon_item_command',wParam,lParam);return null;},setActiveItem:function(iItemID){if(ss.isNullOrUndefined(iItemID)){return;}else if(iItemID===this.$C){return;}var $0=this.getItemById(iItemID);if($0.get_enabled()===1){if(ss.isValue($0)&&(Ribbon.RibbonTabListItem).isInstanceOfType($0)){this.$E($0);}}},addItem:function(oRibbonItem,elemParent){Ribbon.RibbonItemListCtrl.callBaseMethod(this, 'addItem',[oRibbonItem,elemParent]);if((Ribbon.RibbonTabListItem).isInstanceOfType(oRibbonItem)){this._lstRbnItemsForListItems.add(oRibbonItem);if(this.$C===-1){this.setActiveItem(oRibbonItem.get_id());}else{(oRibbonItem).set_active(false);}}},$E:function($p0){if(ss.isNullOrUndefined($p0)){return;}if(this.$C!==-1){var $0=this.getItemById(this.$C);($0).set_active(false);$p0.invalidate();}this.$C=$p0.get_id();$p0.set_active(true);$p0.invalidate();},processTabNavigation:function(KeyEvtArgs){var $0;var $1=false;if(this._bFocusable){if(this._lstRibbonItems.length>0){$1=false;$0=(ss.isValue(this._rbnFocusedItem))?this._rbnFocusedItem:this.getItemById(this.$C);if(ss.isValue($0)){$1=$0.processTabNavigation(KeyEvtArgs);}}}return $1;},getRowColoum:function(){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getComputedRect(this.get_elementItem()).get_width();var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getComputedRect(this.get_elementItem()).get_height();var $2=this.getItemById(this.$C);var $3=parseInt(($0/$2.get_rectangleMouse().get_width()));var $4=parseInt((this._lstRbnItemsForListItems.length/$3));return new Kepler.Framework.UI.Point($4,$3);},processNextArrow:function(KeyEvtArgs){var $0;var $1=false;if(KeyEvtArgs.get_key()===Kepler.Framework.UI.Events.EventArgsNs.Keys.right){$1=true;}if(this._bFocusable){var $2=this.getRowColoum();var $3=this.getItemById(this.$C);var $4=this._lstRbnItemsForListItems.indexOf($3);if($1){$4=$4+1;if(!($4%$2.get_y())){$4=$4-$2.get_y();}}else{$4=$4+$2.get_y();if($4>this._lstRbnItemsForListItems.length-1){$4=$4%this._lstRbnItemsForListItems.length;}}$0=this._lstRbnItemsForListItems[$4];if(ss.isValue($0)){var $5=$0.setFocusOnItem();if(!$5){$0=this._lstRbnItemsForListItems[$4];if(ss.isValue($0)){if(!ss.isValue($0.get_focusedRbnItem())){$0.setFocusOnItem();return true;}}}else{this.setActiveItem($0.get_id());}return $5;}}return false;},processPrevArrow:function(KeyEvtArgs){var $0;var $1=false;if(KeyEvtArgs.get_key()===Kepler.Framework.UI.Events.EventArgsNs.Keys.left){$1=true;}if(this._bFocusable){var $2=this.getRowColoum();var $3=this.getItemById(this.$C);var $4=this._lstRbnItemsForListItems.indexOf($3);if($1){if(!($4%$2.get_y())){$4=$4+$2.get_y();}$4=$4-1;}else{$4=$4-$2.get_y();if($4<0){$4=$4+this._lstRbnItemsForListItems.length;}}$0=this._lstRbnItemsForListItems[$4];if(ss.isValue($0)){var $5=$0.setFocusOnItem();if(!$5){$0=this._lstRbnItemsForListItems[$4];if(ss.isValue($0)){if(!ss.isValue($0.get_focusedRbnItem())){$0.setFocusOnItem();return true;}}}else{this.setActiveItem($0.get_id());}return $5;}}return false;},attachMessage:function(strMessage,msgHandler){this.$D[strMessage]=msgHandler;},sendMessage:function(strMessage,wParam,lParam){var $0=this.$D[strMessage];if($0!=null){return $0(wParam,lParam);}return null;},detachMessage:function(strMessage){delete this.$D[strMessage];},postMessage:function(strMessage,wParam,lParam,bRemovePreviousMsgs){Kepler.Framework.Core.Messaging.PostMessageManager.postMessage(this,strMessage,wParam,lParam,bRemovePreviousMsgs);}}
Ribbon.RibbonItemNormal=function(){Ribbon.RibbonItemNormal.initializeBase(this);this._elemItem=document.createElement('div');this.$10='';this._strTextCssClass='';this._bIsTextMultiLine=false;this._bBorder=false;this._bNormalStateBorder=false;}
Ribbon.RibbonItemNormal.prototype={_bIsTextMultiLine:false,_bBorder:false,get_border:function(){return this._bBorder;},set_border:function(value){this._bBorder=value;return value;},_bNormalStateBorder:false,get_borderNormalState:function(){return this._bNormalStateBorder;},set_borderNormalState:function(value){this._bNormalStateBorder=value;return value;},$F:false,get_dblClkNeeded:function(){return this.$F;},set_dblClkNeeded:function(value){this.$F=value;return value;},$10:null,_strTextCssClass:null,get_textCssClass:function(){return this._strTextCssClass;},set_textCssClass:function(value){this._strTextCssClass=value;return value;},initialise:function(iId,rcMouse,rcTouch,iMenuNo,iRtClkMenu,strText,strImageClass,oMsgParent,bIsTextMultiline){Ribbon.RibbonItemNormal.callBaseMethod(this, 'initialise',[iId,rcMouse,rcTouch,iMenuNo,iRtClkMenu,strText,strImageClass,oMsgParent]);this._bIsTextMultiLine=bIsTextMultiline;},$B:function(){var $0='';if(this._iMenuNo!==-1&&ss.isValue(this.get_parentRibbonItem())){if(ss.isNullOrUndefined((this._oMsgParent).get_rbnMenuLaunched())){$0=this.getLabel()+' collapsed menuitem menukey '+this.getShortcutKey()+' '+this.getTooltipBody();}else{$0=this.getLabel()+' menuitem menukey '+this.getShortcutKey()+' '+this.getTooltipBody();}}else if(this.get_checkable()){$0=Ribbon.RibbonItemNormal.callBaseMethod(this, '$B');if(this.get_checked()){$0=' ON '+$0;}else{$0=' OFF '+$0;}}else{$0=Ribbon.RibbonItemNormal.callBaseMethod(this, '$B');}return $0;},createRibbonItem:function(bTouchMode){Ribbon.RibbonItemNormal.callBaseMethod(this, 'createRibbonItem',[bTouchMode]);this._elemItem.rbnItem=this;this._elemItem.setAttribute('role','button');this._elemItem.style.position='absolute';this._elemItem.setAttribute('controltype',((this._iMenuNo===-1)?'button':'menubutton'));this.setItemRect(this._elemItem,this.getItemRect(bTouchMode));var $0='class_ribbonitem_center';Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this._elemItem,'class_ribbon_item_normal');Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this._elemItem,$0);if(this._bBorder){this._elemItem.style.border=(this._bNormalStateBorder)?'1px solid #ABABAB':'1px solid transparent';}this.$11(bTouchMode);this.createTextPart(bTouchMode);this.createDropDownPart(bTouchMode);},$11:function($p0){if(ss.isValue(this._strImageClass)){var $0=document.createElement('div');$0.id='ribbonitem-icon';Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass($0,'class_ribbon_img_cont ');Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass($0,this._strImageClass);var $1=3;if(this._eTextPosition===1){if(this._bIsTextMultiLine){$1=2;$0.style.margin='auto';$0.style.display='block';}if($p0){$1+=1;$0.style.border='4px solid transparent';}}else{if($p0){$1+=((this._rcTouch.get_height()-this._rcMouse.get_height())/2);}else{$1=Math.floor(this._rcMouse.get_height()/2)-9;}if(ss.isValue(this.get_text())&&!String.isNullOrEmpty(this.get_text())){if(this._iMenuNo!==-1){if(ss.isValue(this.get_text())&&!String.isNullOrEmpty(this.get_text())){$0.style.left=(Ribbon.RibbonItemNormal.lefT_POS+(($p0)?1:0))+'px';}}else{$0.style.left=Ribbon.RibbonItemNormal.$E+'px';}}else{if(this._iMenuNo!==-1){if($p0){$0.style.left='3px';}}}}$0.style.top=$1+'px';this._elemItem.appendChild($0);}},createTextPart:function(bTouchMode){if(ss.isValue(this.get_text())&&!String.isNullOrEmpty(this.get_text())){var $0=document.createElement('span');$0.setAttribute('role','document');$0.id='ribbonitem-text';$0.innerHTML=this.get_text();$0.style.position='relative';$0.style.left='0px';var $1='class_ribbon_item_text '+' '+'class_ribbon_font '+' '+((this._eTextPosition===1)?'class_ribbon_item_text_bottomalign':'class_ribbon_left_margin_3');Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass($0,$1);var $2=4;if(ss.isValue(this._strTextCssClass)&&!String.isNullOrEmpty(this._strTextCssClass)){Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass($0,this._strTextCssClass);}if(this._eTextPosition===1){$2=5;$0.style.paddingLeft=$0.style.paddingRight='1px';if(!this._bIsTextMultiLine){$2=8;$0.style.display='block';}if(bTouchMode){$2+=7;}}else{if(bTouchMode){$2+=((this._rcTouch.get_height()-this._rcMouse.get_height())/2);}if(this._iMenuNo!==-1){if(bTouchMode){$0.style.left=(Ribbon.RibbonItemNormal.lefT_POS+5)+'px';}else{$0.style.left=Ribbon.RibbonItemNormal.lefT_POS+'px';}}else{$0.style.left=0+'px';}}$0.style.top=$2+'px';this._elemItem.appendChild($0);}},createDropDownPart:function(bTouchMode){if(this._iMenuNo!==-1){var $0=document.createElement('div');$0.id='ribbonitem-arrow';var $1='relative';var $2=4;if(this._eTextPosition===1){if(this._bIsTextMultiLine){$2=4;this.$10='class_ribbon_left_margin_2 class_ribbon_right_margin_2';}else{$2=5;}if(bTouchMode){$2+=8;}}else{if(bTouchMode){$2+=((this._rcTouch.get_height()-this._rcMouse.get_height())/2);}if(!(ss.isValue(this.get_text())&&!String.isNullOrEmpty(this.get_text()))){this.$10='class_ribbon_left_margin_4';if(bTouchMode){$0.style.left='4px';}}else{if(bTouchMode){$0.style.left='5px';}}}this.$10+=' '+'arr_normal_2 '+' '+'arrow_down '+' '+'class_ribbon_img_cont '+' '+'class_ImgPath_Arrow ';Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass($0,this.$10);$0.style.position=$1;$0.style.top=$2+'px';this.setItemSize($0,5,3);this._elemItem.setAttribute('controltype','menubutton');this._elemItem.appendChild($0);}else{this._elemItem.setAttribute('controltype','button');}},toggleMode:function(bMode){Ribbon.RibbonItemNormal.callBaseMethod(this, 'toggleMode',[bMode]);this.setItemRect(this._elemItem,this.getItemRect(bMode));var $0=(this._rcTouch.get_height()-this._rcMouse.get_height())/2;$0=(bMode)?$0:-$0;var $1=8;$1=(bMode)?$1:-$1;if(this._eTextPosition!==1){for(var $2=0;$2<this._elemItem.childNodes.length;$2++){this._elemItem.childNodes[$2].style.top=(parseFloat(this._elemItem.childNodes[$2].style.top)+$0)+'px';}if(this._iMenuNo!==-1){if(ss.isValue(this.get_text())&&!String.isNullOrEmpty(this.get_text())){this._elemItem.childNodes[0].style.left=(parseInt(this._elemItem.childNodes[0].style.left)+((bMode)?1:-1))+'px';this._elemItem.childNodes[1].style.left=(parseInt(this._elemItem.childNodes[1].style.left)+((bMode)?5:-5))+'px';this._elemItem.childNodes[2].style.left=((bMode)?'5px':'');}else{this._elemItem.childNodes[0].style.left=((bMode)?'3px':'');this._elemItem.childNodes[1].style.left=((bMode)?'4px':'');}}}else{this._elemItem.childNodes[0].style.border=(bMode)?'4px solid transparent':'';this._elemItem.childNodes[0].style.top=(parseFloat(this._elemItem.childNodes[0].style.top)+((bMode)?1:-1))+'px';for(var $3=1;$3<this._elemItem.childNodes.length;$3++){this._elemItem.childNodes[$3].style.top=(parseFloat(this._elemItem.childNodes[$3].style.top)+$1)+'px';}}},drawItem:function(element){this.drawState();},drawState:function(){switch(this._eToState){case Kepler.Framework.UI.Controls.EItemState.eNormal:if(this._bBorder){this._elemItem.style.border=(this._bNormalStateBorder)?'1px solid #ABABAB':'1px solid transparent';}this._elemItem.style.backgroundColor=(this.get_checked())?this._oThemeDetails.get_colorChecked():'transparent';break;case Kepler.Framework.UI.Controls.EItemState.eFocus:case Kepler.Framework.UI.Controls.EItemState.eHover:if(this._bBorder){this._elemItem.style.border='1px solid '+this._oThemeDetails.get_colorPressed();}this._elemItem.style.backgroundColor=this._oThemeDetails.get_colorHover();break;case Kepler.Framework.UI.Controls.EItemState.ePressedHover:case Kepler.Framework.UI.Controls.EItemState.ePressed:if(this._bBorder){this._elemItem.style.border='1px solid '+this._oThemeDetails.get_colorNormalLight();}this._elemItem.style.backgroundColor=this._oThemeDetails.get_colorPressed();break;default:break;}if(this._iMenuNo!==-1){var $0=this._elemItem.childNodes[this._elemItem.childNodes.length-1];if(this._eToState===Kepler.Framework.UI.Controls.EItemState.eNormal){Kepler.Engine.UI.Helper.HtmlCssHelper.replaceCssClass($0,'arrow_down ','arr_normal_2 ');}else{Kepler.Engine.UI.Helper.HtmlCssHelper.replaceCssClass($0,'arr_normal_2 ','arrow_down ');}}},drawEnabledDisabledState:function(){this.enableDisableImage(Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementById(this._elemItem,'ribbonitem-icon'));this.enableDisableText(Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementById(this._elemItem,'ribbonitem-text'));this.enableDisableArrow(Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementById(this._elemItem,'ribbonitem-arrow'));},enableDisableArrow:function(element,bEnabled){if(ss.isNullOrUndefined(element)){return;}bEnabled=(ss.isNullOrUndefined(bEnabled))?(!!this._iEnabled):bEnabled;if(bEnabled){Kepler.Engine.UI.Helper.HtmlCssHelper.replaceCssClass(element,'arr_disabled_2 ','arr_normal_2 ');}else{Kepler.Engine.UI.Helper.HtmlCssHelper.replaceCssClass(element,'arr_normal_2 ','arr_disabled_2 ');}},drawHighlightedState:function(){if(Type.canCast(this._oMsgParent,Ribbon.BaseRibbonManager)&&(this._oMsgParent).get_isFileTabActive()&&!!this._iHighlight){this.$12();}this.highlightDiv(this._elemItem);},$12:function(){this.setFocusAllMode();this._oMsgParent.sendMessage('msg_reset_focus',this,null);},toString:function(){return 'RibbonItemNormal';},reflectText:function(){var $0=this._elemItem.childNodes[1];if(ss.isValue($0)&&$0.id==='ribbonitem-text'){$0.textContent=this.get_text();}},getPopupMenuRect:function(element){var $0=Ribbon.RibbonItemNormal.callBaseMethod(this, 'getPopupMenuRect',[element]);if(this._bBorder){$0.set_width($0.get_width()+2);$0.set_height($0.get_height()+2);}return $0;}}
Ribbon.RibbonItemOutlineDropDown=function(){Ribbon.RibbonItemOutlineDropDown.initializeBase(this);this._elemItem=document.createElement('div');}
Ribbon.RibbonItemOutlineDropDown.prototype={$E:null,$F:null,$10:null,get_text:function(){return Ribbon.RibbonItemOutlineDropDown.callBaseMethod(this, 'get_text');},set_text:function(value){Ribbon.RibbonItemOutlineDropDown.callBaseMethod(this, 'set_text',[value]);this.$11(this._strText);return value;},initialise:function(iId,rcMouse,rcTouch,iMenuNo,iRtClkMenu,strText,strImageClass,oMsgParent){Ribbon.RibbonItemOutlineDropDown.callBaseMethod(this, 'initialise',[iId,rcMouse,rcTouch,iMenuNo,iRtClkMenu,strText,strImageClass,oMsgParent]);this._strText=strText;},createRibbonItem:function(bTouchMode){Ribbon.RibbonItemOutlineDropDown.callBaseMethod(this, 'createRibbonItem',[bTouchMode]);var $0=this.getItemRect(bTouchMode);this._elemItem.style.position='absolute';this.setItemRect(this._elemItem,$0);this._elemItem.className='combo_normal';this._elemItem.rbnItem=this;this.$E=document.createElement('div');this.$E.className='combo_DownBtn';this.$E.style.width=((bTouchMode)?18:12)+'px';this.$E.rbnItem=this;this.$E.setAttribute('role','button');this.$F=document.createElement('div');this.$F.className='combo_arr'+' '+'class_ImgPath_Arrow '+' '+'arrow_down '+' '+'arr_normal ';this.$E.appendChild(this.$F);this.$F.style.top=($0.get_height()-3)/2+'px';this.$10=document.createElement('div');this.$10.style.width=((bTouchMode)?$0.get_width()-18:$0.get_width()-12)+'px';this.$10.innerHTML=this._strText;this.$10.className='class_menu_font ';this.$10.style.position='absolute';this.$10.style.top='6px';this.$10.style.left='3px';this._elemItem.appendChild(this.$E);this._elemItem.appendChild(this.$10);this._elemItem.setAttribute('controltype','menubutton');this.$E.setAttribute('controltype','menubutton');},$11:function($p0){this.$10.innerHTML=$p0;},drawItem:function(element){if(!this._iEnabled){return;}this.drawState(element);},drawEnabledDisabledState:function(){this.enableDisableArrow(this.$F);if(!this._iEnabled){Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this._elemItem,'combo_disabled');}else{Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(this._elemItem,'combo_disabled');}},drawHighlightedState:function(){Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(this._elemItem,'class_visual_hint ');Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(this.$E,'class_visual_hint ');if(this._iHighlight===1){Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this._elemItem,'class_visual_hint ');}},drawState:function(element){switch(this._eToState){case Kepler.Framework.UI.Controls.EItemState.eNormal:this._elemItem.style.borderColor='#ABABAB';this.$E.style.backgroundColor='';this.$E.style.borderColor='';this.$E.firstChild.style.opacity='';break;case Kepler.Framework.UI.Controls.EItemState.eHover:this._elemItem.style.borderColor=this._oThemeDetails.get_colorPressed();this.$E.style.borderColor=this._oThemeDetails.get_colorPressed();this.$E.style.backgroundColor=this._oThemeDetails.get_colorHover();break;case Kepler.Framework.UI.Controls.EItemState.ePressedHover:case Kepler.Framework.UI.Controls.EItemState.ePressed:this._elemItem.style.borderColor='#ABABAB';this.$E.style.backgroundColor=this._oThemeDetails.get_colorPressed();this.$E.style.borderColor=this._oThemeDetails.get_colorPressed();break;default:break;}}}
Ribbon.RibbonItemPathButton=function(){Ribbon.RibbonItemPathButton.initializeBase(this);this.set_isInfoPathButton(true);this.set_border(true);}
Ribbon.RibbonItemPathButton.prototype={$13:false,get_isInfoPathButton:function(){return this.$13;},set_isInfoPathButton:function(value){this.$13=value;return value;},drawItem:function(element){if(this.get_isInfoPathButton()){this.drawPathBtnState();}else{Ribbon.RibbonItemPathButton.callBaseMethod(this, 'drawItem',[element]);}},drawPathBtnState:function(){switch(this._eToState){case Kepler.Framework.UI.Controls.EItemState.eNormal:this._elemItem.firstChild.style.border='1px solid transparent';this._elemItem.firstChild.style.backgroundColor=(this.get_checked())?this._oThemeDetails.get_colorChecked():'transparent';break;case Kepler.Framework.UI.Controls.EItemState.eHover:case Kepler.Framework.UI.Controls.EItemState.eFocus:this._elemItem.firstChild.style.border='1px solid '+this._oThemeDetails.get_colorPressed();this._elemItem.firstChild.style.backgroundColor=this._oThemeDetails.get_colorHover();break;case Kepler.Framework.UI.Controls.EItemState.ePressedHover:case Kepler.Framework.UI.Controls.EItemState.ePressed:this._elemItem.firstChild.style.border='1px solid '+this._oThemeDetails.get_colorNormalLight();this._elemItem.firstChild.style.backgroundColor=this._oThemeDetails.get_colorPressed();break;default:break;}},reflectText:function(){var $0=this._elemItem.childNodes[0];if(ss.isValue($0)&&$0.id==='ribbonitem-text'){$0.textContent=this.get_text();}}}
Ribbon.RibbonItemPin=function(){Ribbon.RibbonItemPin.initializeBase(this);this._elemItem=document.createElement('div');this.$C=false;}
Ribbon.RibbonItemPin.prototype={$C:false,get_pinImageState:function(){return this.$C;},set_pinImageState:function(value){this.$C=value;return value;},$D:false,get_pinImageUsedIn:function(){return this.$D;},set_pinImageUsedIn:function(value){this.$D=value;return value;},getActionString:function(){if(!String.isNullOrEmpty(this.get_parentRibbonItem().get_text())){return 44+Kepler.Framework.Core.Seperators.v_CROSS+this.get_parentRibbonItem().get_text();}else if(ss.isValue(this.get_parentRibbonItem().get_ttParamList())&&ss.isValue(this.get_parentRibbonItem().get_ttParamList()[0])){var $0=this.get_parentRibbonItem().get_ttParamList()[0];var $1=$0._strTextualData;if(!String.isNullOrEmpty($1)){$1=$1.split(Kepler.Framework.Core.Seperators.z_CARON)[0];}return 44+Kepler.Framework.Core.Seperators.v_CROSS+$1;}return '';},createRibbonItem:function(bTouchMode){Ribbon.RibbonItemPin.callBaseMethod(this, 'createRibbonItem',[bTouchMode]);if(!this._strImageClass){this._elemItem.className='filetab_pinimage';}else{this._elemItem.className=this._strImageClass;}this._elemItem.rbnItem=this;this._elemItem.setAttribute('controltype','button');},drawItem:function(element){this.drawState();},drawState:function(){switch(this._eToState){case Kepler.Framework.UI.Controls.EItemState.eNormal:if(!!this.$C){this._elemItem.className='pin_vertical';}else{this._elemItem.className='pin_horizontal';}break;case Kepler.Framework.UI.Controls.EItemState.eHover:this._elemItem.style.visibility='visible';if(!!this.$D){if(!!this.$C){this._elemItem.className='pin_vertical';}else{this._elemItem.className='pin_horizontal';}}else{if(!!this.$C){this._elemItem.className='pin_hov_vertical';}else{this._elemItem.className='pin_hov_horizontal';}}if(this.$D){this.get_parentRibbonItem().get_elementItem().childNodes[0].style.backgroundColor=this._oThemeDetails.get_colorHover();}else{this.get_parentRibbonItem().get_elementItem().style.backgroundColor=this._oThemeDetails.get_colorHover();}break;}}}
Ribbon.RibbonItemPrintPage=function(){Ribbon.RibbonItemPrintPage.initializeBase(this);this._elemItem=document.createElement('div');}
Ribbon.RibbonItemPrintPage.prototype={$D:0,$E:0,reSize:function(iNewHeight,iNewWidth){var $0,$1;if(iNewWidth>this.$D/2){$0=2*(iNewWidth/this.$D);this._elemItem.firstChild.style.width=iNewWidth+'px';this._elemItem.style.width=iNewWidth+'px';}else{$0=1;this._elemItem.firstChild.style.width=this.$D/2+'px';this._elemItem.style.width=this.$D/2+'px';}if(iNewHeight>this.$E/2){$1=iNewHeight/this.$E;this._elemItem.firstChild.style.height=iNewHeight+'px';this._elemItem.style.height=iNewHeight+'px';}else{$1=1;this._elemItem.firstChild.style.height=this.$E/2+'px';this._elemItem.style.height=this.$E/2+'px';}if(iNewHeight>this.$E){$1=1;}if(iNewWidth>this.$D){$0=2;}Kepler.Engine.UI.Helper.HtmlCssHelper.setElementTransform(this._elemItem.firstChild.firstChild,'scale('+$0+','+$1+')');},createRibbonItem:function(bTouchMode){Ribbon.RibbonItemPrintPage.callBaseMethod(this, 'createRibbonItem',[bTouchMode]);this.$D=this._rcMouse.get_width();this.$E=this._rcMouse.get_height();this._elemItem.className='filetab_bullettext_parent';this._elemItem.style.display='table-row';this._elemItem.style.height=this._rcMouse.get_height()+'px';this._elemItem.style.width=this._rcMouse.get_width()-17+'px';var $0=this.getItemRect(bTouchMode);var $1=document.createElement('div');$1.style.display='table-cell';$1.style.verticalAlign='middle';$1.style.height=this._rcMouse.get_height()+'px';$1.style.width=this._rcMouse.get_width()-17+'px';var $2=document.createElement('div');$2.id='ribbonitem-icon';$2.style.display='inline-block';$2.style.position='relative';if(!String.isNullOrEmpty(this._strImageClass)){$2.className=this._strImageClass;}$1.appendChild($2);this._elemItem.appendChild($1);}}
Ribbon.RibbonItemPrintPageContainer=function(){Ribbon.RibbonItemPrintPageContainer.initializeBase(this);this._elemItem=document.createElement('div');this.$11=document.createElement('div');this.$12=document.createElement('div');this.$10={};this.$D=1;this.attachMessages();}
Ribbon.RibbonItemPrintPageContainer.prototype={$D:0,get_pageCount:function(){return this.$D;},set_pageCount:function(value){this.$D=value;return value;},$E:0,$F:0,$10:null,_sbVertical:null,$11:null,$12:null,get_elemContent:function(){return this.$12;},createRibbonItem:function(bTouchMode){Ribbon.RibbonItemPrintPageContainer.callBaseMethod(this, 'createRibbonItem',[bTouchMode]);this._elemItem.style.width=this._rcMouse.get_width()+'px';this._elemItem.style.height=this._rcMouse.get_height()+'px';this._elemItem.style.overflow='hidden';this.$E=this._rcMouse.get_width();this.$F=this._rcMouse.get_height();this._sbVertical=new Kepler.Engine.UI.Controls.VScrollBar(new Kepler.Framework.UI.Point(this._rcMouse.get_width()-17,0),new Kepler.Framework.UI.Size(17,this._rcMouse.get_height()));this._sbVertical.set_mfcBehaviour(false);this._sbVertical.set_scrollBarType(Kepler.Engine.UI.Controls.EScrollBarType.APP);this._sbVertical.set_singleStepTimerInterval(100);this._sbVertical.onLoadFromNonControlParent();this._sbVertical.set_iSendMsgParent(this);this._sbVertical.setBounds(0,this.$D-1);this._sbVertical.set_singleStep(this._rcMouse.get_height());this.$12.style.width=(this._rcMouse.get_width()-20)+'px';this.$12.style.position='relative';this.$12.style.padding='10px';this.$11.appendChild(this.$12);this.$11.style.overflow='hidden';this.$11.style.height='100%';this._elemItem.appendChild(this._sbVertical.get_element());this._elemItem.appendChild(this.$11);},attachMessages:function(){this.attachMessage(Kepler.Engine.UI.Controls.ScrollBarBase.msG_SCROLL_POS_CHANGED,ss.Delegate.create(this,this.$13));this.attachMessage(Kepler.Engine.UI.Controls.ScrollBarBase.msG_SCROLL_POS_CHANGING,ss.Delegate.create(this,this.$13));},$13:function($p0,$p1){var $0=$p0;this.$11.scrollTop=$0*this._rcMouse.get_height();return null;},attachMessage:function(strMessage,msgHandler){this.$10[strMessage]=msgHandler;},sendMessage:function(strMessage,wParam,lParam){var $0=this.$10[strMessage];if($0!=null){return $0(wParam,lParam);}return null;},detachMessage:function(strMessage){delete this.$10[strMessage];},postMessage:function(strMessage,wParam,lParam,bRemovePreviousMsgs){Kepler.Framework.Core.Messaging.PostMessageManager.postMessage(this,strMessage,wParam,lParam,bRemovePreviousMsgs);},reSize:function(iDefWidth,iDefHeight,left,top,ScreenWidth,ScreenHeight){var $0=this._rcMouse.get_width();var $1=this._rcMouse.get_height();var $2=$1;var $3=$0;if(iDefWidth>0){if(left+$0>ScreenWidth){$3=$0-iDefWidth;}}else{if(left+$0<ScreenWidth){$3=$0-iDefWidth;}}$2=ScreenHeight-top-5;if($3>ScreenWidth-left){$3=ScreenWidth-left-15;}if($3>0&&$2>0){this.$14($2,$3);}},$14:function($p0,$p1){Ribbon.RibbonItemPrintPageContainer.callBaseMethod(this, 'size',[$p1,$p0,true]);$p1=$p1-17;this.$11.style.width=$p1-17+'px';this._sbVertical.set_left($p1-17);this._sbVertical.set_top(0);var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementHeight(this.$12);for(var $1=0;$1<this.$D;$1++){if(Ribbon.RibbonItemPrintPage===Type.getInstanceType(this._lstRibbonItems[$1])){var $2=this._lstRibbonItems[$1];$2.reSize($p0,$p1);}}if($0>$p0){$p1=$p1-17;this.$11.style.width=$p1+'px';this.$12.style.width=$p1+'px';var $3=this._sbVertical.get_curPos();this._sbVertical.set_height($p0);$0=$0-$p0;this._sbVertical.set_singleStep($p0);this._sbVertical.show(true);this._sbVertical.performScrollTo($3);}else{this._elemItem.style.width=$p1+'px';this.$11.style.width=$p1+'px';this._sbVertical.show(false);this.$12.style.width=$p1+'px';}}}
Ribbon.RibbonItemScrollable=function(){Ribbon.RibbonItemScrollable.initializeBase(this);this._bAutoHideBtn=this._bLeftBtnState=this._bRightBtnState=false;this._iScrollWidth=0;this.$D=0;this._strBtnClass='ribbon_scrollable_btn';this._elemItem=document.createElement('div');this._elemItem.style.position='absolute';this.$11=null;this.$10=new Kepler.Framework.Core.Timers.Timer(ss.Delegate.create(this,this.$1F),100);this.$12=0;this.$E=false;}
Ribbon.RibbonItemScrollable.prototype={_elemScrollContainer:null,_elemScrollArea:null,_elemLeftBtn:null,_elemRightBtn:null,_strBtnClass:null,_rcButton:null,_iScrollStep:0,get_scrollStep:function(){return this._iScrollStep;},set_scrollStep:function(value){this._iScrollStep=value;return value;},$D:0,get_containerWidth:function(){return this.$D;},_iScrollMax:0,$E:false,get_isTabScroller:function(){return this.$E;},set_isTabScroller:function(value){this.$E=true;return value;},_bLeftBtnState:false,_bRightBtnState:false,$F:null,get_x:function(){if(this.$F!=null){return -this.$F.get_x();}return 0;},_bAutoHideBtn:false,get_autoHideBtn:function(){return this._bAutoHideBtn;},set_autoHideBtn:function(value){this._bAutoHideBtn=value;return value;},_iScrollWidth:0,get_scrollWidth:function(){return this._iScrollWidth;},set_scrollWidth:function(value){this._iScrollWidth=value;this._elemScrollArea.style.width=value+'px';if(value>this._rcMouse.get_width()){this.atStart();}return value;},$10:null,$11:null,$12:0,addElement:function(element){if(ss.isValue(this._elemScrollArea)){this._elemScrollArea.appendChild(element);}},addItem:function(oRibbonItem,elemParent){if(ss.isNullOrUndefined(elemParent)){elemParent=this._elemScrollArea;}Ribbon.RibbonItemScrollable.callBaseMethod(this, 'addItem',[oRibbonItem,elemParent]);},initialise:function(iId,rcMouse,rcTouch,iMenuNo,iRtClkMenu,strText,strImageClass,oMsgParent,strBtnClass,rcButton){Ribbon.RibbonItemScrollable.callBaseMethod(this, 'initialise',[iId,rcMouse,rcTouch,iMenuNo,iRtClkMenu,strText,strImageClass,oMsgParent]);if(!String.isNullOrEmpty(strBtnClass)){this._strBtnClass=strBtnClass;}if(ss.isValue(rcButton)){this._rcButton=rcButton;}else{this._rcButton=new Kepler.Framework.UI.Rect(0,0,13,this._rcMouse.get_height());}this._iScrollStep=this._rcMouse.get_width()-(2*this._rcButton.get_width());},createRibbonItem:function(bTouchMode){Ribbon.RibbonItemScrollable.callBaseMethod(this, 'createRibbonItem',[bTouchMode]);var $0=this.getItemRect(bTouchMode);this._elemItem.style.left=$0.get_left()+'px';this._elemItem.style.top=$0.get_top()+'px';this._elemItem.style.width=$0.get_width()+'px';this._elemItem.style.height=$0.get_height()+'px';this._rcButton.set_height($0.get_height());this._elemLeftBtn=document.createElement('div');this._elemLeftBtn.style.position='relative';this._elemLeftBtn.style.left=this._rcButton.get_left()+'px';this._elemLeftBtn.style.top=this._rcButton.get_top()+'px';this._elemLeftBtn.style.width=this._rcButton.get_width()-2+'px';this._elemLeftBtn.style.height=this._rcButton.get_height()-2+'px';this._elemLeftBtn.style.display='inline-block';this._elemLeftBtn.style.border='1px solid transparent';this._elemLeftBtn.style.zIndex=Kepler.Framework.UI.Controls.ZIndexConstants.view_Min;var $1=document.createElement('div');$1.className=this._strBtnClass+'_left';$1.style.top=Math.floor(this._rcButton.get_height()/2)-2+'px';this._elemLeftBtn.appendChild($1);this._elemLeftBtn.rbnItem=this;this._elemItem.appendChild(this._elemLeftBtn);this._bLeftBtnState=true;this._elemScrollContainer=document.createElement('div');this._elemScrollContainer.style.position='relative';this._elemScrollContainer.style.width='100%';this._elemScrollContainer.style.height='100%';this._elemScrollContainer.style.display='inline-block';this._elemItem.appendChild(this._elemScrollContainer);this._elemScrollArea=document.createElement('div');this._elemScrollArea.style.position='relative';this._elemScrollArea.style.width='100%';if(this.$12>0){this._elemScrollArea.style.paddingTop=this._elemScrollArea.style.paddingBottom=this.$12+'px';this._elemScrollArea.style.height=$0.get_height()-(2*this.$12)+'px';}else{this._elemScrollArea.style.height='100%';}this._elemScrollArea.style.overflow='hidden';this._elemScrollContainer.appendChild(this._elemScrollArea);if(ss.isValue(this._oMsgParent)){var $3=new Kepler.Framework.UI.Scroller.ScrollStruct();$3.hScroll=true;$3.hScrollbar=false;$3.vScroll=false;$3.vScrollbar=false;if(Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){$3.bHandleEvents=true;}$3.bounce=false;$3.momentum=false;$3.scrollElement=this._elemScrollContainer;$3.onScrollMove=ss.Delegate.create(this,this.$1D);$3.onScrollEnd=ss.Delegate.create(this,this.$1E);(this._oMsgParent).setScrollable($3);}this._elemRightBtn=document.createElement('div');this._elemRightBtn.style.position='relative';this._elemRightBtn.style.left=this._rcButton.get_left()+'px';this._elemRightBtn.style.top=this._rcButton.get_top()+'px';this._elemRightBtn.style.width=this._rcButton.get_width()-2+'px';this._elemRightBtn.style.height=this._rcButton.get_height()-2+'px';this._elemRightBtn.style.display='inline-block';this._elemRightBtn.style.border='1px solid transparent';this._elemRightBtn.style.zIndex=Kepler.Framework.UI.Controls.ZIndexConstants.view_Min;var $2=document.createElement('div');$2.className=this._strBtnClass+'_right';$2.style.top=Math.floor(this._rcButton.get_height()/2)-2+'px';this._elemRightBtn.appendChild($2);this._elemRightBtn.rbnItem=this;this._elemItem.appendChild(this._elemRightBtn);this._bRightBtnState=true;if(this._bAutoHideBtn){this._elemLeftBtn.style.display='none';this._elemRightBtn.style.display='none';this._bLeftBtnState=this._bRightBtnState=false;}else{this.$D=$0.get_width()-(2*this._rcButton.get_width());Kepler.Engine.UI.Helper.HtmlCssHelper.setElementWidth(this._elemScrollContainer,this.$D+'px');}this.drawItem(null);},drawItem:function(element){if(ss.isNullOrUndefined(element)){this._elemLeftBtn.style.backgroundColor='';this._elemLeftBtn.style.borderColor='#ABABAB';this._elemRightBtn.style.backgroundColor='';this._elemRightBtn.style.borderColor='#ABABAB';}else if((element===this._elemLeftBtn&&this._bLeftBtnState)||(element===this._elemRightBtn&&this._bRightBtnState)){switch(this._eToState){case Kepler.Framework.UI.Controls.EItemState.eNormal:element.style.backgroundColor='';element.style.borderColor='#ABABAB';break;case Kepler.Framework.UI.Controls.EItemState.eHover:element.style.backgroundColor=Kepler.Framework.UI.ThemeDetails.get_currentTheme().get_colorHover();element.style.borderColor=Kepler.Framework.UI.ThemeDetails.get_currentTheme().get_colorPressed();break;case Kepler.Framework.UI.Controls.EItemState.ePressed:case Kepler.Framework.UI.Controls.EItemState.ePressedHover:element.style.backgroundColor=Kepler.Framework.UI.ThemeDetails.get_currentTheme().get_colorHover();element.style.borderColor=Kepler.Framework.UI.ThemeDetails.get_currentTheme().get_colorNormal();break;}}},drawEnabledDisabledNavBtn:function(element){if(element===this._elemLeftBtn){if(this._bLeftBtnState){element.className=this._strBtnClass+'_left_normal';}else{element.className=this._strBtnClass+'_left_disable';}}else if(element===this._elemRightBtn){if(this._bRightBtnState){element.className=this._strBtnClass+'_right_normal';}else{element.className=this._strBtnClass+'_right_disable';}}},showHideNavBtn:function(bShowLeftBtn,bShowRightBtn){if(bShowLeftBtn&&!this._bLeftBtnState){this._bLeftBtnState=true;this.$13(this._elemLeftBtn);}else if(!bShowLeftBtn&&this._bLeftBtnState){this._bLeftBtnState=false;this.$14(this._elemLeftBtn);}if(bShowRightBtn&&!this._bRightBtnState){this._bRightBtnState=true;this.$13(this._elemRightBtn);}else if(!bShowRightBtn&&this._bRightBtnState){this._bRightBtnState=false;this.$14(this._elemRightBtn);}this.$18(this.getItemRect((this._oMsgParent).get_touchMode()).get_width());},$13:function($p0){$p0.style.display='inline-block';if($p0===this._elemLeftBtn){this.scrollToXPosition(this.get_x()+this._rcButton.get_width());}},$14:function($p0){$p0.style.display='none';this.drawItem(null);if(this.$11===$p0){this.$1A();this.$1C();}},enableDisableNavBtn:function(bEnableLeftBtn,bEnableRightBtn){if(bEnableLeftBtn!==this._bLeftBtnState){this._bLeftBtnState=bEnableLeftBtn;this.drawEnabledDisabledNavBtn(this._elemLeftBtn);}if(bEnableRightBtn!==this._bRightBtnState){this._bRightBtnState=bEnableRightBtn;this.drawEnabledDisabledNavBtn(this._elemRightBtn);}},atStart:function(){if(this._bAutoHideBtn){this.showHideNavBtn(false,true);}else{this.enableDisableNavBtn(false,true);}},atIntermediate:function(){if(this._bAutoHideBtn){this.showHideNavBtn(true,true);}else{this.enableDisableNavBtn(true,true);}},atEnd:function(){if(this._bAutoHideBtn){this.showHideNavBtn(true,false);}else{this.enableDisableNavBtn(true,false);}},$15:function(){if(ss.isNullOrUndefined(this.$F)&&ss.isValue(this._oMsgParent)){this.$F=(this._oMsgParent).get_scroller().getScrollView(this._elemScrollContainer);}this.refreshScroller();return this.$F;},refreshScroller:function(){if(ss.isValue(this.$F)){this.$F.refresh();this._iScrollMax=this.$F.get_maxScrollX();}},$16:function(){if(ss.isNullOrUndefined(this.$F)){this.$F=this.$15();if(ss.isNullOrUndefined(this.$F)){return;}}if(this.getItemRect((this._oMsgParent).get_touchMode()).get_width()>=this._iScrollWidth){this.showHideNavBtn(false,false);return;}var $0=this.$F.get_x();if($0>=0){this.atStart();}else if($0<=this._iScrollMax){this.atEnd();}else{this.atIntermediate();}},scrollToXPosition:function(iXValue){if(ss.isValue(this.$15())){iXValue+=this.$F.get_x();this.$F.scrollToX(iXValue,0);this.$16();}},scrollToStart:function(){if(this.$15()!=null){this.$F.scrollToStart(0);this.$16();}},setLeft:function(iLeft){this._elemItem.style.left=iLeft+'px';this._rcMouse.set_left(this._rcTouch.set_left(iLeft));},setWidth:function(iWidth){this._elemItem.style.width=iWidth+'px';this.$17(iWidth);this._rcMouse.set_width(this._rcTouch.set_width(iWidth));if(iWidth>=this._iScrollWidth){if(ss.isValue(this.$15())){this.$F.scrollToStart();}}else{this.$18(iWidth);}this.$16();},$17:function($p0){if(this.$E&&ss.isValue(this._elemScrollArea)){var $0=this._elemScrollArea.lastChild;if($p0-this._iScrollWidth>0){if(ss.isValue($0)){$0.style.width=($p0-this._iScrollWidth+70)+'px';}this._elemScrollArea.style.width=$p0+'px';}else{if(ss.isValue($0)){$0.style.width=0+'px';}this._elemScrollArea.style.width=this._iScrollWidth+'px';}}},$18:function($p0){if(this._bLeftBtnState){$p0-=this._rcButton.get_width();}if(this._bRightBtnState){$p0-=this._rcButton.get_width();}if(ss.isValue(this._elemScrollContainer)&&$p0!==this.$D){this.$D=$p0;this._elemScrollContainer.style.width=this.$D+'px';this.refreshScroller();}},$19:function($p0){if(this.$11===$p0&&!this.$10.get_isRunning()){this.$10.start();}},$1A:function(){if(this.$10.get_isRunning()){this.$10.stop();}},$1B:function($p0){this.$11=$p0;this._bCapture=true;},$1C:function(){this.$11=null;this._bCapture=false;},toggleMode:function(bMode){Ribbon.RibbonItemScrollable.callBaseMethod(this, 'toggleMode',[bMode]);var $0=this.getItemRect(bMode);this._elemItem.style.left=$0.get_left()+'px';this._elemItem.style.top=$0.get_top()+'px';this._elemItem.style.width=$0.get_width()+'px';this._elemItem.style.height=$0.get_height()+'px';this._elemLeftBtn.style.height=$0.get_height()-2+'px';var $1=this._elemLeftBtn.firstChild;$1.style.top=Math.floor($0.get_height()/2)-2+'px';if(this.$12>0){this._elemScrollArea.style.height=$0.get_height()-(2*this.$12)+'px';}this._elemRightBtn.style.height=$0.get_height()-2+'px';var $2=this._elemRightBtn.firstChild;$2.style.top=Math.floor($0.get_height()/2)-2+'px';this.drawItem(null);},setPadding:function(iPadding){this.$12=iPadding;if(this._elemScrollArea!=null&&this.$12>0){this._elemScrollArea.style.paddingTop=this._elemScrollArea.style.paddingBottom=this.$12+'px';this._elemScrollArea.style.height=this.getItemRect((this._oMsgParent).get_touchMode()).get_height()-(2*this.$12)+'px';}},onLButtonDown:function(element,mouseEventArgs){this.$1B(element);this.refreshScroller();this.$1F();this.$19(element);return Ribbon.RibbonItemScrollable.callBaseMethod(this, 'onLButtonDown',[element,mouseEventArgs]);},onLButtonUp:function(element,mouseEventArgs){this.$1A();this.$1C();return Ribbon.RibbonItemScrollable.callBaseMethod(this, 'onLButtonUp',[element,mouseEventArgs]);},onMouseOver:function(element){this.$19(element);Ribbon.RibbonItemScrollable.callBaseMethod(this, 'onMouseOver',[element]);},onMouseLeave:function(){this.$1A();Ribbon.RibbonItemScrollable.callBaseMethod(this, 'onMouseLeave');},$1D:function(){this.$16();},$1E:function(){if(Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){this.$16();}},$1F:function(){if(ss.isNullOrUndefined(this.$F)){this.$F=this.$15();if(ss.isNullOrUndefined(this.$F)){return;}}var $0=this.$F.get_x();if(this.$11===this._elemRightBtn){if($0-this._iScrollStep<=this._iScrollMax){this.$F.scrollToX($0-this._iScrollMax,0);this.atEnd();}else{this.$F.scrollToX(this._iScrollStep,0);this.atIntermediate();}}else if(this.$11===this._elemLeftBtn){if($0+this._iScrollStep>=0){this.$F.scrollToX($0,0);this.atStart();}else{this.$F.scrollToX(-this._iScrollStep,0);this.atIntermediate();}}}}
Ribbon.RibbonItemScrollableContainer=function(){Ribbon.RibbonItemScrollableContainer.initializeBase(this);this._elemItem=document.createElement('div');this.$11=document.createElement('div');this.$12=document.createElement('div');this.$10={};this.attachMessages();}
Ribbon.RibbonItemScrollableContainer.prototype={$D:0,$E:0,$F:false,get_fixedSize:function(){return this.$F;},set_fixedSize:function(value){this.$F=value;return value;},$10:null,_sbVertical:null,$11:null,$12:null,get_elemContent:function(){return this.$12;},scrollToFocusedItem:function(rcNextFocusItem){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementRect(this.get_elementItem());if(!$0.isRectInRect(rcNextFocusItem)){this.setScrollTo(this._sbVertical.get_curPos()+rcNextFocusItem.get_top()-$0.get_top());if(this._sbVertical.get_maxPos()<rcNextFocusItem.get_top()-$0.get_top()){rcNextFocusItem.set_top(rcNextFocusItem.get_top()-this._sbVertical.get_maxPos());}else{rcNextFocusItem.set_top($0.get_top());}}Ribbon.RibbonItemScrollableContainer.callBaseMethod(this, 'scrollToFocusedItem',[rcNextFocusItem]);},getRowColoum:function(){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getComputedRect(this.get_elementItem()).get_width()-17;var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getComputedRect(this.get_elementItem()).get_height();var $2=this._lstRibbonItems[0];var $3=Kepler.Engine.UI.Helper.HtmlCssHelper.getComputedRect($2.get_elementItem()).get_width();var $4=parseInt(($0/$3));var $5=Math.ceil(this._lstRibbonItems.length/$4);return new Kepler.Framework.UI.Point($5,$4);},processTabNavigation:function(KeyEvtArgs){if(!this.$F){var $0;var $1=false;var $2=false;if(KeyEvtArgs.get_shiftKey()){$2=true;}if(this._bFocusable){if(this._lstRibbonItems.length>0){$1=false;if(ss.isValue(this._rbnFocusedItem)){$0=($2)?this.getNextFocusableItem(-1):this._rbnFocusedItem;}else{$0=this.getNextFocusableItem(-1);}if(ss.isValue($0)){$1=$0.processTabNavigation(KeyEvtArgs);}}}return $1;}else{return Ribbon.RibbonItemScrollableContainer.callBaseMethod(this, 'processTabNavigation',[KeyEvtArgs]);}},processNextArrow:function(KeyEvtArgs){if(!this.$F){var $0;var $1=false;if(KeyEvtArgs.get_key()===Kepler.Framework.UI.Events.EventArgsNs.Keys.right){$1=true;}if(this._bFocusable){var $2=this.getRowColoum();var $3=this._lstRibbonItems.indexOf(this._rbnFocusedItem);if($1){$3=$3+1;if($3>this._lstRibbonItems.length-1){$3=0;}}else{$3=$3+$2.get_y();if($3>this._lstRibbonItems.length-1){if(!(($3+1)%$2.get_y())){$3=0;}else{$3=($3%($2.get_x()*$2.get_y())+1);}}}$0=this.getNextFocusableItem($3-1);$0=(ss.isValue($0))?$0:this.getNextFocusableItem(-1);return $0.setFocusOnItem();}return false;}else{return Ribbon.RibbonItemScrollableContainer.callBaseMethod(this, 'processNextArrow',[KeyEvtArgs]);}},processPrevArrow:function(KeyEvtArgs){if(!this.$F){var $0;var $1=false;if(KeyEvtArgs.get_key()===Kepler.Framework.UI.Events.EventArgsNs.Keys.left){$1=true;}if(this._bFocusable){var $2=this.getRowColoum();var $3=this._lstRibbonItems.indexOf(this._rbnFocusedItem);if($1){$3=$3-1;if($3<0){$3=this._lstRibbonItems.length;}}else{$3=$3-$2.get_y();if($3<0){if(!($3%$2.get_y())){$3=this._lstRibbonItems.length;}else{$3=($3+($2.get_x()*$2.get_y())-1);}}}$0=this.getPreFocusableItem($3+1);$0=(ss.isValue($0))?$0:this.getPreFocusableItem(this._lstRibbonItems.length);return $0.setFocusOnItem();}return false;}else{return Ribbon.RibbonItemScrollableContainer.callBaseMethod(this, 'processPrevArrow',[KeyEvtArgs]);}},createRibbonItem:function(bTouchMode){Ribbon.RibbonItemScrollableContainer.callBaseMethod(this, 'createRibbonItem',[bTouchMode]);this.$D=this._rcMouse.get_width();this.$E=this._rcMouse.get_height();this._sbVertical=new Kepler.Engine.UI.Controls.VScrollBar(new Kepler.Framework.UI.Point(0,0),new Kepler.Framework.UI.Size(17,10));this._sbVertical.set_mfcBehaviour(false);this._sbVertical.set_scrollBarType(Kepler.Engine.UI.Controls.EScrollBarType.APP);this._sbVertical.set_singleStepTimerInterval(100);this._sbVertical.set_singleStep(5);this._sbVertical.onLoadFromNonControlParent();this._sbVertical.set_iSendMsgParent(this);this.$12.style.width='100%';this.$12.style.position='relative';this.$11.appendChild(this.$12);this.$11.style.overflow='hidden';this.$11.style.height='100%';this._elemItem.appendChild(this._sbVertical.get_element());this._elemItem.appendChild(this.$11);this._elemItem.rbnItem=this;},attachMessages:function(){this.attachMessage(Kepler.Engine.UI.Controls.ScrollBarBase.msG_SCROLL_POS_CHANGED,ss.Delegate.create(this,this.$13));this.attachMessage(Kepler.Engine.UI.Controls.ScrollBarBase.msG_SCROLL_POS_CHANGING,ss.Delegate.create(this,this.$13));},$13:function($p0,$p1){var $0=$p0;this.$11.scrollTop=$0;return null;},attachMessage:function(strMessage,msgHandler){this.$10[strMessage]=msgHandler;},sendMessage:function(strMessage,wParam,lParam){var $0=this.$10[strMessage];if($0!=null){return $0(wParam,lParam);}return null;},detachMessage:function(strMessage){delete this.$10[strMessage];},postMessage:function(strMessage,wParam,lParam,bRemovePreviousMsgs){Kepler.Framework.Core.Messaging.PostMessageManager.postMessage(this,strMessage,wParam,lParam,bRemovePreviousMsgs);},reSize:function(iDefWidth,iDefHeight,left,top,ScreenWidth,ScreenHeight){if(this.$F){var $0=this._rcMouse.get_width();var $1=this._rcMouse.get_height();var $2=$1;var $3=$0;$2=ScreenHeight-top-5;if($3>0&&$2>0){this.$14($2,$3);}}else{var $4=ScreenHeight-top;this.$14($4,ScreenWidth);}},setScrollTo:function(iScroll){this._sbVertical.performScrollTo(iScroll);},$14:function($p0,$p1){Ribbon.RibbonItemScrollableContainer.callBaseMethod(this, 'size',[$p1,$p0,true]);this.$11.style.width=$p1-17+'px';this._sbVertical.set_left($p1-17);this._sbVertical.set_top(0);var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementHeight(this.$12);if($0>$p0){this._elemItem.style.width=$p1+'px';this._sbVertical.set_height($p0);$0=$0-$p0;var $1=new Kepler.Engine.UI.Controls.ScrollBarParams();$1._iMinPos=0;$1._iMaxPos=$0;$1._iPageStep=$p0;this._sbVertical.updateScrollbarParams($1);this._sbVertical.show(true);}else{this._elemItem.style.width=$p1+'px';this.$11.style.width=$p1+'px';this._sbVertical.show(false);}},onMouseWheel:function(mouseEventArgs){var $0=false;var $1=mouseEventArgs;var $2=$1.get_deltaY()*15;this._sbVertical.performScroll(-$2);$0=true;return $0;},isItemVisible:function(oRect){var $0=this.getItemElementRect();var $1=$0.isRectInRect(oRect);return $1;}}
Ribbon.RibbonItemStatic=function(){Ribbon.RibbonItemStatic.initializeBase(this);this._elemItem=document.createElement('div');this.$D=new Kepler.Framework.UI.Size(16,16);this.$E=0;this.$F=0;this.$10=0;this.$11=0;}
Ribbon.RibbonItemStatic.prototype={$D:null,$E:0,$F:0,$10:0,$11:0,_iShortcutBuddy:0,get_shortcutBuddy:function(){return this._iShortcutBuddy;},set_shortcutBuddy:function(value){this._iShortcutBuddy=value;return value;},initialise:function(iId,rcMouse,rcTouch,iMenuNo,iRtClkMenu,strText,strImageClass,oMsgParent,szImage){Ribbon.RibbonItemStatic.callBaseMethod(this, 'initialise',[iId,rcMouse,rcTouch,iMenuNo,iRtClkMenu,strText,strImageClass,oMsgParent]);if(ss.isValue(szImage)){this.$D=szImage;}if(ss.isValue(this._rcMouse)){this.$E=(this._rcMouse.get_width()-this.$D.get_width())/2;this.$10=(this._rcMouse.get_height()-this.$D.get_height())/2;}if(ss.isValue(this._rcTouch)){this.$F=(this._rcTouch.get_width()-this.$D.get_width())/2;this.$11=(this._rcTouch.get_height()-this.$D.get_height())/2;}},createRibbonItem:function(bTouchMode){if(!String.isNullOrEmpty(this._strImageClass)){this._elemItem.id='ribbonitem-icon';this._elemItem.className=this._strImageClass+' rbn_static ';this.setItemSize(this._elemItem,this.$D.get_width(),this.$D.get_height());this.$12(bTouchMode);}var $0=this.getItemRect(bTouchMode);this._elemItem.style.position='absolute';this.setItemPosition(this._elemItem,$0.get_left(),$0.get_top());if(!String.isNullOrEmpty(this.get_text())){var $1=document.createElement('div');$1.id='ribbonitem-text';$1.innerHTML=this.get_text();$1.className='class_ribbon_font '+' '+'class_ribbon_item_text ';$1.style.position='absolute';$1.style.left=this.$D.get_width()+2+'px';$1.style.height='100%';$1.style.lineHeight=this.$D.get_height()+1+'px';$1.style.whiteSpace='nowrap';this._elemItem.setAttribute('role','document');this._elemItem.appendChild($1);}this._elemItem.rbnItem=this;if(this._iMenuNo!==-1){this._elemItem.setAttribute('controltype','menubutton');}},toString:function(){return 'RibbonItemStatic';},drawEnabledDisabledState:function(){this.enableDisableImage(Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementById(this._elemItem,'ribbonitem-icon'));this.enableDisableText(Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementById(this._elemItem,'ribbonitem-text'));},reflectText:function(){Ribbon.RibbonItemStatic.callBaseMethod(this, 'reflectText');var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementById(this._elemItem,'ribbonitem-text');if(ss.isValue($0)){$0.innerHTML=this.get_text();}},toggleMode:function(bMode){Ribbon.RibbonItemStatic.callBaseMethod(this, 'toggleMode',[bMode]);var $0=this.getItemRect(bMode);this.setItemPosition(this._elemItem,$0.get_left(),$0.get_top());if(!String.isNullOrEmpty(this._strImageClass)){this.$12(bMode);}},$12:function($p0){this._elemItem.style.borderLeft=this._elemItem.style.borderRight=this.$13($p0)+'px solid transparent';this._elemItem.style.borderTop=this._elemItem.style.borderBottom=this.$14($p0)+'px solid transparent';},$13:function($p0){return ($p0)?this.$F:this.$E;},$14:function($p0){return ($p0)?this.$11:this.$10;},$A:function(){if(this._iShortcutBuddy!==-1){if((Ribbon.RibbonItemContainer).isInstanceOfType(this._oMsgParent)){var $0=(this._oMsgParent).getRibbonItemFromId(this._iShortcutBuddy);if((Ribbon.RibbonItemSpinCtrl).isInstanceOfType($0)){return ($0).$A();}else if((Ribbon.RibbonItemComboBox).isInstanceOfType($0)){return ($0).$A();}}}return Ribbon.RibbonItemStatic.callBaseMethod(this, '$A');}}
Ribbon.Engine$1A=function(){Ribbon.Engine$1A.initializeBase(this);this._elemItem=document.createElement('div');this.slideR_LEFT=68;this.thumB_LEFT=60;}
Ribbon.Engine$1A.prototype={createRibbonItem:function($p0){this._elemItem.style.height=Ribbon.BaseRibbonManager.statusbaR_HEIGHT_NORMAL+'px';this._sbZoomCtrlBtn.set_isUsedForFileTab(true);this._sbZoomCtrlBtn.get_elementItem().style.color='black';this._sbZoomCtrlBtn.get_elementItem().style.cssFloat='left';Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this._elemItem,'filetab_ZoomControl ');this._eleZoomOut=document.createElement('div');this._eleZoomOut.setAttribute('controltype','button');this._elemItem.appendChild(this._eleZoomOut);Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this._eleZoomOut,'filetab_ZoomOut ');this._eleSlider=document.createElement('div');this._eleThumb=document.createElement('div');this._elemItem.appendChild(this._eleSlider);this._elemItem.appendChild(this._eleThumb);Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this._eleSlider,'filetab_Slider ');Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this._eleThumb,'filetab_Thumb ');this._eleSlider.setAttribute('controltype','button');this._eleThumb.setAttribute('controltype','button');this._eleSlideMarker=document.createElement('div');this._elemItem.appendChild(this._eleSlideMarker);Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this._eleSlideMarker,'filetab_SliderMarker ');this._eleZoomInHorizontal=document.createElement('div');this._eleZoomInVertical=document.createElement('div');this._elemItem.appendChild(this._eleZoomInHorizontal);this._elemItem.appendChild(this._eleZoomInVertical);Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this._eleZoomInHorizontal,'filetab_ZoomInHorizontal ');Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this._eleZoomInVertical,'filetab_ZoomInVertical ');this._eleZoomInHorizontal.setAttribute('controltype','button');this._eleZoomInVertical.setAttribute('controltype','button');this._eleThumb.rbnItem=this;this._eleSlider.rbnItem=this;this._eleZoomInHorizontal.rbnItem=this;this._eleZoomInVertical.rbnItem=this;this._eleZoomOut.rbnItem=this;this._elemItem.setAttribute('controltype','button');this._elemItem.setAttribute('role','button');},drawItem:function($p0){this.$28($p0);},$28:function($p0){switch(this._eToState){case Kepler.Framework.UI.Controls.EItemState.eNormal:this._eleThumb.style.backgroundColor='#ABABAB';this._eleZoomInHorizontal.style.backgroundColor='#ABABAB';this._eleZoomInVertical.style.backgroundColor='#ABABAB';this._eleZoomOut.style.backgroundColor='#ABABAB';break;case Kepler.Framework.UI.Controls.EItemState.eHover:case Kepler.Framework.UI.Controls.EItemState.ePressedHover:case Kepler.Framework.UI.Controls.EItemState.ePressed:case Kepler.Framework.UI.Controls.EItemState.eFocus:case Kepler.Framework.UI.Controls.EItemState.eFocusHover:if($p0===this._eleSlider){this._eleThumb.style.backgroundColor=this._oThemeDetails.get_colorNormal();}else if($p0===this._eleZoomInHorizontal||$p0===this._eleZoomInVertical){this._eleZoomInHorizontal.style.backgroundColor=this._oThemeDetails.get_colorNormal();this._eleZoomInVertical.style.backgroundColor=this._oThemeDetails.get_colorNormal();}else if($p0===this._eleZoomOut){this._eleZoomOut.style.backgroundColor=this._oThemeDetails.get_colorNormal();}break;default:break;}}}
Ribbon.RibbonMiscCtrl=function(){Ribbon.RibbonMiscCtrl.initializeBase(this);this.$13=0;this.$14=0;this.$15=0;this.$16=0;this.$18=0;this.$1A=1;this._iHighlight=-1;this.set_canStoreActive(false);this.$1B=null;this._elemItem=document.createElement('div');var $0=document.createElement('div');$0.className='rbn_misc_items';this._elemItem.appendChild($0);this.$1D=document.createElement('div');$0.appendChild(this.$1D);this.$1F=null;this.$1E={};}
Ribbon.RibbonMiscCtrl.prototype={$13:0,get_itemHeight:function(){return this.$13;},$14:0,get_itemWidth:function(){return this.$14;},$15:0,get_imageWidth:function(){return this.$15;},$16:0,get_imageHeight:function(){return this.$16;},$17:0,$18:0,$19:0,$1A:0,$1B:null,get_imagePoint:function(){return this.$1B;},$1C:false,$1D:null,_oUpBtn:null,_oDownBtn:null,_oPopupBtn:null,$1E:null,$1F:null,get_imageClass:function(){return Ribbon.RibbonMiscCtrl.callBaseMethod(this, 'get_imageClass');},set_imageClass:function(value){this._strImageClass=value;return value;},get_highlight:function(){return Ribbon.RibbonMiscCtrl.callBaseMethod(this, 'get_highlight');},set_highlight:function(value){var $0;if(this._iHighlight>=0&&this._iHighlight<this._lstRibbonItems.length){$0=this._lstRibbonItems[this.get_highlight()];$0.set_highlight(0);}if(value<0||value>=this._lstRibbonItems.length||ss.isNullOrUndefined(value)){return;}Ribbon.RibbonMiscCtrl.callBaseMethod(this, 'set_highlight',[value]);$0=this._lstRibbonItems[value];$0.set_highlight(1);return value;},get_selectedIndex:function(){return Ribbon.RibbonMiscCtrl.callBaseMethod(this, 'get_selectedIndex');},set_selectedIndex:function(value){var $0;var $1=this.get_selectedIndex();if($1>2&&$1<this._lstRibbonItems.length){$0=this._lstRibbonItems[$1];$0.set_checked(false);}var $2=value;$2+=3;if($2>2&&$2<this._lstRibbonItems.length&&ss.isValue($2)){Ribbon.RibbonMiscCtrl.callBaseMethod(this, 'set_selectedIndex',[$2]);$0=this._lstRibbonItems[$2];$0.set_checked(true);}var $3=Math.ceil(this.get_selectedIndex()/this.$17);this.$23($3);return value;},get_enabled:function(){return Ribbon.RibbonMiscCtrl.callBaseMethod(this, 'get_enabled');},set_enabled:function(value){Ribbon.RibbonMiscCtrl.callBaseMethod(this, 'set_enabled',[value]);var $enum1=ss.IEnumerator.getEnumerator(this._lstRibbonItems);while($enum1.moveNext()){var $0=$enum1.current;$0.set_enabled(value);}if(value>0){Kepler.Engine.UI.Helper.HtmlCssHelper.replaceCssClass(this._elemItem,'rbn_misc_disabled','rbn_misc_normal');}else{Kepler.Engine.UI.Helper.HtmlCssHelper.replaceCssClass(this._elemItem,'rbn_misc_normal','rbn_misc_disabled');}return value;},get_totalRows:function(){return this.$18;},$20:false,get_canStoreActive:function(){return this.$20;},set_canStoreActive:function(value){this.$20=value;return value;},createRibbonItem:function(bTouchMode){Ribbon.RibbonMiscCtrl.callBaseMethod(this, 'createRibbonItem',[bTouchMode]);var $0=this.getItemRect(bTouchMode);this.evaluateNoOfItems();this._elemItem.className='rbn_misc_normal';this.setItemPosition(this._elemItem,$0.get_left(),$0.get_top());this._elemItem.style.height=Ribbon.RibbonMiscCtrl.misC_CTRL_HT+'px';this.$24(bTouchMode);this.$1D.className='rbn_misc_scroll_cont';this.$1D.parentNode.style.width=$0.get_width()-2+'px';this.enableDisableBtn();},initialise:function(iId,rcMouse,rcTouch,iMenuNo,iRtClkMenu,strText,strImageClass,oMsgParent){Ribbon.RibbonMiscCtrl.callBaseMethod(this, 'initialise',[iId,rcMouse,rcTouch,iMenuNo,iRtClkMenu,strText,strImageClass,oMsgParent]);this.$1C=true;this.$26();this.addControlBtns();},addControlBtns:function(){var $0=this._lstRibbonItems.length;var $1=(this.get_id()*10)+($0+1);var $2=(this._oMsgParent).get_touchMode();this._oUpBtn=new Ribbon.RibbonMiscMenuBtn();this._oUpBtn.initialise($1,new Kepler.Framework.UI.Rect(0,-1,Ribbon.RibbonMiscCtrl.menU_BTN_WT_NORMAL,Ribbon.RibbonMiscCtrl.menU_BTN_HT+2),null,-1,-1,null,'class_ImgPath_Arrow '+' '+'arrow_up '+' '+'arr_normal '+' '+'rbn_misc_up',this._oMsgParent,'navbutton');this._oUpBtn.set_visible(false);this.addItem(this._oUpBtn);this._oUpBtn.createRibbonItem($2);$0=this._lstRibbonItems.length;$1=(this.get_id()*10)+($0+1);this._oDownBtn=new Ribbon.RibbonMiscMenuBtn();this._oDownBtn.initialise($1,new Kepler.Framework.UI.Rect(0,Ribbon.RibbonMiscCtrl.menU_BTN_HT+2,Ribbon.RibbonMiscCtrl.menU_BTN_WT_NORMAL,Ribbon.RibbonMiscCtrl.menU_BTN_HT),null,-1,-1,null,'class_ImgPath_Arrow '+' '+'arrow_down '+' '+'arr_normal '+' '+'rbn_misc_down',this._oMsgParent,'navbutton');this._oDownBtn.set_visible(false);this.addItem(this._oDownBtn);this._oDownBtn.createRibbonItem($2);$0=this._lstRibbonItems.length;$1=(this.get_id()*10)+($0+1);this._oPopupBtn=new Ribbon.RibbonMiscMenuBtn();this._oPopupBtn.initialise($1,new Kepler.Framework.UI.Rect(0,2*Ribbon.RibbonMiscCtrl.menU_BTN_HT+3,Ribbon.RibbonMiscCtrl.menU_BTN_WT_NORMAL,Ribbon.RibbonMiscCtrl.menU_BTN_HT),null,this._iMenuNo,-1,null,'class_ImgPath_Arrow '+' '+'arrow_down_double'+' '+'arr_normal '+' '+'rbn_misc_menu',this._oMsgParent,'menubutton');this.addItem(this._oPopupBtn);this._oPopupBtn.createRibbonItem($2);if(ss.isValue(this.get_ttParamList()[0])){this._oUpBtn.get_ttParamList().add(this.get_ttParamList()[0].clone());this._oDownBtn.get_ttParamList().add(this.get_ttParamList()[0].clone());this._oPopupBtn.get_ttParamList().add(this.get_ttParamList()[0].clone());}},addMiscCtrlItem:function(oTooltipParams,iRtClkMenu,ptImgStrip,strImageCls,strActionString){var $0=this._lstRibbonItems.length-3;var $1=new Ribbon.Engine$15();var $2=(this.get_id()*1000)+($0+1);var $3=(String.isNullOrEmpty(strImageCls))?this._strImageClass:strImageCls;$1.initialise($2,new Kepler.Framework.UI.Rect(0,0,this.$14,this.$13),null,-1,iRtClkMenu,null,$3,this._oMsgParent);if(ss.isValue(this.$1B)&&ss.isValue(ptImgStrip)){this.$1B=ptImgStrip;}$1.get_$F().set_left((ss.isValue(this.$1B))?-this.$1B.get_x():1);$1.get_$F().set_top((ss.isValue(this.$1B))?-this.$1B.get_y():1);$1.get_$F().set_width(this.$15);$1.get_$F().set_height(this.$16);var $4=null;if((String).isInstanceOfType(oTooltipParams)){$4=new Kepler.Engine.UI.Controls.Tooltip.Tooltip_Params(Kepler.Engine.UI.Controls.Tooltip.ETooltipTypes.simplE_DESCR,oTooltipParams,null);}else if((Kepler.Engine.UI.Controls.Tooltip.Tooltip_Params).isInstanceOfType(oTooltipParams)){$4=oTooltipParams;}$1.get_ttParamList().add($4);$1.set_actionString(strActionString);this.addItem($1,this.$1D);$1.createRibbonItem(false);if(ss.isValue(this.$1B)){this.$1B.set_x(this.$1B.get_x()+this.$15);}},evaluateNoOfItems:function(){var $0=0;var $1=0;var $2=0;var $3=0;var $4=false;if(ss.isValue(this._oMsgParent)){$4=(this._oMsgParent).get_touchMode();}var $5=this.getItemRect($4);if(this.$14>0){while(true){if(($0+this.$14)>=$5.get_width()){break;}$0+=this.$14;$2++;}}this.$17=$2;if(this.$13>0){while(true){if(($1+this.$13)>$5.get_height()){break;}$1+=this.$13;$3++;}}this.$19=$3;this.$18=Math.ceil((this._lstRibbonItems.length-3)/this.$17);},enableDisableBtn:function(){if(this._iEnabled!==1){return;}this._oUpBtn.set_enabled(1);this._oDownBtn.set_enabled(1);if(this.$1A===1){this._oUpBtn.set_enabled(0);}if((this.$1A+this.$19-1)>=this.$18){this._oDownBtn.set_enabled(0);}},setMiscItemSize:function(iItemWidth,iItemHeight,iImgWidth,iImgHeight,ptImgStrip){this.$14=iItemWidth;this.$13=iItemHeight;this.$15=iImgWidth;this.$16=iImgHeight;this.$1B=ptImgStrip;},scrollRow:function(customData){var $0=this.$1A;if(!this.$1C){$0--;if($0<1){$0=1;}}else{$0++;if(($0+this.$19-1)>this.$18){$0=this.$18-this.$19+1;}}if(this.$1A!==$0){this.$1A=$0;this.$1D.parentNode.scrollTop=(this.$1A-1)*this.$13;}this.enableDisableBtn();if(((this.$1A+this.$19-1)>=this.$18)||this.$1A===1){this.$1F.stop();var $1=((this.$1A+this.$19-1)>=this.$18)?this._oDownBtn:this._oUpBtn;$1.releaseCapture();$1.changeState(Kepler.Framework.UI.Controls.EItemState.eNormal,null);}this._oUpBtn.drawItem(this._oUpBtn.get_elementItem());this._oDownBtn.drawItem(this._oDownBtn.get_elementItem());this._oPopupBtn.drawItem(this._oPopupBtn.get_elementItem());},miscCtrScroll:function(){var $0=this._oMsgParent.sendMessage('eONDetectMode',null,null);if(this.get_canStoreActive()){this.$21();}else{var $1=0;this.$23($1);}if(!!$0){this.$22();}},$21:function(){if(Ribbon.RibbonMiscCtrl.callBaseMethod(this, 'get_selectedIndex')>2&&Ribbon.RibbonMiscCtrl.callBaseMethod(this, 'get_selectedIndex')<this._lstRibbonItems.length){var $0=Math.floor(this.get_selectedIndex()/this.$17);this.$23($0);}},$22:function(){if(Ribbon.RibbonMiscCtrl.callBaseMethod(this, 'get_highlight')>2&&Ribbon.RibbonMiscCtrl.callBaseMethod(this, 'get_highlight')<this._lstRibbonItems.length){var $0=Math.floor(this.get_highlight()/this.$17);this.$23($0);}},$23:function($p0){this.$1A=$p0+1;this.$1C=false;this.sendMessage('msg_init_timer',150,null);this.scrollRow(null);},toString:function(){return 'RibbonMiscCtrl';},toggleMode:function(bMode){var $0=this.getItemRect(bMode);this.setItemPosition(this._elemItem,$0.get_left(),$0.get_top());this.$24(bMode);this.$1D.parentNode.style.width=$0.get_width()-2+'px';this._oUpBtn.toggleMode(bMode);this._oDownBtn.toggleMode(bMode);this._oPopupBtn.toggleMode(bMode);},$24:function($p0){var $0=this.getItemRect($p0);var $1=($p0)?Ribbon.RibbonMiscCtrl.menU_BTN_WT_TOUCH:Ribbon.RibbonMiscCtrl.menU_BTN_WT_NORMAL;this._elemItem.style.width=$0.get_width()+$1+1+'px';},$25:function(){Kepler.Engine.UI.Helper.HtmlCssHelper.flushElement(this.$1D);this._lstRibbonItems.removeRange(3,this._lstRibbonItems.length);this.$1A=1;this.$18=0;this.$1B=null;},getShowMeEle:function(){var $0;if(this.get_highlight()>2&&this.get_highlight()<this._lstRibbonItems.length){$0=Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementByClassName(this._elemItem,'filetab_visual_hint_tab_button');}else{$0=Ribbon.RibbonMiscCtrl.callBaseMethod(this, 'getShowMeEle');}return $0;},processNextArrow:function(KeyEvtArgs){if(this.get_focusedRbnItem()===this._oPopupBtn){return false;}return Ribbon.RibbonMiscCtrl.callBaseMethod(this, 'processNextArrow',[KeyEvtArgs]);},processPrevArrow:function(KeyEvtArgs){if(this.get_focusedRbnItem()===this._oPopupBtn){return false;}return Ribbon.RibbonMiscCtrl.callBaseMethod(this, 'processNextArrow',[KeyEvtArgs]);},processTabNavigation:function(oKeyEventArgs){var $0=false;if(oKeyEventArgs.get_shiftKey()){$0=true;}if($0){return this.processPrevArrow(oKeyEventArgs);}else{return this.processNextArrow(oKeyEventArgs);}},$26:function(){this.attachMessage('msg_scroll_row',ss.Delegate.create(this,this.onMsgScrollRow));this.attachMessage('msg_switch_timer_on_off',ss.Delegate.create(this,this.onMsgSwitchTimer));this.attachMessage('msg_init_timer',ss.Delegate.create(this,this.onMsgInitTimer));this.attachMessage(Ribbon.RibbonMiscCtrl.msG_VISIBLE_ROW_RANGE,ss.Delegate.create(this,this.onMsgVisibleRowRange));},attachMessage:function(strMessage,msgHandler){this.$1E[strMessage]=msgHandler;},detachMessage:function(strMessage){delete this.$1E[strMessage];},sendMessage:function(strMessage,wParam,lParam){var $0=this.$1E[strMessage];if($0!=null){return $0(wParam,lParam);}return null;},postMessage:function(strMessage,wParam,lParam,bRemovePreviousMsgs){Kepler.Framework.Core.Messaging.PostMessageManager.postMessage(this,strMessage,wParam,lParam,bRemovePreviousMsgs);},onMsgScrollRow:function(wParam,lParam){this.$1C=wParam;this.scrollRow(null);return null;},onMsgSwitchTimer:function(wParam,lParam){var $0=wParam;if($0){this.$1F.start();}else{this.$1F.stop();}return null;},onMsgInitTimer:function(wParam,lParam){if(ss.isNullOrUndefined(this.$1F)){this.$1F=new Kepler.Framework.Core.Timers.Timer(ss.Delegate.create(this,this.scrollRow),wParam);}return null;},onMsgChangeSelection:function(wParam,lParam){this.set_selectedIndex(wParam);return null;},onMsgVisibleRowRange:function(wParam,lParam){var $0=new Kepler.Framework.UI.Point(this.$1A,this.$1A+this.$19-1);return $0;}}
Ribbon.Engine$15=function(){Ribbon.Engine$15.initializeBase(this);this._oMsgParent=null;this.$E=new Kepler.Framework.UI.Rect(1,1,0,0);this._elemItem=document.createElement('div');}
Ribbon.Engine$15.prototype={$E:null,get_$F:function(){return this.$E;},get_checked:function(){return Ribbon.Engine$15.callBaseMethod(this, 'get_checked');},set_checked:function($p0){Ribbon.Engine$15.callBaseMethod(this, 'set_checked',[$p0]);this._elemItem.style.backgroundColor=($p0)?this._oThemeDetails.get_colorChecked():'';return $p0;},createRibbonItem:function($p0){Ribbon.Engine$15.callBaseMethod(this, 'createRibbonItem',[$p0]);this._elemItem.style.width=this._rcMouse.get_width()+'px';this._elemItem.style.height=this._rcMouse.get_height()+'px';this._elemItem.className='rbn_misc_item';this._elemItem.rbnItem=this;this._elemItem.setAttribute('controltype','button');this._elemItem.setAttribute('role','button');var $0=document.createElement('div');$0.id='ribbonitem-icon';$0.className='rbn_misc_img'+' '+this._strImageClass;$0.style.width=this.$E.get_width()+'px';$0.style.height=this.$E.get_height()+'px';$0.style.top=(this._rcMouse.get_height()-this.$E.get_height())/2+'px';if(this.$E.get_left()!==1&&this.$E.get_top()!==1){$0.style.backgroundPosition=this.$E.get_left()+'px '+this.$E.get_top()+'px';}this._elemItem.appendChild($0);},drawItem:function($p0){this.$10();},drawHighlightedState:function(){if(this._iHighlight===1){Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this._elemItem,'filetab_visual_hint_tab_button');}else{Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(this._elemItem,'filetab_visual_hint_tab_button');}},drawEnabledDisabledState:function(){var $0=this._elemItem.firstChild;if(ss.isValue($0)){this.enableDisableImage($0);}},$10:function(){switch(this._eToState){case Kepler.Framework.UI.Controls.EItemState.eNormal:this._elemItem.style.backgroundColor=(this.get_checked()&&(this.get_parentRibbonItem()).get_canStoreActive())?this._oThemeDetails.get_colorChecked():'';break;case Kepler.Framework.UI.Controls.EItemState.eHover:this._elemItem.style.backgroundColor=this._oThemeDetails.get_colorHover();break;case Kepler.Framework.UI.Controls.EItemState.ePressedHover:case Kepler.Framework.UI.Controls.EItemState.ePressed:this._elemItem.style.backgroundColor=this._oThemeDetails.get_colorPressed();break;default:break;}},toString:function(){return 'RibbonMiscCtrlItem';}}
Ribbon.RibbonMiscMenuBtn=function(){Ribbon.RibbonMiscMenuBtn.initializeBase(this);this.$10='';this._oMsgParent=null;this._elemItem=document.createElement('div');}
Ribbon.RibbonMiscMenuBtn.prototype={$10:null,get_visible:function(){return Ribbon.RibbonMiscMenuBtn.callBaseMethod(this, 'get_visible');},set_visible:function(value){this._bVisible=value;return value;},initialise:function(iId,rcMouse,rcTouch,iMenuNo,iRtClkMenu,strText,strImageClass,oMsgParent,strControlType){Ribbon.RibbonMiscMenuBtn.callBaseMethod(this, 'initialise',[iId,rcMouse,rcTouch,iMenuNo,iRtClkMenu,strText,strImageClass,oMsgParent]);this.$10=strControlType;},createRibbonItem:function(bTouchMode){Ribbon.RibbonMiscMenuBtn.callBaseMethod(this, 'createRibbonItem',[bTouchMode]);this._elemItem.className='rbn_misc_nav_btn';this._elemItem.rbnItem=this;this._elemItem.setAttribute('controltype',this.$10);this._elemItem.setAttribute('role','button');var $0=document.createElement('div');this._elemItem.appendChild($0);$0.className=this._strImageClass;this.$11(bTouchMode);},$11:function($p0){if($p0){if(this._bVisible){this._elemItem.style.top='-1px';this._elemItem.style.height='100%';this._elemItem.style.width=Ribbon.RibbonMiscCtrl.menU_BTN_WT_TOUCH+'px';this._elemItem.firstChild.style.top='28px';}else{this._elemItem.style.display='none';}}else{this._elemItem.style.top=this._rcMouse.get_top()+'px';this._elemItem.style.width=this._rcMouse.get_width()+'px';this._elemItem.style.height=this._rcMouse.get_height()+'px';this._elemItem.style.display='';this._elemItem.firstChild.style.top='';}},drawItem:function(element){this.drawState();},drawState:function(){switch(this._eToState){case Kepler.Framework.UI.Controls.EItemState.eNormal:this._elemItem.style.backgroundColor='';this._elemItem.firstChild.style.opacity='';break;case Kepler.Framework.UI.Controls.EItemState.eHover:case Kepler.Framework.UI.Controls.EItemState.eFocus:this._elemItem.style.backgroundColor=this._oThemeDetails.get_colorHover();this._elemItem.firstChild.style.opacity='1';break;case Kepler.Framework.UI.Controls.EItemState.ePressedHover:case Kepler.Framework.UI.Controls.EItemState.ePressed:this._elemItem.style.backgroundColor=this._oThemeDetails.get_colorPressed();this._elemItem.firstChild.style.opacity='1';break;default:break;}},drawEnabledDisabledState:function(){this.enableDisableArrow(this._elemItem.firstChild);if(!this._iEnabled){Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this._elemItem,'rbn_misc_nav_btn_disabled');}else if(this._iEnabled===1){Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(this._elemItem,'rbn_misc_nav_btn_disabled');}},drawHighlightedState:function(){this.highlightDiv(this._elemItem);},getTtLaunchParams:function(element,ptTooltip){if(ss.isNullOrUndefined(this._lstTTParams[0])){return null;}var $0=this._lstTTParams[0]._strTextualData;var $1=$0.split(Kepler.Framework.Core.Seperators.z_CARON);var $2='';if(this.get_id().toString().endsWith('3')){$2='More';}else{var $5=(this._oParentRbnItem).sendMessage(Ribbon.RibbonMiscCtrl.msG_VISIBLE_ROW_RANGE,null,null);var $6=($5.get_x()===$5.get_y())?'':String.format('-{0}',$5.get_y().toString());$2=String.format('Rows {0}{1} of {2}',$5.get_x().toString(),$6,(this._oParentRbnItem).get_totalRows());}var $3='';var $4=$1.length;if($4>=2){$3=String.concat($1.extract(1,$4-1));}else if($4>0){$3=$1[0];}$0=$2+Kepler.Framework.Core.Seperators.z_CARON+$3;this._lstTTParams[0]._strTextualData=$0;return Ribbon.RibbonMiscMenuBtn.callBaseMethod(this, 'getTtLaunchParams',[element,ptTooltip]);},toggleMode:function(bMode){this.$11(bMode);},getPopupMenuRect:function(element){var $0=Ribbon.RibbonMiscMenuBtn.callBaseMethod(this, 'getPopupMenuRect',[this.get_parentRibbonItem().get_elementItem()]);$0.set_top($0.get_top()-(this.get_parentRibbonItem().getItemRect((this._oMsgParent).get_touchMode()).get_height()+2));return $0;},onMouseOver:function(element){Ribbon.RibbonMiscMenuBtn.callBaseMethod(this, 'onMouseOver',[element]);if(this._bCapture){(this._oParentRbnItem).sendMessage('msg_switch_timer_on_off',true,null);}},onMouseLeave:function(){Ribbon.RibbonMiscMenuBtn.callBaseMethod(this, 'onMouseLeave');if(this._bCapture){(this._oParentRbnItem).sendMessage('msg_switch_timer_on_off',false,null);}},onLButtonDown:function(element,mouseEventArgs){Ribbon.RibbonMiscMenuBtn.callBaseMethod(this, 'onLButtonDown',[element,mouseEventArgs]);(this._oParentRbnItem).sendMessage('msg_init_timer',150,null);var $0=null;var $1=(element.hasAttribute('controltype'))?element.getAttribute('controltype'):'';if((!!$1.compareTo('navbutton',false))){return true;}if(this.get_id().toString().endsWith('1')){$0=false;}else if(this.get_id().toString().endsWith('2')){$0=true;}if(ss.isValue($0)){(this._oParentRbnItem).sendMessage('msg_scroll_row',$0,null);(this._oParentRbnItem).sendMessage('msg_switch_timer_on_off',true,null);}return true;},onLButtonUp:function(element,mouseEventArgs){var $0=(element.hasAttribute('controltype'))?element.getAttribute('controltype'):'';if(!$0.compareTo('navbutton',false)){(this._oParentRbnItem).sendMessage('msg_switch_timer_on_off',false,null);}Ribbon.RibbonMiscMenuBtn.callBaseMethod(this, 'onLButtonUp',[element,mouseEventArgs]);return true;}}
Ribbon.RibbonPane=function(){Ribbon.RibbonPane.initializeBase(this);this.$14=false;this.$16=100;this._elemItem=document.createElement('div');}
Ribbon.RibbonPane.prototype={$E:'class_ribbon_pane',$F:'class_ribbon_pane',$10:'class_ribbon_pane_img',get_imageClass:function(){return this._strImageClass;},set_imageClass:function(value){if(this.$15){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementByClassName(this.$19,'class_image_btn');if(ss.isValue($0)){Kepler.Engine.UI.Helper.HtmlCssHelper.replaceCssClass($0,this._strImageClass,value);}}this._strImageClass=value;return value;},$14:false,get_shrinkable:function(){return this.$14;},set_shrinkable:function(value){if(this.$14!==value){this.$14=value;this._oMsgParent.sendMessage('msg_hide_pane_as_menu',null,null);if(this.$14){this._elemItem.style.display='none';this.$19.style.display='';var $0=this._elemItem.parentNode;if(ss.isNullOrUndefined(this.$19.parentNode)){$0.insertBefore(this.$19,this._elemItem);}}else{this.$19.style.display='none';this._elemItem.style.display='';}}return value;},$15:false,get_canShrink:function(){return this.$15;},$16:0,get_shrinkableWidthNormal:function(){return this.$16;},$17:0,get_shrinkableWidthTouch:function(){return this.$17;},$18:false,get_droppedState:function(){return this.$18;},set_droppedState:function(value){this.$18=value;if(value){this.changeState(Kepler.Framework.UI.Controls.EItemState.ePressed,null);}else{this.changeState(Kepler.Framework.UI.Controls.EItemState.eNormal,null);}this.invalidate();return value;},get_detectPaneMode:function(){var $0=0;if(this.get_shrinkable()){$0=1;}return $0;},get_visible:function(){return Ribbon.RibbonPane.callBaseMethod(this, 'get_visible');},set_visible:function(value){Ribbon.RibbonPane.callBaseMethod(this, 'set_visible',[value]);if(value){Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(this.$19,'display_none ');}else{Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this.$19,'display_none ');}return value;},$19:null,get_shrunkModeElement:function(){return this.$19;},changeShrunkClassName:function(strClassName){this.$F=strClassName;},changeImgClasssName:function(strImgClassName){this.$10=strImgClassName;},initialise:function(iId,rcMouse,rcTouch,iMenuNo,iRtClkMenu,strText,strImageClass,oMsgParent,bCanShrink,iShrunkWidthMouse,iShrunkWidthTouch){Ribbon.RibbonPane.callBaseMethod(this, 'initialise',[iId,rcMouse,rcTouch,iMenuNo,iRtClkMenu,strText,strImageClass,oMsgParent]);this.$15=bCanShrink;this.$16=iShrunkWidthMouse;this.$17=iShrunkWidthTouch;},addRbnItemToShrunkPane:function(oItem){if(ss.isNullOrUndefined(oItem)){return;}this.addItem(oItem,this.$19);},createRibbonItem:function(bTouchMode){this.$1B(bTouchMode);if(this.get_canShrink()){this.$1A(bTouchMode);}},$1A:function($p0){this.$19=document.createElement('div');this.$19.setAttribute('id','rbn_pane_shr_'+this.get_id());this.$19.style.position='relative';var $0=($p0)?this.$17:this.$16;var $1=($p0)?this._rcTouch.get_height()-14:this._rcMouse.get_height();this.setItemSize(this.$19,$0,$1);this.$19.style.paddingTop=($p0)?'14px':'2px';this.$19.className=this.$F;var $2=document.createElement('div');$2.id='ribbonitem-icon';Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass($2,this.$10+' '+((String.isNullOrEmpty(this._strImageClass))?'':this._strImageClass));this.$19.appendChild($2);if(!String.isNullOrEmpty(this.get_text())&&this.get_text().split(' ').length<=1&&this.get_text().split('/').length>1){this.set_text(this.get_text().replaceAll('/','/ '));}var $3=document.createElement('span');$3.innerHTML=this.get_text();Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass($3,'class_ribbon_font '+' '+'class_ribbon_pane_text');this.$19.appendChild($3);var $4=document.createElement('div');Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass($4,'class_ribbon_pane_arr'+' '+'class_ImgPath_Arrow '+' '+'arrow_down '+' '+'arr_normal ');var $5=(this.get_text().split(' ').length>1);if($5){$4.style.marginLeft='3px';$4.style.top='3px';}else{$3.style.display='block';$4.style.top='3px';}this.$19.appendChild($4);if(!String.isNullOrEmpty(this.get_text())){this.set_text(this.get_text().replaceAll('/ ','/'));}this.$19.rbnItem=this;this.$19.setAttribute('role','button');this.$19.setAttribute('controltype','menubutton');this.$19.style.textAlign='center';this.set_visible(this.get_visible());},$1B:function($p0){var $0=this.getItemRect($p0);this._elemItem.setAttribute('id','rbn_pane_nrm_'+this.get_id());this._elemItem.style.position='relative';this.setItemSize(this._elemItem,$0.get_width(),$0.get_height());Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this._elemItem,this.$E);this._elemItem.pane_item=this;var $1=document.createElement('span');$1.className='class_ribbon_pane_title'+' '+'class_ribbon_font ';$1.innerHTML=this.get_text();this._elemItem.appendChild($1);},$1C:function(){if(this.$19.parentNode!==this._elemItem.parentNode){var $0=this.$19.parentNode;if(ss.isValue($0)){$0.insertBefore(this._elemItem,this.$19);}}},drawItem:function(element){Ribbon.RibbonPane.callBaseMethod(this, 'drawItem',[element]);if(this.$18){return;}this.drawState();},drawState:function(){var $0=null;var $1='1';var $2=(this.get_detectPaneMode()===1);switch(this._eToState){case Kepler.Framework.UI.Controls.EItemState.eNormal:$0=this.$E;$1='';break;case Kepler.Framework.UI.Controls.EItemState.ePressedHover:case Kepler.Framework.UI.Controls.EItemState.ePressed:if($2){$0=this.$E+'_pressed';}break;case Kepler.Framework.UI.Controls.EItemState.eFocus:case Kepler.Framework.UI.Controls.EItemState.eFocusHover:case Kepler.Framework.UI.Controls.EItemState.eHover:if($2){$0=this.$E+'_hover';}break;default:break;}if(!String.isNullOrEmpty($0)){var $3=(this.$15)?this.$19:this._elemItem;Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass($3,(this.$15)?this.$F:this.$E);Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass($3,(this.$15)?this.$F+'_hover':this.$E+'_hover');Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass($3,(this.$15)?this.$F+'_pressed':this.$E+'_pressed');Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass($3,$0);}if($2){this.$19.childNodes[2].style.opacity=$1;}},drawHighlightedState:function(){if(!this._iHighlight){Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(this.$19,'class_visual_hint ');}else if(this.$15){Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this.$19,'class_visual_hint ');this.$1D(this);}},$1D:function($p0){if(this.isRbnItemHighlighted(this.get_highlight())&&(Ribbon.BaseRibbonManager).isInstanceOfType(this._oMsgParent)){(this._oMsgParent).scrollToPane(this);}},getShowMeEle:function(){return Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementByClassName(this.$19,'class_visual_hint ');},toString:function(){return 'RibbonPane';},getRibbonItems:function(){return this._lstRibbonItems;},getTtLaunchParams:function(element,ptTooltip){if(ss.isNullOrUndefined(element)||this.get_detectPaneMode()!==1||this.$18){return null;}if(!this._lstTTParams.length){this._lstTTParams.add(new Kepler.Engine.UI.Controls.Tooltip.Tooltip_Params(Kepler.Engine.UI.Controls.Tooltip.ETooltipTypes.simplE_DESCR,this.get_text(),null));}return Ribbon.RibbonPane.callBaseMethod(this, 'getTtLaunchParams',[element,ptTooltip]);},toggleMode:function(bMode){var $0=this.getItemRect(bMode);this.setItemSize(this._elemItem,$0.get_width(),$0.get_height());this.$20($0.get_width(),this._elemItem);if(ss.isValue(this.$19)){var $1=(bMode)?this.$17:this.$16;var $2=(bMode)?this._rcTouch.get_height():this._rcMouse.get_height();this.setItemSize(this.$19,$1,$2);this.$20($1,this.$19);}Ribbon.RibbonPane.callBaseMethod(this, 'toggleMode',[bMode]);},$1E:function(){return (this.$14)?this.$19:this._elemItem;},$1F:function($p0){var $0=0;if(this.$14){$0=($p0)?this.$17:this.$16;}else{$0=($p0)?this._rcTouch.get_width():this._rcMouse.get_width();}return $0;},$20:function($p0,$p1){if(!$p0){Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass($p1,'display_none ');}else{Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass($p1,'display_none ');}},onUnload:function(){this.$19=null;Ribbon.RibbonPane.callBaseMethod(this, 'onUnload');},showMenu:function(element,bDefActiveItem){var $0=this.getPopupMenuRect(element);var $1=new Kepler.Engine.UI.MenuWnd_MenuParams(this,-1,null,$0,null);this._oMsgParent.sendMessage('msg_show_pane_as_menu',null,$1);for(var $2=0;$2<this._lstRibbonItems.length;$2++){var $3=this._lstRibbonItems[$2];if(Type.canCast($3,Ribbon.RibbonMiscCtrl)){$3.miscCtrScroll();}}},processShowMe:function(iHighlightIndex){var $0=false;this._bCapture=true;if(this.get_selectedIndex()===10000&&!!iHighlightIndex&&this.get_detectPaneMode()===1){this.launchMenu(this.$19,false);this.changeState(Kepler.Framework.UI.Controls.EItemState.ePressedHover,this.$19);}this._bCapture=false;return $0;},$A:function(){if(this.isActionCommandElement(this._elemItem)){this._oMsgParent.sendMessage('msg_ribbon_item_command',this,this._elemItem);return 7;}else{var $0=this.$19;this.changeState(Kepler.Framework.UI.Controls.EItemState.ePressedHover,$0);this.launchMenu($0,false);this._oMsgParent.sendMessage('msg_set_current_ribbon_item_on_showmenu',this,null);return 5;}},performEnterOnItem:function(oItem,KeyEvtArgs){if(!this.$14){Ribbon.RibbonPane.callBaseMethod(this, 'performEnterOnItem',[oItem,KeyEvtArgs]);}else{this.changeState(Kepler.Framework.UI.Controls.EItemState.ePressedHover,this.$19);oItem.launchMenu(this.$19,true);this.processTabNavigation(KeyEvtArgs);}},processTabNavigation:function(oKeyEventArgs){var $0=false;var $1=false;if(oKeyEventArgs.get_shiftKey()){$1=true;}if(!this.$14||this.$18){$0=Ribbon.RibbonPane.callBaseMethod(this, 'processTabNavigation',[oKeyEventArgs]);if(!$0&&this.$14){if($1){var $2=this.getPreFocusableItem(this._lstRibbonItems.length);$2.setFocusOnItem();$1=false;}else{var $3=this.getNextFocusableItem(-1);$3.setFocusOnItem();}$0=true;}return $0;}else{if(this._eToState!==Kepler.Framework.UI.Controls.EItemState.eFocus){this.setFocusOnItem();this.changeState(Kepler.Framework.UI.Controls.EItemState.eFocus,this.$19);return true;}else{return false;}}},processPrevArrow:function(oKeyEventArgs){var $0=false;if(!this.$14||this.$18){$0=Ribbon.RibbonPane.callBaseMethod(this, 'processPrevArrow',[oKeyEventArgs]);if(!$0&&this.$14){switch(oKeyEventArgs.get_key()){case Kepler.Framework.UI.Events.EventArgsNs.Keys.left:case Kepler.Framework.UI.Events.EventArgsNs.Keys.up:var $1=this.getPreFocusableItem(this._lstRibbonItems.length);$1.setFocusOnItem();break;}$0=true;}return $0;}else{if(this._eToState!==Kepler.Framework.UI.Controls.EItemState.eFocus){this.setFocusOnItem();this.changeState(Kepler.Framework.UI.Controls.EItemState.eFocus,this.$19);return true;}else{return false;}}},processNextArrow:function(oKeyEventArgs){var $0=false;if(!this.$14||this.$18){$0=Ribbon.RibbonPane.callBaseMethod(this, 'processNextArrow',[oKeyEventArgs]);if(!$0&&this.$14){switch(oKeyEventArgs.get_key()){case Kepler.Framework.UI.Events.EventArgsNs.Keys.down:case Kepler.Framework.UI.Events.EventArgsNs.Keys.right:var $1=this.getNextFocusableItem(-1);$1.setFocusOnItem();break;}$0=true;}return $0;}else{if(this._eToState!==Kepler.Framework.UI.Controls.EItemState.eFocus){this.setFocusOnItem();this.changeState(Kepler.Framework.UI.Controls.EItemState.eFocus,this.$19);return true;}else{return false;}}}}
Ribbon.RibbonTab=function(){Ribbon.RibbonTab.initializeBase(this);this._bIsActive=false;this.$13=false;this._bSpecialTab=false;this._focusOnRibbonTab=false;this._eColorType=3;this._lstPrecacheImages=[];this._elemItem=document.createElement('div');this._elemItem.className='tab_area ';this._elemTabButton=document.createElement('span');}
Ribbon.RibbonTab.prototype={csS_TAB_ACTIVE:'class_ribbon_tab_active',_bIsActive:false,get_active:function(){return this._bIsActive;},set_active:function(value){if(this._bIsActive!==value){this._bIsActive=value;if(value){if(ss.isValue(this._elemItem)){Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this._elemTabButton,this.csS_TAB_ACTIVE);Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(this._elemItem,'display_none ');}}else{if(ss.isValue(this._elemItem)){Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(this._elemTabButton,this.csS_TAB_ACTIVE);Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this._elemItem,'display_none ');}}this.drawItem(null);}return value;},_elemTabButton:null,get_elemTabButton:function(){return this._elemTabButton;},$13:false,get_touchMode:function(){return this.$13;},set_touchMode:function(value){this.$13=value;return value;},_bSpecialTab:false,get_specialTab:function(){return this._bSpecialTab;},set_specialTab:function(value){this._bSpecialTab=value;return value;},_eColorType:0,get_color:function(){return this._eColorType;},set_color:function(value){if(value!==-1){this._eColorType=value;}return value;},_iTotalWt:0,get_totalWt:function(){return this._iTotalWt;},_lstPrecacheImages:null,get_precacheImages:function(){return this._lstPrecacheImages;},initialise:function(iId,rcMouse,rcTouch,iMenuNo,iRtClkMenu,strText,strImageClass,oMsgParent){Ribbon.RibbonTab.callBaseMethod(this, 'initialise',[iId,rcMouse,rcTouch,iMenuNo,iRtClkMenu,strText,strImageClass,oMsgParent]);this._rcMouse.set_height(Ribbon.BaseRibbonManager.ribboN_TAB_BUTTONS_HEIGHT-1);},createRibbonItem:function(bTouchMode){Ribbon.RibbonTab.callBaseMethod(this, 'createRibbonItem',[bTouchMode]);this.$13=bTouchMode;this.setItemSize(this._elemTabButton,this._rcMouse.get_width(),this._rcMouse.get_height());this._elemTabButton.style.lineHeight=this._rcMouse.get_height()+'px';this._elemTabButton.innerHTML=this.get_text();this.assignDOMId(this._elemTabButton);Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this._elemTabButton,'class_ribbon_tab');this._elemTabButton.rbnItem=this;this._elemTabButton.setAttribute('role','button');this._elemTabButton.style.color=this._oThemeDetails.get_colorBarText();},$14:function($p0,$p1){if(!$p0){return false;}if(!ss.isValue($p1)){$p1=false;}$p0-=((this.$13)?Ribbon.BaseRibbonManager.ribboN_TAB_AREA_TOUCH:Ribbon.BaseRibbonManager.ribboN_TAB_AREA_NORMAL);var $0=0;var $1=1;this._iTotalWt=0;var $2=false;var $enum1=ss.IEnumerator.getEnumerator(this._lstRibbonItems);while($enum1.moveNext()){var $4=$enum1.current;if($4.get_visible()){var $5=(this.$13)?$4.get_rectangleTouch().get_width():$4.get_rectangleMouse().get_width();$0+=$5+$1;}}var $3=this._lstRibbonItems.length;for(var $6=$3-1;$6>=0;$6--){var $7=this._lstRibbonItems[$6];if(!(Ribbon.RibbonPane).isInstanceOfType($7)){continue;}var $8=$7;var $9=(this.$13)?$8.get_rectangleTouch().get_width():$8.get_rectangleMouse().get_width();var $A=(this.$13)?$8.get_shrinkableWidthTouch():$8.get_shrinkableWidthNormal();var $B=$8.get_shrinkable();if($8.get_canShrink()){if($0>$p0){$8.set_shrinkable(true);$0-=($9-$A);}else{$8.set_shrinkable(false);}if($B!==$8.get_shrinkable()){$2=true;}}if($8.get_visible()){this._iTotalWt+=((($8.get_shrinkable())?$A:$9)+$1);}}if($2||$p1){this._elemItem.style.width='100%';}return $2;},drawItem:function(element){this.drawState(element);},drawState:function(element){if(this._eToState===Kepler.Framework.UI.Controls.EItemState.eFocus){if(this._bSpecialTab){Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this._elemTabButton,'tab_bkgnd_color_focus_'+this.getStringFromColorType());Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this._elemTabButton,'tab_border_color_focus_'+this.getStringFromColorType());}else{this._elemTabButton.style.background=this._oThemeDetails.get_colorHover();this._elemTabButton.style.borderColor=this._oThemeDetails.get_colorBar();}}else if(this._eToState===Kepler.Framework.UI.Controls.EItemState.eHover){}else if(this._eToState===Kepler.Framework.UI.Controls.EItemState.ePressedHover){}else{Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(this._elemTabButton,'tab_bkgnd_color_focus_'+this.getStringFromColorType());Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(this._elemTabButton,'tab_border_color_focus_'+this.getStringFromColorType());this._elemTabButton.style.background='';this._elemTabButton.style.borderColor='';this._elemTabButton.style.borderBottomColor='';}if(this._eToState===Kepler.Framework.UI.Controls.EItemState.eNormal){if(this._bSpecialTab){if(this._bIsActive){Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this._elemTabButton,this.csS_TAB_ACTIVE);Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this._elemTabButton,'tab_font_color_'+this.getStringFromColorType());Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(this._elemTabButton,'tab_bkgnd_color_'+this.getStringFromColorType());}else{Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(this._elemTabButton,this.csS_TAB_ACTIVE);Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(this._elemTabButton,'tab_font_color_'+this.getStringFromColorType());Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this._elemTabButton,'tab_bkgnd_color_'+this.getStringFromColorType());}}else{if(this._bIsActive){Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this._elemTabButton,this.csS_TAB_ACTIVE);this._elemTabButton.style.color=this._oThemeDetails.get_colorNormal();this._elemTabButton.style.backgroundColor=this._oThemeDetails.get_colorBar();this._elemTabButton.style.borderBottom='1px solid '+this._oThemeDetails.get_colorBar();}else{Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(this._elemTabButton,this.csS_TAB_ACTIVE);this._elemTabButton.style.color=this._oThemeDetails.get_colorBarText();this._elemTabButton.style.borderBottom='';}}}else{if(this._bSpecialTab){Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this._elemTabButton,'tab_font_color_'+this.getStringFromColorType());}else{if(this._oThemeDetails.get_themeType()===Kepler.Framework.UI.ThemeType.white){this._elemTabButton.style.color=this._oThemeDetails.get_colorNormal();}else{if(!this._bIsActive&&!Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){this._elemTabButton.style.backgroundColor=this._oThemeDetails.get_colorNormalLight();}}}}},drawEnabledDisabledState:function(){this.enableDisableText(this._elemTabButton);},drawHighlightedState:function(){if(this._iHighlight===1){Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this._elemTabButton,'visual_hint_box');if(this.get_specialTab()){this._elemTabButton.style.zIndex=1;}this.$15();}else{Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(this._elemTabButton,'visual_hint_box');if(this.get_specialTab()){this._elemTabButton.style['z-index']='';}}},$15:function(){if(this._iHighlight===1&&(Ribbon.BaseRibbonManager).isInstanceOfType(this._oMsgParent)){(this._oMsgParent).scrollToTab(this);}},getShowMeEle:function(){return Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementByClassName(this._elemTabButton,'visual_hint_box');},toString:function(){return 'RibbonTab';},getStringFromColorType:function(){var $0='';switch(this._eColorType){case -1:$0='';break;case 0:$0='orange';break;case 1:$0='pink';break;case 2:$0='yellow';break;case 3:$0='blue';break;case 4:$0='purple';break;case 5:$0='green';break;case 6:$0='magenta';break;case 7:$0='cyan';break;default:$0='';break;}return $0;},getPaneUnderPoint:function(pt){var $0=null;var $1=0;var $enum1=ss.IEnumerator.getEnumerator(this._lstRibbonItems);while($enum1.moveNext()){var $2=$enum1.current;if($2.get_rectangleMouse().isPtInRect(pt.get_x(),pt.get_y())&&Type.getInstanceType($2)===Ribbon.RibbonPane){$0=$2;break;}$1++;}return $0;},getPanes:function(){return this._lstRibbonItems;},processShowMe:function(iHighlightIndex){if(!!iHighlightIndex){this._oMsgParent.sendMessage('msg_set_active_tab',this.get_id(),null);}return true;},parseImagePrecache:function(strImgPrecache){if(ss.isValue(strImgPrecache)&&!String.isNullOrEmpty(strImgPrecache=strImgPrecache.trim())){var $0=strImgPrecache.split(Kepler.Framework.Core.Seperators.OR);var $1='';var $enum1=ss.IEnumerator.getEnumerator($0);while($enum1.moveNext()){var $2=$enum1.current;if(ss.isValue($1=$2)&&!String.isNullOrEmpty($1=$1.trim())){this._lstPrecacheImages.add($1);}}}},toggleMode:function(bMode){this.$13=bMode;Ribbon.RibbonTab.callBaseMethod(this, 'toggleMode',[bMode]);},processTabNavigation:function(oKeyEventArgs){var $0=false;this.set_focusOnRibbonTab(false);if(this._rbnFocusedItem==null&&this._eToState===Kepler.Framework.UI.Controls.EItemState.eFocus&&oKeyEventArgs.get_shiftKey()){this._oMsgParent.sendMessage('msg_reset_focus',null,null);this._oMsgParent.sendMessage('msg_set_focus_on_tab_key',oKeyEventArgs,this);$0=true;}else{$0=Ribbon.RibbonTab.callBaseMethod(this, 'processTabNavigation',[oKeyEventArgs]);if(!$0){if(oKeyEventArgs.get_shiftKey()){this.setFocusOnItem();this.changeState(Kepler.Framework.UI.Controls.EItemState.eFocus,this._elemItem);$0=true;}else{this._oMsgParent.sendMessage('msg_reset_focus',null,null);this._oMsgParent.sendMessage('msg_set_focus_on_tab_key',oKeyEventArgs,this);$0=true;}}}return $0;},processLeftArrow:function(oKeyEventArgs){if(this._rbnFocusedItem==null&&this._eToState===Kepler.Framework.UI.Controls.EItemState.eFocus){this._oMsgParent.sendMessage('msg_reset_focus',null,null);this._oMsgParent.sendMessage('msg_set_focus_on_arrow_key',oKeyEventArgs,this);}else{return Ribbon.RibbonTab.callBaseMethod(this, 'processLeftArrow',[oKeyEventArgs]);}return true;},processRightArrow:function(oKeyEventArgs){if(this._rbnFocusedItem==null&&this._eToState===Kepler.Framework.UI.Controls.EItemState.eFocus){this._oMsgParent.sendMessage('msg_reset_focus',null,null);this._oMsgParent.sendMessage('msg_set_focus_on_arrow_key',oKeyEventArgs,this);}else{return Ribbon.RibbonTab.callBaseMethod(this, 'processRightArrow',[oKeyEventArgs]);}return true;},processPrevArrow:function(oKeyEventArgs){var $0=false;if(this._rbnFocusedItem!=null||this._eToState!==Kepler.Framework.UI.Controls.EItemState.eFocus){$0=Ribbon.RibbonTab.callBaseMethod(this, 'processPrevArrow',[oKeyEventArgs]);if(!$0){this.setFocusOnItem();this.changeState(Kepler.Framework.UI.Controls.EItemState.eFocus,this._elemItem);$0=true;}}else{if(oKeyEventArgs.get_key()===Kepler.Framework.UI.Events.EventArgsNs.Keys.up){this._oMsgParent.sendMessage('msg_reset_focus',null,null);this._oMsgParent.sendMessage('msg_set_focus_on_arrow_key',oKeyEventArgs,this);$0=true;}}return $0;},$16:function(){if(ss.isValue(this._oParentRbnItem)&&(Ribbon.RibbonTabContainer).isInstanceOfType(this._oParentRbnItem)){(this._oParentRbnItem).setActiveTab(this.get_id());}else if(ss.isValue(this._oMsgParent)){if((Ribbon.BaseRibbonManager).isInstanceOfType(this._oMsgParent)){var $0=(this._oMsgParent);if($0.getActiveTab()===this&&!$0.get_pin()){$0.hideActiveTab();}else{$0.setActiveTab(this.get_id());}}else if((Kepler.Engine.UI.QAT.QatContainer).isInstanceOfType(this._oMsgParent)){var $1=(this._oMsgParent);$1.setActiveTab(this.get_id());}}},$A:function(){if(!this._bIsActive){this.$16();if(Kepler.Framework.Accessibility.AccessibilitySupport.get_instance().get_isAccessibilityOn()&&!(this._oMsgParent).get_isFileTabActive()){this.setAria();}}return 5;},$B:function(){var $0='';$0='selected '+this.getLabel()+' tab item'+this.getShortcutKey();return $0;},onLButtonUp:function(element,mouseEventArgs){if(this._bCapture){this.releaseCapture();if(Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){this.changeState(Kepler.Framework.UI.Controls.EItemState.eNormal,element);}else{this.changeState(Kepler.Framework.UI.Controls.EItemState.eHover,element);}var $0=true;var $1=this._oMsgParent.sendMessage('eONDetectMode',null,null);if(!!$1){$0=((this._oMsgParent).isActionCorrect(this,null)===1);}if($0||Kepler.Engine.Core.EngineApp.get_engine().isHintFreeNavigation()){this.$16();if(Kepler.Framework.Accessibility.AccessibilitySupport.get_instance().get_isAccessibilityOn()&&!(this._oMsgParent).get_isFileTabActive()){this.setAria();}}}return true;},onMouseDblClick:function(element,mouseEventArgs){var $0=(this._oMsgParent);if(ss.isValue($0)&&(Ribbon.BaseRibbonManager).isInstanceOfType($0)&&ss.isNullOrUndefined(this._oParentRbnItem)&&ss.isValue(this._oMsgParent)){if($0.getActiveTab()===this){this._oMsgParent.sendMessage('msg_toggle_ribbon_pin',null,null);}else{var $1=this._oMsgParent.sendMessage('eONDetectMode',null,null);if(!!$1){var $2=((this._oMsgParent).isActionCorrect(this,null)===1);if($2){$0.setActiveTab(this.get_id());}}}}return true;},onUnload:function(){this._elemTabButton=null;Ribbon.RibbonTab.callBaseMethod(this, 'onUnload');},baseLBtnUp:function(element){Ribbon.RibbonTab.callBaseMethod(this, 'onLButtonUp',[element,null]);}}
Ribbon.RibbonTabContainer=function(){Ribbon.RibbonTabContainer.initializeBase(this);this.$1D=document.createElement('div');this.$21=document.createElement('div');this.$1E=document.createElement('div');this.$1F=document.createElement('div');this.$25=0;this.$26=0;this.$27=0;this.$28=new Kepler.Framework.UI.Size(0,0);this.$29=new Kepler.Framework.UI.Size(0,0);this.$23=-1;this.$24=-1;this.$2A={};}
Ribbon.RibbonTabContainer.prototype={$1D:null,$1E:null,$1F:null,$20:0,$21:null,$22:0,get_ribbonTabType:function(){return this.$22;},set_ribbonTabType:function(value){this.$22=value;return value;},$23:0,$24:0,get_defaultTabID:function(){return this.$24;},set_defaultTabID:function(value){this.$24=value;return value;},$25:0,$26:0,$27:0,$28:null,$29:null,get_minSize:function(){return new Kepler.Framework.UI.Size(this.$29.get_width(),this.$29.get_height());},set_minSize:function(value){this.$29.set_width(value.get_width());this.$29.set_height(value.get_height());return value;},get_minWidth:function(){return this.$29.get_width();},set_minWidth:function(value){this.$29.set_width(value);return value;},get_minHeight:function(){return this.$29.get_height();},set_minHeight:function(value){this.$29.set_height(value);return value;},$2A:null,attachMessages:function(){this.attachMessage('msg_ribbon_item_command',ss.Delegate.create(this,this.onMsgRibbonItemCommand));},onMsgRibbonItemCommand:function(wParam,lParam){this._oMsgParent.sendMessage('msg_ribbon_item_command',wParam,lParam);return null;},createRibbonItem:function(bTouchMode){Ribbon.RibbonTabContainer.callBaseMethod(this, 'createRibbonItem',[bTouchMode]);this._elemItem=document.createElement('div');this._elemItem.rbnItem=this;this._elemItem.className='file_tab_container';this._elemItem.style.width=this._rcMouse.get_width()+'px';this._elemItem.style.height=this._rcMouse.get_height()+'px';if(this.$22===1){this.$25=122;this.$27=44;this.$21.className='file_tab_container_pages_parent';this.$1D.className='file_tab_container_header_parent';this.$1D.style.backgroundColor=this._oThemeDetails.get_colorNormal();}else if(this.$22===2){this.$25=276;this.$27=35;this.$21.className='file_tab_container_pages_child';this.$1D.className='file_tab_container_header_child';this.$1D.style.backgroundColor='White';this.$1E.style.borderRight='1px solid #E1E1E1';}else{this.$25=0;this.$27=0;this.$21.className='file_tab_container_pages_parent';this.$1D.style.display='none';}this.$1D.style.width=this.$25+'px';this.$1E.style.width=this.$25+'px';this.$21.style.left=(this.$25+this.$27)+'px';this.$1D.style.height='100%';this.$21.style.height='100%';this.$1E.style.position='relative';this.$21.style.position='absolute';this.$21.style.top='0px';this.$21.style.width=this._rcMouse.get_width()+'px';this.$1D.appendChild(this.$1F);this.$1D.appendChild(this.$1E);this._elemItem.appendChild(this.$1D);this._elemItem.appendChild(this.$21);},size:function(iWidth,iHeight,bUpdateElem){if(iWidth<this.$29.get_width()){iWidth=this.$29.get_width();}if(iHeight<this.$29.get_height()){iHeight=this.$29.get_height();}this.$28.set_width(iWidth);this.$28.set_height(iHeight);this.sizeUpdateTemp(iWidth,iHeight,bUpdateElem);this.$2C();},sizeUpdateTemp:function(iWidth,iHeight,bUpdateElem){if(this.get_rectangleMouse().get_width()===iWidth&&this.get_rectangleMouse().get_height()===iHeight){return;}if(iWidth<this.$29.get_width()){iWidth=this.$29.get_width();}if(iHeight<this.$29.get_height()){iHeight=this.$29.get_height();}var $0=iHeight;this.$26=iWidth-this.$25-this.$27;this.$21.style.width=this.$26+'px';if(this.$23!==-1){var $1=this.getItemById(this.$23);$1.size(this.$26,iHeight,(ss.isValue(bUpdateElem))?bUpdateElem:true);$0=$1.get_rectangleMouse().get_height();}Ribbon.RibbonTabContainer.callBaseMethod(this, 'size',[iWidth,$0,(ss.isValue(bUpdateElem))?bUpdateElem:true]);if($0>iHeight){var $2=this.get_parentRibbonItem();if(ss.isValue($2)&&(Ribbon.RibbonTabForFileTab).isInstanceOfType($2)){($2).updateScrollBar();}}},informHorizontalScrollbarVisible:function(bHorizontalScrollVisible){var $0=this.getActiveTab();if(!ss.isNullOrUndefined($0)){$0.informHorizontalScrollbarVisible(bHorizontalScrollVisible);}},getActiveTab:function(){return this.getItemById(this.$23);},setActiveTab:function(iTabID){if(ss.isNullOrUndefined(iTabID)){return;}else if(iTabID===this.$23){return;}var $0=this.getItemById(iTabID);if($0.get_enabled()===1){if(ss.isValue($0)&&(Ribbon.RibbonTab).isInstanceOfType($0)){this.$2B($0);}}},$2B:function($p0){if(ss.isNullOrUndefined($p0)){return;}var $0=false;var $1=null;if(this.$23!==-1){$1=this.getItemById(this.$23);($1).set_active(false);$p0.invalidate();$0=true;}this.$23=$p0.get_id();$p0.set_active(true);var $2=$p0.get_elementItem();if(ss.isNullOrUndefined($2.parentNode)){this.$21.appendChild($p0.get_elementItem());}if($0){var $4=this.get_rectangleMouse().get_height();this.$26=this._rcMouse.get_width()-this.$25-this.$27;$p0.size(this.$26,this.$28.get_height(),true);var $5=$p0.get_rectangleMouse().get_height();if($5!==$4){Ribbon.RibbonTabContainer.callBaseMethod(this, 'size',[this._rcMouse.get_width(),$5,true]);var $6=this.get_parentRibbonItem();if(ss.isValue($6)){if((Ribbon.RibbonTabForFileTab).isInstanceOfType($6)){($6).updateScrollBar();}}}this.$2C();}$p0.invalidate();if((Ribbon.RibbonTabForFileTab).isInstanceOfType($p0)){($p0).setVerScrollTo(0);}if((Ribbon.RibbonTabForFileTab).isInstanceOfType($p0)){if(($p0).get_ribbonTabType()===2){($p0).set_checkedFirstTime(false);}}var $3=$p0.get_listRibbonItems();for(var $7=0;$7<$3.length;$7++){var $8=$3[$7];if((Ribbon.RibbonItemScrollableContainer).isInstanceOfType($8)){($8).setScrollTo(0);break;}else if((Ribbon.RibbonTabContainer).isInstanceOfType($8)){var $9=($8).getActiveTab();if(($9).get_ribbonTabType()===2){($9).set_checkedFirstTime(true);$9.drawItem($9.get_elemTabButton());}}}if(!ss.isNull($1)&&Type.canCast($1,Ribbon.RibbonTabForFileTab)&&Type.canCast($p0,Ribbon.RibbonTabForFileTab)){($p0).informHorizontalScrollbarVisible(($1).bIsParentHorScrollVisible);}this._oMsgParent.sendMessage('msg_draw_latest_highlighted_item',null,null);},$2C:function(){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementHeight(this.$21);var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementHeight(this.$1F);Kepler.Engine.UI.Helper.HtmlCssHelper.setElementHeight(this.$1E,($0-40-$1)+'px');},addItem:function(oRibbonItem,elemParent){elemParent=(ss.isValue(elemParent))?elemParent:this.$1F;Ribbon.RibbonTabContainer.callBaseMethod(this, 'addItem',[oRibbonItem,elemParent]);},addTab:function(oRibbonItem){this._lstRibbonItems.add(oRibbonItem);oRibbonItem.set_parentRibbonItem(this);if((Ribbon.RibbonTabForFileTab).isInstanceOfType(oRibbonItem)){var $0=oRibbonItem;$0.set_ribbonTabType(this.$22);var $1=$0.get_elemTabButton();$1.setAttribute('controltype','button');if(this.$22===1){$0.get_elemTabTitle().style.color='#444444';$0.get_elemTabTitle().style.paddingBottom='21px';$0.get_elemTabTitle().className='file_tab_title_parent';$1.className='file_tab_navigator_button_parent';$1.style.width=122-7+'px';$1.style.top=this.$20+'px';this.$20=this.$20+38;$1.style.height=38+'px';$1.style.lineHeight=38+'px';$1.style.backgroundColor=this._oThemeDetails.get_colorNormal();}else if(this.$22===2){$0.get_elemTabTitle().style.color=this._oThemeDetails.get_colorNormal();$0.get_elemTabTitle().style.paddingBottom='9px';$0.get_elemTabTitle().className='file_tab_title_child';$1.className='file_tab_navigator_button_child';$1.style.width=276-7+'px';$1.style.top=this.$20+'px';this.$20=this.$20+44+5;$1.style.height=44-6+'px';$1.style.lineHeight=44-13+'px';$1.style.paddingTop='6px';$1.style.backgroundColor='white';}else if(this.$22===3){$0.get_elemTabTitle().style.display='none';}$1.style.paddingLeft='7px';this.$1E.appendChild($1);var $2=$0.get_elementItem();$2.style.position='absolute';$2.style.width=this._rcMouse.get_width()+'px';$2.style.height=this._rcMouse.get_height()+'px';$2.style.top='0px';$2.style.left='0px';if(this.$23===-1){this.setActiveTab($0.get_id());this.$24=$0.get_id();}else{$0.set_active(false);}}else if(Type.getInstanceType(oRibbonItem)===Ribbon.RibbonItemLable){this.$2D(oRibbonItem);}},$2D:function($p0){var $0=$p0.get_elementItem();if(this.$22===2){$0.style.width=(276+2)+'px';$0.style.top=this.$20+'px';this.$20=this.$20+34;$0.style.height=34+'px';$0.style.lineHeight=34+'px';$0.style.backgroundColor='white';$0.style.color=this._oThemeDetails.get_colorNormal();$0.style.fontSize='21px';$0.style.textAlign='left';$0.style.verticalAlign='top';}else{$0.style.width=122+'px';$0.style.top=this.$20+'px';this.$20=this.$20+22;$0.style.height=22/2+'px';$0.style.lineHeight=22/2+'px';$0.style.color=this._oThemeDetails.get_colorNormalLight();$0.style.fontSize='13px';$0.style.textAlign='center';}$0.style.position='absolute';$0.style.left='0px';this.$1E.appendChild($0);},processNextArrow:function(KeyEvtArgs){if(KeyEvtArgs.get_key()===Kepler.Framework.UI.Events.EventArgsNs.Keys.down){var $0;var $1=false;if(this._bFocusable){if(this._lstRibbonItems.length>0){$0=(ss.isValue(this._rbnFocusedItem))?this._rbnFocusedItem:this.getNextFocusableItem(-1);$1=false;if(ss.isValue($0)){$1=$0.processNextArrow(KeyEvtArgs);if(!$1&&ss.isNullOrUndefined($0.get_focusedRbnItem())){var $2=this._lstRibbonItems.indexOf($0);$0=this.getNextFocusableItem($2);if(this.get_ribbonTabType()===1){if(ss.isNullOrUndefined($0)){$0=this.getNextFocusableItem(-1);}}else{$1=(ss.isValue(this.get_parentRibbonItem().get_focusedRbnItem()))?true:false;}if(ss.isValue($0)){this.$2E($0);$1=true;}}}}}return $1;}else{var $3=this.getActiveTab();if(ss.isNullOrUndefined(this.get_focusedRbnItem())){this.$2E($3);return true;}else{return $3.processNextArrow(KeyEvtArgs);}}},processPrevArrow:function(KeyEvtArgs){if(KeyEvtArgs.get_key()===Kepler.Framework.UI.Events.EventArgsNs.Keys.up){var $0;var $1=this._lstRibbonItems.length;var $2=false;if(this._bFocusable){if(this._lstRibbonItems.length>0){$0=(ss.isValue(this._rbnFocusedItem))?this._rbnFocusedItem:this.getPreFocusableItem($1);$2=false;if(ss.isValue($0)){$2=$0.processPrevArrow(KeyEvtArgs);if(!$2&&ss.isNullOrUndefined($0.get_focusedRbnItem())){var $3=this._lstRibbonItems.indexOf($0);$0=this.getPreFocusableItem($3);if(this.get_ribbonTabType()===1){if(ss.isNullOrUndefined($0)){$0=this.getPreFocusableItem($1);}}else{$2=(ss.isValue(this.get_parentRibbonItem().get_focusedRbnItem()))?true:false;}if(ss.isValue($0)){this.$2E($0);$2=true;}}}}}return $2;}else{var $4=this.getActiveTab();return $4.processPrevArrow(KeyEvtArgs);}},$2E:function($p0){var $0=this._oMsgParent.sendMessage('eONDetectMode',null,null);if(!$0){$p0.setFocusOnItem();if(($p0).get_fileTabTitleType()!==3){this.setActiveTab($p0.get_id());}}},processTabNavigation:function(KeyEvtArgs){var $0;var $1=false;if(this._bFocusable){if(this._lstRibbonItems.length>0){$1=false;$0=(ss.isValue(this._rbnFocusedItem))?this._rbnFocusedItem:this.getActiveTab();if(ss.isValue($0)){$1=$0.processTabNavigation(KeyEvtArgs);}}}return $1;},attachMessage:function(strMessage,msgHandler){this.$2A[strMessage]=msgHandler;},sendMessage:function(strMessage,wParam,lParam){var $0=this.$2A[strMessage];if($0!=null){return $0(wParam,lParam);}return null;},detachMessage:function(strMessage){delete this.$2A[strMessage];},postMessage:function(strMessage,wParam,lParam,bRemovePreviousMsgs){Kepler.Framework.Core.Messaging.PostMessageManager.postMessage(this,strMessage,wParam,lParam,bRemovePreviousMsgs);},$2F:function(){if(this.$23!==-1){var $0=this.getItemById(this.$23);return $0.get_text();}return '';}}
Ribbon.RibbonTabForFileTab=function(eFileTabTitleType){Ribbon.RibbonTabForFileTab.initializeBase(this);this.csS_TAB_ACTIVE='';this._elemTabButton=document.createElement('span');this._elemTabTitle=document.createElement('span');this.$21=(ss.isValue(eFileTabTitleType))?eFileTabTitleType:0;this._jQTabTitle=$(this._elemTabTitle);this._sbVertical=new Kepler.Engine.UI.Controls.VScrollBar(new Kepler.Framework.UI.Point(1000,1000),new Kepler.Framework.UI.Size(17,1000));this._sbVertical.set_mfcBehaviour(false);this._sbVertical.set_scrollBarType(Kepler.Engine.UI.Controls.EScrollBarType.APP);this._sbVertical.set_singleStepTimerInterval(100);this._sbVertical.set_singleStep(5);this._sbVertical.onLoadFromNonControlParent();this._sbVertical.set_iSendMsgParent(this);this._sbHorizontal=new Kepler.Engine.UI.Controls.HScrollBar(new Kepler.Framework.UI.Point(1000,1000),new Kepler.Framework.UI.Size(1000,17));this._sbHorizontal.set_mfcBehaviour(false);this._sbHorizontal.set_scrollBarType(Kepler.Engine.UI.Controls.EScrollBarType.APP);this._sbHorizontal.set_singleStepTimerInterval(100);this._sbHorizontal.set_singleStep(5);this._sbHorizontal.onLoadFromNonControlParent();this._sbHorizontal.set_iSendMsgParent(this);this._sbHorizontal.show(false);this.$1C=document.createElement('div');this.$1D=document.createElement('div');this.$1E=document.createElement('div');this.$1F=Kepler.Engine.UI.Controls.EScrollbarMode.AUTO;this.$20=new Kepler.Framework.UI.Size(0,0);this.$22=null;this.$23=null;this.$24=null;this.$19={};this.attachMessages();}
Ribbon.RibbonTabForFileTab.prototype={$19:null,get_checked:function(){return this._bChecked;},set_checked:function(value){if(value){if((Ribbon.RibbonTabContainer).isInstanceOfType(this.get_parentRibbonItem())){(this.get_parentRibbonItem()).setActiveTab(this.get_id());}}this._bChecked=value;return value;},$1A:false,get_dblClkNeeded:function(){return this.$1A;},set_dblClkNeeded:function(value){this.$1A=value;return value;},_oRibbonTabType:0,get_ribbonTabType:function(){return this._oRibbonTabType;},set_ribbonTabType:function(value){this._oRibbonTabType=value;this.drawState(this._elemTabButton);return value;},$1B:false,get_checkedFirstTime:function(){return this.$1B;},set_checkedFirstTime:function(value){this.$1B=value;return value;},_elemTabTitle:null,get_elemTabTitle:function(){return this._elemTabTitle;},get_elementScrollRect:function(){return this._elemTabButton;},$1C:null,$1D:null,$1E:null,get_elemContent:function(){return this.$1E;},_sbVertical:null,get_vScrollBar:function(){return this._sbVertical;},set_vScrollBar:function(value){this._sbVertical=value;return value;},_sbHorizontal:null,$1F:0,get_scrollbarMode:function(){return this.$1F;},set_scrollbarMode:function(value){if(this.$1F!==value){this.$1F=value;this.$29();}return value;},$20:null,$21:0,bIsParentHorScrollVisible:false,get_fileTabTitleType:function(){return this.$21;},set_fileTabTitleType:function(value){this.$21=value;return value;},_jQTabTitle:null,$22:null,$23:null,$24:null,$B:function(){var $0='';if(this.get_fileTabTitleType()!==3){$0=' selected '+this.getLabel()+' tab item '+this.getShortcutKey();}else{$0=this.getLabel()+' menu item menukey'+this.getShortcutKey();}return $0;},$25:function(){if(this.$22!=null){return this.$22.$2F();}return '';},processTabNavigation:function(KeyEvtArgs){var $0;var $1=false;var $2=false;if(KeyEvtArgs.get_shiftKey()){$2=true;}if(this._bFocusable){if(this._lstRibbonItems.length>0){$1=false;if(ss.isNullOrUndefined(this._rbnFocusedItem)){if(this._oRibbonTabType===2){if($2&&ss.isValue(this.get_parentRibbonItem().get_focusedRbnItem())){return false;}}if(ss.isValue(this.get_parentRibbonItem())){if(ss.isValue(this.get_parentRibbonItem().get_focusedRbnItem())){if(this.get_parentRibbonItem().get_focusedRbnItem()!==this){return this.setFocusOnItem();}}else{if(!$2){return this.setFocusOnItem();}}}$0=($2)?this.getPreFocusableItem(this._lstRibbonItems.length):this.getNextFocusableItem(-1);}else{$0=this._rbnFocusedItem;}if(ss.isValue($0)){$1=$0.processTabNavigation(KeyEvtArgs);if(!$1){var $3=this.get_listRibbonItems().indexOf($0);$0=($2)?this.getPreFocusableItem($3):this.getNextFocusableItem($3);if(ss.isValue($0)){$1=$0.processTabNavigation(KeyEvtArgs);}else{if(this._oRibbonTabType===2){if($2){this.setFocusOnItem();$1=true;}else{$1=false;}}else{this.setFocusOnItem();$1=true;}}}}}}return $1;},performEnterOnItem:function(oItem,KeyEvtArgs){var $0=this._oMsgParent.sendMessage('eONDetectMode',null,null);if(!$0){this._bCapture=true;this.$28(oItem.get_elementItem(),null);}},processNextArrow:function(KeyEvtArgs){if(KeyEvtArgs.get_key()===Kepler.Framework.UI.Events.EventArgsNs.Keys.down){var $0;var $1=false;if(this._bFocusable){if(this._lstRibbonItems.length>0){$1=false;if(ss.isValue(this._rbnFocusedItem)){$0=this._rbnFocusedItem;$1=$0.processNextArrow(KeyEvtArgs);if(!$1){var $2=this.get_listRibbonItems().indexOf($0);$0=this.getNextFocusableItem($2);$1=(ss.isValue($0))?$0.processNextArrow(KeyEvtArgs):false;}}else{return false;}}else{if($1=ss.isNullOrUndefined(this.get_parentRibbonItem())){this._oMsgParent.sendMessage('msg_set_focus',this,null);}else{if(this.get_parentRibbonItem().get_focusedRbnItem()!==this){$1=this.setFocusOnItem();}}}}return $1;}else{return Ribbon.RibbonTabForFileTab.callBaseMethod(this, 'processNextArrow',[KeyEvtArgs]);}},processPrevArrow:function(KeyEvtArgs){if(KeyEvtArgs.get_key()===Kepler.Framework.UI.Events.EventArgsNs.Keys.up){var $0;var $1=false;if(this._bFocusable){if(this._lstRibbonItems.length>0){$1=false;if(ss.isValue(this._rbnFocusedItem)){$0=this._rbnFocusedItem;$1=$0.processPrevArrow(KeyEvtArgs);if(!$1){var $2=this.get_listRibbonItems().indexOf($0);$0=this.getPreFocusableItem($2);$1=(ss.isValue($0))?$0.processPrevArrow(KeyEvtArgs):false;}}else{return false;}}else{if($1=ss.isNullOrUndefined(this.get_parentRibbonItem())){this._oMsgParent.sendMessage('msg_set_focus',this,null);}else{if(this.get_parentRibbonItem().get_focusedRbnItem()!==this){$1=this.setFocusOnItem();}}}}return $1;}else{return true;}},getShowMeEle:function(){return Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementByClassName(this._elemTabButton,'filetab_visual_hint_tab_button');},createRibbonItem:function(bTouchMode){this._elemTabButton.style.width=this.get_rectangleMouse().get_width()+'px';this._elemTabButton.style.height=this.get_rectangleMouse().get_height()+'px';this._elemTabButton.style.lineHeight=this.get_rectangleMouse().get_height()+'px';this.assignDOMId(this._elemTabButton);this._elemTabButton.rbnItem=this;this._elemTabButton.setAttribute('role','button');if(!String.isNullOrEmpty(this._strImageClass)){var $2=document.createElement('div');$2.className=this._strImageClass;$2.style.display='table-cell';this._elemTabButton.appendChild($2);}switch(this.$21){case 0:this._elemTabTitle.style.display='none';break;case 1:this._elemTabTitle.style.display='visible';break;case 2:this._elemTabTitle.style.display='visible';var $3=document.createElement('div');$3.className=this._strImageClass;$3.style.display='table-cell';$3.style.borderRight='13px solid white';if(this._strImageClass!=null){$3.style.minWidth='32px';}this._elemTabTitle.appendChild($3);break;default:break;}var $0=document.createElement('div');$0.innerHTML=this.get_text();$0.style.display='table-cell';$0.style.paddingLeft='20px';$0.style.verticalAlign='middle';this._elemTabButton.appendChild($0);var $1=document.createElement('div');$1.innerHTML=this.get_text();$1.style.display='table-cell';$1.style.verticalAlign='middle';this._elemTabTitle.appendChild($1);this._elemItem.setAttribute('controltype','button');this._elemItem.style.overflow='hidden';this._elemItem.style.display='block';this.$1D.appendChild(this._elemTabTitle);this.$1D.appendChild(this.$1E);this.$1D.style.width='100%';this.$1C.appendChild(this.$1D);this.$1C.style.overflow='hidden';this.$1C.style.height='100%';this._elemItem.appendChild(this._sbVertical.get_element());this._elemItem.appendChild(this._sbHorizontal.get_element());this._elemItem.appendChild(this.$1C);this._elemItem.rbnPageItem=this;},attachMessages:function(){this.attachMessage(Kepler.Engine.UI.Controls.ScrollBarBase.msG_SCROLL_POS_CHANGED,ss.Delegate.create(this,this.$26));this.attachMessage(Kepler.Engine.UI.Controls.ScrollBarBase.msG_SCROLL_POS_CHANGING,ss.Delegate.create(this,this.$26));},$26:function($p0,$p1){var $0=$p0;if($p1===this._sbVertical){this.$1C.scrollTop=$0;}else if($p1===this._sbHorizontal){this.$1C.scrollLeft=$0;if(ss.isValue(this._oMsgParent)){this._oMsgParent.sendMessage('HScrollChange',$p0,$p1);}}return null;},attachMessage:function(strMessage,msgHandler){this.$19[strMessage]=msgHandler;},sendMessage:function(strMessage,wParam,lParam){var $0=this.$19[strMessage];if($0!=null){return $0(wParam,lParam);}return null;},detachMessage:function(strMessage){delete this.$19[strMessage];},postMessage:function(strMessage,wParam,lParam,bRemovePreviousMsgs){Kepler.Framework.Core.Messaging.PostMessageManager.postMessage(this,strMessage,wParam,lParam,bRemovePreviousMsgs);},drawEnabledDisabledState:function(){if(!this._iEnabled){if(!this.get_ribbonTabType()){this._elemTabButton.style.backgroundColor='#EBEBEB';}else if(this.get_ribbonTabType()===1){this._elemTabButton.style.color=this._oThemeDetails.get_colorNormalLight();this._elemTabButton.style.backgroundColor=this._oThemeDetails.get_colorNormal();}}else{if(!this.get_ribbonTabType()){this._elemTabButton.style.backgroundColor=this._oThemeDetails.get_colorNormal();}else if(this.get_ribbonTabType()===1){this._elemTabButton.style.color='white';this._elemTabButton.style.backgroundColor=this._oThemeDetails.get_colorNormal();}}},drawHighlightedState:function(){if(this._iHighlight===1){Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this._elemTabButton,'filetab_visual_hint_tab_button');if(this.get_specialTab()){this._elemTabButton.style.zIndex=1;}this.$27();}else{Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(this._elemTabButton,'filetab_visual_hint_tab_button');if(this.get_specialTab()){this._elemTabButton.style['z-index']='';}}},$27:function(){this.setFocusAllMode();this._oMsgParent.sendMessage('msg_reset_focus',this,null);},drawState:function(element){if(this._oRibbonTabType===1){if(this._iEnabled===1){switch(this._eToState){case Kepler.Framework.UI.Controls.EItemState.eNormal:if(this.get_active()){this._elemTabButton.style.backgroundColor=this._oThemeDetails.get_colorNormalLight();}else{this._elemTabButton.style.backgroundColor=this._oThemeDetails.get_colorNormal();}break;case Kepler.Framework.UI.Controls.EItemState.eFocus:if(this.$21!==3){this._elemTabButton.style.backgroundColor=this._oThemeDetails.get_colorNormalLight();}else{this._elemTabButton.style.backgroundColor=this._oThemeDetails.get_colorNormalDark();}break;case Kepler.Framework.UI.Controls.EItemState.eHover:this._elemTabButton.style.backgroundColor=this._oThemeDetails.get_colorNormalDark();break;case Kepler.Framework.UI.Controls.EItemState.ePressedHover:this._elemTabButton.style.backgroundColor=this._oThemeDetails.get_colorNormalLight();break;default:break;}}}else if(this._oRibbonTabType===2){switch(this._eToState){case Kepler.Framework.UI.Controls.EItemState.eNormal:if(this.get_active()){if(this.$1B){this._elemTabButton.style.backgroundColor=this._oThemeDetails.get_colorPressed();}else{this._elemTabButton.style.backgroundColor=this._oThemeDetails.get_colorHover();}}else{this._elemTabButton.style.backgroundColor='white';}break;case Kepler.Framework.UI.Controls.EItemState.eFocus:case Kepler.Framework.UI.Controls.EItemState.eHover:this._elemTabButton.style.backgroundColor=this._oThemeDetails.get_colorHover();break;case Kepler.Framework.UI.Controls.EItemState.ePressedHover:this._elemTabButton.style.backgroundColor=this._oThemeDetails.get_colorPressed();break;default:break;}}},$14:function($p0,$p1){return false;},addItem:function(oRibbonItem,elemParent){Ribbon.RibbonTabForFileTab.callBaseMethod(this, 'addItem',[oRibbonItem,elemParent]);if((Ribbon.RibbonItemScrollableContainer).isInstanceOfType(oRibbonItem)){this.$23=oRibbonItem;}if((Ribbon.RibbonItemPrintPageContainer).isInstanceOfType(oRibbonItem)){this.$24=oRibbonItem;}if(this._lstRibbonItems.length===1){if((Ribbon.RibbonTabContainer).isInstanceOfType(oRibbonItem)){this.$22=oRibbonItem;}}else if(this.$22!=null){this.$22=null;}},size:function(iWidth,iHeight,bUpdateElem){if(this.get_rectangleMouse().get_width()===iWidth&&this.get_rectangleMouse().get_height()===iHeight){return;}this.$20.set_width(iWidth);this.$20.set_height(iHeight);this.$1C.style.width=iWidth+'px';this.$1E.style.width=iWidth+'px';if(!this._oRibbonTabType){this.$2A(iWidth,iHeight);}var $0=this._rcMouse.get_width()-iWidth;var $1=this._rcMouse.get_height()-iHeight;if(bUpdateElem){if(this.$22!=null){var $2=0;if(!!this.$21){$2=this._jQTabTitle.outerHeight();}this.$22.size(iWidth,iHeight-$2,bUpdateElem);this.$1E.style.height=this.$22.get_rectangleMouse().get_height()+'px';}if(this.$24!=null){var $3=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientPosition(this.$24.get_elementItem()).get_x();var $4=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientPosition(this.$24.get_elementItem()).get_y();var $5=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientPosition(this._elemItem).get_x();var $6=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientPosition(this._elemItem).get_y();this.$24.reSize($0,$1,$3-$5,$4-$6,iWidth,iHeight);if((Ribbon.RibbonTabForFileTab).isInstanceOfType(this.get_parentRibbonItem().get_parentRibbonItem())){}}if(this.$23!=null){var $7=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientPosition(this.$23.get_elementItem()).get_x();var $8=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientPosition(this.$23.get_elementItem()).get_y();var $9=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientPosition(this._elemItem).get_x();var $A=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientPosition(this._elemItem).get_y();var $B=0;if((Ribbon.RibbonTabForFileTab).isInstanceOfType(this.get_parentRibbonItem().get_parentRibbonItem())){$B=(this.get_parentRibbonItem().get_parentRibbonItem()).get_vScrollBar().get_curPos();}this.$23.reSize($0,$1,$7-$9,$8-$A,iWidth,iHeight);if((Ribbon.RibbonTabForFileTab).isInstanceOfType(this.get_parentRibbonItem().get_parentRibbonItem())){(this.get_parentRibbonItem().get_parentRibbonItem()).setVerScrollTo($B);}}}this.updateScrollBar();Ribbon.RibbonTabForFileTab.callBaseMethod(this, 'onParentResize');},onLButtonUp:function(element,mouseEventArgs){this.$28(element,mouseEventArgs);return true;},onMouseDblClick:function(element,mouseEventArgs){this._bCapture=true;this.processClickAction(this.get_elementItem());return true;},$28:function($p0,$p1){var $0=this._oMsgParent.sendMessage('eONDetectMode',null,null);if(this._bCapture){if(!this._oRibbonTabType&&!!$0){this.processClickAction($p0);}else if(this.$21===3){this.processClickAction($p0);}else{Ribbon.RibbonTabForFileTab.callBaseMethod(this, 'onLButtonUp',[$p0,$p1]);}}},$29:function(){if(this.$1F===Kepler.Engine.UI.Controls.EScrollbarMode.NONE){this._sbVertical.performScrollTo(0);this._sbVertical.show(false);this._sbHorizontal.performScrollTo(0);this._sbHorizontal.show(false);}else{this._sbVertical.show(true);}},setVerScrollTo:function(iScroll){this._sbVertical.performScrollTo(iScroll);},setHorScrollTo:function(iScroll){this._sbHorizontal.performScrollTo(iScroll);},scrollToFocusedItem:function(rcNextFocusItem){var $0=this;while(ss.isValue($0.get_parentRibbonItem())){$0=$0.get_parentRibbonItem();}var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementRect($0.get_elementItem());if(!$1.isRectInRect(rcNextFocusItem)){if(this.get_vScrollBar().get_visible()&&ss.isValue(this.get_focusedRbnItem())){this.setVerScrollTo(this._sbVertical.get_curPos()+rcNextFocusItem.get_top()-$1.get_top());if(this._sbVertical.get_maxPos()<rcNextFocusItem.get_top()-$1.get_top()){rcNextFocusItem.set_top(rcNextFocusItem.get_top()+this._sbVertical.get_maxPos());}else{rcNextFocusItem.set_top($1.get_top());}}}Ribbon.RibbonTabForFileTab.callBaseMethod(this, 'scrollToFocusedItem',[rcNextFocusItem]);},processShowMe:function(iHighlightIndex){if(!!iHighlightIndex){if((Ribbon.RibbonTabContainer).isInstanceOfType(this.get_parentRibbonItem())){(this.get_parentRibbonItem()).setActiveTab(this.get_id());}}return true;},updateScrollBar:function(){var $0=this.$20.get_width();var $1=this.$20.get_height();if(this.$22!=null){this.$1E.style.height=this.$22.get_rectangleMouse().get_height()+'px';}this._sbVertical.set_top(0);if(this._sbHorizontal.get_visible()){this._sbVertical.set_height($1-17);}else{this._sbVertical.set_height($1);}var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementHeight(this.$1D);if($2>$1){if(this.$1F===Kepler.Engine.UI.Controls.EScrollbarMode.NONE){$1=$2;}}if(!this._oRibbonTabType){Ribbon.RibbonTabForFileTab.callBaseMethod(this, 'size',[this._rcMouse.get_width(),$1,true]);this._elemItem.style.width=$0+'px';}else{Ribbon.RibbonTabForFileTab.callBaseMethod(this, 'size',[$0,$1,true]);}var $3=$0;var $4=false;if($2>$1){if(this.$1F!==Kepler.Engine.UI.Controls.EScrollbarMode.NONE){$3=$0-17;if(this.$22!=null){this.$22.sizeUpdateTemp($3,this.$22.get_rectangleMouse().get_height());this.$1E.style.height=this.$22.get_rectangleMouse().get_height()+'px';}this._sbVertical.set_left($0-17);this.$1C.style.width=$3+'px';this.$1E.style.width=$3+'px';$4=true;$2=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementHeight(this.$1D);$2=$2-$1;var $5=new Kepler.Engine.UI.Controls.ScrollBarParams();$5._iMinPos=0;$5._iMaxPos=$2;$5._iPageStep=$1;this._sbVertical.updateScrollbarParams($5);this._sbVertical.set_enable(true);this._sbVertical.show(true);}}else{if(this.$1F===Kepler.Engine.UI.Controls.EScrollbarMode.AUTO){this._sbVertical.performScrollTo(0);this._sbVertical.show(false);}else if(this.$1F===Kepler.Engine.UI.Controls.EScrollbarMode.shoW_ALWAYS){this._sbVertical.performScrollTo(0);this._sbVertical.set_enable(false);}}if(!$4){this._sbVertical.set_left($0-17);this._sbHorizontal.set_width($0);this._sbHorizontal.setBounds(0,770-$0);if(this.$22!=null){this.$22.sizeUpdateTemp($3,this.$22.get_rectangleMouse().get_height());this.$1E.style.height=this.$22.get_rectangleMouse().get_height()+'px';}this.$1C.style.width=$3+'px';this.$1E.style.width=$3+'px';}this.updateScrollBarOnParentScrollBarVisibility();},$2A:function($p0,$p1){if($p0<770+17){this.$1C.style.height=$p1-17+'px';this.$1E.style.height=$p1+'px';this.$1E.style.width=770+'px';this._sbVertical.set_height(this._sbVertical.get_height()-17);if(!ss.isNullOrUndefined(this.$22)&&!this._sbHorizontal.get_visible()){this.$22.informHorizontalScrollbarVisible(true);}var $0=new Kepler.Engine.UI.Controls.ScrollBarParams();$0._iMinPos=0;$0._iMaxPos=770+17-$p0;$0._iPageStep=$p0;this._sbHorizontal.updateScrollbarParams($0);this._sbHorizontal.set_enable(true);this._sbHorizontal.show(true);this._sbHorizontal.set_width($p0-17);this._sbHorizontal.set_left(0);this._sbHorizontal.set_top($p1-17);}else{if(!ss.isNullOrUndefined(this.$22)&&this._sbHorizontal.get_visible()){this.$22.informHorizontalScrollbarVisible(false);}this._oMsgParent.sendMessage('HScrollChange',0,this._sbHorizontal);this.$1C.style.height=$p1+'px';this._sbHorizontal.show(false);}},informHorizontalScrollbarVisible:function(bParentScrollBarVisible){if(this.bIsParentHorScrollVisible!==bParentScrollBarVisible){this.bIsParentHorScrollVisible=bParentScrollBarVisible;this.updateScrollBarOnParentScrollBarVisibility();if(!ss.isNullOrUndefined(this.$22)){this.$22.informHorizontalScrollbarVisible(bParentScrollBarVisible);}}},updateScrollBarOnParentScrollBarVisibility:function(){if(this.bIsParentHorScrollVisible&&this._sbVertical.get_visible()){this.$20.set_height(this.$20.get_height()-17);var $0=this.$20.get_height();this._elemItem.style.height=$0+'px';this._sbVertical.set_height($0);var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementHeight(this.$1D);$1-=$0;var $2=new Kepler.Engine.UI.Controls.ScrollBarParams();$2._iMinPos=0;$2._iMaxPos=$1;$2._iPageStep=$0;this._sbVertical.updateScrollbarParams($2);}},onUnload:function(){this.$1E=null;this.$1D=null;this.$1C=null;this._elemTabTitle=null;if(ss.isValue(this._sbVertical)){this._sbVertical.dispose();}Ribbon.RibbonTabForFileTab.callBaseMethod(this, 'onUnload');},processClickAction:function(element){var $0=this._oMsgParent.sendMessage('eONDetectMode',null,null);if(this.get_id()===10110000){if($0!==1){this._oMsgParent.sendMessage('msg_set_active_tab',10000000,null);}else{if(this.isRbnItemHighlighted(this._iHighlight)){this._oMsgParent.sendMessage('msg_set_active_tab',10000000,null);}}}this._bCapture=true;this.baseLBtnUp(element);},$16:function(){if(ss.isValue(this._oParentRbnItem)&&(Ribbon.RibbonTabContainer).isInstanceOfType(this._oParentRbnItem)){if(this.$21===3){this.processClickAction(this.get_elementItem());return;}}Ribbon.RibbonTabForFileTab.callBaseMethod(this, '$16');},$A:function(){if(this._oRibbonTabType===2&&this._bIsActive){return 0;}var $0=Ribbon.RibbonTabForFileTab.callBaseMethod(this, '$A');if(this.$21===3){return 7;}if(this._oRibbonTabType===2){return 9;}return $0;},onMouseWheel:function(mouseEventArgs){var $0=false;var $1=mouseEventArgs;var $2=this.get_focusedRbnItem();while(ss.isValue($2)){if($2.onMouseWheel(mouseEventArgs)){$0=true;break;}$2=$2.get_focusedRbnItem();}if(!$0&&this._sbVertical.get_visible()){var $3=$1.get_deltaY()*15;this._sbVertical.performScroll(-$3);$0=true;}return $0;}}
Ribbon.RibbonTabListItem=function(){Ribbon.RibbonTabListItem.initializeBase(this);this._elemItem=document.createElement('div');}
Ribbon.RibbonTabListItem.prototype={$C:null,get_discriptionText:function(){return this.$C;},set_discriptionText:function(value){this.$C=value;return value;},$D:null,get_fileTabListItem:function(){return this.$D;},set_fileTabListItem:function(value){this.$D=value;return value;},$E:null,get_headerTextClass:function(){return this.$E;},set_headerTextClass:function(value){this.$E=value;return value;},$F:null,get_discriptionTextClass:function(){return this.$F;},set_discriptionTextClass:function(value){this.$F=value;return value;},$10:0,get_ribbonItemType:function(){return this.$10;},set_ribbonItemType:function(value){this.$10=value;return value;},get_pinState:function(){return this.$D.get_ribbonItemPinObject().get_pinImageState();},set_pinState:function(value){this.$D.get_ribbonItemPinObject().set_pinImageState(value);return value;},$11:false,get_pinShow:function(){return this.$11;},set_pinShow:function(value){this.$D.get_ribbonItemPinObject().set_visible(value);this.$11=value;return value;},$12:false,get_dblClkNeeded:function(){return this.$12;},set_dblClkNeeded:function(value){this.$12=value;return value;},$13:0,get_pinID:function(){return this.$13;},set_pinID:function(value){this.$13=value;return value;},$14:false,get_active:function(){return this.$14;},set_active:function(value){this.$14=value;this.drawItem(null);return value;},onUnload:function(){if(ss.isValue(this.$D)){this.$D.dispose();}this.$D=null;Ribbon.RibbonTabListItem.callBaseMethod(this, 'onUnload');},onMouseDblClick:function(element,mouseEventArgs){this.releaseCapture();if(!Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){this.changeState(Kepler.Framework.UI.Controls.EItemState.eHover,element);if(this.isActionCommandElement(element)){this._oMsgParent.sendMessage('msg_ribbon_item_command',this,element);}}else{this.changeState(Kepler.Framework.UI.Controls.EItemState.eNormal,element);if(this.isActionCommandElement(element)){this._oMsgParent.sendMessage('msg_ribbon_item_command',this,element);}else{this.changeState(Kepler.Framework.UI.Controls.EItemState.ePressedHover,element);this.launchMenu(element,false);}}return true;},createRibbonItem:function(bTouchMode){this.$D=new Ribbon.FileTabListItem(this.$13,this.get_text(),this.$C,this._strImageClass,this.$E,this.$F,this);this.$D.get_containerElement().setAttribute('id',((this.get_msgParent()).get_parentWnd()).get_app().get_idPrefix()+'rbn_'+this.get_id());switch(this.$10){case 1:Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this.$D.get_containerElement(),'filetab_listitemdiscription_containerelement');this.$D.get_ribbonItemPinObject().get_elementItem().style.position='absolute';this.$D.get_ribbonItemPinObject().get_elementItem().style.right='16px';this.$D.get_ribbonItemPinObject().get_elementItem().style.top='17px';this.$D.get_ribbonItemPinObject().set_pinImageUsedIn(false);Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this.$D.get_imageElement(),'filetab_listitemdiscription_image');this.$D.get_headerElement().style.textOverflow='ellipsis';Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this.$D.get_headerElement(),'filetab_listitemdiscription_headertext');this.$D.get_discriptionElement().style.textOverflow='ellipsis';Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this.$D.get_discriptionElement(),'filetab_listitemdiscription_discriptiontext');this._elemItem=this.$D.get_containerElement();this.$D.get_ribbonItemPinObject().get_ttParamList().add(new Kepler.Engine.UI.Controls.Tooltip.Tooltip_Params(Kepler.Engine.UI.Controls.Tooltip.ETooltipTypes.simplE_DESCR,' Pin this item to the list ',''));break;case 0:this.$D.get_ribbonItemPinObject().set_pinImageUsedIn(true);this.$D.get_ribbonItemPinObject().get_elementItem().style.position='absolute';this.$D.get_ribbonItemPinObject().get_elementItem().style.right='14px';this.$D.get_ribbonItemPinObject().get_elementItem().style.bottom='5px';Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this.$D.get_imageElement(),'filetab_listimage_image');Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this.$D.get_headerElement(),'filetab_listimage_headertext');this.$D.get_containerElement().style.width=this._rcMouse.get_width()+'px';this.$D.get_containerElement().style.height=this._rcMouse.get_height()+'px';this._elemItem.appendChild(this.$D.get_containerElement());this._elemItem.style.width='232px';this._elemItem.style.height='262px';this._elemItem.style.display='inline-table';this._elemItem.style.textAlign='center';this.$D.get_containerElement().style.display='inline-table';this.$D.get_ribbonItemPinObject().get_ttParamList().add(new Kepler.Engine.UI.Controls.Tooltip.Tooltip_Params(Kepler.Engine.UI.Controls.Tooltip.ETooltipTypes.simplE_DESCR,'  Pin to list ',''));break;case 3:Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this.$D.get_containerElement(),'filetab_multilist_containerelement');this.$D.get_ribbonItemPinObject().set_pinImageUsedIn(false);this.$D.get_ribbonItemPinObject().get_elementItem().style.display='none';Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this.$D.get_imageElement(),'filetab_multilist_image');Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this.$D.get_headerElement(),'filetab_multilist_headertext');if(!String.isNullOrEmpty(this.$C)){Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this.$D.get_discriptionElement(),'filetab_multilist_discriptiontext');}this._elemItem=this.$D.get_containerElement();this._elemItem.style.display='inline-table';break;case 2:Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this.$D.get_containerElement(),'filetab_listitemwodis_containerelement');if(!this.$C){this.$D.get_containerElement().style.minHeight='26px';this.$D.get_containerElement().style.width='581px';this.$D.get_ribbonItemPinObject().get_elementItem().style.top='9px';}else{this.$D.get_containerElement().style.height='42px';this.$D.get_containerElement().style.width='581px';this.$D.get_ribbonItemPinObject().get_elementItem().style.top='17px';Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this.$D.get_discriptionElement(),'filetab_listitemwodis_discriptiontext');}this.$D.get_ribbonItemPinObject().set_pinImageUsedIn(false);this.$D.get_ribbonItemPinObject().get_elementItem().style.position='absolute';this.$D.get_ribbonItemPinObject().get_elementItem().style.right='16px';Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this.$D.get_imageElement(),'filetab_listitemwodis_image');Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this.$D.get_headerElement(),'filetab_listitemwodis_headertext');this.$D.get_ribbonItemPinObject().get_ttParamList().add(new Kepler.Engine.UI.Controls.Tooltip.Tooltip_Params(Kepler.Engine.UI.Controls.Tooltip.ETooltipTypes.simplE_DESCR,' Pin this item to the list ',''));break;}this._elemItem.rbnItem=this;this._elemItem.setAttribute('controltype','button');},drawItem:function(element){this.drawState();},onLButtonUp:function(element,mouseEventArgs){if(this.$10===3){(this.get_parentRibbonItem()).setActiveItem(this.get_id());}else{return Ribbon.RibbonTabListItem.callBaseMethod(this, 'onLButtonUp',[element,mouseEventArgs]);}return false;},processShowMe:function(iHighlightIndex){if(!!iHighlightIndex){if(!this.$10){if((Ribbon.RibbonItemScrollableContainer).isInstanceOfType(this.get_parentRibbonItem())){var $0=(this.get_parentRibbonItem());var $1=$0.get_listRibbonItems().indexOf(this);var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getComputedRect(this._elemItem).get_width();var $3=$2/this._rcMouse.get_width();var $4=$1/$3;$0.setScrollTo($4*this._rcMouse.get_height());}}}return true;},drawHighlightedState:function(){if(this._iHighlight===1){Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this._elemItem.firstChild,'filetab_visual_hint_tab_button');this.$15();}else{Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(this._elemItem.firstChild,'filetab_visual_hint_tab_button');}},getShowMeEle:function(){return Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementByClassName(this._elemItem,'filetab_visual_hint_tab_button');},drawState:function(){if(!this.$10){this.$D.get_containerElement().style.display='inline-table';}switch(this._eToState){case Kepler.Framework.UI.Controls.EItemState.eNormal:if(this.$14){this.$D.get_containerElement().style.backgroundColor=this._oThemeDetails.get_colorPressed();}else{this.$D.get_containerElement().style.backgroundColor='white';if(!!this.$D.get_ribbonItemPinObject().get_pinImageState()){this.$D.get_ribbonItemPinObject().get_elementItem().className='pin_grey_vertical';}else{this.$D.get_ribbonItemPinObject().set_visible(false);}}break;case Kepler.Framework.UI.Controls.EItemState.eFocus:case Kepler.Framework.UI.Controls.EItemState.eHover:this.$D.get_containerElement().style.backgroundColor=this._oThemeDetails.get_colorHover();if(!!this.$D.get_ribbonItemPinObject().get_pinImageState()){this.$D.get_ribbonItemPinObject().get_elementItem().className='pin_vertical';}else{this.$D.get_ribbonItemPinObject().get_elementItem().className='pin_horizontal';}if(this.$11){this.$D.get_ribbonItemPinObject().set_visible(true);}else{this.$D.get_ribbonItemPinObject().set_visible(false);}break;case Kepler.Framework.UI.Controls.EItemState.ePressed:case Kepler.Framework.UI.Controls.EItemState.ePressedHover:this.$D.get_containerElement().style.backgroundColor=this._oThemeDetails.get_colorPressed();if(!!this.$D.get_ribbonItemPinObject().get_pinImageState()){this.$D.get_ribbonItemPinObject().get_elementItem().className='pin_vertical';}else{this.$D.get_ribbonItemPinObject().get_elementItem().className='pin_horizontal';}if(this.$11){this.$D.get_ribbonItemPinObject().set_visible(true);}else{this.$D.get_ribbonItemPinObject().set_visible(false);}break;}},$15:function(){this.setFocusAllMode();this._oMsgParent.sendMessage('msg_reset_focus',this,null);},$B:function(){var $0='',$1=this.getLabel();if(!String.isNullOrEmpty($1)){$0=$1+' hyperlink '+this.getShortcutKey();}return $0;}}
Ribbon.RibbonTabMenuLauncher=function(){Ribbon.RibbonTabMenuLauncher.initializeBase(this);}
Ribbon.RibbonTabMenuLauncher.prototype={createRibbonItem:function(bTouchMode){Ribbon.RibbonTabMenuLauncher.callBaseMethod(this, 'createRibbonItem',[bTouchMode]);this.setItemSize(this._elemTabButton,this._rcMouse.get_width(),this._rcMouse.get_height());this._elemTabButton.style.lineHeight=this._rcMouse.get_height()+'px';this._elemTabButton.innerHTML=this.get_text();this._elemTabButton.style.color='White';Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this._elemTabButton,this.get_imageClass());this._elemTabButton.rbnItem=this;this._elemTabButton.style.textTransform='Capitalize';this._elemTabButton.setAttribute('controltype','menubutton');},showMenu:function(element,bDefActiveItem){var $0=this.getPopupMenuRect(this._elemTabButton);this.showMenuWnd(bDefActiveItem,this._iMenuNo,$0);},drawState:function(element){if(this._iEnabled===1){switch(this._eToState){case Kepler.Framework.UI.Controls.EItemState.eNormal:default:this._elemTabButton.style.backgroundColor='#1979CA';break;case Kepler.Framework.UI.Controls.EItemState.eHover:this._elemTabButton.style.backgroundColor='#298CE1';break;case Kepler.Framework.UI.Controls.EItemState.eFocus:case Kepler.Framework.UI.Controls.EItemState.ePressedHover:this._elemTabButton.style.backgroundColor='#1268B3';break;}}},onLButtonUp:function(element,mouseEventArgs){this.baseLBtnUp(element);return true;}}
Ribbon.MiniToolbarParser=function(strXmlFile){Ribbon.MiniToolbarParser.initializeBase(this,[strXmlFile]);this._strDbgLogPrefix='[MiniToolbarParser] ';this.panE_TOP=0;}
Ribbon.MiniToolbarParser.prototype={parseRolePane:function(oParents,elmNode){var $0=$(elmNode);this.parseCommonAttributes(elmNode);var $1=new Ribbon.RibbonPane();$1.initialise(this._iId,new Kepler.Framework.UI.Rect(0,0,this._rcMouse.get_width(),this._rcMouse.get_height()),null,-1,-1,'','',oParents.oRbnContainer,false,0,0);this.addToParent($1,oParents);var $2=oParents.cloneWithContainerOnly();$2.oRbnItem=$1;var $3=$0.children();this.parseXmlNodes($2,$3);}}
Ribbon.FileTab=function(oParentContainer,strFileName){Ribbon.FileTab.initializeBase(this);}
Ribbon.FileTab.prototype={createRibbonItem:function(bTouchMode){Ribbon.FileTab.callBaseMethod(this, 'createRibbonItem',[bTouchMode]);this._elemTabButton.className='class_ribbon_file_tab';this._elemItem.className='filetab';this._elemItem.style.overflow='hidden';var $0=document.createElement('div');$0.id='file_tab_focus_elm';$0.style.position='absolute';$0.style.left=$0.style.top='1px';$0.style.width=this._rcMouse.get_width()-4+'px';$0.style.height=this._rcMouse.get_height()-4+'px';$0.style.border='1px solid transparent';this._elemTabButton.appendChild($0);this._elemTabButton.setAttribute('controltype','button');this._elemItem.setAttribute('controltype','button');this._elemItem.style.backgroundColor=this._oThemeDetails.get_colorBar();},setItemSize:function(element,iWidth,iHeight){Ribbon.FileTab.callBaseMethod(this, 'setItemSize',[element,iWidth,iHeight]);if((this._oMsgParent).getActiveTab()===this){return;}var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementById(this._elemTabButton,'file_tab_focus_elm');if($0!=null){$0.style.width=iWidth-2+'px';$0.style.height=iHeight-2+'px';}},initialise:function(iId,rcMouse,rcTouch,iMenuNo,iRtClkMenu,strText,strImageClass,oMsgParent){Ribbon.FileTab.callBaseMethod(this, 'initialise',[iId,rcMouse,rcTouch,iMenuNo,iRtClkMenu,strText,strImageClass,oMsgParent]);this._rcMouse.set_height(Ribbon.BaseRibbonManager.ribboN_TAB_BUTTONS_HEIGHT);},drawItem:function(element){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementById(this._elemTabButton,'file_tab_focus_elm');if($0!=null){$0.style.borderColor='transparent';}switch(this._eToState){case Kepler.Framework.UI.Controls.EItemState.eNormal:if(this.get_active()){}else{this._elemTabButton.style.backgroundColor=this._oThemeDetails.get_colorNormal();}break;case Kepler.Framework.UI.Controls.EItemState.eHover:if(this.get_active()){}else{this._elemTabButton.style.backgroundColor=this._oThemeDetails.get_colorNormalLight();}break;case Kepler.Framework.UI.Controls.EItemState.ePressed:if(this.get_active()){}else{this._elemTabButton.style.backgroundColor=this._oThemeDetails.get_colorNormalLight();}break;case Kepler.Framework.UI.Controls.EItemState.ePressedHover:break;case Kepler.Framework.UI.Controls.EItemState.eFocus:this._elemTabButton.style.backgroundColor=this._oThemeDetails.get_colorNormal();if($0!=null){$0.style.borderColor='rgba(255,255,255,0.4)';}break;case Kepler.Framework.UI.Controls.EItemState.eFocusHover:break;default:break;}},toString:function(){return 'FileTab';},onUnload:function(){Ribbon.FileTab.callBaseMethod(this, 'onUnload');},addItem:function(oRibbonItem,elemParent){Ribbon.FileTab.callBaseMethod(this, 'addItem',[oRibbonItem,elemParent]);if((Ribbon.RibbonTabContainer).isInstanceOfType(oRibbonItem)){(oRibbonItem).set_minWidth(770);}}}
Ribbon.FileAndStartUpParser=function(strXmlFile){Ribbon.FileAndStartUpParser.initializeBase(this,[strXmlFile]);this._strDbgLogPrefix='[FileTab Parser] ';this.addParserTagNameDelegate('table',ss.Delegate.create(this,this.$1C));this.addParserTagNameDelegate('br',ss.Delegate.create(this,this.$1D));this.addParserTagNameDelegate('page_navigator',ss.Delegate.create(this,this.$14));this.addParserTagNameDelegate('page',ss.Delegate.create(this,this.$15));this.addParserTagNameDelegate('btn_content_grouping',ss.Delegate.create(this,this.$1B));this.addParserTagNameDelegate('page_group',ss.Delegate.create(this,this.$17));this.addParserTagNameDelegate('ribbon_tab_container',ss.Delegate.create(this,this.$16));this.addParserTagNameDelegate('drop_down_button',ss.Delegate.create(this,this.$20));this.addParserTagNameDelegate('label',ss.Delegate.create(this,this.$21));this.addParserTagNameDelegate('editbox',ss.Delegate.create(this,this.$22));this.addParserTagNameDelegate('button',ss.Delegate.create(this,this.$2B));this.addParserTagNameDelegate('author_button',ss.Delegate.create(this,this.$2E));this.addParserTagNameDelegate('author_editbox',ss.Delegate.create(this,this.$2F));this.addParserTagNameDelegate('hyperlink',ss.Delegate.create(this,this.$31));this.addParserTagNameDelegate('checkbox',ss.Delegate.create(this,this.$23));this.addParserTagNameDelegate('editspin',ss.Delegate.create(this,this.$26));this.addParserTagNameDelegate('scroll_container',ss.Delegate.create(this,this.$24));this.addParserTagNameDelegate('img_dropdown',ss.Delegate.create(this,this.$25));this.addParserTagNameDelegate('list_ctrl',ss.Delegate.create(this,this.$27));this.addParserTagNameDelegate('list_item',ss.Delegate.create(this,this.$28));this.addParserTagNameDelegate('zoom_ctrl',ss.Delegate.create(this,this.$30));this.addParserTagNameDelegate('print_page',ss.Delegate.create(this,this.$2C));this.addParserTagNameDelegate('print_page_container',ss.Delegate.create(this,this.$2D));this.addParserTagNameDelegate('path_button',ss.Delegate.create(this,this.$2A));this.addParserTagNameDelegate('group_node',ss.Delegate.create(this,this.$18));this.addParserTagNameDelegate('file_picker',ss.Delegate.create(this,this.$19));this.addParserTagNameDelegate('export_file',ss.Delegate.create(this,this.$1A));this.addParserTagNameDelegate('img_btn',ss.Delegate.create(this,this.$29));this.addParserTagNameDelegate('size',ss.Delegate.create(this,this.$1E));this.addParserTagNameDelegate('style',ss.Delegate.create(this,this.$1F));}
Ribbon.FileAndStartUpParser.prototype={$14:function($p0,$p1){var $0=null;var $1=0;var $2=$($p1);var $3;$0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'style').toLowerCase();if(!$0.compareTo('child_navigator')){$3=2;}else{$3=1;}$1=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'min-height');var $4=new Ribbon.RibbonTabContainer();this.$32($4,$p1,$p0);$4.set_ribbonTabType($3);$4.set_minHeight($1);this.$38($4,$p0);try{var $5=$p0.cloneWithContainerOnly();$5.oRbnItem=$4;var $6=$2.children();this.parseXmlNodes($5,$6);var $7=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'default-id');if(!!$7){$4.set_defaultTabID($7);}}catch($8){}},$15:function($p0,$p1){var $0;if(ss.isNullOrUndefined($p0.oRbnItem)||Type.getInstanceType($p0.oRbnItem)!==Ribbon.RibbonTabContainer){return;}else{$0=$p0.oRbnItem;}var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'id',-1);var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'name');var $3=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'scrollbar').toLowerCase();var $4=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttribute($p1,'notitle');var $5=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttribute($p1,'button');var $6=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttribute($p1,'titleonly');var $7=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttribute($p1,'dbl_clk_needed');var $8=$($p1);var $9=2;if(ss.isValue($4)){$9=0;}else if(ss.isValue($6)){$9=1;}else if(ss.isValue($5)){$9=3;}var $A=Kepler.Engine.UI.Controls.EScrollbarMode.AUTO;if(!$3.compareTo('none')){$A=Kepler.Engine.UI.Controls.EScrollbarMode.NONE;}else if(!$3.compareTo('always')){$A=Kepler.Engine.UI.Controls.EScrollbarMode.shoW_ALWAYS;}var $B=new Ribbon.RibbonTabForFileTab($9);this.$32($B,$8[0],$p0);if(ss.isValue($7)){$B.set_dblClkNeeded(true);}$B.get_elemTabButton().className='ribbon_tab_navigator';$B.set_scrollbarMode($A);this.$38($B,$p0);try{var $C=$8.children('content');if($C.length>=1){var $D=$p0.cloneWithContainerOnly();$D.oRbnItem=$B;$D.element=$B.get_elemContent();this.parseXmlNodes($D,$C.children());}}catch($E){}},$16:function($p0,$p1){var $0;if(ss.isNullOrUndefined($p0.oRbnItem)||Type.getInstanceType($p0.oRbnItem)!==Ribbon.RibbonTabContainer){return;}else{$0=$p0.oRbnItem;}var $1=$($p1);var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'name');var $3=new Ribbon.RibbonItemBlank();this.$32($3,$1[0],$p0);$3.createRibbonItem(false);$0.addItem($3);this.$33($p1,$3,$p0);this.$35($p1,$3);this.$34($p1,$3);var $4=$p0.cloneWithContainerOnly();$4.oRbnItem=$3;try{var $5=$1.children();this.parseXmlNodes($4,$5);}catch($6){}},$17:function($p0,$p1){var $0;if(ss.isNullOrUndefined($p0.oRbnItem)||Type.getInstanceType($p0.oRbnItem)!==Ribbon.RibbonTabContainer){return;}else{$0=$p0.oRbnItem;}var $1=$($p1);var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'name');var $3=new Ribbon.RibbonItemLable();this.$32($3,$1[0],$p0);$3.createRibbonItem(false);$0.addTab($3);try{var $4=$1.children('page');this.parseXmlNodes($p0,$4);}catch($5){}},$18:function($p0,$p1){var $0=$($p1);var $1=new Ribbon.RibbonItemGroupContainer($p0.element);this.$32($1,$0[0],$p0);var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttribute($p1,'tabhandle');if(ss.isValue($2)){$1.set_tabGroup(((!($2).compareTo('true'))?true:false));}var $3=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttribute($p1,'arrowhandle');if(ss.isValue($3)){$1.set_arrowGroup(((!($3).compareTo('true'))?true:false));}this.$38($1,$p0);this.$33($p1,$1,$p0);this.$35($p1,$1);this.$34($p1,$1);var $4=$p0.cloneWithContainerOnly();$4.oRbnItem=$1;var $5=$0.children();this.parseXmlNodes($4,$5);},$19:function($p0,$p1){var $0=$($p1);var $1=new Kepler.Engine.UI.Ribbon.Items.RibbonItemBrowseButton();this.$32($1,$0[0],$p0);this.$38($1,$p0);this.$33($p1,$1,$p0);this.$35($p1,$1);this.$34($p1,$1);$1.get_elementItem().style.position='relative';var $2=$p0.cloneWithContainerOnly();$2.oRbnItem=$1;var $3=$0.children();this.parseXmlNodes($2,$3);},$1A:function($p0,$p1){var $0=$($p1);var $1=new Kepler.Engine.UI.Ribbon.Items.Engine$19();this.$32($1,$0[0],$p0);this.$38($1,$p0);this.$33($p1,$1,$p0);this.$35($p1,$1);this.$34($p1,$1);$1.get_elementItem().style.position='relative';var $2=$p0.cloneWithContainerOnly();$2.oRbnItem=$1;var $3=$0.children();this.parseXmlNodes($2,$3);},$1B:function($p0,$p1){var $0;var $1=$($p1);var $2=$1.children('button');var $3=$1.children('title_text');var $4=$1.children('content');if($2.length!==1){return;}if($4.length!==1){return;}var $5=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'name');var $6=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'id');var $7=parseInt($6);var $8=new Ribbon.FileTabBtnContentGrp();$8.initialise($7,new Kepler.Framework.UI.Rect(0,0,0,0),new Kepler.Framework.UI.Rect(0,0,0,0),-1,-1,'','',$p0.oRbnContainer);$8.initialiseButtonFromXmlElement($2[0],$p0.oRbnContainer);if($3.length>0){$8.initialiseTitleFromXmlElement($3[0],$p0.oRbnContainer);}else{$8.initialiseTitle(($7*10)+1,new Kepler.Framework.UI.Rect(10,10,100,100),$5,-1,null,$p0.oRbnContainer);}var $9;$9=$p0.clone();$9.element=$p0.element;this.$38($8,$9);this.$33($1[0],$8,$9);$9.oRbnItem=$8;$9.element=$8.get_buttonContentArea();this.$38($8.get_rbnButton(),$9);$9.element=$8.get_titleContentArea();this.$38($8.get_rbnTitle(),$9);$8.applyStyleForBtnGroup();this.$33($2[0],$8.get_rbnButton(),$9);this.$35($2[0],$8.get_rbnButton());this.$34($2[0],$8.get_rbnButton());this.$33($1[0],$8.get_rbnTitle(),$9);this.$35($1[0],$8.get_rbnTitle());this.$34($1[0],$8.get_rbnTitle());var $A=$1.children('style');if($A.length===1){$0=$9.clone();$0.element=$8.get_element();this.$1F($0,$A[0]);}try{$0=$9.clone();$0.element=$8.get_descriptionContentArea();this.parseXmlNodes($0,$4.children());}catch($B){}},$1C:function($p0,$p1){var $0;var $1=$($p1);var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('table',null,null,null,null,null,null,null,null);$2.className='full_size';var $3=$1.children('style');if($3.length===1){$0=$p0.clone();$0.element=$2;this.$1F($0,$3[0]);}var $4=$1.children('tbody');var $5=null;if($4.length>0){$5=$4.children('tr');}else{$5=$1.children('tr');}for(var $6=0;$6<$5.length;$6++){var $7=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('tr',null,null,null,null,null,null,null,null);var $8=$($5[$6]).children('td');for(var $9=0;$9<$8.length;$9++){var $A=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('td',null,null,null,null,null,null,null,null);var $B=$($8[$9]);this.$36($A,$B);$0=$p0.clone();$0.element=$A;this.parseXmlNodes($0,$B.children());$7.appendChild($A);}$2.appendChild($7);}this.$37($2,$p0);},$1D:function($p0,$p1){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('br',null,null,null,null,null,null,null,null);this.$37($0,$p0);},$1E:function($p0,$p1){var $0=$($p1);if($0.length===1){var $1=null;var $2=null;if(ss.isValue($p0.element)){$1=$($p0.element);}else if(ss.isValue($p0.oRbnItem)){$1=$($p0.oRbnItem.get_elementItem());}else if(ss.isValue($p0.oRbnContainer)){$2=$p0.oRbnContainer;}if($1.length<1){$1=null;}if($1!=null||$2!=null){var $3;var $4;var $5=null;var $6=null;if($1!=null){$3=new Kepler.Framework.UI.Size($1.width(),$1.height());}else{$3=$2.get_size();}$4=new Kepler.Framework.UI.Size($3.get_width(),$3.get_height());$5=$0.attr('width');if(ss.isValue($5)){$4.set_width(parseInt($5,10));}$6=$0.attr('height');if(ss.isValue($6)){$4.set_height(parseInt($6,10));}if(!$4.equals($3)){if($1!=null){$1.width($5);$1.height($6);}else{$2.set_size($4);}}}}},$1F:function($p0,$p1){var $0;if(ss.isValue($p0.element)){$0=$($p0.element);}else if(ss.isValue($p0.oRbnItem)){$0=$($p0.oRbnItem.get_elementItem());}else{$0=$($p0.oRbnContainer.get_element());}var $1=$($p1);if($1.length===1){var $2;$2=$1[0].attributes;if(ss.isValue($2)){var $3=$2.length;var $4={};var $5='';for(var $6=0;$6<$3;$6++){var $7=$2[$6];if(!$7.name.toLowerCase().compareTo('classname')){$5=$7.value;}else{$4[$7.name]=$7.value;}}if(!String.isNullOrEmpty($5)){$0.addClass($5);}$0.css($4);}}},$20:function($p0,$p1){},$21:function($p0,$p1){var $0=$($p1);var $1;var $2=$0.attr('img_class');if(ss.isValue($2)){var $5=new Ribbon.RibbonItemBulletText();this.$32($5,$0[0],$p0);this.$38($5,$p0);$5.get_elementItem().style.position='relative';$5.get_elementItem().style.lineHeight='1.3em';if(ss.isValue($5.get_elementItem().childNodes[0])){$5.get_elementItem().childNodes[0].style.whiteSpace='nowrap';$5.get_elementItem().childNodes[0].style.left=(parseInt($5.get_elementItem().childNodes[0].style.left,10)+8)+'px';$5.get_elementItem().childNodes[0].style.textAlign='left';$5.get_elementItem().childNodes[0].style.lineHeight='';}$1=$5;}else{var $6=new Ribbon.RibbonItemLable();this.$32($6,$0[0],$p0);this.$38($6,$p0);var $7=$0.attr('text_class');if(ss.isValue($7)){$6.get_elementItem().className=$7;}$1=$6;}this.$33($p1,$1,$p0);this.$35($p1,$1);this.$34($p1,$1);var $3=$p0.cloneWithContainerOnly();$3.oRbnItem=$1;var $4=$0.children();this.parseXmlNodes($3,$4);},$22:function($p0,$p1){var $0=$($p1);var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'text_on_clear');var $2=new Ribbon.FileTabTextBox();$2.set_defaultText($1);$2.set_textBoxImage((String.isNullOrEmpty(Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'img_class')))?false:true);var $3=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'img_id',-1);var $4;if($2.get_textBoxImage()){$4=new Ribbon.RibbonItemSearch($2);($4).set_imageId($3);}else if(!String.isNullOrEmpty($1)){$4=new Ribbon.RibbonItemTextBox($2);}else{$4=new Ribbon.RibbonItemTextBox();}this.$32($4,$0[0],$p0);this.$38($4,$p0);this.$33($0[0],$4,$p0);this.$35($0[0],$4);this.$34($p1,$4);$4.get_elementItem().style.position='relative';var $5=$p0.cloneWithContainerOnly();$5.oRbnItem=$4;var $6=$0.children();this.parseXmlNodes($5,$6);},$23:function($p0,$p1){var $0=$($p1);var $1=new Ribbon.RibbnItemCheckBox();this.$32($1,$0[0],$p0);this.$38($1,$p0);this.$33($p1,$1,$p0);this.$35($p1,$1);var $2=$p0.cloneWithContainerOnly();$2.oRbnItem=$1;var $3=$0.children();this.parseXmlNodes($2,$3);},$24:function($p0,$p1){var $0=$($p1);var $1=new Ribbon.RibbonItemScrollableContainer();this.$32($1,$0[0],$p0);this.$38($1,$p0);var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttribute($p1,'fixedsize');$1.set_fixedSize((ss.isNullOrUndefined($2))?false:true);this.$33($p1,$1,$p0);this.$35($p1,$1);var $3=$p0.cloneWithContainerOnly();var $4=$0.children('style');if($4.length===1){$3.oRbnItem=$1;$3.element=$1.get_elementItem();this.$1F($3,$4[0]);}$3.oRbnItem=$1;$3.element=$1.get_elemContent();var $5=$0.children();this.parseXmlNodes($3,$5);},$25:function($p0,$p1){var $0=$($p1);var $1=new Ribbon.RibbonItemImageDropDown();this.$32($1,$0[0],$p0);var $2=$0.attr('text_description');if(ss.isValue($2)){$1.set_discriptionText($2);}this.$38($1,$p0);this.$33($p1,$1,$p0);this.$35($p1,$1);this.$34($p1,$1);var $3=$p0.cloneWithContainerOnly();$3.oRbnItem=$1;var $4=$0.children();this.parseXmlNodes($3,$4);},$26:function($p0,$p1){var $0=$($p1);var $1=new Ribbon.RibbonItemSpinCtrl();this.$32($1,$0[0],$p0);$1.setInfo(1,100,1,'',0);this.$38($1,$p0);this.$33($p1,$1,$p0);this.$35($p1,$1);$1.get_elementItem().style.position='relative';var $2=$p0.cloneWithContainerOnly();$2.oRbnItem=$1;var $3=$0.children();this.parseXmlNodes($2,$3);},$27:function($p0,$p1){var $0=$($p1);var $1=new Ribbon.RibbonItemListCtrl();this.$32($1,$0[0],$p0);this.$38($1,$p0);this.$33($p1,$1,$p0);this.$35($p1,$1);this.$34($p1,$1);$1.get_elementItem().style.position='relative';var $2=$p0.cloneWithContainerOnly();$2.oRbnItem=$1;var $3=$0.children();this.parseXmlNodes($2,$3);},$28:function($p0,$p1){var $0=$($p1);var $1=new Ribbon.RibbonTabListItem();this.$32($1,$0[0],$p0);var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttribute($p1,'dbl_clk_needed');if(ss.isValue($2)){$1.set_dblClkNeeded(true);}var $3=$0.attr('text_description');if(ss.isValue($3)){$1.set_discriptionText($3);}var $4=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'type',0);if($4>4){$4=0;}$1.set_ribbonItemType($4);var $5=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'pin_id',-1);$1.set_pinID($5);this.$38($1,$p0);var $6=(ss.isValue($0.attr('pined')))?true:false;if($6){var $9=((!$0.attr('pined').compareTo('true'))?true:false);$1.set_pinState($9);}$1.set_pinShow($6);this.$33($p1,$1,$p0);this.$35($p1,$1);this.$34($p1,$1);$1.get_elementItem().style.position='relative';var $7=$p0.cloneWithContainerOnly();$7.oRbnItem=$1;var $8=$0.children();this.parseXmlNodes($7,$8);},$29:function($p0,$p1){var $0=$($p1);var $1=new Ribbon.RibbonItemImageBtn();this.$32($1,$0[0],$p0);this.$38($1,$p0);this.$33($p1,$1,$p0);this.$35($p1,$1);this.$34($p1,$1);$1.get_elementItem().style.position='relative';var $2=$p0.cloneWithContainerOnly();$2.oRbnItem=$1;var $3=$0.children();this.parseXmlNodes($2,$3);},$2A:function($p0,$p1){var $0=$($p1);var $1=new Ribbon.RibbonItemPathButton();this.$32($1,$0[0],$p0);this.$38($1,$p0);var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'is_info',1);$1.set_isInfoPathButton(($2===1)?true:false);this.$33($p1,$1,$p0);this.$35($p1,$1);this.$34($p1,$1);var $3=$($p1);$1.get_elementItem().style.position='relative';$1.get_elementItem().style.textAlign='left';$1.get_elementItem().firstChild.style.padding='2px';if($1.get_isInfoPathButton()){$1.get_elementItem().style.width='';}$1.drawPathBtnState();var $4=$p0.cloneWithContainerOnly();$4.oRbnItem=$1;var $5=$0.children();this.parseXmlNodes($4,$5);},$2B:function($p0,$p1){var $0=$($p1);var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttribute($p1,'attachedid');var $2;if(ss.isValue($1)){$2=new Ribbon.RibbonItemBuddyButton();($2).set_attachedID($1);}else{$2=new Ribbon.RibbonItemNormal();}this.$32($2,$0[0],$p0);this.$38($2,$p0);this.$33($p1,$2,$p0);this.$35($p1,$2);this.$34($p1,$2);var $3=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttribute($p1,'border');var $4=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttribute($p1,'normalborder');var $5=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttribute($p1,'img_class');if(ss.isValue($5)){if(!ss.isNullOrUndefined($2.get_elementItem().childNodes[1])){$2.get_elementItem().childNodes[1].style.lineHeight='16px';}}else{$2.get_elementItem().childNodes[0].style.lineHeight='16px';}var $6=$($p1);if(ss.isValue($3)&&ss.isValue($4)){$2.set_border(true);$2.set_borderNormalState(true);}else if(ss.isValue($3)){$2.set_border(true);}$2.drawState();$2.get_elementItem().style.position='relative';var $7=$p0.cloneWithContainerOnly();$7.oRbnItem=$2;var $8=$0.children();this.parseXmlNodes($7,$8);},$2C:function($p0,$p1){var $0=$($p1);var $1;var $2=new Ribbon.RibbonItemPrintPage();this.$32($2,$0[0],$p0);this.$38($2,$p0);$1=$2;this.$33($p1,$1,$p0);this.$35($p1,$1);this.$34($p1,$1);var $3=$p0.cloneWithContainerOnly();$3.oRbnItem=$1;var $4=$0.children();this.parseXmlNodes($3,$4);},$2D:function($p0,$p1){var $0=$($p1);var $1=new Ribbon.RibbonItemPrintPageContainer();var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($0[0],'page_count',1);$1.set_pageCount($2);this.$32($1,$0[0],$p0);this.$38($1,$p0);this.$33($p1,$1,$p0);this.$35($p1,$1);var $3=$p0.cloneWithContainerOnly();var $4=$0.children('style');if($4.length===1){$3.oRbnItem=$1;$3.element=$1.get_elementItem();this.$1F($3,$4[0]);}$3.oRbnItem=$1;$3.element=$1.get_elemContent();var $5=$0.children();this.parseXmlNodes($3,$5);},$2E:function($p0,$p1){},$2F:function($p0,$p1){var $0=$($p1);var $1=new Ribbon.FileTabTextBox();var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'text_on_clear');$1.set_defaultText($2);$1.set_textBoxImage(true);$1.set_isRibbonItemAuthor(true);var $3=new Ribbon.RibbonItemAuthor($1);var $4=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'in_img_id',-1);var $5=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'out_img_id',-1);$3.set_imageInTextBoxId($4);$3.set_imageOutTextBoxId($5);this.$32($3,$0[0],$p0);this.$38($3,$p0);$3.get_elementItem().style.position='relative';this.$33($p1,$3,$p0);this.$35($p1,$3);var $6=$p0.cloneWithContainerOnly();$6.oRbnItem=$3;var $7=$0.children();this.parseXmlNodes($6,$7);},$30:function($p0,$p1){var $0=$($p1);var $1=new Ribbon.Engine$1A();this.$32($1,$0[0],$p0);this.$38($1,$p0);$1.get_elementItem().style.position='relative';$1.set_rightAlign(false);this.$33($p1,$1,$p0);this.$35($p1,$1);var $2=$p0.cloneWithContainerOnly();$2.oRbnItem=$1;var $3=$0.children();this.parseXmlNodes($2,$3);},$31:function($p0,$p1){var $0=$($p1);var $1=new Ribbon.RibbonItemHyperLink();this.$32($1,$0[0],$p0);var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttribute($p1,'text_class');$1.set_textClass((String.isNullOrEmpty($2))?'filetab_ribbonitemhyperlink':$2);this.$38($1,$p0);this.$33($p1,$1,$p0);this.$35($p1,$1);$1.get_elementItem().style.position='relative';var $3=$p0.cloneWithContainerOnly();$3.oRbnItem=$1;var $4=$0.children();this.parseXmlNodes($3,$4);},$32:function($p0,$p1,$p2){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'id',-1);var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'text');var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttribute($p1,'tooltip');var $3=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'kbdshortcut');var $4=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'actionstring');var $5=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'menuid',-1);var $6=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'rt_menu_id',-1);var $7=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'altmode_type',0);var $8=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttribute($p1,'img_class');var $9=$($p1);var $A=$9.children('size');var $B=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'width',100);var $C=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'height',100);if((Ribbon.RibbonItemNormal).isInstanceOfType($p0)){var $D=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttribute($p1,'text_class');var $E=false;var $F=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttribute($p1,'multiline');if(ss.isValue($F)){$E=true;}var $10=(ss.isValue(Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttribute($p1,'bottom_align'))&&Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttribute($p1,'bottom_align')==='bottom')?true:false;var $11=$p0;$11.initialise($0,new Kepler.Framework.UI.Rect(0,0,$B,$C),new Kepler.Framework.UI.Rect(0,0,$B,$C),$5,$6,$1,$8,$p2.oRbnContainer,$E);$11.set_textCssClass($D);if($10){$11.setTextPosition(1);}}else if(Type.canCast($p0,Ribbon.RibbonItemImageBtn)){var $12=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'img_hov');var $13=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'img_nor');var $14=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'img_pres');var $15=$p0;$15.initialise($0,new Kepler.Framework.UI.Rect(0,0,$B,$C),new Kepler.Framework.UI.Rect(0,0,$B,$C),$5,$6,$1,$8,$p2.oRbnContainer,new Kepler.Framework.UI.Size($B,$C),$13,$12,$14);}else{$p0.initialise($0,new Kepler.Framework.UI.Rect(0,0,$B,$C),new Kepler.Framework.UI.Rect(0,0,$B,$C),$5,$6,$1,$8,$p2.oRbnContainer);}$p0.set_actionString($4);$p0.set_kbrdShortcut($3);$p0.set_altModeType($7);},$33:function($p0,$p1,$p2){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p0,'show');if(ss.isValue($0)&&!$0.compareTo('false')){$p1.set_visible(false);}else{$p1.set_visible(true);}if(ss.isValue($p2.oRbnContainer)){var $1=$p2.oRbnContainer;$1.setDefaultShow($p1);}},$34:function($p0,$p1){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p0,'tt_text');var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p0,'tt_class');var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p0,'tt_type');if(!isNaN($2)&&!String.isNullOrEmpty($0)){var $3=$0.split(Kepler.Framework.Core.Seperators.PIPE);var $4;var $enum1=ss.IEnumerator.getEnumerator($3);while($enum1.moveNext()){var $5=$enum1.current;$4=$5.split(Kepler.Framework.Core.Seperators.miD_DOT,2);if($4.length===1){$0=$4[0];}else if($4.length>1){$2=parseInt($4[0],10);$0=$4[1];}$p1.get_ttParamList().add((isNaN($2))?null:new Kepler.Engine.UI.Controls.Tooltip.Tooltip_Params($2,$0,$1));}}},$35:function($p0,$p1){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p0,'enable',1);},$36:function($p0,$p1){var $0;$0=$p1[0].attributes;if(ss.isValue($0)){var $1=$0.length;var $2={};for(var $4=0;$4<$1;$4++){var $5=$0[$4];$2[$5.name]=$5.value;}var $3=$($p0);$3.attr($2);}},$37:function($p0,$p1){if(ss.isValue($p1.element)){$p1.element.appendChild($p0);}else if(ss.isValue($p1.oRbnItem)){$p1.oRbnItem.get_elementItem().appendChild($p0);}else if(ss.isValue($p1.oRbnContainer)){var $0=$p1.oRbnContainer;$0.get_element().appendChild($p0);}},$38:function($p0,$p1){if(ss.isValue($p1.oRbnContainer)){var $0=$p1.oRbnContainer;$0.addItemToContainer($p0,false);}else{$p0.createRibbonItem(false);}if(Type.getInstanceType($p0)===Ribbon.RibbonTabForFileTab){($p1.oRbnItem).addTab($p0);}else{if(ss.isValue($p1.oRbnItem)){if(Type.getInstanceType($p0)===Ribbon.RibbonItemGroupContainer){$p1.oRbnItem.addItem($p0,$p1.element.parentNode);}else{$p1.oRbnItem.addItem($p0,$p1.element);}}else if(ss.isValue($p1.oRbnContainer)){var $1=$p1.oRbnContainer;if(ss.isValue($p1.element)){$p1.element.appendChild($p0.get_elementItem());}else{$1.get_element().appendChild($p0.get_elementItem());}}else if(ss.isValue($p1.element)){$p1.element.appendChild($p0.get_elementItem());}}},$39:function($p0,$p1){if(ss.isValue($p1.element)){var $0=$($p1.element);$p0.set_size(new Kepler.Framework.UI.Size($0.width(),$0.height()));}else{$p0.set_size($p1.oRbnContainer.get_size());}},startParshinFromGivenNode:function(oParents,jQNodes){this.parseXmlNodes(oParents,jQNodes);}}
Ribbon.XmlParser_ParentParam=function(){Ribbon.XmlParser_ParentParam.initializeBase(this);}
Ribbon.XmlParser_ParentParam.prototype={element:null,oRbnItem:null,oRbnContainer:null,lstRbnItems:null,clone:function(){var $0=new Ribbon.XmlParser_ParentParam();$0.element=this.element;$0.oRbnItem=this.oRbnItem;$0.oRbnContainer=this.oRbnContainer;$0.lstRbnItems=this.lstRbnItems;return $0;},cloneWithContainerOnly:function(){var $0=new Ribbon.XmlParser_ParentParam();$0.oRbnContainer=this.oRbnContainer;return $0;}}
Ribbon.BaseTextBox=function(){Ribbon.BaseTextBox.initializeBase(this);this._elemItem=document.createElement('div');this._oTextControl=new Kepler.Framework.UI.Controls.TextControl.BaseTextBox.BaseTextBox('');this._oTextControl.setSelectAllOnFocus(true);this._oTextControl.setCursor('text');this.$D=new Kepler.Engine.UI.Controls.TextControl.SelectionArgs(-1,-1);}
Ribbon.BaseTextBox.prototype={get_text:function(){return this._oTextControl.get_text();},set_text:function(value){if(this.get_text()!==value){this._oTextControl.setText(value);this._oMsgParent.sendMessage('msg_text_changed',this.get_text(),this);}return value;},get_enabled:function(){return Ribbon.BaseTextBox.callBaseMethod(this, 'get_enabled');},set_enabled:function(value){Ribbon.BaseTextBox.callBaseMethod(this, 'set_enabled',[value]);if(value===1){this._oTextControl.setFontColor(new Kepler.Framework.UI.Color(0,0,0));}else{this._oTextControl.setFontColor(new Kepler.Framework.UI.Color(160,160,160));}return value;},_oTextControl:null,get_textControl:function(){return this._oTextControl;},$D:null,get_dblClkNeeded:function(){return true;},$B:function(){return this.get_parentRibbonItem().$B();},createRibbonItem:function(bTouchMode){Ribbon.BaseTextBox.callBaseMethod(this, 'createRibbonItem',[bTouchMode]);var $0=this.getItemRect(bTouchMode);this._elemItem.className='textbox_input_normal'+' '+'class_ribbon_font '+' '+'selection_enable';this._elemItem.id='ribbonitem-text';this._elemItem.rbnItem=this;if((Ribbon.RibbonItemSpinCtrl).isInstanceOfType(this._oMsgParent)||(Ribbon.RibbonItemComboBox).isInstanceOfType(this._oMsgParent)){this._elemItem.style.borderRight='none';}this._elemItem.style.position='absolute';this.setItemPosition(this._elemItem,$0.get_left(),$0.get_top());this.setItemSize(this._elemItem,$0.get_width(),$0.get_height());this._oTextControl.set_paddingLeft(2);this._oTextControl.setText(Ribbon.BaseTextBox.callBaseMethod(this, 'get_text'));this._elemItem.appendChild(this._oTextControl.getElement());},drawItem:function(element){if(!this._iEnabled){return;}this.$E(element);},$E:function($p0){switch(this._eToState){case Kepler.Framework.UI.Controls.EItemState.eNormal:this._elemItem.style.borderColor=(!!this._iFocus)?this._oThemeDetails.get_colorPressed():'';break;case Kepler.Framework.UI.Controls.EItemState.eHover:case Kepler.Framework.UI.Controls.EItemState.ePressed:case Kepler.Framework.UI.Controls.EItemState.ePressedHover:case Kepler.Framework.UI.Controls.EItemState.eFocus:case Kepler.Framework.UI.Controls.EItemState.eFocusHover:this._elemItem.style.borderColor=this._oThemeDetails.get_colorPressed();break;default:break;}},drawHighlightedState:function(){this.highlightDiv(this._elemItem);},setFocusOnItem:function(){var $0;this._oMsgParent.sendMessage('msg_reset_focus',null,null);if(ss.isNullOrUndefined(this.get_parentRibbonItem())){this._oMsgParent.sendMessage('msg_kill_focus',this,null);}var $1=this;while(ss.isValue($1.get_parentRibbonItem())){$1.get_parentRibbonItem().set_focusedRbnItem($1);$1=$1.get_parentRibbonItem();}if(ss.isValue(this.get_parentRibbonItem())){this.get_parentRibbonItem().onSetFocus(null);this.get_parentRibbonItem().changeState(Kepler.Framework.UI.Controls.EItemState.eHover,this.get_parentRibbonItem().get_elementItem());$0=true;}else{$0=this._oMsgParent.sendMessage('msg_set_focus',this,null);}if(Kepler.Framework.Accessibility.AccessibilitySupport.get_instance().get_isAccessibilityOn()){this.setAria();}return $0;},drawEnabledDisabledState:function(){if(!this._iEnabled){Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this._elemItem,'textbox_input_disabled');}else{Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(this._elemItem,'textbox_input_disabled');}},toString:function(){return 'RibbonItemTextBox';},getSelection:function(){return this._oTextControl.getSelection();},setSelection:function(iStartIndex,iEndIndex){this._oTextControl.setSelection(iStartIndex,iEndIndex);},getChildTextNodeRangeContainingOffset:function(paraElement,iOffset){if(paraElement==null){return null;}var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.createRange();var $1=null;var $2=0;var $3=paraElement.childNodes;var $4=0;var $5=$3.length;if(!$5){paraElement.appendChild(document.createTextNode(''));$5=$3.length;}for(var $6=0;$6<$5;$6++){var $7=$3[$6];var $8=$7.textContent.length;if(iOffset>=$4&&iOffset<=$4+$8){var $9=iOffset-$4;if($7.childNodes.length>0){$0=this.getChildTextNodeRangeContainingOffset($7,$9);}else{$1=$7;$2=$9;}}$4+=$8;}if($1!=null){if($1.nodeType!==3){$0.setStartAfter($1);$0.setEndAfter($1);}else{$0.setStart($1,$2);$0.setEnd($1,$2);}}return $0;},getState:function(){return this._eToState;},setFocus:function(mouseEventArgs){if(!!this._iEnabled){if(!this._iFocus){this._elemItem.style.borderColor=Kepler.Engine.Core.EngineApp.get_engine().get_currentApp().getAppFrame().get_themeDetails().get_colorPressed();if(2!==this._oMsgParent.sendMessage('eONDetectMode',null,null)){this._oTextControl.onFocus();Kepler.Engine.UI.UIManager.get_instance().sendMessage('msg_show_keyboard',null,null);}this._iFocus=1;if(mouseEventArgs!=null){mouseEventArgs.set_defaultPrevented(true);}}else{if(mouseEventArgs!=null){}}}else{this._iFocus=0;}},killFocus:function(){this._elemItem.style.borderColor='';this._oTextControl.setSelection(0,0);if(2!==this._oMsgParent.sendMessage('eONDetectMode',null,null)){this._oTextControl.onLostFocus();Kepler.Engine.UI.UIManager.get_instance().sendMessage('msg_hide_keyboard',null,null);}this._iFocus=0;},toggleMode:function(bMode){var $0=this.getItemRect(bMode);var $1=$0.get_height()-3-3;this.setItemPosition(this._elemItem,$0.get_left(),$0.get_top());this.setItemSize(this._elemItem,$0.get_width()-2,$1);Ribbon.BaseTextBox.callBaseMethod(this, 'toggleMode',[bMode]);},setItemSize:function(element,iWidth,iHeight){Ribbon.BaseTextBox.callBaseMethod(this, 'setItemSize',[element,iWidth,iHeight]);this._oTextControl.setSize(iWidth,iHeight);},onSetFocus:function(mouseEventArgs){this._oMsgParent.sendMessage('msg_set_focus',null,mouseEventArgs);},onKillFocus:function(){},onKeyDown:function(KeyEvtArgs){Ribbon.BaseTextBox.callBaseMethod(this, 'onKeyDown',[KeyEvtArgs]);this._oTextControl.onKeyDown(KeyEvtArgs);},onKeyPress:function(KeyEvtArgs){Ribbon.BaseTextBox.callBaseMethod(this, 'onKeyPress',[KeyEvtArgs]);this._oTextControl.onKeyPress(KeyEvtArgs);},onKeyUp:function(KeyEvtArgs){Ribbon.BaseTextBox.callBaseMethod(this, 'onKeyUp',[KeyEvtArgs]);this._oTextControl.onKeyUp(KeyEvtArgs);},onParentResize:function(){Ribbon.BaseTextBox.callBaseMethod(this, 'onParentResize');var $0=this._oParentRbnItem.getItemElementRect();var $1=2;if(Type.canCast(this._oParentRbnItem,Ribbon.RibbonItemSpinCtrl)){$1=16;}this.setItemSize(this._elemItem,$0.get_width()-$1,$0.get_height()-2);},onLButtonDown:function(element,mouseEventArgs){var $0=this.$F(mouseEventArgs);if($0!=null){this._oTextControl.onLButtonDown($0.get_x());}return Ribbon.BaseTextBox.callBaseMethod(this, 'onLButtonDown',[element,mouseEventArgs]);},onMouseMove:function(mouseEventArgs){if(this._bCapture){var $0=this.$F(mouseEventArgs);if($0!=null){this._oTextControl.onMouseMove($0.get_x());}}Ribbon.BaseTextBox.callBaseMethod(this, 'onMouseMove',[mouseEventArgs]);},onLButtonUp:function(element,mouseEventArgs){var $0=this.$F(mouseEventArgs);if($0!=null){this._oTextControl.onLButtonUp($0.get_x());}return Ribbon.BaseTextBox.callBaseMethod(this, 'onLButtonUp',[element,mouseEventArgs]);},onMouseDblClick:function(element,mouseEventArgs){var $0=this.$F(mouseEventArgs);if($0!=null){this._oTextControl.onMouseDblClick($0.get_x());}if(Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){Kepler.Engine.UI.UIManager.get_instance().sendMessage('msg_show_keyboard',null,null);}return Ribbon.BaseTextBox.callBaseMethod(this, 'onMouseDblClick',[element,mouseEventArgs]);},$F:function($p0){var $0=$p0;var $1=0;var $2=0;if(Type.canCast($0,Kepler.Framework.UI.Events.EventArgsNs.TouchEventArgs)){var $3=$0;if($3.get_touches().length>0){$1=$3.get_touches()[0].get_clientX();$2=$3.get_touches()[0].get_clientY();}else if(!$3.get_touches().length&&$3.get_changedTouches().length>0){$1=$3.get_changedTouches()[0].get_clientX();$2=$3.get_changedTouches()[0].get_clientY();}else{return null;}}else{$1=$p0.get_clientX();$2=$p0.get_clientY();}return Kepler.Engine.UI.Helper.HtmlCssHelper.getOffsetPointFromClientPoint(new Kepler.Framework.UI.Point($1,$2),this._elemItem);}}
Ribbon.EditableRibbonItem=function(){Ribbon.EditableRibbonItem.initializeBase(this);this.$C={};this.attachMessages();}
Ribbon.EditableRibbonItem.prototype={get_enabled:function(){return Ribbon.EditableRibbonItem.callBaseMethod(this, 'get_enabled');},set_enabled:function(value){Ribbon.EditableRibbonItem.callBaseMethod(this, 'set_enabled',[value]);this._oTextBox.set_enabled(value);return value;},get_highlight:function(){return Ribbon.EditableRibbonItem.callBaseMethod(this, 'get_highlight');},set_highlight:function(value){Ribbon.EditableRibbonItem.callBaseMethod(this, 'set_highlight',[value]);this._oTextBox.set_highlight((value===1)?1:0);return value;},get_text:function(){return (Ribbon.EditableRibbonItem.callBaseMethod(this, 'set_text',[this._oTextBox.get_text()]));},set_text:function(value){if(!value.compareTo('-1',false)){value='';}this._oTextBox.set_text(value);Ribbon.EditableRibbonItem.callBaseMethod(this, 'set_text',[this._oTextBox.get_text()]);return value;},_oTextBox:null,get_textBox:function(){return this._oTextBox;},$C:null,get_visible:function(){return Ribbon.EditableRibbonItem.callBaseMethod(this, 'get_visible');},set_visible:function(value){Ribbon.EditableRibbonItem.callBaseMethod(this, 'set_visible',[value]);if(value){this._oTextBox.onParentResize();}return value;},initialise:function(iId,rcMouse,rcTouch,iMenuNo,iRtClkMenu,strText,strImageClass,oMsgParent,rcTextBoxMouse,rcTextBoxTouch){if(!strText.compareTo('-1',false)){strText='';}Ribbon.EditableRibbonItem.callBaseMethod(this, 'initialise',[iId,rcMouse,rcTouch,iMenuNo,iRtClkMenu,strText,strImageClass,oMsgParent]);this._oTextBox.initialise(iId*10+1,rcTextBoxMouse,rcTextBoxTouch,-1,-1,strText,null,this);this.addItem(this._oTextBox);this._oTextBox.createRibbonItem(Kepler.Engine.UI.BaseAppFrame.get_toucH_MODE());},isCorrectAction:function(oItemAction){return (!this.get_text().compareTo(oItemAction.get_text(),true));},setItemSize:function(element,iWidth,iHeight){Ribbon.EditableRibbonItem.callBaseMethod(this, 'setItemSize',[element,iWidth,iHeight]);this._oTextBox.setItemSize(element,iWidth,iHeight);},getActionString:function(){var $0='';var $1=this._oMsgParent.sendMessage('msg_get_override_maps',null,null);var $2=null;for(var $5=0;$5<$1.length&&String.isNullOrEmpty($0);$5++){if(ss.isValue($2=$1[$5][this.get_id()])){$0=$2.get_text();}}$0=$0.trim();$0=($0==='-1')?'':$0;var $3=this.get_text().trim();if(!$0.endsWith('"')){$0="'"+$0+"'";}if(!$3.endsWith('"')){$3="'"+$3+"'";}var $4=this._strActionString;if(String.isNullOrEmpty($4)){if(ss.isValue(this._lstTTParams)&&ss.isValue(this._lstTTParams[0])){var $6=this._lstTTParams[0];var $7=$6._strTextualData;if(!String.isNullOrEmpty($7)){$7=$7.split(Kepler.Framework.Core.Seperators.z_CARON)[0];}$4=$7;}}$4=45+Kepler.Framework.Core.Seperators.v_CROSS+$4+Kepler.Framework.Core.Seperators.v_CROSS+$3;return $4;},getDefText:function(){var $0=Ribbon.EditableRibbonItem.callBaseMethod(this, 'getDefText');if(!$0){$0='-1';}return $0;},onMenuItemCommand:function(oMenuItem){if(Kepler.Engine.UI.Menu.MenuWnd.menU_CHECK_ACTION){if(ss.isValue(this._oMsgParent)&&(Ribbon.RibbonItemContainer).isInstanceOfType(this._oMsgParent)){(this._oMsgParent).resetRibbonItemState(this);}}return !Kepler.Engine.UI.Menu.MenuWnd.menU_CHECK_ACTION;},attachMessages:function(){this.attachMessage('msg_set_focus',ss.Delegate.create(this,this.onMsgSetFocus));this.attachMessage('msg_reset_focus',ss.Delegate.create(this,this.onMsgReSetFocus));},onMsgSetFocus:function(wParam,lParam){this._oMsgParent.sendMessage('msg_set_focus',this,lParam);return null;},onMsgReSetFocus:function(wParam,lParam){this._oMsgParent.sendMessage('msg_reset_focus',wParam,lParam);return null;},attachMessage:function(strMessage,msgHandler){this.$C[strMessage]=msgHandler;},detachMessage:function(strMessage){delete this.$C[strMessage];},sendMessage:function(strMessage,wParam,lParam){var $0=this.$C[strMessage];if($0!=null){return $0(wParam,lParam);}return null;},postMessage:function(strMessage,wParam,lParam,bRemovePreviousMsgs){Kepler.Framework.Core.Messaging.PostMessageManager.postMessage(this,strMessage,wParam,lParam,bRemovePreviousMsgs);},processEnter:function(KeyEvtArgs){this._oMsgParent.sendMessage('msg_focus_view',null,null);KeyEvtArgs.set_propogationStopped(true);KeyEvtArgs.set_defaultPrevented(true);return true;},processEscape:function(KeyEvtArgs){(this._oMsgParent).resetRibbonItemState(this);this._oMsgParent.sendMessage('msg_focus_view',null,null);KeyEvtArgs.set_propogationStopped(true);KeyEvtArgs.set_defaultPrevented(true);return true;},processPrevArrow:function(KeyEvtArgs){this._oTextBox.onKeyDown(KeyEvtArgs);return true;},processNextArrow:function(KeyEvtArgs){this._oTextBox.onKeyDown(KeyEvtArgs);return true;},processDefault:function(KeyEvtArgs){this._oTextBox.onKeyDown(KeyEvtArgs);return true;},processSpace:function(KeyEvtArgs){this._oTextBox.onKeyDown(KeyEvtArgs);return true;},onKeyDown:function(KeyEvtArgs){switch(KeyEvtArgs.get_key()){case Kepler.Framework.UI.Events.EventArgsNs.Keys.done:case Kepler.Framework.UI.Events.EventArgsNs.Keys.enter:this.processEnter(KeyEvtArgs);break;case Kepler.Framework.UI.Events.EventArgsNs.Keys.cancel:case Kepler.Framework.UI.Events.EventArgsNs.Keys.escape:this.processEscape(KeyEvtArgs);break;case Kepler.Framework.UI.Events.EventArgsNs.Keys.up:this.processPrevArrow(KeyEvtArgs);break;case Kepler.Framework.UI.Events.EventArgsNs.Keys.down:this.processNextArrow(KeyEvtArgs);break;case Kepler.Framework.UI.Events.EventArgsNs.Keys.tab:this.processTabNavigation(KeyEvtArgs);break;default:this.processDefault(KeyEvtArgs);break;}},onKeyPress:function(KeyEvtArgs){this._oTextBox.onKeyPress(KeyEvtArgs);},setFocusOnItem:function(){var $0;this._oMsgParent.sendMessage('msg_reset_focus',null,null);if(ss.isNullOrUndefined(this.get_parentRibbonItem())){this._oMsgParent.sendMessage('msg_kill_focus',this,null);}var $1=this;while(ss.isValue($1.get_parentRibbonItem())){$1.get_parentRibbonItem().set_focusedRbnItem($1);$1=$1.get_parentRibbonItem();}if(ss.isValue(this.get_parentRibbonItem())){this.onSetFocus(null);$0=true;}else{$0=this._oMsgParent.sendMessage('msg_set_focus',this,null);}if(Kepler.Framework.Accessibility.AccessibilitySupport.get_instance().get_isAccessibilityOn()){this.setAria();}return $0;},$B:function(){var $0='';if(Type.canCast(this._oTextBox,Ribbon.FileTabTextBox)){return this.getName()+' edit combo '+(this._oTextBox).get_defaultText()+' type and text';}else{$0=this.getLabel();if(!String.isNullOrEmpty($0)){return $0+' '+this._oTextBox.get_text()+' editable editbox '+this.getShortcutKey();}else{return this._oTextBox.get_text()+' editable editbox '+this.getShortcutKey();}}},onSetFocus:function(mouseEventArgs){var $0=this._oMsgParent.sendMessage('eONDetectMode',null,null);if(!$0||this._iHighlight===1){this.scrollToFocusedItem(Kepler.Engine.UI.Helper.HtmlCssHelper.getElementRect(this.get_elementItem()));this._oTextBox.setFocus(mouseEventArgs);this._iFocus=this._oTextBox.get_focus();}},onKillFocus:function(){this._oTextBox.killFocus();this._iFocus=this._oTextBox.get_focus();this.changeState(Kepler.Framework.UI.Controls.EItemState.eNormal,this._elemItem);this._oTextBox.changeState(Kepler.Framework.UI.Controls.EItemState.eNormal,this._oTextBox.get_elementItem());this.drawItem(null);var $0='';var $1=this._oMsgParent.sendMessage('msg_get_override_maps',null,null);var $2=null;for(var $3=0;$3<$1.length&&String.isNullOrEmpty($0);$3++){if(ss.isValue($2=$1[$3][this.get_id()])){$0=$2.get_text();}}if(!$0.compareTo('-1',false)){$0='';}if((Ribbon.FileTabTextBox).isInstanceOfType(this._oTextBox)){var $4=this._oTextBox;if(!$4.get_defaultText().compareTo(this.get_text())){$4.set_text('');return;}}if(!$0.compareTo(this.get_text(),true)){return;}this._oMsgParent.sendMessage('msg_ribbon_item_command',this,null);}}
Ribbon.FileTabTextBox=function(){Ribbon.FileTabTextBox.initializeBase(this);this.$10=new String();this.$10='';}
Ribbon.FileTabTextBox.prototype={$10:null,get_defaultText:function(){return this.$10;},set_defaultText:function(value){this.$10=value;return value;},$11:false,get_isRibbonItemAuthor:function(){return this.$11;},set_isRibbonItemAuthor:function(value){this.$11=value;return value;},get_text:function(){var $0='';if(ss.isValue(this._oTextControl)){$0=this._oTextControl.getText();}return $0;},set_text:function(value){this._strText=value;this._oTextControl.setText(value);this.$14();return value;},$12:false,get_textBoxImage:function(){return this.$12;},set_textBoxImage:function(value){this.$12=value;return value;},drawItem:function(element){this.$13(element);},createRibbonItem:function(bTouchMode){this._elemItem.className='textbox_input_normal'+' '+'class_ribbon_font '+' '+'selection_enable';this._elemItem.id='ribbonitem-text';this._elemItem.rbnItem=this;if((Ribbon.RibbonItemSpinCtrl).isInstanceOfType(this._oMsgParent)||(Ribbon.RibbonItemComboBox).isInstanceOfType(this._oMsgParent)){this._elemItem.style.borderRight='none';}this._elemItem.style.position='absolute';this._elemItem.style.borderColor='white';this.setItemPosition(this._elemItem,this._rcMouse.get_left(),this._rcMouse.get_top());this.setItemSize(this._elemItem,this._rcMouse.get_width()-2,this._rcMouse.get_height());this._elemItem.appendChild(this._oTextControl.getElement());this.$14();},$13:function($p0){switch(this._eToState){case Kepler.Framework.UI.Controls.EItemState.eNormal:if(!this.$12){this._elemItem.style.borderColor=(!!this._iFocus)?this._oThemeDetails.get_colorPressed():'white';}else{this._elemItem.style.borderColor='white';if(this.$11){(this.get_parentRibbonItem()).get_elemTextBox().style.border='1px solid white';if(!!this._iFocus){(this.get_parentRibbonItem()).get_elemTextBox().style.borderColor=this._oThemeDetails.get_colorPressed();(this.get_parentRibbonItem()).get_imageOutTextBox().get_elementItem().style.display='block';(this.get_parentRibbonItem()).get_imageInTextBox().get_elementItem().style.display='block';(this.get_parentRibbonItem()).get_elemTextBox().style.color='black';}else{(this.get_parentRibbonItem()).get_elemTextBox().style.borderColor='white';(this.get_parentRibbonItem()).get_imageOutTextBox().get_elementItem().style.display='none';(this.get_parentRibbonItem()).get_imageInTextBox().get_elementItem().style.display='none';(this.get_parentRibbonItem()).get_elemTextBox().style.color='#B0B2B4';}}}break;case Kepler.Framework.UI.Controls.EItemState.eHover:case Kepler.Framework.UI.Controls.EItemState.ePressed:case Kepler.Framework.UI.Controls.EItemState.ePressedHover:case Kepler.Framework.UI.Controls.EItemState.eFocus:case Kepler.Framework.UI.Controls.EItemState.eFocusHover:if(!this.$12){this._elemItem.style.borderColor=this._oThemeDetails.get_colorPressed();}else{if(this.$11){(this.get_parentRibbonItem()).get_elemTextBox().style.borderColor=this._oThemeDetails.get_colorPressed();(this.get_parentRibbonItem()).get_imageInTextBox().get_elementItem().style.display='block';(this.get_parentRibbonItem()).get_imageOutTextBox().get_elementItem().style.display='block';(this.get_parentRibbonItem()).get_elemTextBox().style.color='#6D6D6D';}this._elemItem.style.borderColor='white';}break;default:break;}},$14:function(){if(!this.get_text()||this.get_text()==='-1'||this.get_text()===this.$10){this._oTextControl.setText(this.get_defaultText());this._oTextControl.setFontColor(new Kepler.Framework.UI.Color(109,109,109));if(this.$11){this._oTextControl.setFontColor(new Kepler.Framework.UI.Color(176,178,180));}}else{this._oTextControl.setFontColor(new Kepler.Framework.UI.Color(0,0,0));}},setFocus:function(mouseEventArgs){if(!this._iFocus){if(!this.$12){this._elemItem.style.borderColor=this._oThemeDetails.get_colorPressed();}if(this.$11){(this.get_parentRibbonItem()).get_elemTextBox().style.borderColor=this._oThemeDetails.get_colorPressed();}this._oTextControl.onFocus();if(2!==this._oMsgParent.sendMessage('eONDetectMode',null,null)){Kepler.Engine.UI.UIManager.get_instance().sendMessage('msg_show_keyboard',null,null);}this._iFocus=1;if(!this.get_text()||!this.get_text().compareTo(this.$10)){this._oTextControl.setText('');this._oTextControl.setFontColor(new Kepler.Framework.UI.Color(0,0,0));}}},killFocus:function(){this._elemItem.style.borderColor='';this.setSelection(0,0);this._oTextControl.onLostFocus();if(2!==this._oMsgParent.sendMessage('eONDetectMode',null,null)){Kepler.Engine.UI.UIManager.get_instance().sendMessage('msg_hide_keyboard',null,null);}this._iFocus=0;this.$14();this._elemItem.style.borderColor='white';},onSetFocus:function(mouseEventArgs){this._oMsgParent.sendMessage('msg_set_focus',null,mouseEventArgs);},drawEnabledDisabledState:function(){}}
Ribbon.RibbonItemAuthor=function(oBaseTextBox){Ribbon.RibbonItemAuthor.initializeBase(this);this._elemItem=document.createElement('div');this.$14=document.createElement('div');oBaseTextBox.set_isRibbonItemAuthor(true);this.$E=new Ribbon.RibbonItemImageAuthor();this.$F=new Ribbon.RibbonItemImageAuthor();this._oTextBox=oBaseTextBox;}
Ribbon.RibbonItemAuthor.prototype={$D:null,$E:null,get_imageInTextBox:function(){return this.$E;},$F:null,get_imageOutTextBox:function(){return this.$F;},$10:0,get_imageInTextBoxId:function(){return this.$10;},set_imageInTextBoxId:function(value){this.$10=value;return value;},$11:0,get_imageOutTextBoxId:function(){return this.$11;},set_imageOutTextBoxId:function(value){this.$11=value;return value;},$12:null,get_imageInTextBoxCss:function(){return this.$12;},set_imageInTextBoxCss:function(value){this.$12=value;return value;},$13:null,get_imageOutTextBoxCss:function(){return this.$13;},set_imageOutTextBoxCss:function(value){this.$13=value;return value;},$14:null,get_elemTextBox:function(){return this.$14;},set_elemTextBox:function(value){this.$14=value;return value;},$B:function(){return this.getName()+' '+(this._oTextBox).get_defaultText();},initialise:function(iId,rcMouse,rcTouch,iMenuNo,iRtClkMenu,strText,strImageClass,oMsgParent){Ribbon.RibbonItemAuthor.callBaseMethod(this, 'initialise',[iId,rcMouse,rcTouch,iMenuNo,iRtClkMenu,strText,'',oMsgParent,rcMouse,rcTouch]);this.$E.initialise(this.$10,rcMouse,rcTouch,-1,-1,'','',this._oMsgParent);this.$E.set_actionString('verify names');this.$F.initialise(this.$11,rcMouse,rcTouch,-1,-1,'','',this._oMsgParent);this.$F.set_actionString('browse');},createRibbonItem:function(bTouchMode){this.$E.createRibbonItem(bTouchMode);this.$F.createRibbonItem(bTouchMode);this.$E.set_border(true);this.$F.set_border(true);var $0=this.getItemRect(bTouchMode);this._elemItem.style.position='absolute';this.setItemRect(this._elemItem,$0);this._elemItem.id='ribbonitem-text';this._elemItem.style.backgroundColor='white';this._elemItem.style.whiteSpace='nowrap';this.$E.get_elementItem().className='filetab_author_btn_inner';this.$E.get_elementItem().style.position='absolute';this.$E.get_elementItem().style.left='';this.$E.get_elementItem().style.right='0px';this.$E.get_elementItem().style.top='0px';this.$E.get_elementItem().style.width='18px';this.$E.get_elementItem().style.height='18px';this.$E.get_elementItem().style.display='none';this.$E.set_isRibbonItemAuthor(true);this.$E.set_border(true);this.$F.get_elementItem().className='filetab_author_btn_outer';this.$F.get_elementItem().style.position='absolute';this.$F.get_elementItem().style.left='';this.$F.get_elementItem().style.right='0px';this.$F.get_elementItem().style.top='0px';this.$F.get_elementItem().style.width='20px';this.$F.get_elementItem().style.height='19px';this.$F.get_elementItem().style.display='none';this.$F.set_isRibbonItemAuthor(true);this.$F.set_border(true);this._oTextBox.get_elementItem().style.position='relative';this._oTextBox.get_elementItem().style.top='0px';this._oTextBox.get_elementItem().style.left='0px';this._oTextBox.get_elementItem().style.marginRight='20px';this.$14.appendChild(this._oTextBox.get_elementItem());this.$14.style.position='relative';this.$14.style.height='100%';this.$14.style.marginRight='31px';this.$14.style.color='#B0B2B4';this.$14.style.border='1px solid white';this.addItem(this.$E,this.$14);this.addItem(this.$F,this._elemItem);this._elemItem.appendChild(this.$14);this._elemItem.rbnItem=this;this.$E.get_ttParamList().add(new Kepler.Engine.UI.Controls.Tooltip.Tooltip_Params(Kepler.Engine.UI.Controls.Tooltip.ETooltipTypes.simplE_DESCR,' Verify the contact names you'+' entered. ',''));this.$F.get_ttParamList().add(new Kepler.Engine.UI.Controls.Tooltip.Tooltip_Params(Kepler.Engine.UI.Controls.Tooltip.ETooltipTypes.simplE_DESCR,' Search the Address book for'+' contacts. ',''));},drawItem:function(element){this.drawState();},drawState:function(){switch(this._eToState){case Kepler.Framework.UI.Controls.EItemState.eNormal:this.$14.style.border='1px solid white';if(!!this._iFocus){this.$14.style.borderColor=this._oThemeDetails.get_colorPressed();this.$E.get_elementItem().style.display='block';this.$F.get_elementItem().style.display='block';this.$14.style.color='black';}else{this.$14.style.borderColor='white';this.$E.get_elementItem().style.display='none';this.$F.get_elementItem().style.display='none';this.$14.style.color='#B0B2B4';}break;case Kepler.Framework.UI.Controls.EItemState.eFocus:case Kepler.Framework.UI.Controls.EItemState.eHover:this.$14.style.borderColor=this._oThemeDetails.get_colorPressed();this.$E.get_elementItem().style.display='block';this.$F.get_elementItem().style.display='block';this.$14.style.color='#6D6D6D';break;case Kepler.Framework.UI.Controls.EItemState.ePressedHover:case Kepler.Framework.UI.Controls.EItemState.ePressed:default:break;}},isCorrectAction:function(oItemAction){return (!this.get_text().compareTo(oItemAction.get_text(),false));},getItemElementRect:function(){var $0=Ribbon.RibbonItemAuthor.callBaseMethod(this, 'getItemElementRect');$0.set_width($0.get_width()-51);return $0;},onKeyDown:function(KeyEvtArgs){switch(KeyEvtArgs.get_key()){case Kepler.Framework.UI.Events.EventArgsNs.Keys.done:case Kepler.Framework.UI.Events.EventArgsNs.Keys.enter:case Kepler.Framework.UI.Events.EventArgsNs.Keys.escape:case Kepler.Framework.UI.Events.EventArgsNs.Keys.cancel:this.onKillFocus();break;default:if(this.$D==null){this.$D=this._oMsgParent.sendMessage('msg_get_menu_wnd',this._iMenuNo,null);if(this._rbnFocusedItem===this._oTextBox){this._oTextBox.onKeyDown(KeyEvtArgs);}}break;}},onKeyPress:function(KeyEvtArgs){if(this._rbnFocusedItem===this._oTextBox){Ribbon.RibbonItemAuthor.callBaseMethod(this, 'onKeyPress',[KeyEvtArgs]);}},processNextArrow:function(KeyEvtArgs){if(ss.isValue(this.get_parentRibbonItem())&&this.get_parentRibbonItem().get_focusedRbnItem()===this){this._oTextBox.onKeyDown(KeyEvtArgs);return true;}else{return Ribbon.RibbonItemAuthor.callBaseMethod(this, 'processNextArrow',[KeyEvtArgs]);}},processPrevArrow:function(KeyEvtArgs){if(ss.isValue(this.get_parentRibbonItem())&&this.get_parentRibbonItem().get_focusedRbnItem()===this){this._oTextBox.onKeyDown(KeyEvtArgs);return true;}else{return Ribbon.RibbonItemAuthor.callBaseMethod(this, 'processNextArrow',[KeyEvtArgs]);}}}
Ribbon.RibbonItemBuddyTextBox=function(){Ribbon.RibbonItemBuddyTextBox.initializeBase(this);}
Ribbon.RibbonItemBuddyTextBox.prototype={onSetFocus:function(mouseEventArgs){Ribbon.RibbonItemBuddyTextBox.callBaseMethod(this, 'onSetFocus',[mouseEventArgs]);(this._oMsgParent).drawItem(null);},onKillFocus:function(){Ribbon.RibbonItemBuddyTextBox.callBaseMethod(this, 'onKillFocus');(this._oMsgParent).drawItem(null);},drawItem:function(element){Ribbon.RibbonItemBuddyTextBox.callBaseMethod(this, 'drawItem',[element]);(this._oMsgParent).changeState(this._eToState,element);},getTtLaunchParams:function(element,ptTooltip){return new Kepler.Engine.UI.Controls.Tooltip.TooltipLaunch_Params((this._oMsgParent).get_ttParamList()[0],false,ptTooltip,false,this.get_id(),this);}}
Ribbon.RibbonItemSearch=function(oBaseTextBox){Ribbon.RibbonItemSearch.initializeBase(this);this._oTextBox=oBaseTextBox;this._elemItem=document.createElement('div');this.$E=new Ribbon.RibbonItemNormal();}
Ribbon.RibbonItemSearch.prototype={$D:null,$E:null,$F:null,$10:0,get_imageId:function(){return this.$10;},set_imageId:function(value){this.$10=value;return value;},initialise:function(iId,rcMouse,rcTouch,iMenuNo,iRtClkMenu,strText,strImageClass,oMsgParent){this.$F=strImageClass;Ribbon.RibbonItemSearch.callBaseMethod(this, 'initialise',[iId,rcMouse,rcTouch,iMenuNo,iRtClkMenu,strText,'',oMsgParent,new Kepler.Framework.UI.Rect(rcMouse.get_left(),rcMouse.get_top(),rcMouse.get_width()-25,rcMouse.get_height()),new Kepler.Framework.UI.Rect(rcTouch.get_left(),rcTouch.get_top(),rcTouch.get_width()-25,rcTouch.get_height())]);this.$E.initialise(this.$10,new Kepler.Framework.UI.Rect(rcMouse.get_left(),rcMouse.get_top(),25,25),new Kepler.Framework.UI.Rect(rcMouse.get_left(),rcMouse.get_top(),25,25-1),-1,-1,'',this.$F,this._oMsgParent);},createRibbonItem:function(bTouchMode){this.$E.createRibbonItem(bTouchMode);var $0=this.getItemRect(bTouchMode);this._elemItem.style.position='absolute';this.setItemRect(this._elemItem,$0);this._elemItem.id='ribbonitem-text';this._elemItem.style.whiteSpace='nowrap';this._elemItem.style.border='1px solid #ABABAB';this._elemItem.style.overflow='hidden';this.$E.get_elementItem().style.position='absolute';this.$E.get_elementItem().style.left='';this.$E.get_elementItem().style.right='1px';this.$E.get_elementItem().style.top='1px';if(this.$E.get_elementItem().firstChild!=null){this.$E.get_elementItem().firstChild.style.top='0px';}this._oTextBox.get_elementItem().style.position='relative';this._oTextBox.get_elementItem().style.top='';this._oTextBox.get_elementItem().style.left='';this._oTextBox.get_elementItem().style.marginRight='31px';this.addItem(this.$E);this.$E.get_ttParamList().add(new Kepler.Engine.UI.Controls.Tooltip.Tooltip_Params(Kepler.Engine.UI.Controls.Tooltip.ETooltipTypes.simplE_DESCR,' Start searching ',''));},onUnload:function(){if(ss.isValue(this.$E)){this.$E.dispose();}this.$E=null;Ribbon.RibbonItemSearch.callBaseMethod(this, 'onUnload');},drawEnabledDisabledState:function(){if(!this._iEnabled){this._elemItem.style.backgroundColor='#F1F1F1';this._elemItem.style.borderColor='#E8E8E8';this._elemItem.disabled=true;this._oTextBox.get_elementItem().style.color='#BDBDBD';this._oTextBox.get_elementItem().style.color='#F5F5F5';this._oTextBox.get_elementItem().style.marginLeft='6px';this._oTextBox.get_elementItem().style.marginBottom='3px';this._oTextBox.get_elementItem().style.marginTop='5px';this._oTextBox.set_enabled(0);this.$E.get_elementItem().className='filetab_search_disable';this.$E.set_enabled(0);this.$E.get_elementItem().style.backgroundColor='#F1F1F1';Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(this._oTextBox.get_elementItem(),'textbox_input_disabled');this._oTextBox.get_elementItem().style.borderColor='#F5F5F5';this._oTextBox.get_elementItem().style.backgroundColor='#F5F5F5';this._oTextBox.get_elementItem().style.borderWidth='0px';}else{this._elemItem.style.backgroundColor='white';this.$E.get_elementItem().className=this.$F;this._oTextBox.get_elementItem().style.height='100%';}},onKeyDown:function(KeyEvtArgs){if(this.$D==null){this.$D=this._oMsgParent.sendMessage('msg_get_menu_wnd',this._iMenuNo,null);this._oTextBox.onKeyDown(KeyEvtArgs);}},processNextArrow:function(KeyEvtArgs){var $0;var $1=false;if(KeyEvtArgs.get_key()===Kepler.Framework.UI.Events.EventArgsNs.Keys.right&&this.get_focusedRbnItem()===this._oTextBox){this._oTextBox.onKeyDown(KeyEvtArgs);$1=true;}else{if(this._bFocusable){if(this._lstRibbonItems.length>0){$1=false;$0=(ss.isValue(this._rbnFocusedItem))?this._rbnFocusedItem:this.getNextFocusableItem(-1);if(ss.isValue($0)){$1=$0.processNextArrow(KeyEvtArgs);if(!$1){var $2=this.get_listRibbonItems().indexOf($0);$0=this.getNextFocusableItem($2);$1=(ss.isValue($0))?$0.processNextArrow(KeyEvtArgs):false;}}}}}return $1;},processPrevArrow:function(KeyEvtArgs){var $0=false;if(KeyEvtArgs.get_key()===Kepler.Framework.UI.Events.EventArgsNs.Keys.left&&this.get_focusedRbnItem()===this._oTextBox){this._oTextBox.onKeyDown(KeyEvtArgs);$0=true;}else{$0=Ribbon.RibbonItemSearch.callBaseMethod(this, 'processPrevArrow',[KeyEvtArgs]);}return $0;}}
Ribbon.RibbonItemSpinCtrl=function(){Ribbon.RibbonItemSpinCtrl.initializeBase(this);this.$14=this.$15=this.$16=-1;this.$19=null;this.$17='';this._oTextBox=new Ribbon.RibbonItemBuddyTextBox();this._elemItem=document.createElement('div');}
Ribbon.RibbonItemSpinCtrl.prototype={$14:0,$15:0,$16:0,$17:null,$18:0,$19:null,initialise:function(iId,rcMouse,rcTouch,iMenuNo,iRtClkMenu,strText,strImageClass,oMsgParent){Ribbon.RibbonItemSpinCtrl.callBaseMethod(this, 'initialise',[iId,rcMouse,rcTouch,iMenuNo,iRtClkMenu,strText,strImageClass,oMsgParent,new Kepler.Framework.UI.Rect(-1,-1,rcMouse.get_width()-(16+1),rcMouse.get_height()),new Kepler.Framework.UI.Rect(-1,-1,rcTouch.get_width(),rcTouch.get_height())]);},createRibbonItem:function(bTouchMode){Ribbon.RibbonItemSpinCtrl.callBaseMethod(this, 'createRibbonItem',[bTouchMode]);var $0=this.getItemRect(bTouchMode);this._elemItem.style.position='absolute';this.setItemRect(this._elemItem,$0);this._elemItem.className='class_ribbon_spinctrl_normal';var $1=document.createElement('div');$1.className='ribbon_spinctrl_UpBtn';$1.rbnItem=this;$1.style.display=(bTouchMode)?'none':'block';$1.setAttribute('role','button');var $2=document.createElement('div');$2.className='spinctrl_arr'+' '+'class_ImgPath_Arrow '+' '+'arrow_up '+' '+'arr_normal ';$1.appendChild($2);this._elemItem.appendChild($1);var $3=document.createElement('div');$3.className='ribbon_spinctrl_DownBtn';$3.rbnItem=this;$3.style.display=(bTouchMode)?'none':'block';$3.setAttribute('role','button');var $4=document.createElement('div');$4.className='spinctrl_arr'+' '+'class_ImgPath_Arrow '+' '+'arrow_down '+' '+'arr_normal ';$3.appendChild($4);this._elemItem.appendChild($3);this._oTextBox.get_elementItem().style.borderRight=((bTouchMode)?'':'none');},drawItem:function(element){this.$1A(element);},$1A:function($p0){switch(this._eToState){case Kepler.Framework.UI.Controls.EItemState.eNormal:this._oTextBox.changeState(Kepler.Framework.UI.Controls.EItemState.eNormal,this._elemItem.childNodes[0]);this._elemItem.style.borderColor=(!this._iFocus)?'':Kepler.Engine.Core.EngineApp.get_engine().get_currentApp().getAppFrame().get_themeDetails().get_colorPressed();var $0=this._elemItem.childNodes[1];var $1=this._elemItem.childNodes[2];$0.style.backgroundColor='';$0.style.borderColor='';$0.firstChild.style.opacity='';$1.style.backgroundColor='';$1.style.borderColor='';$1.firstChild.style.opacity='';break;case Kepler.Framework.UI.Controls.EItemState.eHover:this._oTextBox.changeState(Kepler.Framework.UI.Controls.EItemState.eHover,this._elemItem.childNodes[0]);this._elemItem.style.borderColor=this._oThemeDetails.get_colorPressed();if($p0===this._elemItem.childNodes[1]){$p0.style.borderColor=this._oThemeDetails.get_colorPressed();$p0.style.backgroundColor=this._oThemeDetails.get_colorHover();$p0.firstChild.style.opacity='1';this._elemItem.childNodes[2].style.borderColor=this._oThemeDetails.get_colorPressed();}else if($p0===this._elemItem.childNodes[2]){$p0.style.borderColor=this._oThemeDetails.get_colorPressed();$p0.firstChild.style.opacity='1';$p0.style.backgroundColor=this._oThemeDetails.get_colorHover();this._elemItem.childNodes[1].style.borderColor=this._oThemeDetails.get_colorPressed();}break;case Kepler.Framework.UI.Controls.EItemState.ePressedHover:case Kepler.Framework.UI.Controls.EItemState.ePressed:this._elemItem.style.borderColor=this._oThemeDetails.get_colorPressed();if($p0===this._elemItem.childNodes[1]){$p0.style.backgroundColor=this._oThemeDetails.get_colorPressed();$p0.style.borderColor=this._oThemeDetails.get_colorPressed();$p0.firstChild.style.opacity='1';this._elemItem.childNodes[2].style.borderColor=this._oThemeDetails.get_colorPressed();}else if($p0===this._elemItem.childNodes[2]){$p0.style.backgroundColor=this._oThemeDetails.get_colorPressed();$p0.style.borderColor=this._oThemeDetails.get_colorPressed();$p0.firstChild.style.opacity='1';this._elemItem.childNodes[1].style.borderColor=this._oThemeDetails.get_colorPressed();}break;default:break;}},drawHighlightedState:function(){Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(this._elemItem,'class_visual_hint ');Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(this._elemItem.childNodes[1],'class_visual_hint ');Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(this._elemItem.childNodes[2],'class_visual_hint ');if(this._iHighlight===2){Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this._elemItem.childNodes[1],'class_visual_hint ');}else if(this._iHighlight===3){Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this._elemItem.childNodes[2],'class_visual_hint ');}else if(this._iHighlight===5){Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this._elemItem,'class_visual_hint ');}},drawEnabledDisabledState:function(){this.enableDisableArrow(this._elemItem.childNodes[1].firstChild);this.enableDisableArrow(this._elemItem.childNodes[2].firstChild);if(!this._iEnabled){Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this._elemItem,'class_ribbon_spinctrl_disabled');}else{Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(this._elemItem,'class_ribbon_spinctrl_disabled');}},setInfo:function(dMin,dMax,dInc,strUnits,eType){this.$14=dMin;this.$15=dMax;this.$16=dInc;this.$18=eType;this.$17=strUnits;this.set_text(this.get_text()+this.$17);},isCorrectAction:function(oItemAction){var $0=this.get_text();$0=$0.trim();var $1=this.$17.trim();if(!$0.endsWith($1)){$0+=this.$17;}else{var $2=-1;if(($2=$0.indexOf($1))>0){$0=$0.substr(0,$2);$0=$0.trim();$0=$0+this.$17;}}this.set_text($0);return Ribbon.RibbonItemSpinCtrl.callBaseMethod(this, 'isCorrectAction',[oItemAction]);},toggleMode:function(bMode){Ribbon.RibbonItemSpinCtrl.callBaseMethod(this, 'toggleMode',[bMode]);this._elemItem.childNodes[1].style.display=(bMode)?'none':'block';this._elemItem.childNodes[2].style.display=(bMode)?'none':'block';this.setItemRect(this._elemItem,this.getItemRect(bMode));this._oTextBox.get_elementItem().style.borderRight=((bMode)?'':'none');},$A:function(){if((Ribbon.RibbonItemContainer).isInstanceOfType(this._oMsgParent)){this._oMsgParent.sendMessage('msg_set_focus',this,null);}return 7;},getShowMeEle:function(){var $0;if(this.get_highlight()===1){$0=this._oTextBox.get_textControl().get_textElement();}else{$0=Ribbon.RibbonItemSpinCtrl.callBaseMethod(this, 'getShowMeEle');}return $0;},$B:function(){var $0,$1;$0=this.getName();$1=' edit spin box '+this._oTextBox.get_text()+' To set the value use the arrow keys or type the value';if(!String.isNullOrEmpty($0)){return $0+$1;}return $1;},onLButtonDown:function(element,mouseEventArgs){if(ss.isValue(element)){var $0=element===this._elemItem.childNodes[1];var $1=element===this._elemItem.childNodes[2];if($0||$1){if($0){this.$16=(this.$16<0)?-this.$16:this.$16;}else if($1){this.$16=(this.$16>0)?-this.$16:this.$16;}this.changeValOnTimer(null);if(ss.isNullOrUndefined(this.$19)){this.$19=new Kepler.Framework.Core.Timers.Timer(ss.Delegate.create(this,this.changeValOnTimer),1000);}this.$19.set_interval(1000);this.$19.start();}}this.changeState(Kepler.Framework.UI.Controls.EItemState.ePressedHover,element);this._bCapture=true;return true;},onLButtonUp:function(element,mouseEventArgs){if(ss.isValue(this.$19)&&this.$19.get_isRunning()){this.$19.stop();var $0=this.$1B();if(ss.isValue($0)&&!this.isCorrectAction($0)){Ribbon.RibbonItemSpinCtrl.callBaseMethod(this, 'onLButtonUp',[element,mouseEventArgs]);}else{this.onKillFocus();}}return true;},$1B:function(){var $0=null;if((Ribbon.RibbonItemContainer).isInstanceOfType(this._oMsgParent)){var $1=(this._oMsgParent).sendMessage('msg_get_action_maps',null,null);var $enum1=ss.IEnumerator.getEnumerator($1);while($enum1.moveNext()){var $2=$enum1.current;var $enum2=ss.IEnumerator.getEnumerator($2);while($enum2.moveNext()){var $3=$enum2.current;if($3.get_id()===this.get_id()){$0=$3;break;}}}}return $0;},onMouseOver:function(element){if(this._bCapture){if(ss.isValue(this.$19)){this.$19.set_interval(50);this.$19.start();}}Ribbon.RibbonItemSpinCtrl.callBaseMethod(this, 'onMouseOver',[element]);},onMouseLeave:function(){if(ss.isValue(this.$19)){this.$19.stop();this.onKillFocus();}Ribbon.RibbonItemSpinCtrl.callBaseMethod(this, 'onMouseLeave');},onMouseMove:function(mouseEventArgs){Ribbon.RibbonItemSpinCtrl.callBaseMethod(this, 'onMouseMove',[mouseEventArgs]);this.invalidate();this.changeState(Kepler.Framework.UI.Controls.EItemState.eNormal,mouseEventArgs.get_target());this.changeState(Kepler.Framework.UI.Controls.EItemState.eHover,mouseEventArgs.get_target());var $0=mouseEventArgs.get_target()===this._elemItem.childNodes[1];var $1=mouseEventArgs.get_target()===this._elemItem.childNodes[2];if(!$0&&!$1){if(ss.isValue(this.$19)&&this.$19.get_isRunning()){this.$19.stop();this.onKillFocus();}}},changeValOnTimer:function(customData){this.$1C();if(ss.isValue(this.$19)){this.$19.set_interval(50);this.$19.start();}},$1C:function(){var $0=this.get_text();var $1=true;switch(this.$18){case 0:var $2;$2=parseFloat(this.get_text());if(isNaN($2)){$2=0;}if(!!(parseInt(Math.abs($2).toString(),10)%Math.abs(this.$16))){var $3=parseInt(($2/this.$16).toString(),10);$2=$3*this.$16;if(this.$16>0){$2+=this.$16;}else{$2-=this.$16;}}$2=$2+this.$16;$2=($2>this.$15)?this.$15:$2;if($2<this.$14){if(this.$17.endsWith('pt')){this.set_text('Auto');$1=false;break;}else{$2=this.$14;}}$0=parseInt($2).toString();break;case 1:var $4;$4=parseFloat(this.get_text());$4=parseFloat($4.toFixed(1));if(!!(Math.abs($4)%Math.abs(this.$16))){var $5;if(this.$16>0){$5=parseInt(Math.ceil($4/this.$16).toString(),10);}else{$5=parseInt(Math.floor($4/this.$16).toString(),10);}$4=$5*this.$16;}$4=$4+this.$16;$4=parseFloat($4.toFixed(1));$4=($4>this.$15)?this.$15:$4;$4=($4<this.$14)?this.$14:$4;$0=$4.toString();break;case 2:var $6,$7,$8='00';var $9,$A;var $B;$6=$0.split(':').extract(0)[0].toString();$B=$0.split(':').extract(1)[0].toString();$7=$B.split('.').extract(0)[0].toString();$9=parseInt($6,10);$A=parseInt($7,10);$A+=parseInt(this.$16);if($A>=60){$9++;$A=0;}if($A<0){$9--;$A=59;}if($9<0){$9=0;$A=0;}$6=$9.toString();$7=$A.toString();if($9<10){$6='0'+$6;}if($A<10){$7='0'+$7;}$0=$6+':'+$7+'.'+$8;break;case 3:var $C,$D;var $E,$F;$C=$0.split('.').extract(0)[0].toString();$D=$0.split('.').extract(1)[0].toString();$E=parseInt($C,10);$F=parseInt($D,10);$F=($F===1)?0:$F;$F+=parseInt(this.$16);if($F>=100){$E++;$F=0;}if($F<0){$E--;$F=75;}if($E<0){$E=0;$F=1;}$C=$E.toString();$D=$F.toString();if($E<10){$C='0'+$C;}if($F<10){$D='0'+$D;}$0=$C+'.'+$D;break;default:break;}if($1){this.set_text($0+this.$17);}},processPrevArrow:function(KeyEvtArgs){if(KeyEvtArgs.get_key()===Kepler.Framework.UI.Events.EventArgsNs.Keys.up){var $0=null;this.$16=(this.$16<0)?-this.$16:this.$16;$0=this._elemItem.childNodes[1];this.$1D($0);KeyEvtArgs.set_defaultPrevented(true);}else{this._oTextBox.onKeyDown(KeyEvtArgs);}return true;},processNextArrow:function(KeyEvtArgs){if(KeyEvtArgs.get_key()===Kepler.Framework.UI.Events.EventArgsNs.Keys.down){var $0=null;this.$16=(this.$16>0)?-this.$16:this.$16;$0=this._elemItem.childNodes[2];this.$1D($0);KeyEvtArgs.set_defaultPrevented(true);}else{this._oTextBox.onKeyDown(KeyEvtArgs);}return true;},$1D:function($p0){this.changeState(Kepler.Framework.UI.Controls.EItemState.ePressed,$p0);if(ss.isValue(this.$19)&&this.$19.get_isRunning()){this.$19.stop();}this.$1C();},processTabNavigation:function(KeyEvtArgs){var $0=false;if((Ribbon.RibbonItemContainer).isInstanceOfType(this._oMsgParent)){if((this._oMsgParent).get_isFileTabActive()||(this._oMsgParent).get_altMode()){$0=Ribbon.RibbonItemSpinCtrl.callBaseMethod(this, 'processTabNavigation',[KeyEvtArgs]);}else{KeyEvtArgs.set_defaultPrevented(true);$0=true;}}return $0;},onKeyUp:function(KeyEvtArgs){switch(KeyEvtArgs.get_key()){case Kepler.Framework.UI.Events.EventArgsNs.Keys.up:case Kepler.Framework.UI.Events.EventArgsNs.Keys.down:var $0=this.$1B();if(ss.isValue($0)&&!this.isCorrectAction($0)){var $1=(KeyEvtArgs.get_key()===Kepler.Framework.UI.Events.EventArgsNs.Keys.up)?this._elemItem.childNodes[1]:this._elemItem.childNodes[2];this.changeState(Kepler.Framework.UI.Controls.EItemState.eNormal,$1);}else{if((Ribbon.RibbonItemContainer).isInstanceOfType(this._oMsgParent)){if((this._oMsgParent).get_isFileTabActive()){this.onKillFocus();}else{this._oMsgParent.sendMessage('msg_focus_view',null,null);}}}break;default:break;}}}
Ribbon.RibbonItemTextBox=function(oTextBox){Ribbon.RibbonItemTextBox.initializeBase(this);if(ss.isValue(oTextBox)){this._oTextBox=oTextBox;}else{this._oTextBox=new Ribbon.BaseTextBox();}}
Ribbon.RibbonItemTextBox.prototype={initialise:function(iId,rcMouse,rcTouch,iMenuNo,iRtClkMenu,strText,strImageClass,oMsgParent){Ribbon.RibbonItemTextBox.callBaseMethod(this, 'initialise',[iId,rcMouse,rcTouch,iMenuNo,iRtClkMenu,strText,strImageClass,oMsgParent,rcMouse,rcTouch]);this._elemItem=this._oTextBox.get_elementItem();},isCorrectAction:function(oItemAction){if(Type.canCast(this._oTextBox,Ribbon.FileTabTextBox)){return (!this.get_text().compareTo(oItemAction.get_text(),false));}else{return Ribbon.RibbonItemTextBox.callBaseMethod(this, 'isCorrectAction',[oItemAction]);}},processTabNavigation:function(KeyEvtArgs){var $0=false;if(this._bFocusable){if($0=ss.isNullOrUndefined(this.get_parentRibbonItem())){this._oMsgParent.sendMessage('msg_set_focus',this,null);}else{if(this.get_parentRibbonItem().get_focusedRbnItem()!==this){$0=this.setFocusOnItem();}}}return $0;},processNextArrow:function(KeyEvtArgs){var $0;var $1=false;if(KeyEvtArgs.get_key()===Kepler.Framework.UI.Events.EventArgsNs.Keys.right&&ss.isValue(this.get_parentRibbonItem())&&this.get_parentRibbonItem().get_focusedRbnItem()===this){this._oTextBox.onKeyDown(KeyEvtArgs);$1=true;}else{if(this._lstRibbonItems.length>0){$1=false;$0=(ss.isValue(this._rbnFocusedItem))?this._rbnFocusedItem:this.getNextFocusableItem(-1);if(ss.isValue($0)){$1=$0.processNextArrow(KeyEvtArgs);if(!$1){var $2=this.get_listRibbonItems().indexOf($0);$0=this.getNextFocusableItem($2);$1=(ss.isValue($0))?$0.processNextArrow(KeyEvtArgs):false;}}}}return $1;},processPrevArrow:function(KeyEvtArgs){var $0;var $1=false;if(KeyEvtArgs.get_key()===Kepler.Framework.UI.Events.EventArgsNs.Keys.left&&ss.isValue(this.get_parentRibbonItem())&&this.get_parentRibbonItem().get_focusedRbnItem()===this){this._oTextBox.onKeyDown(KeyEvtArgs);$1=true;}else{if(this._bFocusable){if(this._lstRibbonItems.length>0){$1=false;$0=(ss.isValue(this._rbnFocusedItem))?this._rbnFocusedItem:this.getPreFocusableItem(this._lstRibbonItems.length);if(ss.isValue($0)){$1=$0.processPrevArrow(KeyEvtArgs);if(!$1){var $2=this.get_listRibbonItems().indexOf($0);$0=this.getPreFocusableItem($2);$1=(ss.isValue($0))?$0.processPrevArrow(KeyEvtArgs):false;}}}}}return $1;},processEnter:function(KeyEvtArgs){if(Type.canCast(this._oTextBox,Ribbon.FileTabTextBox)){this.onKillFocus();}return Ribbon.RibbonItemTextBox.callBaseMethod(this, 'processEnter',[KeyEvtArgs]);},processEscape:function(KeyEvtArgs){var $0=Ribbon.RibbonItemTextBox.callBaseMethod(this, 'processEscape',[KeyEvtArgs]);if(Type.canCast(this._oTextBox,Ribbon.FileTabTextBox)){this.onKillFocus();}return $0;}}
Ribbon.PaneWnd=function(){Ribbon.PaneWnd.initializeBase(this,['paneWnd']);this.$4_1=ss.Delegate.create(this,this.$4_6);this.$4_2=ss.Delegate.create(this,this.$4_7);this.$4_3=ss.Delegate.create(this,this.keyboardHookProc);this.get_element().setAttribute('name',(Ribbon.PaneWnd).get_fullName());this.set_allowEventBubbling(true);}
Ribbon.PaneWnd.prototype={$4_0:null,get_pane:function(){return this.$4_0;},$4_1:null,$4_2:null,$4_3:null,setRibbonPane:function(oPane){if(oPane==null){throw new Error('Null Reference Exception : '+'oPane');}if(this.$4_0===oPane){return;}this.$4_0=oPane;this.$4_0.invalidate();this.$4_0.get_elementItem().style.display='';this.get_element().appendChild(this.$4_0.get_elementItem());},show:function(bShow){Ribbon.PaneWnd.callBaseMethod(this, 'show',[bShow]);this.$4_0.set_droppedState(bShow);var $0=this.$4_0;if(!bShow){this.$4_0.get_elementItem().style.display='none';this.$4_0.$1C();this.$4_0=null;}if(bShow){this.$4_4();}else{this.$4_5();}},$4_4:function(){if(2!==this.get_parent().sendMessage('eONDetectMode',null,null)){if(!Kepler.Framework.UI.Events.Hooks.MouseHook.isRegistered(this.$4_1)){Kepler.Framework.UI.Events.Hooks.MouseHook.register(this.$4_1);}if(!Kepler.Framework.UI.Events.Hooks.TouchHook.isRegistered(this.$4_1)){Kepler.Framework.UI.Events.Hooks.TouchHook.register(this.$4_1);}if(!Kepler.Framework.UI.Events.Hooks.KeyboardHook.isRegistered(this.$4_3)){Kepler.Framework.UI.Events.Hooks.KeyboardHook.register(this.$4_3);}}},$4_5:function(){Kepler.Framework.UI.Events.Hooks.MouseHook.unRegister(this.$4_1);Kepler.Framework.UI.Events.Hooks.TouchHook.unRegister(this.$4_1);Kepler.Framework.UI.Events.Hooks.KeyboardHook.unRegister(this.$4_3);},$4_6:function($p0){var $0=$p0.get_type();var $1=$p0.get_target();var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getParentElementByName($1,(Ribbon.PaneWnd).get_fullName());var $3=Kepler.Engine.UI.Helper.HtmlCssHelper.isElemOut('.menuWnd',$1);if($3&&Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){var $4=$p0;if(Kepler.Engine.UI.Controls.Control.get_getGestureTouchCount()>0&&$4.get_touches().length>1){var $enum1=ss.IEnumerator.getEnumerator($4.get_touches());while($enum1.moveNext()){var $5=$enum1.current;var $6=new Kepler.Framework.UI.Point($5.get_clientX(),$5.get_clientY());if(this.get_clientRect().isPtInRect($6.get_x(),$6.get_y())){$3=false;break;}}}}switch($0){case Kepler.Framework.UI.Events.EventArgsNs.EventType.touchStart:case Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseDown:if($2!==this.get_element()&&$3){(this.get_parent()).sendMessage('msg_hide_pane_as_menu',this,null);}break;case Kepler.Framework.UI.Events.EventArgsNs.EventType.touchEnd:case Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseUp:if($2!==this.get_element()&&$3){Kepler.Engine.UI.Controls.Control.stopHookEventPropagation($p0);}else{if(!Kepler.Engine.UI.Helper.HtmlCssHelper.isElemOut('.paneWnd',$1)){}else if($3){(this.get_parent()).sendMessage('msg_hide_pane_as_menu',this,null);}}break;default:if($2!==this.get_element()&&$3){Kepler.Engine.UI.Controls.Control.stopHookEventPropagation($p0);}break;}return false;},$4_7:function($p0){return this.$4_6($p0);},keyboardHookProc:function(evt){var $0=evt.get_type();var $1=false;switch($0){case Kepler.Framework.UI.Events.EventArgsNs.EventType.keyDown:var $2=evt;var $3=$2.get_key();if($3===Kepler.Framework.UI.Events.EventArgsNs.Keys.escape){var $4=this.get_parent().sendMessage('msg_is_any_menu_in_view',null,null);if(!$4){(this.get_parent()).sendMessage('msg_hide_pane_as_menu',this,null);$1=true;}}else if($3===Kepler.Framework.UI.Events.EventArgsNs.Keys.menu){(this.get_parent()).sendMessage('msg_hide_pane_as_menu',this,null);$1=true;}if($1){var $5=Kepler.Engine.UI.Engine$1D.get_$4_2();if($5.get_$4_7()){$5.$4_D(evt);}}break;default:break;}return $1;}}
Ribbon.RibbonMessages=function(){}
Ribbon.RibbonItemState=function(bDontCare){bDontCare=(ss.isNullOrUndefined(bDontCare))?false:bDontCare;this.set_checked((bDontCare)?1000:0);this.$2=(bDontCare)?1000:0;this.$3=(bDontCare)?1000:0;this.$4=-1;this.$5='';this.$6='';this.$7='';this._strKbrdShortcut='';}
Ribbon.RibbonItemState.prototype={$0:0,get_checked:function(){return this.$0;},set_checked:function(value){this.$0=value;this.set_checkable(value!==1000);return value;},$1:false,get_checkable:function(){return this.$1;},set_checkable:function(value){this.$1=value;return value;},$2:0,get_highlighted:function(){return this.$2;},set_highlighted:function(value){this.$2=value;return value;},$3:0,get_enabled:function(){return this.$3;},set_enabled:function(value){this.$3=value;return value;},$4:0,get_selectedIndex:function(){return this.$4;},set_selectedIndex:function(value){this.$4=value;return value;},$5:null,get_imageClass:function(){return this.$5;},set_imageClass:function(value){this.$5=value;return value;},$6:null,get_text:function(){return this.$6;},set_text:function(value){this.$6=value;return value;},$7:null,get_toolTip:function(){return this.$7;},set_toolTip:function(value){this.$7=value;return value;},_strKbrdShortcut:null,get_kbrdShortcut:function(){return this._strKbrdShortcut;},set_kbrdShortcut:function(value){this._strKbrdShortcut=value;return value;},copy:function(oItemState){if(ss.isValue(oItemState)){this.$3=oItemState.get_enabled();this.$0=oItemState.get_checked();this.$1=oItemState.get_checkable();this.$2=oItemState.get_highlighted();this.$4=oItemState.get_selectedIndex();this.$5=oItemState.get_imageClass();this.$6=oItemState.get_text();this.$7=oItemState.get_toolTip();this._strKbrdShortcut=oItemState.get_kbrdShortcut();}},or:function(newState){if((this.$3===1000)){this.$3=newState.get_enabled();}if((this.$0===1000)){this.set_checked(newState.get_checked());}if((this.$2===1000)){this.$2=newState.get_highlighted();}this.set_selectedIndex(newState.get_selectedIndex());if(!String.isNullOrEmpty(newState.get_imageClass())){this.$5=newState.get_imageClass();}if(!String.isNullOrEmpty(newState.get_text())){this.$6=newState.get_text();}if(!String.isNullOrEmpty(newState.get_toolTip())){this.$7=newState.get_toolTip();}if(!String.isNullOrEmpty(newState.get_kbrdShortcut())){this._strKbrdShortcut=newState.get_kbrdShortcut();}},clone:function(){var $0=new Ribbon.RibbonItemState();$0.copy(this);return $0;}}
Ribbon.ItemAction=function(){this.$0=false;this.$1=-1;this.$2=-1;this.$3=0;this.$4=-1;this.$6='';this.$5='';}
Ribbon.ItemAction.prototype={$0:false,get_checkWithViewInBool:function(){return this.$0;},set_checkWithViewInBool:function(value){this.$0=value;return value;},$1:0,get_id:function(){return this.$1;},set_id:function(value){this.$1=value;return value;},$2:0,get_index:function(){return this.$2;},set_index:function(value){this.$2=value;return value;},$3:0,get_frameJump:function(){return this.$3;},set_frameJump:function(value){this.$3=value;return value;},$4:0,get_subFrameJump:function(){return this.$4;},set_subFrameJump:function(value){this.$4=value;return value;},$5:null,get_text:function(){return this.$5;},set_text:function(value){this.$5=value;return value;},$6:null,get_checkWithViewInText:function(){return this.$6;},set_checkWithViewInText:function(value){this.$6=value;return value;},copy:function(oItemAction){if(ss.isValue(oItemAction)){this.$0=oItemAction.get_checkWithViewInBool();this.$1=oItemAction.get_id();this.$2=oItemAction.get_index();this.$3=oItemAction.get_frameJump();this.$4=oItemAction.get_subFrameJump();this.$6=oItemAction.get_checkWithViewInText();this.$5=oItemAction.get_text();}},clone:function(){var $0=new Ribbon.ItemAction();$0.copy(this);return $0;}}
Ribbon.TabHeaderInfo=function(){this._sTabHeaderText='';this._lstSpecialTabs=[];this._eAlignment=Kepler.Framework.UI.HorzAlignment.center;this._eColor=3;this.iTabHeaderWidth=-1;}
Ribbon.TabHeaderInfo.prototype={_sTabHeaderText:null,_lstSpecialTabs:null,_eAlignment:0,_eColor:0,_elemTabHeader:null,iTabHeaderWidth:0}
Ribbon.TabMode=function(){this.lstTabId=[];this.lstOtherModes=[];this.iMode=-1;this.iActiveTab=-1;}
Ribbon.TabMode.prototype={iMode:0,lstTabId:null,lstOtherModes:null,iActiveTab:0}
Ribbon.MiscCtrlItemState=function(){this._iId=-1;this._iImageHeight=0;this._iImageWidth=0;this._iItemWidth=0;this._iItemHeight=0;this._strAccelerator='';this._strShortCut='';this._lstItemImgPos=[];this._lstTooltipParams=[];this._ptImgPosition=null;}
Ribbon.MiscCtrlItemState.prototype={_iId:0,_iImageHeight:0,_iImageWidth:0,_iItemWidth:0,_iItemHeight:0,_iItemCount:0,_lstTooltipParams:null,_strAccelerator:null,_strShortCut:null,_strImageCls:null,_strItemsImgCls:null,_ptImgPosition:null,_lstItemImgPos:null}
Ribbon.AddRemoveRibbonItem=function(){this._bAdd=true;this._iRibbonItemId=-1;this._iRole=-1;this._strRibbonText='';this._rcItemRect=new Kepler.Framework.UI.Rect(0,0,0,0);this._rcItemTouchRect=new Kepler.Framework.UI.Rect(0,0,0,0);this._strCssClass='';this._strKbdShortcut='';this._iMenuNo=-1;this._iRtClkMenuNo=-2;}
Ribbon.AddRemoveRibbonItem.prototype={_bAdd:false,_iParentRibbonId:0,_iRole:0,_iRibbonItemId:0,_rcItemRect:null,_rcItemTouchRect:null,_iMenuNo:0,_iRtClkMenuNo:0,_strRibbonText:null,_strCssClass:null,_strKbdShortcut:null}
Ribbon.ColorParts=function(){}
Ribbon.RowDetails=function(lstColor,eRowType,iRowIdx){this._lstColor=lstColor;this._eRowType=eRowType;this._iRowIdx=iRowIdx;}
Ribbon.RowDetails.prototype={_lstColor:null,_eRowType:0,_iRowIdx:0}
Ribbon.ColorItem=function(color,strTooltip){this.$0=color;this.$1=strTooltip;}
Ribbon.ColorItem.prototype={$0:null,get_color:function(){return this.$0;},$1:null,get_tooltip:function(){return this.$1;}}
Ribbon.RibbonItemComboBox=function(){Ribbon.RibbonItemComboBox.initializeBase(this);this._oTextBox=new Ribbon.RibbonItemBuddyTextBox();this.$F=[];this.$10=new Kepler.Framework.Core.Timers.Timer(ss.Delegate.create(this,this.onTimerKeyDown),2);this._elemItem=document.createElement('div');}
Ribbon.RibbonItemComboBox.prototype={menuparT_MOUSE_WT:12,menuparT_TOUCH_WT:18,$E:null,$F:null,$10:null,_iShortcutMenu:0,get_shortcutMenu:function(){return this._iShortcutMenu;},set_shortcutMenu:function(value){this._iShortcutMenu=value;return value;},get_shouldShowMenuInHintMode:function(){return this._iHighlight===2;},initialise:function(iId,rcMouse,rcTouch,iMenuNo,iRtClkMenu,strText,strImageClass,oMsgParent){Ribbon.RibbonItemComboBox.callBaseMethod(this, 'initialise',[iId,rcMouse,rcTouch,iMenuNo,iRtClkMenu,strText,strImageClass,oMsgParent,new Kepler.Framework.UI.Rect(-1,-1,rcMouse.get_width()-(this.menuparT_MOUSE_WT+1),rcMouse.get_height()),new Kepler.Framework.UI.Rect(-1,-1,rcTouch.get_width()-(this.menuparT_TOUCH_WT+1),rcTouch.get_height())]);},createRibbonItem:function(bTouchMode){Ribbon.RibbonItemComboBox.callBaseMethod(this, 'createRibbonItem',[bTouchMode]);var $0=this.getItemRect(bTouchMode);this._elemItem.style.position='absolute';this.setItemRect(this._elemItem,$0);this._elemItem.className='combo_normal';var $1=document.createElement('div');$1.className='combo_DownBtn';$1.style.width=((bTouchMode)?this.menuparT_TOUCH_WT:this.menuparT_MOUSE_WT)+'px';$1.setAttribute('controltype','menubutton');$1.rbnItem=this;$1.setAttribute('role','button');var $2=document.createElement('div');$2.className='combo_arr'+' '+'class_ImgPath_Arrow '+' '+'arrow_down '+' '+'arr_normal ';$1.appendChild($2);$2.style.top=($0.get_height()-3)/2+'px';this._elemItem.appendChild($1);},drawItem:function(element){if(!this._iEnabled){return;}this.drawState(element);},drawEnabledDisabledState:function(){this.enableDisableArrow(this._elemItem.childNodes[1].firstChild);if(!this._iEnabled){Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this._elemItem,'combo_disabled');}else{Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(this._elemItem,'combo_disabled');}},drawHighlightedState:function(){Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(this._elemItem,'class_visual_hint ');Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(this._elemItem.childNodes[1],'class_visual_hint ');if(this._iHighlight===2){Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this._elemItem.childNodes[1],'class_visual_hint ');}else if(this._iHighlight===3){Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this._elemItem,'class_visual_hint ');}},drawState:function(element){switch(this._eToState){case Kepler.Framework.UI.Controls.EItemState.eNormal:this._oTextBox.changeState(Kepler.Framework.UI.Controls.EItemState.eNormal,this._elemItem.childNodes[0]);this._elemItem.style.borderColor=(!this._iFocus)?'':Kepler.Engine.Core.EngineApp.get_engine().get_currentApp().getAppFrame().get_themeDetails().get_colorPressed();var $0=this._elemItem.childNodes[1];$0.style.backgroundColor='';$0.style.borderColor='';$0.firstChild.style.opacity='';break;case Kepler.Framework.UI.Controls.EItemState.eHover:this._oTextBox.changeState(Kepler.Framework.UI.Controls.EItemState.eHover,this._elemItem.childNodes[0]);this._elemItem.style.borderColor=this._oThemeDetails.get_colorPressed();if(element===this._elemItem.childNodes[1]){element.style.borderColor=this._oThemeDetails.get_colorPressed();element.style.backgroundColor=this._oThemeDetails.get_colorHover();element.firstChild.style.opacity='1';}break;case Kepler.Framework.UI.Controls.EItemState.ePressedHover:case Kepler.Framework.UI.Controls.EItemState.ePressed:this._elemItem.style.borderColor=this._oThemeDetails.get_colorPressed();if(element===this._elemItem.childNodes[1]){element.style.backgroundColor=this._oThemeDetails.get_colorPressed();element.style.borderColor=this._oThemeDetails.get_colorPressed();element.firstChild.style.opacity='1';}break;default:break;}},toString:function(){return 'RibbonItemComboBox';},getPopupMenuRect:function(element){var $0=Ribbon.RibbonItemComboBox.callBaseMethod(this, 'getPopupMenuRect',[element]);$0.set_height($0.get_height()+2);return $0;},getTtLaunchParams:function(element,ptTooltip){element=this._elemItem;if(ss.isValue(ptTooltip)){ptTooltip.set_x(this.getPopupMenuRect(element).get_left());}return Ribbon.RibbonItemComboBox.callBaseMethod(this, 'getTtLaunchParams',[element,ptTooltip]);},showMenu:function(element,bDefActiveItem){Ribbon.RibbonItemComboBox.callBaseMethod(this, 'showMenu',[element,bDefActiveItem]);if(this.$E==null){this.$E=this._oMsgParent.sendMessage('msg_get_menu_wnd',this._iMenuNo,null);}this.getActiveIndices(this.get_text(),true);if(this.$F.length>0){var $0=this.$F[0];var $1=this.$F[1];var $2=this.$E.get_menuItems()[$0];var $3=null;if($2.get_menuSubItemCount()>0){if($1>=0&&$1<($2).get_subItemsElement().length){$3=($2).get_subItemsElement()[$1];}}else{$3=this.$E.getElementFromItem($2);}this.$E.setActiveItem($2,$3);if(this.$F[0]!==-1&&this.$F[1]!==-1&&this.$E.get_menuItems()[this.$F[0]].get_menuSubItemCount()>0){(this.$E.get_menuItems()[this.$F[0]]).scrollToItem(this.$F[1]);}}},getActiveIndices:function(strText,bMatchEntireString){this.$F.clear();strText=strText.replaceAll(String.fromCharCode(160),' ');if(ss.isValue(this.$E)&&!String.isNullOrEmpty(strText)){var $0=this.$E.get_menuItems();this.$11(strText,bMatchEntireString,$0,-1);}},$11:function($p0,$p1,$p2,$p3){for(var $0=0;$0<$p2.length;$0++){var $1=$p2[$0];if((Kepler.Engine.UI.Menu.ListMenuCtrl).isInstanceOfType($1)&&$1.get_menuSubItemCount()>0){this.$11($p0,$p1,($1).get_menuSubItems(),$0);}else{if($p1){if(!$p0.compareTo($1.get_text(),true)){if($p3!==-1){this.$F.add($p3);}this.$F.add($0);return;}}else{if($1.get_text().toLowerCase().startsWith($p0.toLowerCase())&&!$1.get_isSeperator()){if($p3!==-1){this.$F.add($p3);}this.$F.add($0);return;}}}}},getActiveText:function(){var $0='';if(ss.isValue(this.$E)){var $1=this.$E.get_hoverItem();if(ss.isValue($1)){if((Kepler.Engine.UI.Menu.ListMenuCtrl).isInstanceOfType($1)&&$1.get_menuSubItemCount()>0){$0=($1).get_menuSubItems()[($1).get_menuHoverSubItem()].get_text();}else{$0=$1.get_text();}}}return $0;},toggleMode:function(bMode){Ribbon.RibbonItemComboBox.callBaseMethod(this, 'toggleMode',[bMode]);var $0=this.getItemRect(bMode);this.setItemRect(this._elemItem,$0);this._elemItem.childNodes[1].style.width=((bMode)?this.menuparT_TOUCH_WT:this.menuparT_MOUSE_WT)+'px';this._elemItem.childNodes[1].firstChild.style.top=($0.get_height()-3)/2+'px';},$A:function(){if(this._iShortcutMenu!==1){if((Ribbon.RibbonItemContainer).isInstanceOfType(this._oMsgParent)){this._oMsgParent.sendMessage('msg_set_focus',this,null);}return 7;}else{return Ribbon.RibbonItemComboBox.callBaseMethod(this, '$A');}},processEnter:function(KeyEvtArgs){Kepler.Engine.UI.Menu.MenuWnd.menU_CHECK_ACTION=false;this._oMsgParent.sendMessage('msg_hide_menu',null,null);this._oMsgParent.sendMessage('msg_focus_view',null,null);KeyEvtArgs.set_propogationStopped(true);KeyEvtArgs.set_defaultPrevented(true);return true;},processTabNavigation:function(KeyEvtArgs){KeyEvtArgs.set_defaultPrevented(true);return Ribbon.RibbonItemComboBox.callBaseMethod(this, 'processTabNavigation',[KeyEvtArgs]);},processEscape:function(KeyEvtArgs){(this._oMsgParent).resetRibbonItemState(this);Kepler.Engine.UI.Menu.MenuWnd.menU_CHECK_ACTION=false;this._oMsgParent.sendMessage('msg_hide_menu',null,null);this._oMsgParent.sendMessage('msg_focus_view',null,null);KeyEvtArgs.set_propogationStopped(true);KeyEvtArgs.set_defaultPrevented(true);return true;},processPrevArrow:function(KeyEvtArgs){if(!(this._oMsgParent).get_isMenuDropDown()&&this._iMenuNo!==-1){this.launchMenu(this._elemItem.childNodes[1],false);}var $0=this.getActiveText();if(!String.isNullOrEmpty($0)){this.set_text($0);this._oTextBox.setSelection(0,this.get_text().length);}KeyEvtArgs.set_defaultPrevented(true);return true;},processNextArrow:function(KeyEvtArgs){return this.processPrevArrow(KeyEvtArgs);},processDefault:function(KeyEvtArgs){if(0!==this._oMsgParent.sendMessage('eONDetectMode',null,null)&&this._iHighlight!==1){return true;}return Ribbon.RibbonItemComboBox.callBaseMethod(this, 'processDefault',[KeyEvtArgs]);},onKeyPress:function(KeyEvtArgs){this._oTextBox.onKeyPress(KeyEvtArgs);if(this.$E==null){this.$E=this._oMsgParent.sendMessage('msg_get_menu_wnd',this._iMenuNo,null);}this.getActiveIndices(this.get_text(),false);if(this.$F.length>0){var $0=this.$F[0];var $1=this.$F[1];var $2=this.$E.get_menuItems()[$0];var $3=$2;var $4=null;if($2.get_menuSubItemCount()>0){if($1>=0&&$1<$2.get_menuSubItemCount()){$4=($2).get_subItemsElement()[$1];if((Kepler.Engine.UI.Menu.ListMenuCtrl).isInstanceOfType($2)){$3=($2).get_menuSubItems()[$1];}}}else{$4=this.$E.getElementFromItem($2);}this.$E.setActiveItem($2,$4);if(this.$F[0]!==-1&&this.$F[1]!==-1&&this.$E.get_menuItems()[this.$F[0]].get_menuSubItemCount()>0){(this.$E.get_menuItems()[this.$F[0]]).scrollToItem(this.$F[1]);}if(!String.isNullOrEmpty($3.get_text())){if(KeyEvtArgs.get_key()!==Kepler.Framework.UI.Events.EventArgsNs.Keys.back){var $5=this.get_text();this.set_text($3.get_text());this._oTextBox.setSelection($5.length,this.get_text().length);}}}else{this.$E.resetActiveItem();}},onTimerKeyDown:function(oTimerArgs){this.$10.stop();var $0=oTimerArgs;if(Kepler.Framework.Core.StringUtils.isPrintable($0.get_key(),'')){this.getActiveIndices(this.get_text(),false);if(this.$F.length>0){var $1=this.$F[0];var $2=this.$F[1];var $3=this.$E.get_menuItems()[$1];var $4=$3;var $5=null;if($3.get_menuSubItemCount()>0){if($2>=0&&$2<$3.get_menuSubItemCount()){$5=($3).get_subItemsElement()[$2];if((Kepler.Engine.UI.Menu.ListMenuCtrl).isInstanceOfType($3)){$4=($3).get_menuSubItems()[$2];}}}else{$5=this.$E.getElementFromItem($3);}this.$E.setActiveItem($3,$5);if(this.$F[0]!==-1&&this.$F[1]!==-1&&this.$E.get_menuItems()[this.$F[0]].get_menuSubItemCount()>0){(this.$E.get_menuItems()[this.$F[0]]).scrollToItem(this.$F[1]);}if(!String.isNullOrEmpty($4.get_text())){if($0.get_key()!==Kepler.Framework.UI.Events.EventArgsNs.Keys.back){var $6=this.get_text();this.set_text($4.get_text());this._oTextBox.setSelection($6.length,this.get_text().length);}}}else{this.$E.resetActiveItem();}}},onKillFocus:function(){this._oTextBox.killFocus();this._iFocus=this._oTextBox.get_focus();this.changeState(Kepler.Framework.UI.Controls.EItemState.eNormal,this.get_elementItem());this.drawItem(null);var $0=ss.isValue(this.$E)&&this.$E.get_visible()&&(this.$E.get_msgParent()).isMenuInView(this.$E.get_menuNo());if(!Kepler.Engine.UI.Menu.MenuWnd.menU_CHECK_ACTION||!$0){Kepler.Engine.UI.Menu.MenuWnd.menU_CHECK_ACTION=true;var $1='';var $2=this._oMsgParent.sendMessage('msg_get_override_maps',null,null);var $3=null;for(var $4=0;$4<$2.length&&String.isNullOrEmpty($1);$4++){if(ss.isValue($3=$2[$4][this.get_id()])){$1=$3.get_text();}}if(!$1.compareTo('-1',false)){$1='';}if(!$1.compareTo(this.get_text(),true)){return;}this._oMsgParent.sendMessage('msg_ribbon_item_command',this,null);}}}
Ribbon.RibbonItemContainer=function(strId,strCls,bTouchMode){Ribbon.RibbonItemContainer.initializeBase(this,[strCls,strId]);this.set_neverSpeechAriaText(true);Kepler.Engine.UI.Helper.HtmlCssHelper.addElementAttribute(this.get_element(),'name','ribbon_item_container');this._bCapture=false;this._bRDownCapture=false;this._bRUpFromRDown=false;this._bParsingDone=false;this._bTouchMode=bTouchMode;this._bAltMode=false;this._bTutStepsTagPresent=false;this._iHighlightedItemsIdx=0;this._oPreFocusCtrl=null;this._oCurRbnItem=null;this._oFocusRbnItem=null;this.$4_2=Kepler.Engine.UI.DesktopWnd.get_instance().get_tooltipManager();this.$4_3=new Kepler.Framework.Core.Timers.Timer(ss.Delegate.create(this,this.$4_13),Kepler.Engine.UI.Controls.Control.get_gestureManager().get_doubleClickInterval());this._rbnMenuLaunched=null;this.$4_0=null;this._lstAction=[];this._lstActionDblClk=[];this._lstHighlightedItems=[];this.$4_1=[];this._mapRibbonItem={};this._mapDefaultState={};this._mapOverrideState={};this._mapTempOverrideState={};this._mapOverrideShowHideState={};this._mapDefaultShowHideState={};this._mapDialogLaunchingRibbonItem={};this._mapDynamicDialogLaunchingRibbonItem={};this.set_donotHandleFocusOnLButtonDown(true);this.set_rightClickEventNeeded(true);this.set_dblClickEventNeeded(true);this._lstAddRemoveItems=[];}
Ribbon.RibbonItemContainer.prototype={_bCapture:false,_bRDownCapture:false,_bRUpFromRDown:false,_rcCurItem:null,_elemCurParent:null,_rbnMenuLaunched:null,get_rbnMenuLaunched:function(){return this._rbnMenuLaunched;},$4_0:null,_strTaitPrefix:null,_lstAction:null,_lstActionDblClk:null,_iHighlightedItemsIdx:0,_bTutStepsTagPresent:false,_mapRibbonItem:null,_mapDefaultState:null,_mapOverrideState:null,_mapDefaultShowHideState:null,_mapOverrideShowHideState:null,$4_1:null,_mapTempOverrideState:null,_mapDialogLaunchingRibbonItem:null,_mapDynamicDialogLaunchingRibbonItem:null,$4_2:null,$4_3:null,$4_4:null,get_strIDPrefix:function(){return this.$4_4;},set_strIDPrefix:function(value){this.$4_4=value;return value;},get_menuLaunchedFromItem:function(){return this._rbnMenuLaunched;},set_menuLaunchedFromItem:function(value){this._rbnMenuLaunched=value;return value;},_bTouchMode:false,get_touchMode:function(){return this._bTouchMode;},_oCurRbnItem:null,get_currentItem:function(){return this._oCurRbnItem;},_oFocusRbnItem:null,get_focusItem:function(){var $0=this._oFocusRbnItem;if(ss.isValue($0)){while(ss.isValue($0.get_focusedRbnItem())){$0=$0.get_focusedRbnItem();}}return $0;},_bMenuDropDown:false,get_isMenuDropDown:function(){return this._bMenuDropDown;},_bParsingDone:false,get_parsingDone:function(){return this._bParsingDone;},_oPreFocusCtrl:null,get_preFocusedCtrl:function(){return this._oPreFocusCtrl;},set_preFocusedCtrl:function(value){this._oPreFocusCtrl=value;return value;},_bAltMode:false,get_altMode:function(){return this._bAltMode;},set_altMode:function(value){this._bAltMode=value;return value;},_lstHighlightedItems:null,get_highlightedItems:function(){return this._lstHighlightedItems;},_lstAddRemoveItems:null,get_ariaSpeech:function(){if(this.get_focusItem()!=null){return this.get_focusItem().$B();}return '';},set_ariaSpeech:function(value){Ribbon.RibbonItemContainer.callBaseMethod(this, 'set_ariaSpeech',[value]);return value;},createImageList:function(){},addImage:function(strKey,strValue){(this.get_parent()).addImage(strKey,strValue);},dynamicRibbonChange:function(mapItemState){if(ss.isValue(this._mapTempOverrideState)){var $dict1=mapItemState;for(var $key2 in $dict1){var $0={key:$key2,value:$dict1[$key2]};var $1=$0.key;if(Object.keyExists(this._mapTempOverrideState,$1)){delete this._mapTempOverrideState[$1];}}this.resetOverrides(this._mapTempOverrideState);}this._mapTempOverrideState=mapItemState;this.setOverrides(this._mapTempOverrideState);this.setOverrides(this._mapOverrideState);},setData:function(mapData){this.$4_A(mapData);this.setActionData(mapData);this.$4_7(mapData);this.setOverrideData(mapData);this.setRibbonItemShowHide(mapData);this.setControlActionData(mapData);this.$4_5(mapData);},$4_5:function($p0){this.$4_1.clear();var $0=$p0[this._strTaitPrefix+'_item_remove_dialog_mapping_id'];if(ss.isValue($0)&&$0.length>0){var $1=$0.split(Kepler.Framework.Core.Seperators.PIPE);for(var $2=0;$2<$1.length;$2++){this.$4_1.add(parseInt($1[$2]));}}},setRibbonItemShowHide:function(mapData){this.$4_6();var $0=mapData[this._strTaitPrefix+'_item_showhide'];if(ss.isValue($0)&&$0.length>0){var $1=$0.split(Kepler.Framework.Core.Seperators.spikeD_CIRCLE);for(var $2=0;$2<$1.length;$2++){var $3=$1[$2].split(Kepler.Framework.Core.Seperators.PIPE);var $4=this.getRibbonItemFromId(parseInt($3[0]));var $5=(parseInt($3[1])>0)?true:false;if(ss.isValue($4)){$4.set_visible($5);this._mapOverrideShowHideState[$4.get_id()]=$5;}}}},$4_6:function(){var $dict1=this._mapOverrideShowHideState;for(var $key2 in $dict1){var $0={key:$key2,value:$dict1[$key2]};var $1=$0.key;var $2=this._mapDefaultShowHideState[$1];if(ss.isValue($2)){var $3=this.getRibbonItemFromId($1);$3.set_visible($2);}}Object.clearKeys(this._mapOverrideShowHideState);},setOverrideData:function(mapData){var $0=9;this._lstHighlightedItems.clear();this._iHighlightedItemsIdx=0;this.resetOverrides(this._mapOverrideState);this.resetOverrides(this._mapTempOverrideState);var $1=Kepler.Engine.Core.TaitHelper.parseCountDataTags(mapData,this._strTaitPrefix+'_override_count',this._strTaitPrefix+'_override_data');if(ss.isValue($1)){var $enum1=ss.IEnumerator.getEnumerator($1);while($enum1.moveNext()){var $2=$enum1.current;var $3=new Ribbon.RibbonItemState();var $4=$2.split(Kepler.Framework.Core.Seperators.miD_DOT,$0);var $5=parseInt($4[0],10);$3.set_enabled(parseInt($4[1],10));$3.set_checked(parseInt($4[2],10));$3.set_selectedIndex(parseInt($4[3],10));$3.set_highlighted(parseInt($4[4],10));$3.set_imageClass($4[5]);$3.set_text($4[6]);$3.set_toolTip($4[7]);$3.set_kbrdShortcut($4[8]);this._mapOverrideState[$5]=$3;}this.setOverrides(this._mapOverrideState);}if(0!==this.sendMessageToParent('eONDetectMode',null,null)){this.autoHighlightAndSort();}},autoHighlightAndSort:function(){this.autoHighlight();this.sortHighlightedItems();},sortHighlightedItems:function(){var $0=new Array(2);var $1=new Array(3);var $2=-1;var $3=-1;var $enum1=ss.IEnumerator.getEnumerator(this._lstHighlightedItems);while($enum1.moveNext()){var $4=$enum1.current;$2=$4.get_id();$3=this._mapOverrideState[$2].get_highlighted();if(ss.isValue($4)&&$4.isRbnItemHighlighted($3)){if((Ribbon.RibbonTab).isInstanceOfType($4)){if((Ribbon.RibbonTabForFileTab).isInstanceOfType($4)){if(!($4).get_ribbonTabType()){$1[0]=$4;}else if(($4).get_ribbonTabType()===1){$1[1]=$4;}else if(($4).get_ribbonTabType()===2){$1[2]=$4;}}else{$1[0]=$4;}}else if((Ribbon.RibbonPane).isInstanceOfType($4)){$0[0]=$4;}else if(!!($4.get_id()%100)){$0[1]=$4;}}}this._lstHighlightedItems.clear();var $enum2=ss.IEnumerator.getEnumerator($1);while($enum2.moveNext()){var $5=$enum2.current;if(ss.isValue($5)){this.addHighlightedItem($5);}}var $enum3=ss.IEnumerator.getEnumerator($0);while($enum3.moveNext()){var $6=$enum3.current;if(ss.isValue($6)){this.addHighlightedItem($6);}}},addHighlightedItem:function(oItem){if(!this._lstHighlightedItems.contains(oItem)){this._lstHighlightedItems.add(oItem);}},autoHighlight:function(){},fetchRibbonPane:function(oItem){while(ss.isValue(oItem)&&!(Ribbon.RibbonPane).isInstanceOfType(oItem)){oItem=oItem.get_parentRibbonItem();}return oItem;},fetchRibbonTab:function(oItem){while(ss.isValue(oItem)&&!(Ribbon.RibbonTab).isInstanceOfType(oItem)){oItem=oItem.get_parentRibbonItem();}return oItem;},autoHighlightItem:function(iId,iIndex,iHighlight){var $0=new Ribbon.RibbonItemState(true);$0.set_selectedIndex(iIndex);$0.set_highlighted(iHighlight);this._mapOverrideState[iId]=$0;this.setState(iId,$0);},setActionData:function(mapData){var $0=9;this._lstAction.clear();var $1=Kepler.Engine.Core.TaitHelper.parseCountDataTags(mapData,this._strTaitPrefix+'_action_count',this._strTaitPrefix+'_action_data');if(ss.isValue($1)){var $enum1=ss.IEnumerator.getEnumerator($1);while($enum1.moveNext()){var $2=$enum1.current;var $3=new Ribbon.ItemAction();var $4=$2.split(Kepler.Framework.Core.Seperators.miD_DOT,$0);$3.set_id(parseInt($4[0],10));$3.set_index(parseInt($4[1],10));$3.set_frameJump(parseInt($4[2],10));$3.set_subFrameJump(parseInt($4[3],10));$3.set_checkWithViewInBool((1===parseInt($4[4],10)));$3.set_checkWithViewInText($4[5]);this._lstAction.add($3);}}},$4_7:function($p0){var $0=9;this._lstActionDblClk.clear();var $1=Kepler.Engine.Core.TaitHelper.parseCountDataTags($p0,this._strTaitPrefix+'_dblclk_action_count',this._strTaitPrefix+'_dblclk_action_data');if(ss.isValue($1)){var $enum1=ss.IEnumerator.getEnumerator($1);while($enum1.moveNext()){var $2=$enum1.current;var $3=new Ribbon.ItemAction();var $4=$2.split(Kepler.Framework.Core.Seperators.miD_DOT,$0);$3.set_id(parseInt($4[0],10));$3.set_index(parseInt($4[1],10));$3.set_frameJump(parseInt($4[2],10));$3.set_subFrameJump(parseInt($4[3],10));$3.set_checkWithViewInBool((1===parseInt($4[4],10)));$3.set_checkWithViewInText($4[5]);this._lstActionDblClk.add($3);}}},setControlActionData:function(mapData){var $0=9;var $1=Kepler.Engine.Core.TaitHelper.parseCountDataTags(mapData,'ribbon_control'+'_action_count','ribbon_control'+'_action_data');if(ss.isValue($1)){var $enum1=ss.IEnumerator.getEnumerator($1);while($enum1.moveNext()){var $2=$enum1.current;var $3=new Ribbon.ItemAction();var $4=$2.split(Kepler.Framework.Core.Seperators.miD_DOT,$0);$3.set_id(parseInt($4[0],10));$3.set_index(parseInt($4[1],10));$3.set_text($4[2]);$3.set_frameJump(parseInt($4[3],10));$3.set_subFrameJump(parseInt($4[4],10));$3.set_checkWithViewInBool((1===parseInt($4[5],10)));$3.set_checkWithViewInText($4[6]);this._lstAction.add($3);}}},setOverrides:function(mapItemState){var $dict1=mapItemState;for(var $key2 in $dict1){var $0={key:$key2,value:$dict1[$key2]};var $1=$0.key;var $2=$0.value;this.setState($1,$2);}},resetOverrides:function(mapItemState){var $dict1=mapItemState;for(var $key2 in $dict1){var $0={key:$key2,value:$dict1[$key2]};var $1=$0.key;var $2=this._mapDefaultState[$1];if(ss.isValue($2)){this.setState($1,$2);if(!$2.get_highlighted()&&!!$0.value.get_highlighted()){this._mapRibbonItem[$1].changeState(Kepler.Framework.UI.Controls.EItemState.eNormal,null);}}}Object.clearKeys(mapItemState);},addItemToContainer:function(oRibbonItem,bTouchMode){if(ss.isNullOrUndefined(oRibbonItem)){return;}this._mapRibbonItem[oRibbonItem.get_id()]=oRibbonItem;if(ss.isNullOrUndefined(bTouchMode)){oRibbonItem.createRibbonItem(this._bTouchMode);}else{oRibbonItem.createRibbonItem(bTouchMode);}this.fillDefaultState(oRibbonItem);this._mapDefaultShowHideState[oRibbonItem.get_id()]=oRibbonItem.get_visible();},setDefaultShow:function(oRbnItem){if(ss.isValue(oRbnItem)){this._mapDefaultShowHideState[oRbnItem.get_id()]=oRbnItem.get_visible();}},fillDefaultState:function(oRibbonItem){if(ss.isNullOrUndefined(oRibbonItem)){return;}var $0=new Ribbon.RibbonItemState();$0.set_enabled(oRibbonItem.get_enabled());$0.set_checked((oRibbonItem.get_checked())?1:0);$0.set_selectedIndex(oRibbonItem.get_selectedIndex());$0.set_highlighted(oRibbonItem.get_highlight());$0.set_imageClass(oRibbonItem.get_imageClass());$0.set_text(oRibbonItem.getDefText());$0.set_kbrdShortcut((!oRibbonItem.get_kbrdShortcut())?'-1':oRibbonItem.get_kbrdShortcut());$0.set_toolTip(oRibbonItem.get_toolTip());this._mapDefaultState[oRibbonItem.get_id()]=$0;},getDefaultState:function(iId){return this._mapDefaultState[iId];},setState:function(iId,oState){var $0=this._mapRibbonItem[iId];if(ss.isNullOrUndefined($0)){return;}if((oState.get_enabled()!==1000)){$0.set_enabled(oState.get_enabled());}if((oState.get_checked()!==1000)){$0.set_checked((oState.get_checked()===1));}$0.set_checkable(oState.get_checkable());if((oState.get_highlighted()!==1000)){if($0.isRbnItemHighlighted(oState.get_highlighted())){this.addHighlightedItem($0);if(!this._bTutStepsTagPresent){$0.set_highlight(oState.get_highlighted());}}else{$0.set_highlight(oState.get_highlighted());}}$0.set_selectedIndex(oState.get_selectedIndex());if(!String.isNullOrEmpty(oState.get_imageClass())){$0.set_imageClass(oState.get_imageClass());}if(!String.isNullOrEmpty(oState.get_text())){$0.set_text(oState.get_text());$0.reflectText();}if(!String.isNullOrEmpty(oState.get_kbrdShortcut())){$0.set_kbrdShortcut(oState.get_kbrdShortcut());}if(!String.isNullOrEmpty(oState.get_toolTip())){$0.set_toolTip(oState.get_toolTip());}$0.invalidate();},getCurrentState:function(iRbnItemId){var $0=this._mapRibbonItem[iRbnItemId];if(ss.isValue($0)){return $0.$9();}return null;},getContName:function(oItem){return this._strTaitPrefix.charAt(0).toString().toUpperCase()+this._strTaitPrefix.substring(1,this._strTaitPrefix.length);},getRibbonItemFromId:function(iId){return this._mapRibbonItem[iId];},isActionCorrect:function(oRbnItem,oRbnItemAction,bDblClk){bDblClk=(ss.isValue(bDblClk))?bDblClk:false;var $0=(bDblClk)?this._lstActionDblClk:this._lstAction;var $1=false;var $2=$0.length;var $3=-1;var $4=-1;var $5=0;var $6=41+Kepler.Framework.Core.Seperators.v_CROSS+this.getContName(oRbnItem)+Kepler.Framework.Core.Seperators.doublE_DELTA+oRbnItem.getActionString(bDblClk);var $7='';var $8='';var $9=false;for(var $A=0;$A<$2&&!$5;$A++){var $B=$0[$A];if($B.get_id()===oRbnItem.get_id()){$1=true;if(oRbnItem.isCorrectAction($B)){$5=1;$3=$B.get_frameJump();$4=$B.get_subFrameJump();if($B.get_checkWithViewInBool()){var $C=[];var $D=[];$D[0]=$B.get_checkWithViewInText();var $E=this.get_parent().sendMessage('msg_verify_user_sel',$C,$D);$9=$E;if($C[0]==='ignoreaction'){$5=2;}else{$5=($E)?1:0;if($C.length>1){$8=$C[1];}else{$8=(($E)?32:33)+Kepler.Framework.Core.Seperators.v_CROSS;}$7=Kepler.Framework.Core.Seperators.doublE_DELTA+$8+((ss.isNullOrUndefined($C[0]))?'':$C[0]);}}}}}if(!$1){var $F=false;if(Kepler.Engine.Core.EngineApp.get_engine().shouldSendCommandToApp()){$F=(this.get_parent()).sendMessage('msg_ribbon_item_command',oRbnItem.get_id(),oRbnItem);if($F){$5=2;}}}if(!$5){this.$4_8(oRbnItem);}if(ss.isValue(oRbnItemAction)){oRbnItemAction.set_frameJump($3);oRbnItemAction.set_subFrameJump($4);oRbnItemAction.set_text($6+$7);oRbnItemAction.set_checkWithViewInBool($9);}return $5;},$4_8:function($p0){var $0=this._mapDefaultState[$p0.get_id()];if(!ss.isNullOrUndefined($0)){this.setStateWithoutHighlight($p0.get_id(),$0);}$0=this._mapTempOverrideState[$p0.get_id()];if(!ss.isNullOrUndefined($0)){this.setStateWithoutHighlight($p0.get_id(),$0);}$0=this._mapOverrideState[$p0.get_id()];if(!ss.isNullOrUndefined($0)){this.setStateWithoutHighlight($p0.get_id(),$0);}},setStateWithoutHighlight:function(iId,oState){var $0=this._mapRibbonItem[iId];if(ss.isNullOrUndefined($0)){return;}if((oState.get_enabled()!==1000)){$0.set_enabled(oState.get_enabled());}if((oState.get_checked()!==1000)){$0.set_checked((oState.get_checked()===1));}$0.set_selectedIndex(oState.get_selectedIndex());if(!String.isNullOrEmpty(oState.get_imageClass())){$0.set_imageClass(oState.get_imageClass());}if(!String.isNullOrEmpty(oState.get_text())){$0.set_text(oState.get_text());$0.reflectText();}if(!String.isNullOrEmpty(oState.get_kbrdShortcut())){$0.set_kbrdShortcut(oState.get_kbrdShortcut());}if(!String.isNullOrEmpty(oState.get_toolTip())){$0.set_toolTip(oState.get_toolTip());}$0.invalidate();},resetRibbonItemState:function(oRbnItem){var $0=this._mapDefaultState[oRbnItem.get_id()];if(!ss.isNullOrUndefined($0)){this.setState(oRbnItem.get_id(),$0);}$0=this._mapTempOverrideState[oRbnItem.get_id()];if(!ss.isNullOrUndefined($0)){this.setState(oRbnItem.get_id(),$0);}$0=this._mapOverrideState[oRbnItem.get_id()];if(!ss.isNullOrUndefined($0)){this.setState(oRbnItem.get_id(),$0);}},showTooltip:function(element,mouseEventArgs){if(Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){return;}var $0=[];var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getAttachedObjectFromElementTree(mouseEventArgs.get_relatedTarget(),Ribbon.RibbonItemContainer.ribboN_ITEM,$0);var $2=$0[0];if(ss.isValue($2)&&this._oCurRbnItem!==$1||ss.isNullOrUndefined($2)){var $3=Kepler.Engine.UI.Helper.HtmlCssHelper.getAttachedObjectFromElementTree(element,Ribbon.RibbonItemContainer.ribboN_ITEM,$0);if(ss.isValue($3)){var $4=Kepler.Engine.UI.Controls.Control.getClientPointFromEventArgs(mouseEventArgs);var $5=this.getTtLaunchPt(element,$4);var $6=null;if(ss.isValue($6=$3.getTtLaunchParams(this._elemCurParent,$5))){$6.set_isSetAriaAttribute(true);this.$4_2.showTooltip($6);}}}},getTtLaunchPt:function(element,ptMouse){return null;},hideTooltip:function(){if(Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){return;}this.$4_2.hideTooltip();},$4_9:function($p0,$p1){this.setCurrentItemOnShowMenu($p0);return null;},setCurrentItemOnShowMenu:function(oRbnItem){if(ss.isValue(this._oCurRbnItem)&&this._elemCurParent!=null){this.resetCurrentItem();}this._oCurRbnItem=oRbnItem;this._elemCurParent=oRbnItem.get_elementItem();},resetCurrentItem:function(){if(this.getCapture()===this){this.releaseCapture();}this._bCapture=false;this._bRDownCapture=false;if(ss.isValue(this._oCurRbnItem)&&this._elemCurParent!=null){this._oCurRbnItem.releaseCapture();if(!this.checkItemIsFocused(this._oCurRbnItem)){this._oCurRbnItem.changeState(Kepler.Framework.UI.Controls.EItemState.eNormal,this._elemCurParent);}}this._oCurRbnItem=null;this._elemCurParent=null;},onViewNavigation:function(mapViewData){},setViewType:function(iViewType){},toggleTouchMode:function(bMode){if(this._bTouchMode===bMode){}this._bTouchMode=bMode;},parsingCompleted:function(){this._bParsingDone=true;this.sendMessageToParent('msg_parsing_done',null,null);},addToDialogMap:function(iID,oDlgInfo){if(Object.keyExists(this._mapDialogLaunchingRibbonItem,iID)){}this._mapDialogLaunchingRibbonItem[iID]=oDlgInfo;},shouldLaunchDialog:function(oRbnItem){var $0=true;$0=($0&Object.keyExists(this._mapDialogLaunchingRibbonItem,oRbnItem.get_id()))===1;$0=($0&(!this.$4_1.contains(oRbnItem.get_id())))===1;var $1=this.get_parent().sendMessage('eONDetectMode',null,null);$0=($0&(0===$1||(1===$1&&Kepler.Engine.Core.EngineApp.get_engine().isHintFreeNavigation())))===1;return $0;},launchDialog:function(oRbnItem){return (this.get_parent()).launchDialog(this.getDialogInfo(oRbnItem));},getDialogInfo:function(oRbnItem){var $0=this._mapDialogLaunchingRibbonItem[oRbnItem.get_id()];if(Object.keyExists(this._mapDynamicDialogLaunchingRibbonItem,oRbnItem.get_id())){$0=this._mapDynamicDialogLaunchingRibbonItem[oRbnItem.get_id()];}return $0;},containsItem:function(lstAction,oItem){var $0=null;var $enum1=ss.IEnumerator.getEnumerator(lstAction);while($enum1.moveNext()){var $1=$enum1.current;if($1.get_id()===oItem.get_id()){$0=$1;break;}}return $0;},$4_A:function($p0){this.$4_E();this._lstAddRemoveItems.clear();this.$4_F($p0);this.$4_B();},getBlankRibbonItemFromRole:function(iRole){var $0=null;switch(iRole){case 3:$0=new Ribbon.RibbnItemCheckBox();break;default:break;}return $0;},$4_B:function(){var $enum1=ss.IEnumerator.getEnumerator(this._lstAddRemoveItems);while($enum1.moveNext()){var $0=$enum1.current;var $1=$0._iRibbonItemId;var $2=$0._iParentRibbonId;if(Object.keyExists(this._mapRibbonItem,$1)){var $3=$0._bAdd;if($3){this.$4_C($2,this._mapRibbonItem[$1]);}else{this.$4_D($2,this._mapRibbonItem[$1]);}}}},$4_C:function($p0,$p1){if(ss.isValue($p0)&&$p0!==-1&&Object.keyExists(this._mapRibbonItem,$p0)&&$p1!=null){var $0=this._mapRibbonItem[$p0];if(ss.isValue($0)){$0.addItem($p1);}}},$4_D:function($p0,$p1){if(ss.isValue($p0)&&$p0!==-1&&Object.keyExists(this._mapRibbonItem,$p0)&&$p1!=null){var $0=this._mapRibbonItem[$p0];if(ss.isValue($0)){if(Object.keyExists(this._mapRibbonItem,$p1.get_id())){delete this._mapRibbonItem[$p1.get_id()];}$0.removeItem($p1);}}},$4_E:function(){var $enum1=ss.IEnumerator.getEnumerator(this._lstAddRemoveItems);while($enum1.moveNext()){var $0=$enum1.current;var $1=$0._iRibbonItemId;var $2=$0._iParentRibbonId;if(Object.keyExists(this._mapRibbonItem,$1)){this.$4_D($2,this._mapRibbonItem[$1]);}}},$4_F:function($p0){var $0=11;var $1=Kepler.Engine.Core.TaitHelper.parseCountDataTags($p0,this._strTaitPrefix+'_add_remove_count',this._strTaitPrefix+'_add_remove_data');if(ss.isValue($1)){try{var $enum1=ss.IEnumerator.getEnumerator($1);while($enum1.moveNext()){var $2=$enum1.current;var $3;var $4=new Ribbon.AddRemoveRibbonItem();var $5=$2.split(Kepler.Framework.Core.Seperators.miD_DOT,$0);var $6=parseInt($5[0])===1;$4._bAdd=$6;$4._iParentRibbonId=parseInt($5[1],10);var $7=parseInt($5[2],10);$3=this.getBlankRibbonItemFromRole($7);var $8=parseInt($5[3],10);if($6){}$4._iRibbonItemId=$8;var $9=$5[4];if(!String.isNullOrEmpty($9)){var $A=$9.split(',');$4._rcItemRect=new Kepler.Framework.UI.Rect(parseInt($A[0]),parseInt($A[1]),parseInt($A[2]),parseInt($A[3]));}$9=$5[5];if(!String.isNullOrEmpty($9)){var $B=$9.split(',');$4._rcItemTouchRect=new Kepler.Framework.UI.Rect(parseInt($B[0]),parseInt($B[1]),parseInt($B[2]),parseInt($B[3]));}$4._iMenuNo=parseInt($5[6]);$4._iRtClkMenuNo=parseInt($5[7]);$4._strRibbonText=$5[8];$4._strCssClass=$5[9];$4._strKbdShortcut=$5[10];if($6){$3.initialise($4._iRibbonItemId,$4._rcItemRect,$4._rcItemTouchRect,$4._iMenuNo,$4._iRtClkMenuNo,$4._strRibbonText,$4._strCssClass,this);this.addItemToContainer($3);}this._lstAddRemoveItems.add($4);}}finally{}}},setAria:function(){this.setAriaAttributes();},resetAltMode:function(){this._bAltMode=false;this.get_focusItem().changeState(Kepler.Framework.UI.Controls.EItemState.eNormal,this.get_focusItem().get_elementItem());this.onMsgResetFocus(null,null);this._oFocusRbnItem=null;},onParentResized:function(size){this.set_width(size.get_width());this.onSize();},onMouseMove:function(mouseEventArgs){Ribbon.RibbonItemContainer.callBaseMethod(this, 'onMouseMove',[mouseEventArgs]);if(ss.isValue(this._oCurRbnItem)){this._oCurRbnItem.onMouseMove(mouseEventArgs);}},onMouseOver:function(mouseEventArgs){var $0=[];if(this.getCapture()!==this){var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getAttachedObjectFromElementTree(mouseEventArgs.get_target(),Ribbon.RibbonItemContainer.ribboN_ITEM,$0);this._elemCurParent=$0[0];if(ss.isValue($1)){if($1!==this._oCurRbnItem){this._oCurRbnItem=$1;if(!!this._oCurRbnItem.get_enabled()){this._oCurRbnItem.onMouseOver(this._elemCurParent);}this.showTooltip(this._elemCurParent,mouseEventArgs);}}}else if(ss.isValue(this._oCurRbnItem)&&(this._bRDownCapture||this._bCapture)){var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getAttachedObjectFromElementTree(mouseEventArgs.get_target(),Ribbon.RibbonItemContainer.ribboN_ITEM,$0);this._elemCurParent=$0[0];if(ss.isValue($2)){var $3=Kepler.Engine.UI.Controls.Control.getClientPointFromEventArgs(mouseEventArgs);if(ss.isValue(this._rcCurItem)&&this._rcCurItem.isPtInRect($3.get_x(),$3.get_y())){if(!!$2.get_enabled()){$2.onMouseOver(this._elemCurParent);}}}}},onMouseOut:function(mouseEventArgs){var $0=[];var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getAttachedObjectFromElementTree(mouseEventArgs.get_target(),Ribbon.RibbonItemContainer.ribboN_ITEM,$0);var $2=$0[0];if(ss.isValue($1)){if(ss.isValue($1)){if(!Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){var $3=Kepler.Engine.UI.Helper.HtmlCssHelper.getAttachedObjectFromElementTree(mouseEventArgs.get_relatedTarget(),Ribbon.RibbonItemContainer.ribboN_ITEM,$0);$2=$0[0];if(ss.isValue(this._oCurRbnItem)&&$3!==this._oCurRbnItem){this.hideTooltip();}}if(!!$1.get_enabled()&&!this.checkItemIsFocused($1)){$1.onMouseLeave();}if(this.getCapture()!==this){this._oCurRbnItem=null;}}}},checkItemIsFocused:function(oItem){return this.$4_10(oItem,true);},$4_10:function($p0,$p1){var $0=false;if(ss.isValue(this._oFocusRbnItem)){var $1=this._oFocusRbnItem;while(ss.isValue($1)){if($1===$p0){$0=true;if($p1){$1.changeState(Kepler.Framework.UI.Controls.EItemState.eNormal,$1.get_elementItem());}}$1=$1.get_focusedRbnItem();}}return $0;},onLButtonDown:function(mouseEventArgs){this._bCapture=(!this._bRDownCapture)?true:this._bCapture;this.setCapture();this.hideTooltip();var $0=[];var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getAttachedObjectFromElementTree(mouseEventArgs.get_target(),Ribbon.RibbonItemContainer.ribboN_ITEM,$0);this._elemCurParent=$0[0];var $2=true;if(ss.isValue($1)){this._rcCurItem=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientRect(this._elemCurParent);if(this._oCurRbnItem!==$1){if(ss.isValue(this._oCurRbnItem)){this._oCurRbnItem.onMouseLeave();}this._oCurRbnItem=$1;}$1=this._oCurRbnItem;if(ss.isValue($1)&&!!$1.get_enabled()){$2=$1.onLButtonDown(this._elemCurParent,mouseEventArgs);}}var $3=true;if($1!=null){$3=!this.$4_10($1,false);if($1.get_parentRibbonItem()!=null&&Type.canCast($1,Ribbon.BaseTextBox)&&$3){$3=!this.$4_10($1.get_parentRibbonItem(),false);}}this.setFocusOnRbnItem(this._oCurRbnItem,mouseEventArgs);if($3&&Kepler.Engine.Core.EngineApp.get_engine().get_taskMaster().get_isAccessibility()){if($1!=null&&!ss.isNullOrUndefined($1.get_listRibbonItems())&&!!$1.get_listRibbonItems().length){this.setAriaAttributes();}}},setFocusOnRbnItem:function(oRbnItem,mouseEventArgs){var $0=null;if(oRbnItem!==this._oFocusRbnItem){$0=this._oFocusRbnItem;if(ss.isValue($0)){var $2=(ss.isValue(oRbnItem))?oRbnItem.get_id().toString():'-1';if($2.length>6){$2=$2.substr(0,6);}if(parseInt($2)!==this._oFocusRbnItem.get_id()){$0.onKillFocus();}}}this._oFocusRbnItem=null;var $1=false;$0=oRbnItem;if(ss.isValue($0)&&!!$0.get_enabled()){var $3=(Ribbon.EditableRibbonItem).isInstanceOfType($0)||(Ribbon.BaseTextBox).isInstanceOfType($0);if($3){this._oFocusRbnItem=oRbnItem;if((Kepler.Framework.UI.Events.EventArgsNs.MouseEventArgs).isInstanceOfType(mouseEventArgs)){$0.onSetFocus(mouseEventArgs);}else{$0.onSetFocus(null);}if(!!$0.get_focus()){this.setFocus();$1=true;}}}if(!$1&&(Kepler.Engine.UI.BaseAppFrame).isInstanceOfType(mouseEventArgs)&&((mouseEventArgs))===Kepler.Engine.Core.EngineApp.get_engine().get_$1_D().getAppFrame()){Kepler.Engine.Core.EngineApp.get_engine().getCurrentAppView().setFocus();}else if(!$1){this.setFocusToPreFocusedCtrl();}},onLostFocus:function(oFocusedNewControl){if(oFocusedNewControl.get_element().id==='player-btn-hint'||oFocusedNewControl.get_element().id==='player-btn-questionlist'||oFocusedNewControl.get_element().id==='player-btn-showme'){if(ss.isValue(this._oFocusRbnItem)){var $0=this._oFocusRbnItem;this.resetRibbonItemState($0);}}else if(ss.isValue(this._oFocusRbnItem)){var $1=this._oFocusRbnItem;$1.onKillFocus();$1=null;}},onLButtonUp:function(mouseEventArgs){var $0=false;if(ss.isValue(this._oCurRbnItem)&&this._bCapture){var $1=Kepler.Engine.UI.Controls.Control.getClientPointFromEventArgs(mouseEventArgs);if(this._rcCurItem.isPtInRect($1.get_x(),$1.get_y())||Type.getInstanceType(this._oCurRbnItem)===Kepler.Engine.UI.StatusBar.Items.StatusBarZoomCtrl||Type.canCast(this._oCurRbnItem,Ribbon.BaseTextBox)){if(this._bCapture&&!!this._oCurRbnItem.get_enabled()){if(ss.isValue(this._elemCurParent)){this._oCurRbnItem.onLButtonUp(this._elemCurParent,mouseEventArgs);}else{this._oCurRbnItem.onLButtonUp(this._oCurRbnItem.get_elementItem(),mouseEventArgs);}}if(this._oCurRbnItem!=null){this._oCurRbnItem.releaseCapture();}}else{this._oCurRbnItem.onMouseLeave();this._oCurRbnItem.releaseCapture();$0=true;}}if(!this._bMenuDropDown){this.resetCurrentItem();}if(!Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()&&$0){this.onMouseOver(mouseEventArgs);}this.hideTooltip();},onMouseDblClick:function(mouseEventArgs){var $0=[];var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getAttachedObjectFromElementTree(mouseEventArgs.get_target(),Ribbon.RibbonItemContainer.ribboN_ITEM,$0);if(ss.isValue($1)&&$1.get_dblClkNeeded()){var $2=$0[0];this.resetCurrentItem();Ribbon.RibbonItemContainer.callBaseMethod(this, 'onMouseDblClick',[mouseEventArgs]);if(!!$1.get_enabled()){$1.onMouseDblClick($2,mouseEventArgs);}}},onTouchStart:function(touchEventArgs){if(touchEventArgs.get_touches().length===1){this.onMouseOver(touchEventArgs);if((Ribbon.EditableRibbonItem).isInstanceOfType(this._oCurRbnItem)||(Ribbon.BaseTextBox).isInstanceOfType(this._oCurRbnItem)||(Ribbon.RibbonItemScrollable).isInstanceOfType(this._oCurRbnItem)){if((Ribbon.RibbonItemScrollable).isInstanceOfType(this._oCurRbnItem)){touchEventArgs.set_blockRightClick(true);}touchEventArgs.set_eventHandled(true);this.onLButtonDown(touchEventArgs);}}Ribbon.RibbonItemContainer.callBaseMethod(this, 'onTouchStart',[touchEventArgs]);},onTouchMove:function(touchEventArgs){if(this.getCapture()===this){touchEventArgs.set_blockRightClick(true);}Ribbon.RibbonItemContainer.callBaseMethod(this, 'onTouchMove',[touchEventArgs]);},onTouchEnd:function(touchEventArgs){if(touchEventArgs.get_touches().length===1){if((Ribbon.RibbonItemScrollable).isInstanceOfType(this._oCurRbnItem)){touchEventArgs.set_eventHandled(true);this.onLButtonUp(touchEventArgs);}}Ribbon.RibbonItemContainer.callBaseMethod(this, 'onTouchEnd',[touchEventArgs]);},onRButtonDown:function(mouseEventArgs){if(this.getCapture()===this){return;}this._bRDownCapture=true;this.hideTooltip();this.setCapture();var $0=[];var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getAttachedObjectFromElementTree(mouseEventArgs.get_target(),Ribbon.RibbonItemContainer.ribboN_ITEM,$0);this._elemCurParent=$0[0];if(ss.isValue($1)){this._rcCurItem=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientRect(this._elemCurParent);if(this._oCurRbnItem!==$1){if(ss.isValue(this._oCurRbnItem)){this._oCurRbnItem.onMouseLeave();}this._oCurRbnItem=$1;}$1=this._oCurRbnItem;if(ss.isValue($1)&&!!$1.get_enabled()){$1.changeState(Kepler.Framework.UI.Controls.EItemState.eHover,this._elemCurParent);}}this.setFocusOnRbnItem(this._oCurRbnItem,mouseEventArgs);if(Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){var $2=mouseEventArgs;this._bRUpFromRDown=true;this.onRButtonUp(mouseEventArgs);this._bRUpFromRDown=false;}},onRButtonUp:function(mouseEventArgs){if(this._bRDownCapture){var $0=Kepler.Framework.Core.Globals.invaliD_VALUE;var $1=this.get_id();var $2=true;var $3=Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice();var $4=Kepler.Engine.UI.Controls.Control.getClientPointFromEventArgs(mouseEventArgs);if(ss.isValue(this._oCurRbnItem)){$2=this._rcCurItem.isPtInRect($4.get_x(),$4.get_y())||Type.getInstanceType(this._oCurRbnItem)===Kepler.Engine.UI.StatusBar.Items.StatusBarZoomCtrl;if($2){$0=this._oCurRbnItem._iRtClickMenuNo;$1=this._oCurRbnItem.get_id();}}else{$0=this.getDefRightClkMenu(mouseEventArgs);}if($0>0){var $5=new Kepler.Engine.UI.MenuWnd_MenuParams(this,$0,null,new Kepler.Framework.UI.Rect($4.get_x(),$4.get_y(),1,1),$1.toString());this.sendMessage('msg_show_menu',$0,$5);}if(this._bRUpFromRDown){if($0>0&&ss.isValue(this._oCurRbnItem)){this.resetCurrentItem();}}else{if($3){this._bCapture=true;if($2&&ss.isValue(this._oCurRbnItem)){this._oCurRbnItem.setCapture();}this.onLButtonUp(mouseEventArgs);}else{this.resetCurrentItem();if(!$2){this.onMouseOver(mouseEventArgs);}}}}this.hideTooltip();},getDefRightClkMenu:function(mouseEventArgs){return Kepler.Framework.Core.Globals.invaliD_VALUE;},onKeyDown:function(KeyEventArgs){this.hideTooltip();if(ss.isValue(this._oFocusRbnItem)){this._oFocusRbnItem.onKeyDown(KeyEventArgs);}},onKeyPress:function(evt){if(ss.isValue(this._oFocusRbnItem)){this._oFocusRbnItem.onKeyPress(evt);}},onKeyUp:function(evt){if(ss.isValue(this._oFocusRbnItem)){this._oFocusRbnItem.onKeyUp(evt);}},onLoad:function(){Ribbon.RibbonItemContainer.callBaseMethod(this, 'onLoad');this.initialise();this.attachEvents();this.attachMessages();},onUnload:function(){var $dict1=this._mapRibbonItem;for(var $key2 in $dict1){var $0={key:$key2,value:$dict1[$key2]};$0.value.dispose();}Object.clearKeys(this._mapRibbonItem);Ribbon.RibbonItemContainer.callBaseMethod(this, 'onUnload');},initialise:function(){},attachEvents:function(){this.addEvents(Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseUp);this.addEvents(Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseDown);this.addEvents(Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseOver);this.addEvents(Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseOut);this.addEvents(Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseMove);this.addEvents(Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseDoubleClick);this.addEvents(Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseWheel);this.addEvents(Kepler.Framework.UI.Events.EventArgsNs.EventType.touchStart);this.addEvents(Kepler.Framework.UI.Events.EventArgsNs.EventType.touchMove);this.addEvents(Kepler.Framework.UI.Events.EventArgsNs.EventType.touchEnd);this.addEvents(Kepler.Framework.UI.Events.EventArgsNs.EventType.keyDown|Kepler.Framework.UI.Events.EventArgsNs.EventType.keyPress|Kepler.Framework.UI.Events.EventArgsNs.EventType.keyUp);},onCaptureChanged:function(capturedControl){if(ss.isValue(this._oCurRbnItem)){this._oCurRbnItem.releaseCapture();}this._bRDownCapture=false;if(this.getCapture()!==this){this._bCapture=false;}},attachMessages:function(){this.attachMessage('msg_mouse_hook_rbn_src_ele',ss.Delegate.create(this,this.onMsgMouseHookRbnEle));this.attachMessage('msg_menu_close',ss.Delegate.create(this,this.onMsgMenuClose));this.attachMessage('msg_left_btn_up',ss.Delegate.create(this,this.onMsgLBtnUp));this.attachMessage('msg_ribbon_item_command',ss.Delegate.create(this,this.onMsgRibbonItemCommand));this.attachMessage('msg_dbl_clk',ss.Delegate.create(this,this.onMsgRibbonItemCommandDblClk));this.attachMessage('msg_show_menu',ss.Delegate.create(this,this.onMsgShowMenu));this.attachMessage('msg_hide_menu',ss.Delegate.create(this,this.onMsgHideMenu));this.attachMessage('msg_undo_on_esc_key',ss.Delegate.create(this,this.onMsgUndoChangesOnEscKey));this.attachMessage('msg_get_menu_wnd',ss.Delegate.create(this,this.onMsgGetMenuWnd));this.attachMessage('eONDetectMode',ss.Delegate.create(this,this.onMsgDetectMode));this.attachMessage('msg_focus_view',ss.Delegate.create(this,this.onMsgSetFocusToView));this.attachMessage('msg_set_focus',ss.Delegate.create(this,this.onMsgSetFocus));this.attachMessage('msg_get_override_maps',ss.Delegate.create(this,this.onMsgGetOverrideMaps));this.attachMessage('msg_get_action_maps',ss.Delegate.create(this,this.onMsgGetActionMaps));this.attachMessage('msg_app_shortcut_key',ss.Delegate.create(this,this.onMsgAppShortcutKey));this.attachMessage('msg_update_rect',ss.Delegate.create(this,this.onMsgUpdateRect));this.attachMessage('msg_menu_item_clicked',ss.Delegate.create(this,this.onMsgMenuItemCommand));this.attachMessage('msg_set_current_ribbon_item_on_showmenu',ss.Delegate.create(this,this.$4_9));this.attachMessage('msg_reset_focus',ss.Delegate.create(this,this.onMsgResetFocus));this.attachMessage('msg_draw_latest_highlighted_item',ss.Delegate.create(this,this.onMsgHighlightLatestItem));this.attachMessage('msg_scroll_on_focus',ss.Delegate.create(this,this.onMsgScrollOnFocus));this.attachMessage('msg_get_menu_launcher_action_string',ss.Delegate.create(this,this.onMsgGetMenuLauncherActString));},$4_11:function(){this._iHighlightedItemsIdx++;this._iHighlightedItemsIdx=((this._iHighlightedItemsIdx>=this._lstHighlightedItems.length)?this._lstHighlightedItems.length-1:this._iHighlightedItemsIdx);},$4_12:function(){this._iHighlightedItemsIdx--;this._iHighlightedItemsIdx=((this._iHighlightedItemsIdx<0)?0:this._iHighlightedItemsIdx);},onMsgShowHint:function(wParam,lParam){var $0=true;var $1=this._lstHighlightedItems[this._iHighlightedItemsIdx];$0=this.showHintInTutMode($1);return $0;},showHintInTutMode:function(oItem){var $0=false;if(ss.isValue(oItem)){var $1=this._mapOverrideState[oItem.get_id()];if(Type.canCast(oItem,Ribbon.RibbonPane)){var $2=oItem;if(!$2.isRbnItemHighlighted($2.get_highlight())&&$2.isRbnItemHighlighted($1.get_highlighted())){oItem.set_highlight($1.get_highlighted());}if($2.isRbnItemHighlighted($2.get_highlight())&&$2.get_shrinkable()){$0=true;}else{this.$4_11();}}else{if(oItem.isRbnItemHighlighted(oItem.get_highlight())){$0=true;}else{if(oItem.isRbnItemHighlighted($1.get_highlighted())){oItem.set_highlight($1.get_highlighted());$0=true;}}}}return $0;},onMsgUpdateRect:function(wParam,lParam){var $0=wParam;this._rcCurItem.set_left($0.get_x()-5);this._rcCurItem.set_top($0.get_y()-5);this._rcCurItem.set_width(this._rcCurItem.set_height(10));return null;},onMsgGetOverrideMaps:function(wParam,lParam){var $0=[];$0.add(this._mapTempOverrideState);$0.add(this._mapOverrideState);$0.add(this._mapDefaultState);return $0;},onMsgGetActionMaps:function(wParam,lParam){var $0=[];$0.add(this._lstAction);return $0;},onMsgSetFocusToView:function(wParam,lParam){this.setFocusToPreFocusedCtrl();return null;},setFocusToPreFocusedCtrl:function(){this._bAltMode=false;if(ss.isValue(this._oPreFocusCtrl)){this._oPreFocusCtrl.setFocus();}else{this.setFocusToView();}},setFocusToView:function(){if(this.getFocus()===this){this.sendMessageToParent('msg_focus_view',null,null);}},onMsgSetFocus:function(wParam,lParam){this.setFocusOnRbnItem(wParam,lParam);return null;},onMsgDetectMode:function(wParam,lParam){return this.get_parent().sendMessage('eONDetectMode',wParam,lParam);},onMsgGetMenuWnd:function(wParam,lParam){return this.sendMessageToParent('msg_get_menu_wnd',wParam,lParam);},onMsgHideMenu:function(wParam,lParam){return this.sendMessageToParent('msg_hide_menu',wParam,lParam);},onMsgShowMenu:function(wParam,lParam){var $0=true;if(ss.isValue(this.get_currentItem())&&this.get_currentItem().get_menuNo()!==-1){if(this.get_currentItem()===this._rbnMenuLaunched){$0=false;this._rbnMenuLaunched=null;}else{this._rbnMenuLaunched=this.get_currentItem();}}else{this._rbnMenuLaunched=this.get_focusItem();if(this._rbnMenuLaunched!=null){this._rbnMenuLaunched.changeState(Kepler.Framework.UI.Controls.EItemState.eNormal,this._rbnMenuLaunched.get_elementItem());}}if($0){this._bMenuDropDown=ss.isValue(this.sendMessageToParent('msg_get_menu_wnd',wParam,lParam));var $1=this.sendMessageToParent('msg_show_menu',wParam,lParam);this._bMenuDropDown=ss.isValue($1);return $1;}return null;},onMsgMenuClose:function(wParam,lParam){if(ss.isNull(this.$4_0)||this.$4_0!==this._rbnMenuLaunched){this._rbnMenuLaunched=null;}var $0=this._oCurRbnItem;this.resetCurrentItem();if(this._bAltMode){if(ss.isValue($0)){$0.changeState(Kepler.Framework.UI.Controls.EItemState.eFocus,$0.get_elementItem());}else{this.resetAltMode();this.setFocusToView();}}else{this.setFocusToPreFocusedCtrl();}this._bMenuDropDown=false;return null;},onMsgMouseHookRbnEle:function(wParam,lParam){var $0=wParam;var $1=[];var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getAttachedObjectFromElementTree($0,Ribbon.RibbonItemContainer.ribboN_ITEM,$1);this.$4_0=$2;return null;},onMsgUndoChangesOnEscKey:function(wParam,lParam){if(ss.isValue(this._oCurRbnItem)&&(Ribbon.EditableRibbonItem).isInstanceOfType(this._oCurRbnItem)){this.resetRibbonItemState(this._oCurRbnItem);}else if(ss.isValue(this._oFocusRbnItem)&&(Ribbon.EditableRibbonItem).isInstanceOfType(this._oFocusRbnItem)){this.resetRibbonItemState(this._oFocusRbnItem);}return null;},$4_13:function($p0){this.$4_3.stop();if(ss.isValue($p0)){var $0=$p0;var $1=$0[0];var $2=$0[1];if(ss.isValue($1)&&ss.isValue($2)){if($1.isActionCommandElement($2)){this.sendMessage('msg_ribbon_item_command',$1,$2);}}}},$4_14:function($p0,$p1){var $0=false;if(this.$4_3.get_isRunning()){var $1=this.$4_3.get_data();var $2=$1[0];var $3=$1[1];this.$4_3.stop();$0=($p0===$2&&$p1===$3);if(!$0){this.$4_13($1);}}else{$0=false;}if(!$0){var $4=[];$4.add($p0);$4.add($p1);this.$4_3.start($4);}},onMsgLBtnUp:function(wParam,lParam){var $0=wParam;var $1=lParam;var $2=false;$0.changeState(Kepler.Framework.UI.Controls.EItemState.eNormal,$1);if($0.get_dblClkNeeded()){this.$4_14($0,$1);}else{this.$4_13(this.$4_3.get_data());this.sendMessage('msg_ribbon_item_command',wParam,lParam);}return $2;},$4_15:function($p0){var $0=false;var $enum1=ss.IEnumerator.getEnumerator(this._lstActionDblClk);while($enum1.moveNext()){var $1=$enum1.current;if($1.get_id()===$p0.get_id()){$0=true;break;}}return $0;},onMsgRibbonItemCommand:function(wParam,lParam){var $0='';var $1;var $2=wParam;var $3=lParam;$0=$2.getLabel();if(!String.isNullOrEmpty($0)&&$0.indexOf('(')===-1){Kepler.Framework.Accessibility.AccessibilitySupport.get_instance().set_dontSkipText($0+' clicked');}else{$0=$2.getTooltipBody();if(!String.isNullOrEmpty($0)){$1=$0.indexOf('(');if($1!==-1){$0=$0.substring(0,$1);}Kepler.Framework.Accessibility.AccessibilitySupport.get_instance().set_dontSkipText($0+' clicked');}}$2.changeState(Kepler.Framework.UI.Controls.EItemState.eNormal,$3);var $4=new Ribbon.ItemAction();var $5=this.isActionCorrect($2,$4);if($5===2){return false;}var $6=($5===1&&!$2.isMenuLaunchElement($3));var $7=false;if(!$6&&this.shouldLaunchDialog($2)){this.launchDialog($2);$7=true;}if(!$7){Kepler.Engine.UI.WeapAppFrame.framejumP_WIP=$6;Kepler.Engine.Core.EngineApp.get_engine().get_taskMaster().set_isAccessibility(false);this.sendMessageToParent('eONActionEngine',$6,$4);Kepler.Engine.UI.WeapAppFrame.framejumP_WIP=false;Kepler.Engine.Core.EngineApp.get_engine().get_taskMaster().set_isAccessibility(Kepler.Engine.UI.WeapAppFrame.appframE_ACCESSIBILITY);if($6&&(Kepler.Engine.UI.MiniToolbar.BaseMiniToolbar).isInstanceOfType(this)){(this).hideMiniToolbar();}}return ($7||$6);},onMsgRibbonItemCommandDblClk:function(wParam,lParam){var $0=wParam;var $1=lParam;var $2=new Ribbon.ItemAction();var $3=this.isActionCorrect($0,$2,true)===1&&!$0.isMenuLaunchElement($1);this.sendMessageToParent('eONActionEngine',$3,$2);return $3;},onMsgMenuItemCommand:function(wParam,lParam){this._bAltMode=false;var $0=wParam;var $1=false;if(ss.isValue(this._oCurRbnItem)){$1=this._oCurRbnItem.onMenuItemCommand($0);}return $1;},onMsgResetFocus:function(wParam,lParam){var $0=this._oFocusRbnItem;if(Type.canCast($0,Ribbon.RibbonTab)&&ss.isNullOrUndefined($0.get_focusedRbnItem())){$0.changeState(Kepler.Framework.UI.Controls.EItemState.eNormal,$0.get_elementItem());}else{var $1;while(ss.isValue($0)){if(!ss.isValue($0.get_focusedRbnItem())){break;}$1=$0.get_focusedRbnItem();if((Ribbon.EditableRibbonItem).isInstanceOfType($1)||(Ribbon.BaseTextBox).isInstanceOfType($1)){$1.onKillFocus();}else{$1.changeState(Kepler.Framework.UI.Controls.EItemState.eNormal,$1.get_elementItem());}$0.set_focusedRbnItem(null);$0=$1;}}return true;},onMsgAppShortcutKey:function(wParam,lParam){var $0=wParam;var $1=$0.iActionId;var $2=$0.getActionString();var $3=this._mapRibbonItem[$1];if(ss.isNullOrUndefined($3)){return null;}var $4=new Ribbon.ItemAction();var $5=(this.isActionCorrect($3,$4)===1);$4.set_text($2);return this.get_parent().sendMessage('eONActionEngine',$5,$4);},onMsgHighlightLatestItem:function(wParam,lParam){var $0=this._lstHighlightedItems[this._iHighlightedItemsIdx];if(ss.isValue($0)){$0.drawHighlightedState();}return true;},onMsgScrollOnFocus:function(wParam,lParam){return true;},onMsgGetMenuLauncherActString:function(wParam,lParam){var $0='';if(Type.canCast(this.get_focusItem(),Ribbon.RibbonTabListItem)){var $1=this.get_focusItem();if(ss.isValue($1)){$0=$1.get_text()+' ';}}return $0;}}
Ribbon.RibbonParser=function(strXmlFile){Ribbon.RibbonParser.initializeBase(this,[strXmlFile]);this._strDbgLogPrefix='[RibbonParser] ';this.$2C();this.addParserTagNameDelegate('ribbon',ss.Delegate.create(this,this.$18));this.addParserRoleDelegate(3,ss.Delegate.create(this,this.parseRoleCheckBox));this.addParserRoleDelegate(4,ss.Delegate.create(this,this.$1E));this.addParserRoleDelegate(0,ss.Delegate.create(this,this.$1D));this.addParserRoleDelegate(5,ss.Delegate.create(this,this.$24));this.addParserRoleDelegate(6,ss.Delegate.create(this,this.parseRoleDropDown));this.addParserRoleDelegate(29,ss.Delegate.create(this,this.$1C));this.addParserRoleDelegate(15,ss.Delegate.create(this,this.parseRoleDialogLauncher));this.addParserRoleDelegate(7,ss.Delegate.create(this,this.parseRoleImageBtn));this.addParserRoleDelegate(8,ss.Delegate.create(this,this.parseRoleInternalSeperator));this.addParserRoleDelegate(33,ss.Delegate.create(this,this.$1B));this.addParserRoleDelegate(20,ss.Delegate.create(this,this.$23));this.addParserRoleDelegate(11,ss.Delegate.create(this,this.$1A));this.addParserRoleDelegate(12,ss.Delegate.create(this,this.$19));this.addParserRoleDelegate(9,ss.Delegate.create(this,this.parseRoleNormal));this.addParserRoleDelegate(13,ss.Delegate.create(this,this.parseRolePane));this.addParserRoleDelegate(1,ss.Delegate.create(this,this.$22));this.addParserRoleDelegate(10,ss.Delegate.create(this,this.$21));this.addParserRoleDelegate(14,ss.Delegate.create(this,this.parseRoleTab));this.addParserRoleDelegate(16,ss.Delegate.create(this,this.$25));this.addParserRoleDelegate(38,ss.Delegate.create(this,this.$20));this.addParserRoleDelegate(2,ss.Delegate.create(this,this.$1F));this.addParserRoleDelegate(19,ss.Delegate.create(this,this.$28));this.addParserRoleDelegate(34,ss.Delegate.create(this,this.$29));this.addParserRoleDelegate(17,ss.Delegate.create(this,this.$26));this.addParserRoleDelegate(18,ss.Delegate.create(this,this.$27));this.addParserRoleDelegate(39,ss.Delegate.create(this,this.parseRoleColorGrid));}
Ribbon.RibbonParser.prototype={panE_TOP:3,_iCurrentApp:0,_iId:0,_iMenuNo:0,_iRtClkMenuNo:0,_iChecked:0,_iEnabled:0,_rcMouse:null,_rcTouch:null,_strText:null,_strImgCls:null,_strKbrdShortcut:null,_strActionString:null,_iVisible:0,delayedParseXmlNodes:function(oParents,jQNodes){this.parseXmlNodes(oParents,jQNodes);},$18:function($p0,$p1){Ribbon.BaseRibbonManager.ribboN_PANE_HEIGHT_TOUCH=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'paneheightttouch',Ribbon.BaseRibbonManager.ribboN_PANE_HEIGHT_TOUCH);Ribbon.BaseRibbonManager.ribboN_PANE_HEIGHT_NORMAL=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'paneheight',Ribbon.BaseRibbonManager.ribboN_PANE_HEIGHT_NORMAL);Ribbon.BaseRibbonManager.ribboN_QAT_HEIGHT_TOUCH=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'qatheighttouch',Ribbon.BaseRibbonManager.ribboN_QAT_HEIGHT_TOUCH);Ribbon.BaseRibbonManager.ribboN_QAT_HEIGHT_NORMAL=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'qatheight',Ribbon.BaseRibbonManager.ribboN_QAT_HEIGHT_NORMAL);Ribbon.BaseRibbonManager.ribboN_TAB_BUTTONS_SHRINK_HEIGHT=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'tabbtnheighttouch',Ribbon.BaseRibbonManager.ribboN_TAB_BUTTONS_SHRINK_HEIGHT);Ribbon.BaseRibbonManager.ribboN_TAB_BUTTONS_HEIGHT=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'tabbtnheight',Ribbon.BaseRibbonManager.ribboN_TAB_BUTTONS_HEIGHT);if((Ribbon.BaseRibbonManager).isInstanceOfType($p0.oRbnContainer)){($p0.oRbnContainer).resizeRibbon();}},parseRoleDialogLauncher:function(oParents,elmNode){if(!this.isCorrectApp(elmNode)){return;}var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt(elmNode,'id');var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt(elmNode,'rtmenuno');var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString(elmNode,'kbdshortcut');var $3=new Ribbon.RibbonItemImageBtn();var $4=Kepler.Engine.Core.EngineApp.get_engine().get_currentApp().get_appName().charAt(0);var $5=new Kepler.Framework.UI.Rect(0,0,13,13);var $6=new Kepler.Framework.UI.Rect(0,Ribbon.RibbonParser.$17,18,18);$3.initialise($0,$5,$6,-1,$1,null,'class_ImgPath_Arrow ',oParents.oRbnContainer,new Kepler.Framework.UI.Size(7,7),'dlg_launcher_normal',$4+'_dlg_launcher_hover',$4+'_dlg_launcher_pressed');$3.set_kbrdShortcut($2);$3.set_actionString(this._strActionString);this.setTooltip($3,elmNode);oParents.oRbnItem.addItem($3,oParents.oRbnItem.get_elementItem().childNodes[0]);oParents.oRbnContainer.addItemToContainer($3);$3.get_elementItem().style.position='relative';$3.get_elementItem().style.cssFloat='right';$3.get_elementItem().style.display='inline-block;';},$19:function($p0,$p1){if(!this.isCorrectApp($p1)){return;}var $0=$p0.oRbnItem;var $1=this.getTtParams($p1);var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'rtmenuno');var $3=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'cssclass');var $4=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'actionstring');var $5=null;var $6=String.isNullOrEmpty($3);if(String.isNullOrEmpty($3)){$3=this._strImgCls;}if(ss.isValue($0.get_imagePoint())){var $7=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'imgpoint');var $8=$7.split(',',2);if($8.length===2){$5=new Kepler.Framework.UI.Point(-parseInt($8[0],10),-parseInt($8[1],10));}else if(!$6){$5=new Kepler.Framework.UI.Point(0,0);}}$0.addMiscCtrlItem($1,$2,$5,$3,$4);},$1A:function($p0,$p1){if(!this.isCorrectApp($p1)){return;}var $0=$($p1);this.parseCommonAttributes($p1);this._rcMouse.set_top(this._rcMouse.get_top()-(this.panE_TOP+2));this._rcMouse.set_width(this._rcMouse.get_width()-2);this._rcTouch.set_top(this._rcTouch.get_top()-(this.panE_TOP+2));var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'imgwidth');var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'imgheight');var $3=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'itemwidth');var $4=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'itemheight');var $5=this._iChecked;var $6=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'ignorepoint');var $7='';var $8=null;if(!$6){$7=this._strImgCls;var $D=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'imgpoint');var $E=$D.split(',',2);if($E.length===2){$8=new Kepler.Framework.UI.Point(-parseInt($E[0],10),-parseInt($E[1],10));}else{$8=new Kepler.Framework.UI.Point(0,0);}}var $9=new Ribbon.RibbonMiscCtrl();this.setTooltip($9,$p1);$9.initialise(this._iId,this._rcMouse,this._rcTouch,this._iMenuNo,this._iRtClkMenuNo,null,$7,$p0.oRbnContainer);$9.get_listRibbonItems()[2].set_kbrdShortcut(this._strKbrdShortcut);$9.setMiscItemSize($3,$4,$1,$2,$8);var $A=$p0.cloneWithContainerOnly();$A.oRbnItem=$9;var $B=$0.children();this.parseXmlNodes($A,$B);var $C=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'misc_can_store_selection');$9.set_canStoreActive(($C===1)?true:false);$p0.oRbnItem.addItem($9);$9.set_selectedIndex($5);$p0.oRbnContainer.addItemToContainer($9);},$1B:function($p0,$p1){},parseRoleImageBtn:function(oParents,elmNode){if(!this.isCorrectApp(elmNode)){return;}this.parseCommonAttributes(elmNode);var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt(elmNode,'imgwidth');var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt(elmNode,'imgheight');var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString(elmNode,'normalimgclass');var $3=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString(elmNode,'hoverimgclass');var $4=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString(elmNode,'pressedimgclass');var $5=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString(elmNode,'kbdshortcut');var $6=new Ribbon.RibbonItemImageBtn();$6.initialise(this._iId,this._rcMouse,this._rcTouch,this._iMenuNo,this._iRtClkMenuNo,null,this._strImgCls,oParents.oRbnContainer,new Kepler.Framework.UI.Size($0,$1),$2,$3,$4);$6.set_checked((!!this._iChecked));$6.set_kbrdShortcut($5);$6.set_actionString(this._strActionString);this.setTooltip($6,elmNode);this.addToParent($6,oParents);$6.set_enabled(this._iEnabled);},parseRoleDropDown:function(oParents,elmNode){if(!this.isCorrectApp(elmNode)){return;}this.parseCommonAttributes(elmNode);this._rcMouse.set_top(this._rcMouse.get_top()-this.panE_TOP);this._rcTouch.set_top(this._rcTouch.get_top()-this.panE_TOP+2);this._rcTouch.set_height(this._rcTouch.get_height()-(4));var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt(elmNode,'multiline');var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt(elmNode,'textposition');var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt(elmNode,'behavnormal');var $3=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt(elmNode,'dblclk');if(String.isNullOrEmpty(this._strText)){$0=0;$1=0;}var $4=new Ribbon.RibbonItemDropdown();$4.initialise(this._iId,this._rcMouse,this._rcTouch,this._iMenuNo,this._iRtClkMenuNo,this._strText,this._strImgCls,oParents.oRbnContainer,!!$0,!!$2);$4.setTextPosition((!$1)?0:1);$4.set_checked((!!this._iChecked));$4.set_kbrdShortcut(this._strKbrdShortcut);$4.set_actionString(this._strActionString);this.setTooltip($4,elmNode);this.addToParent($4,oParents);$4.set_dblClkNeeded(($3>0));$4.set_enabled(this._iEnabled);},$1C:function($p0,$p1){if(!this.isCorrectApp($p1)){return;}this.parseCommonAttributes($p1);this._rcMouse.set_top(this._rcMouse.get_top()-this.panE_TOP);this._rcTouch.set_top(this._rcTouch.get_top()-this.panE_TOP+2);this._rcTouch.set_height(this._rcTouch.get_height()-(4));var $0=new Ribbon.RibbonItemInverseDropDown();$0.initialise(this._iId,this._rcMouse,this._rcTouch,this._iMenuNo,this._iRtClkMenuNo,this._strText,this._strImgCls,$p0.oRbnContainer);$0.setTextPosition(0);$0.set_checked((!!this._iChecked));$0.set_kbrdShortcut(this._strKbrdShortcut);$0.set_actionString(this._strActionString);this.setTooltip($0,$p1);this.addToParent($0,$p0);$0.set_enabled(this._iEnabled);},$1D:function($p0,$p1){if(!this.isCorrectApp($p1)){return;}this.parseCommonAttributes($p1);this._rcMouse.set_top(this._rcMouse.get_top()-this.panE_TOP);this._rcMouse.set_width(this._rcMouse.get_width()-2);this._rcMouse.set_height(this._rcMouse.get_height()-2);this._rcTouch.set_top(this._rcTouch.get_top()-this.panE_TOP);this._rcTouch.set_width(this._rcTouch.get_width()-2);this._rcTouch.set_height(this._rcTouch.get_height()-2);var $0=new Ribbon.RibbonItemComboBox();$0.initialise(this._iId,this._rcMouse,this._rcTouch,this._iMenuNo,this._iRtClkMenuNo,this._strText,null,$p0.oRbnContainer);$0.set_actionString(this._strActionString);this.setTooltip($0,$p1);$0.set_kbrdShortcut(this._strKbrdShortcut);this.addToParent($0,$p0);$0.set_enabled(this._iEnabled);var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'shortcutmenu');if(ss.isValue($1)){$0.set_shortcutMenu($1);}else{$0.set_shortcutMenu(0);}},$1E:function($p0,$p1){if(!this.isCorrectApp($p1)){return;}this.parseCommonAttributes($p1);this._rcMouse.set_top(this._rcMouse.get_top()-this.panE_TOP);this._rcTouch.set_top(this._rcTouch.get_top()-this.panE_TOP+2);this._rcTouch.set_height(this._rcTouch.get_height()-4);var $0=new Ribbon.RibbonItemColorDropDown();$0.initialise(this._iId,this._rcMouse,this._rcTouch,this._iMenuNo,this._iRtClkMenuNo,this._strText,this._strImgCls,$p0.oRbnContainer,false,true);$0.setTextPosition(0);$0.set_checked((!!this._iChecked));$0.set_kbrdShortcut(this._strKbrdShortcut);$0.set_actionString(this._strActionString);this.setTooltip($0,$p1);this.addToParent($0,$p0);$0.set_enabled(this._iEnabled);},parseRoleCheckBox:function(oParents,elmNode){if(!this.isCorrectApp(elmNode)){return;}this.parseCommonAttributes(elmNode);this._rcMouse.set_top(this._rcMouse.get_top()-this.panE_TOP);this._rcTouch.set_top(this._rcTouch.get_top()-this.panE_TOP);var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt(elmNode,'checked');var $1=new Ribbon.RibbnItemCheckBox();$1.initialise(this._iId,this._rcMouse,this._rcTouch,-1,this._iRtClkMenuNo,this._strText,null,oParents.oRbnContainer);$1.set_checked((!!$0));$1.set_kbrdShortcut(this._strKbrdShortcut);$1.set_actionString(this._strActionString);this.setTooltip($1,elmNode);this.addToParent($1,oParents);$1.set_enabled(this._iEnabled);},$1F:function($p0,$p1){if(!this.isCorrectApp($p1)){return;}this.parseCommonAttributes($p1);this._rcMouse.set_top(this._rcMouse.get_top()-this.panE_TOP);this._rcMouse.set_width(this._rcMouse.get_width()-2);this._rcMouse.set_height(this._rcMouse.get_height()-2);this._rcTouch.set_top(this._rcTouch.get_top()-this.panE_TOP);this._rcTouch.set_width(this._rcTouch.get_width()-2);this._rcTouch.set_height(this._rcTouch.get_height()-2);var $0=new Ribbon.RibbonItemTextBox();$0.initialise(this._iId,this._rcMouse,this._rcTouch,-1,this._iRtClkMenuNo,this._strText,null,$p0.oRbnContainer);$0.set_kbrdShortcut(this._strKbrdShortcut);$0.set_actionString(this._strActionString);this.setTooltip($0,$p1);this.addToParent($0,$p0);$0.set_enabled(this._iEnabled);},$20:function($p0,$p1){if(!this.isCorrectApp($p1)){return;}var $0=$($p1);this.parseCommonAttributes($p1);this._rcMouse.set_top(this._rcMouse.get_top()-this.panE_TOP);this._rcMouse.set_width(this._rcMouse.get_width()-2);this._rcMouse.set_height(this._rcMouse.get_height()-2);this._rcTouch.set_top(this._rcTouch.get_top()-this.panE_TOP);this._rcTouch.set_width(this._rcTouch.get_width()-2);this._rcTouch.set_height(this._rcTouch.get_height()-2);var $1=new Ribbon.RibbonItemBlank();$1.initialise(this._iId,this._rcMouse,this._rcTouch,-1,this._iRtClkMenuNo,this._strText,null,$p0.oRbnContainer);this.addToParent($1,$p0);$1.set_enabled(this._iEnabled);var $2=$p0.cloneWithContainerOnly();$2.oRbnItem=$1;var $3=$0.children();this.parseXmlNodes($2,$3);},$21:function($p0,$p1){if(!this.isCorrectApp($p1)){return;}this.parseCommonAttributes($p1);this._rcMouse.set_top(this._rcMouse.get_top()-this.panE_TOP);this._rcTouch.set_top(this._rcTouch.get_top()-this.panE_TOP);var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'imgwidth',16);var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'imgheight',16);var $2=new Ribbon.RibbonItemStatic();$2.initialise(this._iId,this._rcMouse,this._rcTouch,this._iMenuNo,this._iRtClkMenuNo,this._strText,this._strImgCls,$p0.oRbnContainer,new Kepler.Framework.UI.Size($0,$1));$2.set_kbrdShortcut(this._strKbrdShortcut);var $3=-1;$3=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'shortcutbuddy');if(ss.isValue($3)){$2.set_shortcutBuddy($3);}else{$2.set_shortcutBuddy(-1);}this.setTooltip($2,$p1);$2.set_actionString(this._strActionString);this.addToParent($2,$p0);},$22:function($p0,$p1){if(!this.isCorrectApp($p1)){return;}this.parseCommonAttributes($p1);this._rcMouse.set_top(this._rcMouse.get_top()-this.panE_TOP);this._rcMouse.set_width(this._rcMouse.get_width()-2);this._rcMouse.set_height(this._rcMouse.get_height()-2);this._rcTouch.set_top(this._rcTouch.get_top()-this.panE_TOP);this._rcTouch.set_width(this._rcTouch.get_width()-2);this._rcTouch.set_height(this._rcTouch.get_height()-2);var $0=parseFloat(Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'minval'));$0=(isNaN($0))?0:$0;var $1=parseFloat(Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'maxval'));$1=(isNaN($1))?100:$1;var $2=parseFloat(Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'incrval'));$2=(isNaN($2))?5:$2;var $3=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'unit');var $4=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'type',0);var $5=new Ribbon.RibbonItemSpinCtrl();$5.initialise(this._iId,this._rcMouse,this._rcTouch,-1,this._iRtClkMenuNo,this._strText,null,$p0.oRbnContainer);$5.setInfo($0,$1,$2,$3,$4);$5.set_kbrdShortcut(this._strKbrdShortcut);$5.set_actionString(this._strActionString);this.setTooltip($5,$p1);this.addToParent($5,$p0);$5.set_enabled(this._iEnabled);},parseRoleNormal:function(oParents,elmNode){if(!this.isCorrectApp(elmNode)){return;}this.parseCommonAttributes(elmNode);var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt(elmNode,'dblclk');this._rcMouse.set_top(this._rcMouse.get_top()-this.panE_TOP);this._rcTouch.set_top(this._rcTouch.get_top()-this.panE_TOP+2);this._rcTouch.set_height(this._rcTouch.get_height()-(4));var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt(elmNode,'multiline');var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt(elmNode,'textposition');var $3=new Ribbon.RibbonItemNormal();$3.initialise(this._iId,this._rcMouse,this._rcTouch,this._iMenuNo,this._iRtClkMenuNo,this._strText,this._strImgCls,oParents.oRbnContainer,!!$1);$3.setTextPosition((!$2)?0:1);$3.set_checked((!!this._iChecked));$3.set_kbrdShortcut(this._strKbrdShortcut);$3.set_actionString(this._strActionString);$3.set_dblClkNeeded(($0>0));this.setTooltip($3,elmNode);$3.set_visible((!this._iVisible)?false:true);this.addToParent($3,oParents);$3.set_enabled(this._iEnabled);},$23:function($p0,$p1){if(!this.isCorrectApp($p1)){return;}this.parseCommonAttributes($p1);this._rcMouse.set_top(this._rcMouse.get_top()-this.panE_TOP);this._rcTouch.set_top(this._rcTouch.get_top()-this.panE_TOP);var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'multiline');var $1=new Ribbon.MiniToolbarNormal();$1.initialise(this._iId,this._rcMouse,this._rcTouch,this._iMenuNo,this._iRtClkMenuNo,this._strText,this._strImgCls,$p0.oRbnContainer,!!$0);$1.setTextPosition(1);$1.set_actionString(this._strActionString);this.setTooltip($1,$p1);this.addToParent($1,$p0);$1.set_enabled(this._iEnabled);},parseRoleInternalSeperator:function(oParents,elmNode){if(!this.isCorrectApp(elmNode)){return;}this.parseCommonAttributes(elmNode);this._rcMouse.set_top(this._rcMouse.get_top()-this.panE_TOP);this._rcMouse.set_width(1);this._rcTouch.set_top(this._rcTouch.get_top()-this.panE_TOP);this._rcTouch.set_width(1);var $0=new Ribbon.RibbonItemInternalSeperator();$0.initialise(-1,this._rcMouse,this._rcTouch,-1,-1,null,null,oParents.oRbnContainer);oParents.oRbnItem.addItem($0);$0.createRibbonItem(oParents.oRbnContainer.get_touchMode());},$24:function($p0,$p1){this.parseCommonAttributes($p1);var $0=new Ribbon.RibbonItemDocumentTitle();$0.initialise(this._iId,null,null,-1,this._iRtClkMenuNo,this._strText,null,$p0.oRbnContainer);this.setTooltip($0,$p1);$0.set_actionString(this._strActionString);this.addToParent($0,$p0);Ribbon.BaseRibbonManager.qaT_TITLE_ID=this._iId;},$25:function($p0,$p1){var $0=$p0.oRbnContainer;var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'name');var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'kbdshortcut');var $3=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'id');var $4=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'width');var $5=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'rtmenuno');var $6=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'parserfile');if(ss.isValue($6)){var $7=new Ribbon.FileTab($0,$6);$7.set_ribbonTabType(0);$7.initialise($3,new Kepler.Framework.UI.Rect(0,0,$4,0),null,-1,$5,$1,null,$0);$7.set_kbrdShortcut($2);this.setTooltip($7,$p1);if((Ribbon.BaseRibbonManager).isInstanceOfType($0)){($0).addTab($7);}$0.addItemToContainer($7);}else{}},parseRoleTab:function(oParents,elmNode){if(!this.isCorrectApp(elmNode)){return;}var $0=$(elmNode);var $1=oParents.oRbnContainer;this.parseCommonAttributes(elmNode);var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt(elmNode,'specialtab');var $3=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString(elmNode,'imgprecache');var $4=new Ribbon.RibbonTab();$4.initialise(this._iId,new Kepler.Framework.UI.Rect(0,0,this._rcMouse.get_width(),0),null,-1,this._iRtClkMenuNo,this._strText,null,$1);$4.parseImagePrecache($3);$4.set_kbrdShortcut(this._strKbrdShortcut);this.setTooltip($4,elmNode);$4.set_specialTab((!!$2));if(!!$2){var $7=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt(elmNode,'color',3);$4.set_color($7);}if((Ribbon.BaseRibbonManager).isInstanceOfType($1)){($1).addTab($4);}$1.addItemToContainer($4);var $5=oParents.cloneWithContainerOnly();$5.oRbnItem=$4;var $6=$0.children();this.parseXmlNodes($5,$6);},parseRolePane:function(oParents,elmNode){if(!this.isCorrectApp(elmNode)){return;}var $0=$(elmNode);this.parseCommonAttributes(elmNode);this._rcMouse.set_width((this._rcMouse.get_width()>0)?this._rcMouse.get_width()-1:this._rcMouse.get_width());this._rcTouch.set_width((this._rcTouch.get_width()>0)?this._rcTouch.get_width()-1:this._rcTouch.get_width());this._rcMouse.set_height(Ribbon.BaseRibbonManager.ribboN_PANE_HEIGHT_NORMAL);this._rcTouch.set_height(Ribbon.BaseRibbonManager.ribboN_PANE_HEIGHT_TOUCH);var $1=0,$2=0;var $3=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt(elmNode,'shrink');if($3>0){$1=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt(elmNode,'shrinkwidth',56);$2=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt(elmNode,'shrinktouchwidth',56);}var $4=new Ribbon.RibbonPane();$4.initialise(this._iId,new Kepler.Framework.UI.Rect(0,0,this._rcMouse.get_width(),this._rcMouse.get_height()),new Kepler.Framework.UI.Rect(0,0,this._rcTouch.get_width(),this._rcTouch.get_height()),-1,this._iRtClkMenuNo,this._strText,this._strImgCls,oParents.oRbnContainer,$3>0,$1,$2);$4.set_kbrdShortcut(this._strKbrdShortcut);this.setTooltip($4,elmNode);$4.set_visible((!this._iVisible)?false:true);this.addToParent($4,oParents);var $5=oParents.cloneWithContainerOnly();$5.oRbnItem=$4;var $6=$0.children();this.parseXmlNodes($5,$6);},$26:function($p0,$p1){var $0=$p0.oRbnContainer;if(ss.isValue($0)&&(Ribbon.BaseRibbonManager).isInstanceOfType($0)){var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'name');var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'id');var $3=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'mode');var $4=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'color');var $5=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'align');var $6=new Ribbon.TabHeaderInfo();$6._eAlignment=$5;$6._eColor=$4;$6._sTabHeaderText=$1;var $7=$2.split(Kepler.Framework.Core.Seperators.PIPE);var $enum1=ss.IEnumerator.getEnumerator($7);while($enum1.moveNext()){var $8=$enum1.current;if(!String.isNullOrEmpty($8)){$6._lstSpecialTabs.add(parseInt($8,10));}}($0)._mapTabHeaderInfo[$3]=$6;}else{}},$27:function($p0,$p1){var $0=$p0.oRbnContainer;if(ss.isValue($0)&&(Ribbon.BaseRibbonManager).isInstanceOfType($0)){var $1=$0;var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'mode');var $3=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p1,'activetab');var $4=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'id');var $5=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'othermodes');var $6=new Ribbon.TabMode();$6.iMode=$2;$6.iActiveTab=$3;var $7=$4.split(Kepler.Framework.Core.Seperators.PIPE);var $enum1=ss.IEnumerator.getEnumerator($7);while($enum1.moveNext()){var $9=$enum1.current;if(!String.isNullOrEmpty($9)){$6.lstTabId.add(parseInt($9,10));}}var $8=$5.split(Kepler.Framework.Core.Seperators.PIPE);var $enum2=ss.IEnumerator.getEnumerator($8);while($enum2.moveNext()){var $A=$enum2.current;if(!String.isNullOrEmpty($A)){$6.lstOtherModes.add(parseInt($A,10));}}$1._mapTabMode[$2]=$6;}else{}},$28:function($p0,$p1){var $0=$p0.oRbnContainer;if(ss.isValue($0)&&(Ribbon.BaseRibbonManager).isInstanceOfType($0)){var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'rbnid');var $2=parseInt($1,10);if(isNaN($2)){}else{var $3=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString($p1,'mtbid');var $4=$3.split(Kepler.Framework.Core.Seperators.PIPE);var $5=-1;var $6=[];var $enum1=ss.IEnumerator.getEnumerator($4);while($enum1.moveNext()){var $7=$enum1.current;if(!String.isNullOrEmpty($7)){$5=parseInt($7,10);if(isNaN($5)){}else{$6.add($5);}}}($0).mapRbnToMiniToolbar($2,$6);}}else{}},$29:function($p0,$p1){if(!this.isCorrectApp($p1)){return;}this.parseCommonAttributes($p1);this._rcMouse.set_top(this._rcMouse.get_top()-this.panE_TOP);this._rcTouch.set_top(this._rcTouch.get_top()-this.panE_TOP+2);this._rcTouch.set_height(this._rcTouch.get_height()-4);var $0=new Ribbon.RibbonItemOutlineDropDown();$0.initialise(this._iId,this._rcMouse,this._rcTouch,this._iMenuNo,this._iRtClkMenuNo,this._strText,this._strImgCls,$p0.oRbnContainer);$0.set_kbrdShortcut(this._strKbrdShortcut);$0.set_actionString(this._strActionString);this.setTooltip($0,$p1);this.addToParent($0,$p0);$0.set_enabled(this._iEnabled);},parseRoleColorGrid:function(oParents,elmNode){if(!this.isCorrectApp(elmNode)){return;}this.parseCommonAttributes(elmNode);var $0=new Ribbon.RibbonItemColorGrid();$0.initialise(this._iId,this._rcMouse,this._rcTouch,this._iMenuNo,this._iRtClkMenuNo,this._strText,this._strImgCls,oParents.oRbnContainer);$0.setColorGrid();this.addToParent($0,oParents);$0.set_enabled(this._iEnabled);},parseCommonAttributes:function(elmNode){this._iId=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt(elmNode,'id');this._iMenuNo=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt(elmNode,'menuno');this._iRtClkMenuNo=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt(elmNode,'rtmenuno');this._iChecked=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt(elmNode,'checked');this._iEnabled=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt(elmNode,'enable',1);this._rcMouse=this.$2A(elmNode);this._rcTouch=this.$2B(elmNode);this._strText=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString(elmNode,'name');this._strImgCls=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString(elmNode,'cssclass');this._strKbrdShortcut=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString(elmNode,'kbdshortcut');this._strActionString=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString(elmNode,'actionstring');this._iVisible=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt(elmNode,'visible',1);},$2A:function($p0){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p0,'left');var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p0,'top');var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p0,'width');var $3=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p0,'height');return new Kepler.Framework.UI.Rect($0,$1,$2,$3);},$2B:function($p0){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p0,'touchleft');var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p0,'touchtop');var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p0,'touchwidth');var $3=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p0,'touchheight');return new Kepler.Framework.UI.Rect($0,$1,$2,$3);},setTooltip:function(oItem,elmNode){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString(elmNode,'tt_text');var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString(elmNode,'tt_class');var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt(elmNode,'tt_type',Number.NaN);if(!isNaN($2)&&!String.isNullOrEmpty($0)){var $3=$0.split(Kepler.Framework.Core.Seperators.PIPE);var $4;var $enum1=ss.IEnumerator.getEnumerator($3);while($enum1.moveNext()){var $5=$enum1.current;$4=$5.split(Kepler.Framework.Core.Seperators.miD_DOT,2);if($4.length===1){$0=$4[0];}else if($4.length>1){$2=parseInt($4[0],10);$0=$4[1];}oItem.get_ttParamList().add((isNaN($2))?null:new Kepler.Engine.UI.Controls.Tooltip.Tooltip_Params($2,$0,$1));}}},getTtParams:function(elmNode){var $0=null;var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString(elmNode,'tt_text');var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString(elmNode,'tt_class');var $3=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt(elmNode,'tt_type',Number.NaN);if(!isNaN($3)&&!String.isNullOrEmpty($1)){$0=new Kepler.Engine.UI.Controls.Tooltip.Tooltip_Params($3,$1,$2);}return $0;},addToParent:function(oRbnItem,oParents){if(ss.isValue(oParents.oRbnItem)){oParents.oRbnItem.addItem(oRbnItem);}if(ss.isValue(oParents.oRbnContainer)){oRbnItem.set_defEnabled(this._iEnabled);oParents.oRbnContainer.addItemToContainer(oRbnItem);}if(ss.isValue(oParents.lstRbnItems)){oParents.lstRbnItems.add(oRbnItem);}if(oRbnItem.get_checked()){oRbnItem.drawItem(oRbnItem.get_elementItem());}},$2C:function(){var $0=Kepler.Engine.Core.EngineApp.get_engine().get_currentApp().get_appName().toLowerCase();this._iCurrentApp=15;if(!$0.compareTo('word')){this._iCurrentApp=8;}else if(!$0.compareTo('excel')){this._iCurrentApp=4;}else if(!$0.compareTo('access')){this._iCurrentApp=2;}else if(!$0.compareTo('powerpoint')){this._iCurrentApp=1;}},isCorrectApp:function(elmNode){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt(elmNode,'app',15);return (($0&this._iCurrentApp)===this._iCurrentApp);}}
Type.registerNamespace('Kepler.Engine.UI.Ribbon.Items');Kepler.Engine.UI.Ribbon.Items.RibbonItemBrowseButton=function(){Kepler.Engine.UI.Ribbon.Items.RibbonItemBrowseButton.initializeBase(this);}
Kepler.Engine.UI.Ribbon.Items.RibbonItemBrowseButton.prototype={$13:null,$14:null,initialise:function(iId,rcMouse,rcTouch,iMenuNo,iRtClkMenu,strText,strImageClass,oMsgParent){Kepler.Engine.UI.Ribbon.Items.RibbonItemBrowseButton.callBaseMethod(this, 'initialise',[iId,rcMouse,rcTouch,iMenuNo,iRtClkMenu,strText,strImageClass,oMsgParent]);this.$13=document.createElement('input');this.$13.addEventListener('change',ss.Delegate.create(this,this.$15),false);Kepler.Engine.UI.Helper.HtmlCssHelper.addElementAttribute(this.$13,'id',iId+'filepicker');Kepler.Engine.UI.Helper.HtmlCssHelper.addElementAttribute(this.$13,'accept','application/vnd.openxmlformats-officedocument.spreadsheetml.sheet');Kepler.Engine.UI.Helper.HtmlCssHelper.addElementAttribute(this.$13,'type','file');this.$13.style.visibility='hidden';},createRibbonItem:function(bTouchMode){Kepler.Engine.UI.Ribbon.Items.RibbonItemBrowseButton.callBaseMethod(this, 'createRibbonItem',[bTouchMode]);var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementById(this.get_elementItem(),'ribbonitem-icon');var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementById(this.get_elementItem(),'ribbonitem-text');$0.style.verticalAlign='middle';$0.style.left='-50px';$1.style.left='-45px';$0.style.top='5px';$1.style.top='8px';this.get_elementItem().appendChild(this.$13);},onKeyUp:function(KeyEvtArgs){Kepler.Engine.UI.Ribbon.Items.RibbonItemBrowseButton.callBaseMethod(this, 'onKeyUp',[KeyEvtArgs]);this.$13.click();},onLButtonUp:function(element,mouseEventArgs){var $0=Kepler.Engine.UI.Ribbon.Items.RibbonItemBrowseButton.callBaseMethod(this, 'onLButtonUp',[element,mouseEventArgs]);this.$13.click();return $0;},onMouseClick:function(element,mouseEventArgs){mouseEventArgs.set_propogationStopped(false);mouseEventArgs.set_defaultPrevented(false);return true;},$15:function($p0){if($p0.target.files!=null){if($p0.target.files[0]!=null){this.$14=$p0.target.files[0];var $0=this.$14.name;var $1=$0.split('.')[$0.split('.').length-1];if($1==='xlsx'){Kepler.Engine.Core.EngineApp.get_engine().getCurrentAppView().sendMessage('on_msg_import_file_to_excel',this,this.$14);$p0.srcElement.value = null;this.$14=null;}}}}}
Kepler.Engine.UI.Ribbon.Items.Engine$19=function(){Kepler.Engine.UI.Ribbon.Items.Engine$19.initializeBase(this);}
Kepler.Engine.UI.Ribbon.Items.Engine$19.prototype={initialise:function($p0,$p1,$p2,$p3,$p4,$p5,$p6,$p7){Kepler.Engine.UI.Ribbon.Items.Engine$19.callBaseMethod(this, 'initialise',[$p0,$p1,$p2,$p3,$p4,$p5,$p6,$p7]);},createRibbonItem:function($p0){Kepler.Engine.UI.Ribbon.Items.Engine$19.callBaseMethod(this, 'createRibbonItem',[$p0]);var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementById(this.get_elementItem(),'ribbonitem-icon');var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementById(this.get_elementItem(),'ribbonitem-text');$0.style.left='38px';$1.style.left='-10px';$0.style.top='48px';$1.style.top='20px';},onKeyUp:function($p0){Kepler.Engine.UI.Ribbon.Items.Engine$19.callBaseMethod(this, 'onKeyUp',[$p0]);Kepler.Engine.Core.EngineApp.get_engine().getCurrentAppView().sendMessage('on_msg_export_file_as_excel',this,null);},onLButtonUp:function($p0,$p1){var $0=Kepler.Engine.UI.Ribbon.Items.Engine$19.callBaseMethod(this, 'onLButtonUp',[$p0,$p1]);Kepler.Engine.Core.EngineApp.get_engine().getCurrentAppView().sendMessage('on_msg_export_file_as_excel',this,null);return $0;}}
Type.registerNamespace('Kepler.Engine.UI.MiniToolbar');Kepler.Engine.UI.MiniToolbar.BaseMiniToolbar=function(oAppFrame){Kepler.Engine.UI.MiniToolbar.BaseMiniToolbar.initializeBase(this,['mini_toolbar','mini_toolbar',false]);this.set_showHideProperty(Kepler.Framework.UI.ShowHideProperty.display);this.show(false);this._strTaitPrefix='minitoolbar';this.set_strIDPrefix('mtb');this.set_zIndex(Kepler.Framework.UI.Controls.ZIndexConstants.frame_Menu_Min);this.$4_1A=ss.Delegate.create(this,this.mouseHookProc);this.$4_1B=ss.Delegate.create(this,this.keyboardHookProc);this.$4_19=new Kepler.Engine.UI.Transparency_Animation(this,ss.Delegate.create(this,this.hideMiniToolbar));this.$4_24();this.$4_1E(oAppFrame);}
Kepler.Engine.UI.MiniToolbar.BaseMiniToolbar.prototype={$4_18:0,$4_19:null,$4_1A:null,$4_1B:null,$4_1C:null,$4_1D:null,$4_1E:function($p0){if((Kepler.Engine.UI.WeapAppFrame).isInstanceOfType($p0)){var $0=$p0;var $1=Kepler.Engine.Core.EngineApp.get_engine().get_commonResourcePath()+Kepler.Engine.UI.BaseAppFrame.xmL_AUTOMATION_FILE;this.$4_1C=new Ribbon.MiniToolbarParser($1);$1=$0.get_resourcePath()+Kepler.Engine.UI.BaseAppFrame.xmL_AUTOMATION_FILE;this.$4_1D=new Ribbon.MiniToolbarParser($1);}},onLoad:function(){Kepler.Engine.UI.MiniToolbar.BaseMiniToolbar.callBaseMethod(this, 'onLoad');(this.get_parent()).getCommonAppParser(ss.Delegate.create(this,this.$4_21),ss.Delegate.create(this,this.$4_23));(this.get_parent()).getAppParser(ss.Delegate.create(this,this.$4_22),ss.Delegate.create(this,this.$4_23));},$4_1F:function(){if(!this.$4_1C.get_downloaded()||!this.$4_1D.get_downloaded()||!this.get_loaded()||this._bParsingDone){return;}this.$4_20(this.$4_1C);this.$4_20(this.$4_1D);this.parsingCompleted();},$4_20:function($p0){var $0=new Ribbon.XmlParser_ParentParam();$0.oRbnItem=null;$0.element=null;$0.lstRbnItems=null;$0.oRbnContainer=this;var $1='minitoolbar';$p0.startXmlParsing($1,$0);},$4_21:function($p0){this.$4_1C.set_xmlNode($p0.get_xmlNode());this.$4_1F();},$4_22:function($p0){this.$4_1D.set_xmlNode($p0.get_xmlNode());this.$4_1F();},$4_23:function($p0){},addItemToContainer:function(oRibbonItem){if(ss.isNullOrUndefined(oRibbonItem)){return;}this._mapRibbonItem[oRibbonItem.get_id()]=oRibbonItem;oRibbonItem.createRibbonItem(false);this.fillDefaultState(oRibbonItem);},showMiniToolbar:function(iPaneId){if(this.$4_18!==iPaneId){this.show(false);var $0=this._mapRibbonItem[this.$4_18];this.$4_18=iPaneId;var $1=this._mapRibbonItem[this.$4_18];if(ss.isValue($1)){if(ss.isValue($0)){$0.set_visible(false);}this.set_width($1.get_rectangleMouse().get_width());this.set_height($1.get_rectangleMouse().get_height());$1.set_visible(true);this.get_element().appendChild($1.get_elementItem());}}this.show(true);this.$4_25();},$4_24:function(){this.get_elementStyle().opacity='1';this.$4_19._bAnimation=false;this.$4_19._iDistCur=1;this.$4_19._iDistTransparentAnim1=50;this.$4_19._iDistTransparentAnimX=80;this.$4_19._iDistOpaqueAnim1=1;this.$4_19._iDistOpaqueAnimX=1;this.$4_19._iDistVisibleAnim1=100;this.$4_19._iDistVisibleAnimX=150;},hideMiniToolbar:function(){this.show(false);this.$4_26();this.$4_24();},$4_25:function(){if(2!==this.get_parent().sendMessage('eONDetectMode',null,null)){if(!Kepler.Framework.UI.Events.Hooks.MouseHook.isRegistered(this.$4_1A)){Kepler.Framework.UI.Events.Hooks.MouseHook.register(this.$4_1A);}if(!Kepler.Framework.UI.Events.Hooks.TouchHook.isRegistered(this.$4_1A)){Kepler.Framework.UI.Events.Hooks.TouchHook.register(this.$4_1A);}if(!Kepler.Framework.UI.Events.Hooks.KeyboardHook.isRegistered(this.$4_1B)){Kepler.Framework.UI.Events.Hooks.KeyboardHook.register(this.$4_1B);}}},$4_26:function(){Kepler.Framework.UI.Events.Hooks.MouseHook.unRegister(this.$4_1A);Kepler.Framework.UI.Events.Hooks.TouchHook.unRegister(this.$4_1A);Kepler.Framework.UI.Events.Hooks.KeyboardHook.unRegister(this.$4_1B);},initialise:function(){this.$4_1F();},attachEvents:function(){Kepler.Engine.UI.MiniToolbar.BaseMiniToolbar.callBaseMethod(this, 'attachEvents');},onParentResized:function(size){this.hideMiniToolbar();},setTaitDataFromRibbon:function(mapOverrides,lstAction){this.setTaitOverridesFromRibbon(mapOverrides);this.setTaitActonFromRibbon(lstAction);},setTaitOverridesFromRibbon:function(mapOverridesFromRbn){var $0=-1;var $1=null;var $dict1=mapOverridesFromRbn;for(var $key2 in $dict1){var $2={key:$key2,value:$dict1[$key2]};$0=$2.key;$1=$2.value;if(ss.isNullOrUndefined(this._mapOverrideState[$0])){this._mapOverrideState[$0]=$1;}}this.setOverrides(this._mapOverrideState);},setTaitActonFromRibbon:function(lstAction){var $0=-1;var $1=false;var $2=[];var $enum1=ss.IEnumerator.getEnumerator(lstAction);while($enum1.moveNext()){var $3=$enum1.current;$0=$3.get_id();var $enum2=ss.IEnumerator.getEnumerator(this._lstAction);while($enum2.moveNext()){var $4=$enum2.current;if($0===$4.get_id()){$1=true;break;}}if(!$1){$2.add($3);}}this._lstAction.addRange($2);},onUnload:function(){this.$4_1B=this.$4_1A=null;Kepler.Engine.UI.MiniToolbar.BaseMiniToolbar.callBaseMethod(this, 'onUnload');},mouseHookProc:function(evt){var $0=this.get_parent().sendMessage('msg_is_any_menu_in_view',null,null);var $1=evt.get_target();switch(evt.get_type()){case Kepler.Framework.UI.Events.EventArgsNs.EventType.touchStart:case Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseDown:if(Kepler.Engine.UI.Helper.HtmlCssHelper.isElemOut('#'+'mini_toolbar',$1)&&Kepler.Engine.UI.Helper.HtmlCssHelper.isElemOut('#'+Kepler.Engine.UI.Menu.BaseMenuManager.menU_ID,$1)){this.hideMiniToolbar();}break;case Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseMove:if(Kepler.Engine.UI.Helper.HtmlCssHelper.isElemOut('#'+'mini_toolbar',$1)){if(!$0){this.$4_19.transparentControl(evt);}}else{this.$4_19._bAnimation=false;this.get_elementStyle().opacity='1';this.onMouseMove(evt);}break;case Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseOver:if(!Kepler.Engine.UI.Helper.HtmlCssHelper.isElemOut('#'+'mini_toolbar',$1)){this.onMouseOver(evt);}break;case Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseOut:if(!Kepler.Engine.UI.Helper.HtmlCssHelper.isElemOut('#'+'mini_toolbar',$1)){this.onMouseOut(evt);}break;default:break;}return false;},keyboardHookProc:function(evt){var $0=evt.get_type();var $1=false;switch($0){case Kepler.Framework.UI.Events.EventArgsNs.EventType.keyDown:var $2=evt;var $3=$2.get_key();var $4=this.get_parent().sendMessage('msg_menu_count_in_view',null,null);switch($3){case Kepler.Framework.UI.Events.EventArgsNs.Keys.escape:if($4<=1&&!this._bMenuDropDown){this.hideMiniToolbar();}break;case Kepler.Framework.UI.Events.EventArgsNs.Keys.menu:this.hideMiniToolbar();if(!$4){$1=true;}break;default:if(!$4&&this._oFocusRbnItem==null){var $5=this.getFocus();var $6=false;while(ss.isValue($5)&&!($6=(Kepler.Engine.UI.BaseAppView).isInstanceOfType($5))){$5=$5.get_parent();}if($6){this.hideMiniToolbar();}}break;}break;default:break;}return $1;}}
Type.registerNamespace('Kepler.Engine.UI.JQueryHelper');Kepler.Engine.UI.JQueryHelper.jQueryPositionMutable=function(){}
Kepler.Engine.UI.JQueryHelper.jQueryPositionMutable.prototype={left:0,top:0,fromJQueryPosition:function(p){this.left=p.left;this.top=p.top;},toJQueryPosition:function(){return this;}}
Type.registerNamespace('Kepler.Engine.UI.Themed_Controls');Kepler.Engine.UI.Themed_Controls.ThemeSplitColorButton=function(ptPosition,oCtrlSize,iMenuNo,strId){Kepler.Engine.UI.Themed_Controls.ThemeSplitColorButton.initializeBase(this,[ptPosition,oCtrlSize,iMenuNo,strId]);Kepler.Engine.UI.Helper.HtmlCssHelper.addElementAttribute(this.get_element(),'name',(Kepler.Engine.UI.Controls.ComboBox.SplitColorButton).get_name());this.get_element().className=' theme_split_color_button';this.get_element().style.position='absolute';this.$3_16=Kepler.Framework.UI.ThemeDetails.get_currentTheme();}
Kepler.Engine.UI.Themed_Controls.ThemeSplitColorButton.prototype={$3_16:null,$3_17:null,createContentPart:function(){var $0=this.get_size().get_width();var $1=this.get_size().get_height();this.$3_17=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div',null,'absolute',$0-32-3,3,32,12,'theme_split_color_image',null);this._elmColorContainer=Kepler.Engine.UI.Helper.HtmlCssHelper.createElement('div',null,'absolute',$0-32-3,3+12,16,4,null,null);this._elmColorContainer.style.backgroundColor='Black';this.get_element().appendChild(this.$3_17);this.get_element().appendChild(this._elmColorContainer);},changeState:function(eState){var $0='';var $1='';switch(eState){case Kepler.Framework.UI.Controls.EItemState.eFocus:case Kepler.Framework.UI.Controls.EItemState.eHover:$0=this.$3_16.get_colorHover();this.get_elementStyle().borderColor=this.$3_16.get_colorPressed();break;case Kepler.Framework.UI.Controls.EItemState.eNormal:$0='';this.get_elementStyle().borderColor='';if(this.getFocus()===this){this.changeState(Kepler.Framework.UI.Controls.EItemState.eHover);}break;case Kepler.Framework.UI.Controls.EItemState.ePressed:case Kepler.Framework.UI.Controls.EItemState.ePressedHover:$0=this.$3_16.get_colorPressed();this.get_elementStyle().borderColor=this.$3_16.get_colorNormalLight();break;case Kepler.Framework.UI.Controls.EItemState.eDisabled:if(!this.get_visible()){$1='_disabled'+Kepler.Engine.UI.Controls.Control.csS_CLASS_DISPLAY_NONE;}else{$1='_disabled';}break;default:throw new Error('Not Implemented Exception : '+'eState');}if($1.length>0){this.get_element().className=' theme_split_color_button'+' theme_split_color_button'+$1;}this.get_elementStyle().backgroundColor=$0;},getFocusRect:function(){var $0=new Kepler.Framework.UI.Rect(0,0,0,0);this.changeState(Kepler.Framework.UI.Controls.EItemState.eFocus);return $0;}}
Kepler.Engine.UI.Themed_Controls.ThemeSplitButton=function(strHtml,oPosition,oSize,strClassName,strImgPath,ptImgPosition,sizeImgSize,iMenuNum,strSelectionIndex,eMode,strId,element){Kepler.Engine.UI.Themed_Controls.ThemeSplitButton.initializeBase(this,[strHtml,oPosition,oSize,' theme_button',strImgPath,ptImgPosition,sizeImgSize,iMenuNum,strSelectionIndex,eMode,strId,element]);this.$3_F=Kepler.Framework.UI.ThemeDetails.get_currentTheme();}
Kepler.Engine.UI.Themed_Controls.ThemeSplitButton.prototype={$3_F:null,drawItem:function(eState){Kepler.Engine.UI.Themed_Controls.ThemeSplitButton.callBaseMethod(this, 'drawItem',[eState]);var $0='';var $1='';var $2='';switch(eState){case Kepler.Framework.UI.Controls.EItemState.eFocus:case Kepler.Framework.UI.Controls.EItemState.eHover:$0=this.$3_F.get_colorHover();$2=this.$3_F.get_colorPressed();break;case Kepler.Framework.UI.Controls.EItemState.eNormal:$0='';$2='';if(this.getFocus()===this){this.drawItem(Kepler.Framework.UI.Controls.EItemState.eHover);}break;case Kepler.Framework.UI.Controls.EItemState.ePressed:case Kepler.Framework.UI.Controls.EItemState.ePressedHover:$0=this.$3_F.get_colorPressed();$2=this.$3_F.get_colorNormalLight();break;case Kepler.Framework.UI.Controls.EItemState.eDisabled:if(!this.get_visible()){$1='_disabled'+Kepler.Engine.UI.Controls.Control.csS_CLASS_DISPLAY_NONE;}else{$1='_disabled';}break;default:throw new Error('Not Implemented Exception : '+'eState');}if($1.length>0){this.get_element().className=' theme_button'+' theme_button'+$1;}this.get_elementStyle().backgroundColor=$0;this.get_elementStyle().borderColor=$2;},onLostFocus:function(oFocusedNewControl){Kepler.Engine.UI.Themed_Controls.ThemeSplitButton.callBaseMethod(this, 'onLostFocus',[oFocusedNewControl]);this.drawItem(Kepler.Framework.UI.Controls.EItemState.eNormal);},getFocusRect:function(){var $0=new Kepler.Framework.UI.Rect(0,0,0,0);this.drawItem(Kepler.Framework.UI.Controls.EItemState.eFocus);return $0;}}
Type.registerNamespace('Kepler.Engine.UI.StatusBar.Items');Kepler.Engine.UI.StatusBar.Items.StatusBarItem=function(){Kepler.Engine.UI.StatusBar.Items.StatusBarItem.initializeBase(this);this._bRightAlign=false;this._bVisible=true;}
Kepler.Engine.UI.StatusBar.Items.StatusBarItem.prototype={_bRightAlign:false,get_rightAlign:function(){return this._bRightAlign;},set_rightAlign:function(value){this._bRightAlign=value;return value;},drawItem:function(element){Kepler.Engine.UI.StatusBar.Items.StatusBarItem.callBaseMethod(this, 'drawItem',[element]);}}
Kepler.Engine.UI.StatusBar.Items.StatusBarItemNormal=function(){Kepler.Engine.UI.StatusBar.Items.StatusBarItemNormal.initializeBase(this);this._elemItem=document.createElement('div');this.$C=0;this.$D=0;this.$E=0;this.$F=0;}
Kepler.Engine.UI.StatusBar.Items.StatusBarItemNormal.prototype={$C:0,$D:0,$E:0,$F:0,initialise:function(iId,rcMouse,rcTouch,iMenuNo,iRtClkMenu,strText,strImageClass,oMsgParent){Kepler.Engine.UI.StatusBar.Items.StatusBarItemNormal.callBaseMethod(this, 'initialise',[iId,rcMouse,rcTouch,iMenuNo,iRtClkMenu,strText,strImageClass,oMsgParent]);if(ss.isValue(this._rcMouse)){this.$C=(this._rcMouse.get_width()-16)/2;this.$E=(Ribbon.BaseRibbonManager.statusbaR_HEIGHT_NORMAL-16)/2;}if(ss.isValue(this._rcTouch)){this.$D=(this._rcTouch.get_width()-16)/2;this.$F=(Ribbon.BaseRibbonManager.statusbaR_HEIGHT_TOUCH-16)/2;}},createRibbonItem:function(bTouchMode){Kepler.Engine.UI.StatusBar.Items.StatusBarItemNormal.callBaseMethod(this, 'createRibbonItem',[bTouchMode]);this._elemItem.style.width=this._elemItem.style.height=16+'px';this.$10(bTouchMode);this._elemItem.style.cssFloat=(this._bRightAlign)?'right':'left';this._elemItem.className='statusbar_normal'+' '+this._strImageClass;this._elemItem.rbnItem=this;this._elemItem.setAttribute('controltype','button');this._elemItem.setAttribute('role','button');},toString:function(){return 'StatusBarItemNormal';},drawItem:function(element){this.drawState();},drawState:function(){var $0='';switch(this._eToState){case Kepler.Framework.UI.Controls.EItemState.eNormal:$0=(this.get_checked()&&!!this._iEnabled)?this._oThemeDetails.get_colorStatusBarChecked():'';break;case Kepler.Framework.UI.Controls.EItemState.eFocus:case Kepler.Framework.UI.Controls.EItemState.eHover:if(!!this._iEnabled){if(this.get_checked()){$0=this._oThemeDetails.get_colorStatusBarCheckedHover();}else{$0=this._oThemeDetails.get_colorStatusBarHover();}}break;case Kepler.Framework.UI.Controls.EItemState.ePressedHover:case Kepler.Framework.UI.Controls.EItemState.ePressed:$0=this._oThemeDetails.get_colorStatusBarChecked();break;case Kepler.Framework.UI.Controls.EItemState.eFocusHover:break;default:break;}this._elemItem.style.backgroundColor=$0;this._elemItem.style.borderColor=$0;this._elemItem.style.color=this._oThemeDetails.get_colorStatusBarText();},drawHighlightedState:function(){this.highlightDiv(this._elemItem);},toggleMode:function(bMode){Kepler.Engine.UI.StatusBar.Items.StatusBarItemNormal.callBaseMethod(this, 'toggleMode',[bMode]);this.$10(bMode);},$10:function($p0){this._elemItem.style.borderLeftWidth=this._elemItem.style.borderRightWidth=this.$11($p0)+'px';this._elemItem.style.borderTopWidth=this.$12($p0)+'px';this._elemItem.style.borderBottomWidth=this.$12($p0)-1+'px';},$11:function($p0){return ($p0)?this.$D:this.$C;},$12:function($p0){return ($p0)?this.$F:this.$E;}}
Kepler.Engine.UI.StatusBar.Items.StatusBarItemStatic=function(){Kepler.Engine.UI.StatusBar.Items.StatusBarItemStatic.initializeBase(this);this._elemItem=document.createElement('div');this._bFocusable=false;}
Kepler.Engine.UI.StatusBar.Items.StatusBarItemStatic.prototype={createRibbonItem:function(bTouchMode){Kepler.Engine.UI.StatusBar.Items.StatusBarItemStatic.callBaseMethod(this, 'createRibbonItem',[bTouchMode]);this._elemItem.innerHTML=this.get_text();this.$E(bTouchMode);this.$D(bTouchMode);this._elemItem.style.cssFloat=(this._bRightAlign)?'right':'left';this._elemItem.setAttribute('role','button');Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this._elemItem,'statusbar_static');},toggleMode:function(bMode){Kepler.Engine.UI.StatusBar.Items.StatusBarItemStatic.callBaseMethod(this, 'toggleMode',[bMode]);this.$D(bMode);this.$E(bMode);},reflectText:function(){this._elemItem.innerHTML=this.get_text();},$D:function($p0){if($p0){this._elemItem.style.paddingLeft=18+'px';this._elemItem.style.paddingRight=16+'px';}else{this._elemItem.style.paddingLeft=11+'px';this._elemItem.style.paddingRight=9+'px';}},$E:function($p0){this._elemItem.style.lineHeight=(($p0)?Ribbon.BaseRibbonManager.statusbaR_HEIGHT_TOUCH:Ribbon.BaseRibbonManager.statusbaR_HEIGHT_NORMAL)+'px';},drawItem:function(element){var $0='';switch(this._eToState){case Kepler.Framework.UI.Controls.EItemState.eNormal:$0=(this.get_checked()&&!!this._iEnabled)?this._oThemeDetails.get_colorStatusBarChecked():'';break;case Kepler.Framework.UI.Controls.EItemState.eFocus:case Kepler.Framework.UI.Controls.EItemState.eHover:if(!!this._iEnabled){if(this.get_checked()){$0=this._oThemeDetails.get_colorStatusBarCheckedHover();}else{$0=this._oThemeDetails.get_colorStatusBarHover();}}break;case Kepler.Framework.UI.Controls.EItemState.ePressedHover:case Kepler.Framework.UI.Controls.EItemState.ePressed:$0=this._oThemeDetails.get_colorStatusBarChecked();break;case Kepler.Framework.UI.Controls.EItemState.eFocusHover:break;default:break;}this._elemItem.style.borderColor=$0;this._elemItem.style.color=this._oThemeDetails.get_colorStatusBarText();}}
Kepler.Engine.UI.StatusBar.Items.StatusBarItemTextBtn=function(){Kepler.Engine.UI.StatusBar.Items.StatusBarItemTextBtn.initializeBase(this);this._elemItem=document.createElement('div');}
Kepler.Engine.UI.StatusBar.Items.StatusBarItemTextBtn.prototype={$D:false,get_isUsedForFileTab:function(){return this.$D;},set_isUsedForFileTab:function(value){this.$D=value;return value;},createRibbonItem:function(bTouchMode){Kepler.Engine.UI.StatusBar.Items.StatusBarItemTextBtn.callBaseMethod(this, 'createRibbonItem',[bTouchMode]);this.$F(bTouchMode);this.$E(bTouchMode);this._elemItem.innerHTML=this.get_text();this._elemItem.style.cssFloat=(this._bRightAlign)?'right':'left';this._elemItem.rbnItem=this;this._elemItem.setAttribute('controltype','button');this._elemItem.setAttribute('role','button');Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this._elemItem,'statusbar_text');},drawItem:function(element){this.drawState();},drawHighlightedState:function(){this.highlightDiv(this._elemItem);},drawState:function(){var $0='';switch(this._eToState){case Kepler.Framework.UI.Controls.EItemState.eNormal:if(!this.$D){$0=(this.get_checked()&&!!this._iEnabled)?this._oThemeDetails.get_colorNormalDark():'';}else{$0=(this.get_checked()&&!!this._iEnabled)?'white':'';this._elemItem.style.border='1px solid transparent';}break;case Kepler.Framework.UI.Controls.EItemState.eFocus:case Kepler.Framework.UI.Controls.EItemState.eHover:if(!this.$D){if(!!this._iEnabled){if(this.get_checked()){$0=this._oThemeDetails.get_colorStatusBarCheckedHover();}else{$0=this._oThemeDetails.get_colorStatusBarHover();}}}else{$0=this._oThemeDetails.get_colorHover();this._elemItem.style.border=this._oThemeDetails.get_colorPressed()+' 1px solid';}break;case Kepler.Framework.UI.Controls.EItemState.ePressedHover:case Kepler.Framework.UI.Controls.EItemState.ePressed:if(!this.$D){$0=this._oThemeDetails.get_colorStatusBarChecked();}else{$0=this._oThemeDetails.get_colorPressed();this._elemItem.style.border=this._oThemeDetails.get_colorNormal()+' 1px solid';}break;case Kepler.Framework.UI.Controls.EItemState.eFocusHover:break;default:break;}this._elemItem.style.backgroundColor=$0;this._elemItem.style.color=this._oThemeDetails.get_colorStatusBarText();},toggleMode:function(bMode){Kepler.Engine.UI.StatusBar.Items.StatusBarItemTextBtn.callBaseMethod(this, 'toggleMode',[bMode]);this.$E(bMode);this.$F(bMode);},reflectText:function(){this._elemItem.innerHTML=this.get_text();},$E:function($p0){if($p0){this._elemItem.style.paddingLeft=14+'px';this._elemItem.style.paddingRight=17+'px';}else{this._elemItem.style.paddingLeft=7+'px';this._elemItem.style.paddingRight=10+'px';}},$F:function($p0){this._elemItem.style.lineHeight=(($p0)?Ribbon.BaseRibbonManager.statusbaR_HEIGHT_TOUCH:Ribbon.BaseRibbonManager.statusbaR_HEIGHT_NORMAL)+'px';}}
Kepler.Engine.UI.StatusBar.Items.StatusBarZoomCtrl=function(){Kepler.Engine.UI.StatusBar.Items.StatusBarZoomCtrl.initializeBase(this);this.$11=10;this.$12=400;this.$13=10;this.$14=Kepler.Engine.UI.StatusBar.Items.StatusBarZoomCtrl.scrolL_STYLE_CEILING;this._elemItem=document.createElement('div');this.$19=null;this.$18={};}
Kepler.Engine.UI.StatusBar.Items.StatusBarZoomCtrl.prototype={slideR_LEFT:18,thumB_LEFT:10,$11:0,$12:0,$13:0,$14:0,$15:false,$16:null,_eleZoomOutContainer:null,_eleZoomOut:null,_eleSlider:null,_eleThumb:null,_eleSlideMarker:null,_eleZoomInContainer:null,_eleZoomInHorizontal:null,_eleZoomInVertical:null,$17:null,_sbZoomCtrlBtn:null,$18:null,$19:null,initialise:function(iId,rcMouse,rcTouch,iMenuNo,iRtClkMenu,strText,strImageClass,oMsgParent){Kepler.Engine.UI.StatusBar.Items.StatusBarZoomCtrl.callBaseMethod(this, 'initialise',[iId,rcMouse,rcTouch,iMenuNo,iRtClkMenu,strText,strImageClass,oMsgParent]);this._sbZoomCtrlBtn=new Kepler.Engine.UI.StatusBar.Items.StatusBarItemTextBtn();this._sbZoomCtrlBtn.initialise(this.get_id()*10+1,null,null,-1,-1,this.get_text(),null,this._oMsgParent);this._sbZoomCtrlBtn.set_visible(true);this._sbZoomCtrlBtn.set_checked(false);this.addItem(this._sbZoomCtrlBtn);this._sbZoomCtrlBtn.createRibbonItem((this._oMsgParent).get_touchMode());this._sbZoomCtrlBtn.get_elementItem().style.cssFloat='right';this._lstTTParams.add(new Kepler.Engine.UI.Controls.Tooltip.Tooltip_Params(Kepler.Engine.UI.Controls.Tooltip.ETooltipTypes.simplE_DESCR,'Zoom Out',null));this._lstTTParams.add(new Kepler.Engine.UI.Controls.Tooltip.Tooltip_Params(Kepler.Engine.UI.Controls.Tooltip.ETooltipTypes.simplE_DESCR,'Zoom',null));this._lstTTParams.add(new Kepler.Engine.UI.Controls.Tooltip.Tooltip_Params(Kepler.Engine.UI.Controls.Tooltip.ETooltipTypes.simplE_DESCR,'Zoom In',null));this._sbZoomCtrlBtn.get_ttParamList().add(new Kepler.Engine.UI.Controls.Tooltip.Tooltip_Params(Kepler.Engine.UI.Controls.Tooltip.ETooltipTypes.simplE_DESCR,'Zoom Level. Click to open the Zoom dialog box.',null));},createRibbonItem:function(bTouchMode){Kepler.Engine.UI.StatusBar.Items.StatusBarZoomCtrl.callBaseMethod(this, 'createRibbonItem',[bTouchMode]);this._elemItem.style.height=Ribbon.BaseRibbonManager.statusbaR_HEIGHT_NORMAL+'px';this._elemItem.style.cssFloat=(this._bRightAlign)?'right':'left';Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this._elemItem,'class_ZoomControl ');this._eleZoomOutContainer=document.createElement('div');this._eleZoomOutContainer.setAttribute('controltype','button');this._elemItem.appendChild(this._eleZoomOutContainer);Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this._eleZoomOutContainer,'class_ZoomOutContainer ');this._eleZoomOut=document.createElement('div');this._eleZoomOut.setAttribute('controltype','button');this._eleZoomOutContainer.appendChild(this._eleZoomOut);Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this._eleZoomOut,'class_ZoomOut ');this._eleSlider=document.createElement('div');this._eleThumb=document.createElement('div');this._elemItem.appendChild(this._eleSlider);this._elemItem.appendChild(this._eleThumb);Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this._eleSlider,'class_Slider ');Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this._eleThumb,'class_Thumb ');this._eleSlider.setAttribute('controltype','button');this._eleThumb.setAttribute('controltype','button');this._eleSlideMarker=document.createElement('div');this._elemItem.appendChild(this._eleSlideMarker);Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this._eleSlideMarker,'class_SliderMarker ');this._eleZoomInContainer=document.createElement('div');this._eleZoomInContainer.setAttribute('controltype','button');this._elemItem.appendChild(this._eleZoomInContainer);Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this._eleZoomInContainer,'class_ZoomInContainer ');this._eleZoomInHorizontal=document.createElement('div');this._eleZoomInVertical=document.createElement('div');this._eleZoomInContainer.appendChild(this._eleZoomInHorizontal);this._eleZoomInContainer.appendChild(this._eleZoomInVertical);Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this._eleZoomInHorizontal,'class_ZoomInHorizontal ');Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass(this._eleZoomInVertical,'class_ZoomInVertical ');this._eleZoomInHorizontal.setAttribute('controltype','button');this._eleZoomInVertical.setAttribute('controltype','button');this._eleThumb.rbnItem=this;this._eleSlider.rbnItem=this;this._eleZoomInContainer.rbnItem=this;this._eleZoomOutContainer.rbnItem=this;this._elemItem.setAttribute('controltype','button');this._elemItem.setAttribute('role','button');if(bTouchMode){this.toggleMode(bTouchMode);}},toggleMode:function(bMode){Kepler.Engine.UI.StatusBar.Items.StatusBarZoomCtrl.callBaseMethod(this, 'toggleMode',[bMode]);if(bMode){this._elemItem.style.height=Ribbon.BaseRibbonManager.statusbaR_HEIGHT_TOUCH+'px';this._elemItem.style.width='189px';this._eleZoomOutContainer.style.height='20px';this._eleZoomOut.style.top='10px';this._eleSlider.style.top='10px';this._eleThumb.style.top='10px';this._eleSlideMarker.style.top='13px';this._eleZoomInContainer.style.height='20px';this._eleZoomInHorizontal.style.top='10px';this._eleZoomInVertical.style.top='7px';}else{this._elemItem.style.height=Ribbon.BaseRibbonManager.statusbaR_HEIGHT_NORMAL+'px';this._elemItem.style.width='';this._eleZoomOutContainer.style.height='';this._eleZoomOut.style.top='';this._eleSlider.style.top='';this._eleThumb.style.top='';this._eleSlideMarker.style.top='';this._eleZoomInContainer.style.height='';this._eleZoomInHorizontal.style.top='';this._eleZoomInVertical.style.top='';}},drawItem:function(element){this.drawState(element);},drawState:function(element){switch(this._eToState){case Kepler.Framework.UI.Controls.EItemState.eNormal:this._eleThumb.style.opacity='1';this._eleZoomInHorizontal.style.opacity='1';this._eleZoomInVertical.style.opacity='1';this._eleZoomOut.style.opacity='1';this._eleThumb.style.backgroundColor='#676767';this._eleZoomInHorizontal.style.backgroundColor='#676767';this._eleZoomInVertical.style.backgroundColor='#676767';this._eleZoomOut.style.backgroundColor='#676767';this._eleSlider.style.backgroundColor='#ABABAB';this._eleSlideMarker.style.backgroundColor='#ABABAB';break;case Kepler.Framework.UI.Controls.EItemState.eHover:case Kepler.Framework.UI.Controls.EItemState.ePressedHover:case Kepler.Framework.UI.Controls.EItemState.ePressed:if(element===this._eleSlider){this._eleThumb.style.opacity='0.6';}else if(element===this._eleZoomInContainer){this._eleZoomInHorizontal.style.opacity='0.6';this._eleZoomInVertical.style.opacity='0.6';}else if(element===this._eleZoomOutContainer){this._eleZoomOut.style.opacity='0.6';}else{element.style.opacity='0.6';}break;case Kepler.Framework.UI.Controls.EItemState.eFocus:case Kepler.Framework.UI.Controls.EItemState.eFocusHover:if(element===this._eleZoomInContainer){this._eleZoomInHorizontal.style.opacity='0.6';this._eleZoomInVertical.style.opacity='0.6';this._eleZoomOut.style.opacity='';}else if(element===this._eleZoomOutContainer){this._eleZoomInHorizontal.style.opacity='';this._eleZoomInVertical.style.opacity='';this._eleZoomOut.style.opacity='0.6';}else{this._eleZoomInHorizontal.style.opacity='';this._eleZoomInVertical.style.opacity='';this._eleZoomOut.style.opacity='';}break;default:break;}},drawEnabledDisabledState:function(){if(!this._iEnabled){this._sbZoomCtrlBtn.set_enabled(0);this._eleZoomOut.style.backgroundColor='#08532A';this._eleZoomInHorizontal.style.backgroundColor='#08532A';this._eleZoomInVertical.style.backgroundColor='#08532A';this._eleThumb.style.display='none';this._sbZoomCtrlBtn.get_elementItem().style.opacity='0.7';}else{this._sbZoomCtrlBtn.set_enabled(1);this._eleZoomOut.style.backgroundColor='#676767';this._eleZoomInHorizontal.style.backgroundColor='#676767';this._eleZoomInVertical.style.backgroundColor='#676767';this._eleThumb.style.backgroundColor='#676767';this._eleSlider.style.backgroundColor='#ABABAB';this._eleSlideMarker.style.backgroundColor='#ABABAB';this._eleThumb.style.display='block';this._sbZoomCtrlBtn.get_elementItem().style.opacity='1';}},drawHighlightedState:function(){Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(this._sbZoomCtrlBtn.get_elementItem(),'class_visual_hint ');Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(this._eleZoomOut,'class_visual_hint ');Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(this._eleZoomInHorizontal,'class_visual_hint ');Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(this._eleZoomInVertical,'class_visual_hint ');Kepler.Engine.UI.Helper.HtmlCssHelper.removeCssClass(this._eleSlider,'class_visual_hint ');var $0=null;var $1=null;switch(this._iHighlight){case 1:$0=this._sbZoomCtrlBtn.get_elementItem();break;case 2:$0=this._eleZoomOut;break;case 3:$0=this._eleZoomInHorizontal;$1=this._eleZoomInVertical;break;case 4:$0=this._eleSlider;break;default:break;}Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass($0,'class_visual_hint ');if(ss.isValue($1)){Kepler.Engine.UI.Helper.HtmlCssHelper.addCssClass($1,'class_visual_hint ');}},reflectText:function(){Kepler.Engine.UI.StatusBar.Items.StatusBarZoomCtrl.callBaseMethod(this, 'reflectText');var $0=parseInt(this.get_text());var $1=this.$1C($0);this.$1F($0);this.$1E($1);this._oMsgParent.sendMessage('msg_set_zoom',$0,false);},isCorrectAction:function(oItemAction){var $0=false;if(0===this.get_text().compareTo(oItemAction.get_text())){$0=true;}return $0;},$1A:function($p0){var $0=this.$1B(this.$15);var $1=this.$1C($0);this.$1E($1);this.$1F($0);this.set_text($0+'%');this._oMsgParent.sendMessage('msg_set_zoom',$0,false);if(ss.isValue(this.$16)){this.$16.set_interval(50);this.$16.start();}},$1B:function($p0){var $0=parseInt(this.get_text(),10);var $1=$0.toString().endsWith('0');if($1){$0+=($p0)?this.$13:-this.$13;}else{$0/=10;$0=parseInt($0.toString(),10);$0+=($p0)?1:0;$0*=10;}$0=($0<=this.$11)?this.$11:$0;$0=($0>=this.$12)?this.$12:$0;return $0;},$1C:function($p0){var $0=0;if($p0<100){$0=$p0*0.5;$0-=(10-($p0/10))*0.333;}else if($p0<=400||$p0===100){$0=50+(($p0-100)*(50*48)/(50*300));}$0-=(4/2);return $0;},$1D:function($p0){var $0=$p0.get_x();if($0<0){$0=0;}else if($0>100){$0=100;}var $1=parseInt((($0/100)*11))+3;var $2=$0-$1+3;var $3=0;if($0>100/2){$0=$0-100/2;$3=100+parseInt((($0/50)*(400-100)));}else{if(this.$14===Kepler.Engine.UI.StatusBar.Items.StatusBarZoomCtrl.scrolL_STYLE_CEILING){$3=10+parseInt(($0*1.8+0.5));}else{$3=10+parseInt(($0*1.8));}}var $4=this.$1C($3);this.$1E($4);this.$1F($3);this.set_text($3+'%');this._oMsgParent.sendMessage('msg_set_zoom',$3,false);return $3;},$1E:function($p0){this._eleThumb.style.left=(this.thumB_LEFT+$p0)+'px';},$1F:function($p0){this._sbZoomCtrlBtn.set_text($p0+'%');this._sbZoomCtrlBtn.reflectText();},getTtLaunchParams:function(element,ptTooltip){if(ss.isNullOrUndefined(element)){return null;}var $0=null;if(element===this._eleZoomOutContainer){$0=this._lstTTParams[0];}else if(element===this._eleSlider||element===this._eleThumb){$0=this._lstTTParams[1];}else if(element===this._eleZoomInContainer){$0=this._lstTTParams[2];}return new Kepler.Engine.UI.Controls.Tooltip.TooltipLaunch_Params($0,false,ptTooltip,false,this.get_id(),this);},setFocusOnItem:function(){var $0=false;this._oMsgParent.sendMessage('msg_set_focus',this,null);if(ss.isValue(this._rbnFocusedItem)){this._rbnFocusedItem.setFocusOnItem();if(Kepler.Framework.Accessibility.AccessibilitySupport.get_instance().get_isAccessibilityOn()){this.setAria();}}else if(ss.isValue(this.$19)){this.drawItem(this.$19);if(Kepler.Framework.Accessibility.AccessibilitySupport.get_instance().get_isAccessibilityOn()){this.setAria();}}return $0;},setFocusOnNextItem:function(){if(ss.isNullOrUndefined(this.$19)){this.$19=this._eleZoomOutContainer;}else if(this.$19===this._eleZoomOutContainer){this.$19=this._eleZoomInContainer;}else if(this.$19===this._eleZoomInContainer){this._rbnFocusedItem=this._lstRibbonItems[0];if(ss.isValue(this._rbnFocusedItem)){this.drawItem(this._elemItem);this.$19=this._rbnFocusedItem.get_elementItem();this._rbnFocusedItem.setFocusOnItem();}return true;}else if(ss.isValue(this._rbnFocusedItem)){this._rbnFocusedItem.changeState(Kepler.Framework.UI.Controls.EItemState.eNormal,this._rbnFocusedItem.get_elementItem());this._rbnFocusedItem=null;this.$19=null;}if(ss.isValue(this.$19)){this.drawItem(this.$19);if(Kepler.Framework.Accessibility.AccessibilitySupport.get_instance().get_isAccessibilityOn()){this.setAria();}return true;}else{return false;}},setFocusOnPreviousItem:function(){if(ss.isNullOrUndefined(this.$19)){this._rbnFocusedItem=this._lstRibbonItems[0];if(ss.isValue(this._rbnFocusedItem)){this.$19=this._rbnFocusedItem.get_elementItem();this._rbnFocusedItem.setFocusOnItem();return true;}}if(ss.isValue(this._rbnFocusedItem)){this._rbnFocusedItem.changeState(Kepler.Framework.UI.Controls.EItemState.eNormal,this._rbnFocusedItem.get_elementItem());this._rbnFocusedItem=null;this.$19=this._eleZoomInContainer;}else if(this.$19===this._eleZoomInContainer){this.$19=this._eleZoomOutContainer;}else if(this.$19===this._eleZoomOutContainer){this.$19=null;}if(ss.isValue(this.$19)){this.drawItem(this.$19);if(Kepler.Framework.Accessibility.AccessibilitySupport.get_instance().get_isAccessibilityOn()){this.setAria();}return true;}else{return false;}},getAriaSpeechText:function(){var $0='';if(this.$19===this._eleZoomOutContainer){$0='Zoom Out button';}else if(this.$19===this._eleZoomInContainer){$0='Zoom In button';}return $0;},$20:function($p0){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementClientPosition(this._elemItem);var $1=Kepler.Engine.UI.Controls.Control.getClientPointFromEventArgs($p0);$1.set_x($1.get_x()-($0.get_x()+this.slideR_LEFT));return $1;},onLButtonDown:function(element,mouseEventArgs){Kepler.Engine.UI.StatusBar.Items.StatusBarZoomCtrl.callBaseMethod(this, 'onLButtonDown',[element,mouseEventArgs]);if(ss.isNullOrUndefined(element)){return false;}this.$17=element;var $0=false;if(element===this._eleZoomOutContainer){this.$15=false;$0=true;}else if(element===this._eleZoomInContainer){this.$15=true;$0=true;}else if(element===this._eleSlider){this.$1D(this.$20(mouseEventArgs));}else{}if($0){this.$1A(null);if(ss.isNullOrUndefined(this.$16)){this.$16=new Kepler.Framework.Core.Timers.Timer(ss.Delegate.create(this,this.$1A),300);}this.$16.set_interval(300);this.$16.start();}return false;},onLButtonUp:function(element,mouseEventArgs){if(ss.isValue(this.$16)){this.$16.stop();}if(this._bCapture){var $0=parseInt(this.get_text(),10);var $1=this._oMsgParent.sendMessage('msg_set_zoom',$0,true);if($1){if(!Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){this.changeState(Kepler.Framework.UI.Controls.EItemState.eHover,element);}else{this.changeState(Kepler.Framework.UI.Controls.EItemState.eNormal,element);}}element=(ss.isValue(element))?element:this.$17;Kepler.Engine.UI.StatusBar.Items.StatusBarZoomCtrl.callBaseMethod(this, 'onLButtonUp',[element,mouseEventArgs]);}this.$17=null;return true;},onMouseMove:function(mouseEventArgs){if(!ss.isNull(this.$17)){if((this.$17===this._eleThumb||this.$17===this._eleSlider)&&this._bCapture){this.$20(mouseEventArgs);var $0=Kepler.Engine.UI.Controls.Control.getClientPointFromEventArgs(mouseEventArgs);$0=this.$20(mouseEventArgs);this.$1D($0);$0=Kepler.Engine.UI.Controls.Control.getClientPointFromEventArgs(mouseEventArgs);(this._oMsgParent).sendMessage('msg_update_rect',$0,null);}}Kepler.Engine.UI.StatusBar.Items.StatusBarZoomCtrl.callBaseMethod(this, 'onMouseMove',[mouseEventArgs]);},onMouseOver:function(element){var $0=element.id;if(this._bCapture){if(this.$17===this._eleZoomOutContainer||this.$17===this._eleZoomInContainer){this.$16.start();}}Kepler.Engine.UI.StatusBar.Items.StatusBarZoomCtrl.callBaseMethod(this, 'onMouseOver',[element]);},onMouseLeave:function(){if(this._bCapture){if(ss.isValue(this.$16)){this.$16.stop();}}Kepler.Engine.UI.StatusBar.Items.StatusBarZoomCtrl.callBaseMethod(this, 'onMouseLeave');}}
Type.registerNamespace('Kepler.Engine.UI.StatusBar');Kepler.Engine.UI.StatusBar.StatusbarRoles=function(){};Kepler.Engine.UI.StatusBar.StatusbarRoles.prototype = {normal:17,staticItem:18,textBtn:19,zoomCtrl:20}
Kepler.Engine.UI.StatusBar.StatusbarRoles.registerEnum('Kepler.Engine.UI.StatusBar.StatusbarRoles',false);Kepler.Engine.UI.StatusBar.StatusbarParser=function(strXmlFile){Kepler.Engine.UI.StatusBar.StatusbarParser.initializeBase(this,[strXmlFile]);this._strDbgLogPrefix='[Statusbar Parser] ';this.addParserRoleDelegate(19,ss.Delegate.create(this,this.$15));this.addParserRoleDelegate(17,ss.Delegate.create(this,this.parseRoleNormal));this.addParserRoleDelegate(18,ss.Delegate.create(this,this.$16));this.addParserRoleDelegate(20,ss.Delegate.create(this,this.$14));}
Kepler.Engine.UI.StatusBar.StatusbarParser.prototype={_iId:0,_iRtMenuNo:0,_iChecked:0,_iEnabled:0,_iVisible:0,_iRightAlign:0,_rcMouse:null,_rcTouch:null,_strText:null,_strImgCls:null,_strActionString:null,$14:function($p0,$p1){this.parseCommonAttributes($p1);var $0=new Kepler.Engine.UI.StatusBar.Items.StatusBarZoomCtrl();$0.initialise(this._iId,null,null,-1,this._iRtMenuNo,this._strText,null,$p0.oRbnContainer);$0.set_rightAlign(true);$0.set_visible((!!this._iVisible));$0.set_actionString(this._strActionString);$p0.oRbnContainer.addItemToContainer($0);},$15:function($p0,$p1){var $0=this.getTtParams($p1);this.parseCommonAttributes($p1);var $1=new Kepler.Engine.UI.StatusBar.Items.StatusBarItemTextBtn();$1.initialise(this._iId,null,null,-1,this._iRtMenuNo,this._strText,null,$p0.oRbnContainer);$1.set_rightAlign((!!this._iRightAlign));$1.set_checked((!!this._iChecked));if(ss.isValue($0)){$1.get_ttParamList().add($0);}$1.set_visible((!!this._iVisible));$1.set_actionString(this._strActionString);$p0.oRbnContainer.addItemToContainer($1);},parseRoleNormal:function(oParents,elmNode){var $0=this.getTtParams(elmNode);this.parseCommonAttributes(elmNode);this._rcMouse.set_left(-1);this._rcMouse.set_top(-1);this._rcTouch.set_left(-1);this._rcTouch.set_top(-1);var $1=new Kepler.Engine.UI.StatusBar.Items.StatusBarItemNormal();$1.initialise(this._iId,this._rcMouse,this._rcTouch,-1,this._iRtMenuNo,null,this._strImgCls,oParents.oRbnContainer);$1.set_rightAlign((!!this._iRightAlign));$1.set_checked((!!this._iChecked));if(ss.isValue($0)){$1.get_ttParamList().add($0);}$1.set_visible((!!this._iVisible));$1.set_actionString(this._strActionString);oParents.oRbnContainer.addItemToContainer($1);},$16:function($p0,$p1){var $0=this.getTtParams($p1);this.parseCommonAttributes($p1);var $1=new Kepler.Engine.UI.StatusBar.Items.StatusBarItemStatic();$1.initialise(this._iId,null,null,-1,this._iRtMenuNo,this._strText,null,$p0.oRbnContainer);$1.set_rightAlign((!!this._iRightAlign));if(ss.isValue($0)){$1.get_ttParamList().add($0);}$1.set_visible((!!this._iVisible));$1.set_actionString(this._strActionString);$p0.oRbnContainer.addItemToContainer($1);},$17:function($p0){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p0,'left');var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p0,'top');var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p0,'width');var $3=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p0,'height');return new Kepler.Framework.UI.Rect($0,$1,$2,$3);},$18:function($p0){var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p0,'touchleft');var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p0,'touchtop');var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p0,'touchwidth');var $3=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt($p0,'touchheight');return new Kepler.Framework.UI.Rect($0,$1,$2,$3);},getTtParams:function(elmNode){var $0=null;var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString(elmNode,'tt_text');var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString(elmNode,'tt_class');var $3=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt(elmNode,'tt_type');if(!isNaN($3)&&!String.isNullOrEmpty($1)){$0=new Kepler.Engine.UI.Controls.Tooltip.Tooltip_Params($3,$1,$2);}return $0;},parseCommonAttributes:function(elmNode){this._iId=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt(elmNode,'id');this._iRtMenuNo=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt(elmNode,'rtmenuno');this._iChecked=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt(elmNode,'checked');this._iEnabled=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt(elmNode,'enable',1);this._rcMouse=this.$17(elmNode);this._rcTouch=this.$18(elmNode);this._strText=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString(elmNode,'name');this._strImgCls=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString(elmNode,'cssclass');this._strActionString=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString(elmNode,'actionstring');this._iVisible=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt(elmNode,'visible',0);this._iRightAlign=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt(elmNode,'align',1);}}
Kepler.Engine.Core.BaseApp.registerClass('Kepler.Engine.Core.BaseApp',Kepler.Framework.Core.Messaging.MessageProvider);Kepler.Engine.Core.EngineApp.registerClass('Kepler.Engine.Core.EngineApp',Kepler.Engine.Core.BaseApp);Kepler.Engine.Core.EngineAppMGHExcel.registerClass('Kepler.Engine.Core.EngineAppMGHExcel',Kepler.Engine.Core.EngineApp);Kepler.Engine.Core.EngineAppMGHStatistics.registerClass('Kepler.Engine.Core.EngineAppMGHStatistics',Kepler.Engine.Core.EngineAppMGHExcel);Kepler.Engine.Core.UserAction.registerClass('Kepler.Engine.Core.UserAction');Kepler.Engine.Core.DynamicTutorialData.registerClass('Kepler.Engine.Core.DynamicTutorialData');Kepler.Engine.Core.ReportActionData.registerClass('Kepler.Engine.Core.ReportActionData');Kepler.Engine.Core.XlReportTypingActionData.registerClass('Kepler.Engine.Core.XlReportTypingActionData',Kepler.Engine.Core.ReportActionData);Kepler.Engine.Core.XlReportFormatActionData.registerClass('Kepler.Engine.Core.XlReportFormatActionData',Kepler.Engine.Core.ReportActionData);Kepler.Engine.Core.Clipboard.registerClass('Kepler.Engine.Core.Clipboard');Kepler.Engine.Core.App.registerClass('Kepler.Engine.Core.App',Kepler.Engine.Core.BaseApp);Kepler.Engine.Core.DialogApp.registerClass('Kepler.Engine.Core.DialogApp',Kepler.Engine.Core.App);Kepler.Engine.Core.ProgressTracker.registerClass('Kepler.Engine.Core.ProgressTracker');Kepler.Engine.Core.JsonQuestion.registerClass('Kepler.Engine.Core.JsonQuestion');Kepler.Engine.Core.JsonQuestionMGHExcel.registerClass('Kepler.Engine.Core.JsonQuestionMGHExcel',Kepler.Engine.Core.JsonQuestion);Kepler.Engine.Core.JsonItem.registerClass('Kepler.Engine.Core.JsonItem');Kepler.Engine.Core.JsonItemMGHExcel.registerClass('Kepler.Engine.Core.JsonItemMGHExcel',Kepler.Engine.Core.JsonItem);Kepler.Engine.Core.JsonClickStream.registerClass('Kepler.Engine.Core.JsonClickStream');Kepler.Engine.Core.JsonClickStreamMGHExcel.registerClass('Kepler.Engine.Core.JsonClickStreamMGHExcel',Kepler.Engine.Core.JsonClickStream);Kepler.Engine.Core.JsonReport.registerClass('Kepler.Engine.Core.JsonReport');Kepler.Engine.Core.JsonAssignment.registerClass('Kepler.Engine.Core.JsonAssignment');Kepler.Engine.Core.JsonQuestions.registerClass('Kepler.Engine.Core.JsonQuestions');Kepler.Engine.Core.JsonItems.registerClass('Kepler.Engine.Core.JsonItems');Kepler.Engine.Core.JsonClickStreams.registerClass('Kepler.Engine.Core.JsonClickStreams');Kepler.Engine.Core.JsonGeneratedCellData.registerClass('Kepler.Engine.Core.JsonGeneratedCellData');Kepler.Engine.Core.JsonCellData.registerClass('Kepler.Engine.Core.JsonCellData');Kepler.Engine.Core.JsonReportConstants.registerClass('Kepler.Engine.Core.JsonReportConstants');Kepler.Engine.Core.JsZipHelper.registerClass('Kepler.Engine.Core.JsZipHelper');Kepler.Engine.Core.ReportGenerator.registerClass('Kepler.Engine.Core.ReportGenerator');Kepler.Engine.Core.Engine$B.registerClass('Kepler.Engine.Core.Engine$B',null,ss.IDisposable);Kepler.Engine.Core.ReportSubmitter.registerClass('Kepler.Engine.Core.ReportSubmitter');Kepler.Engine.Core.XmlReportGenerator.registerClass('Kepler.Engine.Core.XmlReportGenerator');Kepler.Engine.Core.XmlReportParser.registerClass('Kepler.Engine.Core.XmlReportParser');Kepler.Engine.Core.TaitHelper.registerClass('Kepler.Engine.Core.TaitHelper');Kepler.Engine.Core.TaskMaster.registerClass('Kepler.Engine.Core.TaskMaster',Kepler.Framework.Core.Messaging.MessageProvider);Kepler.Engine.Core.TaskMasterMGHExcel.registerClass('Kepler.Engine.Core.TaskMasterMGHExcel',Kepler.Engine.Core.TaskMaster);Kepler.Engine.Core.ASSIGNMENT.registerClass('Kepler.Engine.Core.ASSIGNMENT');Kepler.Engine.Core.ASSIGNMENT_MGHExcel.registerClass('Kepler.Engine.Core.ASSIGNMENT_MGHExcel',Kepler.Engine.Core.ASSIGNMENT);Kepler.Engine.Core.Configuration.registerClass('Kepler.Engine.Core.Configuration');Kepler.Engine.Core.ConfigurationMGHExcel.registerClass('Kepler.Engine.Core.ConfigurationMGHExcel',Kepler.Engine.Core.Configuration);Kepler.Engine.Core.CURRENT_STATE.registerClass('Kepler.Engine.Core.CURRENT_STATE');Kepler.Engine.Core.DIALOG_SCENE.registerClass('Kepler.Engine.Core.DIALOG_SCENE');Kepler.Engine.Core.DOCUMENT.registerClass('Kepler.Engine.Core.DOCUMENT');Kepler.Engine.Core.ENLITE_FRAME_ACTIONS.registerClass('Kepler.Engine.Core.ENLITE_FRAME_ACTIONS');Kepler.Engine.Core.ENLITE_GENERAL_FRAMEDATA.registerClass('Kepler.Engine.Core.ENLITE_GENERAL_FRAMEDATA',null,Kepler.Framework.Core.Interfaces.IClonable);Kepler.Engine.Core.ENLITE_JUMP_DIRECTIVE.registerClass('Kepler.Engine.Core.ENLITE_JUMP_DIRECTIVE');Kepler.Engine.Core.ENLITE_DBG_JUMP_INFO.registerClass('Kepler.Engine.Core.ENLITE_DBG_JUMP_INFO',Kepler.Engine.Core.ENLITE_JUMP_DIRECTIVE);Kepler.Engine.Core.FRAME.registerClass('Kepler.Engine.Core.FRAME');Kepler.Engine.Core.ITEM.registerClass('Kepler.Engine.Core.ITEM');Kepler.Engine.Core.SECTION.registerClass('Kepler.Engine.Core.SECTION');Kepler.Engine.Core.TASK.registerClass('Kepler.Engine.Core.TASK');Kepler.Engine.Core.TaskMasterState.registerClass('Kepler.Engine.Core.TaskMasterState');Kepler.Engine.Core.TRANSITION_MSG.registerClass('Kepler.Engine.Core.TRANSITION_MSG');Kepler.Engine.Core.DIALOG_LAUNCH_ACTION.registerClass('Kepler.Engine.Core.DIALOG_LAUNCH_ACTION');Kepler.Engine.Core.CONTROL_ID.registerClass('Kepler.Engine.Core.CONTROL_ID');Kepler.Engine.Core.REPOSITORY_INFO.registerClass('Kepler.Engine.Core.REPOSITORY_INFO');Kepler.Engine.Core.CONTROL_STATE.registerClass('Kepler.Engine.Core.CONTROL_STATE');Kepler.Engine.Core.DIALOG_HINTS.registerClass('Kepler.Engine.Core.DIALOG_HINTS');Kepler.Engine.Core.DLG_JUMP_INFO.registerClass('Kepler.Engine.Core.DLG_JUMP_INFO');Kepler.Engine.Core.FOCUS_INFO.registerClass('Kepler.Engine.Core.FOCUS_INFO');Kepler.Engine.Core.FRAME_JUMP_DATA.registerClass('Kepler.Engine.Core.FRAME_JUMP_DATA');Kepler.Engine.Core.DialogInfo.registerClass('Kepler.Engine.Core.DialogInfo');Kepler.Engine.Core.MainApp.registerClass('Kepler.Engine.Core.MainApp',Kepler.Engine.Core.App);Kepler.Engine.Core.DownloadTaskCustomData.registerClass('Kepler.Engine.Core.DownloadTaskCustomData');Kepler.Engine.Core.XmlParser.registerClass('Kepler.Engine.Core.XmlParser',null,ss.IDisposable);Kepler.Engine.Core.BaseXmlParser_ParentParam.registerClass('Kepler.Engine.Core.BaseXmlParser_ParentParam');Kepler.Engine.Core.Engine$F.registerClass('Kepler.Engine.Core.Engine$F');Kepler.Engine.UI.Controls.ComboColorButton.registerClass('Kepler.Engine.UI.Controls.ComboColorButton',Kepler.Engine.UI.Controls.ContainerControl,Kepler.Framework.Core.Messaging.IMessageProvider);Kepler.Engine.UI.Controls.CustomList.registerClass('Kepler.Engine.UI.Controls.CustomList',Kepler.Engine.UI.Controls.ContainerControl,Kepler.Framework.Core.Messaging.IMessageProvider,Kepler.Engine.UI.IVisualHint);Kepler.Engine.UI.Controls.MenuclickData.registerClass('Kepler.Engine.UI.Controls.MenuclickData');Kepler.Engine.UI.Controls.IconListControl.registerClass('Kepler.Engine.UI.Controls.IconListControl',Kepler.Framework.UI.Controls.IconListCtrl);Kepler.Engine.UI.Controls.MenuLaunchBase.registerClass('Kepler.Engine.UI.Controls.MenuLaunchBase',Kepler.Engine.UI.Controls.ButtonBase);Kepler.Engine.UI.Controls.ScrollableContainer.registerClass('Kepler.Engine.UI.Controls.ScrollableContainer',Kepler.Engine.UI.Controls.ContainerControl);Kepler.Engine.UI.Controls.SplitButton.registerClass('Kepler.Engine.UI.Controls.SplitButton',Kepler.Engine.UI.Controls.ButtonBase,Kepler.Engine.UI.IVisualHint);Kepler.Engine.UI.Controls.TextFloatingControl.registerClass('Kepler.Engine.UI.Controls.TextFloatingControl',Kepler.Engine.UI.Controls.Wnd,Kepler.Framework.UI.Events.IEventGenerator);Kepler.Engine.UI.Controls.MenuButton.registerClass('Kepler.Engine.UI.Controls.MenuButton',Kepler.Engine.UI.Controls.Button);Kepler.Engine.UI.Controls.ToolBar.registerClass('Kepler.Engine.UI.Controls.ToolBar',Kepler.Engine.UI.Controls.ContainerControl);Kepler.Engine.UI.Engine$E.registerClass('Kepler.Engine.UI.Engine$E');Kepler.Engine.UI.Engine$D.registerClass('Kepler.Engine.UI.Engine$D',null,ss.IDisposable);Kepler.Engine.UI.Engine$11.registerClass('Kepler.Engine.UI.Engine$11',null,ss.IDisposable);Kepler.Engine.UI.Engine$10.registerClass('Kepler.Engine.UI.Engine$10');Kepler.Engine.UI.Engine$16.registerClass('Kepler.Engine.UI.Engine$16',Kepler.Engine.UI.Engine$10);Kepler.Engine.UI.Engine$17.registerClass('Kepler.Engine.UI.Engine$17',Kepler.Engine.UI.Engine$10);Kepler.Engine.UI.Engine$1D.registerClass('Kepler.Engine.UI.Engine$1D',Kepler.Engine.UI.Controls.Wnd);Kepler.Engine.UI.BaseAppFrame.registerClass('Kepler.Engine.UI.BaseAppFrame',Kepler.Engine.UI.Controls.Wnd);Kepler.Engine.UI.BaseAppView.registerClass('Kepler.Engine.UI.BaseAppView',Kepler.Engine.UI.Controls.Wnd);Kepler.Engine.UI.CommonImgPathConstants.registerClass('Kepler.Engine.UI.CommonImgPathConstants');Kepler.Engine.UI.CommonCssClasses.registerClass('Kepler.Engine.UI.CommonCssClasses');Kepler.Engine.UI.DesktopWndBorder.registerClass('Kepler.Engine.UI.DesktopWndBorder');Kepler.Engine.UI.AppFrameParser.registerClass('Kepler.Engine.UI.AppFrameParser',Kepler.Engine.Core.XmlParser);Kepler.Engine.UI.AppFrameParserParents.registerClass('Kepler.Engine.UI.AppFrameParserParents',Kepler.Engine.Core.BaseXmlParser_ParentParam);Kepler.Engine.UI.EngineThemeDetails.registerClass('Kepler.Engine.UI.EngineThemeDetails');Kepler.Engine.UI.KeplerDialog.registerClass('Kepler.Engine.UI.KeplerDialog',Kepler.Engine.UI.Dialog);Kepler.Engine.UI.KeplerMetroDbFlipAnimationCtrl.registerClass('Kepler.Engine.UI.KeplerMetroDbFlipAnimationCtrl',Kepler.Engine.UI.Controls.ContainerControl);Kepler.Engine.UI.KeplerMetroDialog.registerClass('Kepler.Engine.UI.KeplerMetroDialog',Kepler.Engine.UI.KeplerDialog);Kepler.Engine.UI.KeplerMetroDialogClient.registerClass('Kepler.Engine.UI.KeplerMetroDialogClient',Kepler.Engine.UI.DialogClient);Kepler.Engine.UI.AppPaneCommunication.registerClass('Kepler.Engine.UI.AppPaneCommunication');Kepler.Engine.UI.MenuWnd_MenuParams.registerClass('Kepler.Engine.UI.MenuWnd_MenuParams');Kepler.Engine.UI.KeyAction.registerClass('Kepler.Engine.UI.KeyAction');Kepler.Engine.UI.ActedKey.registerClass('Kepler.Engine.UI.ActedKey');Kepler.Engine.UI.Transparency_Animation.registerClass('Kepler.Engine.UI.Transparency_Animation');Kepler.Engine.UI.ActionStringDict.registerClass('Kepler.Engine.UI.ActionStringDict');Kepler.Engine.UI.DesktopWnd.registerClass('Kepler.Engine.UI.DesktopWnd',Kepler.Engine.UI.Controls.Wnd);Kepler.Engine.UI.Engine$C.registerClass('Kepler.Engine.UI.Engine$C');Kepler.Engine.UI.Engine$1C.registerClass('Kepler.Engine.UI.Engine$1C',Kepler.Engine.UI.Controls.Wnd);Ribbon.RibbonItemContainer.registerClass('Ribbon.RibbonItemContainer',Kepler.Engine.UI.Controls.Wnd,Kepler.Engine.Core.IKeplerWidget);Kepler.Engine.UI.BaseStatusBar.registerClass('Kepler.Engine.UI.BaseStatusBar',Ribbon.RibbonItemContainer,Kepler.Engine.Core.IKeplerWidget);Kepler.Engine.UI.ThemeParser.registerClass('Kepler.Engine.UI.ThemeParser',Kepler.Engine.Core.XmlParser);Kepler.Engine.UI.UIManager.registerClass('Kepler.Engine.UI.UIManager',Kepler.Engine.UI.Controls.Wnd,Kepler.Framework.UI.Events.IEventGenerator,Kepler.Engine.UI.IUIManager);Kepler.Engine.UI.UIManagerMGHExcel.registerClass('Kepler.Engine.UI.UIManagerMGHExcel',Kepler.Engine.UI.UIManager);Kepler.Engine.UI.WeapAppFrame.registerClass('Kepler.Engine.UI.WeapAppFrame',Kepler.Engine.UI.BaseAppFrame,Kepler.Engine.Core.IKeplerWidget);Kepler.Engine.UI.VirtualTypingControl.registerClass('Kepler.Engine.UI.VirtualTypingControl',Kepler.Engine.UI.Controls.Control,Kepler.Framework.UI.Events.IEventGenerator);Kepler.Engine.UI.DialogManager.registerClass('Kepler.Engine.UI.DialogManager',Kepler.Engine.UI.Controls.Wnd);Kepler.Framework.UI.Controls.TextBoxInfo.registerClass('Kepler.Framework.UI.Controls.TextBoxInfo');Kepler.Framework.UI.Controls.FrameJumpInfo.registerClass('Kepler.Framework.UI.Controls.FrameJumpInfo');Kepler.Framework.UI.Controls.ElementInfo.registerClass('Kepler.Framework.UI.Controls.ElementInfo');Kepler.Framework.UI.Controls.DlgHtmlCtrl.registerClass('Kepler.Framework.UI.Controls.DlgHtmlCtrl',Kepler.Engine.UI.Controls.ContainerControl,Kepler.Engine.UI.IVisualHint);Kepler.Framework.UI.Controls.HtmlDiv.registerClass('Kepler.Framework.UI.Controls.HtmlDiv',Kepler.Engine.UI.Controls.ContainerControl);Kepler.Engine.UI.Helper.AudioHandler.registerClass('Kepler.Engine.UI.Helper.AudioHandler');Kepler.Engine.UI.Helper.Engine$13.registerClass('Kepler.Engine.UI.Helper.Engine$13');Kepler.Engine.UI.Helper.AudioHelper.registerClass('Kepler.Engine.UI.Helper.AudioHelper');Kepler.Engine.UI.Helper.AudioPrecacher.registerClass('Kepler.Engine.UI.Helper.AudioPrecacher');Kepler.Engine.UI.Helper.MetroUIParser.registerClass('Kepler.Engine.UI.Helper.MetroUIParser',Kepler.Engine.Core.XmlParser);Kepler.Engine.UI.Helper.XmlParser_ParentParam_Metro.registerClass('Kepler.Engine.UI.Helper.XmlParser_ParentParam_Metro',Kepler.Engine.Core.BaseXmlParser_ParentParam);Kepler.Engine.Core.Downloader.Engine$18.registerClass('Kepler.Engine.Core.Downloader.Engine$18',Kepler.Framework.Core.Downloader.File);Kepler.Engine.Core.EncryptDecrypt.Engine$12.registerClass('Kepler.Engine.Core.EncryptDecrypt.Engine$12');Kepler.Engine.Core.EncryptDecrypt.Engine$14.registerClass('Kepler.Engine.Core.EncryptDecrypt.Engine$14',Kepler.Engine.Core.EncryptDecrypt.Engine$12);Kepler.Engine.Core.Lms.LmsApi.registerClass('Kepler.Engine.Core.Lms.LmsApi');Kepler.Engine.Core.Lms.LmsApiData.registerClass('Kepler.Engine.Core.Lms.LmsApiData');Kepler.Engine.Core.Lms.LmsApiDataMsg.registerClass('Kepler.Engine.Core.Lms.LmsApiDataMsg');Kepler.Engine.Core.Lms.LmsApiDataMsgConfig.registerClass('Kepler.Engine.Core.Lms.LmsApiDataMsgConfig',Kepler.Engine.Core.Lms.LmsApiDataMsg);Kepler.Engine.Core.Lms.LmsApiDataMsgConfig4Ezto.registerClass('Kepler.Engine.Core.Lms.LmsApiDataMsgConfig4Ezto',Kepler.Engine.Core.Lms.LmsApiDataMsgConfig);Kepler.Engine.Core.Lms.LmsApiDataMsgReport.registerClass('Kepler.Engine.Core.Lms.LmsApiDataMsgReport',Kepler.Engine.Core.Lms.LmsApiDataMsg);Kepler.Engine.Messages.registerClass('Kepler.Engine.Messages');Kepler.Engine.EngineObjectFactory.registerClass('Kepler.Engine.EngineObjectFactory');Kepler.Engine.Engine$A.registerClass('Kepler.Engine.Engine$A');Kepler.Engine.ZOOM_CONSTANTS.registerClass('Kepler.Engine.ZOOM_CONSTANTS');Kepler.Engine.Core.Modules.Module.registerClass('Kepler.Engine.Core.Modules.Module',Kepler.Framework.Core.Modules.BaseModule);Kepler.Engine.Core.Modules.ModuleComm.registerClass('Kepler.Engine.Core.Modules.ModuleComm',Kepler.Framework.Core.Modules.BaseModuleComm);Kepler.Engine.Core.YUI.TestObject.registerClass('Kepler.Engine.Core.YUI.TestObject');Kepler.Engine.Core.YUI.YUI_Helper.registerClass('Kepler.Engine.Core.YUI.YUI_Helper');Kepler.Engine.Core.YUI.YUI_Tester.registerClass('Kepler.Engine.Core.YUI.YUI_Tester');Kepler.Engine.UI.Controls.ComboBox.SplitColorButton.registerClass('Kepler.Engine.UI.Controls.ComboBox.SplitColorButton',Kepler.Engine.UI.Controls.ComboColorButton);Kepler.Engine.UI.Controls.Keyboard.Key.registerClass('Kepler.Engine.UI.Controls.Keyboard.Key');Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.registerClass('Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl',Kepler.Engine.UI.Controls.ContainerControl,Kepler.Framework.UI.Events.IEventGenerator);Kepler.Engine.UI.Controls.MessageBox.DialogTypes.registerClass('Kepler.Engine.UI.Controls.MessageBox.DialogTypes');Kepler.Engine.UI.Controls.MessageBox.DynDialogLaunchParams.registerClass('Kepler.Engine.UI.Controls.MessageBox.DynDialogLaunchParams');Kepler.Engine.UI.Controls.MessageBox.DummyDialog.registerClass('Kepler.Engine.UI.Controls.MessageBox.DummyDialog',Kepler.Engine.UI.Controls.ContainerControl);Kepler.Engine.UI.Controls.MessageBox.MessageBox.registerClass('Kepler.Engine.UI.Controls.MessageBox.MessageBox',Kepler.Engine.UI.Controls.Wnd);Kepler.Engine.UI.Controls.MessageBox.MessageBoxWithoutTitle.registerClass('Kepler.Engine.UI.Controls.MessageBox.MessageBoxWithoutTitle',Kepler.Engine.UI.Controls.MessageBox.MessageBox);Kepler.Engine.UI.Controls.MessageBox.ZoomNotificationControl.registerClass('Kepler.Engine.UI.Controls.MessageBox.ZoomNotificationControl',Kepler.Engine.UI.Controls.MessageBox.MessageBox);Kepler.Engine.UI.Controls.MessageBox.Message.registerClass('Kepler.Engine.UI.Controls.MessageBox.Message');Kepler.Engine.UI.Controls.MessageBox.MsgThemes.registerClass('Kepler.Engine.UI.Controls.MessageBox.MsgThemes');Kepler.Engine.UI.Controls.MessageBox.Engine$1B.registerClass('Kepler.Engine.UI.Controls.MessageBox.Engine$1B',Kepler.Engine.UI.Controls.Wnd);Kepler.Engine.UI.Controls.MessageBox.MessageBoxTitle.registerClass('Kepler.Engine.UI.Controls.MessageBox.MessageBoxTitle',Kepler.Engine.UI.Controls.ContainerControl);Kepler.Engine.UI.Menu.MenuWnd.registerClass('Kepler.Engine.UI.Menu.MenuWnd',Kepler.Engine.UI.Controls.Wnd);Kepler.Engine.UI.Menu.WindowsMenuWnd.registerClass('Kepler.Engine.UI.Menu.WindowsMenuWnd',Kepler.Engine.UI.Menu.MenuWnd);Kepler.Engine.UI.Menu.BaseMenuItem.registerClass('Kepler.Engine.UI.Menu.BaseMenuItem',null,ss.IDisposable);Kepler.Engine.UI.Menu.MetroMultilineMenuItem.registerClass('Kepler.Engine.UI.Menu.MetroMultilineMenuItem',Kepler.Engine.UI.Menu.BaseMenuItem);Kepler.Engine.UI.Menu.BaseMenuManager.registerClass('Kepler.Engine.UI.Menu.BaseMenuManager',Kepler.Engine.UI.Controls.Wnd);Kepler.Engine.UI.Menu.CategoryMenuItem.registerClass('Kepler.Engine.UI.Menu.CategoryMenuItem',Kepler.Engine.UI.Menu.BaseMenuItem);Kepler.Engine.UI.Menu.Engine$9.registerClass('Kepler.Engine.UI.Menu.Engine$9');Kepler.Engine.UI.Menu.MenuItemNavigator.registerClass('Kepler.Engine.UI.Menu.MenuItemNavigator',Kepler.Engine.UI.Menu.BaseMenuItem);Kepler.Engine.UI.Menu.CalendarMenuItem.registerClass('Kepler.Engine.UI.Menu.CalendarMenuItem',Kepler.Engine.UI.Menu.MenuItemNavigator);Kepler.Engine.UI.Menu.CssWindowsMenuItem.registerClass('Kepler.Engine.UI.Menu.CssWindowsMenuItem',Kepler.Engine.UI.Menu.BaseMenuItem);Kepler.Engine.UI.Menu.SeperatorMenuItem.registerClass('Kepler.Engine.UI.Menu.SeperatorMenuItem',Kepler.Engine.UI.Menu.BaseMenuItem);Kepler.Engine.UI.Menu.TextSepMenuItem.registerClass('Kepler.Engine.UI.Menu.TextSepMenuItem',Kepler.Engine.UI.Menu.SeperatorMenuItem);Kepler.Engine.UI.Menu.DropDownMenuItem.registerClass('Kepler.Engine.UI.Menu.DropDownMenuItem',Kepler.Engine.UI.Menu.BaseMenuItem);Kepler.Engine.UI.Menu.NavigatorBar.registerClass('Kepler.Engine.UI.Menu.NavigatorBar',Kepler.Engine.UI.Menu.BaseMenuItem);Kepler.Engine.UI.Menu.Engine$8.registerClass('Kepler.Engine.UI.Menu.Engine$8');Kepler.Engine.UI.Menu.SelectorGridMenuItem.registerClass('Kepler.Engine.UI.Menu.SelectorGridMenuItem',Kepler.Engine.UI.Menu.MenuItemNavigator);Kepler.Engine.UI.Menu.WindowsMenuItem.registerClass('Kepler.Engine.UI.Menu.WindowsMenuItem',Kepler.Engine.UI.Menu.BaseMenuItem);Kepler.Engine.UI.Menu.SystemMenuItem.registerClass('Kepler.Engine.UI.Menu.SystemMenuItem',Kepler.Engine.UI.Menu.WindowsMenuItem);Kepler.Engine.UI.Menu.SystemThemeMenuItem.registerClass('Kepler.Engine.UI.Menu.SystemThemeMenuItem',Kepler.Engine.UI.Menu.SystemMenuItem);Kepler.Engine.UI.Menu.MenuParser.registerClass('Kepler.Engine.UI.Menu.MenuParser',Kepler.Engine.Core.XmlParser);Kepler.Engine.UI.Menu.MenuParser_ParentParam.registerClass('Kepler.Engine.UI.Menu.MenuParser_ParentParam',Kepler.Engine.Core.BaseXmlParser_ParentParam);Kepler.Engine.UI.Menu.SpecialImageDataStructure.registerClass('Kepler.Engine.UI.Menu.SpecialImageDataStructure');Kepler.Engine.UI.Menu.Engine$6.registerClass('Kepler.Engine.UI.Menu.Engine$6');Kepler.Engine.UI.Menu.ColorGridMenuItem.registerClass('Kepler.Engine.UI.Menu.ColorGridMenuItem',Kepler.Engine.UI.Menu.MenuItemNavigator);Kepler.Engine.UI.Menu.GreySepMenuItem.registerClass('Kepler.Engine.UI.Menu.GreySepMenuItem',Kepler.Engine.UI.Menu.SeperatorMenuItem);Kepler.Engine.UI.Menu.ImageGrid.registerClass('Kepler.Engine.UI.Menu.ImageGrid',null,ss.IDisposable);Kepler.Engine.UI.Menu.IconStyleMenu.registerClass('Kepler.Engine.UI.Menu.IconStyleMenu',Kepler.Engine.UI.Menu.ImageGrid);Kepler.Engine.UI.Menu.Engine$7.registerClass('Kepler.Engine.UI.Menu.Engine$7');Kepler.Engine.UI.Menu.InsertTableMenuItem.registerClass('Kepler.Engine.UI.Menu.InsertTableMenuItem',Kepler.Engine.UI.Menu.MenuItemNavigator);Kepler.Engine.UI.Menu.MenuItemScrollAndNav.registerClass('Kepler.Engine.UI.Menu.MenuItemScrollAndNav',Kepler.Engine.UI.Menu.MenuItemNavigator,Kepler.Framework.Core.Messaging.IMessageProvider);Kepler.Engine.UI.Menu.ListMenuCtrl.registerClass('Kepler.Engine.UI.Menu.ListMenuCtrl',Kepler.Engine.UI.Menu.MenuItemScrollAndNav);Kepler.Engine.UI.Menu.MenuContainerCtrlItem.registerClass('Kepler.Engine.UI.Menu.MenuContainerCtrlItem',Kepler.Engine.UI.Menu.MenuItemNavigator,Kepler.Framework.Core.Messaging.IMessageProvider);Kepler.Engine.UI.Menu.FilterMenuItem.registerClass('Kepler.Engine.UI.Menu.FilterMenuItem',Kepler.Engine.UI.Menu.MenuContainerCtrlItem);Kepler.Engine.UI.Menu.MenuContainerCtrl.registerClass('Kepler.Engine.UI.Menu.MenuContainerCtrl',Kepler.Engine.UI.Controls.ContainerControl);Kepler.Engine.UI.Menu.ImageItem.registerClass('Kepler.Engine.UI.Menu.ImageItem',null,ss.IDisposable);Kepler.Engine.UI.Menu.ImageGroup.registerClass('Kepler.Engine.UI.Menu.ImageGroup',null,ss.IDisposable);Kepler.Engine.UI.Menu.MiscMenuItem.registerClass('Kepler.Engine.UI.Menu.MiscMenuItem',Kepler.Engine.UI.Menu.MenuItemScrollAndNav);Kepler.Engine.UI.Menu.MiscMenuSpImgItem.registerClass('Kepler.Engine.UI.Menu.MiscMenuSpImgItem',Kepler.Engine.UI.Menu.MiscMenuItem);Kepler.Engine.UI.Menu.ImageSpecialItem.registerClass('Kepler.Engine.UI.Menu.ImageSpecialItem',null,ss.IDisposable);Kepler.Engine.UI.Menu.MultilineMenuItem.registerClass('Kepler.Engine.UI.Menu.MultilineMenuItem',Kepler.Engine.UI.Menu.BaseMenuItem);Kepler.Engine.UI.Menu.WindowsSepMenuItem.registerClass('Kepler.Engine.UI.Menu.WindowsSepMenuItem',Kepler.Engine.UI.Menu.SeperatorMenuItem);Kepler.Engine.UI.Menu.MenuItemState.registerClass('Kepler.Engine.UI.Menu.MenuItemState');Kepler.Engine.UI.Menu.MiscCtrlItemState.registerClass('Kepler.Engine.UI.Menu.MiscCtrlItemState');Kepler.Engine.UI.Menu.AddRemoveMenuItem.registerClass('Kepler.Engine.UI.Menu.AddRemoveMenuItem');Kepler.Engine.UI.Menu.ColorParts.registerClass('Kepler.Engine.UI.Menu.ColorParts');Kepler.Engine.UI.Menu.RowDetails.registerClass('Kepler.Engine.UI.Menu.RowDetails');Kepler.Engine.UI.Menu.ColorItem.registerClass('Kepler.Engine.UI.Menu.ColorItem');Kepler.Engine.UI.Menu.ExploreFileTabMenuWnd.registerClass('Kepler.Engine.UI.Menu.ExploreFileTabMenuWnd',Kepler.Engine.UI.Menu.MenuWnd);Kepler.Engine.UI.MetroUiControls.MenuLaunchBtn.MenuLaunchBtn.registerClass('Kepler.Engine.UI.MetroUiControls.MenuLaunchBtn.MenuLaunchBtn',Kepler.Engine.UI.Controls.MenuLaunchBase);Kepler.Engine.UI.MetroUiControls.MetroAppPaneCtrl.RightClickPane.registerClass('Kepler.Engine.UI.MetroUiControls.MetroAppPaneCtrl.RightClickPane',Kepler.Engine.UI.Controls.ContainerControl);Ribbon.RibbonItem.registerClass('Ribbon.RibbonItem',null,ss.IDisposable);Ribbon.RibbonItemImageBtn.registerClass('Ribbon.RibbonItemImageBtn',Ribbon.RibbonItem);Kepler.Engine.UI.DocumentProperties.DocumentPropertiesImageItem.registerClass('Kepler.Engine.UI.DocumentProperties.DocumentPropertiesImageItem',Ribbon.RibbonItemImageBtn);Ribbon.RibbonItemStatic.registerClass('Ribbon.RibbonItemStatic',Ribbon.RibbonItem);Kepler.Engine.UI.DocumentProperties.DocumentPropertiesLable.registerClass('Kepler.Engine.UI.DocumentProperties.DocumentPropertiesLable',Ribbon.RibbonItemStatic);Kepler.Engine.UI.DocumentProperties.DocumentPropertiesPane.registerClass('Kepler.Engine.UI.DocumentProperties.DocumentPropertiesPane',Ribbon.RibbonItemContainer);Ribbon.EditableRibbonItem.registerClass('Ribbon.EditableRibbonItem',Ribbon.RibbonItem,Kepler.Framework.Core.Messaging.IMessageProvider);Ribbon.RibbonItemTextBox.registerClass('Ribbon.RibbonItemTextBox',Ribbon.EditableRibbonItem);Kepler.Engine.UI.DocumentProperties.DocumentPropertiesTextBox.registerClass('Kepler.Engine.UI.DocumentProperties.DocumentPropertiesTextBox',Ribbon.RibbonItemTextBox);Kepler.Engine.UI.Menu.Items.SplitBtnTypeMenuItem.registerClass('Kepler.Engine.UI.Menu.Items.SplitBtnTypeMenuItem',Kepler.Engine.UI.Menu.WindowsMenuItem);Kepler.Engine.UI.Menu.Items.SubMenuArrowBtnMenuItem.registerClass('Kepler.Engine.UI.Menu.Items.SubMenuArrowBtnMenuItem',Kepler.Engine.UI.Menu.BaseMenuItem);Kepler.Engine.UI.Menu.Items.PinnableMenuItem.registerClass('Kepler.Engine.UI.Menu.Items.PinnableMenuItem',Kepler.Engine.UI.Menu.BaseMenuItem);Kepler.Engine.UI.Menu.Items.PinBtnMenuItem.registerClass('Kepler.Engine.UI.Menu.Items.PinBtnMenuItem',Kepler.Engine.UI.Menu.BaseMenuItem);Kepler.Engine.UI.Menu.Items.StaticTextMenuItem.registerClass('Kepler.Engine.UI.Menu.Items.StaticTextMenuItem',Kepler.Engine.UI.Menu.BaseMenuItem);Kepler.Framework.UI.Metro_Ui_Controls.MetroUiTextBox.MetroUiCssImgBtn.registerClass('Kepler.Framework.UI.Metro_Ui_Controls.MetroUiTextBox.MetroUiCssImgBtn',Kepler.Engine.UI.Controls.CssImageButton);Kepler.Framework.UI.Metro_Ui_Controls.MetroUiTextBox.MetroUiText.registerClass('Kepler.Framework.UI.Metro_Ui_Controls.MetroUiTextBox.MetroUiText',Kepler.Engine.UI.Controls.TextBox);Kepler.Framework.UI.Metro_Ui_Controls.MetroUiTextBox.MetroUiTextBoxBase.registerClass('Kepler.Framework.UI.Metro_Ui_Controls.MetroUiTextBox.MetroUiTextBoxBase',Kepler.Engine.UI.Controls.ContainerControl);Kepler.Framework.UI.Metro_Ui_Controls.MetroUiTextBox.MetroUiTextBox.registerClass('Kepler.Framework.UI.Metro_Ui_Controls.MetroUiTextBox.MetroUiTextBox',Kepler.Framework.UI.Metro_Ui_Controls.MetroUiTextBox.MetroUiTextBoxBase);Kepler.Framework.UI.Metro_Ui_Controls.PaneListCtrl.PaneListCtrl.registerClass('Kepler.Framework.UI.Metro_Ui_Controls.PaneListCtrl.PaneListCtrl',Kepler.Framework.UI.Metro_Ui_Controls.ScrollContainer);Kepler.Framework.UI.Metro_Ui_Controls.PaneListCtrl.PaneListItem.registerClass('Kepler.Framework.UI.Metro_Ui_Controls.PaneListCtrl.PaneListItem',Kepler.Engine.UI.Controls.MenuLaunchBase);Kepler.Framework.UI.Metro_Ui_Controls.PaneListCtrl.PaneIcon.registerClass('Kepler.Framework.UI.Metro_Ui_Controls.PaneListCtrl.PaneIcon',Kepler.Framework.UI.Metro_Ui_Controls.PaneListCtrl.PaneListItem);Kepler.Framework.UI.Metro_Ui_Controls.PaneListCtrl.PaneTextItem.registerClass('Kepler.Framework.UI.Metro_Ui_Controls.PaneListCtrl.PaneTextItem',Kepler.Framework.UI.Metro_Ui_Controls.PaneListCtrl.PaneListItem);Kepler.Framework.UI.Metro_Ui_Controls.PaneListCtrl.PaneTxtImgDescrItem.registerClass('Kepler.Framework.UI.Metro_Ui_Controls.PaneListCtrl.PaneTxtImgDescrItem',Kepler.Framework.UI.Metro_Ui_Controls.PaneListCtrl.PaneListItem);Kepler.Framework.UI.Metro_Ui_Controls.PaneListCtrl.PaneTxtImgItem.registerClass('Kepler.Framework.UI.Metro_Ui_Controls.PaneListCtrl.PaneTxtImgItem',Kepler.Framework.UI.Metro_Ui_Controls.PaneListCtrl.PaneListItem);Kepler.Engine.UI.OfficeThemeNs.Palette.registerClass('Kepler.Engine.UI.OfficeThemeNs.Palette');Kepler.Engine.UI.OfficeThemeNs.PaletteItem.registerClass('Kepler.Engine.UI.OfficeThemeNs.PaletteItem');Kepler.Engine.UI.OfficeThemeNs.OfficeTheme.registerClass('Kepler.Engine.UI.OfficeThemeNs.OfficeTheme');Kepler.Engine.UI.QAT.BaseQatManager.registerClass('Kepler.Engine.UI.QAT.BaseQatManager',Kepler.Engine.UI.Controls.Wnd,Kepler.Engine.Core.IKeplerWidget);Kepler.Engine.UI.QAT.QatApplyFooter.registerClass('Kepler.Engine.UI.QAT.QatApplyFooter',Ribbon.RibbonItem);Kepler.Engine.UI.QAT.QatRadio.registerClass('Kepler.Engine.UI.QAT.QatRadio',Ribbon.RibbonItem);Kepler.Engine.UI.QAT.QatRadioGroup.registerClass('Kepler.Engine.UI.QAT.QatRadioGroup',Ribbon.RibbonItem,Kepler.Engine.UI.QAT.IQatRadioGroup);Kepler.Engine.UI.QAT.QatButton.registerClass('Kepler.Engine.UI.QAT.QatButton',Kepler.Engine.UI.Controls.CSSToggleButton);Kepler.Engine.UI.QAT.DataQatButton.registerClass('Kepler.Engine.UI.QAT.DataQatButton',Kepler.Engine.UI.QAT.QatButton);Kepler.Engine.UI.QAT.ChartQatButton.registerClass('Kepler.Engine.UI.QAT.ChartQatButton',Kepler.Engine.UI.QAT.QatButton);Kepler.Engine.UI.QAT.SlideshowQatButton.registerClass('Kepler.Engine.UI.QAT.SlideshowQatButton',Kepler.Engine.UI.QAT.QatButton);Ribbon.RibbnItemCheckBox.registerClass('Ribbon.RibbnItemCheckBox',Ribbon.RibbonItem);Kepler.Engine.UI.QAT.QatCheckBox.registerClass('Kepler.Engine.UI.QAT.QatCheckBox',Ribbon.RibbnItemCheckBox);Kepler.Engine.UI.QAT.QatContainer.registerClass('Kepler.Engine.UI.QAT.QatContainer',Ribbon.RibbonItemContainer);Kepler.Engine.UI.QAT.QatItemNormal.registerClass('Kepler.Engine.UI.QAT.QatItemNormal',Ribbon.RibbonItem);Kepler.Engine.UI.QAT.QatMiscCtrl.registerClass('Kepler.Engine.UI.QAT.QatMiscCtrl',Ribbon.RibbonItem,Kepler.Framework.Core.Messaging.IMessageProvider);Kepler.Engine.UI.QAT.MiscGroup.registerClass('Kepler.Engine.UI.QAT.MiscGroup');Ribbon.RibbonItemScrollable.registerClass('Ribbon.RibbonItemScrollable',Ribbon.RibbonItem);Kepler.Engine.UI.QAT.QatScrollable.registerClass('Kepler.Engine.UI.QAT.QatScrollable',Ribbon.RibbonItemScrollable);Ribbon.RibbonTab.registerClass('Ribbon.RibbonTab',Ribbon.RibbonItem);Kepler.Engine.UI.QAT.QatTab.registerClass('Kepler.Engine.UI.QAT.QatTab',Ribbon.RibbonTab);Ribbon.RibbonItemNormal.registerClass('Ribbon.RibbonItemNormal',Ribbon.RibbonItem);Kepler.Engine.UI.QAT.QatTextButton.registerClass('Kepler.Engine.UI.QAT.QatTextButton',Ribbon.RibbonItemNormal);Kepler.Engine.UI.QAT.QatTree.registerClass('Kepler.Engine.UI.QAT.QatTree',Ribbon.RibbonItem,Kepler.Framework.Core.Messaging.IMessageProvider);Kepler.Engine.UI.QAT.QatECNode.registerClass('Kepler.Engine.UI.QAT.QatECNode',Ribbon.RibbonItem);Kepler.Engine.UI.QAT.QatCheckBoxNode.registerClass('Kepler.Engine.UI.QAT.QatCheckBoxNode',Ribbon.RibbnItemCheckBox,Kepler.Engine.UI.QAT._INode);Kepler.Engine.UI.QAT.QatRadioNode.registerClass('Kepler.Engine.UI.QAT.QatRadioNode',Ribbon.RibbonItem,Kepler.Engine.UI.QAT._INode);Kepler.Engine.UI.QAT.QatBtnState.registerClass('Kepler.Engine.UI.QAT.QatBtnState',null,Kepler.Framework.Core.Interfaces.IClonable);Ribbon.RibbonParser.registerClass('Ribbon.RibbonParser',Kepler.Engine.Core.XmlParser);Ribbon.MiniToolbarParser.registerClass('Ribbon.MiniToolbarParser',Ribbon.RibbonParser);Ribbon.QatParser.registerClass('Ribbon.QatParser',Ribbon.MiniToolbarParser);Ribbon.BaseRibbonManager.registerClass('Ribbon.BaseRibbonManager',Ribbon.RibbonItemContainer,Kepler.Engine.Core.IKeplerWidget);Ribbon.FileTabBtnContentGrp.registerClass('Ribbon.FileTabBtnContentGrp',Ribbon.RibbonItem);Ribbon.FileTabListItem.registerClass('Ribbon.FileTabListItem',null,ss.IDisposable);Ribbon.MiniToolbarNormal.registerClass('Ribbon.MiniToolbarNormal',Ribbon.RibbonItemNormal);Ribbon.RibbonItemBlank.registerClass('Ribbon.RibbonItemBlank',Ribbon.RibbonItem);Ribbon.RibbonItemBuddyButton.registerClass('Ribbon.RibbonItemBuddyButton',Ribbon.RibbonItemNormal);Ribbon.RibbonItemBulletText.registerClass('Ribbon.RibbonItemBulletText',Ribbon.RibbonItem);Ribbon.RibbonItemDropdown.registerClass('Ribbon.RibbonItemDropdown',Ribbon.RibbonItem);Ribbon.RibbonItemColorDropDown.registerClass('Ribbon.RibbonItemColorDropDown',Ribbon.RibbonItemDropdown);Ribbon.RibbonItemColorGrid.registerClass('Ribbon.RibbonItemColorGrid',Ribbon.RibbonItem);Ribbon.RibbonItemCssImageButton.registerClass('Ribbon.RibbonItemCssImageButton',Ribbon.RibbonItem);Ribbon.RibbonItemDocumentTitle.registerClass('Ribbon.RibbonItemDocumentTitle',Ribbon.RibbonItemStatic);Ribbon.RibbonItemGroupContainer.registerClass('Ribbon.RibbonItemGroupContainer',Ribbon.RibbonItem);Ribbon.RibbonItemHyperLink.registerClass('Ribbon.RibbonItemHyperLink',Ribbon.RibbonItem);Ribbon.RibbonItemImageAuthor.registerClass('Ribbon.RibbonItemImageAuthor',Ribbon.RibbonItem);Ribbon.RibbonItemImageDropDown.registerClass('Ribbon.RibbonItemImageDropDown',Ribbon.RibbonItem);Ribbon.RibbonItemInternalSeperator.registerClass('Ribbon.RibbonItemInternalSeperator',Ribbon.RibbonItem);Ribbon.RibbonItemInverseDropDown.registerClass('Ribbon.RibbonItemInverseDropDown',Ribbon.RibbonItemDropdown);Ribbon.RibbonItemLable.registerClass('Ribbon.RibbonItemLable',Ribbon.RibbonItemStatic);Ribbon.RibbonItemListCtrl.registerClass('Ribbon.RibbonItemListCtrl',Ribbon.RibbonItem,Kepler.Framework.Core.Messaging.IMessageProvider);Ribbon.RibbonItemOutlineDropDown.registerClass('Ribbon.RibbonItemOutlineDropDown',Ribbon.RibbonItem);Ribbon.RibbonItemPathButton.registerClass('Ribbon.RibbonItemPathButton',Ribbon.RibbonItemNormal);Ribbon.RibbonItemPin.registerClass('Ribbon.RibbonItemPin',Ribbon.RibbonItem);Ribbon.RibbonItemPrintPage.registerClass('Ribbon.RibbonItemPrintPage',Ribbon.RibbonItem);Ribbon.RibbonItemPrintPageContainer.registerClass('Ribbon.RibbonItemPrintPageContainer',Ribbon.RibbonItem,Kepler.Framework.Core.Messaging.IMessageProvider);Ribbon.RibbonItemScrollableContainer.registerClass('Ribbon.RibbonItemScrollableContainer',Ribbon.RibbonItem,Kepler.Framework.Core.Messaging.IMessageProvider);Kepler.Engine.UI.StatusBar.Items.StatusBarItem.registerClass('Kepler.Engine.UI.StatusBar.Items.StatusBarItem',Ribbon.RibbonItem);Kepler.Engine.UI.StatusBar.Items.StatusBarZoomCtrl.registerClass('Kepler.Engine.UI.StatusBar.Items.StatusBarZoomCtrl',Kepler.Engine.UI.StatusBar.Items.StatusBarItem);Ribbon.Engine$1A.registerClass('Ribbon.Engine$1A',Kepler.Engine.UI.StatusBar.Items.StatusBarZoomCtrl);Ribbon.RibbonMiscCtrl.registerClass('Ribbon.RibbonMiscCtrl',Ribbon.RibbonItem,Kepler.Framework.Core.Messaging.IMessageProvider);Ribbon.Engine$15.registerClass('Ribbon.Engine$15',Ribbon.RibbonItem);Ribbon.RibbonMiscMenuBtn.registerClass('Ribbon.RibbonMiscMenuBtn',Ribbon.RibbonItem);Ribbon.RibbonPane.registerClass('Ribbon.RibbonPane',Ribbon.RibbonItem);Ribbon.RibbonTabContainer.registerClass('Ribbon.RibbonTabContainer',Ribbon.RibbonItem,Kepler.Framework.Core.Messaging.IMessageProvider);Ribbon.RibbonTabForFileTab.registerClass('Ribbon.RibbonTabForFileTab',Ribbon.RibbonTab,Kepler.Framework.Core.Messaging.IMessageProvider);Ribbon.RibbonTabListItem.registerClass('Ribbon.RibbonTabListItem',Ribbon.RibbonItem);Ribbon.RibbonTabMenuLauncher.registerClass('Ribbon.RibbonTabMenuLauncher',Ribbon.RibbonTab);Ribbon.FileTab.registerClass('Ribbon.FileTab',Ribbon.RibbonTabForFileTab);Ribbon.FileAndStartUpParser.registerClass('Ribbon.FileAndStartUpParser',Kepler.Engine.Core.XmlParser);Ribbon.XmlParser_ParentParam.registerClass('Ribbon.XmlParser_ParentParam',Kepler.Engine.Core.BaseXmlParser_ParentParam);Ribbon.BaseTextBox.registerClass('Ribbon.BaseTextBox',Ribbon.RibbonItem);Ribbon.FileTabTextBox.registerClass('Ribbon.FileTabTextBox',Ribbon.BaseTextBox);Ribbon.RibbonItemAuthor.registerClass('Ribbon.RibbonItemAuthor',Ribbon.EditableRibbonItem);Ribbon.RibbonItemBuddyTextBox.registerClass('Ribbon.RibbonItemBuddyTextBox',Ribbon.BaseTextBox);Ribbon.RibbonItemSearch.registerClass('Ribbon.RibbonItemSearch',Ribbon.EditableRibbonItem);Ribbon.RibbonItemSpinCtrl.registerClass('Ribbon.RibbonItemSpinCtrl',Ribbon.EditableRibbonItem);Ribbon.PaneWnd.registerClass('Ribbon.PaneWnd',Kepler.Engine.UI.Controls.Wnd);Ribbon.RibbonMessages.registerClass('Ribbon.RibbonMessages');Ribbon.RibbonItemState.registerClass('Ribbon.RibbonItemState',null,Kepler.Framework.Core.Interfaces.IClonable);Ribbon.ItemAction.registerClass('Ribbon.ItemAction',null,Kepler.Framework.Core.Interfaces.IClonable);Ribbon.TabHeaderInfo.registerClass('Ribbon.TabHeaderInfo');Ribbon.TabMode.registerClass('Ribbon.TabMode');Ribbon.MiscCtrlItemState.registerClass('Ribbon.MiscCtrlItemState');Ribbon.AddRemoveRibbonItem.registerClass('Ribbon.AddRemoveRibbonItem');Ribbon.ColorParts.registerClass('Ribbon.ColorParts');Ribbon.RowDetails.registerClass('Ribbon.RowDetails');Ribbon.ColorItem.registerClass('Ribbon.ColorItem');Ribbon.RibbonItemComboBox.registerClass('Ribbon.RibbonItemComboBox',Ribbon.EditableRibbonItem);Kepler.Engine.UI.Ribbon.Items.RibbonItemBrowseButton.registerClass('Kepler.Engine.UI.Ribbon.Items.RibbonItemBrowseButton',Ribbon.RibbonItemNormal);Kepler.Engine.UI.Ribbon.Items.Engine$19.registerClass('Kepler.Engine.UI.Ribbon.Items.Engine$19',Ribbon.RibbonItemNormal);Kepler.Engine.UI.MiniToolbar.BaseMiniToolbar.registerClass('Kepler.Engine.UI.MiniToolbar.BaseMiniToolbar',Ribbon.RibbonItemContainer);Kepler.Engine.UI.JQueryHelper.jQueryPositionMutable.registerClass('Kepler.Engine.UI.JQueryHelper.jQueryPositionMutable');Kepler.Engine.UI.Themed_Controls.ThemeSplitColorButton.registerClass('Kepler.Engine.UI.Themed_Controls.ThemeSplitColorButton',Kepler.Engine.UI.Controls.ComboBox.SplitColorButton);Kepler.Engine.UI.Themed_Controls.ThemeSplitButton.registerClass('Kepler.Engine.UI.Themed_Controls.ThemeSplitButton',Kepler.Engine.UI.Controls.SplitButton);Kepler.Engine.UI.StatusBar.Items.StatusBarItemNormal.registerClass('Kepler.Engine.UI.StatusBar.Items.StatusBarItemNormal',Kepler.Engine.UI.StatusBar.Items.StatusBarItem);Kepler.Engine.UI.StatusBar.Items.StatusBarItemStatic.registerClass('Kepler.Engine.UI.StatusBar.Items.StatusBarItemStatic',Kepler.Engine.UI.StatusBar.Items.StatusBarItem);Kepler.Engine.UI.StatusBar.Items.StatusBarItemTextBtn.registerClass('Kepler.Engine.UI.StatusBar.Items.StatusBarItemTextBtn',Kepler.Engine.UI.StatusBar.Items.StatusBarItem);Kepler.Engine.UI.StatusBar.StatusbarParser.registerClass('Kepler.Engine.UI.StatusBar.StatusbarParser',Kepler.Engine.Core.XmlParser);Kepler.Engine.Core.EngineAppMGHStatistics.oN_MSG_GET_STORE_DATA='on_msg_get_store_data';Kepler.Engine.Core.EngineAppMGHStatistics.clipboard=null;Kepler.Engine.Core.DialogApp.msG_HANDLE_ALT_KEY_NAVIGATION='handle_key_navigation';Kepler.Engine.Core.DialogApp.msG_HANDLE_CUSTOM_ALT_KEY_FOCUS='msg_handle_custom_alt_key_focus';Kepler.Engine.Core.DialogApp.msG_CHECK_EVENT_IN_TUTORIAL_MODE='check_for_action_and_blocking_in_tutorial';Kepler.Engine.Core.DialogApp.$1_15=false;Kepler.Engine.Core.ProgressTracker.$6=null;Kepler.Engine.Core.ProgressTracker.$7=0;Kepler.Engine.Core.ProgressTracker.$8=0;Kepler.Engine.Core.ProgressTracker.$9=0;Kepler.Engine.Core.ProgressTracker.$A=0;Kepler.Engine.Core.ProgressTracker.$B=null;(function(){Kepler.Engine.Core.ProgressTracker.$7=Kepler.Engine.Core.ProgressTracker.$8=Kepler.Engine.Core.ProgressTracker.$9=0;})();
Kepler.Engine.Core.JsonReportConstants.ignorE_ACTION_TEXT=3;Kepler.Engine.Core.ReportGenerator._bBypassItemLevelReporting=false;Kepler.Engine.Core.ReportGenerator._bEztoApiPresent=false;(function(){var $0=Kepler.Framework.Core.Browser.QueryString.QueryStringParser.getQueryStringValue('bypassitemlevelreporting');Kepler.Engine.Core.ReportGenerator._bBypassItemLevelReporting=(ss.isValue($0)&&$0==='1');Kepler.Engine.Core.ReportGenerator._bEztoApiPresent=Kepler.Engine.Core.Lms.LmsApi.get_isEztoApiPresent();})();
Kepler.Engine.Core.ReportSubmitter.$2=0;Kepler.Engine.Core.XmlReportParser.$1=false;(function(){var $0=Kepler.Framework.Core.Browser.QueryString.QueryStringParser.getQueryStringValue('bypassitemlevelreporting');Kepler.Engine.Core.XmlReportParser.$1=(ss.isValue($0)&&$0==='1');})();
Kepler.Engine.Core.BaseApp.$1_0=[];Kepler.Engine.Core.BaseApp.$1_1=false;Kepler.Engine.Core.BaseApp.$1_6=null;Kepler.Engine.Core.BaseApp.$1_7=null;Kepler.Engine.Core.BaseApp.$1_8=null;(function(){var $0='common';$0+='/office16';Kepler.Engine.Core.BaseApp.$1_6=$0+'/res/';Kepler.Engine.Core.BaseApp.$1_7=$0+'/css/';Kepler.Engine.Core.BaseApp.$1_8=$0+'/fonts/';})();
Kepler.Engine.Core.EngineApp.$1_A=null;Kepler.Engine.Core.EngineApp.minimuM_STAY_DURATION=3000;(function(){window.setTimeout(function(){
Kepler.Engine.Core.EngineApp.$1_A=Kepler.Engine.EngineObjectFactory.getEngineAppObject();$(document.documentElement).ready(ss.Delegate.create(Kepler.Engine.Core.EngineApp.$1_A,Kepler.Engine.Core.EngineApp.$1_A.$1_1D));},1);})();
Kepler.Engine.Core.TaskMaster.$1_12=[];Kepler.Engine.Core.TaskMaster.$1_13=[];Kepler.Engine.Core.TaskMaster.$1_14=[];Kepler.Engine.Core.TaskMaster.$1_15=[];Kepler.Engine.Core.TaskMaster.$1_16=[];Kepler.Engine.Core.TaskMaster.$1_17=[];Kepler.Engine.Core.TaskMaster.$1_18=[];Kepler.Engine.Core.TaskMaster.$1_19=[];Kepler.Engine.Core.TaskMaster.$1_1A=[];Kepler.Engine.Core.TaskMaster.$1_1B={};Kepler.Engine.Core.TaskMaster.$1_1C=[];Kepler.Engine.Core.XmlParser.stR_ATTRIB_ROLE='role';Kepler.Engine.UI.Controls.ComboColorButton.msG_MENUITEM_CLICKED_LAUNCHER='msg_menu_item_clicked';Kepler.Engine.UI.Controls.CustomList.roW_ID='CustomListCtrl_Row';Kepler.Engine.UI.Controls.CustomList.msG_MENUITEM_CLICKED_LAUNCHER='msg_menu_item_clicked';Kepler.Engine.UI.Controls.CustomList.msG_DROP='OnDrop';Kepler.Engine.UI.Controls.SplitButton.csS_CLASSNAME=' button';Kepler.Engine.UI.Controls.SplitButton.csS_CLASS_ARROW_IMG=' splitButton_Arrow_image';Kepler.Engine.UI.Controls.SplitButton.csS_CLASS_SPLIT='splitclass';Kepler.Engine.UI.Controls.TextFloatingControl.msG_EDIT_START='msg_edit_start';Kepler.Engine.UI.Controls.TextFloatingControl.msG_EDIT_TERMINATE='msg_edit_terminate';Kepler.Engine.UI.Controls.ToolBar.oN_MSG_CHILD_LBUTTON_DOWN='on_msg_child_lbutton_down';Kepler.Engine.UI.Controls.ToolBar.oN_MSG_CHILD_MOUSE_OVER='on_msg_child_mouse_over';Kepler.Engine.UI.Engine$16.$6=-2;Kepler.Engine.UI.Engine$1D.$4_0=' tool_tip_pointer_event';Kepler.Engine.UI.Engine$1D.$4_1=null;Kepler.Engine.UI.BaseAppFrame.xmL_AUTOMATION_FILE='frame_appdata.xml';Kepler.Engine.UI.BaseAppFrame.xmL_FILE_STURT_UP_AUTOMATION='ribbon_automation.xml';Kepler.Engine.UI.BaseAppFrame.menU_MINITOOLBAR_CLEARANCE=15;Kepler.Engine.UI.BaseAppFrame.msG_DYNAMIC_DIALOG_LAUNCH='msg_dynamic_dialog_launch';Kepler.Engine.UI.BaseAppFrame.msG_VIEW_PARSHING_DONE_TO_RBN='msg_view_parshing_done_to_rbn';Kepler.Engine.UI.BaseAppFrame._mapStaticParsers={};Kepler.Engine.UI.BaseAppView.msG_ON_VIEW_NAVIGATION='msg_view_navigation';Kepler.Engine.UI.BaseAppView.msG_ON_VIEW_DATA_PARSING_DONE='msg_data_parsing_done';Kepler.Engine.UI.BaseAppView.msG_DYNAMIC_UPDATE='msg_dynamic_ribbon_update';Kepler.Engine.UI.BaseAppView.msG_ON_VIEW_NAVIGATION_STATUSBAR='msg_view_navigation_statusbar';Kepler.Engine.UI.BaseAppView.msG_FOCUS_VIEW='msg_focus_view';Kepler.Engine.UI.BaseAppView.msG_SET_ZOOM='msg_set_zoom';Kepler.Engine.UI.BaseAppView.msG_SHOW_EVAL_BUTTON='msg_show-eval_button';Kepler.Engine.UI.CommonImgPathConstants.filE_TAB='filetab_img.png';Kepler.Engine.UI.CommonImgPathConstants.cT_RIBBON='ct_ribbon.png';Kepler.Engine.UI.CommonImgPathConstants.cT_MENU='ct_menu.png';Kepler.Engine.UI.CommonImgPathConstants.cT_MISC='ct_misc.png';Kepler.Engine.UI.CommonImgPathConstants.cT_MISC_2='ct_misc_2.png';Kepler.Engine.UI.CommonImgPathConstants.cT_MISC_3='ct_misc_3.png';Kepler.Engine.UI.EngineThemeDetails._oTheme=null;Kepler.Engine.UI.KeplerDialog.msG_HANDLE_ALT_KEY_NAVIGATION='handle_key_navigation';Kepler.Engine.UI.KeplerDialog.msG_HANDLE_CUSTOM_ALT_KEY_FOCUS='msg_handle_custom_alt_key_focus';Kepler.Engine.UI.KeplerDialog.msG_BLOCK_OR_TRANSMIT_ACTION_IN_TUT='msg_block_or_transmit_action_in_tut';Kepler.Engine.UI.KeplerDialog.msG_DIALOG_SHOWHIDE='msg_dialog_showhide';Kepler.Engine.UI.KeplerDialog.msG_RESET_RANGE_SELECTOR='msg_reset_range_selector';Kepler.Engine.UI.KeplerDialog.msG_SET_FOCUS='msg_set_focus';Kepler.Engine.UI.KeplerDialog.fadeiN_ANIM='fadeInAnim';Kepler.Engine.UI.KeplerDialog.hinT_OUTLINE='2px solid red';Kepler.Engine.UI.KeplerDialog.iD_MNU_PANE_TITLE_BAR=10151;Kepler.Engine.UI.KeplerDialog.msG_GET_SHOWME_TARGET_ELEMENT='msg_get_showme_target_element';Kepler.Engine.UI.KeplerDialog.keY_BORD_ACTION=Kepler.Framework.Core.Seperators.doublE_CROSS;Kepler.Engine.UI.KeplerMetroDbFlipAnimationCtrl.msG_ANIMATION_OVER='Msg_animation_over';Kepler.Engine.UI.KeplerMetroDialog.msG_INITIALISE_DIALOG_PANE='msg_initialise_dialog_pane';Kepler.Engine.UI.KeplerMetroDialog.msG_SHOW_DIALOG_PANE='msg_show_dialog_pane';Kepler.Engine.UI.ActionStringDict._mapDict=null;(function(){Kepler.Engine.UI.ActionStringDict._mapDict={};Kepler.Engine.UI.ActionStringDict._mapDict[1]='In the "{0}" dialog box -';Kepler.Engine.UI.ActionStringDict._mapDict[2]=' Changed {0} to: {1},';Kepler.Engine.UI.ActionStringDict._mapDict[3]=' Checked {0},';Kepler.Engine.UI.ActionStringDict._mapDict[4]=' Unchecked {0},';Kepler.Engine.UI.ActionStringDict._mapDict[5]=' Indeterminate {0},';Kepler.Engine.UI.ActionStringDict._mapDict[6]=' Selected {0},';Kepler.Engine.UI.ActionStringDict._mapDict[7]=' Clicked {0},';Kepler.Engine.UI.ActionStringDict._mapDict[8]=' In {0}: Selected {1},';Kepler.Engine.UI.ActionStringDict._mapDict[9]=' control not in create action string';Kepler.Engine.UI.ActionStringDict._mapDict[10]=' Typed {0},';Kepler.Engine.UI.ActionStringDict._mapDict[11]=" Opened '{0}',";Kepler.Engine.UI.ActionStringDict._mapDict[12]=' Inserted {0},';Kepler.Engine.UI.ActionStringDict._mapDict[31]="Menu Command : '{0}' clicked";Kepler.Engine.UI.ActionStringDict._mapDict[41]='{0} command : ';Kepler.Engine.UI.ActionStringDict._mapDict[32]=' with correct selection {0}';Kepler.Engine.UI.ActionStringDict._mapDict[33]=' with incorrect selection {0}';Kepler.Engine.UI.ActionStringDict._mapDict[34]='Row:{0},Col:{1}';Kepler.Engine.UI.ActionStringDict._mapDict[42]="'{0}' clicked";Kepler.Engine.UI.ActionStringDict._mapDict[43]="'{0}' double clicked";Kepler.Engine.UI.ActionStringDict._mapDict[44]="'Pin of {0}' clicked";Kepler.Engine.UI.ActionStringDict._mapDict[45]='{0} changed to {1}';Kepler.Engine.UI.ActionStringDict._mapDict[35]="Menu Command : 'Filter Value(s): {0}', Clicked 'OK'";Kepler.Engine.UI.ActionStringDict._mapDict[13]=' Closed {0}';Kepler.Engine.UI.ActionStringDict._mapDict[50]="'{0}' renamed to '{1}'";Kepler.Engine.UI.ActionStringDict._mapDict[14]='In the "{0}" -';})();
Kepler.Engine.UI.DesktopWnd.documenT_MARGIN_BUILTIN_LMS=5;Kepler.Engine.UI.DesktopWnd.$4_3=null;Kepler.Engine.UI.BaseStatusBar.statuS_BAR_ID='status_bar';Kepler.Engine.UI.BaseStatusBar.prefiX_TAIT_STATUSBAR='statusbar';Kepler.Engine.UI.BaseStatusBar.prefiX_ID_STATUSBAR='stb';Kepler.Engine.UI.UIManager.playeR_CURRENT_HEIGHT=0;Kepler.Engine.UI.UIManager.playeR_NORMAL_HEIGHT=0;Kepler.Engine.UI.UIManager.playeR_MGH_WORD_ANS_OR_SOL_MODE_HEIGHT=0;Kepler.Engine.UI.UIManager.playeR_COLLAPSED_HEIGHT=0;Kepler.Engine.UI.UIManager.playeR_COMPACT_HEIGHT=0;Kepler.Engine.UI.UIManager.playeR_MGH_HEIGHT=0;Kepler.Engine.UI.UIManager.taskbaR_HEIGHT=40;Kepler.Engine.UI.UIManager.msG_REMOVE_FOCUS='msg_remove_focus';Kepler.Engine.UI.UIManager.$4_5=false;Kepler.Engine.UI.UIManager.$4_6=null;Kepler.Engine.UI.UIManager.$4_7=0;Kepler.Engine.UI.UIManager.$4_8=null;Kepler.Engine.UI.UIManager.$4_9=null;Kepler.Engine.UI.UIManager.$4_C=false;Kepler.Engine.UI.UIManager.$4_13=null;Kepler.Engine.UI.WeapAppFrame.framejumP_WIP=false;Kepler.Engine.UI.WeapAppFrame.appframE_ACCESSIBILITY=false;Kepler.Framework.UI.Controls.HtmlDiv.vieW_SEND_MSG_TO_ENGINE='view_send_msg_to_engine';Kepler.Framework.UI.Controls.HtmlDiv.vieW_ACTION_NAME='action_element';Kepler.Framework.UI.Controls.HtmlDiv.vieW_ACTION_INDEX='objindex';Kepler.Framework.UI.Controls.HtmlDiv.vieW_OBJ_TYPE='objtype';Kepler.Framework.UI.Controls.HtmlDiv.vieW_FRAME_TO_JUMP='frametojump';Kepler.Framework.UI.Controls.HtmlDiv.vieW_ACTION_STRING='actionstring';Kepler.Framework.UI.Controls.HtmlDiv.vieW_CHECK_WITH_VIEW='checkwithview';Kepler.Framework.UI.Controls.HtmlDiv.vieW_ALLOW_CHANGE='allowchange';Kepler.Framework.UI.Controls.HtmlDiv.textboX_INFO='textboxinfo';Kepler.Framework.UI.Controls.HtmlDiv.iS_CTRL_PRESSED='ctrl_pressed';Kepler.Framework.UI.Controls.HtmlDiv.iS_SHIFT_CTRL_PRESSED='shift_ctrl_pressed';Kepler.Framework.UI.Controls.HtmlDiv.contexT_MENU_NO='context_menu_no';Kepler.Engine.UI.Helper.AudioHandler.$0=null;Kepler.Engine.UI.Helper.AudioHandler.$1=null;Kepler.Engine.UI.Helper.AudioHelper.$0=null;Kepler.Engine.UI.Helper.AudioPrecacher.$1=[];Kepler.Engine.Core.Lms.LmsApi.$0=false;Kepler.Engine.Core.Lms.LmsApi.$1=false;Kepler.Engine.Core.Lms.LmsApi.$2=false;Kepler.Engine.Core.Lms.LmsApi.$3=false;Kepler.Engine.Core.Lms.LmsApi.$4=null;Kepler.Engine.Core.Lms.LmsApi.$5=null;Kepler.Engine.Core.Lms.LmsApi.$6=null;Kepler.Engine.Core.Lms.LmsApi.$7=null;Kepler.Engine.Core.Lms.LmsApi.$8=false;(function(){Kepler.Engine.Core.Lms.LmsApi.$9();})();
Kepler.Engine.Messages.eON_BEGIN_ASSIGNMENT_JUMP='eONBeginAssignmentJump';Kepler.Engine.Messages.msG_GET_DYNAMIC_HINT_DATA='msg_get_dynamic_hint_data';Kepler.Engine.Messages.msG_START_STOP_DYNAMIC_HINT='msg_start_stop_dynamic_hint';Kepler.Engine.Messages.msG_SHOW_HIDE_DYNAMIC_HINT='msg_show_hide_dynamic_hint';Kepler.Engine.Messages.msG_SHOULD_START_TUTORIAL='msg_should_start_tutorial';Kepler.Engine.Messages.msG_REMOVE_REPORT_ACTION_DATA='msg_remove_report_action_data';Kepler.Engine.Messages.eON_ENGINE_ACTION='eONEngineAction';Kepler.Engine.Messages.eON_ACTION_ENGINE='eONActionEngine';Kepler.Engine.Messages.eON_ENGINE_READY='EnliteIsEngineReady';Kepler.Engine.Messages.eON_ENLITE_PRELOAD='eONPreload';Kepler.Engine.Messages.eON_FRAMEMODE_CHANGE='eONFrameModeChange';Kepler.Engine.Messages.eON_FRAMEDATA='eONFrameData';Kepler.Engine.Messages.eON_TASKDATA='eONTaskData';Kepler.Engine.Messages.eON_JUMP_DIRECTIVE='eONJumpDirective';Kepler.Engine.Messages.eON_SEND_TO_DESCENDANTS_EXT='eONSendToDescendantsExt';Kepler.Engine.Messages.eON_EXIT_DIRECTIVE='eONExitDirective';Kepler.Engine.Messages.eON_DEBUG_JUMP='eONDebugJump';Kepler.Engine.Messages.eON_START_ASSIGNMENT='eONStartAssignment';Kepler.Engine.Messages.eON_END_ASSIGNMENT='eONEndAssignment';Kepler.Engine.Messages.eON_FREEZE_APP='eONFreezeApp';Kepler.Engine.Messages.eON_LOAD_RESOURCE='eONLoadResource';Kepler.Engine.Messages.eON_UNLOAD_RESOURCE='eONUnloadResource';Kepler.Engine.Messages.eON_SHOWME_DIRECTIVE='eONShowMeDirective';Kepler.Engine.Messages.eON_TUTORIAL_DIRECTIVE='eONTutorialDirective';Kepler.Engine.Messages.eON_DOC_AUTOCOMPLETE_DIRECTIVE='eONDocAutocompleteDirective';Kepler.Engine.Messages.eON_DETECT_MODE='eONDetectMode';Kepler.Engine.Messages.msG_TOGGLE_TOUCH_MODE='msg_toggle_touch_mode';Kepler.Engine.Messages.msG_HANDLE_HINT='msg_hint';Kepler.Engine.Messages.msG_HANDLE_SHOWME='msg_showme';Kepler.Engine.Messages.eON_NOTIFY_CHILDREN='109';Kepler.Engine.Messages.eON_MODE_CHANGE='eONChangeMode';Kepler.Engine.Messages.eON_INTERMEDIATE_DATA='110';Kepler.Engine.Messages.eFREEZE_ALL='112';Kepler.Engine.Messages.eRELOADFRAME='eONReloadFrame';Kepler.Engine.Messages.eON_APP_READY='eONAppReady';Kepler.Engine.Messages.eON_MODULE_READY='eONModuleReady';Kepler.Engine.Messages.eON_CONFIG_PATH='eONConfigPath';Kepler.Engine.Messages.eON_MODE_SWITCH='eONModeSwitch';Kepler.Engine.Messages.eON_START_EXAM='eONStartExam';Kepler.Engine.Messages.eON_LMS_REPORT='eONLmsReport';Kepler.Engine.Messages.eON_APP_SWITCH_BEGIN='eONAppSwitchBegin';Kepler.Engine.Messages.eON_APP_SWITCH_END='eONAppSwitchEnd';Kepler.Engine.Messages.eON_PLAYER_ACTION='eONPlayerAction';Kepler.Engine.Messages.eON_REGISTER_APP='eONRegisterApp';Kepler.Engine.Messages.eON_REGISTER_DIALOGAPP='eONRegisterDialogApp';Kepler.Engine.Messages.eON_REGISTER_PLAYER='eONRegisterPlayer';Kepler.Engine.Messages.eON_REGISTER_DESKTOP='eONRegisterDesktop';Kepler.Engine.Messages.eON_REGISTER_MODULE='eONRegisterModule';Kepler.Engine.Messages.eON_LAUNCH_DIALOG='eONLaunchDialog';Kepler.Engine.Messages.eON_UNLOAD_DIALOG='eONUnloadDialog';Kepler.Engine.Messages.eON_RIBBON_ITEM_COMMAND='msg_ribbon_item_command';Kepler.Engine.Messages.eON_UNDO_CHANGES_ON_ESC_KEY='msg_undo_on_esc_key';Kepler.Engine.Messages.eON_HIDE_MENU='msg_hide_menu';Kepler.Engine.Messages.eON_SHOW_MENU='msg_show_menu';Kepler.Engine.Messages.msG_GET_MENU_WND='msg_get_menu_wnd';Kepler.Engine.Messages.msG_GET_MENU_RECT='msg_get_menu_rect';Kepler.Engine.Messages.eON_IS_ANY_MENU_IN_VIEW='msg_is_any_menu_in_view';Kepler.Engine.Messages.msG_MENU_COUNT_IN_VIEW='msg_menu_count_in_view';Kepler.Engine.Messages.eON_ADD_CTRL='msg_add_ctrl';Kepler.Engine.Messages.msG_MENU_ITEM_ADDREMOVE='msg_menu_item_addremove';Kepler.Engine.Messages.eON_SHOW_PANE_AS_MENU='msg_show_pane_as_menu';Kepler.Engine.Messages.eON_HIDE_PANE_AS_MENU='msg_hide_pane_as_menu';Kepler.Engine.Messages.eON_MENU_CLOSE='msg_menu_close';Kepler.Engine.Messages.msG_MENUITEM_CLICKED_LAUNCHER='msg_menu_item_clicked';Kepler.Engine.Messages.msG_GET_COLOR_MENUITEMS='msg_get_color_menu_items';Kepler.Engine.Messages.msG_MENU_CREATED='msg_menu_created';Kepler.Engine.Messages.eENLITE_DIALOG_DATA='msg_dialog_data';Kepler.Engine.Messages.msG_SHOW_MINITOOLBAR='msg_show_minitoolbar';Kepler.Engine.Messages.msG_HIDE_MINITOOLBAR='msg_hide_minitoolbar';Kepler.Engine.Messages.msG_SETDATA_MINITOOLBAR='msg_setdata_minitoolbar';Kepler.Engine.Messages.msG_DYNAMIC_UPDATE_MINITOOLBAR='msg_dynamic_update_minitoolbar';Kepler.Engine.Messages.msG_GET_RECT_MINITOOLBAR='msg_get_rect_minitoolbar';Kepler.Engine.Messages.eON_HIDE_KEYBOARD='msg_hide_keyboard';Kepler.Engine.Messages.eON_SHOW_KEYBOARD='msg_show_keyboard';Kepler.Engine.Messages.eON_CREATE_MENUS='msg_create_menus_in_advance';Kepler.Engine.Messages.msG_DIALOG_INFO='msg_dialog_info';Kepler.Engine.Messages.eSET_FOCUS_ON_PLAYER='msg_set_focus_on_player';Kepler.Engine.Messages.msG_ACTIVE_FOCUSABLE_ELEMENT_CHANGE='msg_active_focusable_element_change';Kepler.Engine.Messages.msG_QUERY_EXCEL_FOR_CELLRECT='msg_query_excel_for_cellrect';Kepler.Engine.Messages.msG_SHOW_HIDE_EXCELL_COMMENT='msg_show_hide_excel_comment';Kepler.Engine.Messages.msG_SET_SHAPE_INFO='msg_set_shape_info';Kepler.Engine.Messages.msG_REQUEST_VIEW_SCROLL='msg_view_scroll';Kepler.Engine.Messages.msG_REQUEST_VIEW_SCROLL_STEP_VALUE='msg_view_scroll_step_value';Kepler.Engine.Messages.msG_REQUEST_APP_VIEW_SCROLL='msg_request_app_view_scroll';Kepler.Engine.Messages.msG_ACTIVE_VIEW_CHANGE='msg_active_view_change';Kepler.Engine.Messages.msG_ZOOM_CHANGE='msg_zoom_change';Kepler.Engine.Messages.msG_CHANGE_RIBBON_TAB_MODE='msg_change_tab_mode';Kepler.Engine.Messages.msG_RIBBON_DYNAMIC_UPDATE='msg_ribbon_dynamic_update';Kepler.Engine.Messages.msG_UPDATE_EXCEL_FORMULABAR='msg_update_excel_formulabar';Kepler.Engine.Messages.msG_APP_SHORTCUT_KEY='msg_app_shortcut_key';Kepler.Engine.Messages.msG_PARSING_DONE='msg_parsing_done';Kepler.Engine.Messages.msG_VERIFY_USER_SEL='msg_verify_user_sel';Kepler.Engine.Messages.msG_GET_VIEW_TYPE='msg_get_view_type';Kepler.Engine.Messages.msG_MENU_ITEM_COMMAND='msg_menu_item_command';Kepler.Engine.Messages.msG_SHOW_QAT_BTN='msg_show_qat_btn';Kepler.Engine.Messages.msG_HIDE_QAT_BTN='msg_hide_qat_btn';Kepler.Engine.Messages.msG_TOGGLE_RIBBON_PIN='msg_toggle_ribbon_pin';Kepler.Engine.Messages.msG_HIDE_RIBBON='msg_hide_ribbon';Kepler.Engine.Messages.msG_SET_CURRENT_RIBBON_ITEM_ON_SHOWMENU='msg_set_current_ribbon_item_on_showmenu';Kepler.Engine.Messages.msG_QUERY_RBNITEM_STATE='msg_query_rbnitem_state';Kepler.Engine.Messages.msG_STOP_SHOW_ME='msg_stop_show_me';Kepler.Engine.Messages.msG_DYNAMIC_DIALOG_CREATION_FAILED='msg_dynamic_dialog_creation_timeout';Kepler.Engine.Messages.msG_DISPOSE_DYNAMIC_LOADED_DIALOG='msg_dispose_dynamic_loaded_dialog';Kepler.Engine.Messages.msG_FRAME_DATA_DONE='msg_frame_data_done';Kepler.Engine.Messages.msG_PLAYER_GET_VIEW_DATA='msg_player_get_view_data';Kepler.Engine.Messages.msG_PLAYER_GET_TASK_START_TIME='msg_player_get_task_start_time';Kepler.Engine.Messages.msG_PLAYER_MODE_CHANGE='msg_player_mode_change';Kepler.Engine.Messages.msG_PLAYER_POSITION_CHANGE='msg_player_position_change';Kepler.Engine.Messages.msG_GET_ITEM_STATUS='msg_get_item_status';Kepler.Engine.Messages.msG_GET_ACTION_COUNT='msg_get_action_count';Kepler.Engine.Messages.msG_SKIP_DYN_ACTION='msg_skip_dyn_action';Kepler.Engine.Messages.msG_SET_REMAINING_ATTEMPTS='msg_set_remaining_attempts';Kepler.Engine.Messages.msG_GET_REMAINING_ATTEMPTS='msg_get_remaining_attempts';Kepler.Engine.Messages.msG_SET_BLOCK_TASK_JUMP_FOR_SELENIUM='msg_set_player_jump_back_to_beginning_on_item_complete';Kepler.Engine.Messages.msG_PLAY_CURRENT_STEP='msg_play_next_step';Kepler.Engine.Messages.msG_PERFORM_FRAME_JUMP='msg_perform_frame_jump';Kepler.Engine.Messages.msG_SHOWME_SCROLL_TO_POINT='msg_showme_scroll_to_point';Kepler.Engine.Messages.msG_GET_EDITABLE_CONTROL='msg_get_editable_control';Kepler.Engine.Messages.msG_SUBSCRIBE_DLG_DYNAMIC_UPDATES='msg_subscribe_dlg_dynamic_updates';Kepler.Engine.Messages.msG_UNSUBSCRIBE_DLG_DYNAMIC_UPDATES='msg_unsubscribe_dlg_dynamic_updates';Kepler.Engine.Messages.msG_NOTIFY_DLG_SELECTION_CHANGE='msg_notify_dlg_selection_change';Kepler.Engine.Messages.msG_QUERY_VIEW_DYNAMIC_UPDATES='msg_query_view_dynamic_updates';Kepler.Engine.Messages.msG_REGISTER_DLG='msg_register_dlg';Kepler.Engine.Messages.msG_UNREGISTER_DLG='msg_unregister_dlg';Kepler.Engine.Messages.msG_SET_FIELD_LIST_VALUE='msg_set_field_list_value';Kepler.Engine.Messages.msG_FILL_FILTER_MENU='msg_fill_filter_menu';Kepler.Engine.Messages.msG_NOTIFY_SHAPE='msg_notify_shape';Kepler.Engine.Messages.msG_UPDATE_UI_PLAYER='msg_update_ui_player';Kepler.Engine.Messages.msG_GET_APP_XML_FILE='msg_get_desktop_parser';Kepler.Engine.Messages.msG_GET_PANE_XML_FILE='msg_get_pane_xml_file';Kepler.Engine.Messages.msG_GET_REPORT_ACTION_DATA='msg_get_report_action_data';Kepler.Engine.Messages.msG_GET_GENERATED_CELL_DATA='msg_get_generated_cell_data';Kepler.Engine.Messages.msG_UPDATE_REPORT_ACTION_DATA='msg_update_report_action_data';Kepler.Engine.Messages.msG_LOCK_WORKBOOK='msg_lock_workbook';Kepler.Engine.Messages.msG_PAUSE_ASSIGNMENT_TIMER='msg_pause_assignment_timer';Kepler.Engine.Messages.qaT_CONTAINER_LAUNCHED='qat_container_Launched';Kepler.Engine.Messages.msG_SET_XL_DATA='msg_set_xl_data';Kepler.Engine.Messages.msG_IMPORT_FROM_TAIT='msg_import_from_tait';Kepler.Engine.Messages.msG_UPDATE_STATE_ON_LMS_REQUEST='msg_update_state_on_lms_request';Kepler.Engine.Messages.msG_CHANGE_SIM_MODE='msg_change_sim_mode';Kepler.Engine.Messages.msG_CHANGE_SIM_MODE_TO='msg_change_sim_mode_to';Kepler.Engine.Messages.msG_SET_EDIT_ERROR_COUNTER='msg_set_error_counter';Kepler.Engine.Messages.msG_SET_HIGHLIGHT_ERROR_COUNTER='msg_set_highlight_error_counter';Kepler.Engine.Messages.msG_SET_HIGHLIGHTED_HTML='msg_set_highlighted_html';Kepler.Engine.Messages.msG_SET_ANALYZED_HTML='msg_set_analyzed_html';Kepler.Engine.Messages.msG_DYN_ADD_NEW_COMMENT='msg_add_new_comment';Kepler.Engine.Messages.msG_GET_COMMENT_DATA='msg_get_comment_data';Kepler.Engine.Messages.msG_UPDATE_COMMENT_DATA='msg_update_comment_data';Kepler.Engine.Messages.msG_CHANGE_PEN_COLOR='msg_change_pen_color';Kepler.Engine.Messages.msG_GET_CURRENT_SIM_MODE='msg_get_current_sim_mode';Kepler.Engine.Engine$A.$0='You may lose valuable data required to process your report.';Kepler.Engine.Engine$A.$1='\n\n\nLandscape mode is not supported, please change the orientation to Portrait and continue...';Kepler.Engine.Engine$A.$2='\n\n\nThis document size is not supported, please increase browser size or change orientation...';Kepler.Engine.ZOOM_CONSTANTS.zooM_START=1;Kepler.Engine.ZOOM_CONSTANTS.ZOOMING=2;Kepler.Engine.ZOOM_CONSTANTS.zooM_END=3;Kepler.Engine.Core.YUI.YUI_Helper.$0=false;Kepler.Engine.UI.Controls.ComboBox.SplitColorButton.imagE_WIDTH=32;Kepler.Engine.UI.Controls.ComboBox.SplitColorButton.imagE_HEIGHT=12;Kepler.Engine.UI.Controls.ComboBox.SplitColorButton.coloR_WIDTH=16;Kepler.Engine.UI.Controls.ComboBox.SplitColorButton.coloR_HEIGHT=4;Kepler.Engine.UI.Controls.Keyboard.Key.normaL_WIDTH=48;Kepler.Engine.UI.Controls.Keyboard.Key.normaL_HEIGHT=29;Kepler.Engine.UI.Controls.Keyboard.Key.draG_WIDTH=30;Kepler.Engine.UI.Controls.Keyboard.Key.firsT_ROW_HEIGHT=24;Kepler.Engine.UI.Controls.Keyboard.Key.firsT_ROW_WIDTH=77;Kepler.Engine.UI.Controls.Keyboard.Key.fuN_KEY_WIDTH=83;Kepler.Engine.UI.Controls.Keyboard.Key.togglE_WIDTH=74;Kepler.Engine.UI.Controls.Keyboard.Key.returN_WIDTH=100;Kepler.Engine.UI.Controls.Keyboard.Key.spacE_WIDTH=256;Kepler.Engine.UI.Controls.Keyboard.Key.spacE_WIDTH_FUN_MODE=256;Kepler.Engine.UI.Controls.Keyboard.Key.defaulT_CSS_CLASS='key_normal';Kepler.Engine.UI.Controls.Keyboard.Key._iBORDER=1;Kepler.Engine.UI.Controls.Keyboard.Key.$0=0;Kepler.Engine.UI.Controls.Keyboard.Key.$1=0;Kepler.Engine.UI.Controls.Keyboard.Key.margiN_HORIZONTAL=4;Kepler.Engine.UI.Controls.Keyboard.Key.margiN_VERTICAL=6;Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.$3_0='keyboard';Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.$3_4=false;Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.$3_5=false;Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.$3_6=false;Kepler.Engine.UI.Controls.Keyboard.KeyboardCtrl.$3_13=null;Kepler.Engine.UI.Controls.MessageBox.DialogTypes.dialoG_NORMAL=1;Kepler.Engine.UI.Controls.MessageBox.DialogTypes.dialoG_PANE=2;Kepler.Engine.UI.Controls.MessageBox.DummyDialog.normaL_DIALOG_CLS='dummydialog dummy-base-cls normal_dialog_blur';Kepler.Engine.UI.Controls.MessageBox.DummyDialog.normaL_TITLE_CONTAINER_CLS='dialog_title_div';Kepler.Engine.UI.Controls.MessageBox.DummyDialog.normaL_TITLE_CLS='normal_dialog_title_div  dialog_title';Kepler.Engine.UI.Controls.MessageBox.DummyDialog.normaL_CLIENT_CLS='dialog_client dummydialog-clientarea normal_client_blur';Kepler.Engine.UI.Controls.MessageBox.DummyDialog.normaL_HELP_BTN_CLS='help_btn_css help_btn_css_normal normal_title_help_btn';Kepler.Engine.UI.Controls.MessageBox.DummyDialog.normaL_CLOSE_BTN_CLS='close_btn_css close_btn_css_normal normal_title_close_btn';Kepler.Engine.UI.Controls.MessageBox.DummyDialog.panE_DIALOG_CLS='panedialog dummy-base-cls pane_dialog_frame pane_dialog_blur';Kepler.Engine.UI.Controls.MessageBox.DummyDialog.panE_TITLE_CONTAINER_CLS='pane_dialog_title pane_dialog-title-override';Kepler.Engine.UI.Controls.MessageBox.DummyDialog.panE_TITLE_CLS='pane_dialog_title_div';Kepler.Engine.UI.Controls.MessageBox.DummyDialog.panE_DROP_BTN_CLS='pane_dialog_btn_arrow_word pane_dialog_btn_arrow_word_normal pane_title_button_base_cls pane_title_dropdown_btn';Kepler.Engine.UI.Controls.MessageBox.DummyDialog.panE_CLOSE_BTN_CLS='pane_dialog_btn_cross_word pane_dialog_btn_cross_word_normal pane_title_button_base_cls pane_title_close_btn';Kepler.Engine.UI.Controls.MessageBox.DummyDialog.panE_CLIENT_CLS='pane_dialog_frame_override';Kepler.Engine.UI.Controls.MessageBox.DummyDialog.fadE_ANIM_CLS='fade-out-anim';Kepler.Engine.UI.Controls.MessageBox.Message.lbuttoN_DOWN='lbuttondown';Kepler.Engine.UI.Controls.MessageBox.Message.mousE_MOVE='mousemove';Kepler.Engine.UI.Controls.MessageBox.Message.lbuttoN_UP='lbuttonup';Kepler.Engine.UI.Controls.MessageBox.Message.closebuttoN_CLICK='closebtnclick';Kepler.Engine.UI.Controls.MessageBox.MsgThemes.DEFAULT='';Kepler.Engine.UI.Controls.MessageBox.MsgThemes.bluE_TITLE_BUTTON_LESS='-blue-title-button-less';Kepler.Engine.UI.Controls.MessageBox.MessageBox.$4_3=null;Kepler.Engine.UI.Controls.MessageBox.MessageBox.$4_4=0;Kepler.Engine.UI.Controls.MessageBox.MessageBox.$4_1B=null;Kepler.Engine.UI.Controls.MessageBox.MessageBox.$4_1C=null;Kepler.Engine.UI.Controls.MessageBox.Engine$1B.$4_0='msgbox-container-opaque';Kepler.Engine.UI.Menu.MetroMultilineMenuItem.desC_NAME='metro_menuitem-desc';Kepler.Engine.UI.Menu.BaseMenuManager.menU_ADDREMOVE_COUNT='menu_addremove_count';Kepler.Engine.UI.Menu.BaseMenuManager.menU_ADDREMOVE_DATA='menu_addremove_data';Kepler.Engine.UI.Menu.BaseMenuManager.menU_ITEM_CHILD_POPUP_CHANGE='menu_item_child_popup_change';Kepler.Engine.UI.Menu.BaseMenuManager.menU_SIZE_DATA='menu_size_data';Kepler.Engine.UI.Menu.BaseMenuManager.menU_AUTOMATION_FILENAME='menu_automation.xml';Kepler.Engine.UI.Menu.BaseMenuManager.iteM_NAME='menuitem';Kepler.Engine.UI.Menu.BaseMenuManager.menU_ID='menuwnd';Kepler.Engine.UI.Menu.BaseMenuManager.ribboN_ID='ribbon';Kepler.Engine.UI.Menu.BaseMenuManager.minitoolbaR_ID='mini_toolbar';Kepler.Engine.UI.Menu.BaseMenuManager.msG_UPDATE_ACTIVE_MENU='msg_update_active_menu';Kepler.Engine.UI.Menu.BaseMenuManager.msG_CHANGE_POPUP='msg_change_popup';Kepler.Engine.UI.Menu.BaseMenuManager.msG_GET_OVERRIDE_MAPS='msg_get_override_maps';Kepler.Engine.UI.Menu.BaseMenuManager.msG_IS_MENU_IN_VIEW='msg_is_menu_in_view';Kepler.Engine.UI.Menu.BaseMenuManager.$4_1E=null;Kepler.Engine.UI.Menu.Engine$9.$0='css_header_class';Kepler.Engine.UI.Menu.Engine$9.$1='row_id';Kepler.Engine.UI.Menu.Engine$9.$2='cell_id_';Kepler.Engine.UI.Menu.CalendarMenuItem.n_ROWS=6;Kepler.Engine.UI.Menu.CalendarMenuItem.n_COLS=7;Kepler.Engine.UI.Menu.CalendarMenuItem.csS_COLORITEM_HINT='class_visual_hint';Kepler.Engine.UI.Menu.CalendarMenuItem.iD_MOUNTH='mounth_id';Kepler.Engine.UI.Menu.CalendarMenuItem.iD_FORWARD_BTN='forward_btn_id ';Kepler.Engine.UI.Menu.CalendarMenuItem.iD_BACK_BTN='back_btn_id';Kepler.Engine.UI.Menu.CalendarMenuItem.iD_TODAY_BTN='today_btn_id';Kepler.Engine.UI.Menu.NavigatorBar.menU_CLEARANCE=1;Kepler.Engine.UI.Menu.NavigatorBar.baR_BORDER_WT=1;Kepler.Engine.UI.Menu.NavigatorBar.baR_HEIGHT=10;Kepler.Engine.UI.Menu.NavigatorBar.scrolL_TIMER=100;Kepler.Engine.UI.Menu.NavigatorBar.csS_NAV_BAR='navigator_bar';Kepler.Engine.UI.Menu.Engine$8.$2='tablegrid-table';Kepler.Engine.UI.Menu.Engine$8.$3='tablegrid-row';Kepler.Engine.UI.Menu.Engine$8.$4='menusubitem';Kepler.Engine.UI.Menu.Engine$8.$5='heading';Kepler.Engine.UI.Menu.Engine$8.$6='tablegrid-item-highlight-mask';Kepler.Engine.UI.Menu.Engine$8.$7='drag_cell ';Kepler.Engine.UI.Menu.Engine$8.$8='drag_text ';Kepler.Engine.UI.Menu.SpecialImageDataStructure.$0=null;Kepler.Engine.UI.Menu.SpecialImageDataStructure.$1=null;Kepler.Engine.UI.Menu.SpecialImageDataStructure.$2=null;Kepler.Engine.UI.Menu.SpecialImageDataStructure.$3=null;Kepler.Engine.UI.Menu.SpecialImageDataStructure.$4=null;Kepler.Engine.UI.Menu.SpecialImageDataStructure.$5=null;Kepler.Engine.UI.Menu.SpecialImageDataStructure.$6=null;(function(){Kepler.Engine.UI.Menu.SpecialImageDataStructure.$0={};Kepler.Engine.UI.Menu.SpecialImageDataStructure.$1=[];Kepler.Engine.UI.Menu.SpecialImageDataStructure.$2=[];Kepler.Engine.UI.Menu.SpecialImageDataStructure.$3=[];Kepler.Engine.UI.Menu.SpecialImageDataStructure.$4=[];Kepler.Engine.UI.Menu.SpecialImageDataStructure.$5=[];Kepler.Engine.UI.Menu.SpecialImageDataStructure.$6=[];Kepler.Engine.UI.Menu.SpecialImageDataStructure.$6.add(new Kepler.Framework.UI.Color(68,84,106));Kepler.Engine.UI.Menu.SpecialImageDataStructure.$6.add(new Kepler.Framework.UI.Color(229,228,228));Kepler.Engine.UI.Menu.SpecialImageDataStructure.$6.add(new Kepler.Framework.UI.Color(91,155,213));Kepler.Engine.UI.Menu.SpecialImageDataStructure.$6.add(new Kepler.Framework.UI.Color(237,125,49));Kepler.Engine.UI.Menu.SpecialImageDataStructure.$6.add(new Kepler.Framework.UI.Color(165,165,165));Kepler.Engine.UI.Menu.SpecialImageDataStructure.$6.add(new Kepler.Framework.UI.Color(255,192,0));Kepler.Engine.UI.Menu.SpecialImageDataStructure.$6.add(new Kepler.Framework.UI.Color(68,114,196));Kepler.Engine.UI.Menu.SpecialImageDataStructure.$6.add(new Kepler.Framework.UI.Color(111,172,70));Kepler.Engine.UI.Menu.SpecialImageDataStructure.$1.add('Soften: 50%');Kepler.Engine.UI.Menu.SpecialImageDataStructure.$1.add('Soften: 25%');Kepler.Engine.UI.Menu.SpecialImageDataStructure.$1.add('Sharpen: 0%');Kepler.Engine.UI.Menu.SpecialImageDataStructure.$1.add('Sharpen: 25%');Kepler.Engine.UI.Menu.SpecialImageDataStructure.$1.add('Sharpen: 50%');Kepler.Engine.UI.Menu.SpecialImageDataStructure.$0[1]=Kepler.Engine.UI.Menu.SpecialImageDataStructure.$1;Kepler.Engine.UI.Menu.SpecialImageDataStructure.$2.add('Brightness: -40% Contrast: -40%');Kepler.Engine.UI.Menu.SpecialImageDataStructure.$2.add('Brightness: -20% Contrast: -40%');Kepler.Engine.UI.Menu.SpecialImageDataStructure.$2.add('Brightness: 0%(Normal) Contrast: -40%');Kepler.Engine.UI.Menu.SpecialImageDataStructure.$2.add('Brightness: +20% Contrast: -40%');Kepler.Engine.UI.Menu.SpecialImageDataStructure.$2.add('Brightness: +40% Contrast: -40%');Kepler.Engine.UI.Menu.SpecialImageDataStructure.$2.add('Brightness: -40% Contrast: -20%');Kepler.Engine.UI.Menu.SpecialImageDataStructure.$2.add('Brightness: -20% Contrast: -20%');Kepler.Engine.UI.Menu.SpecialImageDataStructure.$2.add('Brightness: 0%(Normal) Contrast: -20%');Kepler.Engine.UI.Menu.SpecialImageDataStructure.$2.add('Brightness: +20% Contrast: -20%');Kepler.Engine.UI.Menu.SpecialImageDataStructure.$2.add('Brightness: +40% Contrast: -20%');Kepler.Engine.UI.Menu.SpecialImageDataStructure.$2.add('Brightness: -40% Contrast: 0%(Normal)');Kepler.Engine.UI.Menu.SpecialImageDataStructure.$2.add('Brightness: -20% Contrast: 0%(Normal)');Kepler.Engine.UI.Menu.SpecialImageDataStructure.$2.add('Brightness: 0%(Normal) Contrast: 0%(Normal)');Kepler.Engine.UI.Menu.SpecialImageDataStructure.$2.add('Brightness: +20% Contrast: 0%(Normal)');Kepler.Engine.UI.Menu.SpecialImageDataStructure.$2.add('Brightness: +40% Contrast: 0%(Normal)');Kepler.Engine.UI.Menu.SpecialImageDataStructure.$2.add('Brightness: -40% Contrast: +20%');Kepler.Engine.UI.Menu.SpecialImageDataStructure.$2.add('Brightness: -20% Contrast: +20%');Kepler.Engine.UI.Menu.SpecialImageDataStructure.$2.add('Brightness: 0%(Normal) Contrast: +20%');Kepler.Engine.UI.Menu.SpecialImageDataStructure.$2.add('Brightness: +20% Contrast: +20%');Kepler.Engine.UI.Menu.SpecialImageDataStructure.$2.add('Brightness: +40% Contrast: +20%');Kepler.Engine.UI.Menu.SpecialImageDataStructure.$2.add('Brightness: -40% Contrast: +40%');Kepler.Engine.UI.Menu.SpecialImageDataStructure.$2.add('Brightness: -20% Contrast: +40%');Kepler.Engine.UI.Menu.SpecialImageDataStructure.$2.add('Brightness: 0%(Normal) Contrast: +40%');Kepler.Engine.UI.Menu.SpecialImageDataStructure.$2.add('Brightness: +20% Contrast: +40%');Kepler.Engine.UI.Menu.SpecialImageDataStructure.$2.add('Brightness: +40% Contrast: +40%');Kepler.Engine.UI.Menu.SpecialImageDataStructure.$0[2]=Kepler.Engine.UI.Menu.SpecialImageDataStructure.$2;Kepler.Engine.UI.Menu.SpecialImageDataStructure.$3.add('Saturation: 0%');Kepler.Engine.UI.Menu.SpecialImageDataStructure.$3.add('Saturation: 33%');Kepler.Engine.UI.Menu.SpecialImageDataStructure.$3.add('Saturation: 66%');Kepler.Engine.UI.Menu.SpecialImageDataStructure.$3.add('Saturation: 100%');Kepler.Engine.UI.Menu.SpecialImageDataStructure.$3.add('Saturation: 200%');Kepler.Engine.UI.Menu.SpecialImageDataStructure.$3.add('Saturation: 300%');Kepler.Engine.UI.Menu.SpecialImageDataStructure.$3.add('Saturation: 400%');Kepler.Engine.UI.Menu.SpecialImageDataStructure.$0[3]=Kepler.Engine.UI.Menu.SpecialImageDataStructure.$3;Kepler.Engine.UI.Menu.SpecialImageDataStructure.$4.add('Temperature: 4700 K');Kepler.Engine.UI.Menu.SpecialImageDataStructure.$4.add('Temperature: 5300 K');Kepler.Engine.UI.Menu.SpecialImageDataStructure.$4.add('Temperature: 5900 K');Kepler.Engine.UI.Menu.SpecialImageDataStructure.$4.add('Temperature: 6500 K');Kepler.Engine.UI.Menu.SpecialImageDataStructure.$4.add('Temperature: 7200 K');Kepler.Engine.UI.Menu.SpecialImageDataStructure.$4.add('Temperature: 8800 K');Kepler.Engine.UI.Menu.SpecialImageDataStructure.$4.add('Temperature: 11200 K');Kepler.Engine.UI.Menu.SpecialImageDataStructure.$0[4]=Kepler.Engine.UI.Menu.SpecialImageDataStructure.$4;Kepler.Engine.UI.Menu.SpecialImageDataStructure.$5.add('No Color');Kepler.Engine.UI.Menu.SpecialImageDataStructure.$5.add('Grayscale');Kepler.Engine.UI.Menu.SpecialImageDataStructure.$5.add('Sepia');Kepler.Engine.UI.Menu.SpecialImageDataStructure.$5.add('Washout');Kepler.Engine.UI.Menu.SpecialImageDataStructure.$5.add('Black and White: 25%');Kepler.Engine.UI.Menu.SpecialImageDataStructure.$5.add('Black and White: 50%');Kepler.Engine.UI.Menu.SpecialImageDataStructure.$5.add('Black and White: 75%');Kepler.Engine.UI.Menu.SpecialImageDataStructure.$5.add('Blue-Gray, Text color 2 Dark');Kepler.Engine.UI.Menu.SpecialImageDataStructure.$5.add('Blue, Accent color 1 Dark');Kepler.Engine.UI.Menu.SpecialImageDataStructure.$5.add('Orange, Accent color 2 Dark');Kepler.Engine.UI.Menu.SpecialImageDataStructure.$5.add('Gray-50%, Accent color 3 Dark');Kepler.Engine.UI.Menu.SpecialImageDataStructure.$5.add('Gold, Accent color 4 Dark');Kepler.Engine.UI.Menu.SpecialImageDataStructure.$5.add('Blue, Accent color 5 Dark');Kepler.Engine.UI.Menu.SpecialImageDataStructure.$5.add('Green, Accent color 6 Dark');Kepler.Engine.UI.Menu.SpecialImageDataStructure.$5.add('Gray-25%, Background color 2 Light');Kepler.Engine.UI.Menu.SpecialImageDataStructure.$5.add('Blue, Accent color 1 Light');Kepler.Engine.UI.Menu.SpecialImageDataStructure.$5.add('Orange, Accent color 2 Light');Kepler.Engine.UI.Menu.SpecialImageDataStructure.$5.add('Gray-50%, Accent color 3 Light');Kepler.Engine.UI.Menu.SpecialImageDataStructure.$5.add('Gold, Accent color 4 Light');Kepler.Engine.UI.Menu.SpecialImageDataStructure.$5.add('Blue, Accent color 5 Light');Kepler.Engine.UI.Menu.SpecialImageDataStructure.$5.add('Green, Accent color 6 Light');Kepler.Engine.UI.Menu.SpecialImageDataStructure.$0[5]=Kepler.Engine.UI.Menu.SpecialImageDataStructure.$5;})();
Kepler.Engine.UI.Menu.Engine$6.$0='colorgrid-table';Kepler.Engine.UI.Menu.Engine$6.$1='colorgrid-row';Kepler.Engine.UI.Menu.Engine$6.$2='heading';Kepler.Engine.UI.Menu.Engine$6.$3='colorgrid-item-fill';Kepler.Engine.UI.Menu.ColorGridMenuItem.csS_COLORITEM_HINT='class_visual_hint';Kepler.Engine.UI.Menu.Engine$7.$0=16;Kepler.Engine.UI.Menu.Engine$7.$3='tablegrid-table';Kepler.Engine.UI.Menu.Engine$7.$4='tablegrid-row';Kepler.Engine.UI.Menu.Engine$7.$5='menusubitem';Kepler.Engine.UI.Menu.Engine$7.$6='heading';Kepler.Engine.UI.Menu.Engine$7.$7='tablegrid-item-highlight-mask';Kepler.Engine.UI.Menu.ListMenuCtrl.lisT_CONT_ID='menulist-container';Kepler.Engine.UI.Menu.MenuContainerCtrl.msG_ADD_CONTROLS='AddControls';Kepler.Engine.UI.Menu.BaseMenuItem.disablE_MASK='menuitem-icon-disable-mask';Kepler.Engine.UI.Menu.BaseMenuItem.iteM_NAME='menuitem';Kepler.Engine.UI.Menu.BaseMenuItem.texT_NAME='menuitem-text';Kepler.Engine.UI.Menu.BaseMenuItem.imG_NAME='menuitem-icon';Kepler.Engine.UI.Menu.BaseMenuItem.imG_CONT_NAME='menuitem-icon-cont';Kepler.Engine.UI.Menu.BaseMenuItem.submenU_ARR='menuitem-arrow';Kepler.Engine.UI.Menu.BaseMenuItem.OPACITY='0.536';Kepler.Engine.UI.Menu.BaseMenuItem.csS_CLASS_HINT='box_shadow_visual_hint';Kepler.Engine.UI.Menu.BaseMenuItem.csS_IMG_DISABLED='img-disabled';Kepler.Engine.UI.Menu.BaseMenuItem.csS_IMAGE_PATH_ARR=' class_ImgPath_Arrow ';Kepler.Engine.UI.Menu.BaseMenuItem.csS_ARR_NORMAL=' arr_normal ';Kepler.Engine.UI.Menu.BaseMenuItem.csS_UP_ARROW=' arrow_up ';Kepler.Engine.UI.Menu.BaseMenuItem.csS_DOWN_ARROW=' arrow_down ';Kepler.Engine.UI.Menu.BaseMenuItem.csS_MENU_FONT='class_menu_font ';Kepler.Engine.UI.Menu.BaseMenuItem.csS_MENU_TEXT='class_menu_item_text ';Kepler.Engine.UI.Menu.BaseMenuItem.csS_METRO_MENU_FONT='metro_class_menu_font';Kepler.Engine.UI.Menu.BaseMenuItem.$D=null;Kepler.Engine.UI.Menu.ImageGroup.roW_ID='imagegrid-row';Kepler.Engine.UI.Menu.ImageGroup.headinG_ID='heading';Kepler.Engine.UI.Menu.ImageGroup.tablE_ID='imagegrid-table';Kepler.Engine.UI.Menu.ImageGroup.iteM_ID='menusubitem';Kepler.Engine.UI.Menu.MiscMenuItem.imagE_GRID_CONTAINER_ID='imagegrid-table-container';Kepler.Engine.UI.Menu.MiscMenuItem.statE_PRESSED_RTCLK=9;Kepler.Engine.UI.Menu.MultilineMenuItem.desC_NAME='menuitem-desc';Kepler.Engine.UI.Menu.MenuItemState.donT_CARE=1000;Kepler.Engine.UI.Menu.ColorParts.THEME='Theme Colors';Kepler.Engine.UI.Menu.ColorParts.STANDARD='Standard Colors';Kepler.Engine.UI.Menu.ColorParts.RECENT='Recent Colors';Kepler.Engine.UI.Menu.MenuWnd.toucH_DEVICE=Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice();Kepler.Engine.UI.Menu.MenuWnd.toucH_MARGIN_VERT=(Kepler.Engine.UI.Menu.MenuWnd.toucH_DEVICE)?5:0;Kepler.Engine.UI.Menu.MenuWnd.toucH_MARING_HORZ=(Kepler.Engine.UI.Menu.MenuWnd.toucH_DEVICE)?11:0;Kepler.Engine.UI.Menu.MenuWnd.menU_CHECK_ACTION=true;Kepler.Engine.UI.Menu.MenuWnd.msG_HIDE_MENU_ONRTCLK='msg_hidemenu_onRtClk';Kepler.Engine.UI.Menu.MenuWnd.msG_SCROLL_MENU='msg_scroll_menu';Kepler.Engine.UI.Menu.MenuWnd.iteM_NAME='menuitem';Kepler.Engine.UI.Menu.MenuWnd.verT_SEPERATOR='menu-v-sep';Kepler.Engine.UI.Menu.MenuWnd.highlighT_ID='menuitem-hint';Kepler.Engine.UI.Menu.MenuWnd.menU_ID='menuwnd';Kepler.Engine.UI.Menu.MenuWnd.INDEX='index';Kepler.Engine.UI.Menu.MenuWnd.parenT_INDEX='parentindex';Kepler.Engine.UI.Menu.MenuWnd.rtclK_MENU_DONT_SHOW=-1;Kepler.Engine.UI.Menu.MenuWnd.rtclK_MENU_PARENT_SHOW=-2;Kepler.Engine.UI.Menu.MenuWnd.$4_1B=false;Kepler.Engine.UI.Menu.MenuWnd.$4_1C=false;Kepler.Engine.UI.MetroUiControls.MenuLaunchBtn.MenuLaunchBtn.csS_CLASSNAME=' menu_launch_btn';Kepler.Engine.UI.MetroUiControls.MenuLaunchBtn.MenuLaunchBtn.csS_CLASS_ARROW_IMG=' menu_launcher_btn_dwn_arrow';Kepler.Engine.UI.DocumentProperties.DocumentPropertiesLable.csS_LABLE_CLASS='document_properties_label';Kepler.Engine.UI.DocumentProperties.DocumentPropertiesPane.documenT_PROPERTIES_CLASS='document_properties_class';Kepler.Engine.UI.DocumentProperties.DocumentPropertiesPane.documenT_PROPERTIES_ID='document_properties_id';Kepler.Engine.UI.DocumentProperties.DocumentPropertiesPane.documenT_OVERRIDE_COUNT='document_override_count';Kepler.Engine.UI.DocumentProperties.DocumentPropertiesPane.documenT_OVERRIDE_DATA='document_override_data';Kepler.Engine.UI.DocumentProperties.DocumentPropertiesPane.documenT_ACTION_COUNT='document_action_count';Kepler.Engine.UI.DocumentProperties.DocumentPropertiesPane.documenT_ACTION_DATA='document_action_data';Kepler.Engine.UI.DocumentProperties.DocumentPropertiesPane.scrollbaR_WIDTH_HEIGHT=18;Kepler.Engine.UI.DocumentProperties.DocumentPropertiesPane.scrolL_AREA_MIN_WIDTH=720;Kepler.Engine.UI.Menu.Items.SplitBtnTypeMenuItem.submenU_ARROW_ELEMENT_WRAPPER='submenu_arrow_element_wrapper';Kepler.Framework.UI.Metro_Ui_Controls.MetroUiTextBox.MetroUiCssImgBtn.msG_BTN_MOUSE_OVER='msg_btn_mouse_over';Kepler.Framework.UI.Metro_Ui_Controls.MetroUiTextBox.MetroUiCssImgBtn.msG_BTN_MOUSE_OUT='msg_btn_mouse_out';Kepler.Framework.UI.Metro_Ui_Controls.MetroUiTextBox.MetroUiText.msG_TXT_BOX_MOUSE_OVER='msg_txt_box_mouse_over';Kepler.Framework.UI.Metro_Ui_Controls.MetroUiTextBox.MetroUiText.msG_TXT_BOX_MOUSE_OUT='msg_txt_box_mouse_out';Kepler.Framework.UI.Metro_Ui_Controls.MetroUiTextBox.MetroUiText.msG_TXT_BOX_FOCUS='msg_txt_box_focus';Kepler.Framework.UI.Metro_Ui_Controls.MetroUiTextBox.MetroUiText.msG_TXT_BOX_FOCUS_LOST='msg_txt_box_focus_lost';Kepler.Framework.UI.Metro_Ui_Controls.MetroUiTextBox.MetroUiTextBoxBase.metrO_UI_TXT_BOX_CSS='metro_ui_txt_box';Kepler.Framework.UI.Metro_Ui_Controls.MetroUiTextBox.MetroUiTextBoxBase.txT_BOX_CSS='txt_box';Kepler.Framework.UI.Metro_Ui_Controls.MetroUiTextBox.MetroUiTextBoxBase.cleaR_CTRL_CSS='metro_textbox_close';Kepler.Framework.UI.Metro_Ui_Controls.PaneListCtrl.PaneListCtrl.panE_LIST_CSS=' pane_list';Kepler.Engine.UI.OfficeThemeNs.Palette.darK1='Dark 1';Kepler.Engine.UI.OfficeThemeNs.Palette.lighT1='Light 1';Kepler.Engine.UI.OfficeThemeNs.Palette.darK2='Dark 2';Kepler.Engine.UI.OfficeThemeNs.Palette.lighT2='Light 2';Kepler.Engine.UI.OfficeThemeNs.Palette.accenT1='Accent 1';Kepler.Engine.UI.OfficeThemeNs.Palette.accenT2='Accent 2';Kepler.Engine.UI.OfficeThemeNs.Palette.accenT3='Accent 3';Kepler.Engine.UI.OfficeThemeNs.Palette.accenT4='Accent 4';Kepler.Engine.UI.OfficeThemeNs.Palette.accenT5='Accent 5';Kepler.Engine.UI.OfficeThemeNs.Palette.accenT6='Accent 6';Kepler.Engine.UI.OfficeThemeNs.Palette.HYPERLINK='Hyperlink';Kepler.Engine.UI.OfficeThemeNs.Palette.FOLLOWEDHYPERLINK='Followed Hyperlink';Kepler.Engine.UI.OfficeThemeNs.OfficeTheme.$2=new Kepler.Engine.UI.OfficeThemeNs.OfficeTheme();Kepler.Engine.UI.QAT.BaseQatManager.datA_ANALYZER=1;Kepler.Engine.UI.QAT.BaseQatManager.charT_ELEMENT_QAT_BTN=2;Kepler.Engine.UI.QAT.BaseQatManager.charT_STYLE_QAT_BTN=3;Kepler.Engine.UI.QAT.BaseQatManager.charT_FILTER_QAT_BTN=4;Kepler.Engine.UI.QAT.BaseQatManager.charT_LAYOUT_QAT_BTN=14;Kepler.Engine.UI.QAT.BaseQatManager.slideshoW_PEN_TOOL_QAT_BTN=9;Kepler.Engine.UI.QAT.BaseQatManager.slideshoW_OTHER_OPTIONS_QAT_BTN=5;Kepler.Engine.UI.QAT.BaseQatManager.msG_QATBTN_CMD='msg_qatbtn_cmd';Kepler.Engine.UI.QAT.BaseQatManager.$4_E='_action_count';Kepler.Engine.UI.QAT.BaseQatManager.$4_F='_override_count';Kepler.Engine.UI.QAT.BaseQatManager.$4_10='_action_data';Kepler.Engine.UI.QAT.BaseQatManager.$4_11='_override_data';Kepler.Engine.UI.QAT.BaseQatManager.$4_12='ribbon_control';Kepler.Engine.UI.QAT.BaseQatManager.$4_13='qat_show_cont_data';Kepler.Engine.UI.QAT.BaseQatManager.$4_14='msg_show_qat_container_popup';Kepler.Engine.UI.QAT.BaseQatManager.$4_15='msg_hide_qat_container_popup';Kepler.Engine.UI.QAT.BaseQatManager.$4_16='msg_view_ready';Kepler.Engine.UI.QAT.QatButton.csS_VISUAL_HINT='class_visual_hint';Kepler.Engine.UI.QAT.QatCheckBox.$11='qat_chkbox_checked '+'class_ImgPath_Arrow ';Kepler.Engine.UI.QAT.QatContainer.qaT_CONT_ID='qat_container';Kepler.Engine.UI.QAT.QatContainer.qaT_CLOSE_BTN='qat_close_btn';Kepler.Engine.UI.QAT.QatContainer.qaT_TAB_BUTTONS_ID='qat_tab_buttons';Kepler.Engine.UI.QAT.QatContainer.qaT_TAB_PANE_CONT_ID='qat_tab_pane_container';Kepler.Engine.UI.QAT.QatContainer.qaT_TAB_BUTTONS_HEIGHT=20;Kepler.Engine.UI.QAT.QatContainer.qaT_CONTAINER_MARGIN=10;Kepler.Engine.UI.QAT.QatContainer.diamonD_DIAGONAL=15;Kepler.Engine.UI.QAT.QatContainer.prefiX_TAIT_QAT='qat';Kepler.Engine.UI.QAT.QatContainer.msG_QAT_CHKBOX_CLICK='msg_qat_checkbox_click';Kepler.Engine.UI.QAT.QatMiscCtrl.invaliD_PT=1;Kepler.Engine.UI.QAT.QatScrollable.opacitY_NORMAL='0.50';Kepler.Engine.UI.QAT.QatScrollable.opacitY_HOVER='0.75';Kepler.Engine.UI.QAT.QatScrollable.opacitY_PRESSED='';Kepler.Engine.UI.QAT.QatScrollable.opacitY_DISABLED='.25';Kepler.Engine.UI.QAT.QatBtnState.donT_CARE=1000;Ribbon.BaseRibbonManager.ribboN_TAB_ID='ribbon_tab';Ribbon.BaseRibbonManager.ribboN_QAT_ID='ribbon_qat';Ribbon.BaseRibbonManager.ribboN_TAB_BTNS_ID='ribbon_tab_buttons';Ribbon.BaseRibbonManager.ribboN_FILETAB_BACK_CNTR_ID='ribbon_filetab_back_cntr';Ribbon.BaseRibbonManager.ribboN_FILETAB_SIGN_ID='ribbon_filetab_sign_id';Ribbon.BaseRibbonManager.ribboN_FILETAB_SIGN_CLASS='class_ribbon_filetab_sign_id';Ribbon.BaseRibbonManager.ribboN_HOME_SIGN_ID='ribbon_hometab_sign_id';Ribbon.BaseRibbonManager.ribboN_SIGN_ID='ribbon_sign_id';Ribbon.BaseRibbonManager.ribboN_ID='ribbon';Ribbon.BaseRibbonManager.ribboN_CONT_ID='ribbon_container';Ribbon.BaseRibbonManager.ribboN_TAB_MODE='ribbon_tab_mode';Ribbon.BaseRibbonManager.ribboN_ACTIVE_TAB='ribbon_active_tab';Ribbon.BaseRibbonManager.filE_TAB_VISIBLE='file_tab_visible';Ribbon.BaseRibbonManager.csS_TAB_AREA1='class_tab_area1 ';Ribbon.BaseRibbonManager.csS_TAB_AREA2='class_tab_area2 ';Ribbon.BaseRibbonManager.TITLE='title';Ribbon.BaseRibbonManager.prefiX_TAIT_RIBBON='ribbon';Ribbon.BaseRibbonManager.prefiX_ID_RIBBON='rbn';Ribbon.BaseRibbonManager.msG_SET_ACTIVE_TAB='msg_set_active_tab';Ribbon.BaseRibbonManager.ediT_VIEW_TYPE='edit_view_type';Ribbon.BaseRibbonManager.msG_GET_DOCUMENT_TITLE='msg_get_document_title';Ribbon.BaseRibbonManager.$4_17='ribbon';Ribbon.BaseRibbonManager.$4_18='qat';Ribbon.BaseRibbonManager.$4_19='tabheader';Ribbon.BaseRibbonManager.$4_1A='tabmode';Ribbon.BaseRibbonManager.$4_1B='minitoolbarmap';Ribbon.BaseRibbonManager.$4_1C='filetab';Ribbon.BaseRibbonManager.qaT_TITLE_ID=-1;Ribbon.BaseRibbonManager.ribboN_QAT_HEIGHT_NORMAL=25;Ribbon.BaseRibbonManager.ribboN_QAT_HEIGHT_TOUCH=40;Ribbon.BaseRibbonManager.bacK_BUTTON_TOP_NORMAL=18;Ribbon.BaseRibbonManager.bacK_BUTTON_TOP_TOUCH=33;Ribbon.BaseRibbonManager.heighT_DEF_BACK_BUTTON_CONTAINER=19;Ribbon.BaseRibbonManager.ribboN_TAB_BUTTONS_HEIGHT=25;Ribbon.BaseRibbonManager.ribboN_TAB_BUTTONS_SHRINK_HEIGHT=25;Ribbon.BaseRibbonManager.ribboN_PANE_HEIGHT_NORMAL=84;Ribbon.BaseRibbonManager.ribboN_PANE_HEIGHT_TOUCH=114;Ribbon.BaseRibbonManager.statusbaR_HEIGHT_NORMAL=22;Ribbon.BaseRibbonManager.statusbaR_HEIGHT_TOUCH=32;Ribbon.BaseRibbonManager.ribboN_TAB_AREA_NORMAL=140;Ribbon.BaseRibbonManager.ribboN_TAB_AREA_TOUCH=140;Ribbon.BaseRibbonManager.ribboN_AUTHOR_SIGNIN_WIDTH=76;Ribbon.BaseRibbonManager.ribboN_COLLAPSE_WIDTH_NORMAL=29;Ribbon.BaseRibbonManager.ribboN_COLLAPSE_WIDTH_TOUCH=38;Ribbon.BaseRibbonManager.ribboN_COLLAPSE_HEIGHT=17;Ribbon.BaseRibbonManager.ribboN_AUTHOR_IMAGE_H_W=24;Ribbon.BaseRibbonManager.ribboN_EVAL_RESET_BUTTON_H=30;Ribbon.BaseRibbonManager.ribboN_EVAL_RESET_BUTTON_W=135;Ribbon.BaseRibbonManager.ribboN_OBSERVE_RESET_BUTTON_W=90;Ribbon.FileTabBtnContentGrp.csS_BTN_GRP_NORMAL_IMAGE=' filetab_normal_btn_group_image';Ribbon.FileTabBtnContentGrp.csS_BTN_GRP_NORMAL_TEXT=' filetab_normal_btn_group_text';Ribbon.FileTabBtnContentGrp.csS_BTN_GRP_TITLE=' filetab_title_normal';Ribbon.FileTabBtnContentGrp.csS_BTN_GRP_TD_TITLE='filetab_group_title';Ribbon.FileTabBtnContentGrp.csS_BTN_GRP_TD_DIS='filetab_group_discription';Ribbon.FileTabListItem.csS_CONTAINERCLASSNAME='filetab_listitem_container';Ribbon.FileTabListItem.csS_HEADERCLASSNAME='filetab_listitem_header';Ribbon.FileTabListItem.csS_PATHCLASSNAME='filetab_listitem_path';Ribbon.FileTabListItem.csS_IMAGECLASSNAME='filetab_listitem_image';Ribbon.RibbonItem.texT_ID='ribbonitem-text';Ribbon.RibbonItem.imG_ID='ribbonitem-icon';Ribbon.RibbonItem.dropdowN_ARR='ribbonitem-arrow';Ribbon.RibbonItem.csS_IMG_BTN='class_image_btn';Ribbon.RibbonItem.opacitY_DISABLED='0.536';Ribbon.RibbonItem.ribboN_ITEM='rbnItem';Ribbon.RibbonItem.highlighT_MASK_ZIDX=Kepler.Framework.UI.Controls.ZIndexConstants.frame_Max;Ribbon.RibbonItem.voiD_BOX='-1';Ribbon.RibbonItem.csS_DISPLAY_NONE='display_none ';Ribbon.RibbonItem.csS_DISPLAY_BLOCK='display_block ';Ribbon.RibbonItem.csS_VISUAL_HINT='class_visual_hint ';Ribbon.RibbonItem.csS_TEXT_DISABLED='text-disabled ';Ribbon.RibbonItem.csS_IMAGE_PATH_ARR='class_ImgPath_Arrow ';Ribbon.RibbonItem.csS_IMAGE_CONT='class_ribbon_img_cont ';Ribbon.RibbonItem.csS_UP_ARROW='arrow_up ';Ribbon.RibbonItem.csS_DOWN_ARROW='arrow_down ';Ribbon.RibbonItem.csS_ARR_NORMAL='arr_normal ';Ribbon.RibbonItem.csS_ARR_NORMAL_2='arr_normal_2 ';Ribbon.RibbonItem.csS_ARR_DISABLED='arr_disabled ';Ribbon.RibbonItem.csS_ARR_DISABLED_2='arr_disabled_2 ';Ribbon.RibbonItem.csS_RIBBON_FONT='class_ribbon_font ';Ribbon.RibbonItem.csS_RIBBON_TEXT='class_ribbon_item_text ';Ribbon.RibbonItem.csS_IMG_DISABLED='img-disabled ';Ribbon.RibbonItem.$4=null;Ribbon.RibbonItem.$5=null;Ribbon.RibbnItemCheckBox.checkeD_CLASS='chkbox_checked '+'class_ImgPath_Arrow ';Ribbon.RibbonItemColorGrid.tablE_ID='colorgrid-table';Ribbon.RibbonItemColorGrid.roW_ID='colorgrid-row';Ribbon.RibbonItemColorGrid.headinG_ID='heading';Ribbon.RibbonItemColorGrid.iteM_FILL_ID='colorgrid-item-fill';Ribbon.RibbonItemDropdown.arroW_WT=5;Ribbon.RibbonItemDropdown.arroW_HT=3;Ribbon.RibbonItemDropdown.arroW_DIV_WT_NORMAL=13;Ribbon.RibbonItemDropdown.arroW_DIV_HT_NORMAL=21;Ribbon.RibbonItemDropdown.arroW_DIV_WT_TOUCH=26;Ribbon.RibbonItemDropdown.arroW_DIV_HT_TOUCH=27;Ribbon.RibbonItemDropdown.h_FACTOR=36;Ribbon.RibbonItemDropdown.txT_T_FACTOR=26;Ribbon.RibbonItemDropdown.h_LINE_FACTOR=14;Ribbon.RibbonItemDropdown.imG_CON_HT_NORMAL=35;Ribbon.RibbonItemDropdown.imG_CON_HT_TOUCH=49;Ribbon.RibbonItemDropdown.imG_V_SIZE_NORMAL=32;Ribbon.RibbonItemDropdown.imG_H_SIZE_NORMAL=16;Ribbon.RibbonItemHyperLink.csS_HYPERTEXTCSS='filetab_ribbonitemhyperlink';Ribbon.RibbonItemImageBtn.csS_RIBBON_IMG_BTN='class_image_btn';Ribbon.RibbonItemNormal.lefT_POS=-3;Ribbon.RibbonItemNormal.$E=-2;Ribbon.RibbonItemNormal.lefT_POS_TEXT=0;Ribbon.RibbonItemNormal.csS_TEXT_BOTTOM_ALIGN='class_ribbon_item_text_bottomalign';Ribbon.RibbonItemPin.csS_PINIMAGE_CLASS='filetab_pinimage';Ribbon.RibbonMiscCtrl.msG_VISIBLE_ROW_RANGE='msg_visible_row_range';Ribbon.RibbonMiscCtrl.misC_CTRL_HT=58;Ribbon.RibbonMiscCtrl.menU_BTN_WT_NORMAL=13;Ribbon.RibbonMiscCtrl.menU_BTN_WT_TOUCH=26;Ribbon.RibbonMiscCtrl.menU_BTN_HT=18;Ribbon.RibbonMiscCtrl.csS_DOUBLE_ARROW='arrow_down_double';Ribbon.RibbonMiscCtrl.invaliD_PT=1;Ribbon.RibbonMiscMenuBtn.msG_SCROLL_ROW='msg_scroll_row';Ribbon.RibbonMiscMenuBtn.msG_SWITCH_TIMER='msg_switch_timer_on_off';Ribbon.RibbonMiscMenuBtn.msG_INT_TIMER='msg_init_timer';Ribbon.RibbonMiscMenuBtn.scrolL_TIME=150;Ribbon.RibbonPane.panE_ITEM='pane_item';Ribbon.RibbonTabForFileTab.csS_FILETAB_HINT_TAB_BUTTON='filetab_visual_hint_tab_button';Ribbon.RibbonTabForFileTab.msG_H_SCROLL_CHANGE='HScrollChange';Ribbon.RibbonTabForFileTab.pagE_ITEM='rbnPageItem';Ribbon.RibbonTabListItem.csS_LISTITEMDISCRIPTION_CONTAINERELEMENT='filetab_listitemdiscription_containerelement';Ribbon.RibbonTabListItem.csS_LISTITEMDISCRIPTION_IMAGE='filetab_listitemdiscription_image';Ribbon.RibbonTabListItem.csS_LISTITEMDISCRIPTION_HEADERTEXT='filetab_listitemdiscription_headertext';Ribbon.RibbonTabListItem.csS_LISTITEMDISCRIPTION_DISCRIPTIONTEXT='filetab_listitemdiscription_discriptiontext';Ribbon.RibbonTabListItem.csS_LISTIMAGE_CONTAINERELEMENT='filetab_listimage_containerelement';Ribbon.RibbonTabListItem.csS_LISTIMAGE_IMAGE='filetab_listimage_image';Ribbon.RibbonTabListItem.csS_LISTIMAGE_HEADERTEXT='filetab_listimage_headertext';Ribbon.RibbonTabListItem.csS_MULTILIST_CONTAINERELEMENT='filetab_multilist_containerelement';Ribbon.RibbonTabListItem.csS_MULTILIST_IMAGE='filetab_multilist_image';Ribbon.RibbonTabListItem.csS_MULTILIST_HEADERTEXT='filetab_multilist_headertext';Ribbon.RibbonTabListItem.csS_MULTILIST_DISCRIPTIONTEXT='filetab_multilist_discriptiontext';Ribbon.RibbonTabListItem.csS_LISTITEMWODIS_CONTAINERELEMENT='filetab_listitemwodis_containerelement';Ribbon.RibbonTabListItem.csS_LISTITEMWODIS_IMAGE='filetab_listitemwodis_image';Ribbon.RibbonTabListItem.csS_LISTITEMWODIS_HEADERTEXT='filetab_listitemwodis_headertext';Ribbon.RibbonTabListItem.csS_LISTITEMWODIS_DISCRIPTIONTEXT='filetab_listitemwodis_discriptiontext';Ribbon.RibbonTabListItem.csS_FILETAB_HINT='filetab_visual_hint';Ribbon.BaseTextBox.msG_TEXT_CHANGED='msg_text_changed';Ribbon.BaseTextBox.csS_TEXTBOX_NORMAL='textbox_input_normal';Ribbon.BaseTextBox.csS_SEL_EN='selection_enable';Ribbon.RibbonItemAuthor.csS_IMAGE_IN_TEXTBOX='filetab_author_btn_inner';Ribbon.RibbonItemAuthor.csS_IMAGE_OUT_TEXTBOX='filetab_author_btn_outer';Ribbon.RibbonItemSearch.csS_IMAGE_DISABLE_CLASS='filetab_search_disable';Ribbon.RibbonItemSearch.searcH_IMG_SIZE=25;Ribbon.RibbonItemSpinCtrl.menuparT_WT=16;Ribbon.RibbonMessages.msG_SET_FOCUS_ON_TAB_KEY='msg_set_focus_on_tab_key';Ribbon.RibbonMessages.msG_RESET_FOCUS_CHECK_ALT_MODE='msg_reset_focus_check_alt_mode';Ribbon.RibbonMessages.msG_SET_FOCUS_ON_ARROW_KEY='msg_set_focus_on_arrow_key';Ribbon.RibbonItemState.donT_CARE=1000;Ribbon.ColorParts.THEME='Theme Colors';Ribbon.ColorParts.STANDARD='Standard Colors';Ribbon.ColorParts.RECENT='Recent Colors';Ribbon.RibbonItemComboBox.arroW_HT=3;Ribbon.RibbonItemComboBox.csS_COMBO_NORMAL='combo_normal';Ribbon.RibbonItemComboBox.csS_COMBO_DIS='combo_disabled';Ribbon.RibbonItemComboBox.csS_COMBO_DOWN_BTN='combo_DownBtn';Ribbon.RibbonItemComboBox.csS_COMBO_ARR='combo_arr';Ribbon.RibbonItemContainer.actioN_COUNT='_action_count';Ribbon.RibbonItemContainer.overridE_COUNT='_override_count';Ribbon.RibbonItemContainer.doublE_CLK_ACTION_COUNT='_dblclk_action_count';Ribbon.RibbonItemContainer.actioN_DATA='_action_data';Ribbon.RibbonItemContainer.doublE_CLK_ACTION_DATA='_dblclk_action_data';Ribbon.RibbonItemContainer.overridE_DATA='_override_data';Ribbon.RibbonItemContainer.ribboN_CONTROL='ribbon_control';Ribbon.RibbonItemContainer.adD_REMOVE_COUNT='_add_remove_count';Ribbon.RibbonItemContainer.adD_REMOVE_DATA='_add_remove_data';Ribbon.RibbonItemContainer.iteM_SHOW_HIDE='_item_showhide';Ribbon.RibbonItemContainer.iteM_REMOVE_DIALOG_MAPPING_ID='_item_remove_dialog_mapping_id';Ribbon.RibbonItemContainer.miscctrL_FORMAT_OVERRIDE_COUNT='_miscctrl_format_override_count';Ribbon.RibbonItemContainer.miscctrL_FORMAT_OVERRIDE_DATA='_miscctrl_format_override_data';Ribbon.RibbonItemContainer.ribboN_ITEM='rbnItem';Ribbon.RibbonItemContainer.containeR_NAME='ribbon_item_container';Ribbon.RibbonItemContainer.msG_SET_FOCUS='msg_set_focus';Ribbon.RibbonItemContainer.msG_KILL_FOCUS='msg_kill_focus';Ribbon.RibbonItemContainer.msG_RESET_FOCUS='msg_reset_focus';Ribbon.RibbonItemContainer.msG_GET_OVERRIDE_MAPS='msg_get_override_maps';Ribbon.RibbonItemContainer.msG_GET_ACTION_MAPS='msg_get_action_maps';Ribbon.RibbonItemContainer.msG_LEFT_MOUSE_BTN_UP='msg_left_btn_up';Ribbon.RibbonItemContainer.msG_DBL_CLK='msg_dbl_clk';Ribbon.RibbonItemContainer.msG_DRAW_LATEST_HIGHLIGHTED_ITEM='msg_draw_latest_highlighted_item';Ribbon.RibbonItemContainer.msG_MOUSE_HOOK_RBN_SRC_ELE='msg_mouse_hook_rbn_src_ele';Ribbon.RibbonItemContainer.msG_SCROLL_ON_FOCUS='msg_scroll_on_focus';Ribbon.RibbonItemContainer.ribboN_PANE='rbnPane';Ribbon.RibbonItemContainer.msG_GET_MENU_LAUNCHER_ACTION_STRING='msg_get_menu_launcher_action_string';Ribbon.RibbonParser.defaulT_SHRUNK_WT=56;Ribbon.RibbonParser.$17=-4;Ribbon.RibbonParser.stR_RIBBON_TAG='ribbon';Kepler.Engine.UI.MiniToolbar.BaseMiniToolbar.HEIGHT=49;Kepler.Engine.UI.MiniToolbar.BaseMiniToolbar.minitoolbaR_ID='mini_toolbar';Kepler.Engine.UI.MiniToolbar.BaseMiniToolbar.prefiX_TAIT_MINITOOLBAR='minitoolbar';Kepler.Engine.UI.MiniToolbar.BaseMiniToolbar.prefiX_ID_MINITOOLBAR='mtb';Kepler.Engine.UI.Themed_Controls.ThemeSplitButton.csS_CLASS_NAME=' theme_button';Kepler.Engine.UI.StatusBar.Items.StatusBarItemNormal.imagE_SIZE=16;Kepler.Engine.UI.StatusBar.Items.StatusBarItemNormal.csS_NORMAL='statusbar_normal';Kepler.Engine.UI.StatusBar.Items.StatusBarItemStatic.paddinG_LEFT_NORMAL_MODE=11;Kepler.Engine.UI.StatusBar.Items.StatusBarItemStatic.paddinG_RIGHT_NORMAL_MODE=9;Kepler.Engine.UI.StatusBar.Items.StatusBarItemStatic.paddinG_LEFT_TOUCH_MODE=18;Kepler.Engine.UI.StatusBar.Items.StatusBarItemStatic.paddinG_RIGHT_TOUCH_MODE=16;Kepler.Engine.UI.StatusBar.Items.StatusBarItemTextBtn.paddinG_LEFT_NORMAL_MODE=7;Kepler.Engine.UI.StatusBar.Items.StatusBarItemTextBtn.paddinG_RIGHT_NORMAL_MODE=10;Kepler.Engine.UI.StatusBar.Items.StatusBarItemTextBtn.paddinG_LEFT_TOUCH_MODE=14;Kepler.Engine.UI.StatusBar.Items.StatusBarItemTextBtn.paddinG_RIGHT_TOUCH_MODE=17;Kepler.Engine.UI.StatusBar.Items.StatusBarZoomCtrl.scrolL_STYLE_CEILING=1;Kepler.Engine.UI.StatusBar.Items.StatusBarZoomCtrl.scrolL_STYLE_FLOOR=2;Kepler.Engine.UI.StatusBar.Items.StatusBarZoomCtrl.msG_UPDATE_RECT='msg_update_rect';})();// This script was generated using Script# v0.7.4.0

// shapes.contracts.js
(function(){
Type.registerNamespace('Kepler.Shapes.Contracts');Kepler.Shapes.Contracts.ShapeModuleName=function(){};Kepler.Shapes.Contracts.ShapeModuleName.prototype = {shapes:'shapes'}
Kepler.Shapes.Contracts.ShapeModuleName.registerEnum('Kepler.Shapes.Contracts.ShapeModuleName',false);Kepler.Shapes.Contracts.eScrollInitiater=function(){};Kepler.Shapes.Contracts.eScrollInitiater.prototype = {eNone:-1,eScrollFromOutSide:1,eScrollInternall:2}
Kepler.Shapes.Contracts.eScrollInitiater.registerEnum('Kepler.Shapes.Contracts.eScrollInitiater',false);Kepler.Shapes.Contracts.APP_TYPE=function(){};Kepler.Shapes.Contracts.APP_TYPE.prototype = {EXCEL:1,WORD:2}
Kepler.Shapes.Contracts.APP_TYPE.registerEnum('Kepler.Shapes.Contracts.APP_TYPE',false);Kepler.Shapes.Contracts.RBN_IDS_E=function(){};Kepler.Shapes.Contracts.RBN_IDS_E.prototype = {i540102:540102,i540305:540305,i540405:540405,i540605:540605}
Kepler.Shapes.Contracts.RBN_IDS_E.registerEnum('Kepler.Shapes.Contracts.RBN_IDS_E',false);Kepler.Shapes.Contracts.MENU_IDS_E=function(){};Kepler.Shapes.Contracts.MENU_IDS_E.prototype = {i1004503:1004503,i1025010:1025010,i1025110:1025110,i1003103:1003103,i1003203:1003203,i1003403:1003403,i1003503:1003503,i1003903:1003903,i1003803:1003803,i1004403:1004403}
Kepler.Shapes.Contracts.MENU_IDS_E.registerEnum('Kepler.Shapes.Contracts.MENU_IDS_E',false);Kepler.Shapes.Contracts.DB_LAUNCH_MODE=function(){};Kepler.Shapes.Contracts.DB_LAUNCH_MODE.prototype = {charT_TITLE:11,datA_SERIES:51,PICTURE:61,SHAPE:71,charT_AREA:81,datA_POINT:91,datA_LABELS:101}
Kepler.Shapes.Contracts.DB_LAUNCH_MODE.registerEnum('Kepler.Shapes.Contracts.DB_LAUNCH_MODE',false);Kepler.Shapes.Contracts.eActionType=function(){};Kepler.Shapes.Contracts.eActionType.prototype = {eNone:-1,eCreatingNewShape:1,eTransformingShape:2,eEditingText:3,eRemoveChartLegend:4,eInsertChartTitle:5,eInsertChartAxisTitle:6,eEditingComment:7,eDeletingShape:10}
Kepler.Shapes.Contracts.eActionType.registerEnum('Kepler.Shapes.Contracts.eActionType',false);Kepler.Shapes.Contracts.eActionMode=function(){};Kepler.Shapes.Contracts.eActionMode.prototype = {eNone:-1,eEditing:1,eMoving:2,eResizing:3,eRotating:4,eResizingRotating:5,eEditResizeRotate:6,eDummyClick:7,eViewSelection:8,eTextSelection:9}
Kepler.Shapes.Contracts.eActionMode.registerEnum('Kepler.Shapes.Contracts.eActionMode',false);Kepler.Shapes.Contracts.ActionParams=function(){};Kepler.Shapes.Contracts.ActionParams.prototype = {eSelectionEntity:1}
Kepler.Shapes.Contracts.ActionParams.registerEnum('Kepler.Shapes.Contracts.ActionParams',false);Kepler.Shapes.Contracts.CHART_TYPES_PRIMARY=function(){};Kepler.Shapes.Contracts.CHART_TYPES_PRIMARY.prototype = {eColumn:10,eLine:20,ePie:30,eBar:40,eArea:50,eScatter:60,eStock:70,eSurface:80,eRadar:90}
Kepler.Shapes.Contracts.CHART_TYPES_PRIMARY.registerEnum('Kepler.Shapes.Contracts.CHART_TYPES_PRIMARY',false);Kepler.Shapes.Contracts.CHART_TYPE=function(){};Kepler.Shapes.Contracts.CHART_TYPE.prototype = {epie:301,e3Dpie:302}
Kepler.Shapes.Contracts.CHART_TYPE.registerEnum('Kepler.Shapes.Contracts.CHART_TYPE',false);Kepler.Shapes.Contracts.ShapeNotificationCode=function(){};Kepler.Shapes.Contracts.ShapeNotificationCode.prototype = {eNone:-1,eControllerElement:1,eSelectedText:2,eSetFormulaBarText:3,eActivateDocOnKeyDown:4,eDeactivateDoc:5,eGetTargetEventControl:6,eNotifyRibbonUpdate:7,eGetCursorRect:8,eGetShapeViewRect:9,eClearSelection:10}
Kepler.Shapes.Contracts.ShapeNotificationCode.registerEnum('Kepler.Shapes.Contracts.ShapeNotificationCode',false);Kepler.Shapes.Contracts.eScrollState=function(){};Kepler.Shapes.Contracts.eScrollState.prototype = {eNone:0,eStart:1,eScroll:2,eEnd:3,eReset:4}
Kepler.Shapes.Contracts.eScrollState.registerEnum('Kepler.Shapes.Contracts.eScrollState',false);Kepler.Shapes.Contracts.eScrollDirection=function(){};Kepler.Shapes.Contracts.eScrollDirection.prototype = {eNone:0,eLeft:1,eRight:2,eTop:3,eDown:4}
Kepler.Shapes.Contracts.eScrollDirection.registerEnum('Kepler.Shapes.Contracts.eScrollDirection',false);Kepler.Shapes.Contracts.BEHAVIOUR=function(){};Kepler.Shapes.Contracts.BEHAVIOUR.prototype = {none:'none',cropping:'cropping',cropping_master:'cropping_master',cropping_slave:'cropping_slave',shape:'shape'}
Kepler.Shapes.Contracts.BEHAVIOUR.registerEnum('Kepler.Shapes.Contracts.BEHAVIOUR',false);Kepler.Shapes.Contracts.eRangeType=function(){};Kepler.Shapes.Contracts.eRangeType.prototype = {header:1,data:2}
Kepler.Shapes.Contracts.eRangeType.registerEnum('Kepler.Shapes.Contracts.eRangeType',false);Kepler.Shapes.Contracts.IShapeCommunicator=function(){};Kepler.Shapes.Contracts.IShapeCommunicator.registerInterface('Kepler.Shapes.Contracts.IShapeCommunicator');Kepler.Shapes.Contracts.IShapeManager=function(){};Kepler.Shapes.Contracts.IShapeManager.registerInterface('Kepler.Shapes.Contracts.IShapeManager');Kepler.Shapes.Contracts.IShapeModule=function(){};Kepler.Shapes.Contracts.IShapeModule.registerInterface('Kepler.Shapes.Contracts.IShapeModule');Kepler.Shapes.Contracts.ShapeCommandStruct=function(data,notification){if(ss.isValue(data)){this.$0=data;}else{this.$0=null;}if(ss.isValue(notification)){this.$1=notification;}else{this.$1=-1;}}
Kepler.Shapes.Contracts.ShapeCommandStruct.prototype={$0:null,get_data:function(){return this.$0;},set_data:function(value){this.$0=value;return value;},$1:0,get_notification:function(){return this.$1;},set_notification:function(value){this.$1=value;return value;}}
Kepler.Shapes.Contracts.SHAPE_MESSAGES=function(){}
Kepler.Shapes.Contracts.ActionData=function(){Kepler.Shapes.Contracts.ActionData.initializeBase(this);this._iActionType=0;this._iPosX=0;this._iPosY=0;this._iWidth=0;this._iWidth=0;this._iHeight=0;this._iFrameInfo='0';this._iFrameToJump=0;this._iSubframeToJump=0;this._strActionString='';}
Kepler.Shapes.Contracts.ActionData.prototype={_iActionType:0,_iPosX:0,_iPosY:0,_iWidth:0,_iHeight:0,_iFrameInfo:null,_iFrameToJump:0,_iSubframeToJump:0,_strActionString:null,_strText:null}
Kepler.Shapes.Contracts.SELECTION_ENTITY=function(){}
Kepler.Shapes.Contracts.Scroll_Setup=function(){}
Kepler.Shapes.Contracts.Scroll_Setup.prototype={iStep:0,iDirection:0,eScrollState:0,get_direction:function(){return this.iDirection;},set_direction:function(value){this.iDirection=value;return value;},get_stepValue:function(){return this.iStep;},set_stepValue:function(value){this.iStep=value;return value;},get_scrollState:function(){return this.eScrollState;},set_scrollState:function(value){this.eScrollState=value;return value;}}
Kepler.Shapes.Contracts.FlipDirection=function(){}
Kepler.Shapes.Contracts.BORDER_CLS=function(){}
Kepler.Shapes.Contracts.RESIZE_HANDLE_CLS=function(){}
Kepler.Shapes.Contracts.SHAPE_TYPE=function(){Kepler.Shapes.Contracts.SHAPE_TYPE.initializeBase(this);}
Kepler.Shapes.Contracts.DOM_ATTRIB=function(){Kepler.Shapes.Contracts.DOM_ATTRIB.initializeBase(this);}
Kepler.Shapes.Contracts.CHART_AREA_TYPE=function(){}
Kepler.Shapes.Contracts.RESIZE_MODE=function(){Kepler.Shapes.Contracts.RESIZE_MODE.initializeBase(this);}
Kepler.Shapes.Contracts.IMG_DRAG_HANDLER=function(){Kepler.Shapes.Contracts.IMG_DRAG_HANDLER.initializeBase(this);}
Kepler.Shapes.Contracts.BORDER_STATE=function(){}
Kepler.Shapes.Contracts.BORDER_TYPE=function(){}
Kepler.Shapes.Contracts.ParsedType=function(){}
Kepler.Shapes.Contracts.MOUSE_MOVEMENT_STATUS=function(){}
Kepler.Shapes.Contracts.SHAPE_ELEMENTS=function(){}
Kepler.Shapes.Contracts.SVG_ARROW=function(){}
Kepler.Shapes.Contracts.ShapeInfo=function(){this.$0=-1;this.$1=-1;}
Kepler.Shapes.Contracts.ShapeInfo.prototype={$0:0,$1:0,get_viewIndex:function(){return this.$1;},set_viewIndex:function(value){this.$1=value;return value;},get_shapeId:function(){return this.$0;},set_shapeId:function(value){this.$0=value;return value;},clone:function(){var $0=new Kepler.Shapes.Contracts.ShapeInfo();$0.set_shapeId(this.get_shapeId());$0.set_viewIndex(this.get_viewIndex());return $0;}}
Kepler.Shapes.Contracts.ShapeVisibilty=function(){Kepler.Shapes.Contracts.ShapeVisibilty.initializeBase(this);this.$2=false;}
Kepler.Shapes.Contracts.ShapeVisibilty.prototype={$2:false,get_visibility:function(){return this.$2;},set_visibility:function(value){this.$2=value;return value;}}
Kepler.Shapes.Contracts.ExcellCommentInfo=function(){Kepler.Shapes.Contracts.ExcellCommentInfo.initializeBase(this);this.$3='';this.$2='';this.$4=new Kepler.Framework.UI.Rect(0,0,0,0);}
Kepler.Shapes.Contracts.ExcellCommentInfo.prototype={$2:null,$3:null,get_commentType:function(){return this.$3;},set_commentType:function(value){this.$3=value;return value;},$4:null,$5:false,get_forceVisible:function(){return this.$5;},set_forceVisible:function(value){this.$5=value;return value;},get_cellAddress:function(){return this.$2;},set_cellAddress:function(value){this.$2=value;return value;},get_cellRect:function(){return this.$4;},set_cellRect:function(value){this.$4=value;return value;},clone:function(){var $0=new Kepler.Shapes.Contracts.ExcellCommentInfo();$0.set_cellAddress(this.get_cellAddress());$0.set_commentType(this.$3);$0.set_cellRect(this.get_cellRect());$0.set_shapeId(this.get_shapeId());$0.set_viewIndex(this.get_viewIndex());$0.$5=this.get_forceVisible();return $0;}}
Kepler.Shapes.Contracts.RIBBON_CONSTANTS=function(){}
Kepler.Shapes.Contracts.ExcelFormulaBarInfo=function(){Kepler.Shapes.Contracts.ExcelFormulaBarInfo.initializeBase(this);this.$2=null;this.$3=null;}
Kepler.Shapes.Contracts.ExcelFormulaBarInfo.prototype={$2:null,$3:null,get_nameBoxText:function(){return this.$2;},set_nameBoxText:function(value){this.$2=value;return value;},get_formulaText:function(){return this.$3;},set_formulaText:function(value){this.$3=value;return value;}}
Kepler.Shapes.Contracts.KeyActions=function(){}
Kepler.Shapes.Contracts.ActionStruct=function(){this.$3=[];this.$2='';}
Kepler.Shapes.Contracts.ActionStruct.prototype={$0:'',$1:'',$2:null,$3:null,get_lstConditions:function(){return this.$3;},get_viewIndex:function(){return this.$0;},set_viewIndex:function(value){this.$0=value;return value;},get_frameToJump:function(){return this.$1;},set_frameToJump:function(value){this.$1=value;return value;},get_actionString:function(){return this.$2;},set_actionString:function(value){this.$2=value;return value;}}
Kepler.Shapes.Contracts.Condition=function(){this.$0=[];this.$1='';this.$2=new Kepler.Framework.UI.Rect(-1,-1,-1,-1);this.$5=false;}
Kepler.Shapes.Contracts.Condition.prototype={$0:null,$1:null,$2:null,$3:0,$4:null,$5:false,get_domId:function(){return this.$4;},set_domId:function(value){this.$4=value;return value;},get_actionMode:function(){return this.$3;},set_actionMode:function(value){this.$3=value;return value;},get_lstShapes:function(){return this.$0;},get_rc:function(){return this.$2;},set_rc:function(value){this.$2=value;return value;},get_text:function(){return this.$1;},set_text:function(value){this.$1=value;return value;},get_igonreAction:function(){return this.$5;},set_igonreAction:function(value){this.$5=value;return value;},hasValidRect:function(){var $0=true;if(this.$2.get_left()<0||this.$2.get_top()<0||this.$2.get_width()<0||this.$2.get_height()<0){$0=false;}return $0;}}
Kepler.Shapes.Contracts.ActionHandler=function(){this.$0=[];this.oValidAction=null;}
Kepler.Shapes.Contracts.ActionHandler.prototype={$0:null,get_lstActions:function(){return this.$0;},oValidAction:null,add:function(oActionStruct){this.$0.add(oActionStruct);},reset:function(){this.$0.clear();}}
Kepler.Shapes.Contracts.DynamicEventHandler=function(){this.$0=0;this.$1=false;this.$3=[];}
Kepler.Shapes.Contracts.DynamicEventHandler.prototype={$0:0,$1:false,get_isAvailable:function(){return this.$1;},$2:null,$3:null,get_dynamicEvents:function(){return this.$3;},initDynamicHandler:function(oActionHandler){this.reset();if(!ss.isValue(oActionHandler)){return;}this.$2=oActionHandler;this.$1=true;var $0=this.$2.get_lstActions().length;if($0>0){for(var $1=0;$1<$0;$1++){var $2=this.$2.get_lstActions()[$1];for(var $3=0;$3<$2.get_lstConditions().length;$3++){var $4=$2.get_lstConditions()[$3];if(!$4.get_igonreAction()){var $5=this.$4($4.get_actionMode());while($5>0){this.$3.add($4);$5-=1;}}}}}},traverseEvent:function(iTraverseIndex){var $0=this.$0;var $1=this.$3[$0];if(ss.isValue(iTraverseIndex)){if(iTraverseIndex>=0&&iTraverseIndex<this.$3.length){$1=this.$3[iTraverseIndex];}else{$1=null;}}else{this.$0++;if(this.$0>this.$3.length-1){this.$0=0;}}return $1;},reset:function(){this.$0=0;this.$3.clear();this.$2=null;this.$1=false;},$4:function($p0){var $0=0;switch($p0){case 7:$0=1;break;case -1:$0=1;break;case 1:$0=2;break;case 2:$0=2;break;case 3:$0=2;break;case 9:$0=1;break;}return $0;}}
Kepler.Shapes.Contracts.ShapeLayout=function(){}
Kepler.Shapes.Contracts.Range_Selection_Info=function(){this.$0='';this.$1='';this.$2=2;}
Kepler.Shapes.Contracts.Range_Selection_Info.prototype={get_dataRange:function(){return this.$0;},set_dataRange:function(value){this.$0=value;return value;},get_color:function(){return this.$1;},set_color:function(value){this.$1=value;return value;},get_rangeType:function(){return this.$2;},set_rangeType:function(value){this.$2=value;return value;}}
Kepler.Shapes.Contracts.Range_Info=function(){this.$2='';}
Kepler.Shapes.Contracts.Range_Info.prototype={$0:null,get_selectionRange:function(){return this.$0;},set_selectionRange:function(value){this.$0=value;return value;},$1:null,get_shapeInfo:function(){return this.$1;},set_shapeInfo:function(value){this.$1=value;return value;},get_shapeType:function(){return this.$2;},set_shapeType:function(value){this.$2=value;return value;}}
Kepler.Shapes.Contracts.CursorCssClasses=function(){}
Kepler.Shapes.Contracts.ShapeCommandStruct.registerClass('Kepler.Shapes.Contracts.ShapeCommandStruct');Kepler.Shapes.Contracts.SHAPE_MESSAGES.registerClass('Kepler.Shapes.Contracts.SHAPE_MESSAGES');Kepler.Shapes.Contracts.ActionData.registerClass('Kepler.Shapes.Contracts.ActionData',Object);Kepler.Shapes.Contracts.SELECTION_ENTITY.registerClass('Kepler.Shapes.Contracts.SELECTION_ENTITY');Kepler.Shapes.Contracts.Scroll_Setup.registerClass('Kepler.Shapes.Contracts.Scroll_Setup');Kepler.Shapes.Contracts.FlipDirection.registerClass('Kepler.Shapes.Contracts.FlipDirection');Kepler.Shapes.Contracts.BORDER_CLS.registerClass('Kepler.Shapes.Contracts.BORDER_CLS');Kepler.Shapes.Contracts.RESIZE_HANDLE_CLS.registerClass('Kepler.Shapes.Contracts.RESIZE_HANDLE_CLS');Kepler.Shapes.Contracts.SHAPE_TYPE.registerClass('Kepler.Shapes.Contracts.SHAPE_TYPE',Object);Kepler.Shapes.Contracts.DOM_ATTRIB.registerClass('Kepler.Shapes.Contracts.DOM_ATTRIB',Object);Kepler.Shapes.Contracts.CHART_AREA_TYPE.registerClass('Kepler.Shapes.Contracts.CHART_AREA_TYPE');Kepler.Shapes.Contracts.RESIZE_MODE.registerClass('Kepler.Shapes.Contracts.RESIZE_MODE',Object);Kepler.Shapes.Contracts.IMG_DRAG_HANDLER.registerClass('Kepler.Shapes.Contracts.IMG_DRAG_HANDLER',Object);Kepler.Shapes.Contracts.BORDER_STATE.registerClass('Kepler.Shapes.Contracts.BORDER_STATE');Kepler.Shapes.Contracts.BORDER_TYPE.registerClass('Kepler.Shapes.Contracts.BORDER_TYPE');Kepler.Shapes.Contracts.ParsedType.registerClass('Kepler.Shapes.Contracts.ParsedType');Kepler.Shapes.Contracts.MOUSE_MOVEMENT_STATUS.registerClass('Kepler.Shapes.Contracts.MOUSE_MOVEMENT_STATUS');Kepler.Shapes.Contracts.SHAPE_ELEMENTS.registerClass('Kepler.Shapes.Contracts.SHAPE_ELEMENTS');Kepler.Shapes.Contracts.SVG_ARROW.registerClass('Kepler.Shapes.Contracts.SVG_ARROW');Kepler.Shapes.Contracts.ShapeInfo.registerClass('Kepler.Shapes.Contracts.ShapeInfo');Kepler.Shapes.Contracts.ShapeVisibilty.registerClass('Kepler.Shapes.Contracts.ShapeVisibilty',Kepler.Shapes.Contracts.ShapeInfo);Kepler.Shapes.Contracts.ExcellCommentInfo.registerClass('Kepler.Shapes.Contracts.ExcellCommentInfo',Kepler.Shapes.Contracts.ShapeInfo);Kepler.Shapes.Contracts.RIBBON_CONSTANTS.registerClass('Kepler.Shapes.Contracts.RIBBON_CONSTANTS');Kepler.Shapes.Contracts.ExcelFormulaBarInfo.registerClass('Kepler.Shapes.Contracts.ExcelFormulaBarInfo',Kepler.Shapes.Contracts.ShapeInfo);Kepler.Shapes.Contracts.KeyActions.registerClass('Kepler.Shapes.Contracts.KeyActions');Kepler.Shapes.Contracts.ActionStruct.registerClass('Kepler.Shapes.Contracts.ActionStruct');Kepler.Shapes.Contracts.Condition.registerClass('Kepler.Shapes.Contracts.Condition');Kepler.Shapes.Contracts.ActionHandler.registerClass('Kepler.Shapes.Contracts.ActionHandler');Kepler.Shapes.Contracts.DynamicEventHandler.registerClass('Kepler.Shapes.Contracts.DynamicEventHandler');Kepler.Shapes.Contracts.ShapeLayout.registerClass('Kepler.Shapes.Contracts.ShapeLayout');Kepler.Shapes.Contracts.Range_Selection_Info.registerClass('Kepler.Shapes.Contracts.Range_Selection_Info');Kepler.Shapes.Contracts.Range_Info.registerClass('Kepler.Shapes.Contracts.Range_Info');Kepler.Shapes.Contracts.CursorCssClasses.registerClass('Kepler.Shapes.Contracts.CursorCssClasses');Kepler.Shapes.Contracts.SHAPE_MESSAGES.msG_HANDLE_CUSTOM_SELECTION_CHANGE='msg_handle_custom_range_selection';Kepler.Shapes.Contracts.SHAPE_MESSAGES.msG_HANDLE_CURRENT_ACTION_CHANGE='msg_handle_current_action_change';Kepler.Shapes.Contracts.SHAPE_MESSAGES.msG_HANDLE_QAT_MENU='msg_handle_qat_menu';Kepler.Shapes.Contracts.SHAPE_MESSAGES.msG_HIDE_QAT_OF_ACTIVE_SHAPE='msg_hide_qat_of_active_shape';Kepler.Shapes.Contracts.SHAPE_MESSAGES.msG_SELECT_RANGE_FOR_SHAPES='msg_select_range_for_shapes';Kepler.Shapes.Contracts.SHAPE_MESSAGES.msG_QUERY_ELEMENT_FOR_RELATIVE_POS='msg_query_element_for_relative_pos';Kepler.Shapes.Contracts.SHAPE_MESSAGES.msG_LBUTTON_DOWN='msg_lbutton_down';Kepler.Shapes.Contracts.SHAPE_MESSAGES.msG_MOUSE_MOVE='msg_mouse_move';Kepler.Shapes.Contracts.SHAPE_MESSAGES.msG_LBUTTON_UP='msg_lbutton_up';Kepler.Shapes.Contracts.SHAPE_MESSAGES.msG_RIGHT_CLICK='msg_right_click';Kepler.Shapes.Contracts.SHAPE_MESSAGES.msG_MOUSE_WHEEL='msg_mouse_wheel';Kepler.Shapes.Contracts.SHAPE_MESSAGES.msG_BECAME_EDITABLE='msg_became_editable';Kepler.Shapes.Contracts.SHAPE_MESSAGES.msG_APPLIED_DEFAULT_BORDERS='msg_applied_default_borders';Kepler.Shapes.Contracts.SHAPE_MESSAGES.msG_LAYOUT_SHAPE='msg_layout_shape';Kepler.Shapes.Contracts.SHAPE_MESSAGES.msG_CHECK_CUR_KEY='msg_check_cur_key';Kepler.Shapes.Contracts.SHAPE_MESSAGES.msG_GET_VIEW_NAME='msg_get_view_name';Kepler.Shapes.Contracts.SHAPE_MESSAGES.msG_GET_CONTROLLER_RECT='msg_get_controller_rect';Kepler.Shapes.Contracts.SHAPE_MESSAGES.msG_GET_SHAPEVIEW_RECT='msg_get_shapeview_rect';Kepler.Shapes.Contracts.SHAPE_MESSAGES.msG_NOTIFY_MODE_CHANGE='msg_notify_mode_change';Kepler.Shapes.Contracts.SHAPE_MESSAGES.msG_MATCH_ACTION_CONDITION='msg_match_action_condition';Kepler.Shapes.Contracts.SHAPE_MESSAGES.msG_NOTIFY_APP_FOR_PROCESS_VIEWSEL='msg_notify_app_for_process_viewsel';Kepler.Shapes.Contracts.SHAPE_MESSAGES.msG_NOTIFY_CROPPING_STARTED='msg_notify_cropping_started';Kepler.Shapes.Contracts.SHAPE_MESSAGES.msG_NOTIFY_SHAPE_SELECTION_CHANGED='msg_notify_shape_selection_changed';Kepler.Shapes.Contracts.SHAPE_MESSAGES.msG_SHAPE_SCROLL_CONTROLLER='msg_shape_scroll_controller';Kepler.Shapes.Contracts.SHAPE_MESSAGES.msG_SHAPE_COMMAND='msg_shape_command';Kepler.Shapes.Contracts.SHAPE_MESSAGES.msG_SHAPE_CTRL_SELECTION='msg_shape_ctrl_shape_selection';Kepler.Shapes.Contracts.SELECTION_ENTITY.NONE=-1;Kepler.Shapes.Contracts.SELECTION_ENTITY.shapE_CONTROLLER=1;Kepler.Shapes.Contracts.SELECTION_ENTITY.worD_APP=2;Kepler.Shapes.Contracts.SELECTION_ENTITY.exceL_APP=3;Kepler.Shapes.Contracts.FlipDirection.NONE='';Kepler.Shapes.Contracts.FlipDirection.VERTICAL='y';Kepler.Shapes.Contracts.FlipDirection.HORIZONTAL='x';Kepler.Shapes.Contracts.FlipDirection.BOTH='xy';Kepler.Shapes.Contracts.BORDER_CLS.soliD_HOR='shape_solid_hor_border';Kepler.Shapes.Contracts.BORDER_CLS.soliD_VER='shape_solid_ver_border';Kepler.Shapes.Contracts.BORDER_CLS.soliD_DARK_HOR='shape_dark_solid_hor_border';Kepler.Shapes.Contracts.BORDER_CLS.soliD_DARK_VER='shape_dark_solid_ver_border';Kepler.Shapes.Contracts.BORDER_CLS.dasheD_HOR='shape_dashed_hor_border';Kepler.Shapes.Contracts.BORDER_CLS.dasheD_VER='shape_dashed_ver_border';Kepler.Shapes.Contracts.BORDER_CLS.charT_HOR='shape_hor_outer_chartborder';Kepler.Shapes.Contracts.BORDER_CLS.charT_VER='shape_ver_outer_chartborder';Kepler.Shapes.Contracts.BORDER_CLS.imG_CROP_HOR='';Kepler.Shapes.Contracts.BORDER_CLS.imG_CROP_VER='';Kepler.Shapes.Contracts.RESIZE_HANDLE_CLS.norM_CORNER_TOP_LEFT='shape_simpleshape_textbox_chartinnerpart_resizehandle';Kepler.Shapes.Contracts.RESIZE_HANDLE_CLS.norM_CORNER_TOP_RIGHT='shape_simpleshape_textbox_chartinnerpart_resizehandle';Kepler.Shapes.Contracts.RESIZE_HANDLE_CLS.norM_CORNER_BOTTOM_LEFT='shape_simpleshape_textbox_chartinnerpart_resizehandle';Kepler.Shapes.Contracts.RESIZE_HANDLE_CLS.norM_CORNER_BOTTOM_RIGHT='shape_simpleshape_textbox_chartinnerpart_resizehandle';Kepler.Shapes.Contracts.RESIZE_HANDLE_CLS.norM_CORNER_TOP_CENTER='shape_simpleshape_textbox_chartinnerpart_resizehandle';Kepler.Shapes.Contracts.RESIZE_HANDLE_CLS.norM_CORNER_RIGHT_CENTER='shape_simpleshape_textbox_chartinnerpart_resizehandle';Kepler.Shapes.Contracts.RESIZE_HANDLE_CLS.norM_CORNER_BOTTOM_CENTER='shape_simpleshape_textbox_chartinnerpart_resizehandle';Kepler.Shapes.Contracts.RESIZE_HANDLE_CLS.norM_CORNER_LEFT_CENTER='shape_simpleshape_textbox_chartinnerpart_resizehandle';Kepler.Shapes.Contracts.RESIZE_HANDLE_CLS.charT_CORNER_TOP_LEFT='shape_topleft_chartouter_resizehandle';Kepler.Shapes.Contracts.RESIZE_HANDLE_CLS.charT_CORNER_TOP_RIGHT='shape_topright_chartouter_resizehandle';Kepler.Shapes.Contracts.RESIZE_HANDLE_CLS.charT_CORNER_BOTTOM_LEFT='shape_bottomleft_chartouter_resizehandle';Kepler.Shapes.Contracts.RESIZE_HANDLE_CLS.charT_CORNER_BOTTOM_RIGHT='shape_bottomright_chartouter_resizehandle';Kepler.Shapes.Contracts.RESIZE_HANDLE_CLS.charT_CORNER_TOP_CENTER='shape_topcenter_bottomcenter_chartouter';Kepler.Shapes.Contracts.RESIZE_HANDLE_CLS.charT_CORNER_RIGHT_CENTER='shape_leftcenter_rightcenter_chartouter';Kepler.Shapes.Contracts.RESIZE_HANDLE_CLS.charT_CORNER_BOTTOM_CENTER='shape_topcenter_bottomcenter_chartouter';Kepler.Shapes.Contracts.RESIZE_HANDLE_CLS.charT_CORNER_LEFT_CENTER='shape_leftcenter_rightcenter_chartouter';Kepler.Shapes.Contracts.RESIZE_HANDLE_CLS.smartarT_TEXTPANE_LEFT_CENTER='shape_textpane_leftcenter_smartart';Kepler.Shapes.Contracts.RESIZE_HANDLE_CLS.imG_CROP_CORNER_TOP_LEFT='shape_cropping_slave_resizehandle_NW';Kepler.Shapes.Contracts.RESIZE_HANDLE_CLS.imG_CROP_CORNER_TOP_RIGHT='shape_cropping_slave_resizehandle_NE';Kepler.Shapes.Contracts.RESIZE_HANDLE_CLS.imG_CROP_CORNER_BOTTOM_LEFT='shape_cropping_slave_resizehandle_SW';Kepler.Shapes.Contracts.RESIZE_HANDLE_CLS.imG_CROP_CORNER_BOTTOM_RIGHT='shape_cropping_slave_resizehandle_SE';Kepler.Shapes.Contracts.RESIZE_HANDLE_CLS.imG_CROP_CORNER_TOP_BOTTOM_CENTER='shape_cropping_slave_resizehandle_NS_C';Kepler.Shapes.Contracts.RESIZE_HANDLE_CLS.imG_CROP_CORNER_LEFT_RIGHT_CENTER='shape_cropping_slave_resizehandle_EW_C';Kepler.Shapes.Contracts.SHAPE_TYPE.IMAGE='image';Kepler.Shapes.Contracts.SHAPE_TYPE.EDITABLE='editable';Kepler.Shapes.Contracts.SHAPE_TYPE.charT_TITLE='charttitle';Kepler.Shapes.Contracts.SHAPE_TYPE.imagE_WITH_TEXT='imagewithtext';Kepler.Shapes.Contracts.SHAPE_TYPE.TEXTBOX='textbox';Kepler.Shapes.Contracts.SHAPE_TYPE._3DTEXTBOX='3dtextbox';Kepler.Shapes.Contracts.SHAPE_TYPE.GROUP='group';Kepler.Shapes.Contracts.SHAPE_TYPE.CHART='chart';Kepler.Shapes.Contracts.SHAPE_TYPE.SMARTART='smartart';Kepler.Shapes.Contracts.SHAPE_TYPE.readY_MADE='readymade';Kepler.Shapes.Contracts.SHAPE_TYPE.CONNECTOR='connector';Kepler.Shapes.Contracts.SHAPE_TYPE.texT_AREA='text_area';Kepler.Shapes.Contracts.SHAPE_TYPE.exceL_COMMENT='excelcomment';Kepler.Shapes.Contracts.SHAPE_TYPE.worD_ART='wordart';Kepler.Shapes.Contracts.DOM_ATTRIB.NAME='name';Kepler.Shapes.Contracts.DOM_ATTRIB.objecT_TYPE='objecttype';Kepler.Shapes.Contracts.DOM_ATTRIB.objecT_SUBTYPE='objectsubtype';Kepler.Shapes.Contracts.DOM_ATTRIB.elemenT_INDEX='elementindex';Kepler.Shapes.Contracts.DOM_ATTRIB.parenT_SHAPE_INDEX='parentshape';Kepler.Shapes.Contracts.DOM_ATTRIB.bordeR_STATE='borderstate';Kepler.Shapes.Contracts.DOM_ATTRIB.selecT_CHILD_IDS='select_child_ids';Kepler.Shapes.Contracts.DOM_ATTRIB.contenT_EDITABLE='contenteditable';Kepler.Shapes.Contracts.DOM_ATTRIB.preV_BORDER_STATE='prevborderstate';Kepler.Shapes.Contracts.DOM_ATTRIB.dragginG_STARTED='draggingstarted';Kepler.Shapes.Contracts.DOM_ATTRIB.mousE_DROPPED='mousedropped';Kepler.Shapes.Contracts.DOM_ATTRIB.clickeD_OUTSIDE='bClickedOutside';Kepler.Shapes.Contracts.DOM_ATTRIB.SRC='src';Kepler.Shapes.Contracts.DOM_ATTRIB.smarT_ART_INDEX='smartartindex';Kepler.Shapes.Contracts.DOM_ATTRIB.charT_INDEX='chartindex';Kepler.Shapes.Contracts.DOM_ATTRIB.charT_TYPE='charttype';Kepler.Shapes.Contracts.DOM_ATTRIB.clickeD_ELEMENT_INDEX='clickedelementindex';Kepler.Shapes.Contracts.DOM_ATTRIB.smarT_ART_TYPE_BORDER='smartarttypeborder';Kepler.Shapes.Contracts.DOM_ATTRIB.ORIENTATION='orientation';Kepler.Shapes.Contracts.DOM_ATTRIB.NORESIZE='noresize';Kepler.Shapes.Contracts.DOM_ATTRIB.ROTATE='rotatehandle';Kepler.Shapes.Contracts.DOM_ATTRIB.HIDDEN='hidden';Kepler.Shapes.Contracts.DOM_ATTRIB.FLIP='flip';Kepler.Shapes.Contracts.DOM_ATTRIB.originaL_TEXT='oldtext';Kepler.Shapes.Contracts.DOM_ATTRIB.olD_TEXT='oldtext';Kepler.Shapes.Contracts.DOM_ATTRIB.neW_TEXT='newtext';Kepler.Shapes.Contracts.DOM_ATTRIB.comparE_CASE='comparecase';Kepler.Shapes.Contracts.DOM_ATTRIB.framE_TO_JUMP='frametojump';Kepler.Shapes.Contracts.DOM_ATTRIB.cursoR_CSS_CLASS='cursorcssclass';Kepler.Shapes.Contracts.DOM_ATTRIB.cursoR_STYLE_TAG_ID='cursorstyletag';Kepler.Shapes.Contracts.DOM_ATTRIB.accessibilitY_TEXT='accessibilitytext';Kepler.Shapes.Contracts.DOM_ATTRIB.alloW_ROTATE='allowrotate';Kepler.Shapes.Contracts.DOM_ATTRIB.alloW_RESIZE='allowresize';Kepler.Shapes.Contracts.DOM_ATTRIB.alloW_MOVE='allowmove';Kepler.Shapes.Contracts.DOM_ATTRIB.alloW_FOCUS='allowfocus';Kepler.Shapes.Contracts.DOM_ATTRIB.alloW_TRANSFORMATION='allowtransform';Kepler.Shapes.Contracts.DOM_ATTRIB.alloW_QAT_MENU='allowqatmenu';Kepler.Shapes.Contracts.DOM_ATTRIB.AREA='area';Kepler.Shapes.Contracts.DOM_ATTRIB.areA_ID='areaid';Kepler.Shapes.Contracts.DOM_ATTRIB.areA_START='areastart';Kepler.Shapes.Contracts.DOM_ATTRIB.areA_END='areaend';Kepler.Shapes.Contracts.DOM_ATTRIB.grouP_ID='groupid';Kepler.Shapes.Contracts.DOM_ATTRIB.selecT_ALL_IN_GROUP_LEFT='selectallingroupleft';Kepler.Shapes.Contracts.DOM_ATTRIB.grouP_SELECTED_LEFT_ELEMENT='groupselectedleftelement';Kepler.Shapes.Contracts.DOM_ATTRIB.grouP_SELECTED_RIGHT_ELEMENT='groupselectedrightelement';Kepler.Shapes.Contracts.DOM_ATTRIB.grouP_SELECTED_UP_ELEMENT='groupselectedupelement';Kepler.Shapes.Contracts.DOM_ATTRIB.grouP_SELECTED_DOWN_ELEMENT='groupselecteddownelement';Kepler.Shapes.Contracts.DOM_ATTRIB.maP_ID='mapid';Kepler.Shapes.Contracts.DOM_ATTRIB.charT_EDITABLE_ELEMENT_COUNT='editableElementCount';Kepler.Shapes.Contracts.DOM_ATTRIB.charT_EDITABLE_AREA='charteditablearea';Kepler.Shapes.Contracts.DOM_ATTRIB.charT_EDITABLE_STATE='charteditablestate';Kepler.Shapes.Contracts.DOM_ATTRIB.charT_BORDER='chartborder';Kepler.Shapes.Contracts.DOM_ATTRIB.charT_AREA='chartarea';Kepler.Shapes.Contracts.DOM_ATTRIB.grouP_PARENT_ID='groupparentid';Kepler.Shapes.Contracts.DOM_ATTRIB.grouP_CHILD_ID='groupchildid';Kepler.Shapes.Contracts.DOM_ATTRIB.areA_TYPE='areatype';Kepler.Shapes.Contracts.DOM_ATTRIB.bubblE_HEIGHT='bubbleheight';Kepler.Shapes.Contracts.DOM_ATTRIB.bubblE_WIDTH='bubbleWidth';Kepler.Shapes.Contracts.DOM_ATTRIB.bubblE_IMAGE='bubbleimage';Kepler.Shapes.Contracts.DOM_ATTRIB.nO_OF_CORDS='noofcords';Kepler.Shapes.Contracts.DOM_ATTRIB.shoW_BORDER_LINES='showborderlines';Kepler.Shapes.Contracts.DOM_ATTRIB.poS_PARENT='posparent';Kepler.Shapes.Contracts.DOM_ATTRIB.poS_PARENT_X='posparentx';Kepler.Shapes.Contracts.DOM_ATTRIB.poS_PARENT_Y='posparenty';Kepler.Shapes.Contracts.DOM_ATTRIB.poS_WIDTH='poswidth';Kepler.Shapes.Contracts.DOM_ATTRIB.poS_HEIGHT='posheight';Kepler.Shapes.Contracts.DOM_ATTRIB.centeR_RESIZE='centerresize';Kepler.Shapes.Contracts.DOM_ATTRIB.nO_BORDER='noborder';Kepler.Shapes.Contracts.DOM_ATTRIB.charT_ELEMENT_BUBBLE='chartelementbubble';Kepler.Shapes.Contracts.DOM_ATTRIB.grouP_CHILD='groupchildid';Kepler.Shapes.Contracts.DOM_ATTRIB.griD_LINES='gridlines';Kepler.Shapes.Contracts.DOM_ATTRIB.axiS_NAME='axisname';Kepler.Shapes.Contracts.DOM_ATTRIB.excelL_COMMENT_CELL_ADDRESS='celladdress';Kepler.Shapes.Contracts.DOM_ATTRIB.apP_CURRENT_VIEW_INDEX='viewindex';Kepler.Shapes.Contracts.DOM_ATTRIB.elemenT_COUNT='elementcount';Kepler.Shapes.Contracts.DOM_ATTRIB.PERSIST='persist';Kepler.Shapes.Contracts.DOM_ATTRIB.bubblE_CSS_CLASS='bubbleimagecls';Kepler.Shapes.Contracts.DOM_ATTRIB.charT_BUBBLE_LARGE='shape_chart_large_bubble';Kepler.Shapes.Contracts.DOM_ATTRIB.charT_BUBBLE_SMALL='shape_chart_small_bubble';Kepler.Shapes.Contracts.DOM_ATTRIB.resizE_HANDLE_CSS_CLASS='shape_simpleshape_textbox_chartinnerpart_resizehandle';Kepler.Shapes.Contracts.DOM_ATTRIB.serieS_ID='seriesid';Kepler.Shapes.Contracts.DOM_ATTRIB.categorY_ID='categoryid';Kepler.Shapes.Contracts.DOM_ATTRIB.shapE_TITLE='shapetitle';Kepler.Shapes.Contracts.DOM_ATTRIB.shapE_RANGE='range';Kepler.Shapes.Contracts.DOM_ATTRIB.chilD_SHAPE='range';Kepler.Shapes.Contracts.DOM_ATTRIB.preselectioN_START='preselection_start';Kepler.Shapes.Contracts.DOM_ATTRIB.elemenT_HEIGHT='elementheight';Kepler.Shapes.Contracts.DOM_ATTRIB.elemenT_WIDTH='elementwidth';Kepler.Shapes.Contracts.DOM_ATTRIB.chilD_SHAPES_COUNT='childShapesCount';Kepler.Shapes.Contracts.DOM_ATTRIB.parenT_SHAPE_ELEMENT_INDEX='parentShapeElementIndex';Kepler.Shapes.Contracts.DOM_ATTRIB.bordeR_TYPE='bordertype';Kepler.Shapes.Contracts.DOM_ATTRIB.bordeR_SVG='svgborder';Kepler.Shapes.Contracts.DOM_ATTRIB.bordeR_ELEMENT_HOLDER='borderelementholder';Kepler.Shapes.Contracts.DOM_ATTRIB.rangE_INFO='rangeinfo';Kepler.Shapes.Contracts.DOM_ATTRIB.layouT_POSITION='layoutPosition';Kepler.Shapes.Contracts.DOM_ATTRIB.thresholD_W='threshold_W';Kepler.Shapes.Contracts.DOM_ATTRIB.thresholD_H='threshold_H';Kepler.Shapes.Contracts.DOM_ATTRIB.thresholD_X='threshold_x';Kepler.Shapes.Contracts.DOM_ATTRIB.thresholD_Y='threshold_y';Kepler.Shapes.Contracts.DOM_ATTRIB.ribboN_MODE='ribbonmode';Kepler.Shapes.Contracts.DOM_ATTRIB.cursoR_TYPE='cursor_type';Kepler.Shapes.Contracts.DOM_ATTRIB.firsT_POINT='firstpoint';Kepler.Shapes.Contracts.DOM_ATTRIB.seconD_POINT='secondpoint';Kepler.Shapes.Contracts.DOM_ATTRIB.centeR_POINT='centerpoint';Kepler.Shapes.Contracts.DOM_ATTRIB.slicE_IMG_PATH='sliceimgpath';Kepler.Shapes.Contracts.DOM_ATTRIB.ellipsE_POINT='ellipsepoint';Kepler.Shapes.Contracts.DOM_ATTRIB.ellipsE_WIDHT='ellipsewidth';Kepler.Shapes.Contracts.DOM_ATTRIB.ellipsE_HEIGHT='ellipseheight';Kepler.Shapes.Contracts.DOM_ATTRIB.shapE_SMART_ART_INDEX='shapesmartartindex';Kepler.Shapes.Contracts.DOM_ATTRIB.fonT_STYLE='fontstyle';Kepler.Shapes.Contracts.DOM_ATTRIB.fonT_SIZE='fontsize';Kepler.Shapes.Contracts.DOM_ATTRIB.fonT_PROPERTIES='fontproperties';Kepler.Shapes.Contracts.DOM_ATTRIB.righT_CLICK_MENU='rightclickmenu';Kepler.Shapes.Contracts.CHART_AREA_TYPE.AXIS='axis';Kepler.Shapes.Contracts.CHART_AREA_TYPE.LEGEND='legend';Kepler.Shapes.Contracts.CHART_AREA_TYPE.legenD_ENTRY='legendentry';Kepler.Shapes.Contracts.CHART_AREA_TYPE.charT_TITLE='charttitle';Kepler.Shapes.Contracts.CHART_AREA_TYPE.datA_ELEMENT='dataelement';Kepler.Shapes.Contracts.CHART_AREA_TYPE.datA_LABEL='datalabel';Kepler.Shapes.Contracts.CHART_AREA_TYPE.CHARTAREA='chartarea';Kepler.Shapes.Contracts.CHART_AREA_TYPE.GRIDLINES='gridlines';Kepler.Shapes.Contracts.CHART_AREA_TYPE.PLOTAREA='plotarea';Kepler.Shapes.Contracts.CHART_AREA_TYPE.datA_LABEL_CASE_SENSITIVE='DataLabel';Kepler.Shapes.Contracts.RESIZE_MODE.draG_NONE=-1;Kepler.Shapes.Contracts.RESIZE_MODE.draG_NW=0;Kepler.Shapes.Contracts.RESIZE_MODE.draG_TOP=1;Kepler.Shapes.Contracts.RESIZE_MODE.draG_NE=2;Kepler.Shapes.Contracts.RESIZE_MODE.draG_RIGHT=3;Kepler.Shapes.Contracts.RESIZE_MODE.draG_SE=4;Kepler.Shapes.Contracts.RESIZE_MODE.draG_BOTTOM=5;Kepler.Shapes.Contracts.RESIZE_MODE.draG_SW=6;Kepler.Shapes.Contracts.RESIZE_MODE.draG_LEFT=7;Kepler.Shapes.Contracts.RESIZE_MODE.draG_ROT_HANDlER=9;Kepler.Shapes.Contracts.RESIZE_MODE.draG_SHAPE=10;Kepler.Shapes.Contracts.RESIZE_MODE.draG_LEFT_SMARTART=11;Kepler.Shapes.Contracts.IMG_DRAG_HANDLER.draG_NW='imgdragNW';Kepler.Shapes.Contracts.IMG_DRAG_HANDLER.draG_TOP='imgdragtop';Kepler.Shapes.Contracts.IMG_DRAG_HANDLER.draG_NE='imgdragNE';Kepler.Shapes.Contracts.IMG_DRAG_HANDLER.draG_RIGHT='imgdragright';Kepler.Shapes.Contracts.IMG_DRAG_HANDLER.draG_SE='imgdragSE';Kepler.Shapes.Contracts.IMG_DRAG_HANDLER.draG_BOTTOM='imgdragbottom';Kepler.Shapes.Contracts.IMG_DRAG_HANDLER.draG_SW='imgdragSW';Kepler.Shapes.Contracts.IMG_DRAG_HANDLER.draG_LEFT='imgdragleft';Kepler.Shapes.Contracts.IMG_DRAG_HANDLER.draG_ROT_HANDlER='imgdragrothld';Kepler.Shapes.Contracts.IMG_DRAG_HANDLER.shoW_TEXTPANE='imgshowtextpane';Kepler.Shapes.Contracts.IMG_DRAG_HANDLER.draG_BORDER='imgdragborder';Kepler.Shapes.Contracts.BORDER_STATE.bordeR_NONE='0';Kepler.Shapes.Contracts.BORDER_STATE.bordeR_DASHED='1';Kepler.Shapes.Contracts.BORDER_STATE.bordeR_SOLID='2';Kepler.Shapes.Contracts.BORDER_STATE.bordeR_CHART='3';Kepler.Shapes.Contracts.BORDER_STATE.bordeR_SMARTART='4';Kepler.Shapes.Contracts.BORDER_STATE.bordeR_ELEMENT='7';Kepler.Shapes.Contracts.BORDER_STATE.bordeR_ELEMENT_CENTERRESIZE='8';Kepler.Shapes.Contracts.BORDER_STATE.bordeR_INVISIBLE='9';Kepler.Shapes.Contracts.BORDER_TYPE.lefT_BORDER='leftborder';Kepler.Shapes.Contracts.BORDER_TYPE.righT_BORDER='rightborder';Kepler.Shapes.Contracts.BORDER_TYPE.bottoM_BORDER='bottomborder';Kepler.Shapes.Contracts.BORDER_TYPE.toP_BORDER='topborder';Kepler.Shapes.Contracts.BORDER_TYPE.blocK_LIST='blocklist';Kepler.Shapes.Contracts.BORDER_TYPE.draG_NW='dragNW';Kepler.Shapes.Contracts.BORDER_TYPE.draG_SW='dragSW';Kepler.Shapes.Contracts.BORDER_TYPE.draG_NE='dragNE';Kepler.Shapes.Contracts.BORDER_TYPE.draG_SE='dragSE';Kepler.Shapes.Contracts.BORDER_TYPE.rotatE_HANDLE='rotatehandle';Kepler.Shapes.Contracts.ParsedType.none=-1;Kepler.Shapes.Contracts.ParsedType.mouse=1;Kepler.Shapes.Contracts.ParsedType.touch=2;Kepler.Shapes.Contracts.MOUSE_MOVEMENT_STATUS.NONE=-1;Kepler.Shapes.Contracts.MOUSE_MOVEMENT_STATUS.lbuttoN_DOWN=1;Kepler.Shapes.Contracts.MOUSE_MOVEMENT_STATUS.mousE_MOVE=2;Kepler.Shapes.Contracts.SHAPE_ELEMENTS.shapE_HOLDER='shapeHolder';Kepler.Shapes.Contracts.SHAPE_ELEMENTS.neW_SHAPE='newShape';Kepler.Shapes.Contracts.SHAPE_ELEMENTS.neW_ELEMENT='newShapeElement';Kepler.Shapes.Contracts.SHAPE_ELEMENTS.shapE_SELECTION='shapeSelection';Kepler.Shapes.Contracts.SHAPE_ELEMENTS.HIDDEN='hidden';Kepler.Shapes.Contracts.SHAPE_ELEMENTS.hiddeN_SELECTION='hiddenSelection';Kepler.Shapes.Contracts.SHAPE_ELEMENTS.hiddeN_ELEMENT='hiddenElement';Kepler.Shapes.Contracts.SHAPE_ELEMENTS.hiddeN_MOVING_ELEMENT='hiddenMovingElement';Kepler.Shapes.Contracts.SHAPE_ELEMENTS.shapE_OBJECT='shapeObject';Kepler.Shapes.Contracts.SHAPE_ELEMENTS.shapE_ELEMENT='shapeObjectElement';Kepler.Shapes.Contracts.SHAPE_ELEMENTS.SLIDE='slide';Kepler.Shapes.Contracts.SHAPE_ELEMENTS.TYPING='typing';Kepler.Shapes.Contracts.SHAPE_ELEMENTS.selectioN_SHOWME_START='showme_act_start_id';Kepler.Shapes.Contracts.SHAPE_ELEMENTS.selectioN_SHOWME_END='showme_act_end_id';Kepler.Shapes.Contracts.SVG_ARROW.strokE_COLOR='GREEN';Kepler.Shapes.Contracts.SVG_ARROW.arroW_COLOR='GREEN';Kepler.Shapes.Contracts.SVG_ARROW.strokE_WIDTH='1';Kepler.Shapes.Contracts.SVG_ARROW.filL_COLOR='GREEN';Kepler.Shapes.Contracts.SVG_ARROW.activE_COLOR='GREEN';Kepler.Shapes.Contracts.SVG_ARROW.inactivE_COLOR='BLACK';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.charttoolsformaT_CURRENTSELECTION_PANE='540100';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.charttoolsformaT_CURRENTSELECTION_CHARTELEMENT='540101';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.charttoolsformaT_CURRENTSELECTION_FORMATSELECTION='540102';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.charttoolsformaT_CURRENTSELECTION_RESETTOMATCHSTYLE='540103';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.charttoolsformaT_ACCESSIBILITY_TEXT='540104';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.charttoolsformaT_INSERT_SHAPES='540201';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.charttoolsformaT_CHANGE_SHAPE='540202';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.charttoolsformaT_SHAPESTYLES_PANE='540300';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.charttoolsformaT_SHAPESTYLES_SHAPESTYLES_GRID='540301';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.charttoolsformaT_SHAPESTYLES_SHAPEFILL='300202';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.charttoolsformaT_SHAPESTYLES_SHAPEOUTLINE='540303';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.charttoolsformaT_SHAPESTYLES_SHAPEEFFECTS='540304';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.charttoolsformaT_WORDARTSTYLES_PANE='540400';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.charttoolsformaT_WORDARTSTYLES_WORDARTSTYLES_GRID='540401';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.charttoolsformaT_WORDARTSTYLES_TEXTFILL='540402';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.charttoolsformaT_WORDARTSTYLES_TEXTOUTLINE='540403';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.charttoolsformaT_WORDARTSTYLES_TEXTEFFECTS='540404';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.charttoolsformaT_ARRANGE_PANE='540500';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.charttoolsformaT_ARRANGE_BRINGFORWARD='540503';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.charttoolsformaT_ARRANGE_SENDBACKWARD='540504';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.charttoolsformaT_ARRANGE_SELECTIONPANE='540505';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.charttoolsformaT_ARRANGE_ALIGN='540506';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.charttoolsformaT_ARRANGE_GROUP='540507';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.charttoolsformaT_ARRANGE_ROTATE='540508';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.charttoolsformaT_SIZE_PANE='540600';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.charttoolsformaT_SIZE_STATICHEIGHT='540602';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.charttoolsformaT_SIZE_SHAPEHEIGHT='540601';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.charttoolsformaT_SIZE_STATICWIDTH='540604';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.charttoolsformaT_SIZE_SHAPEWIDTH='540603';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.picturE_ADJUST_PANE='510100';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.picturE_ADJUST_REMOVE_BACKGROUND='510101';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.picturE_ADJUST_CORRECTIONS='510102';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.picturE_ADJUST_COLOR='510103';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.picturE_ADJUST_ARTISTIC_EFFECTS='510104';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.picturE_ADJUST_COMPRESS_PICTURES='510105';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.picturE_ADJUST_CHANGE_PICTURE='510106';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.picturE_ADJUST_RESET_PICTURE='510107';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.picturE_STYLES_PANE='510200';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.picturE_STYLES_GRID='510202';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.picturE_STYLES_BORDER='510202';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.picturE_STYLES_EFFECTS='510203';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.picturE_STYLES_LAYOUT='510204';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.picturE_STYLES_TEMP='510205';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.picturE_ARRANGE_PANE='510300';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.picturE_ARRANGE_POSITION='510301';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.picturE_ARRANGE_WRAP='510302';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.picturE_ARRANGE_BRING_FORWARD='510303';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.picturE_ARRANGE_SEND_BACKWARD='510304';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.picturE_ARRANGE_SELECTION_PANE='510305';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.picturE_ARRANGE_ALIGN='510306';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.picturE_ARRANGE_GROUP='510307';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.picturE_ARRANGE_ROTATE='510308';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.picturE_SIZE_PANE='510400';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.picturE_SIZE_CROP='510401';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.picturE_SIZE_HEIGHT='510402';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.picturE_SIZE_STATIC_HEIGHT='510403';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.picturE_SIZE_WIDTH='510404';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.picturE_SIZE_STATIC_WIDTH='510405';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.picturE_SIZE_='510406';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.wordarT_FORMAT_INSERT_SHAPE_PANE='520100';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.wordarT_FORMAT_INSERT_SHAPES='520201';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.wordarT_FORMAT_INSERT_EDIT_SHAPE='520202';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.wordarT_FORMAT_INSERT_DRAW_TEXTBOX='520203';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.wordarT_FORMAT_INSERT_MERGE_SHAPES='520204';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.wordarT_FORMAT_SHAPESTYLES_PANE='520200';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.wordarT_FORMAT_SHAPESTYLES_SHAPESTYLES_GRID='520301';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.wordarT_FORMAT_SHAPESTYLES_SHAPEFILL='520303';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.wordarT_FORMAT_SHAPESTYLES_SHAPEOUTLINE='520304';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.wordarT_FORMAT_SHAPESTYLES_SHAPEEFFECTS='520305';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.wordarT_FORMAT_WORDARTSTYLES_PANE='520300';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.wordarT_FORMAT_WORDARTSTYLES_GRID='520401';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.wordarT_FORMAT_WORDARTSTYLES_TEXTFILL='520403';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.wordarT_FORMAT_WORDARTSTYLES_TEXTOUTLINE='520404';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.wordarT_FORMAT_WORDARTSTYLES_TEXTEFFECTS='520405';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.wordarT_FORMAT_SIZE_TEXT_PANE='540500';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.wordarT_FORMAT_SIZE_TEXT_DIRECTION='520501';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.wordarT_FORMAT_SIZE_ALIGN_TEXT='520502';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.wordarT_FORMAT_SIZE_CREATE_LINK='520503';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.wordarT_FORMAT_ARRANGE_PANE='520500';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.wordarT_FORMAT_ARRANGE_POSITION='520501';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.wordarT_FORMAT_ARRANGE_WRAP_TEXT='520502';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.wordarT_FORMAT_ARRANGE_BRINGFORWARD='520503';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.wordarT_FORMAT_ARRANGE_SENDBACKWARD='520504';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.wordarT_FORMAT_ARRANGE_SELECTIONPANE='520505';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.wordarT_FORMAT_ARRANGE_ALIGN='520506';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.wordarT_FORMAT_ARRANGE_GROUP='520507';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.wordarT_FORMAT_ARRANGE_ROTATE='520508';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.wordarT_FORMAT_SIZE_PANE='520600';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.wordarT_FORMAT_SIZE_STATICHEIGHT='520602';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.wordarT_FORMAT_SIZE_SHAPEHEIGHT='520601';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.wordarT_FORMAT_SIZE_STATICWIDTH='520604';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.wordarT_FORMAT_SIZE_SHAPEWIDTH='520603';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.homE_FONT_STYLE='110201';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.homE_FONT_SIZE='110202';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.homE_FONT_BOLD='110207';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.homE_FONT_ITALIC='110208';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.homE_FONT_UNDERLINE='110209';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.homE_FONT_ALIGN_LEFT='110308';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.homE_FONT_ALIGN_CENTERED='110309';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.homE_FONT_ALIGN_RIGHT='110310';Kepler.Shapes.Contracts.RIBBON_CONSTANTS.homE_FONT_ALIGN_JUSTIFIED='110311';Kepler.Shapes.Contracts.KeyActions.keydowN_ACTION='1';Kepler.Shapes.Contracts.KeyActions.keyuP_ACTION='2';Kepler.Shapes.Contracts.ShapeLayout.toP_LEFT='1';Kepler.Shapes.Contracts.ShapeLayout.toP_CENTERED='2';Kepler.Shapes.Contracts.ShapeLayout.toP_RIGHT='3';Kepler.Shapes.Contracts.ShapeLayout.middlE_LEFT='4';Kepler.Shapes.Contracts.ShapeLayout.CENTERED='5';Kepler.Shapes.Contracts.ShapeLayout.middlE_RIGHT='6';Kepler.Shapes.Contracts.ShapeLayout.bottoM_LEFT='7';Kepler.Shapes.Contracts.ShapeLayout.bottoM_CENTERED='8';Kepler.Shapes.Contracts.ShapeLayout.bottoM_RIGHT='9';Kepler.Shapes.Contracts.CursorCssClasses.csS_ARROW_MOVE_CURSOR_NAME='move_arrow_cursor_class';Kepler.Shapes.Contracts.CursorCssClasses.csS_ARROW_MOVE_CURSOR_IE='.move_arrow_cursor_class{cursor:url(./common/res/move_arrow.cur),move}';Kepler.Shapes.Contracts.CursorCssClasses.csS_ARROW_MOVE_CURSOR_DEFAULT='.move_arrow_cursor_class{cursor:url(data:image/png;base64,'+'AAACAAEAICAAAAkACQAwAQAAFgAAACgAAAAgAAAAQAAAAAEAAQAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAwAAAAYAAAAGAAAADAAAAIwAAADYAAAA+AAAAP8AAAL+AAAE/AAACPgAAA7wAAAA4AAAYMwAAKCKAAE8eQACBECAATx5AACjigAAYowAAAKAAAAO4AAACCAAAARAAAACgAAAAQAAA////////////////////////H////h////4f///8P///vD///5h///+If///gP///4AP//+AH///AD///gB///wA///8Af///4P//+eE///HjH//gIA//wCgH/+A4D//xxx//+cc////H////Af///wH///+D////x////+///8=), move;}';Kepler.Shapes.Contracts.CursorCssClasses.csS_ROTATE_HANDLE_CURSOR_NAME='rotate_handle_cursor_class';Kepler.Shapes.Contracts.CursorCssClasses.csS_ROTATE_HANDLE_CURSOR_IE='.rotate_handle_cursor_class{cursor:url(./common/res/rotatehandle.cur),auto}';Kepler.Shapes.Contracts.CursorCssClasses.csS_ROTATE_HANDLE_CURSOR_DEFAULT='.rotate_handle_cursor_class{cursor:url(data:image/png;base64,'+'AAACAAEAICAAAAoACgAwAQAAFgAAACgAAAAgAAAAQAAAAAEAAQAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPgAAAMGAAAEAQAACPiAAAkEgAASAkAAEiJAABJSQAASI8AAEsJAAAmnwAAIlIAABA+AAAMIAAAAkAAAAKAAAADAAAAAAAAA////////////////////////////////////////////////////////////////////////////B////AH///gA///wAH//8Ph//+H8P//h3D//4Yw//+HcP//hPD//8Bg///AIf//4AH///Af///8P////H////z////////8=), auto;}';Kepler.Shapes.Contracts.CursorCssClasses.csS_ROTATE_HANDLE_PRESSED_CURSOR_NAME='rotate_handle_pressed_cursor_class';Kepler.Shapes.Contracts.CursorCssClasses.csS_ROTATE_HANDLE_PRESSED_CURSOR_IE='.rotate_handle_pressed_cursor_class{cursor:url(./common/res/rotatehandlepressed.cur),auto}';Kepler.Shapes.Contracts.CursorCssClasses.csS_ROTATE_HANDLE_PRESSED_CURSER_BASE64='AAACAAEAICAAAAoACgAwAQAAFgAAACgAAAAgAAAAQAAAAAEAAQAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAACgAAA7IAAAyhgAAQoEAAI7IgAGYLIACBBZAAQgCQACQAkAAYAPAAAAAAADwAYAAkAJAAJAEIACSCBAATQZgAEScQAAgUIAAGFMAAAScAAAFAAAAAgAAA//////////////////////////////////////////////////v////x///8Qf//8EB//+BAP//AQB//gfAf/wD6D/+B/w//w/8P/+f/D///////w/+f/8P/D//D/gf/w3wD/+A+B//gGA//8Agf//gIP//+GP///j////9///8=';Kepler.Shapes.Contracts.CursorCssClasses.csS_ROTATE_HANDLE_PRESSED_CURSOR_DEFAULT='.rotate_handle_pressed_cursor_class{cursor:url(data:image/png;base64,'+'AAACAAEAICAAAAoACgAwAQAAFgAAACgAAAAgAAAAQAAAAAEAAQAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAACgAAA7IAAAyhgAAQoEAAI7IgAGYLIACBBZAAQgCQACQAkAAYAPAAAAAAADwAYAAkAJAAJAEIACSCBAATQZgAEScQAAgUIAAGFMAAAScAAAFAAAAAgAAA//////////////////////////////////////////////////v////x///8Qf//8EB//+BAP//AQB//gfAf/wD6D/+B/w//w/8P/+f/D///////w/+f/8P/D//D/gf/w3wD/+A+B//gGA//8Agf//gIP//+GP///j////9///8='+'), auto;}';Kepler.Shapes.Contracts.CursorCssClasses.cursoR_INSERT_NEW_SHAPE='cursor_insert_new_shape';Kepler.Shapes.Contracts.CursorCssClasses.cursoR_INSERT_NEW_SHAPE_IE='.cursor_insert_new_shape{cursor:url(./common/res/insert_new_shape.cur),default}';Kepler.Shapes.Contracts.CursorCssClasses.cursoR_INSERT_NEW_SHAPE_DEFAULT='.cursor_insert_new_shape{cursor:url(data:image/png;base64,'+'AAACAAEAICABABAADwCoEAAAFgAAACgAAAAgAAAAQAAAAAEAIAAAAAAAhAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKCgo/y4uLv8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbGxv/JCQk/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcHB/8WFhb/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQEB/w4ODv8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANDQ3/ExMT/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsLC/8QEBD/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgIC/w4ODv8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHBwf/FhYW/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABgYGP8lJSX/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAISEh/ykpKf8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABkZGf8iIiL/ICAg/yQkJP8uLi7/Kysr/yMjI/8fHx//Gxsb/xUVFf8UFBT/GRkZ/yUlJf8lJSX/Hh4e/xwcHP8fHx//IiIi/xwcHP8rKyv/PDw8/zMzM/8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AQEB/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8DAwP/CAgI/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/wAAAP8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/AAAA/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP8HBwf/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/w4ODv8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/Dg4O/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAICAv8ODg7/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/w4ODv8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/BwcH/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEBAf8KCgr/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/wAAAP8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////////////////////////////n////5////+f////n////5////+f////n////5////+f////n//+AAAH/gAAB///n////5////+f////n////5////+f////n////5////+f////n////////////////////////////8=), auto;}';Kepler.Shapes.Contracts.CursorCssClasses.csS_MOVE_CURSOR_NAME='move_cursor_class';Kepler.Shapes.Contracts.CursorCssClasses.csS_MOVE_CURSOR_IE='.move_cursor_class{cursor:url(./common/res/move.cur),move}';Kepler.Shapes.Contracts.CursorCssClasses.csS_MOVE_CURSOR_DEFAULT='.move_cursor_class{cursor:url(data:image/png;base64,'+'AAACAAEAICAAAAgABwCoEAAAFgAAACgAAAAgAAAAQAAAAAEAIAAAAAAAgBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD/AAAA/wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA/wAAAP8AAAD/AAAA/wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAAAAAAAAD//////////wAAAP///////////wAAAAAAAAAA/////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAD/////AAAA//////8AAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD/AAAA//////////////////////8AAAD//////////////////////wAAAP8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA/wAAAP//////////////////////AAAA//////////////////////8AAAD/AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAP////8AAAD//////wAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAAAAAAAAD//////////wAAAP///////////wAAAAAAAAAA/////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP8AAAD/AAAA/wAAAP8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP8AAAD/AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////////////////////////////////////////////////////////////////////////////////////////////f////j////wf///4D///7Bv//8Yx//+AAP//AAB//4AA///GMf//7Bv///gP///8H////j////9///8=), move;}';})();// This script was generated using Script# v0.7.4.0

// player.js
(function(){
Type.registerNamespace('Player');Player.Player$5=function(oApp){Player.Player$5.initializeBase(this,[oApp]);}
Player.Player$5.prototype={onLoad:function(){Player.Player$5.callBaseMethod(this, 'onLoad');},$5_1B:function($p0,$p1){return null;}}
Player.Player$4=function(oApp){Player.Player$4.initializeBase(this,[oApp]);this.$5_3=-1;}
Player.Player$4.prototype={$5_3A:null,$5_3B:null,$5_3C:null,$5_3D:false,$5_3E:false,$5_13:function(){Player.Player$4.callBaseMethod(this, '$5_13');this.attachMessage(Kepler.Engine.Messages.eON_BEGIN_ASSIGNMENT_JUMP,ss.Delegate.create(this,this.$5_40));},$5_3F:function(){this.$5_3E=true;try{var $0=this.get_engine().get_taskMaster();var $1=$0.get_assignment();var $2=$0.getFirstLaunchTaskIndex();this.$5_C=$1.get_isDocumentBased();this.$5_28($2,0,true);}finally{this.$5_3E=false;}},$5_24:function(){this.$5_3E=true;try{var $0=this.get_engine().get_taskMaster();this.$5_B=Date.get_now();}finally{this.$5_3E=false;}},$5_40:function($p0,$p1){this.$5_3F();return null;},$5_28:function($p0,$p1,$p2,$p3){var $0=this.get_engine().get_taskMaster();var $1=$0.get_assignment();var $2=$0.get_state().get_taskNumber()-1;var $3=$0.getCurrentTask();if(ss.isNullOrUndefined($p3)){$p3=true;}var $4=this.$5_35($p0,$p2,$p1);if(this.$5_3E&&$4<0){$4=$p0;}if($4>=0){if($4!==$2){var $5=false;if(ss.isValue($3)){this.$5_39($3);}var $6=0;var $7=new Kepler.Engine.Core.ENLITE_JUMP_DIRECTIVE();$7.jump($4+1,$6+1,1);this.$5_37($7,Kepler.Engine.UI.FreezeType.ALL);if((Kepler.Engine.Core.EngineApp.get_engine().get_taskMaster()).get_isBopMode()){var $8=this._oApp.sendMessageToEngine(Kepler.Engine.Messages.msG_GET_REMAINING_ATTEMPTS,null,this);if($8!=null){var $9=$8;if($9>0){$5=false;}}}if($5){this.$5_27(false);}}}else if($p3){this.$5_25(false);}}}
Player.Player$2=function(iTask,eSearchDirection){this.$0=iTask;this.$1=eSearchDirection;}
Player.Player$2.prototype={$0:0,$1:0}
Player.Player$3=function(oApp){Player.Player$3.initializeBase(this,[oApp]);this.$5_0=Kepler.Engine.UI.Helper.HtmlCssHelper.createSVGElement(this.get_element().ownerDocument,'svg');this.$5_0.appendChild(Kepler.Engine.UI.Helper.HtmlCssHelper.createSVGElement(this.get_element().ownerDocument,'text'));this.$5_0.style.position='absolute';this.$5_0.style.display='none';Kepler.Engine.UI.Helper.HtmlCssHelper.setAttibuteNs(this.$5_0.firstChild,'text-anchor','middle');Kepler.Engine.UI.Helper.HtmlCssHelper.setAttibuteNs(this.$5_0.firstChild,'class','player_mgh_flash_transition_msg');this.$5_5=-1;this.$5_8=new Kepler.Framework.Core.Timers.Timer(ss.Delegate.create(this,this.$5_30),500);this.$5_9=new Kepler.Framework.Core.Timers.Timer(ss.Delegate.create(this,this.$5_31),500);this.$5_C=false;this.$5_11=new Kepler.Engine.Core.ReportSubmitter();}
Player.Player$3.prototype={$5_0:null,$5_1:false,$5_2:false,$5_3:0,$5_4:false,$5_5:0,$5_6:0,$5_7:0,$5_8:null,$5_9:null,$5_A:null,$5_B:null,$5_C:false,get_$5_D:function(){return this.$5_C;},$5_E:null,$5_F:null,$5_10:null,$5_11:null,get_resourcePath:function(){return Player.PlayerApp.get_player().get_resourcePath();},onLoad:function(){Player.Player$3.callBaseMethod(this, 'onLoad');Kepler.Engine.UI.DesktopWnd.get_instance().get_element().appendChild(this.$5_0);this.$5_0.style.zIndex=Kepler.Framework.UI.Controls.ZIndexConstants.transitionMsg;this.$5_12();this.$5_13();this.issueAppReady();},$5_12:function(){this.addEvents(Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseDown);this.addEvents(Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseMove);this.addEvents(Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseUp);this.addEvents(Kepler.Framework.UI.Events.EventArgsNs.EventType.touchStart);this.addEvents(Kepler.Framework.UI.Events.EventArgsNs.EventType.touchMove);this.addEvents(Kepler.Framework.UI.Events.EventArgsNs.EventType.touchEnd);},onSize:function(){Player.Player$3.callBaseMethod(this, 'onSize');var $0=this.get_size();},$5_13:function(){this.attachMessage(Kepler.Engine.Messages.eON_PLAYER_ACTION,ss.Delegate.create(this,this.$5_1B));this.attachMessage(Kepler.Engine.Messages.eON_LMS_REPORT,ss.Delegate.create(this,this.$5_1C));this.attachMessage('msg_jump_to_prev_task',ss.Delegate.create(this,this.$5_2B));this.attachMessage('msg_jump_to_next_task',ss.Delegate.create(this,this.$5_2A));this.attachMessage('msg_jump_to_prev_item',ss.Delegate.create(this,this.$5_2D));this.attachMessage('msg_jump_to_next_item',ss.Delegate.create(this,this.$5_2C));this.attachMessage(Kepler.Engine.Messages.eON_START_ASSIGNMENT,ss.Delegate.create(this,this.$5_32));this.attachMessage(Kepler.Engine.Messages.eON_END_ASSIGNMENT,ss.Delegate.create(this,this.$5_33));this.attachMessage('msg_jump_to_specific_task',ss.Delegate.create(this,this.$5_34));this.attachMessage(Kepler.Engine.Messages.eSET_FOCUS_ON_PLAYER,ss.Delegate.create(this,this.$5_16));this.attachMessage(Kepler.Engine.Messages.msG_PERFORM_FRAME_JUMP,ss.Delegate.create(this,this.$5_1F));this.attachMessage(Kepler.Engine.Messages.msG_PLAYER_GET_TASK_START_TIME,ss.Delegate.create(this,this.$5_17));this.attachMessage(Kepler.Engine.Messages.msG_SET_REMAINING_ATTEMPTS,ss.Delegate.create(this,this.$5_18));this.attachMessage(Kepler.Engine.Messages.msG_PLAYER_POSITION_CHANGE,ss.Delegate.create(this,this.$5_15));this.attachMessage(Kepler.Engine.Messages.msG_PAUSE_ASSIGNMENT_TIMER,ss.Delegate.create(this,this.$5_14));},$5_14:function($p0,$p1){return null;},$5_15:function($p0,$p1){var $0=$p0;this.set_left($0[0]);if(Kepler.Engine.UI.UIManager.get_isPlayerAtTop()){this.set_top($0[1]);}else{this.set_bottom($0[1]);}return null;},$5_16:function($p0,$p1){if(Kepler.Engine.Core.EngineApp.get_engine().get_taskMaster().get_isAccessibility()){Kepler.Framework.Accessibility.AccessibilitySupport.get_instance().set_dontSkipText('Player Window  ');}return true;},$5_17:function($p0,$p1){if(this.$5_B!=null){var $0=new Date();$0.setTime(this.$5_B.getTime());return $0;}return null;},$5_18:function($p0,$p1){return null;},$5_19:function(){if(this.$5_4){}else{var $0=new Kepler.Engine.Core.ENLITE_JUMP_DIRECTIVE();var $1=this.get_engine().get_taskMaster().get_state();$0.jump($1.get_taskNumber(),$1.get_itemNumber(),$1.get_frameNumber(),$1.get_subFrameNumber()+1);this.get_engine().sendMessage(Kepler.Engine.Messages.eON_JUMP_DIRECTIVE,null,$0);}},$5_1A:function(){var $0=new Kepler.Engine.Core.ENLITE_JUMP_DIRECTIVE();var $1=this.get_engine().get_taskMaster();var $2=$1.get_state();var $3=$1.getMaxItemsInTask($2.get_taskNumber());var $4=$1.getMaxFramesInItem($2.get_taskNumber(),$2.get_itemNumber());var $5=$2.get_itemNumber();var $6;if($2.get_frameNumber()===$4){if($2.get_itemNumber()===$3){this.$5_10.stop();Kepler.Engine.UI.Controls.MessageBox.MessageBox.hide(this.$5_F);this._oApp.sendMessageToEngine(Kepler.Engine.Messages.eON_DOC_AUTOCOMPLETE_DIRECTIVE,0,null);this.$5_28($2.get_taskNumber()-1,0);}else{$5++;$6=$1.getMaxFramesInItem($2.get_taskNumber(),$5);$0.jump($2.get_taskNumber(),$5,$6);this.get_engine().sendMessage(Kepler.Engine.Messages.eON_JUMP_DIRECTIVE,null,$0);}}else{$6=$4;$0.jump($2.get_taskNumber(),$5,$6);this.get_engine().sendMessage(Kepler.Engine.Messages.eON_JUMP_DIRECTIVE,null,$0);}},$5_1B:function($p0,$p1){var $0=$p1;if($0.get_jumpMask()!==Kepler.Engine.Core.JUMP_TYPE.eNO_JUMP){if(Kepler.Engine.UI.UIManager.get_persistKeyboardOnFrameJmp()){Kepler.Engine.UI.UIManager.get_instance().set_dontHideKeyboard(true);}Kepler.Engine.UI.UIManager.hideKeyboard();if(Kepler.Engine.UI.UIManager.get_persistKeyboardOnFrameJmp()){Kepler.Engine.UI.UIManager.set_persistKeyboardOnFrameJmp(false);Kepler.Engine.UI.UIManager.get_instance().set_dontHideKeyboard(false);}}return null;},$5_1C:function($p0,$p1){var $0=this.get_engine().get_taskMaster();if(ss.isNullOrUndefined($p1)){this.$5_11.submitFinalReport($0,false);}else{var $1=$p1;if($1>0){this.$5_11.submitIntermediateReport($0,$1-1);}}return null;},onMsgFrameData:function($p0,$p1){var $0=$p1;this.$5_4=$0.get_isTerminatingFrame();if(ss.isNullOrUndefined(this.$5_B)){this.$5_B=Date.get_now();}var $1=this.get_engine().get_taskMaster();var $2=$1.get_state();var $3=0;if($3===1){var $4=$1.getCurrentTask();if($4.get_taskStatusMask()===Kepler.Engine.Core.TASK_STATUS.eUNATTEMPTED){$4.set_taskStatusMask(Kepler.Engine.Core.TASK_STATUS.eINCOMPLETE);}}this.$5_1D();return null;},$5_1D:function(){if(this.$5_4&&!this.$5_10.get_isRunning()){this.$5_1E();}},$5_1E:function(){},onMsgFrameDataDone:function($p0,$p1){return Player.Player$3.callBaseMethod(this, 'onMsgFrameDataDone',[$p0,$p1]);},$5_1F:function($p0,$p1){if(!this.$5_4){var $0=new Kepler.Engine.Core.ENLITE_JUMP_DIRECTIVE();var $1=this.get_engine().get_taskMaster().get_state();$0.jump($1.get_taskNumber(),$1.get_itemNumber(),$1.get_frameNumber(),$1.get_subFrameNumber()+1);this.get_engine().sendMessage(Kepler.Engine.Messages.eON_JUMP_DIRECTIVE,null,$0);}return null;},$5_20:function($p0,$p1){if(ss.isNullOrUndefined($p1)){$p1=true;}if(this.$5_3!==-1){window.clearTimeout(this.$5_3);}Kepler.Engine.UI.Helper.HtmlCssHelper.setAttibuteNs(this.$5_0,'width',Kepler.Engine.UI.DesktopWnd.get_instance().get_width().toString());Kepler.Engine.UI.Helper.HtmlCssHelper.setAttibuteNs(this.$5_0,'height',Kepler.Engine.UI.DesktopWnd.get_instance().get_height().toString());Kepler.Engine.UI.Helper.HtmlCssHelper.setAttibuteNs(this.$5_0.firstChild,'font-family',$p0.get_fontName());Kepler.Engine.UI.Helper.HtmlCssHelper.setAttibuteNs(this.$5_0.firstChild,'fill',$p0.get_fontColor());Kepler.Engine.UI.Helper.HtmlCssHelper.setAttibuteNs(this.$5_0.firstChild,'stroke',$p0.get_strokeColor());Kepler.Engine.UI.Helper.HtmlCssHelper.setAttibuteNs(this.$5_0.firstChild,'stroke-width','3');Kepler.Engine.UI.Helper.HtmlCssHelper.setAttibuteNs(this.$5_0.firstChild,'font-size',($p0.get_fontSize().toString()+'px'));var $0=Kepler.Engine.UI.DesktopWnd.get_instance().get_clientRect().get_centerPoint();Kepler.Engine.UI.Helper.HtmlCssHelper.setAttibuteNs(this.$5_0.firstChild,'x',$0.get_x().toString());Kepler.Engine.UI.Helper.HtmlCssHelper.setAttibuteNs(this.$5_0.firstChild,'y',$0.get_y().toString());this.$5_0.firstChild.textContent=$p0.get_text();this.$5_0.style.display='';this.$5_3=window.setTimeout(ss.Delegate.create(this,this.$5_22),$p0.get_flashTime());this.$5_21($p1);},$5_21:function($p0){if(ss.isNullOrUndefined($p0)){$p0=true;}if($p0&&this.get_engine().get_applicationMode()!==Kepler.Engine.Core.AppMode.eShowMe){this.get_engine().get_uiMrg().freezeApp(Kepler.Engine.UI.FreezeType.APP);}},$5_22:function(){this.$5_3=-1;this.$5_0.style.display='none';},$5_23:function(){var $0=this.get_engine().get_taskMaster();var $1=$0.get_state();var $2=new Kepler.Engine.Core.ENLITE_JUMP_DIRECTIVE();$2.jump($1.get_taskNumber(),$1.get_itemNumber()+1,1);var $3=$0.getCurrentTask();this.$5_39($3);var $4=$3.get_items();var $5=$3.get_itemCount();var $6=$0.getCurrentItem();$6.set_remainingAttempts(0);$6.set_isCorrect(true);if($4.indexOf($6)+1>=$5){var $7=true;for(var $A=0;$A<$3.get_itemCount();$A++){if(!$3.get_items()[$A].get_isCorrect()){$7=false;break;}}$3.set_taskStatusMask(($7)?Kepler.Engine.Core.TASK_STATUS.eCORRECT:Kepler.Engine.Core.TASK_STATUS.eINCORRECT);var $8=this.$5_35($1.get_taskNumber()-1,false);var $9=0;$2.jump($8+1,$9+1,1);}if($2.get_task()===-1||$2.get_item()===-1){this.$5_25(false);}else{this.$5_37($2,Kepler.Engine.UI.FreezeType.ALL);}},$5_24:function(){},$5_25:function($p0,$p1){},$5_26:function(){this.$5_27(true);},$5_27:function($p0){},$5_28:function($p0,$p1,$p2,$p3){},$5_29:function($p0,$p1,$p2,$p3,$p4,$p5){var $0=this.get_engine().get_taskMaster();var $1=$0.get_assignment();var $2=$0.get_state().get_taskNumber()-1;var $3=$0.getCurrentTask();var $4=$0.get_state().get_itemNumber()-1;var $5=$0.getCurrentItem();if(ss.isNullOrUndefined($p4)){$p4=true;}if(ss.isNullOrUndefined($p5)){$p5=true;}var $6=this.$5_36($p0,$p1,$p3,$p2);if($6>=0){if($6!==$4){var $7=new Kepler.Engine.Core.ENLITE_JUMP_DIRECTIVE();$7.jump($p0+1,$6+1,1);this.$5_37($7,Kepler.Engine.UI.FreezeType.ALL);}}else if($p4){if(!$3.get_isAttempted()){$3.set_taskStatusMask(Kepler.Engine.Core.TASK_STATUS.eINCORRECT);}this.$5_28($p0,$p2,false,$p5);}else if($p5){this.$5_25(false);}},$5_2A:function($p0,$p1){this.$5_2E(0);return null;},$5_2B:function($p0,$p1){this.$5_2E(1);return null;},$5_2C:function($p0,$p1){this.$5_2F(0);return null;},$5_2D:function($p0,$p1){this.$5_2F(1);return null;},$5_2E:function($p0){var $0=-1;var $1=false;if(!this.$5_8.get_isRunning()){var $2=this.get_engine().get_taskMaster();var $3=$2.get_state();this.$5_5=$3.get_taskNumber()-1;$0=this.$5_5;}$0=this.$5_35(this.$5_5,false,$p0);if(!$p0){if($0>this.$5_5){this.$5_5=$0;$1=true;}}else if($p0===1){if($0!==-1&&$0<this.$5_5){this.$5_5=$0;$1=true;}}if($1){var $4=this.get_engine().get_taskMaster().get_state().clone();$4.changeTask(this.$5_5);this.get_engine().get_uiMrg().freezeApp(Kepler.Engine.UI.FreezeType.ALL);}this.$5_8.start();},$5_2F:function($p0){var $0=-1;var $1=-1;var $2=-1;var $3=false;if(!this.$5_9.get_isRunning()){var $4=this.get_engine().get_taskMaster();var $5=$4.get_state();this.$5_5=$5.get_taskNumber()-1;var $6=$4.getCurrentTask();$2=$6.get_itemCount();$1=$6.get_items().indexOf($4.getCurrentItem());}if(!$p0){$0=$1+1;if($0<$2){this.$5_6=$0;$3=true;}}else if($p0===1){$0=$1-1;if($0!==-1&&$0<$2){this.$5_6=$0;$3=true;}}if($3){var $7=this.get_engine().get_taskMaster().get_state().clone();var $8=this.get_engine().get_taskMaster();$7.changeItem(this.$5_6);this.$5_7=0;var $9=$8.getCurrentTask().get_items()[this.$5_6].get_frames();for(var $A=$9.length-1;$A>=0;$A--){if($9[$A].get_isTerminatingFrame()){this.$5_7=$A;break;}}$7.changeFrame(this.$5_7);this.get_engine().get_uiMrg().freezeApp(Kepler.Engine.UI.FreezeType.ALL);}this.$5_9.start();},$5_30:function(){this.$5_8.stop();if(this.$5_5>=0){var $0=this.get_engine().get_taskMaster();this.$5_39($0.getCurrentTask());var $1=0;var $2=new Kepler.Engine.Core.ENLITE_JUMP_DIRECTIVE();$2.jump(this.$5_5+1,$1+1,1);this.$5_37($2,Kepler.Engine.UI.FreezeType.ALL);}this.$5_5=-1;},$5_31:function(){this.$5_9.stop();if(this.$5_6>=0){var $0=new Kepler.Engine.Core.ENLITE_JUMP_DIRECTIVE();$0.jump(this.$5_5+1,this.$5_6+1,this.$5_7+1);this.$5_37($0,Kepler.Engine.UI.FreezeType.ALL);}this.$5_6=-1;this.$5_5=-1;this.$5_7=-1;this.get_engine().get_uiMrg().freezeApp(Kepler.Engine.UI.FreezeType.NONE);},$5_32:function($p0,$p1){this.$5_24();return null;},$5_33:function($p0,$p1){this.$5_25($p0);return null;},$5_34:function($p0,$p1){var $0=$p0;this.$5_28($0,0,true,false);return null;},$5_35:function($p0,$p1,$p2){if(ss.isNullOrUndefined($p1)){$p1=false;}if(ss.isNullOrUndefined($p2)){$p2=0;}var $0=this.get_engine().get_taskMaster();if(($p0<0)||($p0>=$0.getMaxTasks())){$p0=0;}var $1=($p1)?$p0:((!$p2)?$p0+1:$p0-1);var $2=false;while(true){if($1===$0.getMaxTasks()){$1=0;$2=true;}else if($1===-1){$1=$0.getMaxTasks()-1;$2=true;}if($1===$p0&&$2){$1=-1;break;}var $3=$0.get_assignment().get_tasks()[$1];if($3.get_isAttempted()||$3.get_remainingAttempts()<=0){if(!$p2){$1++;}else{$1--;}}else{break;}}return $1;},$5_36:function($p0,$p1,$p2,$p3){if(ss.isNullOrUndefined($p2)){$p2=false;}if(ss.isNullOrUndefined($p3)){$p3=0;}var $0=this.get_engine().get_taskMaster();if(($p0<0)||($p0>=$0.getMaxTasks())){return -1;}var $1=$0.get_assignment().get_tasks()[$p0];if(($p1<0)||($p1>=$1.get_itemCount())){$p1=0;}var $2=($p2)?$p1:((!$p3)?$p1+1:$p1-1);var $3=false;while(true){if($2===$1.get_itemCount()){$2=0;$3=true;}else if($2===-1){$2=$1.get_itemCount()-1;$3=true;}if($2===$p1&&$3){$2=-1;break;}if($1.get_items()[$2].get_remainingAttempts()<=0){if(!$p3){$2++;}else{$2--;}}else{break;}}return $2;},$5_37:function($p0,$p1){if($p1!==Kepler.Engine.UI.FreezeType.NONE){this.get_engine().get_uiMrg().freezeApp($p1);}this.get_engine().sendMessage(Kepler.Engine.Messages.eON_JUMP_DIRECTIVE,null,$p0);},$5_38:function(){var $0=this._oApp.sendMessageToEngine(Kepler.Engine.Messages.msG_GET_REMAINING_ATTEMPTS,null,this);if($0!=null){var $1=$0;var $2=this.get_engine().get_taskMaster().getCurrentItem();$2.set_remainingAttempts($1);if(!$1){var $3=this.get_engine().get_taskMaster().getCurrentTask();$3.set_remainingAttempts($3.get_remainingAttempts()-$3.get_maxItemAttempts());}return true;}else{return false;}},$5_39:function($p0){if(ss.isNullOrUndefined(this.$5_B)){return;}var $0=Date.get_now();$p0.set_timeTaken($p0.get_timeTaken()+($0.getTime()-this.$5_B.getTime()));this.$5_B=null;},onLButtonDown:function($p0){Player.Player$3.callBaseMethod(this, 'onLButtonDown',[$p0]);},onMouseMove:function($p0){Player.Player$3.callBaseMethod(this, 'onMouseMove',[$p0]);},onLButtonUp:function($p0){Player.Player$3.callBaseMethod(this, 'onLButtonUp',[$p0]);}}
Player.PlayerConstants=function(){}
Player.PlayerObjectFactory=function(){}
Player.PlayerObjectFactory.getAppFrameObject=function(appPlayer){var $0;$0=new Player.Player$5(appPlayer);return $0;}
Player.PlayerObjectFactory.getProjectPrefix=function(){var $0;$0='mgh_excel_';return $0;}
Player.PlayerApp=function(){Player.PlayerApp.initializeBase(this,['player',false,false]);}
Player.PlayerApp.get_player=function(){return Player.PlayerApp.$4_0;}
Player.PlayerApp.get_height=function(){if(Player.PlayerApp.$4_0!=null){return (Player.PlayerApp.$4_0.getAppFrame()).get_height();}return 0;}
Player.PlayerApp.$4_1=function(){Player.PlayerApp.$4_0=new Player.PlayerApp();Player.PlayerApp.$4_0.init();}
Player.PlayerApp.prototype={register:function(){this.sendMessageToEngine(Kepler.Engine.Messages.eON_REGISTER_PLAYER,this._strAppName,this);},getAppFrame:function(){if(ss.isNullOrUndefined(this._oAppFrame)){this._oAppFrame=Player.PlayerObjectFactory.getAppFrameObject(this);}return this._oAppFrame;},getDefaultCSS:function(){var $0=[];var $1=this.get_appName().toLowerCase();var $2=Kepler.Engine.Core.EngineApp.get_engine().get_taskMaster().get_assignment();if(ss.isValue($2)&&$2.get_mghType()==='accounting'){$1=$1+'_accounting';}$0.add(this.get_cssPath()+$1+'.min.css');return $0;}}
Player.Player$3.registerClass('Player.Player$3',Kepler.Engine.UI.BaseAppFrame);Player.Player$4.registerClass('Player.Player$4',Player.Player$3);Player.Player$5.registerClass('Player.Player$5',Player.Player$4);Player.Player$2.registerClass('Player.Player$2');Player.PlayerConstants.registerClass('Player.PlayerConstants');Player.PlayerObjectFactory.registerClass('Player.PlayerObjectFactory');Player.PlayerApp.registerClass('Player.PlayerApp',Kepler.Engine.Core.MainApp);Player.PlayerConstants.clasS_NORMAL_ITEM='player_list_item_desc_normal';Player.PlayerConstants.clasS_ACTIVE_ITEM='player_list_item_desc_active';Player.PlayerConstants.clasS_LIST='player_list';Player.PlayerConstants.clasS_SECTION_NORMAL='player_span_section_normal';Player.PlayerConstants.clasS_SECTION_ACTIVE='player_span_section_active';Player.PlayerConstants.shoW_KEYBOARD_BTN_CSS='virtual_keyboard_player_button';Player.PlayerConstants.mgH_SHOW_KEYBOARD_BTN_CSS='mgh_player_show_keyboard_key';Player.PlayerConstants.q_MSG_BOX_WIDTH=700;Player.PlayerConstants.q_MSG_BOX_HEIGHT=400;Player.PlayerConstants.stR_ATTEMPT_EXHAUSTED='Attempt(s) exhausted.<br/>Moving to next ';Player.PlayerConstants.stR_ATTEMPT_EXHAUSTED_SUFIX_QUE='question...';Player.PlayerConstants.stR_ATTEMPT_EXHAUSTED_SUFIX_ITEM='item...';Player.PlayerConstants.stR_DOC_BASED_JUMP_WARNING_TITLE='Kepler';Player.PlayerConstants.incorrecT_ACTION_MSG_INTERVAL=3000;Player.PlayerConstants.msG_JUMP_TO_NEXT_TASK='msg_jump_to_next_task';Player.PlayerConstants.msG_JUMP_TO_PREV_TASK='msg_jump_to_prev_task';Player.PlayerConstants.msG_JUMP_TO_NEXT_ITEM='msg_jump_to_next_item';Player.PlayerConstants.msG_JUMP_TO_PREV_ITEM='msg_jump_to_prev_item';Player.PlayerConstants.msG_DBG_JUMP_TO_SPECIFIC='msg_jump_to_specific';Player.PlayerConstants.msG_JUMP_TO_SPECIFIC_TASK='msg_jump_to_specific_task';Player.PlayerConstants.enD_OF_ASSIGNMENT_TITLE='Submit Result';Player.PlayerConstants.enD_OF_ASSIGNMENT_SUBMIT_FAIL='The appliction cannot submit your results to the server.<br/><br/>See Debug-Console for report.';Player.PlayerConstants.stR_SUBMITTING_RESULT='Submitting results...';Player.PlayerConstants.siM_VISIBILITY_DETECTOR_TIMER_INTERVAL=500;Player.PlayerConstants.enD_OF_EZTO_ASSIGNMENT_CONTENT='You have completed this question or exhausted all available attempts.<br/><br/>Please navigate to the next/previous question or click on the submit assignment button to see your report.';Player.PlayerConstants.iD_IMG_ATTEMPT_COUNT='attempts-image-container';Player.PlayerConstants.iD_IMG_REMAINING_TIME='remaining-time-image-container';Player.PlayerApp.$4_0=null;(function(){Kepler.Engine.Core.BaseApp.callMeAfterBootstrap(Player.PlayerApp.$4_1);})();
})();// This script was generated using Script# v0.7.4.0

// win8applauncher.contracts.js
(function(){
Type.registerNamespace('Kepler.Win8AppLauncher.Contracts.Core');Kepler.Win8AppLauncher.Contracts.Core.Constants=function(){};Kepler.Win8AppLauncher.Contracts.Core.Constants.prototype = {win8applauncher:'win8applauncher',wintaskbar:'wintaskbar'}
Kepler.Win8AppLauncher.Contracts.Core.Constants.registerEnum('Kepler.Win8AppLauncher.Contracts.Core.Constants',false);Kepler.Win8AppLauncher.Contracts.Core.IAppSplitterCommunicator=function(){};Kepler.Win8AppLauncher.Contracts.Core.IAppSplitterCommunicator.registerInterface('Kepler.Win8AppLauncher.Contracts.Core.IAppSplitterCommunicator');Kepler.Win8AppLauncher.Contracts.Core.IAppLauncherCommunicator=function(){};Kepler.Win8AppLauncher.Contracts.Core.IAppLauncherCommunicator.registerInterface('Kepler.Win8AppLauncher.Contracts.Core.IAppLauncherCommunicator');Kepler.Win8AppLauncher.Contracts.Core.IAppSplitterManager=function(){};Kepler.Win8AppLauncher.Contracts.Core.IAppSplitterManager.registerInterface('Kepler.Win8AppLauncher.Contracts.Core.IAppSplitterManager');Kepler.Win8AppLauncher.Contracts.Core.IAppLauncherManager=function(){};Kepler.Win8AppLauncher.Contracts.Core.IAppLauncherManager.registerInterface('Kepler.Win8AppLauncher.Contracts.Core.IAppLauncherManager');Kepler.Win8AppLauncher.Contracts.Core.IAppLauncherModule=function(){};Kepler.Win8AppLauncher.Contracts.Core.IAppLauncherModule.registerInterface('Kepler.Win8AppLauncher.Contracts.Core.IAppLauncherModule');Kepler.Win8AppLauncher.Contracts.Core.IDesktopWallCommunicator=function(){};Kepler.Win8AppLauncher.Contracts.Core.IDesktopWallCommunicator.registerInterface('Kepler.Win8AppLauncher.Contracts.Core.IDesktopWallCommunicator');Kepler.Win8AppLauncher.Contracts.Core.IDesktopWallManager=function(){};Kepler.Win8AppLauncher.Contracts.Core.IDesktopWallManager.registerInterface('Kepler.Win8AppLauncher.Contracts.Core.IDesktopWallManager');Kepler.Win8AppLauncher.Contracts.Core.ITaskbarModule=function(){};Kepler.Win8AppLauncher.Contracts.Core.ITaskbarModule.registerInterface('Kepler.Win8AppLauncher.Contracts.Core.ITaskbarModule');Kepler.Win8AppLauncher.Contracts.Core.ITaskbarCommunicator=function(){};Kepler.Win8AppLauncher.Contracts.Core.ITaskbarCommunicator.registerInterface('Kepler.Win8AppLauncher.Contracts.Core.ITaskbarCommunicator');Kepler.Win8AppLauncher.Contracts.Core.ITaskbarManager=function(){};Kepler.Win8AppLauncher.Contracts.Core.ITaskbarManager.registerInterface('Kepler.Win8AppLauncher.Contracts.Core.ITaskbarManager');Kepler.Win8AppLauncher.Contracts.Core.IPaneConmmunicator=function(){};Kepler.Win8AppLauncher.Contracts.Core.IPaneConmmunicator.registerInterface('Kepler.Win8AppLauncher.Contracts.Core.IPaneConmmunicator');Kepler.Win8AppLauncher.Contracts.Core.IPaneManager=function(){};Kepler.Win8AppLauncher.Contracts.Core.IPaneManager.registerInterface('Kepler.Win8AppLauncher.Contracts.Core.IPaneManager');})();// This script was generated using Script# v0.7.4.0

// desktop.js
(function(){
Type.registerNamespace('Desktop.Core');Desktop.Core.AppSplitterCommunicator=function(app,oAppContainer){Desktop.Core.AppSplitterCommunicator.initializeBase(this,[app]);this.$2_0=oAppContainer;}
Desktop.Core.AppSplitterCommunicator.prototype={$2_0:null,getAppContainerHintType:function(){return this.$2_0.get_hintType();},splitterDraggingStart:function(){if(this.$2_0!=null){this.$2_0.$3_31();}},splitterDraggingEnd:function(oAction){if(this.$2_0!=null){this.$2_0.$3_32(oAction);}}}
Desktop.Core.AppLauncherCommunicator=function(app){Desktop.Core.AppLauncherCommunicator.initializeBase(this,[app]);}
Desktop.Core.DesktopWallCommunicator=function(app){Desktop.Core.DesktopWallCommunicator.initializeBase(this,[app]);}
Desktop.Core.TaskbarCommunicator=function(app){Desktop.Core.TaskbarCommunicator.initializeBase(this,[app]);}
Desktop.Core.TaskbarCommunicator.prototype={getPaneManager:function(){return (Kepler.Desktop.DesktopApp.get_desktop().getAppView()).get_paneManager();}}
Type.registerNamespace('Kepler.Desktop.UI');Kepler.Desktop.UI.AppContainer=function(){Kepler.Desktop.UI.AppContainer.initializeBase(this,['div',Kepler.Engine.UI.Controls.Control.csS_CLASS_POSITION_ABSOLUTE+Kepler.Framework.UI.Metro_Ui_Controls.MetroTheme.cls_bg_color_bg,'app_container']);this.set_showHideProperty(Kepler.Framework.UI.ShowHideProperty.display);this.$3_9=((Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice())?25:12);this.$3_A=[];this.$3_B=[];this.$3_C=[];this.$3_13=true;this.$3_10=new Kepler.Engine.UI.Helper.WebkitTransformHelper();this.$3_6=document.createElement('div');this.$3_6.style.position='absolute';this.$3_1B=new ss.StringBuilder();this.$3_1D=null;this.$3_1F=false;Kepler.Desktop.UI.AppContainer.$3_7=new Kepler.Desktop.UI.AppDraggingContainer();Kepler.Desktop.UI.AppContainer.$3_7.show(false);}
Kepler.Desktop.UI.AppContainer.prototype={$3_5:null,$3_6:null,$3_8:null,$3_9:0,$3_A:null,$3_B:null,$3_C:null,$3_D:null,$3_E:null,$3_F:null,$3_10:null,$3_11:0,$3_12:0,get_hintType:function(){return this.$3_12;},$3_13:false,$3_14:false,$3_15:false,$3_16:null,$3_17:null,$3_18:null,$3_19:false,$3_1A:null,$3_1B:null,$3_1C:false,$3_1D:null,$3_1E:false,$3_1F:false,$3_20:null,$3_21:null,onLoad:function(){Kepler.Desktop.UI.AppContainer.callBaseMethod(this, 'onLoad');this.$3_22();this.$3_23();Kepler.Desktop.UI.ExitGestureManagerBase.$2_17(Kepler.Desktop.UI.AppContainer.$3_7);},show:function(bShow,bForceVisible){Kepler.Desktop.UI.AppContainer.callBaseMethod(this, 'show',[bShow,bForceVisible]);var $0=null;if(bShow){if(this.$3_5!=null){if(this.$3_5.get_visible()){$0=this.$3_5.get_communicationData();}}for(var $1=0;$1<this.$3_A.length;$1++){if(this.$3_A[$1].get_visible()){$0=(this.$3_A[$1]).get_communicationData();break;}}this.get_parent().sendMessage(Kepler.Engine.UI.KeplerMetroDialog.msG_SHOW_DIALOG_PANE,$0,this);}},$3_22:function(){var $0=Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseDown|Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseUp|Kepler.Framework.UI.Events.EventArgsNs.EventType.touchStart|Kepler.Framework.UI.Events.EventArgsNs.EventType.touchEnd;this.addEvents($0);},$3_23:function(){this.add(Kepler.Desktop.UI.AppContainer.$3_7);this.get_element().appendChild(this.$3_6);if(this.$3_5!=null){this.$3_2B();}},onSize:function(){if(this.$3_5!=null){this.$3_5.get_positionAndSizeOverrideHandler().update(this.get_size());}if(this.$3_21!=null){this.$3_21.update(this.get_size());}if(Kepler.Desktop.DesktopApp.get_desktop().get_isShowMe()||Kepler.Desktop.DesktopApp.get_desktop().get_isTutorial()){if(this.$3_12!==Kepler.Framework.UI.Metro_Ui_Controls.EAppHintType.noT_SET){if(this.$3_12===Kepler.Framework.UI.Metro_Ui_Controls.EAppHintType.clicK_ACTION_HINT){this.$3_39();}else if(this.$3_12===Kepler.Framework.UI.Metro_Ui_Controls.EAppHintType.apP_DRAGGING_HINT){if(this.$3_1F){this.$3_39();}else{this.$3_3B();}}}}Kepler.Desktop.UI.AppContainer.callBaseMethod(this, 'onSize');},$3_24:function($p0){this.$3_13=true;this.$3_27($p0);this.$3_12=Kepler.Framework.UI.Metro_Ui_Controls.EAppHintType.noT_SET;this.$3_38();this.$3_37($p0);this.$3_25();this.$3_26($p0['metro_app_action']);window.setTimeout(ss.Delegate.create(this,function(){
var $1_0=this.$3_3D();if($1_0==null){return;}if(Kepler.Desktop.DesktopApp.get_desktop().get_isTutorial()||Kepler.Desktop.DesktopApp.get_desktop().get_isShowMe()){$1_0.get_element().style.backgroundColor='';$1_0.get_element().style.opacity='1';}else{$1_0.get_element().style.backgroundColor='#000000';$1_0.get_element().style.opacity='0';}}),300);},$3_25:function(){this.$3_1C=false;this.$3_3A();this.$3_3C();var $0=(this.get_parent()).getStartScreenActionData();if(!ss.isNullOrUndefined($0)&&($0.get_actionType()===Kepler.Framework.UI.Metro_Ui_Controls.EStartScreenActionType.donT_CARE||$0.get_actionType()===Kepler.Framework.UI.Metro_Ui_Controls.EStartScreenActionType.blanK_AREA_CLICK)){this.$3_1C=true;}if(Kepler.Desktop.DesktopApp.get_desktop().get_isTutorial()||Kepler.Desktop.DesktopApp.get_desktop().get_isShowMe()){if(this.$3_1C&&$0.get_actionType()===Kepler.Framework.UI.Metro_Ui_Controls.EStartScreenActionType.blanK_AREA_CLICK){this.$3_12=Kepler.Framework.UI.Metro_Ui_Controls.EAppHintType.clicK_ACTION_HINT;window.setTimeout(ss.Delegate.create(this,this.$3_39),300);}}},$3_26:function($p0,$p1){if(ss.isNullOrUndefined($p1)||$p1){this.$3_3C();this.$3_C.clear();}if(ss.isValue($p0)&&!!$p0.trim()){var $0=$p0.split(Kepler.Framework.Core.Seperators.PIPE);if($0.length>1){var $1=parseInt($0[0],10);for(var $2=1;$2<=$1;$2++){var $3=new Kepler.Framework.UI.Metro_Ui_Controls.AppActionData();$3.parse($0[$2]);this.$3_C.add($3);}}}if(Kepler.Desktop.DesktopApp.get_desktop().get_isTutorial()||Kepler.Desktop.DesktopApp.get_desktop().get_isShowMe()){this.$3_3B();}},$3_27:function($p0){this.$3_1D=null;var $0=$p0['show_win_desktop'];if(ss.isValue($0)){this.$3_1D=($0.trim()==='1');this.showWinDesktop(this.$3_1D);}else if(this.$3_5!=null&&(!this.$3_5.get_visible())){this.$3_5.show(true);}if(this.$3_5!=null){this.$3_5.$3_C($p0);}else{this.$3_8=$p0;}},$3_28:function($p0,$p1){this.$3_2A();if(this.$3_5!=null){return this.$3_5.$3_D($p0,$p1);}else{return this.insert($p0,$p1);}},removeApplication:function(oAppFrame){var $0=false;if(this.$3_5!=null){$0=this.$3_5.removeApplication(oAppFrame);}if(!$0){$0=this.remove(oAppFrame);}return $0;},getWinDesktopRect:function(bIncludingTaskbar){if(this.$3_5!=null){var $0=this.$3_5.getWinDesktopRect(bIncludingTaskbar);if($0!=null){$0.set_left($0.get_left()+this.get_left());$0.set_top($0.get_top()+this.get_top());}return $0;}return null;},$3_29:function($p0,$p1){var $0=this.insert($p0,$p1.get_container());if($0){var $1=new Kepler.Desktop.UI.MetroAppDialogExitGestureManager($p1,$p1.get_container(),this);this.$3_A.add($p1);this.$3_B.add($1);$1.set_height(this.$3_9);$1.set_width($p1.get_width());$p1.add($1);$p1.set_exitGestureManager($1);}return $0;},removeMetroApplication:function(oDialogBase){var $0=this.remove(oDialogBase.get_container());if($0){var $1=this.$3_A.indexOf(oDialogBase);if($1>=0){var $2=this.$3_B[$1];this.$3_A.removeAt($1);this.$3_B.removeAt($1);if(ss.isValue($2)){oDialogBase.remove($2);$2.dispose();$2=null;}}}return $0;},addDialogManager:function(oDialogMngr){this.$3_2A();if(this.$3_5!=null){return this.$3_5.addDialogManager(oDialogMngr);}else{return this.add(oDialogMngr);}},showWinDesktop:function(bShow){if(this.$3_5==null&&bShow){this.$3_2A();}if(this.$3_5!=null){if(bShow!==this.$3_5.get_visible()){this.$3_5.show(bShow);}}},$3_2A:function(){if(this.$3_5==null){this.$3_5=new Kepler.Desktop.UI.WinDesktop();this.$3_2B();this.$3_D=new Desktop.UI.Helper.DesktopExitGestureManager(this.$3_5,this);this.$3_D.set_height(this.$3_9);this.$3_5.add(this.$3_D);this.$3_5.set_exitGestureManager(this.$3_D);this.$3_5.get_positionAndSizeOverrideHandler().update(this.get_size());}},$3_2B:function(){if(this.$3_5.get_$3_1().get_parent()==null&&this.get_loaded()){this.add(this.$3_5.get_$3_1());if(this.$3_8!=null){this.$3_27(this.$3_8);this.$3_8=null;}}},$3_2C:function($p0){var $0=true;this.$3_2A();if(this.$3_5.$3_F($p0)){if(this.$3_1D==null||!!this.$3_1D){this.showWinDesktop(true);}else{}}else{$0=false;}return $0;},$3_2D:function($p0){this.$3_1E=(this.$3_21!=null)?this.$3_21.isAppSplitterVisibile():false;this.$3_13=true;this.checkIfTwoSideBySideAppsPresent();this.$3_3D();if(this.$3_21!=null){this.$3_21.appDraggingStateChange(true);}if($p0===this.$3_E){this.$3_14=true;this.$3_15=false;}else if($p0===this.$3_F){this.$3_14=false;this.$3_15=true;}if(this.$3_14&&this.$3_F!=null){this.$3_10.attachElement(this.$3_F.get_element());}else if(this.$3_15&&this.$3_E!=null){this.$3_10.attachElement(this.$3_E.get_element());}},$3_2E:function(){var $0=false;this.$3_14=false;this.$3_15=false;if(this.$3_21!=null){this.$3_21.appDraggingStateChange(false);}if(this.$3_10!=null){this.$3_10.detachElement();}if(this.$3_21!=null){this.$3_21.show(this.$3_1E);}if(this.$3_19){var $1;if(!!this.$3_1A){$1=new Kepler.Framework.UI.Metro_Ui_Controls.EngineAction(true,parseInt(this.$3_1A,10),this.$3_1B.toString());$0=true;}else{$1=new Kepler.Framework.UI.Metro_Ui_Controls.EngineAction(false,-1,this.$3_1B.toString());this.$3_2F();}Kepler.Desktop.DesktopApp.get_desktop().sendMessage('msg_desktop_perform_engine_action',$1,null);}else{this.$3_2F();}return $0;},$3_2F:function(){if(Kepler.Desktop.DesktopApp.get_desktop().get_isTutorial()||Kepler.Desktop.DesktopApp.get_desktop().get_isShowMe()){if(this.$3_12===Kepler.Framework.UI.Metro_Ui_Controls.EAppHintType.apP_DRAGGING_HINT){this.$3_3B();this.$3_3A();}else if(this.$3_12===Kepler.Framework.UI.Metro_Ui_Controls.EAppHintType.clicK_ACTION_HINT){window.setTimeout(ss.Delegate.create(this,function(){
this.$3_39();this.$3_3C();}),400);}}},$3_30:function($p0){var $0=new Kepler.Framework.UI.Metro_Ui_Controls.AppActionData();$0._eMethod=Kepler.Framework.UI.Metro_Ui_Controls.EAppActionMethod.GESTURE;this.$3_19=false;if($p0===Kepler.Framework.UI.Metro_Ui_Controls.EAppDragging.movE_LEFT){if(this.$3_15){$0._eObject=Kepler.Framework.UI.Metro_Ui_Controls.EAppActionObject.righT_APP;this.$3_19=true;}else if(!this.$3_14){$0._eObject=Kepler.Framework.UI.Metro_Ui_Controls.EAppActionObject.fulL_SCREEN_APP;this.$3_19=true;}$0._eType=Kepler.Framework.UI.Metro_Ui_Controls.EAppActionType.lefT_DOCK;}else if($p0===Kepler.Framework.UI.Metro_Ui_Controls.EAppDragging.movE_RIGHT){if(this.$3_14){$0._eObject=Kepler.Framework.UI.Metro_Ui_Controls.EAppActionObject.lefT_APP;this.$3_19=true;}else if(!this.$3_15){$0._eObject=Kepler.Framework.UI.Metro_Ui_Controls.EAppActionObject.fulL_SCREEN_APP;this.$3_19=true;}$0._eType=Kepler.Framework.UI.Metro_Ui_Controls.EAppActionType.righT_DOCK;}else if($p0===Kepler.Framework.UI.Metro_Ui_Controls.EAppDragging.movE_NORMAL||$p0===Kepler.Framework.UI.Metro_Ui_Controls.EAppDragging.movE_FULLSCREEN){if(this.$3_14){$0._eObject=Kepler.Framework.UI.Metro_Ui_Controls.EAppActionObject.lefT_APP;this.$3_19=true;}else if(this.$3_15){$0._eObject=Kepler.Framework.UI.Metro_Ui_Controls.EAppActionObject.righT_APP;this.$3_19=true;}if(this.checkIfTwoSideBySideAppsPresent()){if($p0===Kepler.Framework.UI.Metro_Ui_Controls.EAppDragging.movE_NORMAL){if(this.$3_14){$0._eType=Kepler.Framework.UI.Metro_Ui_Controls.EAppActionType.lefT_DOCK;}else if(this.$3_15){$0._eType=Kepler.Framework.UI.Metro_Ui_Controls.EAppActionType.righT_DOCK;}}else if($p0===Kepler.Framework.UI.Metro_Ui_Controls.EAppDragging.movE_FULLSCREEN){if(this.$3_21!=null){this.$3_21.clearTransform();}$0._eType=Kepler.Framework.UI.Metro_Ui_Controls.EAppActionType.fulL_SCREEN;}}else{$0._eType=Kepler.Framework.UI.Metro_Ui_Controls.EAppActionType.fulL_SCREEN;}}else if($p0===Kepler.Framework.UI.Metro_Ui_Controls.EAppDragging.CLOSE){if(this.$3_14){$0._eObject=Kepler.Framework.UI.Metro_Ui_Controls.EAppActionObject.lefT_APP;}else if(this.$3_15){$0._eObject=Kepler.Framework.UI.Metro_Ui_Controls.EAppActionObject.righT_APP;}else{$0._eObject=Kepler.Framework.UI.Metro_Ui_Controls.EAppActionObject.fulL_SCREEN_APP;}this.$3_19=true;$0._eType=Kepler.Framework.UI.Metro_Ui_Controls.EAppActionType.CLOSE;}if(this.$3_19){var $1=this.$3_35($0);this.$3_1A=(($1!=null)?$1._strFrameToJump:'');this.$3_36($0,this.$3_1B);}},$3_31:function(){this.checkIfTwoSideBySideAppsPresent();},$3_32:function($p0){this.$3_19=true;var $0=this.$3_35($p0);this.$3_1A=(($0!=null)?$0._strFrameToJump:'');this.$3_36($p0,this.$3_1B);if(Kepler.Desktop.DesktopApp.get_desktop().get_isTutorial()||Kepler.Desktop.DesktopApp.get_desktop().get_isShowMe()){this.$3_3B();}if(this.$3_19){var $1;if(!!this.$3_1A){$1=new Kepler.Framework.UI.Metro_Ui_Controls.EngineAction(true,parseInt(this.$3_1A,10),this.$3_1B.toString());}else{$1=new Kepler.Framework.UI.Metro_Ui_Controls.EngineAction(false,-1,this.$3_1B.toString());}Kepler.Desktop.DesktopApp.get_desktop().sendMessage('msg_desktop_perform_engine_action',$1,null);}},$3_33:function($p0){if(ss.isNullOrUndefined($p0)||$p0._eMethod!==Kepler.Framework.UI.Metro_Ui_Controls.EAppActionMethod.SPLITTER){return;}switch($p0._eType){case Kepler.Framework.UI.Metro_Ui_Controls.EAppActionType.RESIZING:case Kepler.Framework.UI.Metro_Ui_Controls.EAppActionType.fulL_SCREEN:if($p0._eObject===Kepler.Framework.UI.Metro_Ui_Controls.EAppActionObject.lefT_APP&&this.$3_E==null&&this.$3_F!=null){$p0._eObject=Kepler.Framework.UI.Metro_Ui_Controls.EAppActionObject.righT_APP;}else if($p0._eObject===Kepler.Framework.UI.Metro_Ui_Controls.EAppActionObject.righT_APP&&this.$3_F==null&&this.$3_E!=null){$p0._eObject=Kepler.Framework.UI.Metro_Ui_Controls.EAppActionObject.lefT_APP;}break;case Kepler.Framework.UI.Metro_Ui_Controls.EAppActionType.CLOSE:if($p0._eObject===Kepler.Framework.UI.Metro_Ui_Controls.EAppActionObject.lefT_APP&&this.$3_E==null&&this.$3_F!=null){$p0._eObject=Kepler.Framework.UI.Metro_Ui_Controls.EAppActionObject.righT_APP;$p0._eType=Kepler.Framework.UI.Metro_Ui_Controls.EAppActionType.fulL_SCREEN;}else if($p0._eObject===Kepler.Framework.UI.Metro_Ui_Controls.EAppActionObject.righT_APP&&this.$3_F==null&&this.$3_E!=null){$p0._eObject=Kepler.Framework.UI.Metro_Ui_Controls.EAppActionObject.lefT_APP;$p0._eType=Kepler.Framework.UI.Metro_Ui_Controls.EAppActionType.fulL_SCREEN;}break;}},checkIfTwoSideBySideAppsPresent:function(){if(this.$3_13){this.$3_13=false;var $0=this.get_width();var $1=$0/4;this.$3_E=null;this.$3_F=null;this.$3_16=this.$3_17=this.$3_18='';if(this.$3_5!=null&&this.$3_5.get_visible()){var $3=this.$3_5.getWinDesktopRect(true);var $4=$3.get_left();if(($4+$3.get_width())<$0-$1){this.$3_E=this.$3_5.get_$3_1();this.$3_16='Desktop';}else if($4>$1){this.$3_F=this.$3_5.get_$3_1();this.$3_17='Desktop';}else{this.$3_18='Desktop';}}var $2=this.$3_A.length;for(var $5=0;$5<$2;$5++){var $6=this.$3_A[$5];if(ss.isValue($6)&&$6.get_visible()){var $7=$6.get_container();var $8=$7.get_left();if(($8+$7.get_width())<$0-$1){this.$3_E=$7;this.$3_16=new ss.StringBuilder($6.get_name()).append(' application').toString();}else if($8>$1){this.$3_F=$7;this.$3_17=new ss.StringBuilder($6.get_name()).append(' application').toString();}else{this.$3_18=new ss.StringBuilder($6.get_name()).append(' application').toString();}}}}return (this.$3_E!=null&&this.$3_F!=null);},$3_34:function($p0){var $0=this.$3_11;this.$3_11=$p0;if(this.checkIfTwoSideBySideAppsPresent()){if(this.$3_15){if($p0===Kepler.Framework.UI.Metro_Ui_Controls.EAppDragging.movE_LEFT){if($0===Kepler.Framework.UI.Metro_Ui_Controls.EAppDragging.movE_FULLSCREEN){this.$3_10.clear();if(this.$3_21!=null){this.$3_21.clearTransform();}}this.$3_10.setXY(this.get_width()-this.$3_E.get_width(),0);}else if($p0===Kepler.Framework.UI.Metro_Ui_Controls.EAppDragging.movE_FULLSCREEN){var $1=new Kepler.Framework.UI.Size(0,0);if(this.$3_21!=null){$1=this.$3_21.getSize();}var $2=1-0.9;var $3=Math.round(($2*this.$3_E.get_width())/2);var $4=Math.round(($2*$1.get_width())/2);this.$3_10.removeTransformOrigin();this.$3_10.setXY($3+$4,0,false);this.$3_10.setScaleFactor(0.9);if(this.$3_21!=null){this.$3_21.scaleSplitter(0.9);}}else{this.$3_10.clear();if(this.$3_21!=null){this.$3_21.clearTransform();}}}else if(this.$3_14){if($p0===Kepler.Framework.UI.Metro_Ui_Controls.EAppDragging.movE_RIGHT){if($0===Kepler.Framework.UI.Metro_Ui_Controls.EAppDragging.movE_FULLSCREEN){this.$3_10.clear();if(this.$3_21!=null){this.$3_21.clearTransform();}}this.$3_10.setXY(-(this.get_width()-this.$3_F.get_width()),0);}else if($p0===Kepler.Framework.UI.Metro_Ui_Controls.EAppDragging.movE_FULLSCREEN){var $5=new Kepler.Framework.UI.Size(0,0);if(this.$3_21!=null){$5=this.$3_21.getSize();}var $6=1-0.9;var $7=Math.round(($6*this.$3_F.get_width())/2);var $8=Math.round(($6*$5.get_width())/2);this.$3_10.removeTransformOrigin();this.$3_10.setXY(-$7-$8,0,false);this.$3_10.setScaleFactor(0.9);if(this.$3_21!=null){this.$3_21.scaleSplitter(0.9);}}else{this.$3_10.clear();if(this.$3_21!=null){this.$3_21.clearTransform();}}}}else{switch($p0){case Kepler.Framework.UI.Metro_Ui_Controls.EAppDragging.movE_LEFT:case Kepler.Framework.UI.Metro_Ui_Controls.EAppDragging.movE_RIGHT:if(this.$3_21!=null){this.$3_21.show(true);}if(Kepler.Desktop.DesktopApp.get_desktop().get_isShowMe()||Kepler.Desktop.DesktopApp.get_desktop().get_isTutorial()){if(this.$3_12!==Kepler.Framework.UI.Metro_Ui_Controls.EAppHintType.clicK_ACTION_HINT){this.$3_39();}if(this.$3_20!=null){Kepler.Engine.UI.Helper.HtmlCssHelper.setStyleProperty(this.$3_20.get_element(),'box-shadow','');}}break;default:if(this.$3_21!=null){this.$3_21.show(false);}if(Kepler.Desktop.DesktopApp.get_desktop().get_isShowMe()||Kepler.Desktop.DesktopApp.get_desktop().get_isTutorial()){this.$3_3A();if(this.$3_20!=null){Kepler.Engine.UI.Helper.HtmlCssHelper.setStyleProperty(this.$3_20.get_element(),'box-shadow','inset 0px 0px 0px 2px red');}}break;}}},$3_35:function($p0){var $0='';var $1=this.$3_C.length;for(var $2=0;$2<$1;$2++){if(this.$3_C[$2].equals($p0)){$0=this.$3_C[$2]._strFrameToJump;if(ss.isValue($0)&&!!$0.trim()){return this.$3_C[$2];}else{$0='';}}}return null;},$3_36:function($p0,$p1){$p1.clear();if(ss.isNullOrUndefined($p0)){$p1.append('Incorrect Action');return;}var $0=$p0.clone();if($0._eMethod===Kepler.Framework.UI.Metro_Ui_Controls.EAppActionMethod.SPLITTER){switch($0._eType){case Kepler.Framework.UI.Metro_Ui_Controls.EAppActionType.fulL_SCREEN:case Kepler.Framework.UI.Metro_Ui_Controls.EAppActionType.RESIZING:$p1.append('Pulled split bar to the');switch($0._eObject){case Kepler.Framework.UI.Metro_Ui_Controls.EAppActionObject.lefT_APP:$p1.append(' right');break;case Kepler.Framework.UI.Metro_Ui_Controls.EAppActionObject.righT_APP:$p1.append(' left');break;default:break;}if($0._eObject===Kepler.Framework.UI.Metro_Ui_Controls.EAppActionObject.lefT_APP&&this.$3_E==null){if(this.$3_F!=null){$0._eObject=Kepler.Framework.UI.Metro_Ui_Controls.EAppActionObject.righT_APP;if($0._eType===Kepler.Framework.UI.Metro_Ui_Controls.EAppActionType.fulL_SCREEN){$p1.append(' to close ');}else if($0._eType===Kepler.Framework.UI.Metro_Ui_Controls.EAppActionType.RESIZING){$p1.append(' to resize ');}}else{}}else if($0._eObject===Kepler.Framework.UI.Metro_Ui_Controls.EAppActionObject.righT_APP&&this.$3_F==null){if(this.$3_E!=null){$0._eObject=Kepler.Framework.UI.Metro_Ui_Controls.EAppActionObject.lefT_APP;if($0._eType===Kepler.Framework.UI.Metro_Ui_Controls.EAppActionType.fulL_SCREEN){$p1.append(' to close ');}else if($0._eType===Kepler.Framework.UI.Metro_Ui_Controls.EAppActionType.RESIZING){$p1.append(' to resize ');}}else{}}else if($0._eType===Kepler.Framework.UI.Metro_Ui_Controls.EAppActionType.fulL_SCREEN){$p1.append(' to maximize ');}else if($0._eType===Kepler.Framework.UI.Metro_Ui_Controls.EAppActionType.RESIZING){$p1.append(' to resize ');}else{}break;case Kepler.Framework.UI.Metro_Ui_Controls.EAppActionType.CLOSE:$p1.append('Pulled split bar to the');switch($0._eObject){case Kepler.Framework.UI.Metro_Ui_Controls.EAppActionObject.lefT_APP:$p1.append(' left');break;case Kepler.Framework.UI.Metro_Ui_Controls.EAppActionObject.righT_APP:$p1.append(' right');break;default:break;}$p1.append(' to close ');break;default:break;}}switch($0._eObject){case Kepler.Framework.UI.Metro_Ui_Controls.EAppActionObject.lefT_APP:if(this.$3_E!=null){$p1.append(this.$3_16);}else if(this.$3_F!=null){$p1.append(this.$3_16);}break;case Kepler.Framework.UI.Metro_Ui_Controls.EAppActionObject.righT_APP:$p1.append(this.$3_17);break;case Kepler.Framework.UI.Metro_Ui_Controls.EAppActionObject.fulL_SCREEN_APP:$p1.append(this.$3_18);break;}if($0._eMethod===Kepler.Framework.UI.Metro_Ui_Controls.EAppActionMethod.GESTURE){switch($0._eType){case Kepler.Framework.UI.Metro_Ui_Controls.EAppActionType.lefT_DOCK:$p1.append(' docked to the left of the screen');break;case Kepler.Framework.UI.Metro_Ui_Controls.EAppActionType.righT_DOCK:$p1.append(' docked to the right of the screen');break;case Kepler.Framework.UI.Metro_Ui_Controls.EAppActionType.fulL_SCREEN:$p1.append(' dragged to the top of the screen to maximize it');break;case Kepler.Framework.UI.Metro_Ui_Controls.EAppActionType.CLOSE:$p1.append(' closed');break;}}if(!$p1.toString().trim()){$p1.append('Unidentified Action');}},onLButtonDown:function(evt){Kepler.Desktop.UI.AppContainer.callBaseMethod(this, 'onLButtonDown',[evt]);if(evt.get_button()===Kepler.Framework.UI.Events.EventArgsNs.MouseButton.left&&this.$3_1C){var $0=null;var $1=Kepler.Engine.UI.Controls.Control.getClientPointFromEventArgs(evt);var $2=false;this.$3_13=true;this.checkIfTwoSideBySideAppsPresent();var $3=null;var $4=null;if(this.$3_21!=null){$3=this.$3_21.getPosition();$4=this.$3_21.getSize();}if(this.$3_E!=null&&this.$3_F==null&&$3!=null&&$4!=null){if($1.get_x()>$3.get_x()+$4.get_width()){$2=true;$0=new Kepler.Framework.UI.Metro_Ui_Controls.StartScreenActionData();$0.set_actionType(Kepler.Framework.UI.Metro_Ui_Controls.EStartScreenActionType.blanK_AREA_CLICK);}}if(this.$3_E==null&&this.$3_F!=null&&$3!=null&&$4!=null){if($1.get_x()<$3.get_x()){$2=true;$0=new Kepler.Framework.UI.Metro_Ui_Controls.StartScreenActionData();$0.set_actionType(Kepler.Framework.UI.Metro_Ui_Controls.EStartScreenActionType.blanK_AREA_CLICK);}}if($2){this.sendMessageToParent('start_screen_action',$0,this);}}},$3_37:function($p0){if(this.$3_21!=null){this.$3_21.setFrameData($p0);this.$3_21.update(this.get_size());}},$3_38:function(){if(this.$3_21==null){var $0=Kepler.Engine.Core.EngineApp.get_engine().getModule('win8applauncher');if($0!=null){var $1=new Desktop.Core.AppSplitterCommunicator(Kepler.Desktop.DesktopApp.get_desktop(),this);this.$3_21=$0.createAppSplitterManager(this,$1);}}},dispose:function(){if(!this.get_disposed()){if(this.$3_B!=null){this.$3_B.clear();}this.$3_B=null;if(this.$3_A!=null){this.$3_A.clear();}this.$3_A=null;this.$3_E=null;this.$3_F=null;}Kepler.Desktop.UI.AppContainer.callBaseMethod(this, 'dispose');},$3_39:function(){var $0=null;if(this.$3_1C){$0=this.$3_3E();}else{$0=this.$3_3F();}if($0!=null){Kepler.Engine.UI.Helper.HtmlCssHelper.setStyleProperty(this.$3_6,'left',$0.get_left()+'px');Kepler.Engine.UI.Helper.HtmlCssHelper.setStyleProperty(this.$3_6,'top',$0.get_top()+'px');Kepler.Engine.UI.Helper.HtmlCssHelper.setElementSize(this.$3_6,$0.get_size());Kepler.Engine.UI.Helper.HtmlCssHelper.setStyleProperty(this.$3_6,'display','block');Kepler.Engine.UI.Helper.HtmlCssHelper.setStyleProperty(this.$3_6,'box-shadow','inset 0px 0px 0px 2px red');}this.$3_1F=true;},$3_3A:function(){Kepler.Engine.UI.Helper.HtmlCssHelper.setStyleProperty(this.$3_6,'display','none');this.$3_1F=false;},$3_3B:function(){var $0=this.$3_3D();if(this.$3_C.length>0&&this.$3_12!==Kepler.Framework.UI.Metro_Ui_Controls.EAppHintType.clicK_ACTION_HINT){if($0!=null&&this.$3_C[0]._eType!==Kepler.Framework.UI.Metro_Ui_Controls.EAppActionType.fulL_SCREEN&&this.$3_C[0]._eMethod===Kepler.Framework.UI.Metro_Ui_Controls.EAppActionMethod.GESTURE){Kepler.Engine.UI.Helper.HtmlCssHelper.setStyleProperty($0.get_element(),'box-shadow','inset 0px 0px 0px 2px red');window.setTimeout(function(){
$0.addHintArrowElement();},300);this.$3_12=Kepler.Framework.UI.Metro_Ui_Controls.EAppHintType.apP_DRAGGING_HINT;this.$3_1F=false;if(this.$3_21!=null){this.$3_21.removeAppSplitterHint();}}else if(this.$3_C[0]._eType===Kepler.Framework.UI.Metro_Ui_Controls.EAppActionType.fulL_SCREEN){if(this.$3_C[0]._eMethod===Kepler.Framework.UI.Metro_Ui_Controls.EAppActionMethod.GESTURE){Kepler.Engine.UI.Helper.HtmlCssHelper.setStyleProperty($0.get_element(),'box-shadow','inset 0px 0px 0px 2px red');window.setTimeout(function(){
$0.addHintArrowElement();},300);this.$3_12=Kepler.Framework.UI.Metro_Ui_Controls.EAppHintType.apP_DRAGGING_HINT;}else if(this.$3_21!=null&&this.$3_21.isAppSplitterVisibile()){this.$3_12=Kepler.Framework.UI.Metro_Ui_Controls.EAppHintType.splitteR_ACTION_HINT;this.$3_21.setAppSplitterHint(this.$3_C[0]);}this.$3_1F=false;}}},$3_3C:function(){var $0=this.$3_3D();if($0!=null&&this.$3_C[0]._eType!==Kepler.Framework.UI.Metro_Ui_Controls.EAppActionType.fulL_SCREEN){Kepler.Engine.UI.Helper.HtmlCssHelper.setStyleProperty($0.get_element(),'box-shadow','');$0.removeHintArrowElement();}else if(this.$3_21!=null){this.$3_21.removeAppSplitterHint();}},$3_3D:function(){var $0=null;if(this.$3_C.length>0){var $1=this.$3_C[0];var $2=$1._eObject;var $3=null;if($2===Kepler.Framework.UI.Metro_Ui_Controls.EAppActionObject.fulL_SCREEN_APP){$3=this.$3_A[0];}else{this.$3_13=true;this.checkIfTwoSideBySideAppsPresent();var $4=null;if(ss.isValue(this.$3_E)){$4=this.$3_E;}else if(ss.isValue(this.$3_F)){$4=this.$3_F;}if($4!=null){var $5=$4.get_controls();for(var $6=0;$6<$5.length;$6++){var $7=$5[$6];if((Kepler.Engine.UI.DialogBase).isInstanceOfType($7)){$3=$7;break;}}}}if(ss.isValue($3)){$0=this.$3_B[this.$3_A.indexOf($3)];}}this.$3_20=$0;return $0;},$3_3E:function(){var $0=new Kepler.Framework.UI.Rect(-1,-1,10,10);this.$3_13=true;var $1;var $2;if(!this.checkIfTwoSideBySideAppsPresent()){if(this.$3_21!=null){$1=this.$3_21.getSize();$2=this.$3_21.getPosition();}else{$2=new Kepler.Framework.UI.Point(0,0);$1=new Kepler.Framework.UI.Size(0,0);}if(this.$3_E==null&&this.$3_F!=null){$0.set_top(this.get_top());$0.set_left(this.get_left());$0.set_width(this.get_width()-this.$3_F.get_width()-$1.get_width());$0.set_height(this.get_height());}else if(this.$3_E!=null&&this.$3_F==null){$0.set_top(this.get_top());$0.set_left(($2.get_x()+$1.get_width()));$0.set_width(this.get_width()-$0.get_left());$0.set_height(this.get_height());}}return $0;},$3_3F:function(){var $0=null;var $1=this.$3_C[0];var $2=new Kepler.Framework.UI.Point(0,0);var $3=new Kepler.Framework.UI.Size(0,0);if(this.$3_21!=null){$3=this.$3_21.getSize();$2=this.$3_21.getPosition();}if($1._eType===Kepler.Framework.UI.Metro_Ui_Controls.EAppActionType.lefT_DOCK){$0=new Kepler.Framework.UI.Rect(0,0,0,0);$0.set_height(this.get_height());$0.set_width($2.get_x());$0.set_left(0);}else if($1._eType===Kepler.Framework.UI.Metro_Ui_Controls.EAppActionType.righT_DOCK){$0=new Kepler.Framework.UI.Rect(0,0,0,0);$0.set_height(this.get_height());$0.set_left($3.get_width()+$2.get_x());$0.set_width(this.get_width()-$0.get_left());}else if($1._eType===Kepler.Framework.UI.Metro_Ui_Controls.EAppActionType.fulL_SCREEN){$0=new Kepler.Framework.UI.Rect(0,0,0,0);var $4=this.$3_3D();if($4!=null){$0.set_height($4.get_bottomThresoldForFullScreen());}$0.set_width(this.get_width());}return $0;}}
Kepler.Desktop.UI.Desktop$1=function(oApp){Kepler.Desktop.UI.Desktop$1.initializeBase(this,[oApp]);this.get_elementStyle().overflow='hidden';this._oAppView=new Kepler.Desktop.UI.AppView();this._oMenuMngr=new Kepler.Desktop.UI.Menu.Desktop$0(this);this.$5_0=false;this.set_neverSpeechAriaText(true);}
Kepler.Desktop.UI.Desktop$1.prototype={get_resourcePath:function(){return Kepler.Desktop.DesktopApp.get_desktop().get_resourcePath();},$5_0:false,onLoad:function(){Kepler.Desktop.UI.Desktop$1.callBaseMethod(this, 'onLoad');this.$5_3();this.$5_1();this.issueAppReady();},$5_1:function(){this.attachMessage(Kepler.Engine.Messages.eON_ACTION_ENGINE,ss.Delegate.create(this,this.onMsgSendActionEngine));},$5_2:function($p0){if(!this.$5_0){this.$5_0=true;this.issueAppReady();}},$5_3:function(){this.add(this._oAppView);},onSize:function(){Kepler.Desktop.UI.Desktop$1.callBaseMethod(this, 'onSize');},initialiseThemeDetails:function(){this._oThemeDetails.set_colorNormal('#217346');this._oThemeDetails.set_colorNormalLight('#26A0DA');this._oThemeDetails.set_colorNormalDark('#0A6332');this._oThemeDetails.set_colorHover('#A8D2EC');this._oThemeDetails.set_colorPressed('#C0DDEB');this._oThemeDetails.set_colorChecked('#9FD5B7');this._oThemeDetails.set_colorCheckedHover('#D4F0E1');this._oThemeDetails.set_colorCheckedBG('#E9F5EE');this._oThemeDetails.set_colorBar('#FFFFFF');this._oThemeDetails.set_appName('desktop');},onMsgFrameData:function($p0,$p1){if(ss.isValue($p1)){var $1=($p1);var $2=$1.get_viewData();(this._oAppView).$5_9($2);if($1.get_desktopAppData()!=null&&Object.getKeyCount($1.get_desktopAppData())>0){this._oMenuMngr.setData($1.get_desktopAppData());}}var $0=Kepler.Engine.Core.EngineApp.get_engine().get_currentApp().get_appName();if(!String.isNullOrEmpty($0)&&$0!=='word'&&$0!=='excel'){return Kepler.Desktop.UI.Desktop$1.callBaseMethod(this, 'onMsgFrameData',[$p0,$p1]);}else{return null;}},onFocus:function($p0){Kepler.Desktop.UI.Desktop$1.callBaseMethod(this, 'onFocus',[$p0]);this._oAppView.setFocus();}}
Kepler.Desktop.UI.AppView=function(){Kepler.Desktop.UI.AppView.initializeBase(this);this.get_element().id='desktop_view';this.get_elementStyle().overflow='hidden';this.createDesktopParser();this.$5_1A();this.$5_1=new Kepler.Desktop.UI.AppContainer();this.set_blockAltMode(true);this.$5_5=[];this.set_neverSpeechAriaText(true);}
Kepler.Desktop.UI.AppView.prototype={xmL_PANE_AUTOMATION:'pane_automation.xml',$5_1:null,$5_2:null,$5_3:0,get_$5_4:function(){return this.$5_3;},$5_5:null,$5_6:null,$5_7:null,get_paneManager:function(){return this.$5_7;},onLoad:function(){Kepler.Desktop.UI.AppView.callBaseMethod(this, 'onLoad');this.$5_8();this.$5_1D();},createDesktopParser:function(){var $0=Kepler.Desktop.DesktopApp.get_desktop().get_resourcePath()+'desktop_automation.xml';},$5_8:function(){this.add(this.$5_1);this.$5_1B();},onSize:function(){Kepler.Desktop.UI.AppView.callBaseMethod(this, 'onSize');this.$5_1.set_size(this.get_size());if(this.$5_6!=null){this.$5_6.setSize(this.get_size());}this.$5_1C();},$5_9:function($p0){this.$5_B($p0);this.$5_A($p0['start_screen_action_data']);this.$5_12();this.$5_11();if(this.$5_1!=null){if(this.$5_3===Kepler.Framework.UI.Metro_Ui_Controls.FocusTarget.none||this.$5_1.$3_2C(this.$5_3)){this.$5_1.show(true);if(this.$5_6!=null){this.$5_6.showAppLauncher(false);}}else{if(this.$5_6!=null&&this.$5_6.requestAppLancherFocus(this.$5_3)){this.$5_6.showAppLauncher(true);this.$5_1.show(false);}}this.$5_1.$3_24($p0);}if(this.$5_6!=null){this.$5_10($p0);}this.$5_13($p0);this.$5_1E($p0);},$5_A:function($p0){this.$5_5.clear();if(!ss.isNullOrUndefined($p0)&&!!$p0.trim()){var $0=$p0.split(Kepler.Framework.Core.Seperators.PIPE);for(var $1=1;$1<$0.length;$1++){var $2=new Kepler.Framework.UI.Metro_Ui_Controls.StartScreenActionData();$2.parse($0[$1]);this.$5_5.add($2);}}},getStartScreenActionData:function(){if(this.$5_5.length>0){return this.$5_5[0];}return null;},$5_B:function($p0){this.$5_C($p0);},$5_C:function($p0){var $0=$p0['win_focus'];if(ss.isValue($0)){this.$5_3=parseInt($0,10)|0;}else{this.$5_3=Kepler.Framework.UI.Metro_Ui_Controls.FocusTarget.none;}},$5_D:function($p0,$p1){if(this.$5_1!=null){return this.$5_1.$3_28($p0,$p1);}return false;},removeApplication:function(oAppFrame){if(this.$5_1!=null){return this.$5_1.removeApplication(oAppFrame);}return false;},getWinDesktopRect:function(bIncludingTaskbar){if(this.$5_1!=null){var $0=this.$5_1.getWinDesktopRect(bIncludingTaskbar);if($0!=null){$0.set_left($0.get_left()+(this.get_left()+this.get_parent().get_left()));$0.set_top($0.get_top()+(this.get_top()+this.get_parent().get_top()));}return $0;}return null;},$5_E:function($p0,$p1){if(this.$5_1!=null){return this.$5_1.$3_29($p0,$p1);}return false;},removeMetroApplication:function(oDialogBase){if(this.$5_1!=null){return this.$5_1.removeMetroApplication(oDialogBase);}return false;},addDialogManager:function(oDialogMngr){if(this.$5_1!=null){return this.$5_1.addDialogManager(oDialogMngr);}return false;},showWinDesktop:function(bShow){if(this.$5_1!=null){this.$5_1.showWinDesktop(bShow);}},handleWinKey:function(){var $0=this.getFocus();if(this.$5_1.get_visible()){this.$5_1.show(false);if(this.$5_6!=null){this.$5_6.showAppLauncher(true);}if(this.$5_2!=null){this.$5_2.setFocus();}else{if(this.$5_6!=null){this.$5_6.setFocusToAppLauncher();}}}else{this.$5_1.show(true);if(this.$5_6!=null){this.$5_6.showAppLauncher(false);}if(this.$5_2!=null){this.$5_2.setFocus();}else{this.$5_1.setFocus();}}this.$5_2=$0;return true;},getLauncherInterface:function(){if(this.$5_6!=null){return this.$5_6.getAppLauncherInterface();}return null;},onFocus:function(oFocusedPrevControl){Kepler.Desktop.UI.AppView.callBaseMethod(this, 'onFocus',[oFocusedPrevControl]);if(this.$5_3===Kepler.Framework.UI.Metro_Ui_Controls.FocusTarget.none||this.$5_1.$3_2C(this.$5_3)){this.$5_1.show(true);if(this.$5_6!=null){this.$5_6.showAppLauncher(false);}}else{if(this.$5_6!=null&&this.$5_6.requestAppLancherFocus(this.$5_3)){this.$5_6.showAppLauncher(true);this.$5_1.show(false);}}},$5_F:function($p0,$p1){var $0;var $1=false;var $2=$p0;var $3=(ss.isValue($2))?$2.get_actionType():Kepler.Framework.UI.Metro_Ui_Controls.EStartScreenActionType.NONE;var $4=($3===Kepler.Framework.UI.Metro_Ui_Controls.EStartScreenActionType.floatinG_START_BTN_CLICK||$3===Kepler.Framework.UI.Metro_Ui_Controls.EStartScreenActionType.minimizeD_PANE_START_BTN_CLICK||$3===Kepler.Framework.UI.Metro_Ui_Controls.EStartScreenActionType.charmS_START_BTN_CLICK);if($4&&this.$5_6!=null){$4=this.$5_6.showMetroDesktop();}else if(ss.isNullOrUndefined(this.$5_6)&&$4){$4=false;}if(!$4){var $5='';switch($3){case Kepler.Framework.UI.Metro_Ui_Controls.EStartScreenActionType.blanK_AREA_CLICK:$5='Clicked the blank area.';break;case Kepler.Framework.UI.Metro_Ui_Controls.EStartScreenActionType.charmS_START_BTN_CLICK:$5='Clicked the Start button on the Charms bar.';break;case Kepler.Framework.UI.Metro_Ui_Controls.EStartScreenActionType.floatinG_START_BTN_CLICK:$5='Clicked the Start button.';break;case Kepler.Framework.UI.Metro_Ui_Controls.EStartScreenActionType.minimizeD_PANE_START_BTN_CLICK:$5='Clicked the Start button on Minimized apps pane.';break;case Kepler.Framework.UI.Metro_Ui_Controls.EStartScreenActionType.taskbaR_START_BTN_CLICK:$5='Clicked the Start button on the Taskbar.';break;}var $6=null;for(var $7=0;$7<this.$5_5.length;$7++){$1=$2.equals(this.$5_5[$7]);if($1){$6=this.$5_5[$7];break;}}if($1){$0=new Kepler.Framework.UI.Metro_Ui_Controls.EngineAction(true,parseInt($6.get_frameToJump(),10),$5);}else{$0=new Kepler.Framework.UI.Metro_Ui_Controls.EngineAction(false,-1,$5);}Kepler.Desktop.DesktopApp.get_desktop().sendMessage('msg_desktop_perform_engine_action',$0,null);}return $1;},$5_10:function($p0){if(this.$5_6!=null){this.$5_6.setData($p0);this.$5_6.setSize(this.get_size());}},$5_11:function(){if(this.$5_6==null){var $0=Kepler.Engine.Core.EngineApp.get_engine().getModule('win8applauncher');if($0!=null){var $1=new Desktop.Core.AppLauncherCommunicator(Kepler.Desktop.DesktopApp.get_desktop());this.$5_6=$0.createAppLauncherManager(this,$1);}}},$5_12:function(){if(ss.isNullOrUndefined(this.$5_7)){var $0=Kepler.Engine.Core.EngineApp.get_engine().getModule('win8applauncher');if($0!=null){var $1=new Desktop.Core.AppLauncherCommunicator(Kepler.Desktop.DesktopApp.get_desktop());this.$5_7=$0.createPaneManager(this,$1);}}},$5_13:function($p0){if(!ss.isNullOrUndefined(this.$5_7)){this.$5_7.setData($p0);}},$5_16:null,$5_17:null,$5_18:false,get_$5_19:function(){if(!this.$5_18){this.$5_18=Kepler.Engine.UI.Helper.HtmlCssHelper.appendChildInHead(this.get_element(),this.$5_17);}return (this.$5_18)?this.$5_17:null;},$5_1A:function(){this.$5_17=this.get_element().ownerDocument.createElement('style');this.$5_17.setAttribute('name','frame_styles');this.$5_18=false;this.$5_16={};},$5_1B:function(){},$5_1C:function(){},$5_1D:function(){this.attachMessage(Kepler.Framework.UI.Metro_Ui_Controls.WindowsMessages.stR_MSG_LAUNCH_SEARCH_FOR_KEYS,ss.Delegate.create(this,this.$5_24));this.attachMessage(Kepler.Framework.UI.Metro_Ui_Controls.WindowsMessages.msG_PANE_LAUNCHED,ss.Delegate.create(this,this.$5_21));this.attachMessage(Kepler.Framework.UI.Metro_Ui_Controls.WindowsMessages.msG_PANE_CEASED,ss.Delegate.create(this,this.$5_22));this.attachMessage(Kepler.Engine.UI.KeplerMetroDialog.msG_INITIALISE_DIALOG_PANE,ss.Delegate.create(this,this.$5_1F));this.attachMessage(Kepler.Engine.UI.KeplerMetroDialog.msG_SHOW_DIALOG_PANE,ss.Delegate.create(this,this.$5_20));this.attachMessage(Kepler.Framework.UI.Metro_Ui_Controls.WindowsMessages.stR_MSG_PANE_LOST_FOCUS,ss.Delegate.create(this,this.$5_23));this.attachMessage('start_screen_action',ss.Delegate.create(this,this.$5_F));this.attachMessage('msg_query_current_focus',ss.Delegate.create(this,this.$5_25));this.attachMessage(Kepler.Engine.Messages.msG_GET_APP_XML_FILE,ss.Delegate.create(this,this.$5_26));this.attachMessage(Kepler.Framework.UI.Metro_Ui_Controls.WindowsMessages.msG_GET_START_SCREEN_ACTION,ss.Delegate.create(this,this.$5_28));},$5_1E:function($p0){this.$5_13($p0);Object.clearKeys(this.$5_16);var $0=$p0['minimize_pane_frame_style'];if(!String.isNullOrEmpty($0)){this.$5_16['minimize_pane_frame_style']=$0;}if(this.get_$5_19()!=null){var $1=[];var $2=Object.keys(this.$5_16);var $enum1=ss.IEnumerator.getEnumerator($2);while($enum1.moveNext()){var $3=$enum1.current;$1.add(this.$5_16[$3]);}Kepler.Engine.UI.Helper.HtmlCssHelper.alterInStyleElement(this.get_$5_19(),$1.join('\n'));}},$5_1F:function($p0,$p1){if(!ss.isNullOrUndefined(this.$5_7)){this.$5_7.onMsgInitialiseDialogPane($p0,$p1);}return null;},$5_20:function($p0,$p1){if(!ss.isNullOrUndefined(this.$5_7)){this.$5_7.onMsgShowDialogPane($p0,$p1);}return null;},$5_21:function($p0,$p1){if(this.$5_6!=null){this.$5_6.sendMessageToAppLauncher('msg_appview_panes_active',null,null);}return null;},$5_22:function($p0,$p1){if(!ss.isNullOrUndefined(this.$5_7)&&!this.$5_7.isAnyPaneActive()){if(this.$5_6!=null){this.$5_6.sendMessageToAppLauncher('msg_appview_panes_inactive',null,null);this.$5_6.onPaneLostFocus();}}return null;},$5_23:function($p0,$p1){if(this.$5_6!=null){this.$5_6.onPaneLostFocus();}return null;},$5_24:function($p0,$p1){if(!ss.isNullOrUndefined(this.$5_7)){var $0=$p0;return this.$5_7.launchPaneForKeys($0);}return null;},$5_25:function($p0,$p1){var $0=Kepler.Framework.UI.Metro_Ui_Controls.FocusTarget.none;if(this.$5_6!=null&&this.$5_6.isAppLauncherVisible()){$0=(this.$5_6.isShortcutViewVisible())?Kepler.Framework.UI.Metro_Ui_Controls.FocusTarget.appShortcutsView:Kepler.Framework.UI.Metro_Ui_Controls.FocusTarget.allAppsView;}return $0;},$5_26:function($p0,$p1){return Kepler.Desktop.DesktopApp.get_desktop().get_resourcePath()+'desktop_automation.xml';},$5_27:function($p0,$p1){return Kepler.Desktop.DesktopApp.get_desktop().get_resourcePath()+this.xmL_PANE_AUTOMATION;},$5_28:function($p0,$p1){return this.getStartScreenActionData();}}
Kepler.Desktop.UI.AppDraggingContainer=function(){Kepler.Desktop.UI.AppDraggingContainer.initializeBase(this,['div',Kepler.Engine.UI.Controls.Control.csS_CLASS_POSITION_ABSOLUTE]);Kepler.Engine.UI.Helper.HtmlCssHelper.addElementAttribute(this.get_element(),'name','app_dragging_container');this.get_elementStyle().zIndex=Kepler.Framework.UI.Controls.ZIndexConstants.apP_DRAGGING_AREA_CONTAINER;}
Kepler.Desktop.UI.ExitGestureManagerBase=function(oApp,oAppContainer){Kepler.Desktop.UI.ExitGestureManagerBase.initializeBase(this,['div',Kepler.Engine.UI.Controls.Control.csS_CLASS_POSITION_ABSOLUTE]);Kepler.Engine.UI.Helper.HtmlCssHelper.addElementAttribute(this.get_element(),'name','exit_gesture_manager');this.set_focusable(false);this._oApp=oApp;this._oAppContainer=oAppContainer;this._lstTransform=new Array(2);this.$2_B=ss.Delegate.create(this,this.onTransitionEnd);this.$2_1=new Kepler.Framework.UI.Point(0,0);this.$2_5=Kepler.Framework.UI.Metro_Ui_Controls.EAppDragging.movE_NORMAL;this.addCssClass('cursor_metro_app_closing_hand_normal');this.$2_D=document.createElement('div');this.$2_D.className='hint_arrow_image';this.get_element().style.backgroundColor='#000000';this.get_element().style.opacity='0';this.$2_13=false;this.$2_15=false;this.$2_14=false;this.$2_16();}
Kepler.Desktop.UI.ExitGestureManagerBase.$2_17=function($p0){Kepler.Desktop.UI.ExitGestureManagerBase.$2_12=$p0;}
Kepler.Desktop.UI.ExitGestureManagerBase.prototype={_oApp:null,_oAppContainer:null,_iStartMoveTopThreshold:0,_iStartCloseTopThreshold:0,_iSnapToLeftThreshold:0,_iSnapToRightThreshold:0,$2_0:null,$2_1:null,$2_2:false,$2_3:null,_rcClientRectOfParentContainer:null,_ptPosOfAppBeforeDragStart:null,$2_4:0,$2_5:0,$2_6:false,$2_7:false,$2_8:0,_lstTransform:null,$2_9:false,$2_A:0,$2_B:null,$2_C:false,$2_D:null,$2_E:false,$2_F:false,$2_10:0,get_bottomThresoldForFullScreen:function(){return this.$2_10;},$2_11:false,$2_13:false,$2_14:false,$2_15:false,$2_16:function(){if(!ss.isValue(document.getElementById('handcursorforgesturemanager'))){var $0='';var $1=document.createElement('style');var $2=document.getElementsByTagName('head');$1.id='handcursorforgesturemanager';if(Kepler.Framework.Core.Browser.BrowserCapabilities.get_name()===Kepler.Framework.Core.Browser.BrowserName.internetExplorer){$0='.cursor_metro_app_closing_hand_normal{cursor:url(common/res/metro_app_closing_hand_normal.cur), default;}'+'.cursor_metro_app_closing_hand_pressed{cursor: url(common/res/metro_app_closing_hand_pressed.cur), default;}'+'.cursor_splliter{cursor:url(common/res/resizepane.cur), w-resize;}';}else{$0='.cursor_metro_app_closing_hand_normal{cursor:url(data:image/png;base64,'+'AAACAAEAICAAAAsAAwCoEAAAFgAAACgAAAAgAAAAQAAAAAEAIAAAAAAAgBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACYUEhEzIiBBWEpIiWFUUq1kV1W5YVRTrlZIRoM0IyFGJhQSFwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACYUEgY3JiQ/Z1pYtLCqqfTa19f/7Orq//Hw8P/s6+r/2NTU/7SurfhxZWPGOyooVSkXFQwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAmFBIIOiknhKCYlvvz8fH///////////////////////////////////////z8/P+zrav/STo4niYUEhIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJhQSDVVHRY/FwL/7/f39//////////////////////////////////////////////////7+/v/KxcT8TT89oCYUEgsAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACYUEgVGNjR/urSz9v////////////////////////////////////////////////////////////////38/P+zrazyNCQiUgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKRcVPZyTku37+vr///////////////////////////////////////////////////////////////////////Hw8P9sX13EJxUTAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACkXFSWBd3Xd9fT0/////////////////////////////////////////////////////////////////////////////////6Sdm/8sGxgrAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArGRckX1JQxO3r6///////////////////////////////////////////////////////////////////////////////////////19TT/ywbGWkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJhQSDFJEQarQzMz////////////////////////////////////////////////////////////////////////////////////////////x8PD/LRsZiAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABENTNywLu68/////////////////////////////////////////////////////////////////////////////////////////////////r5+f8tGxmTAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAmFBIDLx4cZKqjovX8/Pz////////////29fX/urSz/////////////////////////////////////////////////////////////////////////////////y0bGZkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADMiHz2HfXvu9/b2////////////7evr/5GIhtRTRULd////////////////////////////////////////////////////////////////////////////////LRsZmQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAARTY0l+/u7v///////v7+/+Xi4v9rXl3XMiEfOUk6OLH///////////////////////////////////////////////////////////////////////////////8tGxmZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA9LSt3xcC///Hw8P+wqaj2Szw6qyYUEhsAAAAASDk3sP///////////////////////////////////////////////////////////////////////////////y0bGZkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAC0cGhBDMzJ7TD07oD4uLEomFBIJAAAAAAAAAABIOTew///////////39vb/2tfX////////////+vr6/9/d3P/+/v7///////39/f/Z1tb/+/v7////////////LRsZmQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEg5N7D//////////9rX1/9PQT/////////////o5ub/VUdE//n5+f//////8vHx/0o7OP7s6ur///////////8tGxmZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASDk3sP//////////1NDQ/zYlI////////////+Ph4f8tHBn/+Pf3///////s6+v+LBsY9+nn5////////////y0bGZkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABIOTew///////////U0ND/NSUi////////////4+Hh/y0cGf/49/f//////+zr6/4sGxj36efn////////////Lx4cmiYUEgEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEg5N7D//////////9TQ0P81JSL////////////j4eH/LRwZ//j39///////7Ovr/iwbGPfp5+f///////////8uHBqZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASDk3sP//////////1NDQ/zUlIv///////////+Ph4f8tHBn/+Pf3///////s6+v+LBsY9+nn5////////////y4dG5kAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABIOTew///////////U0ND/NSUi////////////4+Hh/y0cGf/49/f//////+zr6/4sGxj36efn////////////Lx4bmQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEg5N7D//////////9TQ0P81JSL////////////j4eH/LRwZ//j39///////7Ovr/iwbGPfp5+f///////////8tHBqZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASDk3sP//////////1NDQ/zUlIv///////////+Ph4f8tHBn/+Pf3///////s6+v+KxoX9ujm5v///////v7+/y8fHJgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABIOTew///////////U0ND/NSUi////////////4+Hh/y0cGf/49/f//////+zr6/4mFBLh08/P+v/////i4OD/LBsZdwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEg5N7D//////////9TQ0P81JSL////////////j4eH/LRwZ//j39///////7Ovr/iYUEpVhVFK9n5iX9GBUUscoFhQYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASDk3r/7+/v//////0MzM/TYlIvv//////////+Ph4f8pFxX58vHx///////i39/9JhQSciYUEhUmFBIpJhQSFQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABGNzWP5ePj//7+/v+6tLPzNyYk6P//////////4+Hh/yYUEr2ooaD06Obm/pKJh+4mFBIzAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAfHCxqXVvRkIaF9VJEQqI7Kiet///////////j4OD/JhQScyYUElImFBJ5JhQSQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJhQSASYUEg8mFBIVJhQSCTMiIHrc2Nj//Pz8/7exsPUmFBJPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALRwaF1hKSK1rX13QTT48iSYUEgsAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACYUEgMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA///////wB///wAH//4AA//8AAH/+AAB//gAAP/wAAD/4AAA/8AAAP/AAAD/AAAA/wAAAP8AAAD/AgAA/wYAAP/+AAD//gAA//4AAH/+AAD//gAA//4AAP/+AAD//gAA//4AAP/+AAD//gAB//4AD//+AB///gD////g////+//8=), default;}';$0+='.cursor_metro_app_closing_hand_pressed{cursor:url(data:image/png;base64,'+'AAACAAEAICAAAAoACQCoEAAAFgAAACgAAAAgAAAAQAAAAAEAIAAAAAAAgBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJhQSAygXFRZAMC5KTD07hU9AP6FPQT+mTj89k0c4NmYuHRooJhQSDQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACYUEgk1JSJkdGhnyrCqqf/W09L/6Ofm/+zq6v/f3d3/w769/5SMivFWSEarJhQSOiYUEgQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAvHhwxWUtJxcG8uvj29fX//////////////////////////////////f38/+7t7f6ZkZD0RTYziyYUEhAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALRwaS3FlY8fe29v//v7+//////////////////////////////////////////////////v7+/+wqaj2Pi8siiYUEgMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACYUEi1/dHLj6+np//////////////////////////////////////////////////////////////////v7+/+impn/JhQSSgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAvHRswal1cyfLx8f////////////////////////////////////////////////////////////////////////////n4+P9kV1W7JhQSFwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJhQSFVNFQ7zX1NP//////////////////////////////////////////////////////////////////////////////////////6qiofY0JCFBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACYUEgZIOTafzMjH////////////////////////////////////////////////////////////////////////////////////////////19TT/1VHRY0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAmFBIGPzAtZbCqqfL7+/v////////////////////////////////////////////////////////////////////////////////////////////u7ez/XVBOuAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAC8eHFuOhYPs/f39//////////////////////////////////////////////////////////////////////////////////////////////////n5+f9gU1HNAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAmFBIxgHV06/Dv7/////////////v7+//X1NP//Pv7/////////////////////////////////////////////////////////////////////////////f39/2FUUtUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACkYFXnf3dz9///////////v7e3/mI+O91FDQcLb2Nj/////////////////////////////////////////////////////////////////////////////////YVRT2AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJhQSWa6op/j29fX/xsLB/29jYckoFhNWLh0aYs/Lyv////////////////////////////////////////////////////////////////////////////////9hVFPYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAmFBIJQTEvc1BCQLZHNzZxLh0bGyYUEgEmFBJizcnI/////////////////////////////////////////////////////////////////////////////////2FUU9gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACYUEmLNycj/////////////////////////////////////////////////////////////////////////////////YVRT2AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJhQSYs3JyP///////////9vY2P/k4uL////////////s6ur/3tvb////////////+/v7/83JyP/49/f///////////9hVFPYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAmFBJizcnI////////////fXJw/5uTkv///////////7iysf9tYV/////////////t6+v/RTYz/uTh4f///////////2FUU9gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACYUEmLNycj///////////9rXlz/kYiG////////////rKWk/09BPv///////////+fl5f4sGxj34N3d////////////YVRT2AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJhQSYs3JyP///////////2pdXP+RiIb///////////+spaT/T0E+////////////5+Xl/icVE+nRzc36//////Ly8f9eUU/BJhQSAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAmFBJizcjI///////9/f3/aV1b+5GIhv///////////6ylpP9PQD7////////////n5eX+JhQSsIF3dd/k4eH9n5iW9kIzMWwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACYUElO+ubj2//////Tz8/9lWFflkYiG////////////rKWk/0g5N/L39vb//////9XS0fsmFBJtJhQSOSYUEn0mFBJIJhQSCQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJhQSHmZaWL/FwMD6n5eW7UAwLoWNg4H7/v7+//////+noJ/6NSQilpuTku7GwcD7dGln1SYUEiQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJhQSJSYUElomFBJEJhQSGGpdXMzs6ur/9PTz/21hX9MmFBIoJhQSRiYUElsmFBItAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJhQSJykXFY4qGRaSJhQSLAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJhQSASYUEgEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA///////gB///wAH//4AA//8AAH/+AAB//AAAP/gAAD/wAAA/4AAAP+AAAD/AAAA/wAAAP8AAAD/AAAA//wAAP/8AAD//AAA//wAAP/8AAB//AAA//wAAP/8AA///gAf///h////8//////////////////////////////////8=), default;}';$0+='.cursor_splliter{cursor:url(data:image/png;base64,'+'AAACAAEAICAAAA8AEACoEAAAFgAAACgAAAAgAAAAQAAAAAEAIAAAAAAAgBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAREREAERERABEREQAREREAERERABEREQAREREAERERABEREQAREREAERERABEREQAREREAERERABEREQAREREAERERABEREQAREREAERERABEREQAfEQYALiAVAEIcCABCHAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABEREQAREREAERERABEREQAREREAERERABEREQAREREAERERABEREQAREREAERERABEREQAREREAERERABEREQAREREAERERABEREQAREREAERERAB8RBgAuIBUAQhwIAEIcCAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAERERABEREQAREREAERERABEREQAREREAERERABEREQAREREAERERABEREQAREREAERERABEREQAREREAERERABEREQAREREAERERABEREQAREREAHxEGAC4gFQBCHAgAQhwIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAREREAERERABEREQAREREAERERABEREQAREREAERERABEREQAREREAERERABEREQAREREAERERABEREQAREREAERERABEREQAREREAERERABEREQAfEQYALiAVAEIcCABCHAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABEREQAREREAERERABEREQAREREAERERABEREQAREREAERERABEREQAREREAERERABEREQAREREAERERABEREQAREREAERERABEREQAREREAERERAB8RBgAuIBUAQhwIAEIcCAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAERERABEREQAREREAERERABEREQAREREAERERABEREQAREREAERERABEREQAREREAERERABEREQAREREAERERABEREQAREREAERERABEREQAREREAHxEGAC4gFQBCHAgAQhwIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAREREAERERABEREQAREREAERERABEREQAREREAX19f//////9fX1//X19f//////9fX1//ERERABEREQAREREAERERABEREQAREREAERERABEREQAfEQYALiAVAEIcCABCHAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABEREQAREREAERERABEREQAREREAERERABEREQD/////AAAA////////////AAAA//////8REREAERERABEREQAREREAERERABEREQAREREAERERAB8RBgAuIBUAQhwIAEIcCAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAERERABEREQAREREAERERABEREQAREREAERERAP////8AAAD///////////8AAAD//////xEREQAREREAERERABEREQAREREAERERABEREQAREREAHxEGAC4gFQBCHAgAQhwIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAREREAERERABEREQAREREAERERABEREQAREREA/////wAAAP///////////wAAAP//////ERERABEREQAREREAERERABEREQAREREAERERABEREQAfEQYALiAVAEIcCABCHAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABEREQAREREAERERABEREQAREREAERERABEREQD/////AAAA////////////AAAA//////8REREAERERABAQEP8REREAERERABEREQAREREAERERAB8RBgAuIBUAQhwIAEIcCAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAERERABEREQAREREAERERAP////81NTX/ERERAP////8AAAD///////////8AAAD//////xEREQAmJib//////xEREQAREREAERERABEREQAREREAHxEGAC4gFQBCHAgAQhwIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAREREAERERABEREQD/////AAAA//////8REREA/////wAAAP///////////wAAAP//////ERERAP////8AAAD//////xEREQAREREAERERABEREQAfEQYALiAVAEIcCABCHAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABEREQAREREA/Pz8/wAAAP8AAAD/////////////////AAAA////////////AAAA/////////////////wAAAP8AAAD//////xEREQAREREAERERAB8RBgAuIBUAQhwIAEIcCAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAERERAP////8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD///////////8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD//////xEREQAREREAHxEGAC4gFQBCHAgAQhwIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAREREA/////wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP///////////wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP//////ERERABEREQAfEQYALiAVAEIcCABCHAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABEREQAREREA/////wAAAP8AAAD/////////////////AAAA////////////AAAA/////////////////wAAAP8AAAD//////xEREQAREREAERERAB8RBgAuIBUAQhwIAEIcCAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAERERABEREQAREREA/////wAAAP//////ERERAP////8AAAD///////////8AAAD//////xEREQCvr6//AAAA//////8REREAERERABEREQAREREAHxEGAC4gFQBCHAgAQhwIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAREREAERERABEREQAREREA/////zIyMv8REREA/////wAAAP///////////wAAAP//////ERERADU1Nf//////ERERABEREQAREREAERERABEREQAfEQYALiAVAEIcCABCHAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABEREQAREREAERERABEREQAREREAERERABEREQD/////AAAA////////////AAAA//////8REREAERERABEREQAREREAERERABEREQAREREAERERAB8RBgAuIBUAQhwIAEIcCAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAERERABEREQAREREAERERABEREQAREREAERERAP////8AAAD///////////8AAAD//////xEREQAREREAERERABEREQAREREAERERABEREQAREREAHxEGAC4gFQBCHAgAQhwIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAREREAERERABEREQAREREAERERABEREQAREREA/////wAAAP///////////wAAAP//////ERERABEREQAREREAERERABEREQAREREAERERABEREQAfEQYALiAVAEIcCABCHAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABEREQAREREAERERABEREQAREREAERERABEREQD/////AAAA////////////AAAA//////8REREAERERABEREQAREREAERERABEREQAREREAERERAB8RBgAuIBUAQhwIAEIcCAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAERERABEREQAREREAERERABEREQAREREAERERAF9fX///////X19f/19fX///////X19f/xEREQAREREAERERABEREQAREREAERERABEREQAREREAHxEGAC4gFQBCHAgAQhwIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAREREAERERABEREQAREREAERERABEREQAREREAERERABEREQAREREAERERABEREQAREREAERERABEREQAREREAERERABEREQAREREAERERABEREQAfEQYALiAVAEIcCABCHAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABEREQAREREAERERABEREQAREREAERERABEREQAREREAERERABEREQAREREAERERABEREQAREREAERERABEREQAREREAERERABEREQAREREAERERAB8RBgAuIBUAQhwIAEIcCAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAERERABEREQAREREAERERABEREQAREREAERERABEREQAREREAERERABEREQAREREAERERABEREQAREREAERERABEREQAREREAERERABEREQAREREAHxEGAC4gFQBCHAgAQhwIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAREREAERERABEREQAREREAERERABEREQAREREAERERABEREQAREREAERERABEREQAREREAERERABEREQAREREAERERABEREQAREREAERERABEREQAfEQYALiAVAEIcCABCHAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABEREQAREREAERERABEREQAREREAERERABEREQAREREAERERABEREQAREREAERERABEREQAREREAERERABEREQAREREAERERABEREQAREREAERERAB8RBgAuIBUAQhwIAEIcCAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAERERABEREQAREREAERERABEREQAREREAERERABEREQAREREAERERABEREQAREREAERERABEREQAREREAERERABEREQAREREAERERABEREQAREREAHxEGAC4gFQBCHAgAQhwIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAREREAERERABEREQAREREAERERABEREQAREREAERERABEREQAREREAERERABEREQAREREAERERABEREQAREREAERERABEREQAREREAERERABEREQAfEQYALiAVAEIcCABCHAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABEREQAREREAERERABEREQAREREAERERABEREQAREREAERERABEREQAREREAERERABEREQAREREAERERABEREQAREREAERERABEREQAREREAERERAB8RBgAuIBUAQhwIAEIcCAAAAAAA/AAAAfwAAAH8AAAB/AAAAfwAAAH8AAAB/AAAAfwAAAH8AAAB/AAAAfwAAAH8AAAB/AAAAfwAAAH8AAAB/AAAAfwAAAH8AAAB/AAAAfwAAAH8AAAB/AAAAfwAAAH8AAAB/AAAAfwAAAH8AAAB/AAAAfwAAAH8AAAB/AAAAfwAAAE=), w-resize;}';}$1.innerHTML=$0;if(ss.isValue($2)&&$2.length>0){$2[0].appendChild($1);}}},attachMessages:function(){this.attachMessage(Kepler.Engine.UI.DialogBase.msG_DIALOG_POS_OVERRIDE_RECIVED,ss.Delegate.create(this,this.onDialogPosOverrideRecived));},onDialogPosOverrideRecived:function(wparam,lparam){var $0=lparam;if($0===this._oApp){if(this.$2_14){var $1=this.getParentControl();Kepler.Desktop.UI.ExitGestureManagerBase.$2_12.remove(this._oApp);$1.add(this._oApp);Kepler.Desktop.UI.ExitGestureManagerBase.$2_12.show(false);this.$2_13=false;this.$2_15=false;this.setAppShouldHandleParentResize(true);this.$2_C=false;this._oApp.set_position(this._ptPosOfAppBeforeDragStart);this.$2_14=false;this.$2_22();}}return null;},onLoad:function(){Kepler.Desktop.UI.ExitGestureManagerBase.callBaseMethod(this, 'onLoad');this.$2_18();this.attachMessages();},$2_18:function(){var $0=Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseDown|Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseMove|Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseUp|Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseOver|Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseOut|Kepler.Framework.UI.Events.EventArgsNs.EventType.mouseWheel|Kepler.Framework.UI.Events.EventArgsNs.EventType.touchStart|Kepler.Framework.UI.Events.EventArgsNs.EventType.touchMove|Kepler.Framework.UI.Events.EventArgsNs.EventType.touchEnd;this.addEvents($0);},onTouchStart:function(evt){Kepler.Desktop.UI.ExitGestureManagerBase.callBaseMethod(this, 'onTouchStart',[evt]);if((Kepler.Desktop.DesktopApp.get_desktop().get_isShowMe()||Kepler.Desktop.DesktopApp.get_desktop().get_isTutorial())&&(this._oAppContainer.get_hintType()===Kepler.Framework.UI.Metro_Ui_Controls.EAppHintType.splitteR_ACTION_HINT||this._oAppContainer.get_hintType()===Kepler.Framework.UI.Metro_Ui_Controls.EAppHintType.clicK_ACTION_HINT)){return;}if(this.$2_2&&Kepler.Engine.UI.Controls.Control.get_getGestureTouchCount()>1){this.$2_1A();}},onLButtonDown:function(mouseEventArgs){Kepler.Desktop.UI.ExitGestureManagerBase.callBaseMethod(this, 'onLButtonDown',[mouseEventArgs]);if(this.isMultiTouchEvent(mouseEventArgs)){return;}if((Kepler.Desktop.DesktopApp.get_desktop().get_isShowMe()||Kepler.Desktop.DesktopApp.get_desktop().get_isTutorial())&&(this._oAppContainer.get_hintType()===Kepler.Framework.UI.Metro_Ui_Controls.EAppHintType.splitteR_ACTION_HINT||this._oAppContainer.get_hintType()===Kepler.Framework.UI.Metro_Ui_Controls.EAppHintType.clicK_ACTION_HINT)){return;}this.$2_0=Kepler.Engine.UI.Controls.Control.getClientPointFromEventArgs(mouseEventArgs);var $0=this._oApp.get_clientPosition();var $1=this.$2_0.get_x()-$0.get_x();this.$2_0.set_x(($0.get_x()+($1*0.4)));this.$2_19();},onMouseMove:function(mouseEventArgs){Kepler.Desktop.UI.ExitGestureManagerBase.callBaseMethod(this, 'onMouseMove',[mouseEventArgs]);if(this.getCapture()===this){if(mouseEventArgs.get_categoryType()===Kepler.Framework.UI.Events.EventArgsNs.EventCategoryType.touch){(mouseEventArgs).set_blockRightClick(true);}var $0=Kepler.Engine.UI.Controls.Control.getClientPointFromEventArgs(mouseEventArgs);this.$2_1D($0);}},onLButtonUp:function(mouseEventArgs){Kepler.Desktop.UI.ExitGestureManagerBase.callBaseMethod(this, 'onLButtonUp',[mouseEventArgs]);if(this.isMultiTouchEvent(mouseEventArgs)){return;}if((Kepler.Desktop.DesktopApp.get_desktop().get_isShowMe()||Kepler.Desktop.DesktopApp.get_desktop().get_isTutorial())&&(this._oAppContainer.get_hintType()===Kepler.Framework.UI.Metro_Ui_Controls.EAppHintType.splitteR_ACTION_HINT||this._oAppContainer.get_hintType()===Kepler.Framework.UI.Metro_Ui_Controls.EAppHintType.clicK_ACTION_HINT)){return;}this.$2_1A();},onParentResized:function(szParent){Kepler.Desktop.UI.ExitGestureManagerBase.callBaseMethod(this, 'onParentResized',[szParent]);this.set_width(szParent.get_width());},dispose:function(){Kepler.Desktop.UI.ExitGestureManagerBase.callBaseMethod(this, 'dispose');this._oApp=null;this._oAppContainer=null;this.$2_0=null;this.$2_3=null;this._rcClientRectOfParentContainer=null;this._ptPosOfAppBeforeDragStart=null;if(this._lstTransform!=null){this._lstTransform.clear();}this._lstTransform=null;this.$2_B=null;},$2_19:function(){this.setCapture();this.$2_2=true;this.$2_5=Kepler.Framework.UI.Metro_Ui_Controls.EAppDragging.movE_NORMAL;Kepler.Desktop.UI.ExitGestureManagerBase.$2_12.show(true);Kepler.Engine.UI.Helper.HtmlCssHelper.setElementTransformOrigin(this._oApp.get_element(),'0px 0px');var $0=Kepler.Desktop.DesktopApp.get_desktop().get_engine().getDesktopFrameRect();Kepler.Desktop.UI.ExitGestureManagerBase.$2_12.set_position(new Kepler.Framework.UI.Point(0,0));Kepler.Desktop.UI.ExitGestureManagerBase.$2_12.set_size($0.get_size());this.setAppShouldHandleParentResize(false);var $1=this.getParentControl();var $2=$1.get_clientPosition();$1.remove(this._oApp);Kepler.Desktop.UI.ExitGestureManagerBase.$2_12.add(this._oApp);this.$2_13=true;this.$2_E=false;this.$2_11=this._oAppContainer.checkIfTwoSideBySideAppsPresent();this.appDraggingStarted();this._ptPosOfAppBeforeDragStart=this._oApp.get_position();this.removeCssClass('cursor_metro_app_closing_hand_normal');this._oAppContainer.addCssClass('cursor_metro_app_closing_hand_pressed');Kepler.Engine.UI.UIManager.setCursor('metro_app_closing_hand_pressed.cur');if(Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){this._iStartMoveTopThreshold=this.get_height()+10;}else{this._iStartMoveTopThreshold=10;}this.$2_4=this.get_height();this.set_height(this._oApp.get_height());this._rcClientRectOfParentContainer=Kepler.Desktop.UI.ExitGestureManagerBase.$2_12.get_clientRect();var $3=new Kepler.Framework.UI.Point($2.get_x()-this._rcClientRectOfParentContainer.get_left(),$2.get_y()-this._rcClientRectOfParentContainer.get_top());this._oApp.set_position($3);this._iStartCloseTopThreshold=(this._rcClientRectOfParentContainer.get_height()-(this._oApp.get_height()*0.24/2));this._iSnapToLeftThreshold=this._rcClientRectOfParentContainer.get_width()/4;this._iSnapToRightThreshold=this._rcClientRectOfParentContainer.get_width()-this._iSnapToLeftThreshold;this.$2_10=parseInt((this._rcClientRectOfParentContainer.get_height()/8));this.removeHintArrowElement();},$2_1A:function(){var $0=false;if(this._oAppContainer!=null){this._oAppContainer.$3_30(this.$2_5);}this.addCssClass('cursor_metro_app_closing_hand_normal');this._oAppContainer.removeCssClass('cursor_metro_app_closing_hand_pressed');Kepler.Engine.UI.UIManager.resetCursor();if(this.$2_7){this.$2_15=true;this.$2_1B();}else{this.setAppShouldHandleParentResize(true);this.$2_C=true;}this.releaseCapture();this.set_height(this.$2_4);if(this._oAppContainer!=null){this.$2_14=true;$0=this._oAppContainer.$3_2E();this.$2_14=false;}this.$2_E=false;if($0){this.$2_14=true;if(this.$2_13){}}else{if(this.$2_2){this.$2_2=false;this.$2_22();}if(this.$2_15&&this.$2_13){this.$2_1B();}}if(this.$2_2){this.$2_2=false;}},$2_1B:function(){var $0=this.getParentControl();Kepler.Desktop.UI.ExitGestureManagerBase.$2_12.remove(this._oApp);$0.add(this._oApp);Kepler.Desktop.UI.ExitGestureManagerBase.$2_12.show(false);this.$2_13=false;this.$2_15=false;this._oApp.set_position(this._ptPosOfAppBeforeDragStart);this.setAppShouldHandleParentResize(true);this.appHandleOnParentResize();},$2_1C:function($p0){var $0=Math.max($p0.get_x(),0);var $1=Math.max($p0.get_y(),0);var $2=new Kepler.Framework.UI.Point($0-this.$2_0.get_x(),$1-this.$2_0.get_y());return $2;},$2_1D:function($p0){var $0=false;this.$2_3=this.$2_1C($p0);if(!this.$2_6||this.$2_7||this.$2_F){var $1=(this.$2_F)?this.$2_10:this._iStartMoveTopThreshold;if(this.$2_3.get_y()>$1&&this.$2_3.get_y()<=this._iStartCloseTopThreshold){this.$2_8=0.4;this.$2_A=(this._rcClientRectOfParentContainer.get_height()-(this._oApp.get_height()*this.$2_8))/2;this.$2_10=parseInt((this._rcClientRectOfParentContainer.get_height()/8));this.$2_20();this.$2_6=true;this.$2_7=false;this.$2_F=false;$0=true;}}if(this.$2_6&&(!this.$2_7)){if(this.$2_3.get_y()>this._iStartCloseTopThreshold){this.$2_8=0.24;this.$2_A=(this._rcClientRectOfParentContainer.get_height()-((this._oApp.get_height()*this.$2_8)/2));this.$2_20();this.$2_7=true;$0=true;}}if(this.$2_11&&!this.$2_E&&this.$2_3.get_y()>this.$2_10){this.$2_E=true;}if(this.$2_E&&this.$2_3.get_y()<=this.$2_10&&!this.$2_F){this.$2_8=0.55;this.$2_A=0;this.$2_20();this.$2_F=true;$0=true;}if(this.$2_6&&(!this.$2_9)&&(!$0)){this.$2_1E(this.$2_3);}},$2_1E:function($p0){var $0=this._oApp.get_position();var $1=new Kepler.Framework.UI.Point($p0.get_x(),this.$2_A);if(Kepler.Framework.Core.Browser.BrowserCapabilities.isTouchDevice()){this.$2_24($1);}var $2=new Kepler.Framework.UI.Point($1.get_x(),$1.get_y());$2.set_x(parseInt(($2.get_x()/this.$2_8)));$2.set_y(parseInt(($2.get_y()/this.$2_8)));this._lstTransform[1]=new ss.StringBuilder(' translate(').append($2.get_x()).append('px,').append($2.get_y()).append('px)').toString();Kepler.Engine.UI.Helper.HtmlCssHelper.setElementTransform(this._oApp.get_element(),this._lstTransform.join(''));var $3=new Kepler.Framework.UI.Point($p0.get_x()+this.$2_0.get_x(),$p0.get_y()+this.$2_0.get_y());this.$2_1F($3);},$2_1F:function($p0){if(this._oAppContainer==null){return;}var $0=Kepler.Framework.UI.Metro_Ui_Controls.EAppDragging.movE_NORMAL;if(this.$2_7){$0=Kepler.Framework.UI.Metro_Ui_Controls.EAppDragging.CLOSE;}else if($p0.get_y()<this.$2_10&&this.$2_E){$0=Kepler.Framework.UI.Metro_Ui_Controls.EAppDragging.movE_FULLSCREEN;}else if($p0.get_x()<this._iSnapToLeftThreshold){$0=Kepler.Framework.UI.Metro_Ui_Controls.EAppDragging.movE_LEFT;}else if($p0.get_x()>this._iSnapToRightThreshold){$0=Kepler.Framework.UI.Metro_Ui_Controls.EAppDragging.movE_RIGHT;}if($0!==this.$2_5){this.$2_5=$0;this._oAppContainer.$3_34(this.$2_5);}},$2_20:function(){this.$2_1.set_x((this.$2_0.get_x()*this.$2_8));this.$2_1.set_y((this.$2_0.get_y()*this.$2_8));this.$2_23();this._lstTransform[0]=new ss.StringBuilder(' scale(').append(this.$2_8).append(')').toString();this.$2_1E(this.$2_3);},$2_21:function(){this.$2_8=1;Kepler.Engine.UI.Helper.HtmlCssHelper.remvoeAllTransition(this._oApp.get_element());this._lstTransform[0]=null;Kepler.Engine.UI.Helper.HtmlCssHelper.setElementTransform(this._oApp.get_element(),this._lstTransform.join(''));},$2_22:function(){var $0=(!this.$2_7);if(this.$2_6||this.$2_7){this.$2_21();this.$2_6=false;this.$2_7=false;}if(!this.$2_6){if(ss.isNullOrUndefined(this._lstTransform[1])&&ss.isNullOrUndefined(this._lstTransform[1])){this.$2_15=true;return;}if($0){this.$2_23();}this._lstTransform[1]=null;Kepler.Engine.UI.Helper.HtmlCssHelper.setElementTransform(this._oApp.get_element(),this._lstTransform.join(''));}},$2_23:function(){if(this.$2_9){this.removeTransformTransition();}var $0=this._oApp.get_element();Kepler.Engine.UI.Helper.HtmlCssHelper.applyTransition($0,'-webkit-transform','0.3s');Kepler.Engine.UI.Helper.HtmlCssHelper.applyTransition($0,'-ms-transform','0.3s');Kepler.Engine.UI.Helper.HtmlCssHelper.applyTransition($0,'MozTransform','0.3s');Kepler.Engine.UI.Helper.HtmlCssHelper.applyTransition($0,'-o-transform','0.3s');Kepler.Engine.UI.Helper.HtmlCssHelper.applyTransition($0,'transform','0.3s');this.$2_9=true;$0.addEventListener('webkitTransitionEnd',this.$2_B,false);$0.addEventListener('oTransitionEnd',this.$2_B,false);$0.addEventListener('transitionend',this.$2_B,false);$0.addEventListener('MSTransitionEnd',this.$2_B,false);},removeTransformTransition:function(){if(!this.$2_9){return;}var $0=this._oApp.get_element();Kepler.Engine.UI.Helper.HtmlCssHelper.remvoeAllTransition($0);this.$2_9=false;$0.removeEventListener('webkitTransitionEnd',this.$2_B,false);$0.removeEventListener('oTransitionEnd',this.$2_B,false);$0.removeEventListener('transitionend',this.$2_B,false);$0.removeEventListener('MSTransitionEnd',this.$2_B,false);if(this.$2_2){this.$2_1E(this.$2_3);}},onTransitionEnd:function(e){this.removeTransformTransition();if(this.$2_13&&!this.$2_2){var $0=this.getParentControl();Kepler.Desktop.UI.ExitGestureManagerBase.$2_12.remove(this._oApp);$0.add(this._oApp);Kepler.Desktop.UI.ExitGestureManagerBase.$2_12.show(false);this.$2_13=false;}if(this.$2_C){this.$2_C=false;this._oApp.set_position(this._ptPosOfAppBeforeDragStart);this.setAppShouldHandleParentResize(true);this.appHandleOnParentResize();}},$2_24:function($p0){var $0=this.getParentContainerRect();var $1=100;if($p0.get_x()+this._oApp.get_width()<=$1){$p0.set_x($1-this._oApp.get_width());}else if($0!=null&&$p0.get_x()>=$0.get_right()-$1){$p0.set_x($0.get_right()-$1);}if($p0.get_y()<0){$p0.set_y(0);}else if($0!=null&&$p0.get_y()>=$0.get_bottom()-$1){$p0.set_y($0.get_bottom()-$1);}},addHintArrowElement:function(){if(this._oApp!=null){this.$2_D.style.left=((this._oApp.get_width()/2)-40)+'px';this._oApp.get_element().appendChild(this.$2_D);}},removeHintArrowElement:function(){var $0=this._oApp.get_element();if($0.contains(this.$2_D)){$0.removeChild(this.$2_D);}}}
Kepler.Desktop.UI.MetroAppDialogExitGestureManager=function(oParentDialog,oParentDialogContainer,oAppContainer){Kepler.Desktop.UI.MetroAppDialogExitGestureManager.initializeBase(this,[oParentDialog,oAppContainer]);this._oParentDialogContainer=oParentDialogContainer;}
Kepler.Desktop.UI.MetroAppDialogExitGestureManager.prototype={_oParentDialogContainer:null,dispose:function(){Kepler.Desktop.UI.MetroAppDialogExitGestureManager.callBaseMethod(this, 'dispose');this._oApp=null;},appDraggingStarted:function(){if(this._oAppContainer!=null){this._oAppContainer.$3_2D(this._oParentDialogContainer);}(this._oApp).exitGestureManagerDraggingStarted();},getParentContainerRect:function(){if(ss.isValue(this._oParentDialogContainer)){return new Kepler.Framework.UI.Rect(this._oParentDialogContainer.get_left(),this._oParentDialogContainer.get_top(),this._oParentDialogContainer.get_width(),this._oParentDialogContainer.get_height());}return null;},getParentControl:function(){return this._oParentDialogContainer;},setAppShouldHandleParentResize:function(bHandle){if(bHandle){(this._oApp).allowHandleParentResize();}else{(this._oApp).dontHandleParentResize();}},appHandleOnParentResize:function(){(this._oApp).handleOnParentResize(this._oApp.get_parent().get_size());}}
Kepler.Desktop.UI.WinDesktop=function(){Kepler.Desktop.UI.WinDesktop.initializeBase(this,['div',Kepler.Engine.UI.Controls.Control.csS_CLASS_POSITION_ABSOLUTE,'win_desktop']);this.get_elementStyle().backgroundColor='lightblue';this.get_elementStyle().overflow='hidden';this.set_showHideProperty(Kepler.Framework.UI.ShowHideProperty.display);this.$3_0=new Kepler.Desktop.UI.WinDesktopContainer(this);this.$3_2=this.$3_0.get_positionAndSizeOverrideHandler();this.$3_3=this.get_element().ownerDocument.createElement('style');this.$3_4=false;this.$3_6={};this.$3_7=true;}
Kepler.Desktop.UI.WinDesktop.prototype={get_communicationData:function(){return new Kepler.Engine.UI.AppPaneCommunication(1010300,1020300,1030300);},$3_0:null,get_$3_1:function(){return this.$3_0;},$3_2:null,get_positionAndSizeOverrideHandler:function(){return this.$3_2;},$3_3:null,$3_4:false,get_$3_5:function(){if(!this.$3_4){this.$3_4=Kepler.Engine.UI.Helper.HtmlCssHelper.appendChildInHead(this.get_element(),this.$3_3);}return (this.$3_4)?this.$3_3:null;},$3_6:null,_oExitGestureManager:null,get_exitGestureManager:function(){return this._oExitGestureManager;},set_exitGestureManager:function(value){this._oExitGestureManager=value;return value;},$3_7:false,$3_8:null,$3_9:null,onLoad:function(){Kepler.Desktop.UI.WinDesktop.callBaseMethod(this, 'onLoad');this.$3_A();this.$3_B();},$3_A:function(){},$3_B:function(){this.attachMessage(Kepler.Framework.UI.Metro_Ui_Controls.WindowsMessages.msG_GET_DESKTOP_WALL,ss.Delegate.create(this,this.$3_E));},onSize:function(){Kepler.Desktop.UI.WinDesktop.callBaseMethod(this, 'onSize');var $0=this.get_height();var $1=this.get_width();if(this.$3_9!=null){$0=$0-this.$3_9.getTaskbarHeight();this.$3_9.setTop($0);this.$3_9.setWidth($1);}if(this.$3_8!=null){this.$3_8.setSize(new Kepler.Framework.UI.Size($1,$0));}},onParentResized:function(szParent){Kepler.Desktop.UI.WinDesktop.callBaseMethod(this, 'onParentResized',[szParent]);this.handleOnParentResize(szParent);},dontHandleParentResize:function(){this.$3_7=false;},allowHandleParentResize:function(){this.$3_7=true;},handleOnParentResize:function(szParent){if(!this.$3_7){return;}this.set_size(szParent);},show:function(bShow,bForceVisible){this.$3_0.show(bShow,bForceVisible);Kepler.Desktop.UI.WinDesktop.callBaseMethod(this, 'show',[bShow,bForceVisible]);},$3_C:function($p0){Object.clearKeys(this.$3_6);this.$3_11();this.$3_13();if(this.$3_8!=null){this.$3_6['desktop_icon_frame_styles']=$p0['desktop_icon_frame_styles'];this.$3_10($p0);}if(this.$3_9!=null){var $0=$p0['win_desktop_position_and_size'];this.$3_2.setOverride($0);var $1=$p0['taskbarinfo'];this.$3_12($1);var $2=$p0['winbuttonoverride'];this.$3_9.setWinBtnOverrides($2);if(Object.keyExists($p0,'taskbarmenuoverride')){var $5=$p0['taskbarmenuoverride'];this.$3_9.setMenuOverrideData($5);}var $3=$p0['taskbaraction'];this.$3_9.setActionData($3);var $4=$p0['winbuttonaction'];this.$3_9.setWinBtnActionInfo($4);}if(this.get_$3_5()!=null){var $6=[];var $7=Object.keys(this.$3_6);var $enum1=ss.IEnumerator.getEnumerator($7);while($enum1.moveNext()){var $8=$enum1.current;$6.add(this.$3_6[$8]);}Kepler.Engine.UI.Helper.HtmlCssHelper.alterInStyleElement(this.get_$3_5(),$6.join('\n'));}if(this._oExitGestureManager!=null){this._oExitGestureManager.sendMessage(Kepler.Engine.UI.DialogBase.msG_DIALOG_POS_OVERRIDE_RECIVED,null,this);}},$3_D:function($p0,$p1){if(this.$3_8!=null&&!$p0){$p0++;}return this.insert($p0,$p1);},removeApplication:function(oAppFrame){return this.remove(oAppFrame);},addDialogManager:function(oDialogMngr){return this.add(oDialogMngr);},getWinDesktopRect:function(bIncludingTaskbar){var $0=new Kepler.Framework.UI.Rect(this.$3_0.get_left(),this.$3_0.get_top(),this.$3_0.get_width(),this.$3_0.get_height());if(this.$3_9!=null){if(ss.isNullOrUndefined(bIncludingTaskbar)){bIncludingTaskbar=false;}if(!bIncludingTaskbar){$0.set_height($0.get_height()-this.$3_9.getTaskbarHeight());}}return $0;},$3_E:function($p0,$p1){if(this.$3_8!=null){return this.$3_8.getDesktopWall();}return null;},$3_F:function($p0){var $0=false;if($p0===Kepler.Framework.UI.Metro_Ui_Controls.FocusTarget.desktopWall||$p0===Kepler.Framework.UI.Metro_Ui_Controls.FocusTarget.taskbar){$0=true;}return $0;},$3_10:function($p0){if(this.$3_8!=null){this.$3_8.setData($p0);var $0=this.get_size().clone();if(this.$3_9!=null){$0.set_height($0.get_height()-this.$3_9.getTaskbarHeight());}this.$3_8.setSize($0);}},$3_11:function(){if(this.$3_8==null){var $0=Kepler.Engine.Core.EngineApp.get_engine().getModule('win8applauncher');if($0!=null){var $1=new Desktop.Core.DesktopWallCommunicator(Kepler.Desktop.DesktopApp.get_desktop());this.$3_8=$0.createDesktopWallManager(this,$1);}}},$3_12:function($p0){if(this.$3_9!=null){this.$3_9.setData($p0);var $0=this.get_height()-this.$3_9.getTaskbarHeight();this.$3_9.setTop($0);this.$3_9.setWidth(this.get_width());this.$3_9.onSize();}},$3_13:function(){if(this.$3_9==null&&Kepler.Engine.Core.EngineApp.get_engine().get_taskMaster().get_isShowTaskbar()){var $0=Kepler.Engine.Core.EngineApp.get_engine().getModule('wintaskbar');if($0!=null){var $1=new Desktop.Core.TaskbarCommunicator(Kepler.Desktop.DesktopApp.get_desktop());this.$3_9=$0.createTaskbarManager(this,$1);Kepler.Engine.UI.DesktopWnd.get_instance().onSize();}}}}
Kepler.Desktop.UI.WinDesktopContainer=function(oDesktop){Kepler.Desktop.UI.WinDesktopContainer.initializeBase(this,['div',Kepler.Engine.UI.Controls.Control.csS_CLASS_POSITION_ABSOLUTE,'win_desktop_container']);this.get_elementStyle().overflow='hidden';this.set_showHideProperty(Kepler.Framework.UI.ShowHideProperty.display);this.$3_1=oDesktop;this.$3_0=new Kepler.Engine.UI.Helper.PositionAndSizeOverrideHelper(this);this.$3_0.set_resetPositionDuringSizeToParentOnOverrideFail(true);}
Kepler.Desktop.UI.WinDesktopContainer.prototype={$3_0:null,get_positionAndSizeOverrideHandler:function(){return this.$3_0;},$3_1:null,onLoad:function(){Kepler.Desktop.UI.WinDesktopContainer.callBaseMethod(this, 'onLoad');this.add(this.$3_1);},onSize:function(){Kepler.Desktop.UI.WinDesktopContainer.callBaseMethod(this, 'onSize');}}
Type.registerNamespace('Kepler.Desktop');Kepler.Desktop.DesktopApp=function(){Kepler.Desktop.DesktopApp.initializeBase(this,['desktop',false,false]);}
Kepler.Desktop.DesktopApp.get_desktop=function(){return Kepler.Desktop.DesktopApp.$4_0;}
Kepler.Desktop.DesktopApp.$4_1=function(){Kepler.Desktop.DesktopApp.$4_0=new Kepler.Desktop.DesktopApp();Kepler.Desktop.DesktopApp.$4_0.init();}
Kepler.Desktop.DesktopApp.prototype={register:function(){this.sendMessageToEngine(Kepler.Engine.Messages.eON_REGISTER_DESKTOP,this._strAppName,this);},init:function(){Kepler.Desktop.DesktopApp.callBaseMethod(this, 'init');this.attachMessage('msg_desktop_perform_engine_action',ss.Delegate.create(this,this.$4_2));},$4_2:function($p0,$p1){if(Kepler.Desktop.DesktopApp.get_desktop().get_isShowMe()){return null;}if(Type.canCast($p0,Kepler.Framework.UI.Metro_Ui_Controls.EngineAction)){var $0=$p0;var $1=new Kepler.Engine.Core.ENLITE_FRAME_ACTIONS();$1.addActionString($0.get_actionString());if($0.get_isCorrect()){$1.universalJump($0.get_frameToJump().toString().padLeft(4,'0'));}else{$1.shouldNotJump();}Kepler.Desktop.DesktopApp.get_desktop().sendMessageToEngine(Kepler.Engine.Messages.eON_ENGINE_ACTION,$0.get_isCorrect(),$1);}return null;},getAppFrame:function(){if(ss.isNullOrUndefined(this._oAppFrame)){this._oAppFrame=new Kepler.Desktop.UI.Desktop$1(this);}return this._oAppFrame;},getDefaultCSS:function(){var $0=[];return $0;},insertApplication:function(iIndex,oAppFrame){var $0=this.getAppView();if($0!=null){return $0.$5_D(iIndex,oAppFrame);}return false;},removeApplication:function(oAppFrame){var $0=this.getAppView();if($0!=null){return $0.removeApplication(oAppFrame);}return false;},getWinDesktopRect:function(bIncludingTaskbar){var $0=this.getAppView();if($0!=null){return $0.getWinDesktopRect(bIncludingTaskbar);}return null;},insertMetroApplication:function(iIndex,oDialogBase){var $0=this.getAppView();if($0!=null){return $0.$5_E(iIndex,oDialogBase);}return false;},removeMetroApplication:function(oDialogBase){var $0=this.getAppView();if($0!=null){return $0.removeMetroApplication(oDialogBase);}return false;},addDialogManager:function(oDialogMngr){var $0=this.getAppView();if($0!=null){return $0.addDialogManager(oDialogMngr);}return false;},showWinDesktop:function(bShow){var $0=this.getAppView();if($0!=null){$0.showWinDesktop(bShow);}},getLauncherInterface:function(){var $0=this.getAppView();return $0.getLauncherInterface();}}
Type.registerNamespace('Desktop.UI.Helper');Desktop.UI.Helper.DesktopExitGestureManager=function(oApp,oAppContainer){Desktop.UI.Helper.DesktopExitGestureManager.initializeBase(this,[oApp,oAppContainer]);this.$2_25=oApp;this.$2_26=this.$2_25.get_$3_1();}
Desktop.UI.Helper.DesktopExitGestureManager.prototype={$2_25:null,$2_26:null,getParentContainerRect:function(){if(ss.isValue(this.$2_26)){return new Kepler.Framework.UI.Rect(this.$2_26.get_left(),this.$2_26.get_top(),this.$2_26.get_width(),this.$2_26.get_height());}return null;},appDraggingStarted:function(){if(this.$2_26!=null){this._oAppContainer.$3_2D(this.$2_26);}},getParentControl:function(){return this.$2_26;},setAppShouldHandleParentResize:function(bHandle){if(bHandle){this.$2_25.allowHandleParentResize();}else{this.$2_25.dontHandleParentResize();}},appHandleOnParentResize:function(){this.$2_25.handleOnParentResize(this.$2_26.get_size());}}
Type.registerNamespace('Desktop.UI.Menu');Desktop.UI.Menu.MenuConstants=function(){};Desktop.UI.Menu.MenuConstants.prototype = {mnU_DESKTOP_RTCLK:1,mnU_IE_FILE:40,mnU_IE_FILE_SEND:41,mnU_IE_EDIT:42,mnU_IE_VIEW:43,mnU_IE_VIEW_TOOLBARS:44,mnU_IE_VIEW_EXPLORERBARS:45,mnU_IE_VIEW_GOTO:46,mnU_IE_VIEW_ZOOM:47,mnU_IE_VIEW_TEXTSIZE:48,mnU_IE_VIEW_ENCODING:49,mnU_IE_VIEW_ENCODING_MORE:50,mnU_IE_VIEW_STYLE:51,mnU_IE_FAVORITES:52,mnU_IE_FAVORITES_FAVORITESBAR:53,mnU_IE_TOOLS:55,mnU_IE_TOOLS_POPUP_BLOCKER:56,mnU_IE_TOOLS_SMARTSCREEN_FILTER:57,mnU_IE_HELP:58,mnU_IE_SETTINGS:62,mnU_IE_SETTINGS_PRINT:63,mnU_IE_SETTINGS_FILE:64,mnU_IE_SETTINGS_ZOOM:47,mnU_IE_SETTINGS_SAFETY:66,mnU_IE_FAVORITES_PANE_ADD_TO_FAVORITES:70,mnU_IE_FAVORITES_PANE_HISTORY:71,mnU_IE_TAB_RTCLK:60,mnU_IE_NEW_TAB_RTCLK:5,mnU_IE_ALT_MNU_TAB_RTCLK:6,mnU_IE_TITLEBAR_RTCLK:67,mnU_IE_ADDRESSBAR_RTCLK:68,mnU_IE_ADDRESSBAR_INSERT_UNICODE_RTCLK:69,mnU_IE_SETTINGS_RTCLK:61,mnU_TASKBAR_BTN_RTCLK:72,mnU_TASKBAR_BTN_RTCLK_APPNAME:8201,mnU_TASKBAR_BTN_RTCLK_PIN_UNPIN:8202,mnU_TASKBAR_BTN_RTCLK_CLOSE:8203,mnU_TASKBAR_BTN_RTCLK_TASKS:8204,mnU_TASKBAR_BTN_RTCLK_PVT_BROWSING:8205,mnU_TASKBAR_BTN_RTCLK_NEW_TAB:8206,mnU_TASKBAR_BTN_RTCLK_SEP:8207,mnU_SNIPPING_NEW:33,mnU_SNIPPING_FILE:34,mnU_SNIPPING_FILE_SENDTO:35,mnU_SNIPPING_EDIT:36,mnU_SNIPPING_TOOLS:37,mnU_SNIPPING_TOOLS_PEN_OPTN:38,mnU_SNIPPING_HELP:39}
Desktop.UI.Menu.MenuConstants.registerEnum('Desktop.UI.Menu.MenuConstants',false);Desktop.UI.Menu.DeskTopMenuParser=function(strXmlFile){Desktop.UI.Menu.DeskTopMenuParser.initializeBase(this,[strXmlFile]);}
Desktop.UI.Menu.DeskTopMenuParser.prototype={parseRoleSystem:function(oParents,elmNode){if(!this.isCorrectApp(elmNode)){return;}this.parseCommonAttributes(elmNode);var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString(elmNode,'textclass');var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt(elmNode,'checkable');var $2=new Kepler.Framework.UI.Size(0,0);var $3=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString(elmNode,'imagesize');var $4=$3.split(',',2);if($4.length===2){$2=new Kepler.Framework.UI.Size(parseInt($4[0],10),parseInt($4[1],10));}var $5=new Kepler.Desktop.UI.Menu.DesktopSystemMenuItem();$5.initialise(this._iId,this._strText,this._strImgCls,this._strActionString,this._rcMouse.get_width(),this._rcMouse.get_height(),this._iMenuNo,$0,$2,$1,false);if($1>0){$5.set_checked((this._iChecked===1));}$5.set_enabled((this._iEnabled>0));$5.set_kbrdShortcut(this._strKbrdShortcut);this.setTooltip($5,elmNode);this.addItemToParent($5,oParents);},parseRoleWindows:function(oParents,elmNode){if(!this.isCorrectApp(elmNode)){return;}this.parseCommonAttributes(elmNode);var $0=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString(elmNode,'textclass');var $1=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt(elmNode,'checkable');var $2=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsInt(elmNode,'swaptextandicon');var $3=new Kepler.Framework.UI.Size(0,0);var $4=Kepler.Engine.UI.Helper.HtmlCssHelper.getElementAttributeAsString(elmNode,'imagesize');var $5=$4.split(',',2);if($5.length===2){$3=new Kepler.Framework.UI.Size(parseInt($5[0],10),parseInt($5[1],10));}var $6=new Kepler.Desktop.UI.Menu.DesktopWindowsMenuItem();$6.initialise(this._iId,this._strText,this._strImgCls,this._strActionString,this._rcMouse.get_width(),this._rcMouse.get_height(),this._iMenuNo,$0,$3,$1,!!$2);if($1>0){$6.set_checked((this._iChecked===1));}$6.set_enabled((this._iEnabled>0));$6.set_kbrdShortcut(this._strKbrdShortcut);this.setTooltip($6,elmNode);this.addItemToParent($6,oParents);}}
Type.registerNamespace('Kepler.Desktop.UI.Menu');Kepler.Desktop.UI.Menu.DesktopSystemMenuItem=function(){Kepler.Desktop.UI.Menu.DesktopSystemMenuItem.initializeBase(this);}
Kepler.Desktop.UI.Menu.DesktopSystemMenuItem.prototype={createMenuItem:function(elmMenuItem,iLeft,iTop){Kepler.Desktop.UI.Menu.DesktopSystemMenuItem.callBaseMethod(this, 'createMenuItem',[elmMenuItem,iLeft,iTop]);},setEnabledDisabledState:function(element){var $0=null;$0=Kepler.Engine.UI.Helper.HtmlCssHelper.getFirstChildElementByName(element,Kepler.Engine.UI.Menu.BaseMenuItem.texT_NAME);if(ss.isValue($0)){var $1=(this.get_enabled())?'black':'#B1B1B1';$0.style.color=$1;}if(!String.isNullOrEmpty(this._strImageStyle)||this.get_isCheckable()){$0=Kepler.Engine.UI.Helper.HtmlCssHelper.getFirstChildElementByName(element,Kepler.Engine.UI.Menu.BaseMenuItem.imG_NAME);if(ss.isValue($0)){this.disableImage($0);}}$0=Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementById(element,Kepler.Engine.UI.Menu.BaseMenuItem.submenU_ARR);if(ss.isValue($0)){this.disableImage($0);}},getBorderColor:function(){var $0='transparent';if(this._bIsCheckable){switch(this._eChekableType){case Kepler.Engine.UI.Menu.CheckableMenuTypes.none:case Kepler.Engine.UI.Menu.CheckableMenuTypes.tickChecked:default:$0='transparent';break;case Kepler.Engine.UI.Menu.CheckableMenuTypes.tickCheckedGray:$0='#808080';break;case Kepler.Engine.UI.Menu.CheckableMenuTypes.tickCheckBox:case Kepler.Engine.UI.Menu.CheckableMenuTypes.imgCheckedTheme:if(this.get_checked()){$0=Kepler.Desktop.DesktopApp.get_desktop().getAppFrame().get_themeDetails().get_colorPressed();}break;case Kepler.Engine.UI.Menu.CheckableMenuTypes.win8Radio:case Kepler.Engine.UI.Menu.CheckableMenuTypes.win8Check:case Kepler.Engine.UI.Menu.CheckableMenuTypes.sysRadio:case Kepler.Engine.UI.Menu.CheckableMenuTypes.sysCheckBox:case Kepler.Engine.UI.Menu.CheckableMenuTypes.imgCheckedDarkTheme:if(this.get_checked()){$0=Kepler.Desktop.DesktopApp.get_desktop().getAppFrame().get_themeDetails().get_colorNormalLight();}break;}}return $0;},getBkgndColor:function(){var $0='transparent';if(this.get_isCheckable()){switch(this.get_checkableType()){case Kepler.Engine.UI.Menu.CheckableMenuTypes.none:case Kepler.Engine.UI.Menu.CheckableMenuTypes.tickChecked:default:$0='transparent';break;case Kepler.Engine.UI.Menu.CheckableMenuTypes.tickCheckedGray:$0='#E3E3E3';break;case Kepler.Engine.UI.Menu.CheckableMenuTypes.tickCheckBox:case Kepler.Engine.UI.Menu.CheckableMenuTypes.imgCheckedTheme:if(this.get_checked()){$0=Kepler.Desktop.DesktopApp.get_desktop().getAppFrame().get_themeDetails().get_colorCheckedBG();}break;case Kepler.Engine.UI.Menu.CheckableMenuTypes.win8Radio:case Kepler.Engine.UI.Menu.CheckableMenuTypes.win8Check:case Kepler.Engine.UI.Menu.CheckableMenuTypes.sysRadio:case Kepler.Engine.UI.Menu.CheckableMenuTypes.sysCheckBox:case Kepler.Engine.UI.Menu.CheckableMenuTypes.imgCheckedDarkTheme:if(this.get_checked()){$0=(this._eToState===Kepler.Framework.UI.Controls.EItemState.eNormal)?Kepler.Desktop.DesktopApp.get_desktop().getAppFrame().get_themeDetails().get_colorPressed():Kepler.Desktop.DesktopApp.get_desktop().getAppFrame().get_themeDetails().get_colorHover();}break;}}return $0;}}
Kepler.Desktop.UI.Menu.DesktopWindowsMenuItem=function(){Kepler.Desktop.UI.Menu.DesktopWindowsMenuItem.initializeBase(this);}
Kepler.Desktop.UI.Menu.DesktopWindowsMenuItem.prototype={setEnabledDisabledState:function(element){var $0=null;$0=Kepler.Engine.UI.Helper.HtmlCssHelper.getFirstChildElementByName(element,Kepler.Engine.UI.Menu.BaseMenuItem.texT_NAME);if(ss.isValue($0)){var $1=(this.get_enabled())?'black':'#B1B1B1';$0.style.color=$1;}if(!String.isNullOrEmpty(this._strImageStyle)||this.get_isCheckable()){$0=Kepler.Engine.UI.Helper.HtmlCssHelper.getFirstChildElementByName(element,Kepler.Engine.UI.Menu.BaseMenuItem.imG_NAME);if(ss.isValue($0)){this.disableImage($0);}}$0=Kepler.Engine.UI.Helper.HtmlCssHelper.getChildElementById(element,Kepler.Engine.UI.Menu.BaseMenuItem.submenU_ARR);if(ss.isValue($0)){this.disableImage($0);}},getBorderColor:function(){var $0='transparent';if(this._bIsCheckable){switch(this._eChekableType){case Kepler.Engine.UI.Menu.CheckableMenuTypes.none:case Kepler.Engine.UI.Menu.CheckableMenuTypes.tickChecked:default:$0='transparent';break;case Kepler.Engine.UI.Menu.CheckableMenuTypes.tickCheckedGray:$0='#808080';break;case Kepler.Engine.UI.Menu.CheckableMenuTypes.tickCheckBox:case Kepler.Engine.UI.Menu.CheckableMenuTypes.imgCheckedTheme:if(this.get_checked()){$0=Kepler.Desktop.DesktopApp.get_desktop().getAppFrame().get_themeDetails().get_colorPressed();}break;case Kepler.Engine.UI.Menu.CheckableMenuTypes.win8Radio:case Kepler.Engine.UI.Menu.CheckableMenuTypes.sysRadio:case Kepler.Engine.UI.Menu.CheckableMenuTypes.sysCheckBox:case Kepler.Engine.UI.Menu.CheckableMenuTypes.imgCheckedDarkTheme:if(this.get_checked()){$0=Kepler.Desktop.DesktopApp.get_desktop().getAppFrame().get_themeDetails().get_colorNormalLight();}break;}}return $0;},getBkgndColor:function(){var $0='transparent';if(this.get_isCheckable()){switch(this.get_checkableType()){case Kepler.Engine.UI.Menu.CheckableMenuTypes.none:case Kepler.Engine.UI.Menu.CheckableMenuTypes.tickChecked:default:$0='transparent';break;case Kepler.Engine.UI.Menu.CheckableMenuTypes.tickCheckedGray:$0='#E3E3E3';break;case Kepler.Engine.UI.Menu.CheckableMenuTypes.tickCheckBox:case Kepler.Engine.UI.Menu.CheckableMenuTypes.imgCheckedTheme:if(this.get_checked()){$0=Kepler.Desktop.DesktopApp.get_desktop().getAppFrame().get_themeDetails().get_colorCheckedBG();}break;case Kepler.Engine.UI.Menu.CheckableMenuTypes.win8Radio:case Kepler.Engine.UI.Menu.CheckableMenuTypes.sysRadio:case Kepler.Engine.UI.Menu.CheckableMenuTypes.sysCheckBox:case Kepler.Engine.UI.Menu.CheckableMenuTypes.imgCheckedDarkTheme:if(this.get_checked()){$0=(this._eToState===Kepler.Framework.UI.Controls.EItemState.eNormal)?Kepler.Desktop.DesktopApp.get_desktop().getAppFrame().get_themeDetails().get_colorPressed():Kepler.Desktop.DesktopApp.get_desktop().getAppFrame().get_themeDetails().get_colorHover();}break;}}return $0;}}
Kepler.Desktop.UI.Menu.Desktop$0=function(oAppFrame){Kepler.Desktop.UI.Menu.Desktop$0.initializeBase(this,[oAppFrame]);}
Kepler.Desktop.UI.Menu.Desktop$0.prototype={createParsers:function($p0){if((Kepler.Engine.UI.BaseAppFrame).isInstanceOfType($p0)){var $0=$p0;var $1=Kepler.Engine.Core.EngineApp.get_engine().get_commonResourcePath()+Kepler.Engine.UI.Menu.BaseMenuManager.menU_AUTOMATION_FILENAME;this._oCommonMenuParser=new Desktop.UI.Menu.DeskTopMenuParser($1);$1=$0.get_resourcePath()+Kepler.Engine.UI.Menu.BaseMenuManager.menU_AUTOMATION_FILENAME;this._oMenuParser=new Desktop.UI.Menu.DeskTopMenuParser($1);}}}
Desktop.Core.AppSplitterCommunicator.registerClass('Desktop.Core.AppSplitterCommunicator',Kepler.Engine.Core.Modules.ModuleComm,Kepler.Win8AppLauncher.Contracts.Core.IAppSplitterCommunicator);Desktop.Core.AppLauncherCommunicator.registerClass('Desktop.Core.AppLauncherCommunicator',Kepler.Engine.Core.Modules.ModuleComm,Kepler.Win8AppLauncher.Contracts.Core.IAppLauncherCommunicator);Desktop.Core.DesktopWallCommunicator.registerClass('Desktop.Core.DesktopWallCommunicator',Kepler.Engine.Core.Modules.ModuleComm,Kepler.Win8AppLauncher.Contracts.Core.IDesktopWallCommunicator);Desktop.Core.TaskbarCommunicator.registerClass('Desktop.Core.TaskbarCommunicator',Kepler.Engine.Core.Modules.ModuleComm,Kepler.Win8AppLauncher.Contracts.Core.ITaskbarCommunicator);Kepler.Desktop.UI.AppContainer.registerClass('Kepler.Desktop.UI.AppContainer',Kepler.Engine.UI.Controls.ContainerControl);Kepler.Desktop.UI.Desktop$1.registerClass('Kepler.Desktop.UI.Desktop$1',Kepler.Engine.UI.BaseAppFrame);Kepler.Desktop.UI.AppView.registerClass('Kepler.Desktop.UI.AppView',Kepler.Engine.UI.BaseAppView);Kepler.Desktop.UI.AppDraggingContainer.registerClass('Kepler.Desktop.UI.AppDraggingContainer',Kepler.Engine.UI.Controls.ContainerControl);Kepler.Desktop.UI.ExitGestureManagerBase.registerClass('Kepler.Desktop.UI.ExitGestureManagerBase',Kepler.Engine.UI.Controls.Control);Kepler.Desktop.UI.MetroAppDialogExitGestureManager.registerClass('Kepler.Desktop.UI.MetroAppDialogExitGestureManager',Kepler.Desktop.UI.ExitGestureManagerBase);Kepler.Desktop.UI.WinDesktop.registerClass('Kepler.Desktop.UI.WinDesktop',Kepler.Engine.UI.Controls.ContainerControl);Kepler.Desktop.UI.WinDesktopContainer.registerClass('Kepler.Desktop.UI.WinDesktopContainer',Kepler.Engine.UI.Controls.ContainerControl);Kepler.Desktop.DesktopApp.registerClass('Kepler.Desktop.DesktopApp',Kepler.Engine.Core.MainApp,Kepler.Engine.Core.IDesktopApp,Kepler.Engine.Core.IDesktopApp);Desktop.UI.Helper.DesktopExitGestureManager.registerClass('Desktop.UI.Helper.DesktopExitGestureManager',Kepler.Desktop.UI.ExitGestureManagerBase);Desktop.UI.Menu.DeskTopMenuParser.registerClass('Desktop.UI.Menu.DeskTopMenuParser',Kepler.Engine.UI.Menu.MenuParser);Kepler.Desktop.UI.Menu.DesktopSystemMenuItem.registerClass('Kepler.Desktop.UI.Menu.DesktopSystemMenuItem',Kepler.Engine.UI.Menu.SystemMenuItem);Kepler.Desktop.UI.Menu.DesktopWindowsMenuItem.registerClass('Kepler.Desktop.UI.Menu.DesktopWindowsMenuItem',Kepler.Engine.UI.Menu.WindowsMenuItem);Kepler.Desktop.UI.Menu.Desktop$0.registerClass('Kepler.Desktop.UI.Menu.Desktop$0',Kepler.Engine.UI.Menu.BaseMenuManager);Kepler.Desktop.UI.AppContainer.msG_START_SCREEN_ACTION='start_screen_action';Kepler.Desktop.UI.AppContainer.$3_7=null;Kepler.Desktop.UI.AppView.desktoP_AUTOMATION_XML='desktop_automation.xml';Kepler.Desktop.UI.AppView.stR_CSS_RIGHTCLICK_PANE='str_css_rightclick_pane';Kepler.Desktop.UI.AppView.stR_CSS_WINDOWS_BUTTON='str_css_common windows_button str_css_windows_button';Kepler.Desktop.UI.AppView.stR_CSS_TASK_BUTTON='str_css_task_button';Kepler.Desktop.UI.AppView.msG_APPVIEW_PANES_ACTIVE='msg_appview_panes_active';Kepler.Desktop.UI.AppView.msG_APPVIEW_PANES_INACTIVE='msg_appview_panes_inactive';Kepler.Desktop.UI.AppView.msG_QUERY_CURRENT_FOCUS='msg_query_current_focus';Kepler.Desktop.UI.ExitGestureManagerBase.scalE_FACTOR_MOVING=0.4;Kepler.Desktop.UI.ExitGestureManagerBase.scalE_FACTOR_CLOSING=0.24;Kepler.Desktop.UI.ExitGestureManagerBase.scalE_FACTOR_FOR_FULL_SCREEN_SIDE_BY_SIDE=0.55;Kepler.Desktop.UI.ExitGestureManagerBase.lsT_INDX_TRANSFORM_SCALE=0;Kepler.Desktop.UI.ExitGestureManagerBase.lsT_INDX_TRANSFORM_TRANSLATE=1;Kepler.Desktop.UI.ExitGestureManagerBase.lsT_SIZE=2;Kepler.Desktop.UI.ExitGestureManagerBase.movE_START_THRESHOLD=10;Kepler.Desktop.UI.ExitGestureManagerBase.csS_CURSOR_NORMAL='cursor_metro_app_closing_hand_normal';Kepler.Desktop.UI.ExitGestureManagerBase.csS_CURSOR_PRESSED='cursor_metro_app_closing_hand_pressed';Kepler.Desktop.UI.ExitGestureManagerBase.cursoR_DRAGGING='metro_app_closing_hand_pressed.cur';Kepler.Desktop.UI.ExitGestureManagerBase.$2_12=null;Kepler.Desktop.DesktopApp.msG_PERFORM_ENGINE_ACTION='msg_desktop_perform_engine_action';Kepler.Desktop.DesktopApp.$4_0=null;(function(){Kepler.Engine.Core.BaseApp.callMeAfterBootstrap(Kepler.Desktop.DesktopApp.$4_1);})();
})();// This script was generated using Script# v0.7.4.0
